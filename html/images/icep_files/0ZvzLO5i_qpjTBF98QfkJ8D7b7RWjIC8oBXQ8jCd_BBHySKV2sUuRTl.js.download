;/*FB_PKG_DELIM*/

__d("ZenonNetworkStatus",["ZenonNetworkQualityMonitor","immutable"],(function(a,b,c,d,e,f){"use strict";a=b("ZenonNetworkQualityMonitor").ZenonNetworkQuality;c=b("immutable").Record({local:a.Good,remote:b("immutable").Map()});d=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(c);e=d;f["default"]=e}),66);
__d("ZenonRemoteNetworkQuality",["ZenonNetworkQualityMonitor","immutable"],(function(a,b,c,d,e,f){"use strict";a=b("ZenonNetworkQualityMonitor").ZenonNetworkQuality;c=b("immutable").Record({quality:a.Good,reasons:b("immutable").List()});d=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(c);e=d;f["default"]=e}),66);
__d("ZenonMediaStatsSource",[],(function(a,b,c,d,e,f){"use strict";a=["averageRtcpInterval","firCount","frameBitDepth","frameHeight","frameWidth","nackCount","packetsLost","pliCount","qpSum","remoteId","sliCount","timestamp","trackId"];b=["bytesSent","encoderImplementation","framesEncoded","framesSent","headerBytesSent","hugeFramesSent","keyFramesEncoded","lastPacketSentTimestamp","mediaSourceId","packetsSent","perDscpPacketsSent","qualityLimitationDurations","qualityLimitationReason","qualityLimitationResolutionChanges","retransmittedBytesSent","retransmittedPacketsSent","rid","senderId","targetBitrate","totalEncodedBytesTarget","totalEncodeTime","totalPacketSendDelay"];c=["audioLevel","burstDiscardCount","burstDiscardRate","burstLossCount","burstPacketsDiscarded","burstPacketsLost","bytesReceived","concealedSamples","concealmentEvents","decoderImplementation","delayedPacketOutageSamples","estimatedPlayoutTimestamp","fecPacketsDiscarded","fecPacketsReceived","fractionLost","framesDecoded","framesDropped","framesReceived","gapDiscardRate","gapLossRate","headerBytesReceived","insertedSamplesForDeceleration","jitter","jitterBufferDelay","jitterBufferEmittedCount","jitterBufferTargetDelay","keyFramesDecoded","lastPacketReceivedTimestamp","packetsDiscarded","packetsDuplicated","packetsFailedDecryption","packetsReceived","packetsRepaired","perDscpPacketsReceived","receiverId","relativePacketArrivalDelay","removedSamplesForAcceleration","roundTripTime","silentConcealedSamples","totalAudioEnergy","totalDecodeTime","totalInterFrameDelay","totalSamplesDuration","totalSamplesReceived","totalSquaredInterFrameDelay"];d=["interruptionCount","sumOfSquaredFramesDuration","totalFramesDuration","totalInterruptionDuration"];e=["availableOutgoingBitrate","consentRequestsSent","requestsReceived","requestsSent","responsesReceived","responsesSent"];var g=["audioLevel","framesPerSecond","height","totalAudioEnergy","totalSamplesDuration","width"],h=["googAccelerateRate","googCurrentDelayMs","googDecodingCNG","googDecodingCTN","googDecodingNormal","googDecodingPLC","googDecodingPLCCNG","googExpandRate","googJitterReceived","googPreemptiveExpandRate","googPreferredJitterBufferMs","googSecondaryDiscardedRate","googSpeechExpandRate","packetsLost"],i=["googActualEncBitrate"],j=["googRtt"];f.RTP_STATS=a;f.OUTBOUND_RTP_STATS=b;f.INBOUND_RTP_STATS=c;f.TRACK_STATS=d;f.CANDIDATE_PAIR_STATS=e;f.MEDIA_SOURCE_STATS=g;f.SSRC_STATS=h;f.VIDEO_BWE_STATS=i;f.GOOG_CANDIDATE_PAIR_STATS=j}),66);
__d("ZenonMediaStatsSourcePreM86",[],(function(a,b,c,d,e,f){"use strict";a=["firCount","nackCount","packetsLost","pliCount","qpSum","sliCount","timestamp"];b=["audioLevel","concealedSamples","concealmentEvents","frameHeight","framesDropped","framesReceived","frameWidth","insertedSamplesForDeceleration","interruptionCount","jitterBufferDelay","jitterBufferEmittedCount","removedSamplesForAcceleration","sumOfSquaredFramesDuration","totalAudioEnergy","totalFramesDuration","totalInterruptionDuration","totalSamplesDuration","totalSamplesReceived"];c=["burstDiscardCount","burstDiscardRate","burstLossCount","burstPacketsDiscarded","burstPacketsLost","bytesReceived","decoderImplementation","delayedPacketOutageSamples","estimatedPlayoutTimestamp","fecPacketsDiscarded","fecPacketsReceived","framesDecoded","gapDiscardRate","gapLossRate","headerBytesReceived","jitter","jitterBufferTargetDelay","keyFramesDecoded","lastPacketReceivedTimestamp","packetsDiscarded","packetsReceived","packetsRepaired","relativePacketArrivalDelay","roundTripTime","totalDecodeTime","totalInterFrameDelay","totalSquaredInterFrameDelay"];d=["bytesSent","framesEncoded","framesSent","headerBytesSent","hugeFramesSent","keyFramesEncoded","packetsSent","qualityLimitationResolutionChanges","retransmittedBytesSent","retransmittedPacketsSent","targetBitrate","totalEncodedBytesTarget","totalEncodeTime","totalPacketSendDelay"];f.RTP_STATS=a;f.TRACK_STATS=b;f.INBOUND_RTP_STATS=c;f.OUTBOUND_RTP_STATS=d}),66);
__d("ZenonRenderedView",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({THUMBNAIL:1,GRID:2,PINNED:3});c=a;f["default"]=c}),66);
__d("ZenonMediaStatsConfig",["UserAgent","ZenonMediaStatsSource","ZenonMediaStatsSourcePreM86","ZenonRenderedView"],(function(a,b,c,d,e,f,g){"use strict";var h={contentType:"audio",remote:!1,trackId:"globalStatsTrackId"},i=h.trackId,j=h.contentType,k={contentType:"audio",remote:!1,trackId:"pinnedAudioStatsTrackId"},l={contentType:"video",remote:!1,trackId:"pinnedVideoStatsTrackId"},m={contentType:"audio",remote:!1,trackId:"outboundAudioStatsTrackId"},n=m.trackId,o={contentType:"screen_audio",remote:!1,trackId:"outboundScreenAudioStatsTrackId"},p=o.trackId,q={contentType:"screen",remote:!1,trackId:"outboundScreenStatsTrackId"},r=q.trackId,s={contentType:"video",remote:!1,trackId:"outboundVideoStatsTrackId"},t=s.trackId,u=0,v=6e4,w={AUDIO_DEV_IS_STALLED:"audioDevIsStalled",AUDIO_DEV_REC_STALLS:"audioDevRecStalls",AUDIO_DEV_STALL_DURATION:"audioDevStallDuration",AUDIO_DEV_TOTAL_STALLS:"audioDevTotalStalls",AUDIO_LOG_LEVEL:"audioLogLevel",AUDIO_LOG_LEVEL_COUNT:"audioLogLevelCount",AUDIO_LOUDNESS_LEVEL:"audioLoudnessLevel",AV_SYNC:"avSync",AV_SYNC_ABS:"avSyncAbs",AV_SYNC_COUNT:"avSyncCount",AV_SYNC_OOB:"avSyncOob",E2E_LATENCY:"e2eLatency",FRAME_RATE_MEAN:"framerateMean",PACKETS_LOST_CORRECTED:"packetsLostCorrected",RENDERED_VIEW:"renderedView",SIMULCAST_LAYER_CHANGES:"simulcast_layer_changes",VIDEO_CAPTURE_FRAME_COUNT:"captureFrameCount",VIDEO_CAPTURE_IS_STALLED:"videoCaptureIsStalled",VIDEO_CAPTURE_STALL_DURATION:"videoCaptureStallDuration",VIDEO_CAPTURE_TOTAL_STALLS:"videoCaptureTotalStalls",VIDEO_CONVERTED_QP_SUM:"videoConvertedQpSum",VIDEO_DECODE_IS_STALLED:"videoDecodeIsStalled",VIDEO_DECODE_STALL_DURATION:"videoDecodeStallDuration",VIDEO_DECODE_TIME:"videoDecodeTime",VIDEO_DECODE_TOTAL_STALLS:"videoDecodeTotalStalls",VIDEO_DECODED_BYTES:"videoDecodedBytes",VIDEO_ENCODE_IS_STALLED:"videoEncodeIsStalled",VIDEO_ENCODE_STALL_DURATION:"videoEncodeStallDuration",VIDEO_ENCODE_TOTAL_STALLS:"videoEncodeTotalStalls",VIDEO_FREEZE_COUNT:"videoFreezeCount",VIDEO_FREEZE_DURATION:"videoFreezeDuration",VIDEO_FREEZE_DURATION_500MS:"videoFreezeDuration500ms",VIDEO_PAUSE_COUNT:"videoPauseCount",VIDEO_PAUSE_DURATION:"videoPauseDuration",VIDEO_QP:"qp",VIDEO_RECEIVE_IS_STALLED:"videoReceiveIsStalled",VIDEO_RECEIVE_STALL_DURATION:"videoReceiveStallDuration",VIDEO_RECEIVE_TOTAL_STALLS:"videoReceiveTotalStalls",VIDEO_RECEIVER_QUALITY_SCORE:"videoReceiverQualityScore",VIDEO_SENT_IS_STALLED:"videoSentIsStalled",VIDEO_SENT_STALL_DURATION:"videoSentStallDuration",VIDEO_SENT_TOTAL_STALLS:"videoSentTotalStalls",VIDEO_SUM_CAPTURE_PIXEL:"videoSumCapturePixel",VIDEO_SUM_PIXEL:"videoSumPixel"},x={AUDIO_NETEQ_WAIT_TIME:"audioNeteqWaitTime",AUDIO_PACKET_LOSS_RATE:"audioPacketLossRate",AUDIO_PLC_CNG_RATE:"audioPlcCngRate",AUDIO_PLC_RATE:"audioPlcRate",GLOBAL_AUDIO_BITRATE:"globalAudioBitrate",GLOBAL_BATTERY_USAGE:"globalBatteryUsage",GLOBAL_CPU_USAGE:"globalCpuUsage",GLOBAL_VIDEO_BITRATE:"globalVideoBitrate",HEAP_SIZE_LIMIT:"heapSizeLimit",HEAP_TOTAL_SIZE:"heapTotalSize",HEAP_USED_SIZE:"heapUsedSize",ROUND_TRIP_TIME:"roundTripTime",VIDEO_AV_SYNC_ABS:"videoAvSyncAbs",VIDEO_AV_SYNC_OOB:"videoAvSyncOob",VIDEO_CROPPING_RATIO:"videoCroppingRatio",VIDEO_ENCODED_FRAME_RATE:"encodedFrameRate",VIDEO_FRAME_RATE:"videoFrameRate",VIDEO_FREEZE_COUNT_PER_MIN:"videoFreezeCountPerMin",VIDEO_FREEZE_DURATION_PER_MIN:"videoFreezeDurationPerMin",VIDEO_NETEQ_WAIT_TIME:"videoNeteqWaitTime",VIDEO_PACKET_LOSS_RATE:"videoPacketLossRate",VIDEO_QP:"videoQP",VIDEO_QUALITY:"videoQuality",VIDEO_RENDER_SCALE_RATIO:"videoRenderScaleRatio"},y=["bytesReceived","bytesSent","consentRequestsSent","estimatedPlayoutTimestamp","fecPacketsDiscarded","fecPacketsReceived","firCount","framesDecoded","framesEncoded","framesReceived","framesSent","googDecodingCNG","googDecodingCTN","googDecodingNormal","googDecodingPLC","googDecodingPLCCNG","insertedSamplesForDeceleration","jitterBufferDelay","jitterBufferEmittedCount","keyFramesDecoded","keyFramesEncoded","nackCount","packetsLost","packetsReceived","packetsSent","pliCount","qpSum","requestsReceived","requestsSent","removedSamplesForAcceleration","responsesReceived","responsesSent","timestamp","totalAudioEnergy","totalDecodeTime","totalEncodeTime","totalInterFrameDelay","totalPacketSendDelay","totalSamplesDuration","totalSamplesReceived","totalSquaredInterFrameDelay",w.AUDIO_LOG_LEVEL,w.AUDIO_LOG_LEVEL_COUNT,w.AUDIO_LOUDNESS_LEVEL,w.AUDIO_DEV_REC_STALLS,w.AUDIO_DEV_STALL_DURATION,w.AUDIO_DEV_TOTAL_STALLS,w.AV_SYNC_COUNT,w.AV_SYNC_OOB,w.PACKETS_LOST_CORRECTED,w.SIMULCAST_LAYER_CHANGES,w.VIDEO_CAPTURE_FRAME_COUNT,w.VIDEO_FREEZE_COUNT,w.VIDEO_FREEZE_DURATION,w.VIDEO_FREEZE_DURATION_500MS,w.VIDEO_PAUSE_COUNT,w.VIDEO_PAUSE_DURATION,w.VIDEO_SUM_CAPTURE_PIXEL,w.VIDEO_SUM_PIXEL,w.VIDEO_CONVERTED_QP_SUM,w.VIDEO_DECODED_BYTES,w.VIDEO_DECODE_TIME,w.VIDEO_CAPTURE_STALL_DURATION,w.VIDEO_CAPTURE_TOTAL_STALLS,w.VIDEO_DECODE_STALL_DURATION,w.VIDEO_DECODE_TOTAL_STALLS,w.VIDEO_ENCODE_STALL_DURATION,w.VIDEO_ENCODE_TOTAL_STALLS,w.VIDEO_RECEIVE_STALL_DURATION,w.VIDEO_RECEIVE_TOTAL_STALLS,w.VIDEO_SENT_STALL_DURATION,w.VIDEO_SENT_TOTAL_STALLS],z=["audioLevel","availableOutgoingBitrate","frameHeight","frameWidth","framesPerSecond","googAccelerateRate","googActualEncBitrate","googCurrentDelayMs","googExpandRate","googJitterReceived","googPreemptiveExpandRate","googPreferredJitterBufferMs","googRtt","googSecondaryDiscardedRate","googSpeechExpandRate","height","jitter","roundTripTime","width",w.AUDIO_DEV_IS_STALLED,w.RENDERED_VIEW,w.FRAME_RATE_MEAN,w.E2E_LATENCY,w.AV_SYNC,w.AV_SYNC_ABS,w.VIDEO_QP,w.VIDEO_CAPTURE_IS_STALLED,w.VIDEO_DECODE_IS_STALLED,w.VIDEO_ENCODE_IS_STALLED,w.VIDEO_RECEIVE_IS_STALLED,w.VIDEO_SENT_IS_STALLED,w.VIDEO_RECEIVER_QUALITY_SCORE],A=["availableOutgoingBitrate","bytesReceived","bytesSent","estimatedPlayoutTimestamp","fecPacketsDiscarded","fecPacketsReceived","firCount","frameHeight","framesDecoded","framesEncoded","framesPerSecond","framesReceived","framesSent","frameWidth","googAccelerateRate","googActualEncBitrate","googCurrentDelayMs","googDecodingCNG","googDecodingCTN","googDecodingNormal","googDecodingPLC","googDecodingPLCCNG","googExpandRate","googJitterReceived","googPreemptiveExpandRate","googRtt","googSecondaryDiscardedRate","googSpeechExpandRate","height","insertedSamplesForDeceleration","jitter","jitterBufferDelay","jitterBufferEmittedCount","nackCount","keyFramesDecoded","packetsLost","packetsReceived","packetsSent","pliCount","qpSum","removedSamplesForAcceleration","roundTripTime","totalAudioEnergy","totalDecodeTime","totalEncodeTime","totalInterFrameDelay","totalPacketSendDelay","totalSamplesDuration","totalSamplesReceived","totalSquaredInterFrameDelay","width",w.AUDIO_DEV_REC_STALLS,w.AUDIO_DEV_STALL_DURATION,w.AUDIO_DEV_TOTAL_STALLS,w.VIDEO_CAPTURE_STALL_DURATION,w.VIDEO_CAPTURE_TOTAL_STALLS,w.VIDEO_DECODE_STALL_DURATION,w.VIDEO_DECODE_TOTAL_STALLS,w.VIDEO_ENCODE_STALL_DURATION,w.VIDEO_ENCODE_TOTAL_STALLS,w.VIDEO_RECEIVE_STALL_DURATION,w.VIDEO_RECEIVE_TOTAL_STALLS,w.VIDEO_SENT_STALL_DURATION,w.VIDEO_SENT_TOTAL_STALLS,w.PACKETS_LOST_CORRECTED,w.VIDEO_CAPTURE_FRAME_COUNT,w.VIDEO_FREEZE_COUNT,w.VIDEO_FREEZE_DURATION,w.VIDEO_FREEZE_DURATION_500MS,w.VIDEO_PAUSE_COUNT,w.VIDEO_PAUSE_DURATION,w.VIDEO_SUM_CAPTURE_PIXEL,w.VIDEO_SUM_PIXEL,w.VIDEO_CONVERTED_QP_SUM,w.VIDEO_DECODED_BYTES,w.VIDEO_DECODE_TIME,w.SIMULCAST_LAYER_CHANGES,w.AUDIO_DEV_IS_STALLED,w.VIDEO_CAPTURE_IS_STALLED,w.VIDEO_DECODE_IS_STALLED,w.VIDEO_ENCODE_IS_STALLED,w.VIDEO_RECEIVE_IS_STALLED,w.VIDEO_SENT_IS_STALLED,w.FRAME_RATE_MEAN,w.E2E_LATENCY,w.AV_SYNC,w.AV_SYNC_ABS],B=["audioLevel","availableOutgoingBitrate","bytesReceived","bytesSent","estimatedPlayoutTimestamp","fecPacketsDiscarded","fecPacketsReceived","firCount","frameHeight","framerateMean","framesDecoded","framesEncoded","framesPerSecond","framesReceived","framesSent","frameWidth","googAccelerateRate","googCurrentDelayMs","googDecodingCNG","googDecodingCTN","googDecodingNormal","googDecodingPLC","googDecodingPLCCNG","googExpandRate","googJitterReceived","googPreemptiveExpandRate","googPreferredJitterBufferMs","googRtt","height","jitter","jitterBufferDelay","jitterBufferEmittedCount","keyFramesEncoded","packetsLost","packetsReceived","packetsSent","pliCount","qpSum","roundTripTime","totalAudioEnergy","totalDecodeTime","totalEncodeTime","width",w.E2E_LATENCY,w.VIDEO_QP,w.VIDEO_CAPTURE_IS_STALLED,w.VIDEO_ENCODE_IS_STALLED,w.VIDEO_SENT_IS_STALLED],C=["consentRequestsSent","estimatedPlayoutTimestamp","estimatedPlayoutTimestamp_delta","fecPacketsDiscarded","fecPacketsReceived","firCount","googDecodingCNG","googDecodingCTN","googDecodingNormal","googDecodingPLC","googDecodingPLCCNG","jitterBufferDelay_delta","jitterBufferDelay","jitterBufferEmittedCount","keyFramesEncoded","packetsLost","packetsReceived","packetsSent","pliCount","qpSum_delta","requestsReceived","requestsSent","responsesReceived","responsesSent","totalAudioEnergy"],D={audioLevel:1e4,jitter:1e3,totalAudioEnergy:1e4,totalDecodeTime:1e3,totalEncodeTime:1e3,totalSamplesDuration:1e3},E=["availableOutgoingBitrate","consentRequestsSent","requestsReceived","requestsSent","responsesReceived","responsesSent"],F=["audioLevel","packetsLost","totalAudioEnergy","totalSamplesDuration"],G=[5,50,95],H=["bandwidth","rtt"];function a(){return c("UserAgent").isBrowser("Chrome < 86")||c("UserAgent").isBrowser("Edge (Chromium Based) < 86")||c("UserAgent").isBrowser("Opera < 72")}function b(){return f.exports.isPreChromium86()?d("ZenonMediaStatsSourcePreM86").TRACK_STATS:d("ZenonMediaStatsSource").TRACK_STATS}function e(){return f.exports.isPreChromium86()?d("ZenonMediaStatsSourcePreM86").INBOUND_RTP_STATS:d("ZenonMediaStatsSource").INBOUND_RTP_STATS}function I(){return f.exports.isPreChromium86()?d("ZenonMediaStatsSourcePreM86").OUTBOUND_RTP_STATS:d("ZenonMediaStatsSource").OUTBOUND_RTP_STATS}function J(){return f.exports.isPreChromium86()?d("ZenonMediaStatsSourcePreM86").RTP_STATS:d("ZenonMediaStatsSource").RTP_STATS}function K(){return d("ZenonMediaStatsSource").CANDIDATE_PAIR_STATS}function L(){return d("ZenonMediaStatsSource").MEDIA_SOURCE_STATS}function M(){return d("ZenonMediaStatsSource").SSRC_STATS}function N(){return d("ZenonMediaStatsSource").VIDEO_BWE_STATS}function O(){return d("ZenonMediaStatsSource").GOOG_CANDIDATE_PAIR_STATS}g.GLOBAL_STATS_TRACK_INFO=h;g.GLOBAL_STATS_TRACKID=i;g.GLOBAL_STATS_CONTENT_TYPE=j;g.GLOBAL_STATS_RENDERED_VIEW=c("ZenonRenderedView").GRID;g.PINNED_AUDIO_STATS_TRACK_INFO=k;g.PINNED_VIDEO_STATS_TRACK_INFO=l;g.OUTBOUND_AUDIO_STATS_TRACK_INFO=m;g.OUTBOUND_AUDIO_STATS_TRACKID=n;g.OUTBOUND_SCREEN_AUDIO_STATS_TRACK_INFO=o;g.OUTBOUND_SCREEN_AUDIO_STATS_TRACKID=p;g.OUTBOUND_SCREEN_STATS_TRACK_INFO=q;g.OUTBOUND_SCREEN_STATS_TRACKID=r;g.OUTBOUND_VIDEO_STATS_TRACK_INFO=s;g.OUTBOUND_VIDEO_STATS_TRACKID=t;g.VOICE_ENERGY_THRESHOLD=u;g.AV_SYNC_CUTOFF=v;g.DERIVED_METRICS=w;g.PER_STREAM_AGG_METRICS=x;g.CUMULATIVE_STATS=y;g.DELTA_STATS=z;g.STATS_REQUESTED=A;g.TSLOG_STATS_REQUESTED=B;g.TSLOG_STATS_TO_SUPPRESS=C;g.TSLOG_METRIC_SCALE=D;g.TSLOG_STATS_REQUESTED_FROM_CANDIDATE_PAIR=E;g.RULE_VIOLATION_ALLOWLIST=F;g.PERCENTILES_REQUESTED=G;g.NETWORK_HEALTH_STATS=H;g.isPreChromium86=a;g.getTrackStats=b;g.getInboundRtpStats=e;g.getOutboundRtpStats=I;g.getRtpStats=J;g.getCandidatePairStats=K;g.getMediaSourceStats=L;g.getSsrcStats=M;g.getVideoBweStats=N;g.getGoogCandidatePairStats=O}),98);
__d("ZenonNetworkQualityMonitor",["$InternalEnum","UserAgent","ZenonInfraActionsLogger","ZenonMediaStatsConfig","ZenonNetworkQualityIndicatorConfigSitevarConfig","ZenonNetworkStatus","ZenonRemoteNetworkQuality","immutable"],(function(a,b,c,d,e,f,g){"use strict";var h=2,i="googActualEncBitrate";a=function(){function a(){var a;this.$3=0;this.$4=0;this.$5=0;this.$6=0;this.$7=[];this.$8=j.Good;this.$9=c("immutable").Map();this.$1=this.$15();this.$2=this.$16();this.$10=(a=c("ZenonNetworkQualityIndicatorConfigSitevarConfig").remote_poor_packet_loss_rate_threshold)!=null?a:Number.POSITIVE_INFINITY;this.$11=(a=c("ZenonNetworkQualityIndicatorConfigSitevarConfig").remote_fair_packet_loss_rate_threshold)!=null?a:Number.POSITIVE_INFINITY;this.$12=(a=c("ZenonNetworkQualityIndicatorConfigSitevarConfig").remote_jitter_threshold)!=null?a:Number.POSITIVE_INFINITY;this.$13=(a=c("ZenonNetworkQualityIndicatorConfigSitevarConfig").remote_avsync_threshold)!=null?a:Number.POSITIVE_INFINITY;this.$14=c("ZenonNetworkQualityIndicatorConfigSitevarConfig").remote_use_disconnected_check||!1;c("ZenonInfraActionsLogger").logCheckpoint({checkpoint:"ZenonNetworkQualityMonitor constructed: rtt "+this.$1+", packetLoss "+this.$2})}var b=a.prototype;b.$16=function(){var a;return(a=c("ZenonNetworkQualityIndicatorConfigSitevarConfig").packet_loss_rate_threshold)!=null?a:Number.POSITIVE_INFINITY};b.$15=function(){var a;return(a=c("ZenonNetworkQualityIndicatorConfigSitevarConfig").rtt_threshold)!=null?a:Number.POSITIVE_INFINITY};b.$17=function(a,b){if(a!=null){a=a.deltaStat[b];if(a!=null){a=(b=a.getLastAddedValue())!=null?b:0;a>this.$5&&(this.$5=a);return a>this.$1}}return!1};b.$18=function(a,b,c){a=a<0?0:a/(a+b);a>this.$6&&(this.$6=a);return a>=c};b.$19=function(a){if(a!=null){a=a.deltaStat[i];if(a!=null){this.$4=(a=a.getLastAddedValue())!=null?a:0}}};b.$20=function(a,b,c,d){if(a!=null&&c!=="packetsSent"){b=a.cumulativeStat[b];a=a.cumulativeStat[c];if(b!=null&&a!=null)return this.$18(b.getDeltaFromLastUpdate(),a.getDeltaFromLastUpdate(),d)}return!1};b.$21=function(a,b){var c=this,d=b.packetLostKey,e=b.packetsKey,f=b.rttKey;return Array.from(a.values()).some(function(a){var b=c.$20(a,d,e,c.$2);c.$19(a);return b||c.$17(a,f)})};b.getMetricKeys=function(a){return{packetLostKey:d("ZenonMediaStatsConfig").DERIVED_METRICS.PACKETS_LOST_CORRECTED,packetsKey:a?"packetsSent":"packetsReceived",rttKey:c("UserAgent").isBrowser("Chrome")||c("UserAgent").isBrowser("Opera")?"googRtt":"roundTripTime"}};b.getCount=function(){return this.$3};b.getCurrentBitrate=function(){return this.$4};b.getAvgBitrateDuringBadNetwork=function(){var a=this.$7.reduce(function(a,b){return a+b},0),b=this.$7.length;return b===0?0:a/b};b.$22=function(a,b){if(b){this.$8=j.Poor;this.$7.push(this.$4);return this.$8}if(a!=null){b=this.$3;var d=this.$21(a,this.getMetricKeys(!0));a=this.$21(a,this.getMetricKeys(!1));d||a?this.$3<h&&this.$3++:this.$3>0&&this.$3--;this.$3>=h?(this.$8=j.Poor,this.$7.push(this.$4)):this.$3<=0?(b!==this.$3&&this.$3===0&&this.$8!==j.Good&&c("ZenonInfraActionsLogger").logCheckpoint({checkpoint:"[Network] Bad network window with avg bitrate: "+this.getAvgBitrateDuringBadNetwork()+", max rtt: "+this.$5+", max packet loss: "+this.$6}),this.$7=[],this.$8=j.Good):this.$3>=1&&this.$8===j.Poor&&this.$7.push(this.$4)}return this.$8};b.$23=function(a,b){var d=this;if(a==null){this.$9=c("immutable").Map();return this.$9}var e=this.$9;this.$9=c("immutable").Map().withMutations(function(f){a.forEach(function(a,g){if(a.remote===!1)return;var h=e.get(g)==null;a=[d.$24(a),d.$25(b),d.$26(a),d.$27(a,h),d.$28(a,h)];var i=j.Excellent,k=[];a.forEach(function(a){a.quality<i&&(i=a.quality);a=a.reason;a!=null&&k.push(a)});f.set(g,new(c("ZenonRemoteNetworkQuality"))({quality:i,reasons:c("immutable").List(k)}))})});return this.$9};b.$28=function(a,b){if(!this.$14||a.contentType!=="video"||a.isMuted===!0||b)return{quality:j.Excellent};a=(b=a.cumulativeStat.packetsReceived)==null?void 0:b.getDeltaFromLastUpdate();return a===0?{quality:j.Disconnected,reason:k.ZERO_PACKETS_RECEIVED}:{quality:j.Excellent}};b.$25=function(a){return a?{quality:j.Disconnected,reason:k.ICE_DISCONNECTED}:{quality:j.Excellent}};b.$26=function(a){var b;b=(b=a.cumulativeStat.jitter)==null?void 0:b.getDeltaFromLastUpdate();return a.contentType==="audio"&&b!=null&&b>this.$12?{quality:j.Fair,reason:k.JITTER}:{quality:j.Excellent}};b.$27=function(a,b){if(b)return{quality:j.Excellent};b=(b=a.cumulativeStat.packetsReceived)==null?void 0:b.getDeltaFromLastUpdate();a=(a=a.cumulativeStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.PACKETS_LOST_CORRECTED])==null?void 0:a.getDeltaFromLastUpdate();if(b==null||a==null)return{quality:j.Excellent};if(this.$18(a,b,this.$10))return{quality:j.Poor,reason:k.PACKET_LOSS};else if(this.$18(a,b,this.$11))return{quality:j.Fair,reason:k.PACKET_LOSS};return{quality:j.Excellent}};b.$24=function(a){a=(a=a.deltaStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.AV_SYNC])==null?void 0:a.getLastAddedValue();return a!=null&&a>this.$13?{quality:j.Fair,reason:k.AV_SYNC}:{quality:j.Excellent}};b.determineNetworkStatus=function(a,b){var d=this.$22(a,b);d===j.Poor&&c("ZenonInfraActionsLogger").logCheckpoint({checkpoint:"[Network] Showing poor network indicator with current bitrate: "+this.getCurrentBitrate()});return new(c("ZenonNetworkStatus"))({local:d,remote:this.$23(a,b)})};return a}();var j=b("$InternalEnum")({Excellent:4,Good:3,Fair:2,Poor:1,Disconnected:0}),k=b("$InternalEnum").Mirrored(["PACKET_LOSS","ZERO_PACKETS_RECEIVED","END_TO_END_LANTENCY","AV_SYNC","JITTER","ICE_DISCONNECTED"]);g.ZenonNetworkQualityMonitor=a;g.ZenonNetworkQuality=j;g.ZenonNetworkQualityReason=k}),98);
__d("ZenonScreenSharingAvailabilityType",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum").Mirrored(["AudioCallUnsupported","Available","GroupCallUnsupported","Unknown"]);c=a;f["default"]=c}),66);
__d("ZenonCallFeatures",["ZenonNetworkStatus","ZenonScreenSharingAvailabilityType","immutable"],(function(a,b,c,d,e,f){"use strict";a=b("immutable").Record({canAddParticipants:!1,canApproveCollaborationSpaceJoinRequests:!0,cowatchEnabled:!1,cowatchGroupEnabled:!1,dominantSpeaker:null,multiwayVideoEscalation:!1,networkStatus:new(b("ZenonNetworkStatus"))(),screenSharingAvailability:b("ZenonScreenSharingAvailabilityType").Available,screenSharingEnabled:!1,supportMultipleStreams:!1,supportSctpHangup:!1,supportSctpSecondPc:!1,vrScreenShare:!1});c=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(a);d=c;f["default"]=d}),66);
__d("ZenonCall",["ZenonCallFeatures","ZenonCallsModelTypes","immutable"],(function(a,b,c,d,e,f){"use strict";a=b("ZenonCallsModelTypes").ZenonCallState;d=(c=b("immutable")).Record({callState:a.New,clientCallId:"",clientEndpointId:"",collisionContext:{groupThreadID:null,peerID:null,serverInfoData:null},endCallDetails:null,endCallReason:null,features:new(b("ZenonCallFeatures"))(),localMediaTracks:c.Map(),mediaTracks:c.Map(),participants:c.Map(),remoteMediaTracks:c.Map(),remoteScreenSharingUserIDs:c.OrderedSet(),responseSubCode:null,rtpReceivers_I_KNOW_WHAT_I_AM_DOING:c.Set(),rtpSenders_I_KNOW_WHAT_I_AM_DOING:c.Set(),selfParticipantID:"0",stateSyncInputStates:c.Map(),stateSyncOutputStates:c.Map()});e=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(d);a=e;f["default"]=a}),66);
__d("ZenonCallParticipant",["ZenonCallsModelTypes","immutable"],(function(a,b,c,d,e,f){"use strict";a=b("ZenonCallsModelTypes").ZenonCallParticipantState;c=b("immutable").Record({id:void 0,isExistingParticipant:void 0,isVideoSubscribed:!1,participantType:void 0,representativeID:null,state:a.Disconnected,trackIDs:void 0,userCapabilities:void 0});d=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(c);e=d;f["default"]=e}),66);
__d("ZenonImmutableMediaTrack",["immutable"],(function(a,b,c,d,e,f){"use strict";a=b("immutable").Record({contentHint:"",contentType:void 0,displaySurface:void 0,enabled:!1,flags:Object.freeze({}),label:"",name:"",pausedDownlink:!1,remote:!1,trackId:void 0,userMuted:!1,webrtcStream:void 0,webrtcTrack:void 0});c=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(a);d=c;f["default"]=d}),66);
__d("ZenonUnifiedCometAppQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="6049901978449546"}),null);
__d("ZenonUnifiedCometAppQuery$Parameters",["ZenonUnifiedCometAppQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("ZenonUnifiedCometAppQuery_facebookRelayOperation"),metadata:{},name:"ZenonUnifiedCometAppQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("ZenonUnifiedCometAppQuery.graphql",["ZenonUnifiedCometAppQuery_facebookRelayOperation","relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"appContext"},{defaultValue:null,kind:"LocalArgument",name:"scale"}],c=[{kind:"Variable",name:"context",variableName:"appContext"}],d={kind:"InlineFragment",selections:[{args:null,documentName:"ZenonUnifiedCometAppQuery",fragmentName:"ZenonPassthroughPrecallLobby_app",fragmentPropName:"app",kind:"ModuleImport"}],type:"XFBZenonPassthroughPrecallLobby",abstractKey:null},e={kind:"InlineFragment",selections:[{args:null,documentName:"ZenonUnifiedCometAppQuery",fragmentName:"GeminiDropInPrecallLobby_app",fragmentPropName:"app",kind:"ModuleImport"}],type:"XFBCoworkingEmbeddedPrecallLobby",abstractKey:null},f={kind:"InlineFragment",selections:[{args:null,documentName:"ZenonUnifiedCometAppQuery",fragmentName:"MeetupEnterRoomAsCreatorLobby_app",fragmentPropName:"app",kind:"ModuleImport"}],type:"XFBMeetupEnterRoomAsCreatorLobby",abstractKey:null},g={kind:"InlineFragment",selections:[{args:null,documentName:"ZenonUnifiedCometAppQuery",fragmentName:"MeetupEnterRoomAsCreatorNuxLobby_app",fragmentPropName:"app",kind:"ModuleImport"}],type:"XFBMeetupEnterRoomAsCreatorNuxLobby",abstractKey:null},h={kind:"InlineFragment",selections:[{args:null,documentName:"ZenonUnifiedCometAppQuery",fragmentName:"MeetupEnterRoomAsGuestLobby_lobby",fragmentPropName:"lobby",kind:"ModuleImport"}],type:"XFBMeetupEnterRoomAsGuestLobby",abstractKey:null},i={kind:"InlineFragment",selections:[{args:null,documentName:"ZenonUnifiedCometAppQuery",fragmentName:"MeetupUnsupportedE2eeRoomLobby_lobby",fragmentPropName:"lobby",kind:"ModuleImport"}],type:"XFBMeetupUnsupportedE2eeRoomLobby",abstractKey:null},j={kind:"InlineFragment",selections:[{args:null,documentName:"ZenonUnifiedCometAppQuery",fragmentName:"MeetupEnterRoomAsJoinerLobby_lobby",fragmentPropName:"lobby",kind:"ModuleImport"}],type:"XFBMeetupEnterRoomAsJoinerLobby",abstractKey:null},k={kind:"InlineFragment",selections:[{args:null,documentName:"ZenonUnifiedCometAppQuery",fragmentName:"WorkMeetupEnterRoomAsCreatorLobby_app",fragmentPropName:"app",kind:"ModuleImport"}],type:"XFBWorkMeetupEnterRoomAsCreatorLobby",abstractKey:null},l={kind:"InlineFragment",selections:[{args:null,documentName:"ZenonUnifiedCometAppQuery",fragmentName:"WorkMeetupEnterRoomAsGuestLobby_lobby",fragmentPropName:"lobby",kind:"ModuleImport"}],type:"XFBWorkMeetupEnterRoomAsGuestLobby",abstractKey:null},m={kind:"InlineFragment",selections:[{args:null,documentName:"ZenonUnifiedCometAppQuery",fragmentName:"WorkMeetupEnterRoomAsJoinerLobby_lobby",fragmentPropName:"lobby",kind:"ModuleImport"}],type:"XFBWorkMeetupEnterRoomAsJoinerLobby",abstractKey:null},n={kind:"InlineFragment",selections:[{args:null,documentName:"ZenonUnifiedCometAppQuery",fragmentName:"InstagramPrecallLobby_app",fragmentPropName:"app",kind:"ModuleImport"}],type:"XFBZenonInstagramPrecallLobby",abstractKey:null},o={kind:"InlineFragment",selections:[{args:null,documentName:"ZenonUnifiedCometAppQuery",fragmentName:"WorkroomsPreCallGuestLobby_lobby",fragmentPropName:"lobby",kind:"ModuleImport"}],type:"XFBWorkroomsPreCallGuestLobby",abstractKey:null},p={kind:"InlineFragment",selections:[{args:null,documentName:"ZenonUnifiedCometAppQuery",fragmentName:"ZenonUnifiedLobby_app",fragmentPropName:"app",kind:"ModuleImport"}],type:"XFBZenonUnifiedPrecallLobby",abstractKey:null},q={kind:"InlineFragment",selections:[{args:null,documentName:"ZenonUnifiedCometAppQuery",fragmentName:"TellyPreCallLobby_lobby",fragmentPropName:"lobby",kind:"ModuleImport"}],type:"XFBTellyPreCallLobby",abstractKey:null},r=[{kind:"Literal",name:"supported",value:"2Lqmky"}],s={kind:"InlineFragment",selections:[{args:null,documentName:"ZenonUnifiedCometAppQuery_cookie_consent_dialog",fragmentName:"ZenonFacebookCookieConsentDialog_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"XFBZenonFacebookCookieConsentDialog",abstractKey:null},t={kind:"InlineFragment",selections:[{args:null,documentName:"ZenonUnifiedCometAppQuery_cookie_consent_dialog",fragmentName:"ZenonInstagramCookieConsentDialog_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"XFBZenonInstagramCookieConsentDialog",abstractKey:null},u={kind:"InlineFragment",selections:[{args:null,documentName:"ZenonUnifiedCometAppQuery_cookie_consent_dialog",fragmentName:"ZenonMessengerCookieConsentDialog_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"XFBZenonMessengerCookieConsentDialog",abstractKey:null},v={kind:"InlineFragment",selections:[{args:null,documentName:"ZenonUnifiedCometAppQuery_cookie_consent_dialog",fragmentName:"ZenonWorkplaceCookieConsentDialog_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"XFBZenonWorkplaceCookieConsentDialog",abstractKey:null},w={kind:"InlineFragment",selections:[{args:null,documentName:"ZenonUnifiedCometAppQuery_cookie_consent_dialog",fragmentName:"ZenonWorkroomsCookieConsentDialog_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"XFBZenonWorkroomsCookieConsentDialog",abstractKey:null},x={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},y={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"ZenonUnifiedCometAppQuery",selections:[{kind:"RequiredField",field:{alias:null,args:c,concreteType:null,kind:"LinkedField",name:"zenon_app",plural:!1,selections:[{kind:"RequiredField",field:{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"precall_lobby",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"ZenonIntegrationMatchContainer_match"},d,e,f,g,h,i,j,k,l,m,n,{kind:"InlineFragment",selections:[{args:c,documentName:"ZenonUnifiedCometAppQuery",fragmentName:"WorkroomsPreCallCreatorLobby_app",fragmentPropName:"app",kind:"ModuleImport"}],type:"XFBWorkroomsPreCallCreatorLobby",abstractKey:null},{kind:"InlineFragment",selections:[{args:c,documentName:"ZenonUnifiedCometAppQuery",fragmentName:"WorkroomsPreCallJoinerLobby_lobby",fragmentPropName:"lobby",kind:"ModuleImport"}],type:"XFBWorkroomsPreCallJoinerLobby",abstractKey:null},o,p,{kind:"InlineFragment",selections:[{args:c,documentName:"ZenonUnifiedCometAppQuery",fragmentName:"WorkroomsPrismPreCallLobbyRoot_lobby",fragmentPropName:"lobby",kind:"ModuleImport"}],type:"XFBWorkroomsPrismPreCallLobby",abstractKey:null},q],storageKey:null},action:"THROW",path:"zenon_app.precall_lobby"},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"brand",plural:!1,selections:[{alias:null,args:r,concreteType:null,kind:"LinkedField",name:"cookie_consent_dialog",plural:!1,selections:[s,t,u,v,w],storageKey:'cookie_consent_dialog(supported:"2Lqmky")'}],storageKey:null},{args:null,kind:"FragmentSpread",name:"useZenonRoomLinkId_app"}],storageKey:null},action:"THROW",path:"zenon_app"}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"ZenonUnifiedCometAppQuery",selections:[{alias:null,args:c,concreteType:null,kind:"LinkedField",name:"zenon_app",plural:!1,selections:[x,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"precall_lobby",plural:!1,selections:[x,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"integration_boundary_name",storageKey:null}],type:"IZenonIntegrationBoundary",abstractKey:"__isIZenonIntegrationBoundary"},d,e,f,g,h,i,j,k,l,m,n,{kind:"InlineFragment",selections:[{args:[{kind:"Variable",name:"WorkroomsPreCallCreatorLobby_app$context",variableName:"appContext"}],documentName:"ZenonUnifiedCometAppQuery",fragmentName:"WorkroomsPreCallCreatorLobby_app",fragmentPropName:"app",kind:"ModuleImport"}],type:"XFBWorkroomsPreCallCreatorLobby",abstractKey:null},{kind:"InlineFragment",selections:[{args:[{kind:"Variable",name:"WorkroomsPreCallJoinerLobby_lobby$context",variableName:"appContext"}],documentName:"ZenonUnifiedCometAppQuery",fragmentName:"WorkroomsPreCallJoinerLobby_lobby",fragmentPropName:"lobby",kind:"ModuleImport"}],type:"XFBWorkroomsPreCallJoinerLobby",abstractKey:null},o,p,{kind:"InlineFragment",selections:[{args:[{kind:"Variable",name:"WorkroomsPrismPreCallLobbyRoot_lobby$context",variableName:"appContext"}],documentName:"ZenonUnifiedCometAppQuery",fragmentName:"WorkroomsPrismPreCallLobbyRoot_lobby",fragmentPropName:"lobby",kind:"ModuleImport"}],type:"XFBWorkroomsPrismPreCallLobby",abstractKey:null},q],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"brand",plural:!1,selections:[x,{alias:null,args:r,concreteType:null,kind:"LinkedField",name:"cookie_consent_dialog",plural:!1,selections:[x,s,t,u,v,w],storageKey:'cookie_consent_dialog(supported:"2Lqmky")'}],storageKey:null},{kind:"TypeDiscriminator",abstractKey:"__isIZenonApp"},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"door",plural:!1,selections:[x,y],storageKey:null},y],storageKey:null}]},params:{id:b("ZenonUnifiedCometAppQuery_facebookRelayOperation"),metadata:{},name:"ZenonUnifiedCometAppQuery",operationKind:"query",text:null}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("ZenonAppContextImplQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5906880969402134"}),null);
__d("ZenonAppContextImplQuery.graphql",["ZenonAppContextImplQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"context"}],c=[{kind:"Variable",name:"context",variableName:"context"}],d={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"ZenonAppContextImplQuery",selections:[{alias:null,args:c,concreteType:null,kind:"LinkedField",name:"zenon_app",plural:!1,selections:[d],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"ZenonAppContextImplQuery",selections:[{alias:null,args:c,concreteType:null,kind:"LinkedField",name:"zenon_app",plural:!1,selections:[d,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}]},params:{id:b("ZenonAppContextImplQuery_facebookRelayOperation"),metadata:{},name:"ZenonAppContextImplQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("useZenonRoomLinkId_app.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useZenonRoomLinkId_app",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"door",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],type:"MessengerCallInviteLink",abstractKey:null}],storageKey:null}],type:"IZenonApp",abstractKey:"__isIZenonApp"};e.exports=a}),null);
__d("ZenonIntegrationMatchContainer_match.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ZenonIntegrationMatchContainer_match",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"integration_boundary_name",storageKey:null},action:"THROW",path:"integration_boundary_name"}],type:"IZenonIntegrationBoundary",abstractKey:"__isIZenonIntegrationBoundary"};e.exports=a}),null);
__d("useZenonMessengerCallInviteLinkChangeSubscription_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="6256826117771569"}),null);
__d("useZenonMessengerCallInviteLinkChangeSubscription.graphql",["useZenonMessengerCallInviteLinkChangeSubscription_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"},{defaultValue:null,kind:"LocalArgument",name:"scale"}],c=[{kind:"Variable",name:"data",variableName:"input"}],d={kind:"Variable",name:"scale",variableName:"scale"},e=[{alias:null,args:null,kind:"ScalarField",name:"count",storageKey:null}],f={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},h=[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],i={alias:null,args:null,kind:"ScalarField",name:"unread_count",storageKey:null},j={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},k=[{kind:"Literal",name:"height",value:160},d,{kind:"Literal",name:"width",value:160}],l={alias:null,args:k,concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:h,storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"short_name",storageKey:null},n=[f],o=[m],p={kind:"InlineFragment",selections:o,type:"XFBWorkroomsBaseUser",abstractKey:"__isXFBWorkroomsBaseUser"},q={kind:"TypeDiscriminator",abstractKey:"__isActor"};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"useZenonMessengerCallInviteLinkChangeSubscription",selections:[{alias:null,args:c,concreteType:"MessengerCallInviteLinkChangeZenonSubscribeResponsePayload",kind:"LinkedField",name:"messenger_call_invite_link_change_zenon_subscribe",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerCallInviteLink",kind:"LinkedField",name:"link",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"useWorkroomsGuestAttendeesCount_link"},{args:null,kind:"FragmentSpread",name:"useWorkroomsHubLink_link"},{args:null,kind:"FragmentSpread",name:"useZenonRoomAllowlistedParticipantsCount_link"},{args:[d],kind:"FragmentSpread",name:"useZenonRoomImage_link"},{args:null,kind:"FragmentSpread",name:"useZenonRoomName_link"},{args:null,kind:"FragmentSpread",name:"useZenonRoomIsViewerAdmin_link"},{args:null,kind:"FragmentSpread",name:"useZenonRoomLinkUrlForCopyPaste_link"},{args:null,kind:"FragmentSpread",name:"useZenonRoomJoinPermission_link"},{args:null,kind:"FragmentSpread",name:"useZenonRoomMeetupJoinPermission_link"},{args:null,kind:"FragmentSpread",name:"useZenonRoomLinkHashMaybe_link"},{args:null,kind:"FragmentSpread",name:"useZenonRoomLockStatus_link"},{args:null,kind:"FragmentSpread",name:"useZenonRoomLinkUrlMaybe_link"},{args:null,kind:"FragmentSpread",name:"useZenonRoomIsAudioOnly_link"},{args:null,kind:"FragmentSpread",name:"useZenonRoomAdminId_link"},{args:null,kind:"FragmentSpread",name:"useZenonRoomAdminName_link"},{args:null,kind:"FragmentSpread",name:"useZenonRoomCallParticipants_link"},{args:null,kind:"FragmentSpread",name:"useZenonRoomGroupReportableId_link"},{args:null,kind:"FragmentSpread",name:"useZenonRoomAdminImage_link"},{args:null,kind:"FragmentSpread",name:"useZenonRoomAdminShortName_link"},{args:null,kind:"FragmentSpread",name:"useZenonRoomLinkSurface_link"},{args:null,kind:"FragmentSpread",name:"useZenonRoomLiveStreamBroadcastId_link"},{args:null,kind:"FragmentSpread",name:"useZenonRoomEmoji_link"},{args:null,kind:"FragmentSpread",name:"useZenonRoomAllowsAnonymousGuests_link"},{args:null,kind:"FragmentSpread",name:"useZenonRoomChatModeMaybe_link"},{args:null,kind:"FragmentSpread",name:"useZenonRoomChatThreadID_link"},{args:null,kind:"FragmentSpread",name:"MeetupEnterRoomAsCreatorLobby_link"},{args:null,kind:"FragmentSpread",name:"MeetupPreCallRoomContextContainer_link"},{args:null,kind:"FragmentSpread",name:"WorkMeetupEnterRoomAsCreatorLobby_link"},{args:null,kind:"FragmentSpread",name:"WorkMeetupEnterRoomAsJoinerLobby_link"},{args:null,kind:"FragmentSpread",name:"useZenonRoomCommunityName_link"},{args:null,kind:"FragmentSpread",name:"useZenonRoomGarden_link"},{args:null,kind:"FragmentSpread",name:"useZenonRoomJoinPermissionForOnlineLearning_link"},{args:null,kind:"FragmentSpread",name:"useZenonRoomIsOwnerEventPOE_link"},{args:null,kind:"FragmentSpread",name:"useZenonRoomIsOwnerEventPrivateEvent_link"},{args:null,kind:"FragmentSpread",name:"useZenonRoomIsMultiPeopleLive_link"},{args:null,kind:"FragmentSpread",name:"useMeetupLivestreamLiveVideoId_link"},{args:null,kind:"FragmentSpread",name:"useMeetupLivestreamLobbyMetadataAmaEnabled_link"},{args:null,kind:"FragmentSpread",name:"useMeetupLivestreamScheduledLiveVideoId_link"},{args:null,kind:"FragmentSpread",name:"useMeetupLivestreamIsLiveEnabled_link"},{args:null,kind:"FragmentSpread",name:"useZenonRoomOwnerEventCreatorId_link"},{args:null,kind:"FragmentSpread",name:"useZenonRoomOwnerEventCreatorIsPage_link"},{args:null,kind:"FragmentSpread",name:"useZenonRoomOwnerEventCreatorName_link"},{args:null,kind:"FragmentSpread",name:"useZenonRoomOwnerEventId_link"},{args:null,kind:"FragmentSpread",name:"useZenonRoomOwnerEventName_link"},{args:null,kind:"FragmentSpread",name:"useZenonRoomLinkContainerId_link"},{args:null,kind:"FragmentSpread",name:"WorkroomsCollaborationSpaceUnreadCountUpdaterEffect_link"},{args:null,kind:"FragmentSpread",name:"useZenonRoomMeetingID_link"},{args:null,kind:"FragmentSpread",name:"WorkroomsPrismPreCallLobbyParticipants_link"}],storageKey:null}],storageKey:null}],type:"Subscription",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"useZenonMessengerCallInviteLinkChangeSubscription",selections:[{alias:null,args:c,concreteType:"MessengerCallInviteLinkChangeZenonSubscribeResponsePayload",kind:"LinkedField",name:"messenger_call_invite_link_change_zenon_subscribe",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerCallInviteLink",kind:"LinkedField",name:"link",plural:!1,selections:[{alias:null,args:null,concreteType:"WorkMeeting",kind:"LinkedField",name:"meeting",plural:!1,selections:[{alias:"guest_attendees",args:[{kind:"Literal",name:"types",value:["GUEST_EMAIL"]}],concreteType:"WorkMeetingAttendeesConnection",kind:"LinkedField",name:"attendees",plural:!1,selections:e,storageKey:'attendees(types:["GUEST_EMAIL"])'},f,{args:null,documentName:"WorkMeetupEnterRoomAsJoinerLobbyContent_link",fragmentName:"WorkMeetupLobbyMeetingInfo_meeting",fragmentPropName:"meeting",kind:"ModuleImport"}],storageKey:null},{alias:null,args:null,concreteType:"XFBIWorkroom",kind:"LinkedField",name:"workroom",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},f,g,{alias:null,args:null,kind:"ScalarField",name:"thread_id",storageKey:null},{alias:null,args:[{kind:"Literal",name:"height",value:40},{kind:"Literal",name:"width",value:40}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:h,storageKey:"profile_picture(height:40,width:40)"},{alias:null,args:null,concreteType:"XFBIWorkroomMembership",kind:"LinkedField",name:"membership",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"approximate_member_count",storageKey:null},f],storageKey:null},{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"group_legacy",plural:!1,selections:[f,{alias:null,args:null,concreteType:"MessageThread",kind:"LinkedField",name:"work_synced_message_thread",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"updated_time_precise",storageKey:null},i,{alias:null,args:null,concreteType:"MessageThreadKey",kind:"LinkedField",name:"thread_key",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"thread_fbid",storageKey:null}],storageKey:null},f],storageKey:null},i],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"JoinableVideoChatsAvailabilitySettings",kind:"LinkedField",name:"joinable_video_chat_availability_settings",plural:!1,selections:[{alias:null,args:null,concreteType:"JoinableVideoChatsAvailabilitySettingsWhitelistedParticipantsConnection",kind:"LinkedField",name:"whitelisted_participants",plural:!1,selections:e,storageKey:null},f,{alias:null,args:null,kind:"ScalarField",name:"join_permission",storageKey:null},j],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"group_room_type",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"link_container",plural:!1,selections:[j,{kind:"InlineFragment",selections:[l,m,g,f],type:"Group",abstractKey:null},{kind:"InlineFragment",selections:n,type:"Node",abstractKey:"__isNode"}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"link_owner",plural:!1,selections:[j,l,f,g,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"gender",storageKey:null},m],type:"User",abstractKey:null},{kind:"InlineFragment",selections:o,type:"Page",abstractKey:null},p,q],storageKey:null},{alias:null,args:k,concreteType:"Image",kind:"LinkedField",name:"room_image",plural:!1,selections:h,storageKey:null},g,{alias:null,args:null,kind:"ScalarField",name:"admin_ids",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link_url_for_copy_paste",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_creator_view_join_permission",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"should_disable_join_permission",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"default_join_permission_for_surface",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_link_join_requestable",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link_hash",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"lock_status",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_audio_only",storageKey:null},{alias:null,args:null,concreteType:"MessengerCallRoom",kind:"LinkedField",name:"messenger_call_room",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerCall",kind:"LinkedField",name:"maybe_stale_active_call",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"should_fetch_only_in_call_participants",value:!0}],concreteType:"MessengerCallToCallParticipantsConnection",kind:"LinkedField",name:"call_participants",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:[j,f,{kind:"InlineFragment",selections:[g],type:"MessagingActor",abstractKey:"__isMessagingActor"},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"WorkForeignEntityInfo",kind:"LinkedField",name:"work_foreign_entity_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"label",storageKey:null}],storageKey:null}],type:"WorkForeignEntity",abstractKey:"__isWorkForeignEntity"}],storageKey:null}],storageKey:"call_participants(should_fetch_only_in_call_participants:true)"},f,{alias:null,args:null,concreteType:"LiveVideoRoomLobbyMetadata",kind:"LinkedField",name:"live_video_room_lobby_metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"room_live_stream_broadcast_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"room_live_stream_status",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"room_live_stream_target",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"room_live_stream_target_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"room_live_stream_audience",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"room_live_stream_video_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"room_live_stream_is_ama_enabled",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"active_participant_actors",plural:!0,selections:[j,{kind:"InlineFragment",selections:o,type:"User",abstractKey:null},p,q,g,{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:h,storageKey:null},f],storageKey:null}],storageKey:null},f,{alias:null,args:null,concreteType:"MessengerCallRoomDoorsConnection",kind:"LinkedField",name:"doors",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:[j,f,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"WorkroomsCanvas",kind:"LinkedField",name:"active_canvas",plural:!1,selections:n,storageKey:null}],type:"WorkroomsRoom",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"group_reportable_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link_surface",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"emoji",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"should_allow_guests",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"chat_mode",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"room_chat_thread_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"active_call_participant_count",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"should_join_with_audio",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_online_learning_room",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"share_screen_uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"join_code",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pin",storageKey:null},{alias:null,args:null,concreteType:"MessengerCallPSTNDialInDetails",kind:"LinkedField",name:"pstn_dial_in_details",plural:!1,selections:[j,{alias:null,args:null,kind:"ScalarField",name:"one_tap_suffix",storageKey:null},{alias:null,args:null,concreteType:"MessengerCallPSTNPhoneNumber",kind:"LinkedField",name:"recommended_phone_number",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"formatted_phone_number",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"phone_number",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_garden",storageKey:null},{alias:"hasGarden",args:null,kind:"ScalarField",name:"has_garden",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"access_mode",storageKey:null},f,{alias:null,args:null,concreteType:"Event",kind:"LinkedField",name:"owner_event",plural:!1,selections:[{alias:null,args:null,concreteType:"EventDiscoverCategoryFormatData",kind:"LinkedField",name:"event_flags",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"flag_type",storageKey:null}],storageKey:null},f,{alias:null,args:null,kind:"ScalarField",name:"event_kind",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"event_creator",plural:!1,selections:[j,f,g],storageKey:null},g],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_multi_people_live",storageKey:null},{alias:null,args:[{kind:"Literal",name:"first",value:1}],concreteType:"MessengerCallInviteLinkScheduledLiveVideosConnection",kind:"LinkedField",name:"scheduled_live_videos",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerCallInviteLinkScheduledLiveVideosEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"VideoBroadcast",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"video",plural:!1,selections:n,storageKey:null},f],storageKey:null}],storageKey:null}],storageKey:"scheduled_live_videos(first:1)"},{alias:null,args:null,kind:"ScalarField",name:"is_live_enabled",storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:b("useZenonMessengerCallInviteLinkChangeSubscription_facebookRelayOperation"),metadata:{subscriptionName:"messenger_call_invite_link_change_zenon_subscribe"},name:"useZenonMessengerCallInviteLinkChangeSubscription",operationKind:"subscription",text:null}}}();e.exports=a}),null);
__d("ChromeExtensionInstallError",[],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c,d){var e;e=a.call(this,b)||this;e.message=b;e.$ChromeExtensionInstallError3=b;e.$ChromeExtensionInstallError1=d;e.$ChromeExtensionInstallError2=c;e.name=e.constructor.name;return e}var c=b.prototype;c.toString=function(){return this.name+": "+[this.message,this.$ChromeExtensionInstallError2,this.$ChromeExtensionInstallError1].join("-")};c.getTypedMessage=function(){return this.$ChromeExtensionInstallError3};c.getInstallType=function(){return this.$ChromeExtensionInstallError2};return b}(babelHelpers.wrapNativeSuper(Error));f["default"]=a}),66);
__d("CollabRTCChromeScreenSharingExtensionConstants",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({CancelChooseDesktopMedia:"cancelChooseDesktopMedia",ClearNotification:"clearNotification",CreateNotification:"createNotification",FocusTabAndWindow:"focusTabAndWindow",GetAllNotifications:"getAllNotifications",GetLastFocusedWindow:"getLastFocusedWindow",GetNotificationsPermissionLevel:"getNotificationsPermissionLevel",GetStreamID:"getStreamID",GetTabAndWindowForSender:"getTabAndWindowForSender",GetTabForSender:"getTabForSender",GetWindow:"getWindow",Ping:"ping",UpdateNotification:"updateNotification",UpdateTab:"updateTab",UpdateWindow:"updateWindow",CreateWindow:"createWindow"});f.CollabRTCChromeScreenSharingExtensionFeature=a}),66);
__d("RTCChromeExtensionListener",["DateConsts","EventEmitter"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var c;c=a.call(this)||this;c.$RTCChromeExtensionListener1=!1;c.$RTCChromeExtensionListener2=null;c.$RTCChromeExtensionListener5=function(a){var b=a;if(a.type==="notificationButtonClicked"){var d=a.buttonIndex;a=a.notificationId;d!==0&&d!==1&&(b={type:"notificationClicked",notificationId:a})}c.emit(b.type,b)};c.$RTCChromeExtensionListener6=function(a){a.onMessage.removeListener(c.$RTCChromeExtensionListener5),c.$RTCChromeExtensionListener2=null,c.emit("portDisconnected"),c.$RTCChromeExtensionListener1===!1&&c.$RTCChromeExtensionListener7(d("DateConsts").MS_PER_SEC)};c.$RTCChromeExtensionListener3=b;return c}var c=b.prototype;c.$RTCChromeExtensionListener4=function(){if(this.$RTCChromeExtensionListener2==null)try{var a=window.chrome.runtime.connect(this.$RTCChromeExtensionListener3,{name:"notifications"});a.onMessage.addListener(this.$RTCChromeExtensionListener5);a.onDisconnect.addListener(this.$RTCChromeExtensionListener6);this.$RTCChromeExtensionListener2=a;this.emit("portConnected")}catch(a){this.emit("portConnectionError",a)}};c.$RTCChromeExtensionListener7=function(a){var b=this;a===void 0&&(a=10);window.setTimeout(function(){b.$RTCChromeExtensionListener4()},a)};c.connect=function(){this.$RTCChromeExtensionListener7()};c.disconnect=function(){this.$RTCChromeExtensionListener2!=null&&(this.$RTCChromeExtensionListener1=!0,this.$RTCChromeExtensionListener2.disconnect(),this.$RTCChromeExtensionListener2=null)};return b}(c("EventEmitter"));g["default"]=a}),98);
__d("RTCChromeScreenSharingExtension",["Promise","RTCChromeExtensionListener","URI","gkx","isInternURI","isInternalFBURI","isWorkplaceDotComURI","uuidv4"],(function(a,b,c,d,e,f,g){function a(){var a=c("URI").getRequestURI();return c("gkx")("1290293")&&(c("isInternURI")(a)||c("isInternalFBURI")(a))}function d(){return c("isWorkplaceDotComURI")(c("URI").getRequestURI())}var h="ncfpggehkhmjpdjpefomjchjafhmbnai",i="flakgngfgjpjpfjknnkcipdebaigofln",j="hmobhiioligjpeieihehfjlkmmkjemfl";j=d()===!0?j:h;function k(a,c){return new(b("Promise"))(function(b,d){window.chrome.runtime.sendMessage(c,a,function(a){if(a!=null)typeof a==="object"&&a.type==="error"?d(new Error(a.message)):b(a);else{a=window.chrome.runtime.lastError.message;d(new Error(a))}})})}function e(a){return new(c("RTCChromeExtensionListener"))(a)}function f(a,b){b===void 0&&(b=["screen","window","tab"]);return k({type:"getStreamID",sources:b},a)}function l(a,b){return k({type:"cancel",requestID:a},b)}function m(){return c("uuidv4")()}g.shoulUseInternExtension=a;g.shoulUseWorkplaceExtension=d;g.INTERN_EXTENSION_ID=i;g.EXTENSION_ID=j;g.sendExtensionRequest=k;g.connectToNotifications=e;g.getMediaSourceFromExtension=f;g.stopExtensionScreenSharing=l;g.generateNotificationID=m}),98);
__d("CollabRTCChromeScreenSharingExtension",["invariant","ChromeExtensionInstallError","CollabRTCChromeScreenSharingExtensionConstants","DateConsts","Promise","RTCChromeScreenSharingExtension","URI","asyncToGeneratorRuntime","emptyFunction","err","isFacebookURI"],(function(a,b,c,d,e,f,g,h){"use strict";var i="DIALOG_USER_CANCEL",j="EXTENSION_NOT_FOUND",k="MESSAGESENDER_TAB_UNDEFINED",l="REQUEST_ID_UNDEFINED",m="UNEXPECTED_ERROR",n="FEATURE_NOT_SUPPORTED";a="data-fb-only-screensharing-extension-available";var o="data-intern-screensharing-extension-available";e="data-wp-screensharing-extension-available";var p=d("RTCChromeScreenSharingExtension").shoulUseWorkplaceExtension()?e:a;f="data-fb-only-screensharing-extension-features";var q="data-intern-screensharing-extension-features";e="data-wp-screensharing-extension-features";var r=d("RTCChromeScreenSharingExtension").shoulUseWorkplaceExtension()?e:f,s=250,t=2*d("DateConsts").MS_PER_MIN,u=2;a=function(){function a(){this.DIALOG_USER_CANCEL=i,this.EXTENSION_NOT_FOUND=j,this.MESSAGESENDER_TAB_UNDEFINED=k,this.REQUEST_ID_UNDEFINED=l,this.UNEXPECTED_ERROR=m,this.FEATURE_NOT_SUPPORTED=n,this.$2=d("RTCChromeScreenSharingExtension").EXTENSION_ID,this.$3=p,this.$4=r}var e=a.prototype;e.isInstalled=function(){var a=document;a=a.documentElement;if(d("RTCChromeScreenSharingExtension").shoulUseInternExtension()&&(a!=null&&a.hasAttribute(o))){this.$2=d("RTCChromeScreenSharingExtension").INTERN_EXTENSION_ID;this.$3=o;return!0}return a!=null&&a.hasAttribute(this.$3)?!0:!1};e.isFeatureSupported=function(a){if(!this.isInstalled())return!1;var b=document;b=b.documentElement;b=(b=b==null?void 0:(b=b.getAttribute(d("RTCChromeScreenSharingExtension").shoulUseInternExtension()?q:this.$4))==null?void 0:b.split(","))!=null?b:[];return b.indexOf(a)>=0};e.throwIfNotInstalled=function(){if(this.isInstalled()!==!0)throw c("err")(j)};e.throwIfFeatureNotSupported=function(a){this.throwIfNotInstalled();if(!this.isFeatureSupported(a)){a=new Error(n);a.stack;throw a}};e.$5=function(a,d){var e=this,f=(d=a)!=null?(d=d.chrome)!=null?d.webstore:d:d;if(f==null)return b("Promise").reject(new(c("ChromeExtensionInstallError"))("CHROME_WEBSTORE_UNDEFINED","inline"));var g=window.document.documentElement;v(this.getExtensionURL(),window.document);a!==window&&v(this.getExtensionURL(),a.document);return new(b("Promise"))(function(a,b){f.install(e.getExtensionURL(),function(){g!=null&&g.setAttribute(e.getPresenseAttr(),"true"),a()},function(a,d){b(new(c("ChromeExtensionInstallError"))("EXTENSION_INSTALL_FAILED","inline",d))})}).then(function(){e.$6(u);return"inline"})};e.$7=function(a){var d=this;if(this.isInstalled())return b("Promise").resolve("store");v(this.getExtensionURL(),window.document);window.open(this.getExtensionURL(),"_blank");return this.$6(t/s).then(function(){var a=window.document.documentElement;a.setAttribute(d.getPresenseAttr(),"true");return"store"})["catch"](function(){throw new(c("ChromeExtensionInstallError"))("EXTENSION_STORE_INSTALL_TIMEOUT","store")})};e.getPresenseAttr=function(){return this.$3};e.getFeaturesAttr=function(){return this.$4};e.isInlineInstallCapableDomain=function(){return c("isFacebookURI")(c("URI").getRequestURI())};e.install=function(a){return this.isInstalled()?b("Promise").resolve():this.$8(a).then(c("emptyFunction"))["catch"](function(a){throw a})};e.$8=function(a){var b;if(!this.isInlineInstallCapableDomain())return this.$7(a);b=(b=window)!=null?(b=b.chrome)!=null?b.webstore:b:b;if(b==null)return this.$7(a);return window.opener?this.$7(a):this.$5(window,a)};e.getSourceID=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){if(!this.isInstalled())throw c("err")(j);a=(yield d("RTCChromeScreenSharingExtension").getMediaSourceFromExtension(this.$2,a));switch(a.type){case"streamID":this.$1=a.requestID;return a.streamID;case"canceledGetStreamID":throw c("err")(i);default:throw c("err")(m)}});function e(b){return a.apply(this,arguments)}return e}();e.getExtensionID=function(){return this.$2};e.getExtensionURL=function(){return"https://chrome.google.com/webstore/detail/"+this.$2};e.stop=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield d("RTCChromeScreenSharingExtension").stopExtensionScreenSharing(this.$1,this.$2),this.$1=null});function c(){return a.apply(this,arguments)}return c}();e.$6=function(a){var b=this;return d("RTCChromeScreenSharingExtension").sendExtensionRequest({type:"ping"},this.$2)["catch"](function(c){if(a<1)throw c;return w(s).then(function(){return b.$6(a-1)})})};e.isMinimumVersionNumber=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){this.throwIfNotInstalled();var e=(yield d("RTCChromeScreenSharingExtension").sendExtensionRequest({type:"ping"},this.$2));e=e.version;e=e.split(".").map(function(a){return parseInt(a,10)});var f=e[0],g=e[1];e=e[2];return f>=a?g>b?!0:g===b&&e>=c:!1});function c(b,c,d){return a.apply(this,arguments)}return c}();e.focusTabAndWindow=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){this.throwIfNotInstalled();var a=(yield d("RTCChromeScreenSharingExtension").sendExtensionRequest({type:"focusTabAndWindow"},this.$2));return{tab:a.tab,window:a.window}});function c(){return a.apply(this,arguments)}return c}();e.getLastFocusedWindow=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){this.throwIfNotInstalled();a=(yield d("RTCChromeScreenSharingExtension").sendExtensionRequest({type:"getLastFocusedWindow",getInfo:a},this.$2));return a.window});function c(b){return a.apply(this,arguments)}return c}();e.getTabForSender=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){this.throwIfNotInstalled();var a=(yield d("RTCChromeScreenSharingExtension").sendExtensionRequest({type:"getTabForSender"},this.$2));return a.tab});function c(){return a.apply(this,arguments)}return c}();e.getTabAndWindowForSender=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){this.throwIfNotInstalled();var a=(yield d("RTCChromeScreenSharingExtension").sendExtensionRequest({type:"getTabAndWindowForSender"},this.$2));return{tab:a.tab,window:a.window}});function c(){return a.apply(this,arguments)}return c}();e.getWindow=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){this.throwIfNotInstalled();a=(yield d("RTCChromeScreenSharingExtension").sendExtensionRequest({type:"getWindow",windowId:a,getInfo:b},this.$2));return a.window});function c(b,c){return a.apply(this,arguments)}return c}();e.updateTab=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){this.throwIfNotInstalled();a={type:"updateTab",updateProperties:a};b!==void 0&&(a.tabId=b);b=(yield d("RTCChromeScreenSharingExtension").sendExtensionRequest(a,this.$2));return b.tab});function c(b,c){return a.apply(this,arguments)}return c}();e.updateWindow=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){this.throwIfNotInstalled();a=(yield d("RTCChromeScreenSharingExtension").sendExtensionRequest({type:"updateWindow",windowId:a,updateInfo:b},this.$2));return a.window});function c(b,c){return a.apply(this,arguments)}return c}();e.createWindow=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){this.throwIfFeatureNotSupported(d("CollabRTCChromeScreenSharingExtensionConstants").CollabRTCChromeScreenSharingExtensionFeature.CreateWindow);a=(yield d("RTCChromeScreenSharingExtension").sendExtensionRequest({type:"createWindow",createData:a},this.$2));return a.window});function c(b){return a.apply(this,arguments)}return c}();e.clearNotification=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=(yield this.isNotificationPermissionGranted());if(b===!1)throw c("err")("Chrome extension notifications permission not granted");b=(yield d("RTCChromeScreenSharingExtension").sendExtensionRequest({type:"clearNotification",notificationId:a},this.$2));return b.wasCleared});function e(b){return a.apply(this,arguments)}return e}();e.createNotification=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=(yield this.isNotificationPermissionGranted());if(b===!1)throw c("err")("Chrome extension notifications permission not granted");b=(yield d("RTCChromeScreenSharingExtension").sendExtensionRequest({type:"createNotification",notificationId:d("RTCChromeScreenSharingExtension").generateNotificationID(),options:a},this.$2));return b.notificationId});function e(b){return a.apply(this,arguments)}return e}();e.getAllNotifications=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield this.isNotificationPermissionGranted());if(a===!1)throw c("err")("Chrome extension notifications permission not granted");a=(yield d("RTCChromeScreenSharingExtension").sendExtensionRequest({type:"getAllNotifications"},this.$2));return Object.keys(a.notifications)});function e(){return a.apply(this,arguments)}return e}();e.getNotificationsPermissionLevel=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){this.throwIfNotInstalled();var a=(yield d("RTCChromeScreenSharingExtension").sendExtensionRequest({type:"getNotificationsPermissionLevel"},this.$2));return a.level});function c(){return a.apply(this,arguments)}return c}();e.updateNotification=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var e=(yield this.isNotificationPermissionGranted());if(e===!1)throw c("err")("Chrome extension notifications permission not granted");e=(yield d("RTCChromeScreenSharingExtension").sendExtensionRequest({type:"updateNotification",notificationId:a,options:b},this.$2));return e.wasUpdated});function e(b,c){return a.apply(this,arguments)}return e}();e.isNotificationPermissionGranted=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a="denied";try{a=(yield this.getNotificationsPermissionLevel())}catch(b){a="denied"}switch(a){case"granted":return!0;case"denied":return!1;default:throw c("err")("Received an unexpected permission level: "+a)}});function d(){return a.apply(this,arguments)}return d}();return a}();function v(a,b){var c="chrome-webstore-item";if(!b.querySelector('link[href="'+a+'"][rel="'+c+'"]')){var d=b.createElement("link");d.setAttribute("href",a);d.setAttribute("rel",c);b.head!=null||h(0,6240);b.head.appendChild(d)}}function w(a){return new(b("Promise"))(function(b){return window.setTimeout(b,a)})}e=new a();g["default"]=e}),98);
__d("CollabRTCChromeScreenSharing",["CollabRTCChromeScreenSharingExtension"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("CollabRTCChromeScreenSharingExtension").focusTabAndWindow()}function b(a){return c("CollabRTCChromeScreenSharingExtension").getLastFocusedWindow(a)}function d(){return c("CollabRTCChromeScreenSharingExtension").getTabForSender()}function e(){return c("CollabRTCChromeScreenSharingExtension").getTabAndWindowForSender()}function f(a,b){return c("CollabRTCChromeScreenSharingExtension").getWindow(a,b)}function h(a,b){return c("CollabRTCChromeScreenSharingExtension").install(b).then(function(){return c("CollabRTCChromeScreenSharingExtension").getSourceID(a)})}function i(){return c("CollabRTCChromeScreenSharingExtension").stop()}function j(a,b){return c("CollabRTCChromeScreenSharingExtension").updateTab(a,b)}function k(a,b){return c("CollabRTCChromeScreenSharingExtension").updateWindow(a,b)}function l(a){return c("CollabRTCChromeScreenSharingExtension").createWindow(a)}g.focusTabAndWindow=a;g.getLastFocusedWindow=b;g.getTabForSender=d;g.getTabAndWindowForSender=e;g.getWindow=f;g.getSourceID=h;g.stop=i;g.updateTab=j;g.updateWindow=k;g.createWindow=l}),98);
__d("RTCChromeScreenSharingUtils",["CurrentUser"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("CurrentUser").isWorkUser()?"workplace":"rtc_call"}g.getMediaRequestSourceAppId=a}),98);
__d("isFacebookishURI",["isFacebookURI","isMessengerDotComURI"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return c("isFacebookURI")(a)||c("isMessengerDotComURI")(a)}g["default"]=a}),98);
__d("ZenonCallsContext",["ZenonCallSDK","err","immutable","react"],(function(a,b,c,d,e,f,g){"use strict";a=d("react");b=new(c("ZenonCallSDK"))({relayEnvironment:null});e=a.createContext({callMediaTypes:c("immutable").Map(),calls:c("immutable").Map(),callSDK:b,callTimers:c("immutable").Map(),currentCallInstanceSDK:b.createCall(),e2eeModel:null,endCallHooks:new Set(),isE2eeMandated:!1,setCurrentCallInstanceSDK:function(){throw c("err")("setCurrentCallInstanceSDK is not implemented!")},setE2eeModel:function(){throw c("err")("setE2eeModel is not implemented!")}});f=e;g["default"]=f}),98);
__d("recoil-shared/util/Recoil_isPromise",[],(function(a,b,c,d,e,f){"use strict";function a(a){return!!a&&typeof a.then==="function"}e.exports=a}),null);
__d("recoil-shared/util/Recoil_nullthrows",["recoil-shared/util/Recoil_err"],(function(a,b,c,d,e,f){"use strict";function a(a,c){if(a!=null)return a;throw b("recoil-shared/util/Recoil_err")((a=c)!=null?a:"Got unexpected null or undefined")}e.exports=a}),null);
__d("recoil-oss/adt/Recoil_Loadable",["Promise","recoil-shared/util/Recoil_err","recoil-shared/util/Recoil_isPromise","recoil-shared/util/Recoil_nullthrows"],(function(a,b,c,d,e,f){"use strict";var g=function(){function a(){}var c=a.prototype;c.getValue=function(){throw b("recoil-shared/util/Recoil_err")("BaseLoadable")};c.toPromise=function(){throw b("recoil-shared/util/Recoil_err")("BaseLoadable")};c.valueMaybe=function(){throw b("recoil-shared/util/Recoil_err")("BaseLoadable")};c.valueOrThrow=function(){throw b("recoil-shared/util/Recoil_err")('Loadable expected value, but in "'+this.state+'" state')};c.promiseMaybe=function(){throw b("recoil-shared/util/Recoil_err")("BaseLoadable")};c.promiseOrThrow=function(){throw b("recoil-shared/util/Recoil_err")('Loadable expected promise, but in "'+this.state+'" state')};c.errorMaybe=function(){throw b("recoil-shared/util/Recoil_err")("BaseLoadable")};c.errorOrThrow=function(){throw b("recoil-shared/util/Recoil_err")('Loadable expected error, but in "'+this.state+'" state')};c.is=function(a){return a.state===this.state&&a.contents===this.contents};c.map=function(a){throw b("recoil-shared/util/Recoil_err")("BaseLoadable")};return a}(),h=function(c){babelHelpers.inheritsLoose(a,c);function a(a){var b;b=c.call(this)||this;b.state="hasValue";b.contents=a;return b}var d=a.prototype;d.getValue=function(){return this.contents};d.toPromise=function(){return b("Promise").resolve(this.contents)};d.valueMaybe=function(){return this.contents};d.valueOrThrow=function(){return this.contents};d.promiseMaybe=function(){return void 0};d.errorMaybe=function(){return void 0};d.map=function(a){var c=this;try{var d=a(this.contents);return b("recoil-shared/util/Recoil_isPromise")(d)?m(d):p(d)?d:k(d)}catch(d){return b("recoil-shared/util/Recoil_isPromise")(d)?m(d.next(function(){return c.map(a)})):l(d)}};return a}(g),i=function(c){babelHelpers.inheritsLoose(a,c);function a(a){var b;b=c.call(this)||this;b.state="hasError";b.contents=a;return b}var d=a.prototype;d.getValue=function(){throw this.contents};d.toPromise=function(){return b("Promise").reject(this.contents)};d.valueMaybe=function(){return void 0};d.promiseMaybe=function(){return void 0};d.errorMaybe=function(){return this.contents};d.errorOrThrow=function(){return this.contents};d.map=function(a){return this};return a}(g),j=function(c){babelHelpers.inheritsLoose(a,c);function a(a){var b;b=c.call(this)||this;b.state="loading";b.contents=a;return b}var d=a.prototype;d.getValue=function(){throw this.contents};d.toPromise=function(){return this.contents};d.valueMaybe=function(){return void 0};d.promiseMaybe=function(){return this.contents};d.promiseOrThrow=function(){return this.contents};d.errorMaybe=function(){return void 0};d.map=function(a){var c=this;return m(this.contents.then(function(b){b=a(b);if(p(b)){var c=b;switch(c.state){case"hasValue":return c.contents;case"hasError":throw c.contents;case"loading":return c.contents}}return b})["catch"](function(d){if(b("recoil-shared/util/Recoil_isPromise")(d))return d.then(function(){return c.map(a).contents});throw d}))};return a}(g);function k(a){return Object.freeze(new h(a))}function l(a){return Object.freeze(new i(a))}function m(a){return Object.freeze(new j(a))}function n(){return Object.freeze(new j(new(b("Promise"))(function(){})))}function o(a){return a.every(function(a){return a.state==="hasValue"})?k(a.map(function(a){return a.contents})):a.some(function(a){return a.state==="hasError"})?l(b("recoil-shared/util/Recoil_nullthrows")(a.find(function(a){return a.state==="hasError"}),"Invalid loadable passed to loadableAll").contents):m(b("Promise").all(a.map(function(a){return a.contents})))}function a(a){var c=Array.isArray(a)?a:Object.getOwnPropertyNames(a).map(function(b){return a[b]});c=c.map(function(a){return p(a)?a:b("recoil-shared/util/Recoil_isPromise")(a)?m(a):k(a)});c=o(c);return Array.isArray(a)?c:c.map(function(b){return Object.getOwnPropertyNames(a).reduce(function(a,c,d){return babelHelpers["extends"]({},a,(a={},a[c]=b[d],a))},{})})}function p(a){return a instanceof g}c={of:function(a){return b("recoil-shared/util/Recoil_isPromise")(a)?m(a):p(a)?a:k(a)},error:function(a){return l(a)},loading:function(){return n()},all:a,isLoadable:p};e.exports={loadableWithValue:k,loadableWithError:l,loadableWithPromise:m,loadableLoading:n,loadableAll:a,isLoadable:p,RecoilLoadable:c}}),null);
__d("recoil-shared/util/Recoil_RecoilEnv",["recoil-shared/util/Recoil_err"],(function(a,b,c,d,e,f){"use strict";var g={RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED:!0,RECOIL_GKS_ENABLED:new Set(["recoil_hamt_2020","recoil_sync_external_store","recoil_suppress_rerender_in_callback","recoil_memory_managament_2020"])};function h(a,c){var d;d=(d=process.env[a])==null?void 0:(d=d.toLowerCase())==null?void 0:d.trim();if(d==null||d==="")return;var e=["true","false"];if(!e.includes(d))throw b("recoil-shared/util/Recoil_err")("process.env."+a+" value must be 'true', 'false', or empty: "+d);c(d==="true")}function i(a,b){a=(a=process.env[a])==null?void 0:a.trim();if(a==null||a==="")return;b(a.split(/\s*,\s*|\s+/))}function a(){var a;if(typeof process==="undefined")return;if(((a=process)==null?void 0:a.env)==null)return;h("RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED",function(a){g.RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED=a});i("RECOIL_GKS_ENABLED",function(a){a.forEach(function(a){g.RECOIL_GKS_ENABLED.add(a)})})}a();e.exports=g}),null);
__d("recoil-shared/util/Recoil_gkx",["gkx","recoil-shared/util/Recoil_RecoilEnv"],(function(a,b,c,d,e,f){"use strict";function a(a){return b("recoil-shared/util/Recoil_RecoilEnv").RECOIL_GKS_ENABLED.has(a)}a.setPass=function(a){b("recoil-shared/util/Recoil_RecoilEnv").RECOIL_GKS_ENABLED.add(a)};a.setFail=function(a){b("recoil-shared/util/Recoil_RecoilEnv").RECOIL_GKS_ENABLED["delete"](a)};a.clear=function(){b("recoil-shared/util/Recoil_RecoilEnv").RECOIL_GKS_ENABLED.clear()};e.exports=b("gkx")}),null);
__d("recoil-shared/util/Recoil_recoverableViolation",["recoverableViolation"],(function(a,b,c,d,e,f){"use strict";e.exports=b("recoverableViolation")}),null);
__d("recoil-oss/core/Recoil_ReactMode",["__debug","react","recoil-shared/util/Recoil_gkx","recoil-shared/util/Recoil_recoverableViolation"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react"),i=(f=h.useSyncExternalStore)!=null?f:h.unstable_useSyncExternalStore,j=!1;function a(){var a=h.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,c=a.ReactCurrentDispatcher;a=a.ReactCurrentOwner;c=(c=c==null?void 0:c.current)!=null?c:a.currentDispatcher;a=c.useSyncExternalStore!=null;i&&!a&&!j&&(j=!0,b("recoil-shared/util/Recoil_recoverableViolation")("A React renderer without React 18+ API support is being used with React 18+.","recoil"));return a}function c(){if(b("recoil-shared/util/Recoil_gkx")("4523"))return{mode:"TRANSITION_SUPPORT",early:!0,concurrent:!0};return b("recoil-shared/util/Recoil_gkx")("4444")&&i!=null?{mode:"SYNC_EXTERNAL_STORE",early:!0,concurrent:!1}:b("recoil-shared/util/Recoil_gkx")("1841868")?{mode:"LEGACY",early:!0,concurrent:!1}:{mode:"LEGACY",early:!1,concurrent:!1}}function d(){var a=b("__debug");a=a.isAcceptingUpdate;return typeof a==="function"&&a()}e.exports={useSyncExternalStore:i,currentRendererSupportsUseSyncExternalStore:a,reactMode:c,isFastRefreshEnabled:d}}),null);
__d("recoil-oss/core/Recoil_RecoilValue",[],(function(a,b,c,d,e,f){"use strict";b=function(){function a(a){this.key=a}var b=a.prototype;b.toJSON=function(){return{key:this.key}};return a}();var g=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}return a}(b),h=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}return a}(b);function a(a){return a instanceof g||a instanceof h}e.exports={AbstractRecoilValue:b,RecoilState:g,RecoilValueReadOnly:h,isRecoilValue:a}}),null);
__d("recoil-shared/util/Recoil_expectationViolation",["expectationViolation"],(function(a,b,c,d,e,f){"use strict";e.exports=b("expectationViolation")}),null);
__d("recoil-shared/util/Recoil_mapIterable",["regeneratorRuntime"],(function(a,b,c,d,e,f){"use strict";function a(a,c){return b("regeneratorRuntime").mark(function d(){var e,f,g,h,i,j;return b("regeneratorRuntime").wrap(function(b){while(1)switch(b.prev=b.next){case 0:e=0,(f=a,g=Array.isArray(f),h=0,f=g?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]());case 2:if(!g){b.next=8;break}if(!(h>=f.length)){b.next=5;break}return b.abrupt("break",17);case 5:i=f[h++];b.next=12;break;case 8:h=f.next();if(!h.done){b.next=11;break}return b.abrupt("break",17);case 11:i=h.value;case 12:j=i;b.next=15;return c(j,e++);case 15:b.next=2;break;case 17:case"end":return b.stop()}},d,this)})()}e.exports=a}),null);
__d("recoil-oss/core/Recoil_Node",["recoil-oss/core/Recoil_ReactMode","recoil-oss/core/Recoil_RecoilValue","recoil-shared/util/Recoil_RecoilEnv","recoil-shared/util/Recoil_expectationViolation","recoil-shared/util/Recoil_gkx","recoil-shared/util/Recoil_mapIterable","recoil-shared/util/Recoil_nullthrows","recoil-shared/util/Recoil_recoverableViolation"],(function(a,b,c,d,e,f){"use strict";var g=b("recoil-oss/core/Recoil_ReactMode").isFastRefreshEnabled;g=function(){};var h=new g(),i=new Map(),j=new Map();function a(a){return b("recoil-shared/util/Recoil_mapIterable")(a,function(a){return b("recoil-shared/util/Recoil_nullthrows")(j.get(a))})}function k(a){if(i.has(a)){a='Duplicate atom key "'+a+'". This is a FATAL ERROR in\n      production. But it is safe to ignore this warning if it occurred because of\n      hot module replacement.';b("recoil-shared/util/Recoil_recoverableViolation")(a,"recoil")}}function c(a){b("recoil-shared/util/Recoil_RecoilEnv").RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED&&k(a.key);i.set(a.key,a);var c=a.set==null?new(b("recoil-oss/core/Recoil_RecoilValue").RecoilValueReadOnly)(a.key):new(b("recoil-oss/core/Recoil_RecoilValue").RecoilState)(a.key);j.set(a.key,c);return c}var l=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}return a}(babelHelpers.wrapNativeSuper(Error));function d(a){var b=i.get(a);if(b==null)throw new l('Missing definition for RecoilValue: "'+a+'""');return b}function f(a){return i.get(a)}var m=new Map();function n(a){if(!b("recoil-shared/util/Recoil_gkx")("1842165"))return;var c=i.get(a);(c==null?void 0:c.shouldDeleteConfigOnRelease==null?void 0:c.shouldDeleteConfigOnRelease())&&(i["delete"](a),p(a)==null?void 0:p(a)(),m["delete"](a))}function o(a,c){if(!b("recoil-shared/util/Recoil_gkx")("1842165"))return;c===void 0?m["delete"](a):m.set(a,c)}function p(a){return m.get(a)}e.exports={nodes:i,recoilValues:j,registerNode:c,getNode:d,getNodeMaybe:f,deleteNodeConfigIfPossible:n,setConfigDeletionHandler:o,getConfigDeletionHandler:p,recoilValuesForKeys:a,NodeMissingError:l,DefaultValue:g,DEFAULT_VALUE:h}}),null);
__d("RecoilUsageLogFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1744252");b=d("FalcoLoggerInternal").create("recoil_usage_log",a);e=b;g["default"]=e}),98);
__d("RecoilusagelogEvent",[],(function(a,b,c,d,e,f){a=Object.freeze({RECOIL_ROOT_MOUNTED:"RECOIL_ROOT_MOUNTED"});f["default"]=a}),66);
__d("recoil-oss/adt/Recoil_Queue",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){b()}e.exports={enqueueExecution:a}}),null);
__d("recoil-oss/core/Recoil_RetentionZone",[],(function(a,b,c,d,e,f){"use strict";var g=function(){};function a(){return new g()}e.exports={RetentionZone:g,retentionZone:a}}),null);
__d("recoil-shared/util/Recoil_CopyOnWrite",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){a=new Set(a);a.add(b);return a}function b(a,b){a=new Set(a);a["delete"](b);return a}function c(a,b,c){a=new Map(a);a.set(b,c);return a}function d(a,b,c){a=new Map(a);a.set(b,c(a.get(b)));return a}function f(a,b){a=new Map(a);a["delete"](b);return a}function g(a,b){var c=new Map(a);b.forEach(function(a){return c["delete"](a)});return c}e.exports={setByAddingToSet:a,setByDeletingFromSet:b,mapBySettingInMap:c,mapByUpdatingInMap:d,mapByDeletingFromMap:f,mapByDeletingMultipleFromMap:g}}),null);
__d("recoil-shared/util/Recoil_filterIterable",["regeneratorRuntime"],(function(a,b,c,d,e,f){"use strict";var g=b("regeneratorRuntime").mark(a);function a(a,c){var d,e,f,h,i,j;return b("regeneratorRuntime").wrap(function(b){while(1)switch(b.prev=b.next){case 0:d=0,(e=a,f=Array.isArray(e),h=0,e=f?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]());case 2:if(!f){b.next=8;break}if(!(h>=e.length)){b.next=5;break}return b.abrupt("break",18);case 5:i=e[h++];b.next=12;break;case 8:h=e.next();if(!h.done){b.next=11;break}return b.abrupt("break",18);case 11:i=h.value;case 12:j=i;if(!c(j,d++)){b.next=16;break}b.next=16;return j;case 16:b.next=2;break;case 18:case"end":return b.stop()}},g,this)}e.exports=a}),null);
__d("recoil-shared/util/Recoil_lazyProxy",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){var c=new Proxy(a,{get:function(a,c){!(c in a)&&c in b&&(a[c]=b[c]());return a[c]},ownKeys:function(a){for(var d in b)c[d];return Object.keys(a)}});return c}e.exports=a}),null);
__d("recoil-oss/core/Recoil_FunctionalCore",["recoil-oss/core/Recoil_Node","recoil-oss/core/Recoil_RetentionZone","recoil-shared/util/Recoil_CopyOnWrite","recoil-shared/util/Recoil_filterIterable","recoil-shared/util/Recoil_gkx","recoil-shared/util/Recoil_lazyProxy","recoil-shared/util/Recoil_mapIterable"],(function(a,b,c,d,e,f){"use strict";var g=b("recoil-oss/core/Recoil_Node").getNode,h=b("recoil-oss/core/Recoil_Node").getNodeMaybe,i=b("recoil-oss/core/Recoil_Node").recoilValuesForKeys,j=b("recoil-oss/core/Recoil_RetentionZone").RetentionZone,k=b("recoil-shared/util/Recoil_CopyOnWrite").setByAddingToSet,l=Object.freeze(new Set()),m=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}return a}(babelHelpers.wrapNativeSuper(Error));function n(a,c,d){if(!b("recoil-shared/util/Recoil_gkx")("1842165"))return function(){return void 0};var e=a.getState().retention.nodesRetainedByZone;function f(a){var b=e.get(a);b||e.set(a,b=new Set());b.add(c)}if(d instanceof j)f(d);else if(Array.isArray(d))for(var g=d,h=Array.isArray(g),i=0,g=h?g:g[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var k;if(h){if(i>=g.length)break;k=g[i++]}else{i=g.next();if(i.done)break;k=i.value}k=k;f(k)}return function(){if(!b("recoil-shared/util/Recoil_gkx")("1842165"))return;var e=a.getState(),f=e.retention;function g(a){var b=f.nodesRetainedByZone.get(a);b==null?void 0:b["delete"](c);b&&b.size===0&&f.nodesRetainedByZone["delete"](a)}if(d instanceof j)g(d);else if(Array.isArray(d))for(var e=d,h=Array.isArray(e),i=0,e=h?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var k;if(h){if(i>=e.length)break;k=e[i++]}else{i=e.next();if(i.done)break;k=i.value}k=k;g(k)}}}function o(a,b,c,d){var e=a.getState();if(e.nodeCleanupFunctions.has(c))return;var f=g(c),h=n(a,c,f.retainedBy),i=f.init(a,b,d);e.nodeCleanupFunctions.set(c,function(){i(),h()})}function a(a,b,c){o(a,a.getState().currentTree,b,c)}function c(a,b){a=a.getState();a.nodeCleanupFunctions.get(b)==null?void 0:a.nodeCleanupFunctions.get(b)();a.nodeCleanupFunctions["delete"](b)}function d(a,b,c){o(a,b,c,"get");return g(c).get(a,b)}function p(a,b,c){return g(c).peek(a,b)}function f(a,b,c){var d=h(b);d==null?void 0:d.invalidate==null?void 0:d.invalidate(a);return babelHelpers["extends"]({},a,{atomValues:a.atomValues.clone()["delete"](b),nonvalidatedAtoms:a.nonvalidatedAtoms.clone().set(b,c),dirtyAtoms:k(a.dirtyAtoms,b)})}function q(a,b,c,d){var e=g(c);if(e.set==null)throw new m("Attempt to set read-only RecoilValue: "+c);e=e.set;o(a,b,c,"set");return e(a,b,d)}function r(a,c,d){var e=a.getState(),f=a.getGraph(c.version),h=g(d).nodeType;return b("recoil-shared/util/Recoil_lazyProxy")({type:h},{loadable:function(){return p(a,c,d)},isActive:function(){return e.knownAtoms.has(d)||e.knownSelectors.has(d)},isSet:function(){return h==="selector"?!1:c.atomValues.has(d)},isModified:function(){return c.dirtyAtoms.has(d)},deps:function(){var a;return i((a=f.nodeDeps.get(d))!=null?a:[])},subscribers:function(){var f;return{nodes:i(b("recoil-shared/util/Recoil_filterIterable")(s(a,c,new Set([d])),function(a){return a!==d})),components:b("recoil-shared/util/Recoil_mapIterable")((f=(f=e.nodeToComponentSubscriptions.get(d))==null?void 0:f.values())!=null?f:[],function(a){a=a[0];return{name:a}})}}})}function s(a,b,c){var d=new Set();c=Array.from(c);a=a.getGraph(b.version);for(b=c.pop();b;b=c.pop()){var e;d.add(b);e=(e=a.nodeToNodeSubscriptions.get(b))!=null?e:l;for(var e=e,f=Array.isArray(e),g=0,e=f?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(f){if(g>=e.length)break;h=e[g++]}else{g=e.next();if(g.done)break;h=g.value}h=h;d.has(h)||c.push(h)}}return d}e.exports={getNodeLoadable:d,peekNodeLoadable:p,setNodeValue:q,initializeNode:a,cleanUpNode:c,setUnvalidatedAtomValue_DEPRECATED:f,peekNodeInfo:r,getDownstreamNodes:s}}),null);
__d("recoil-shared/util/Recoil_differenceSets",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=new Set();for(var c=arguments.length,d=new Array(c>1?c-1:0),e=1;e<c;e++)d[e-1]=arguments[e];FIRST:for(var f=a,g=Array.isArray(f),h=0,f=g?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var i;if(g){if(h>=f.length)break;i=f[h++]}else{h=f.next();if(h.done)break;i=h.value}var j=i;for(var k=0;k<d.length;k++){var l=d[k];if(l.has(j))continue FIRST}b.add(j)}return b}e.exports=a}),null);
__d("recoil-shared/util/Recoil_mapMap",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){var c=new Map();a.forEach(function(a,d){c.set(d,b(a,d))});return c}e.exports=a}),null);
__d("recoil-oss/core/Recoil_Graph",["recoil-shared/util/Recoil_differenceSets","recoil-shared/util/Recoil_mapMap","recoil-shared/util/Recoil_nullthrows","recoil-shared/util/Recoil_recoverableViolation"],(function(a,b,c,d,e,f){"use strict";function a(){return{nodeDeps:new Map(),nodeToNodeSubscriptions:new Map()}}function c(a){return{nodeDeps:b("recoil-shared/util/Recoil_mapMap")(a.nodeDeps,function(a){return new Set(a)}),nodeToNodeSubscriptions:b("recoil-shared/util/Recoil_mapMap")(a.nodeToNodeSubscriptions,function(a){return new Set(a)})}}function g(a,c,d,e){var f=d.nodeDeps;d=d.nodeToNodeSubscriptions;var g=f.get(a);if(g&&e&&g!==e.nodeDeps.get(a))return;f.set(a,c);e=g==null?c:b("recoil-shared/util/Recoil_differenceSets")(c,g);for(var f=e,e=Array.isArray(f),h=0,f=e?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var i;if(e){if(h>=f.length)break;i=f[h++]}else{h=f.next();if(h.done)break;i=h.value}i=i;d.has(i)||d.set(i,new Set());i=b("recoil-shared/util/Recoil_nullthrows")(d.get(i));i.add(a)}if(g){i=b("recoil-shared/util/Recoil_differenceSets")(g,c);for(h=i,e=Array.isArray(h),f=0,h=e?h:h[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(e){if(f>=h.length)break;g=h[f++]}else{f=h.next();if(f.done)break;g=f.value}c=g;if(!d.has(c))return;i=b("recoil-shared/util/Recoil_nullthrows")(d.get(c));i["delete"](a);i.size===0&&d["delete"](c)}}}function d(a,c,d,e){var f,h,i=d.getState();e===i.currentTree.version||e===((f=i.nextTree)==null?void 0:f.version)||e===((f=i.previousTree)==null?void 0:f.version)||b("recoil-shared/util/Recoil_recoverableViolation")("Tried to save dependencies to a discarded tree","recoil");f=d.getGraph(e);g(a,c,f);if(e===((h=i.previousTree)==null?void 0:h.version)){h=d.getGraph(i.currentTree.version);g(a,c,h,f)}if(e===((h=i.previousTree)==null?void 0:h.version)||e===i.currentTree.version){e=(h=i.nextTree)==null?void 0:h.version;if(e!==void 0){i=d.getGraph(e);g(a,c,i,f)}}}e.exports={cloneGraph:c,graph:a,saveDepsToStore:d}}),null);
__d("recoil-oss/core/Recoil_Keys",[],(function(a,b,c,d,e,f){"use strict";var g=0;a=function(){return g++};var h=0;b=function(){return h++};var i=0;c=function(){return i++};e.exports={getNextTreeStateVersion:a,getNextStoreID:b,getNextComponentID:c}}),null);
__d("recoil-oss/core/Recoil_SnapshotCache",[],(function(a,b,c,d,e,f){"use strict";var g=null;function a(a){g=a}function b(){g==null?void 0:g()}e.exports={setInvalidateMemoizedSnapshot:a,invalidateMemoizedSnapshot:b}}),null);
__d("recoil-oss/core/Recoil_RecoilValueInterface",["recoil-oss/core/Recoil_FunctionalCore","recoil-oss/core/Recoil_Keys","recoil-oss/core/Recoil_Node","recoil-oss/core/Recoil_ReactMode","recoil-oss/core/Recoil_RecoilValue","recoil-oss/core/Recoil_SnapshotCache","recoil-shared/util/Recoil_err","recoil-shared/util/Recoil_nullthrows","recoil-shared/util/Recoil_recoverableViolation"],(function(a,b,c,d,e,f){"use strict";var g,h=b("recoil-oss/core/Recoil_FunctionalCore").getDownstreamNodes,i=b("recoil-oss/core/Recoil_FunctionalCore").getNodeLoadable,j=b("recoil-oss/core/Recoil_FunctionalCore").setNodeValue,k=b("recoil-oss/core/Recoil_Keys").getNextComponentID,l=b("recoil-oss/core/Recoil_Node").getNode,m=b("recoil-oss/core/Recoil_Node").getNodeMaybe,n=b("recoil-oss/core/Recoil_Node").DefaultValue,o=b("recoil-oss/core/Recoil_ReactMode").reactMode,p=(g=b("recoil-oss/core/Recoil_RecoilValue")).AbstractRecoilValue,q=g.RecoilState,r=g.RecoilValueReadOnly;g=g.isRecoilValue;var s=b("recoil-oss/core/Recoil_SnapshotCache").invalidateMemoizedSnapshot;function a(a,c,d){var e;c=c.key;d===void 0&&(d=a.getState().currentTree);var f=a.getState();d.version===f.currentTree.version||d.version===((e=f.nextTree)==null?void 0:e.version)||d.version===((e=f.previousTree)==null?void 0:e.version)||b("recoil-shared/util/Recoil_recoverableViolation")("Tried to read from a discarded tree","recoil");f=i(a,d,c);f.state==="loading"&&f.contents["catch"](function(){return});return f}function c(a,b){var c=a.clone();b.forEach(function(a,b){a.state==="hasValue"&&a.contents instanceof n?c["delete"](b):c.set(b,a)});return c}function t(a,c,d,e){d=d.key;if(typeof e==="function"){a=i(a,c,d);if(a.state==="loading"){c='Tried to set atom or selector "'+d+'" using an updater function while the current state is pending, this is not currently supported.';b("recoil-shared/util/Recoil_recoverableViolation")(c,"recoil");throw b("recoil-shared/util/Recoil_err")(c)}else if(a.state==="hasError")throw a.contents;return e(a.contents)}else return e}function u(a,c,d){if(d.type==="set"){var e=d.recoilValue,f=d.valueOrUpdater;f=t(a,c,e,f);a=j(a,c,e.key,f);for(e=a.entries(),f=Array.isArray(e),a=0,e=f?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(f){if(a>=e.length)break;g=e[a++]}else{a=e.next();if(a.done)break;g=a.value}g=g;var h=g[0];g=g[1];v(c,h,g)}}else if(d.type==="setLoadable"){h=d.recoilValue.key;g=d.loadable;v(c,h,g)}else if(d.type==="markModified"){a=d.recoilValue.key;c.dirtyAtoms.add(a)}else if(d.type==="setUnvalidated"){f=d.recoilValue.key;e=d.unvalidatedValue;h=m(f);h==null?void 0:h.invalidate==null?void 0:h.invalidate(c);c.atomValues["delete"](f);c.nonvalidatedAtoms.set(f,e);c.dirtyAtoms.add(f)}else b("recoil-shared/util/Recoil_recoverableViolation")("Unknown action "+d.type,"recoil")}function v(a,b,c){c.state==="hasValue"&&c.contents instanceof n?a.atomValues["delete"](b):a.atomValues.set(b,c),a.dirtyAtoms.add(b),a.nonvalidatedAtoms["delete"](b)}function w(a,b){a.replaceState(function(c){c=z(c);for(var d=0;d<b.length;d++){var e=b[d];u(a,c,e)}A(a,c);s();return c})}function x(a,b){if(y.length){var c=y[y.length-1],d=c.get(a);d||c.set(a,d=[]);d.push(b)}else w(a,[b])}var y=[];function d(){var a=new Map();y.push(a);return function(){for(var c=a,d=Array.isArray(c),e=0,c=d?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=c.length)break;f=c[e++]}else{e=c.next();if(e.done)break;f=e.value}f=f;var g=f[0];f=f[1];w(g,f)}g=y.pop();g!==a&&b("recoil-shared/util/Recoil_recoverableViolation")("Incorrect order of batch popping","recoil")}}function z(a){return babelHelpers["extends"]({},a,{atomValues:a.atomValues.clone(),nonvalidatedAtoms:a.nonvalidatedAtoms.clone(),dirtyAtoms:new Set(a.dirtyAtoms)})}function A(a,b){a=h(a,b,b.dirtyAtoms);for(var a=a,c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;(e=m(e))==null?void 0:e.invalidate==null?void 0:e.invalidate(b)}}function B(a,b,c){x(a,{type:"set",recoilValue:b,valueOrUpdater:c})}function f(a,b,c){if(c instanceof n)return B(a,b,c);x(a,{type:"setLoadable",recoilValue:b,loadable:c})}function C(a,b){x(a,{type:"markModified",recoilValue:b})}function D(a,b,c){x(a,{type:"setUnvalidated",recoilValue:b,unvalidatedValue:c})}function E(a,c,d,e){var f=c.key;e===void 0&&(e=null);var g=k();c=a.getState();c.nodeToComponentSubscriptions.has(f)||c.nodeToComponentSubscriptions.set(f,new Map());b("recoil-shared/util/Recoil_nullthrows")(c.nodeToComponentSubscriptions.get(f)).set(g,[(c=e)!=null?c:"<not captured>",d]);e=o();if(e.early&&e.mode==="LEGACY"){c=a.getState().nextTree;c&&c.dirtyAtoms.has(f)&&d(c)}return{release:function(){var c=a.getState(),d=c.nodeToComponentSubscriptions.get(f);if(d===void 0||!d.has(g)){b("recoil-shared/util/Recoil_recoverableViolation")("Subscription missing at release time for atom "+f+". This is a bug in Recoil.","recoil");return}d["delete"](g);d.size===0&&c.nodeToComponentSubscriptions["delete"](f)}}}function F(a,b){var c=a.getState();c=c.currentTree;b=l(b.key);b.clearCache==null?void 0:b.clearCache(a,c)}e.exports={RecoilValueReadOnly:r,AbstractRecoilValue:p,RecoilState:q,getRecoilValueAsLoadable:a,setRecoilValue:B,setRecoilValueLoadable:f,markRecoilValueModified:C,setUnvalidatedRecoilValue:D,subscribeToRecoilValue:E,isRecoilValue:g,applyAtomValueWrites:c,batchStart:d,writeLoadableToTreeState:v,invalidateDownstreams:A,copyTreeState:z,refreshRecoilValue:F}}),null);
__d("recoil-shared/util/Recoil_someSet",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){var d=a.entries(),e=d.next();while(!e.done){var f=e.value;if(b.call(c,f[1],f[0],a))return!0;e=d.next()}return!1}e.exports=a}),null);
__d("recoil-oss/core/Recoil_Retention",["recoil-oss/core/Recoil_FunctionalCore","recoil-oss/core/Recoil_Node","recoil-oss/core/Recoil_RetentionZone","recoil-shared/util/Recoil_gkx","recoil-shared/util/Recoil_nullthrows","recoil-shared/util/Recoil_recoverableViolation","recoil-shared/util/Recoil_someSet"],(function(a,b,c,d,e,f){"use strict";var g=b("recoil-oss/core/Recoil_FunctionalCore").cleanUpNode,h=b("recoil-oss/core/Recoil_Node").deleteNodeConfigIfPossible,i=b("recoil-oss/core/Recoil_Node").getNode,j=b("recoil-oss/core/Recoil_RetentionZone").RetentionZone;f=12e4;var k=new Set();function l(a,c){var d=a.getState(),e=d.currentTree;if(d.nextTree){b("recoil-shared/util/Recoil_recoverableViolation")("releaseNodesNowOnCurrentTree should only be called at the end of a batch","recoil");return}var f=new Set();for(var c=c,g=Array.isArray(c),h=0,c=g?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var i;if(g){if(h>=c.length)break;i=c[h++]}else{h=c.next();if(h.done)break;i=h.value}i=i;if(i instanceof j)for(var k=p(d,i),l=Array.isArray(k),n=0,k=l?k:k[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var q;if(l){if(n>=k.length)break;q=k[n++]}else{n=k.next();if(n.done)break;q=n.value}q=q;f.add(q)}else f.add(i)}q=m(a,f);for(n=q,l=Array.isArray(n),k=0,n=l?n:n[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(l){if(k>=n.length)break;i=n[k++]}else{k=n.next();if(k.done)break;i=k.value}h=i;o(a,e,h)}}function m(a,c){var d=a.getState(),e=d.currentTree,f=a.getGraph(e.version),g=new Set(),h=new Set();j(c);return g;function j(c){var l=new Set();c=n(a,e,c,g,h);for(var m=0;m<c.length;m++){var o,p=c[m];if(i(p).retainedBy==="recoilRoot"){h.add(p);continue}if(((o=d.retention.referenceCounts.get(p))!=null?o:0)>0){h.add(p);continue}if(q(p).some(function(a){return d.retention.referenceCounts.get(a)})){h.add(p);continue}o=f.nodeToNodeSubscriptions.get(p);if(o&&b("recoil-shared/util/Recoil_someSet")(o,function(a){return h.has(a)})){h.add(p);continue}g.add(p);l.add(p)}o=new Set();for(p=l,m=Array.isArray(p),c=0,p=m?p:p[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(m){if(c>=p.length)break;l=p[c++]}else{c=p.next();if(c.done)break;l=c.value}l=l;for(var l=(l=f.nodeDeps.get(l))!=null?l:k,r=Array.isArray(l),s=0,l=r?l:l[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var t;if(r){if(s>=l.length)break;t=l[s++]}else{s=l.next();if(s.done)break;t=s.value}t=t;g.has(t)||o.add(t)}}o.size&&j(o)}}function n(a,c,d,e,f){var g=a.getGraph(c.version),h=[],i=new Set();while(d.size>0)j(b("recoil-shared/util/Recoil_nullthrows")(d.values().next().value));return h;function j(a){if(e.has(a)||f.has(a)){d["delete"](a);return}if(i.has(a))return;var b=g.nodeToNodeSubscriptions.get(a);if(b)for(var b=b,c=Array.isArray(b),k=0,b=c?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var l;if(c){if(k>=b.length)break;l=b[k++]}else{k=b.next();if(k.done)break;l=k.value}l=l;j(l)}i.add(a);d["delete"](a);h.push(a)}}function o(a,c,d){if(!b("recoil-shared/util/Recoil_gkx")("1842165"))return;g(a,d);a=a.getState();a.knownAtoms["delete"](d);a.knownSelectors["delete"](d);a.nodeTransactionSubscriptions["delete"](d);a.retention.referenceCounts["delete"](d);var e=q(d);for(var f=0;f<e.length;f++){var i=e[f];(i=a.retention.nodesRetainedByZone.get(i))==null?void 0:i["delete"](d)}c.atomValues["delete"](d);c.dirtyAtoms["delete"](d);c.nonvalidatedAtoms["delete"](d);i=a.graphsByVersion.get(c.version);if(i){f=i.nodeDeps.get(d);if(f!==void 0){i.nodeDeps["delete"](d);for(e=f,a=Array.isArray(e),c=0,e=a?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(a){if(c>=e.length)break;f=e[c++]}else{c=e.next();if(c.done)break;f=c.value}f=f;(f=i.nodeToNodeSubscriptions.get(f))==null?void 0:f["delete"](d)}}i.nodeToNodeSubscriptions["delete"](d)}h(d)}function p(a,b){return(a=a.retention.nodesRetainedByZone.get(b))!=null?a:k}function q(a){a=i(a).retainedBy;if(a===void 0||a==="components"||a==="recoilRoot")return[];else if(a instanceof j)return[a];else return a}function r(a,b){var c=a.getState();c.nextTree?c.retention.retainablesToCheckForRelease.add(b):l(a,new Set([b]))}function a(a,c,d){var e;if(!b("recoil-shared/util/Recoil_gkx")("1842165"))return;var f=a.getState().retention.referenceCounts;e=((e=f.get(c))!=null?e:0)+d;e===0?s(a,c):f.set(c,e)}function s(a,c){if(!b("recoil-shared/util/Recoil_gkx")("1842165"))return;var d=a.getState().retention.referenceCounts;d["delete"](c);r(a,c)}function c(a){if(!b("recoil-shared/util/Recoil_gkx")("1842165"))return;var c=a.getState();l(a,c.retention.retainablesToCheckForRelease);c.retention.retainablesToCheckForRelease.clear()}function d(a){return a===void 0?"recoilRoot":a}e.exports={SUSPENSE_TIMEOUT_MS:f,updateRetainCount:a,updateRetainCountToZero:s,releaseScheduledRetainablesNow:c,retainedByOptionWithDefault:d}}),null);
__d("recoil-shared/util/Recoil_ReactBatchedUpdates",["ReactDOMComet"],(function(a,b,c,d,e,f){a=b("ReactDOMComet").unstable_batchedUpdates;e.exports={unstable_batchedUpdates:a}}),null);
__d("recoil-oss/core/Recoil_Batching",["recoil-oss/core/Recoil_RecoilValueInterface","recoil-shared/util/Recoil_ReactBatchedUpdates"],(function(a,b,c,d,e,f){var g=b("recoil-oss/core/Recoil_RecoilValueInterface").batchStart;a=b("recoil-shared/util/Recoil_ReactBatchedUpdates").unstable_batchedUpdates;var h=a||function(a){return a()};c=function(a){h=a};d=function(){return h};f=function(a){h(function(){var b=function(){return void 0};try{b=g(),a()}finally{b()}})};e.exports={getBatcher:d,setBatcher:c,batchUpdates:f}}),null);
__d("recoil-oss/adt/Recoil_PersistentMap",["hamt_plus","recoil-shared/util/Recoil_gkx"],(function(a,b,c,d,e,f){"use strict";var g=function(){function a(a){this.$1=new Map(a==null?void 0:a.entries())}var b=a.prototype;b.keys=function(){return this.$1.keys()};b.entries=function(){return this.$1.entries()};b.get=function(a){return this.$1.get(a)};b.has=function(a){return this.$1.has(a)};b.set=function(a,b){this.$1.set(a,b);return this};b["delete"]=function(a){this.$1["delete"](a);return this};b.clone=function(){return i(this)};b.toMap=function(){return new Map(this.$1)};return a}(),h=function(){function a(c){this.$1=b("hamt_plus").empty.beginMutation();if(c instanceof a){var d=c.$1.endMutation();c.$1=d.beginMutation();this.$1=d.beginMutation()}else if(c)for(var d=c.entries(),c=Array.isArray(d),e=0,d=c?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(c){if(e>=d.length)break;f=d[e++]}else{e=d.next();if(e.done)break;f=e.value}f=f;var g=f[0];f=f[1];this.$1.set(g,f)}}var c=a.prototype;c.keys=function(){return this.$1.keys()};c.entries=function(){return this.$1.entries()};c.get=function(a){return this.$1.get(a)};c.has=function(a){return this.$1.has(a)};c.set=function(a,b){this.$1.set(a,b);return this};c["delete"]=function(a){this.$1["delete"](a);return this};c.clone=function(){return i(this)};c.toMap=function(){return new Map(this.$1)};return a}();function i(a){if(b("recoil-shared/util/Recoil_gkx")("1865551"))return new h(a);else return new g(a)}e.exports={persistentMap:i}}),null);
__d("recoil-oss/core/Recoil_State",["recoil-oss/adt/Recoil_PersistentMap","recoil-oss/core/Recoil_Graph","recoil-oss/core/Recoil_Keys"],(function(a,b,c,d,e,f){"use strict";var g=b("recoil-oss/adt/Recoil_PersistentMap").persistentMap,h=b("recoil-oss/core/Recoil_Graph").graph,i=b("recoil-oss/core/Recoil_Keys").getNextTreeStateVersion;function j(){var a=i();return{version:a,stateID:a,transactionMetadata:{},dirtyAtoms:new Set(),atomValues:g(),nonvalidatedAtoms:g()}}function a(){var a=j();return{currentTree:a,nextTree:null,previousTree:null,commitDepth:0,knownAtoms:new Set(),knownSelectors:new Set(),transactionSubscriptions:new Map(),nodeTransactionSubscriptions:new Map(),nodeToComponentSubscriptions:new Map(),queuedComponentCallbacks_DEPRECATED:[],suspendedComponentResolvers:new Set(),graphsByVersion:new Map().set(a.version,h()),retention:{referenceCounts:new Map(),nodesRetainedByZone:new Map(),retainablesToCheckForRelease:new Set()},nodeCleanupFunctions:new Map()}}e.exports={makeEmptyTreeState:j,makeEmptyStoreState:a,getNextTreeStateVersion:i}}),null);
__d("recoil-shared/util/Recoil_Environment",[],(function(a,b,c,d,e,f){"use strict";var g=typeof Window==="undefined"||typeof window==="undefined";a=function(a){return!g&&(a===window||a instanceof Window)};b=typeof navigator!=="undefined"&&navigator.product==="ReactNative";e.exports={isSSR:g,isReactNative:b,isWindow:a}}),null);
__d("recoil-shared/util/Recoil_Memoize",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){var c;return function(){c||(c={});var d=b.apply(void 0,arguments);Object.hasOwnProperty.call(c,d)||(c[d]=a.apply(void 0,arguments));return c[d]}}function b(a,b){var c,d;return function(){var e=b.apply(void 0,arguments);if(c===e)return d;c=e;d=a.apply(void 0,arguments);return d}}function c(a,b){var c,d,e=function(){var e=b.apply(void 0,arguments);if(c===e)return d;c=e;d=a.apply(void 0,arguments);return d},f=function(){c=null};return[e,f]}e.exports={memoizeWithArgsHash:a,memoizeOneWithArgsHash:b,memoizeOneWithArgsHashAndInvalidation:c}}),null);
__d("recoil-shared/util/Recoil_concatIterables",["regeneratorRuntime"],(function(a,b,c,d,e,f){"use strict";var g=b("regeneratorRuntime").mark(a);function a(a){var c,d,e,f,h,i,j,k,l,m;return b("regeneratorRuntime").wrap(function(b){while(1)switch(b.prev=b.next){case 0:c=a,d=Array.isArray(c),e=0,c=d?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();case 1:if(!d){b.next=7;break}if(!(e>=c.length)){b.next=4;break}return b.abrupt("break",30);case 4:f=c[e++];b.next=11;break;case 7:e=c.next();if(!e.done){b.next=10;break}return b.abrupt("break",30);case 10:f=e.value;case 11:h=f,(i=h,j=Array.isArray(i),k=0,i=j?i:i[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]());case 13:if(!j){b.next=19;break}if(!(k>=i.length)){b.next=16;break}return b.abrupt("break",28);case 16:l=i[k++];b.next=23;break;case 19:k=i.next();if(!k.done){b.next=22;break}return b.abrupt("break",28);case 22:l=k.value;case 23:m=l;b.next=26;return m;case 26:b.next=13;break;case 28:b.next=1;break;case 30:case"end":return b.stop()}},g,this)}e.exports=a}),null);
__d("recoil-oss/core/Recoil_Snapshot",["recoil-oss/core/Recoil_Batching","recoil-oss/core/Recoil_FunctionalCore","recoil-oss/core/Recoil_Graph","recoil-oss/core/Recoil_Keys","recoil-oss/core/Recoil_Node","recoil-oss/core/Recoil_RecoilValueInterface","recoil-oss/core/Recoil_Retention","recoil-oss/core/Recoil_SnapshotCache","recoil-oss/core/Recoil_State","recoil-shared/util/Recoil_Environment","recoil-shared/util/Recoil_Memoize","recoil-shared/util/Recoil_concatIterables","recoil-shared/util/Recoil_err","recoil-shared/util/Recoil_filterIterable","recoil-shared/util/Recoil_gkx","recoil-shared/util/Recoil_mapIterable","recoil-shared/util/Recoil_nullthrows","recoil-shared/util/Recoil_recoverableViolation","regeneratorRuntime"],(function(a,b,c,d,e,f){"use strict";var g=b("recoil-oss/core/Recoil_Batching").batchUpdates,h=b("recoil-oss/core/Recoil_FunctionalCore").initializeNode,i=b("recoil-oss/core/Recoil_FunctionalCore").peekNodeInfo,j=b("recoil-oss/core/Recoil_Graph").graph,k=b("recoil-oss/core/Recoil_Keys").getNextStoreID,l=b("recoil-oss/core/Recoil_Node").DEFAULT_VALUE,m=b("recoil-oss/core/Recoil_Node").recoilValues,n=b("recoil-oss/core/Recoil_Node").recoilValuesForKeys,o=(d=b("recoil-oss/core/Recoil_RecoilValueInterface")).AbstractRecoilValue,p=d.getRecoilValueAsLoadable,q=d.setRecoilValue,r=d.setUnvalidatedRecoilValue,s=b("recoil-oss/core/Recoil_Retention").updateRetainCount;f=b("recoil-oss/core/Recoil_SnapshotCache").setInvalidateMemoizedSnapshot;var t=b("recoil-oss/core/Recoil_State").getNextTreeStateVersion,u=b("recoil-oss/core/Recoil_State").makeEmptyStoreState,v=b("recoil-shared/util/Recoil_Environment").isSSR;d=b("recoil-shared/util/Recoil_Memoize").memoizeOneWithArgsHashAndInvalidation;var w="\nRecoil Snapshots only last for the duration of the callback they are provided to. To keep a Snapshot longer, do this:\n\n  const release = snapshot.retain();\n  try {\n    await doSomethingWithSnapshot(snapshot);\n  } finally {\n    release();\n  }\n\nThis is currently a DEV-only warning but will become a thrown exception in the next release of Recoil.\n",x=function(){function a(a,c){var d=this;this.$2=1;this.getLoadable=function(a){d.checkRefCount_INTERNAL();return p(d.$1,a)};this.getPromise=function(a){d.checkRefCount_INTERNAL();return d.getLoadable(a).toPromise()};this.getNodes_UNSTABLE=function(a){d.checkRefCount_INTERNAL();if((a==null?void 0:a.isModified)===!0){if((a==null?void 0:a.isInitialized)===!1)return[];var c=d.$1.getState().currentTree;return n(c.dirtyAtoms)}var e=d.$1.getState().knownAtoms,f=d.$1.getState().knownSelectors;return(a==null?void 0:a.isInitialized)==null?m.values():a.isInitialized===!0?n(b("recoil-shared/util/Recoil_concatIterables")([e,f])):b("recoil-shared/util/Recoil_filterIterable")(m.values(),function(a){a=a.key;return!e.has(a)&&!f.has(a)})};this.getInfo_UNSTABLE=function(a){a=a.key;d.checkRefCount_INTERNAL();return i(d.$1,d.$1.getState().currentTree,a)};this.map=function(a){d.checkRefCount_INTERNAL();var b=new B(d,g);a(b);return b};this.asyncMap=function(a){var c;return b("regeneratorRuntime").async(function(e){while(1)switch(e.prev=e.next){case 0:d.checkRefCount_INTERNAL();c=new B(d,g);c.retain();e.next=5;return b("regeneratorRuntime").awrap(a(c));case 5:c.autoRelease_INTERNAL();return e.abrupt("return",c);case 7:case"end":return e.stop()}},null,this)};this.$1={storeID:k(),parentStoreID:c,getState:function(){return a},replaceState:function(b){a.currentTree=b(a.currentTree)},getGraph:function(c){var d=a.graphsByVersion;if(d.has(c))return b("recoil-shared/util/Recoil_nullthrows")(d.get(c));var e=j();d.set(c,e);return e},subscribeToTransactions:function(){return{release:function(){}}},addTransactionMetadata:function(){throw b("recoil-shared/util/Recoil_err")("Cannot subscribe to Snapshots")}};for(var c=this.$1.getState().knownAtoms,e=Array.isArray(c),f=0,c=e?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var l;if(e){if(f>=c.length)break;l=c[f++]}else{f=c.next();if(f.done)break;l=f.value}l=l;h(this.$1,l,"get");s(this.$1,l,1)}this.autoRelease_INTERNAL()}var c=a.prototype;c.retain=function(){var a=this;this.$2<=0&&b("recoil-shared/util/Recoil_recoverableViolation")("Attempt to retain() Snapshot that was already released.","recoil");this.$2++;var c=!1;return function(){c||(c=!0,a.$3())}};c.autoRelease_INTERNAL=function(){var a=this;v||window.setTimeout(function(){return a.$3()},10)};c.$3=function(){this.$2--;if(this.$2===0){this.$1.getState().nodeCleanupFunctions.forEach(function(a){return a()});this.$1.getState().nodeCleanupFunctions.clear();if(!b("recoil-shared/util/Recoil_gkx")("1842165"))return}else this.$2<0};c.isRetained=function(){return this.$2>0};c.checkRefCount_INTERNAL=function(){b("recoil-shared/util/Recoil_gkx")("1842165")&&this.$2<=0};c.getStore_INTERNAL=function(){this.checkRefCount_INTERNAL();return this.$1};c.getID=function(){this.checkRefCount_INTERNAL();return this.$1.getState().currentTree.stateID};c.getStoreID=function(){this.checkRefCount_INTERNAL();return this.$1.storeID};return a}();function y(a,c,d){d===void 0&&(d=!1);var e=a.getState(),f=d?t():c.version;return{currentTree:{version:d?f:c.version,stateID:d?f:c.stateID,transactionMetadata:babelHelpers["extends"]({},c.transactionMetadata),dirtyAtoms:new Set(c.dirtyAtoms),atomValues:c.atomValues.clone(),nonvalidatedAtoms:c.nonvalidatedAtoms.clone()},commitDepth:0,nextTree:null,previousTree:null,knownAtoms:new Set(e.knownAtoms),knownSelectors:new Set(e.knownSelectors),transactionSubscriptions:new Map(),nodeTransactionSubscriptions:new Map(),nodeToComponentSubscriptions:new Map(),queuedComponentCallbacks_DEPRECATED:[],suspendedComponentResolvers:new Set(),graphsByVersion:new Map().set(f,a.getGraph(c.version)),retention:{referenceCounts:new Map(),nodesRetainedByZone:new Map(),retainablesToCheckForRelease:new Set()},nodeCleanupFunctions:new Map(b("recoil-shared/util/Recoil_mapIterable")(e.nodeCleanupFunctions.entries(),function(a){a=a[0];return[a,function(){}]}))}}function a(a){var b=new x(u());return a!=null?b.map(a):b}w=d(function(a,c){var d=a.getState();c=c==="latest"?(c=d.nextTree)!=null?c:d.currentTree:b("recoil-shared/util/Recoil_nullthrows")(d.previousTree);return new x(y(a,c),a.storeID)},function(a,b){return String(b)+String(a.storeID)+String((b=a.getState().nextTree)==null?void 0:b.version)+String(a.getState().currentTree.version)+String((b=a.getState().previousTree)==null?void 0:b.version)});var z=w[0],A=w[1];f(A);function c(a,b){b===void 0&&(b="latest");var c=z(a,b);if(!c.isRetained()){A();return z(a,b)}return c}var B=function(b){babelHelpers.inheritsLoose(a,b);function a(a,c){var d;d=b.call(this,y(a.getStore_INTERNAL(),a.getStore_INTERNAL().getState().currentTree,!0),a.getStoreID())||this;d.set=function(a,b){d.checkRefCount_INTERNAL();var c=d.getStore_INTERNAL();d.$MutableSnapshot1(function(){s(c,a.key,1),q(d.getStore_INTERNAL(),a,b)})};d.reset=function(a){d.checkRefCount_INTERNAL();var b=d.getStore_INTERNAL();d.$MutableSnapshot1(function(){s(b,a.key,1),q(d.getStore_INTERNAL(),a,l)})};d.setUnvalidatedAtomValues_DEPRECATED=function(a){d.checkRefCount_INTERNAL();var b=d.getStore_INTERNAL();g(function(){for(var c=a.entries(),d=Array.isArray(c),e=0,c=d?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=c.length)break;f=c[e++]}else{e=c.next();if(e.done)break;f=e.value}f=f;var g=f[0];f=f[1];s(b,g,1);r(b,new o(g),f)}})};d.$MutableSnapshot1=c;return d}return a}(x);e.exports={Snapshot:x,MutableSnapshot:B,freshSnapshot:a,cloneSnapshot:c}}),null);
__d("recoil-shared/util/Recoil_unionSets",[],(function(a,b,c,d,e,f){"use strict";function a(){var a=new Set();for(var b=arguments.length,c=new Array(b),d=0;d<b;d++)c[d]=arguments[d];for(var e=0;e<c.length;e++){var f=c[e];for(var g=f,h=Array.isArray(g),i=0,g=h?g:g[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var j;if(h){if(i>=g.length)break;j=g[i++]}else{i=g.next();if(i.done)break;j=i.value}var k=j;a.add(k)}}return a}e.exports=a}),null);
__d("recoil-shared/util/Recoil_useRefInitOnce",["react"],(function(a,b,c,d,e,f){"use strict";var g;c=g||b("react");var h=c.useRef;function a(a){var b=h(a);b.current===a&&typeof a==="function"&&(b.current=a());return b}e.exports=a}),null);
__d("recoil-oss/core/Recoil_RecoilRoot",["FBLogger","RecoilUsageLogFalcoEvent","RecoilusagelogEvent","URI","react","recoil-oss/adt/Recoil_Queue","recoil-oss/core/Recoil_FunctionalCore","recoil-oss/core/Recoil_Graph","recoil-oss/core/Recoil_Keys","recoil-oss/core/Recoil_ReactMode","recoil-oss/core/Recoil_RecoilValueInterface","recoil-oss/core/Recoil_Retention","recoil-oss/core/Recoil_Snapshot","recoil-oss/core/Recoil_State","recoil-shared/util/Recoil_err","recoil-shared/util/Recoil_gkx","recoil-shared/util/Recoil_nullthrows","recoil-shared/util/Recoil_recoverableViolation","recoil-shared/util/Recoil_unionSets","recoil-shared/util/Recoil_useRefInitOnce"],(function(a,b,c,d,e,f){"use strict";var g,h,i=b("recoil-oss/core/Recoil_State").getNextTreeStateVersion,j=b("recoil-oss/core/Recoil_State").makeEmptyStoreState,k=(f=b("recoil-oss/core/Recoil_FunctionalCore")).cleanUpNode,l=f.getDownstreamNodes,m=f.initializeNode,n=f.setNodeValue,o=f.setUnvalidatedAtomValue_DEPRECATED,p=b("recoil-oss/core/Recoil_Graph").graph,q=b("recoil-oss/core/Recoil_Graph").cloneGraph,r=b("recoil-oss/core/Recoil_Keys").getNextStoreID,s=b("recoil-oss/core/Recoil_ReactMode").reactMode,t=b("recoil-oss/core/Recoil_RecoilValueInterface").applyAtomValueWrites,u=b("recoil-oss/core/Recoil_Retention").releaseScheduledRetainablesNow,v=b("recoil-oss/core/Recoil_Snapshot").freshSnapshot,w=g||(g=b("react"));f=g;var x=f.Suspense,y=f.useCallback,z=f.useContext,A=f.useEffect,B=f.useRef,C=f.useState;function a(){throw b("recoil-shared/util/Recoil_err")("This component must be used inside a <RecoilRoot> component.")}var D=Object.freeze({storeID:r(),getState:a,replaceState:a,getGraph:a,subscribeToTransactions:a,addTransactionMetadata:a}),E=!1;function F(a){if(E)throw b("recoil-shared/util/Recoil_err")("An atom update was triggered within the execution of a state updater function. State updater functions provided to Recoil must be pure functions.");var c=a.getState();if(c.nextTree===null){b("recoil-shared/util/Recoil_gkx")("1842165")&&b("recoil-shared/util/Recoil_gkx")("1098")&&(c.commitDepth>0&&u(a));a=c.currentTree.version;var d=i();c.nextTree=babelHelpers["extends"]({},c.currentTree,{version:d,stateID:d,dirtyAtoms:new Set(),transactionMetadata:{}});c.graphsByVersion.set(d,q(b("recoil-shared/util/Recoil_nullthrows")(c.graphsByVersion.get(a))))}}var G=w.createContext({current:D}),H=function(){return z(G)};function I(a,b,c){a=l(a,c,c.dirtyAtoms);for(var a=a,d=Array.isArray(a),e=0,a=d?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=a.length)break;f=a[e++]}else{e=a.next();if(e.done)break;f=e.value}f=f;f=b.nodeToComponentSubscriptions.get(f);if(f)for(var f=f,g=Array.isArray(f),h=0,f=g?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var i;if(g){if(h>=f.length)break;i=f[h++]}else{h=f.next();if(h.done)break;i=h.value}i=i;i[0];i=i[1];i[0];i=i[1];i(c)}}}function J(a){var b=a.getState(),c=b.currentTree,d=c.dirtyAtoms;if(d.size){for(var e=b.nodeTransactionSubscriptions,f=Array.isArray(e),g=0,e=f?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(f){if(g>=e.length)break;h=e[g++]}else{g=e.next();if(g.done)break;h=g.value}h=h;var i=h[0];h=h[1];if(d.has(i))for(var i=h,h=Array.isArray(i),j=0,i=h?i:i[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var k;if(h){if(j>=i.length)break;k=i[j++]}else{j=i.next();if(j.done)break;k=j.value}k=k;k[0];k=k[1];k(a)}}for(k=b.transactionSubscriptions,j=Array.isArray(k),h=0,k=j?k:k[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(j){if(h>=k.length)break;i=k[h++]}else{h=k.next();if(h.done)break;i=h.value}g=i;g[0];f=g[1];f(a)}(!s().early||b.suspendedComponentResolvers.size>0)&&(I(a,b,c),b.suspendedComponentResolvers.forEach(function(a){return a()}),b.suspendedComponentResolvers.clear())}b.queuedComponentCallbacks_DEPRECATED.forEach(function(a){return a(c)});b.queuedComponentCallbacks_DEPRECATED.splice(0,b.queuedComponentCallbacks_DEPRECATED.length)}function K(a){var c=a.getState();c.commitDepth++;try{var d=c.nextTree;if(d==null)return;c.previousTree=c.currentTree;c.currentTree=d;c.nextTree=null;J(a);c.previousTree!=null?c.graphsByVersion["delete"](c.previousTree.version):b("recoil-shared/util/Recoil_recoverableViolation")("Ended batch with no previous state, which is unexpected","recoil");c.previousTree=null;b("recoil-shared/util/Recoil_gkx")("1842165")&&(d==null&&u(a))}finally{c.commitDepth--}}function L(a){var c=a.setNotifyBatcherOfChange,d=H();a=C([]);var e=a[1];c(function(){return e({})});A(function(){c(function(){return e({})});return function(){c(function(){})}},[c]);A(function(){b("recoil-oss/adt/Recoil_Queue").enqueueExecution("Batcher",function(){K(d.current)})});return null}function M(a,c){var d=j();c({set:function(c,e){var f=d.currentTree;c=n(a,f,c.key,e);e=new Set(c.keys());var g=f.nonvalidatedAtoms.clone();for(var h=e,i=Array.isArray(h),j=0,h=i?h:h[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var k;if(i){if(j>=h.length)break;k=h[j++]}else{j=h.next();if(j.done)break;k=j.value}k=k;g["delete"](k)}d.currentTree=babelHelpers["extends"]({},f,{dirtyAtoms:b("recoil-shared/util/Recoil_unionSets")(f.dirtyAtoms,e),atomValues:t(f.atomValues,c),nonvalidatedAtoms:g})},setUnvalidatedAtomValues:function(a){a.forEach(function(a,b){d.currentTree=o(d.currentTree,b,a)})}});return d}function N(a){a=v(a);var b=a.getStore_INTERNAL().getState();a.retain();b.nodeCleanupFunctions.forEach(function(a){return a()});b.nodeCleanupFunctions.clear();return b}var O=!1;function P(){O||(O=!0,b("FBLogger")("recoil","root_suspended").warn("Suspended <RecoilRoot> detected. The children of <RecoilRoot> should be wrapped in a <Suspense> boundary since RecoilRoot is not designed to suspend."));return null}var Q=0;function R(a){var c=a.initializeState_DEPRECATED,d=a.initializeState,e=a.store_INTERNAL,f=a.children,g=a.skipCircularDependencyDetection_DANGEROUS;A(function(){b("recoil-shared/util/Recoil_gkx")("1649436")&&b("RecoilUsageLogFalcoEvent").log(function(){return{type:b("RecoilusagelogEvent").RECOIL_ROOT_MOUNTED,path:(h||(h=b("URI"))).getRequestURI().getPath()}})},[]);var i,l=function(a){var c=i.current.graphsByVersion;if(c.has(a))return b("recoil-shared/util/Recoil_nullthrows")(c.get(a));var d=p();c.set(a,d);return d},n=function(a,c){if(c==null){var d=u.current.getState(),e=d.transactionSubscriptions,f=Q++;e.set(f,a);return{release:function(){e["delete"](f)}}}else{d=u.current.getState();var g=d.nodeTransactionSubscriptions;g.has(c)||g.set(c,new Map());var h=Q++;b("recoil-shared/util/Recoil_nullthrows")(g.get(c)).set(h,a);return{release:function(){var a=g.get(c);a&&(a["delete"](h),a.size===0&&g["delete"](c))}}}},o=function(a){F(u.current);var c=Object.keys(a);for(var d=0;d<c.length;d++){var e=c[d];b("recoil-shared/util/Recoil_nullthrows")(u.current.getState().nextTree).transactionMetadata[e]=a[e]}},q=function(a){F(u.current);var c=b("recoil-shared/util/Recoil_nullthrows")(i.current.nextTree),d;try{E=!0,d=a(c)}finally{E=!1}if(d===c)return;i.current.nextTree=d;s().early&&I(u.current,i.current,d);b("recoil-shared/util/Recoil_nullthrows")(t.current)()},t=B(null);a=y(function(a){t.current=a},[t]);var u=b("recoil-shared/util/Recoil_useRefInitOnce")(function(){var a;return(a=e)!=null?a:{storeID:r(),getState:function(){return i.current},replaceState:q,getGraph:l,subscribeToTransactions:n,addTransactionMetadata:o,skipCircularDependencyDetection_DANGEROUS:g}});e!=null&&(u.current=e);i=b("recoil-shared/util/Recoil_useRefInitOnce")(function(){return c!=null?M(u.current,c):d!=null?N(d):j()});A(function(){var a=u.current;for(var b=new Set(a.getState().knownAtoms),c=Array.isArray(b),d=0,b=c?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=b.length)break;e=b[d++]}else{d=b.next();if(d.done)break;e=d.value}e=e;m(a,e,"get")}return function(){for(var b=a.getState().knownAtoms,c=Array.isArray(b),d=0,b=c?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=b.length)break;e=b[d++]}else{d=b.next();if(d.done)break;e=d.value}e=e;k(a,e)}}},[u]);return w.jsxs(G.Provider,{value:u,children:[w.jsx(L,{setNotifyBatcherOfChange:a}),w.jsx(x,{fallback:w.jsx(P,{}),children:f})]})}R.displayName=R.name+" [from "+e.id+"]";function c(a){var b=a.override,c=babelHelpers.objectWithoutPropertiesLoose(a,["override"]),d=H();return b===!1&&d.current!==D?a.children:w.jsx(R,babelHelpers["extends"]({},c))}c.displayName=c.name+" [from "+e.id+"]";function d(){return H().current.storeID}e.exports={RecoilRoot:c,useStoreRef:H,useRecoilStoreID:d,notifyComponents_FOR_TESTING:I,sendEndOfBatchNotifications_FOR_TESTING:J}}),null);
__d("recoil-shared/util/Recoil_shallowArrayEqual",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){if(a===b)return!0;if(a.length!==b.length)return!1;for(var c=0,d=a.length;c<d;c++)if(a[c]!==b[c])return!1;return!0}e.exports=a}),null);
__d("recoil-shared/util/Recoil_usePrevious",["react"],(function(a,b,c,d,e,f){"use strict";var g;c=g||b("react");var h=c.useEffect,i=c.useRef;function a(a){var b=i();h(function(){b.current=a});return b.current}e.exports=a}),null);
__d("recoil-oss/hooks/Recoil_useRetain",["react","recoil-oss/core/Recoil_RecoilRoot","recoil-oss/core/Recoil_Retention","recoil-oss/core/Recoil_RetentionZone","recoil-shared/util/Recoil_Environment","recoil-shared/util/Recoil_gkx","recoil-shared/util/Recoil_shallowArrayEqual","recoil-shared/util/Recoil_usePrevious"],(function(a,b,c,d,e,f){"use strict";var g,h=b("recoil-oss/core/Recoil_RecoilRoot").useStoreRef,i=b("recoil-oss/core/Recoil_Retention").SUSPENSE_TIMEOUT_MS,j=b("recoil-oss/core/Recoil_Retention").updateRetainCount,k=b("recoil-oss/core/Recoil_RetentionZone").RetentionZone;c=g||(g=b("react"));var l=c.useEffect,m=c.useRef,n=b("recoil-shared/util/Recoil_Environment").isSSR;function a(a){if(!b("recoil-shared/util/Recoil_gkx")("1842165"))return;return o(a)}function o(a){a=Array.isArray(a)?a:[a];var c=a.map(function(a){return a instanceof k?a:a.key}),d=h();l(function(){if(!b("recoil-shared/util/Recoil_gkx")("1842165"))return;var a=d.current;if(e.current&&!n)window.clearTimeout(e.current),e.current=null;else for(var f=c,g=Array.isArray(f),h=0,f=g?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var i;if(g){if(h>=f.length)break;i=f[h++]}else{h=f.next();if(h.done)break;i=h.value}i=i;j(a,i,1)}return function(){for(var b=c,d=Array.isArray(b),e=0,b=d?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=b.length)break;f=b[e++]}else{e=b.next();if(e.done)break;f=e.value}f=f;j(a,f,-1)}}},[d].concat(c));var e=m();a=b("recoil-shared/util/Recoil_usePrevious")(c);if(!n&&(a===void 0||!b("recoil-shared/util/Recoil_shallowArrayEqual")(a,c))){var f=d.current;for(var g=c,o=Array.isArray(g),p=0,g=o?g:g[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var q;if(o){if(p>=g.length)break;q=g[p++]}else{p=g.next();if(p.done)break;q=p.value}q=q;j(f,q,1)}if(a)for(q=a,p=Array.isArray(q),o=0,q=p?q:q[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(p){if(o>=q.length)break;g=q[o++]}else{o=q.next();if(o.done)break;g=o.value}a=g;j(f,a,-1)}e.current&&window.clearTimeout(e.current);e.current=window.setTimeout(function(){e.current=null;for(var a=c,b=Array.isArray(a),d=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(b){if(d>=a.length)break;g=a[d++]}else{d=a.next();if(d.done)break;g=d.value}g=g;j(f,g,-1)}},i)}}e.exports=a}),null);
__d("recoil-shared/util/Recoil_useComponentName",[],(function(a,b,c,d,e,f){"use strict";function a(){return"<component name only available when both in dev mode and when passing GK 'recoil_infer_component_names'>"}e.exports=a}),null);
__d("recoil-oss/hooks/Recoil_Hooks",["Promise","react","recoil-oss/core/Recoil_Batching","recoil-oss/core/Recoil_Node","recoil-oss/core/Recoil_ReactMode","recoil-oss/core/Recoil_RecoilRoot","recoil-oss/core/Recoil_RecoilValue","recoil-oss/core/Recoil_RecoilValueInterface","recoil-oss/hooks/Recoil_useRetain","recoil-shared/util/Recoil_CopyOnWrite","recoil-shared/util/Recoil_Environment","recoil-shared/util/Recoil_differenceSets","recoil-shared/util/Recoil_err","recoil-shared/util/Recoil_expectationViolation","recoil-shared/util/Recoil_gkx","recoil-shared/util/Recoil_isPromise","recoil-shared/util/Recoil_recoverableViolation","recoil-shared/util/Recoil_useComponentName"],(function(a,b,c,d,e,f){"use strict";var g,h,i=b("recoil-oss/core/Recoil_Batching").batchUpdates,j=b("recoil-oss/core/Recoil_Node").DEFAULT_VALUE,k=b("recoil-oss/core/Recoil_ReactMode").currentRendererSupportsUseSyncExternalStore,l=b("recoil-oss/core/Recoil_ReactMode").reactMode,m=b("recoil-oss/core/Recoil_ReactMode").useSyncExternalStore,n=b("recoil-oss/core/Recoil_RecoilRoot").useStoreRef,o=b("recoil-oss/core/Recoil_RecoilValue").isRecoilValue,p=(h=b("recoil-oss/core/Recoil_RecoilValueInterface")).AbstractRecoilValue,q=h.getRecoilValueAsLoadable,r=h.setRecoilValue,s=h.setUnvalidatedRecoilValue,t=h.subscribeToRecoilValue;h=g||(g=b("react"));var u=h.useCallback,v=h.useEffect,w=h.useMemo,x=h.useRef,y=h.useState,z=b("recoil-shared/util/Recoil_CopyOnWrite").setByAddingToSet,A=b("recoil-shared/util/Recoil_Environment").isSSR;function B(a,c,d){if(a.state==="hasValue")return a.contents;else if(a.state==="loading"){var e=new(b("Promise"))(function(c){var e=d.current.getState().suspendedComponentResolvers;e.add(c);A&&b("recoil-shared/util/Recoil_isPromise")(a.contents)&&a.contents["finally"](function(){e["delete"](c)})});e.displayName="Recoil State: "+c.key;throw e}else if(a.state==="hasError")throw a.contents;else throw b("recoil-shared/util/Recoil_err")('Invalid value of loadable atom "'+c.key+'"')}function a(a,c){if(!o(a))throw b("recoil-shared/util/Recoil_err")("Invalid argument to "+c+": expected an atom or selector but got "+String(a))}function c(){var a=b("recoil-shared/util/Recoil_useComponentName")(),c=n(),d=y([]),e=d[1],f=x(new Set());f.current=new Set();var g=x(new Set()),h=x(new Map()),i=u(function(a){var b=h.current.get(a);b&&(b.release(),h.current["delete"](a))},[h]),k=u(function(a,b){h.current.has(b)&&e([])},[]);v(function(){var d=c.current;b("recoil-shared/util/Recoil_differenceSets")(f.current,g.current).forEach(function(c){if(h.current.has(c)){b("recoil-shared/util/Recoil_expectationViolation")('Double subscription to RecoilValue "'+c+'"');return}var e=t(d,new p(c),function(a){return k(a,c)},a);h.current.set(c,e);e=d.getState();e.nextTree?d.getState().queuedComponentCallbacks_DEPRECATED.push(function(){k(d.getState(),c)}):k(d.getState(),c)});b("recoil-shared/util/Recoil_differenceSets")(g.current,f.current).forEach(function(a){i(a)});g.current=f.current});v(function(){var d=h.current;b("recoil-shared/util/Recoil_differenceSets")(f.current,new Set(d.keys())).forEach(function(b){var e=t(c.current,new p(b),function(a){return k(a,b)},a);d.set(b,e)});return function(){return d.forEach(function(a,b){return i(b)})}},[a,c,i,k]);return w(function(){function d(a){return function(b){r(c.current,a,b)}}function e(a){return function(){return r(c.current,a,j)}}function a(a){f.current.has(a.key)||(f.current=z(f.current,a.key));var b=c.current.getState();return q(c.current,a,l().early?(a=b.nextTree)!=null?a:b.currentTree:b.currentTree)}function b(b){var d=a(b);return B(d,b,c)}function g(a){return[b(a),d(a)]}function h(b){return[a(b),d(b)]}return{getRecoilValue:b,getRecoilValueLoadable:a,getRecoilState:g,getRecoilStateLoadable:h,getSetRecoilState:d,getResetRecoilState:e}},[f,c])}h={current:0};function C(a){var c=n(),d=b("recoil-shared/util/Recoil_useComponentName")(),e=u(function(){var b,d=c.current,e=d.getState();b=l().early?(b=e.nextTree)!=null?b:e.currentTree:e.currentTree;e=q(d,a,b);return{loadable:e,key:a.key}},[c,a]),f=u(function(a){var b;return function(){var c,d=a();if(((c=b)==null?void 0:c.loadable.is(d.loadable))&&((c=b)==null?void 0:c.key)===d.key)return b;b=d;return d}},[]),g=w(function(){return f(e)},[e,f]),h=u(function(b){var e=c.current;e=t(e,a,b,d);return e.release},[c,a,d]);return m(h,g,g).loadable}function D(a){var c=n(),d=b("recoil-shared/util/Recoil_useComponentName")(),e=u(function(){var b,d=c.current,e=d.getState();b=l().early?(b=e.nextTree)!=null?b:e.currentTree:e.currentTree;return q(d,a,b)},[c,a]),f=u(function(){return{loadable:e(),key:a.key}},[e,a.key]),g=u(function(a){var b=f();return a.loadable.is(b.loadable)&&a.key===b.key?a:b},[f]);v(function(){var b=t(c.current,a,function(a){j(g)},d);j(g);return b.release},[d,a,c,g]);var h=y(f),i=h[0],j=h[1];return i.key!==a.key?f().loadable:i.loadable}function E(a){var c=n(),d=y([]),e=d[1],f=b("recoil-shared/util/Recoil_useComponentName")(),g=u(function(){var b,d=c.current,e=d.getState();b=l().early?(b=e.nextTree)!=null?b:e.currentTree:e.currentTree;return q(d,a,b)},[c,a]),h=g(),i=x(h);v(function(){i.current=h});v(function(){var d=c.current,h=d.getState(),j=t(d,a,function(a){var c;if(!b("recoil-shared/util/Recoil_gkx")("1841868"))return e([]);a=g();((c=i.current)==null?void 0:c.is(a))||e(a);i.current=a},f);if(h.nextTree)d.getState().queuedComponentCallbacks_DEPRECATED.push(function(){i.current=null,e([])});else{if(!b("recoil-shared/util/Recoil_gkx")("1841868"))return e([]);h=g();((d=i.current)==null?void 0:d.is(h))||e(h);i.current=h}return j.release},[f,g,a,c]);return h}function F(a){b("recoil-shared/util/Recoil_gkx")("1842165")&&b("recoil-oss/hooks/Recoil_useRetain")(a);return{TRANSITION_SUPPORT:D,SYNC_EXTERNAL_STORE:k()?C:D,LEGACY:E}[l().mode](a)}function G(a){var b=n(),c=F(a);return B(c,a,b)}function H(a){var b=n();return u(function(c){r(b.current,a,c)},[b,a])}function d(a){var b=n();return u(function(){r(b.current,a,j)},[b,a])}function f(a){return[G(a),H(a)]}function a(a){return[F(a),H(a)]}function I(){var a=n();return function(b,c){c===void 0&&(c={}),i(function(){a.current.addTransactionMetadata(c),b.forEach(function(b,c){return s(a.current,new p(c),b)})})}}function J(a){b("recoil-shared/util/Recoil_gkx")("1842165")&&b("recoil-oss/hooks/Recoil_useRetain")(a);return D(a)}function K(a){var b=n(),c=J(a);return B(c,a,b)}function L(a){return[K(a),H(a)]}e.exports={recoilComponentGetRecoilValueCount_FOR_TESTING:h,useRecoilInterface:c,useRecoilState:f,useRecoilStateLoadable:a,useRecoilValue:G,useRecoilValueLoadable:F,useResetRecoilState:d,useSetRecoilState:H,useSetUnvalidatedAtomValues:I,useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE:J,useRecoilValue_TRANSITION_SUPPORT_UNSTABLE:K,useRecoilState_TRANSITION_SUPPORT_UNSTABLE:L}}),null);
__d("recoil-shared/util/Recoil_filterMap",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){var c=new Map();for(var a=a,d=Array.isArray(a),e=0,a=d?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=a.length)break;f=a[e++]}else{e=a.next();if(e.done)break;f=e.value}f=f;var g=f[0];f=f[1];b(f,g)&&c.set(g,f)}return c}e.exports=a}),null);
__d("recoil-shared/util/Recoil_filterSet",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){var c=new Set();for(var a=a,d=Array.isArray(a),e=0,a=d?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=a.length)break;f=a[e++]}else{e=a.next();if(e.done)break;f=e.value}f=f;b(f)&&c.add(f)}return c}e.exports=a}),null);
__d("recoil-shared/util/Recoil_mergeMaps",[],(function(a,b,c,d,e,f){"use strict";function a(){var a=new Map();for(var b=arguments.length,c=new Array(b),d=0;d<b;d++)c[d]=arguments[d];for(var e=0;e<c.length;e++){var f=c[e].keys(),g;while(!(g=f.next()).done)a.set(g.value,c[e].get(g.value))}return a}e.exports=a}),null);
__d("recoil-oss/hooks/Recoil_SnapshotHooks",["react","recoil-oss/core/Recoil_Batching","recoil-oss/core/Recoil_Node","recoil-oss/core/Recoil_RecoilRoot","recoil-oss/core/Recoil_RecoilValueInterface","recoil-oss/core/Recoil_Retention","recoil-oss/core/Recoil_Snapshot","recoil-shared/util/Recoil_Environment","recoil-shared/util/Recoil_filterMap","recoil-shared/util/Recoil_filterSet","recoil-shared/util/Recoil_mapMap","recoil-shared/util/Recoil_mergeMaps","recoil-shared/util/Recoil_nullthrows","recoil-shared/util/Recoil_recoverableViolation","recoil-shared/util/Recoil_usePrevious"],(function(a,b,c,d,e,f){"use strict";var g,h=b("recoil-oss/core/Recoil_Batching").batchUpdates,i=b("recoil-oss/core/Recoil_Node").DEFAULT_VALUE,j=b("recoil-oss/core/Recoil_Node").getNode,k=b("recoil-oss/core/Recoil_Node").nodes,l=b("recoil-oss/core/Recoil_RecoilRoot").useStoreRef,m=b("recoil-oss/core/Recoil_RecoilValueInterface").AbstractRecoilValue,n=b("recoil-oss/core/Recoil_RecoilValueInterface").setRecoilValueLoadable,o=b("recoil-oss/core/Recoil_Retention").SUSPENSE_TIMEOUT_MS,p=b("recoil-oss/core/Recoil_Snapshot").cloneSnapshot,q=g||(g=b("react")),r=q.useCallback,s=q.useEffect,t=q.useRef,u=q.useState,v=b("recoil-shared/util/Recoil_Environment").isSSR;function w(a){var b=l();s(function(){var c=b.current.subscribeToTransactions(a);return c.release},[a,b])}function x(a){var c=a.atomValues.toMap();c=b("recoil-shared/util/Recoil_mapMap")(b("recoil-shared/util/Recoil_filterMap")(c,function(a,b){b=j(b);b=b.persistence_UNSTABLE;return b!=null&&b.type!=="none"&&a.state==="hasValue"}),function(a){return a.contents});return b("recoil-shared/util/Recoil_mergeMaps")(a.nonvalidatedAtoms.toMap(),c)}function a(a){w(r(function(c){var d=c.getState().previousTree,e=c.getState().currentTree;d||(b("recoil-shared/util/Recoil_recoverableViolation")("Transaction subscribers notified without a previous tree being present -- this is a bug in Recoil","recoil"),d=c.getState().currentTree);var f=x(e),g=x(d);c=b("recoil-shared/util/Recoil_mapMap")(k,function(a){var b;return{persistence_UNSTABLE:{type:(b=(b=a.persistence_UNSTABLE)==null?void 0:b.type)!=null?b:"none",backButton:(a=(b=a.persistence_UNSTABLE)==null?void 0:b.backButton)!=null?a:!1}}});d=b("recoil-shared/util/Recoil_filterSet")(e.dirtyAtoms,function(a){return f.has(a)||g.has(a)});a({atomValues:f,previousAtomValues:g,atomInfo:c,modifiedAtoms:d,transactionMetadata:babelHelpers["extends"]({},e.transactionMetadata)})},[a]))}function c(a){w(r(function(b){var c=p(b,"latest");b=p(b,"previous");a({snapshot:c,previousSnapshot:b})},[a]))}function d(){var a=l(),c=u(function(){return p(a.current)}),d=c[0],e=c[1];c=b("recoil-shared/util/Recoil_usePrevious")(d);var f=t(),g=t();w(r(function(a){return e(p(a))},[]));s(function(){var a=d.retain();f.current&&!v&&(window.clearTimeout(f.current),f.current=null,g.current==null?void 0:g.current(),g.current=null);return function(){window.setTimeout(a,10)}},[d]);c!==d&&!v&&(f.current&&(window.clearTimeout(f.current),f.current=null,g.current==null?void 0:g.current(),g.current=null),g.current=d.retain(),f.current=window.setTimeout(function(){f.current=null,g.current==null?void 0:g.current(),g.current=null},o));return d}function y(a,c){var d,e=a.getState(),f=(d=e.nextTree)!=null?d:e.currentTree,g=c.getStore_INTERNAL().getState().currentTree;h(function(){var d=new Set(),e=[f.atomValues.keys(),g.atomValues.keys()];for(var h=0;h<e.length;h++){var k=e[h];for(var k=k,l=Array.isArray(k),o=0,k=l?k:k[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var p,q;if(l){if(o>=k.length)break;q=k[o++]}else{o=k.next();if(o.done)break;q=o.value}q=q;((p=f.atomValues.get(q))==null?void 0:p.contents)!==((p=g.atomValues.get(q))==null?void 0:p.contents)&&j(q).shouldRestoreFromSnapshots&&d.add(q)}}d.forEach(function(c){n(a,new m(c),g.atomValues.has(c)?b("recoil-shared/util/Recoil_nullthrows")(g.atomValues.get(c)):i)});a.replaceState(function(a){return babelHelpers["extends"]({},a,{stateID:c.getID()})})})}function f(){var a=l();return r(function(b){return y(a.current,b)},[a])}e.exports={useRecoilSnapshot:d,gotoSnapshot:y,useGotoRecoilSnapshot:f,useRecoilTransactionObserver:c,useTransactionObservation_DEPRECATED:a,useTransactionSubscription_DEPRECATED:w}}),null);
__d("recoil-oss/hooks/Recoil_useGetRecoilValueInfo",["recoil-oss/core/Recoil_FunctionalCore","recoil-oss/core/Recoil_RecoilRoot"],(function(a,b,c,d,e,f){"use strict";var g=b("recoil-oss/core/Recoil_FunctionalCore").peekNodeInfo,h=b("recoil-oss/core/Recoil_RecoilRoot").useStoreRef;function a(){var a=h();return function(b){b=b.key;return g(a.current,a.current.getState().currentTree,b)}}e.exports=a}),null);
__d("recoil-oss/hooks/Recoil_useRecoilBridgeAcrossReactRoots",["react","recoil-oss/core/Recoil_RecoilRoot"],(function(a,b,c,d,e,f){"use strict";var g,h=b("recoil-oss/core/Recoil_RecoilRoot").RecoilRoot,i=b("recoil-oss/core/Recoil_RecoilRoot").useStoreRef,j=g||(g=b("react"));c=g;var k=c.useMemo;function a(){var a=i().current;return k(function(){function b(b){b=b.children;return j.jsx(h,{store_INTERNAL:a,children:b})}b.displayName=b.name+" [from "+e.id+"]";return b},[a])}e.exports=a}),null);
__d("recoil-oss/core/Recoil_AtomicUpdates",["recoil-oss/adt/Recoil_Loadable","recoil-oss/core/Recoil_FunctionalCore","recoil-oss/core/Recoil_Node","recoil-oss/core/Recoil_RecoilValueInterface","recoil-shared/util/Recoil_err"],(function(a,b,c,d,e,f){"use strict";var g=b("recoil-oss/adt/Recoil_Loadable").loadableWithValue,h=b("recoil-oss/core/Recoil_FunctionalCore").initializeNode,i=b("recoil-oss/core/Recoil_Node").DEFAULT_VALUE,j=b("recoil-oss/core/Recoil_Node").getNode,k=(c=b("recoil-oss/core/Recoil_RecoilValueInterface")).copyTreeState,l=c.getRecoilValueAsLoadable,m=c.invalidateDownstreams,n=c.writeLoadableToTreeState;function o(a){return j(a.key).nodeType==="atom"}var p=function(){function a(a,c){var d=this;this.get=function(a){if(d.$3.has(a.key))return d.$3.get(a.key);if(!o(a))throw b("recoil-shared/util/Recoil_err")("Reading selectors within atomicUpdate is not supported");var c=l(d.$1,a,d.$2);if(c.state==="hasValue")return c.contents;else if(c.state==="hasError")throw c.contents;else throw b("recoil-shared/util/Recoil_err")("Expected Recoil atom "+a.key+" to have a value, but it is in a loading state.")};this.set=function(a,c){if(!o(a))throw b("recoil-shared/util/Recoil_err")("Setting selectors within atomicUpdate is not supported");if(typeof c==="function"){var e=d.get(a);d.$3.set(a.key,c(e))}else h(d.$1,a.key,"set"),d.$3.set(a.key,c)};this.reset=function(a){d.set(a,i)};this.$1=a;this.$2=c;this.$3=new Map()}var c=a.prototype;c.newTreeState_INTERNAL=function(){if(this.$3.size===0)return this.$2;var a=k(this.$2);for(var b=this.$3,c=Array.isArray(b),d=0,b=c?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=b.length)break;e=b[d++]}else{d=b.next();if(d.done)break;e=d.value}e=e;var f=e[0];e=e[1];n(a,f,g(e))}m(this.$1,a);return a};return a}();function a(a){return function(b){a.replaceState(function(c){c=new p(a,c);b(c);return c.newTreeState_INTERNAL()})}}e.exports={atomicUpdater:a}}),null);
__d("recoil-shared/util/Recoil_invariant",["invariant"],(function(a,b,c,d,e,f,g){"use strict";e.exports=g}),null);
__d("recoil-oss/hooks/Recoil_useRecoilCallback",["react","recoil-oss/core/Recoil_AtomicUpdates","recoil-oss/core/Recoil_Batching","recoil-oss/core/Recoil_Node","recoil-oss/core/Recoil_RecoilRoot","recoil-oss/core/Recoil_RecoilValueInterface","recoil-oss/core/Recoil_Snapshot","recoil-oss/hooks/Recoil_SnapshotHooks","recoil-shared/util/Recoil_err","recoil-shared/util/Recoil_invariant","recoil-shared/util/Recoil_isPromise","recoil-shared/util/Recoil_lazyProxy"],(function(a,b,c,d,e,f){"use strict";var g,h=b("recoil-oss/core/Recoil_AtomicUpdates").atomicUpdater,i=b("recoil-oss/core/Recoil_Batching").batchUpdates,j=b("recoil-oss/core/Recoil_Node").DEFAULT_VALUE,k=b("recoil-oss/core/Recoil_RecoilRoot").useStoreRef,l=b("recoil-oss/core/Recoil_RecoilValueInterface").refreshRecoilValue,m=b("recoil-oss/core/Recoil_RecoilValueInterface").setRecoilValue,n=b("recoil-oss/core/Recoil_Snapshot").cloneSnapshot,o=b("recoil-oss/hooks/Recoil_SnapshotHooks").gotoSnapshot;c=g||(g=b("react"));var p=c.useCallback,q=function(){},r=new q();function s(a,c,d,e){var f=r,g;i(function(){var i,k="useRecoilCallback() expects a function that returns a function: it accepts a function of the type (RecoilInterface) => (Args) => ReturnType and returns a callback function (Args) => ReturnType, where RecoilInterface is an object {snapshot, set, ...} and Args and ReturnType are the argument and return types of the callback you want to create.  Please see the docs at recoiljs.org for details.";if(typeof c!=="function")throw b("recoil-shared/util/Recoil_err")(k);i=b("recoil-shared/util/Recoil_lazyProxy")(babelHelpers["extends"]({},(i=e)!=null?i:{},{set:function(b,c){return m(a,b,c)},reset:function(b){return m(a,b,j)},refresh:function(b){return l(a,b)},gotoSnapshot:function(b){return o(a,b)},transact_UNSTABLE:function(b){return h(a)(b)}}),{snapshot:function(){var b=n(a);g=b.retain();return b}});i=c(i);if(typeof i!=="function")throw b("recoil-shared/util/Recoil_err")(k);f=i.apply(void 0,d)});f instanceof q&&b("recoil-shared/util/Recoil_invariant")(0,27155);b("recoil-shared/util/Recoil_isPromise")(f)?f=f["finally"](function(){g==null?void 0:g()}):g==null?void 0:g();return f}function a(a,b){var c=k();return p(function(){for(var b=arguments.length,d=new Array(b),e=0;e<b;e++)d[e]=arguments[e];return s(c.current,a,d)},b!=null?[].concat(b,[c]):void 0)}e.exports={recoilCallback:s,useRecoilCallback:a}}),null);
__d("recoil-oss/hooks/Recoil_useRecoilRefresher",["react","recoil-oss/core/Recoil_RecoilRoot","recoil-oss/core/Recoil_RecoilValueInterface"],(function(a,b,c,d,e,f){"use strict";var g,h=b("recoil-oss/core/Recoil_RecoilRoot").useStoreRef,i=b("recoil-oss/core/Recoil_RecoilValueInterface").refreshRecoilValue;c=g||(g=b("react"));var j=c.useCallback;function a(a){var b=h();return j(function(){var c=b.current;i(c,a)},[a,b])}e.exports=a}),null);
__d("recoil-oss/hooks/Recoil_useRecoilTransaction",["react","recoil-oss/core/Recoil_AtomicUpdates","recoil-oss/core/Recoil_RecoilRoot"],(function(a,b,c,d,e,f){"use strict";var g,h=b("recoil-oss/core/Recoil_AtomicUpdates").atomicUpdater,i=b("recoil-oss/core/Recoil_RecoilRoot").useStoreRef;c=g||(g=b("react"));var j=c.useMemo;function a(a,b){var c=i();return j(function(){return function(){for(var b=arguments.length,d=new Array(b),e=0;e<b;e++)d[e]=arguments[e];var f=h(c.current);f(function(b){a(b).apply(void 0,d)})}},b!=null?[].concat(b,[c]):void 0)}e.exports=a}),null);
__d("recoil-oss/adt/Recoil_Wrapper",[],(function(a,b,c,d,e,f){"use strict";a=function(a){this.value=a};e.exports={WrappedValue:a}}),null);
__d("recoil-oss/caches/Recoil_TreeCache",["recoil-oss/core/Recoil_ReactMode","recoil-shared/util/Recoil_recoverableViolation"],(function(a,b,c,d,e,f){"use strict";var g=b("recoil-oss/core/Recoil_ReactMode").isFastRefreshEnabled,h=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}return a}(babelHelpers.wrapNativeSuper(Error));a=function(){function a(a){var b;this.$1=a==null?void 0:a.name;this.$2=0;this.$3=null;this.$4=(b=a==null?void 0:a.onHit)!=null?b:function(){};this.$5=(b=a==null?void 0:a.onSet)!=null?b:function(){};this.$6=(b=a==null?void 0:a.mapNodeValue)!=null?b:function(a){return a}}var c=a.prototype;c.size=function(){return this.$2};c.root=function(){return this.$3};c.get=function(a,b){return(a=this.getLeafNode(a,b))==null?void 0:a.value};c.getLeafNode=function(a,b){if(this.$3==null)return void 0;var c=this.$3;while(c){b==null?void 0:b.onNodeVisit(c);if(c.type==="leaf"){this.$4(c);return c}var d=this.$6(a(c.nodeKey));c=c.branches.get(d)}return void 0};c.set=function(a,b,c){var d=this,e=function(){var e,f;for(var g=a,h=Array.isArray(g),i=0,g=h?g:g[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var j;if(h){if(i>=g.length)break;j=g[i++]}else{i=g.next();if(i.done)break;j=i.value}j=j;var k=j[0];j=j[1];var l=d.$3;if((l==null?void 0:l.type)==="leaf")throw d.invalidCacheError();var m=e;e=m?m.branches.get(f):l;e=(l=e)!=null?l:{type:"branch",nodeKey:k,parent:m,branches:new Map(),branchKey:f};if(e.type!=="branch"||e.nodeKey!==k)throw d.invalidCacheError();m==null?void 0:m.branches.set(f,e);c==null?void 0:c.onNodeVisit==null?void 0:c.onNodeVisit(e);f=d.$6(j);d.$3=(l=d.$3)!=null?l:e}m=e?(k=e)==null?void 0:k.branches.get(f):d.$3;if(m!=null&&(m.type!=="leaf"||m.branchKey!==f))throw d.invalidCacheError();j={type:"leaf",value:b,parent:e,branchKey:f};(l=e)==null?void 0:l.branches.set(f,j);d.$3=(i=d.$3)!=null?i:j;d.$2++;d.$5(j);c==null?void 0:c.onNodeVisit==null?void 0:c.onNodeVisit(j)};try{e()}catch(a){if(a instanceof h)this.clear(),e();else throw a}};c["delete"]=function(a){var b=this.root();if(!b)return!1;if(a===b){this.$3=null;this.$2=0;return!0}var c=a.parent;a=a.branchKey;while(c){var d;c.branches["delete"](a);if(c===b){c.branches.size===0?(this.$3=null,this.$2=0):this.$2--;return!0}if(c.branches.size>0)break;a=(d=c)==null?void 0:d.branchKey;c=c.parent}for(;c!==b;c=c.parent)if(c==null)return!1;this.$2--;return!0};c.clear=function(){this.$2=0,this.$3=null};c.invalidCacheError=function(){var a=g()?"Possible Fast Refresh module reload detected.  This may also be caused by an selector returning inconsistent values. Resetting cache.":"Invalid cache values.  This happens when selectors do not return consistent values for the same input dependency values.  That may also be caused when using Fast Refresh to change a selector implementation.  Resetting cache.";b("recoil-shared/util/Recoil_recoverableViolation")(a+(this.$1!=null?" - "+this.$1:""),"recoil");throw new h()};return a}();e.exports={TreeCache:a}}),null);
__d("recoil-oss/caches/Recoil_LRUCache",["recoil-shared/util/Recoil_nullthrows"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.$1=a.maxSize;this.$2=0;this.$3=null;this.$4=null;this.$5=new Map();this.$6=(a=a.mapKey)!=null?a:function(a){return a}}var c=a.prototype;c.head=function(){return this.$3};c.tail=function(){return this.$4};c.size=function(){return this.$2};c.maxSize=function(){return this.$1};c.has=function(a){return this.$5.has(this.$6(a))};c.get=function(a){var b=this.$6(a);b=this.$5.get(b);if(!b)return void 0;this.set(a,b.value);return b.value};c.set=function(a,b){var c=this.$6(a),d=this.$5.get(c);d&&this["delete"](a);d=this.head();a={key:a,right:d,left:null,value:b};d?d.left=a:this.$4=a;this.$5.set(c,a);this.$3=a;this.$2++;this.$7()};c.$7=function(){this.size()>this.maxSize()&&this.deleteLru()};c.deleteLru=function(){var a=this.tail();a&&this["delete"](a.key)};c["delete"]=function(a){a=this.$6(a);if(!this.$2||!this.$5.has(a))return;var c=b("recoil-shared/util/Recoil_nullthrows")(this.$5.get(a)),d=c.right,e=c.left;d&&(d.left=c.left);e&&(e.right=c.right);c===this.head()&&(this.$3=d);c===this.tail()&&(this.$4=e);this.$5["delete"](a);this.$2--};c.clear=function(){this.$2=0,this.$3=null,this.$4=null,this.$5=new Map()};return a}();e.exports={LRUCache:a}}),null);
__d("recoil-oss/caches/Recoil_treeCacheLRU",["recoil-oss/caches/Recoil_LRUCache","recoil-oss/caches/Recoil_TreeCache"],(function(a,b,c,d,e,f){"use strict";var g=b("recoil-oss/caches/Recoil_LRUCache").LRUCache,h=b("recoil-oss/caches/Recoil_TreeCache").TreeCache;function a(a){var b=a.name,c=a.maxSize;a=a.mapNodeValue;a=a===void 0?function(a){return a}:a;var d=new g({maxSize:c}),e=new h({name:b,mapNodeValue:a,onHit:function(a){d.set(a,!0)},onSet:function(a){var b=d.tail();d.set(a,!0);b&&e.size()>c&&e["delete"](b.key)}});return e}e.exports=a}),null);
__d("recoil-shared/util/Recoil_stableStringify",["recoil-shared/util/Recoil_err","recoil-shared/util/Recoil_isPromise"],(function(a,b,c,d,e,f){"use strict";c=15;function g(a,c,d){if(typeof a==="string"&&!a.includes('"')&&!a.includes("\\"))return'"'+a+'"';switch(typeof a){case"undefined":return"";case"boolean":return a?"true":"false";case"number":case"symbol":return String(a);case"string":return JSON.stringify(a);case"function":if((c==null?void 0:c.allowFunctions)!==!0)throw b("recoil-shared/util/Recoil_err")("Attempt to serialize function in a Recoil cache key");return"__FUNCTION("+a.name+")__"}if(a===null)return"null";if(typeof a!=="object"){var e;return(e=JSON.stringify(a))!=null?e:""}if(b("recoil-shared/util/Recoil_isPromise")(a))return"__PROMISE__";if(Array.isArray(a))return"["+a.map(function(a,b){return g(a,c,b.toString())})+"]";if(typeof a.toJSON==="function")return g(a.toJSON(d),c,d);if(a instanceof Map){e={};for(var f=a,h=Array.isArray(f),i=0,f=h?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var j;if(h){if(i>=f.length)break;j=f[i++]}else{i=f.next();if(i.done)break;j=i.value}j=j;var k=j[0];j=j[1];e[typeof k==="string"?k:g(k,c)]=j}return g(e,c,d)}if(a instanceof Set)return g(Array.from(a).sort(function(a,b){return g(a,c).localeCompare(g(b,c))}),c,d);return Symbol!==void 0&&a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]!=null&&typeof a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]==="function"?g(Array.from(a),c,d):"{"+Object.keys(a).filter(function(b){return a[b]!==void 0}).sort().map(function(b){return g(b,c)+":"+g(a[b],c,b)}).join(",")+"}"}function a(a,b){b===void 0&&(b={allowFunctions:!1});return g(a,b)}e.exports=a}),null);
__d("recoil-oss/caches/Recoil_treeCacheFromPolicy",["recoil-oss/caches/Recoil_TreeCache","recoil-oss/caches/Recoil_treeCacheLRU","recoil-shared/util/Recoil_err","recoil-shared/util/Recoil_nullthrows","recoil-shared/util/Recoil_stableStringify"],(function(a,b,c,d,e,f){"use strict";var g=b("recoil-oss/caches/Recoil_TreeCache").TreeCache,h={equality:"reference",eviction:"keep-all",maxSize:Infinity};function a(a,b){a=a===void 0?h:a;var c=a.equality;c=c===void 0?h.equality:c;var d=a.eviction;d=d===void 0?h.eviction:d;a=a.maxSize;a=a===void 0?h.maxSize:a;c=i(c);return j(d,a,c,b)}function i(a){switch(a){case"reference":return function(a){return a};case"value":return function(a){return b("recoil-shared/util/Recoil_stableStringify")(a)}}throw b("recoil-shared/util/Recoil_err")("Unrecognized equality policy "+a)}function j(a,c,d,e){switch(a){case"keep-all":return new g({name:e,mapNodeValue:d});case"lru":return b("recoil-oss/caches/Recoil_treeCacheLRU")({name:e,maxSize:b("recoil-shared/util/Recoil_nullthrows")(c),mapNodeValue:d});case"most-recent":return b("recoil-oss/caches/Recoil_treeCacheLRU")({name:e,maxSize:1,mapNodeValue:d})}throw b("recoil-shared/util/Recoil_err")("Unrecognized eviction policy "+a)}e.exports=a}),null);
__d("recoil-shared/util/Recoil_PerformanceTimings",[],(function(a,b,c,d,e,f){function a(a){return function(){return null}}e.exports={startPerfBlock:a}}),null);
__d("recoil-shared/util/Recoil_isNode",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b;if(typeof window==="undefined")return!1;b=a!=null?(b=a.ownerDocument)!=null?b:a:document;b=(b=b.defaultView)!=null?b:window;return!!(a!=null&&(typeof b.Node==="function"?a instanceof b.Node:typeof a==="object"&&typeof a.nodeType==="number"&&typeof a.nodeName==="string"))}e.exports=a}),null);
__d("recoil-shared/util/Recoil_deepFreezeValue",["recoil-shared/util/Recoil_Environment","recoil-shared/util/Recoil_isNode","recoil-shared/util/Recoil_isPromise"],(function(a,b,c,d,e,f){"use strict";var g=b("recoil-shared/util/Recoil_Environment").isReactNative,h=b("recoil-shared/util/Recoil_Environment").isWindow;function i(a){if(a===null||typeof a!=="object")return!0;switch(typeof a.$$typeof){case"symbol":return!0;case"number":return!0}if(a["@@__IMMUTABLE_ITERABLE__@@"]!=null||a["@@__IMMUTABLE_KEYED__@@"]!=null||a["@@__IMMUTABLE_INDEXED__@@"]!=null||a["@@__IMMUTABLE_ORDERED__@@"]!=null||a["@@__IMMUTABLE_RECORD__@@"]!=null)return!0;if(b("recoil-shared/util/Recoil_isNode")(a))return!0;if(b("recoil-shared/util/Recoil_isPromise")(a))return!0;if(a instanceof Error)return!0;if(ArrayBuffer.isView(a))return!0;return!g&&h(a)?!0:!1}function j(a){if(typeof a!=="object"||i(a))return;Object.freeze(a);for(var b in a)if(Object.prototype.hasOwnProperty.call(a,b)){var c=a[b];typeof c==="object"&&c!=null&&!Object.isFrozen(c)&&j(c)}Object.seal(a)}e.exports=j}),null);
__d("recoil-oss/recoil_values/Recoil_selector",["recoil-oss/adt/Recoil_Loadable","recoil-oss/adt/Recoil_Wrapper","recoil-oss/caches/Recoil_treeCacheFromPolicy","recoil-oss/core/Recoil_FunctionalCore","recoil-oss/core/Recoil_Graph","recoil-oss/core/Recoil_Node","recoil-oss/core/Recoil_RecoilValue","recoil-oss/core/Recoil_RecoilValueInterface","recoil-oss/core/Recoil_Retention","recoil-oss/hooks/Recoil_useRecoilCallback","recoil-shared/util/Recoil_PerformanceTimings","recoil-shared/util/Recoil_concatIterables","recoil-shared/util/Recoil_deepFreezeValue","recoil-shared/util/Recoil_err","recoil-shared/util/Recoil_filterIterable","recoil-shared/util/Recoil_gkx","recoil-shared/util/Recoil_invariant","recoil-shared/util/Recoil_isPromise","recoil-shared/util/Recoil_mapIterable","recoil-shared/util/Recoil_nullthrows","recoil-shared/util/Recoil_recoverableViolation"],(function(a,b,c,d,e,f){"use strict";var g=(c=b("recoil-oss/adt/Recoil_Loadable")).isLoadable,h=c.loadableWithError,i=c.loadableWithPromise,j=c.loadableWithValue,k=b("recoil-oss/adt/Recoil_Wrapper").WrappedValue,l=b("recoil-oss/core/Recoil_FunctionalCore").getNodeLoadable,m=b("recoil-oss/core/Recoil_FunctionalCore").peekNodeLoadable,n=b("recoil-oss/core/Recoil_FunctionalCore").setNodeValue,o=b("recoil-oss/core/Recoil_Graph").saveDepsToStore,p=(d=b("recoil-oss/core/Recoil_Node")).DEFAULT_VALUE,q=d.getConfigDeletionHandler,r=d.getNode,s=d.registerNode,t=b("recoil-oss/core/Recoil_RecoilValue").isRecoilValue,u=b("recoil-oss/core/Recoil_RecoilValueInterface").markRecoilValueModified,v=b("recoil-oss/core/Recoil_Retention").retainedByOptionWithDefault,w=b("recoil-oss/hooks/Recoil_useRecoilCallback").recoilCallback,aa=b("recoil-shared/util/Recoil_PerformanceTimings").startPerfBlock,x=function(){},y=new x(),z=[],A=new Map(),ba=function(){var a=0;return function(){return a++}}();function a(a){var c=null,d=a.key,e=a.get,f=a.cachePolicy_UNSTABLE,B=a.set!=null?a.set:void 0,C=new Set(),D=b("recoil-oss/caches/Recoil_treeCacheFromPolicy")((f=f)!=null?f:{equality:"reference",eviction:"keep-all"},d);f=v(a.retainedBy_UNSTABLE);var E=new Map(),F=0;function G(){return!b("recoil-shared/util/Recoil_gkx")("1842165")||F>0}function H(a){a.getState().knownSelectors.add(d);F++;return function(){F--}}function I(){return q(d)!==void 0&&!G()}function J(a,b,c,d,e){W(b,d,e),K(a,c)}function K(a,b){V(a,b)&&U(a),L(b,!0)}function ca(a,c){if(V(a,c)){a=b("recoil-shared/util/Recoil_nullthrows")(T(a));a.stateVersions.clear();L(c,!1)}}function L(a,d){var e=A.get(a);if(e!=null){for(var e=e,f=Array.isArray(e),g=0,e=f?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(f){if(g>=e.length)break;h=e[g++]}else{g=e.next();if(g.done)break;h=g.value}h=h;u(h,b("recoil-shared/util/Recoil_nullthrows")(c))}d&&A["delete"](a)}}function M(a,b){var c=A.get(b);c==null&&A.set(b,c=new Set());c.add(a)}function da(a,c,d,e,f,g){return c.then(function(b){if(!G()){U(a);throw y}var c=j(b);J(a,d,f,c,e);return b})["catch"](function(c){if(!G()){U(a);throw y}if(b("recoil-shared/util/Recoil_isPromise")(c))return N(a,c,d,e,f,g);var i=h(c);J(a,d,f,i,e);throw c})}function N(a,b,c,d,e,f){return b.then(function(d){if(!G()){U(a);throw y}f.loadingDepKey!=null&&f.loadingDepPromise===b?c.atomValues.set(f.loadingDepKey,j(d)):a.getState().knownSelectors.forEach(function(a){c.atomValues["delete"](a)});d=Q(a,c);if(d&&d.state!=="loading"){(V(a,e)||T(a)==null)&&K(a,e);if(d.state==="hasValue")return d.contents;else throw d.contents}if(!V(a,e)){d=S(a,c);if(d!=null)return d.loadingLoadable.contents}d=P(a,c,e);var g=d[0];d=d[1];g.state!=="loading"&&J(a,c,e,g,d);if(g.state==="hasError")throw g.contents;return g.contents})["catch"](function(b){if(b instanceof x)throw y;if(!G()){U(a);throw y}var f=h(b);J(a,c,e,f,d);throw b})}function O(a,b,c,e){if(V(a,e)||b.version===((e=a.getState())==null?void 0:(e=e.currentTree)==null?void 0:e.version)||b.version===((e=a.getState())==null?void 0:(b=e.nextTree)==null?void 0:b.version)){o(d,c,a,(e=(e=a.getState())==null?void 0:(b=e.nextTree)==null?void 0:b.version)!=null?e:a.getState().currentTree.version)}for(b=c,e=Array.isArray(b),a=0,b=e?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(e){if(a>=b.length)break;c=b[a++]}else{a=b.next();if(a.done)break;c=a.value}c=c;C.add(c)}}function P(a,f,m){var n=aa(d),o=!0,p=!0,q=function(){n(),p=!1},r=!1,s={loadingDepKey:null,loadingDepPromise:null},u=new Map();function v(c){c=c.key;var d=l(a,f,c);u.set(c,d);o||(O(a,f,new Set(u.keys()),m),ca(a,m));switch(d.state){case"hasValue":return d.contents;case"hasError":throw d.contents;case"loading":s.loadingDepKey=c;s.loadingDepPromise=d.contents;throw d.contents}throw b("recoil-shared/util/Recoil_err")("Invalid Loadable state")}var x=function(d){return function(){if(p)throw b("recoil-shared/util/Recoil_err")("Callbacks from getCallback() should only be called asynchronously after the selector is evalutated.  It can be used for selectors to return objects with callbacks that can work with Recoil state without a subscription.");c!=null||b("recoil-shared/util/Recoil_invariant")(0,54579);for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return w(a,d,f,{node:c})}};try{x=e({get:v,getCallback:x}),x=t(x)?v(x):x,g(x)&&(x.state==="hasError"&&(r=!0),x=x.contents),b("recoil-shared/util/Recoil_isPromise")(x)?x=da(a,x,f,u,m,s)["finally"](q):q(),x=x instanceof k?x.value:x}catch(c){x=c,b("recoil-shared/util/Recoil_isPromise")(x)?x=N(a,x,f,u,m,s)["finally"](q):(r=!0,q())}r?v=h(x):b("recoil-shared/util/Recoil_isPromise")(x)?v=i(x):v=j(x);o=!1;fa(a,m,u);O(a,f,new Set(u.keys()),m);return[v,u]}function Q(a,c){var e=c.atomValues.get(d);if(e!=null)return e;var f=new Set();try{e=D.get(function(d){typeof d==="string"||b("recoil-shared/util/Recoil_invariant")(0,35201);return l(a,c,d).contents},{onNodeVisit:function(a){a.type==="branch"&&a.nodeKey!==d&&f.add(a.nodeKey)}})}catch(a){throw b("recoil-shared/util/Recoil_err")('Problem with cache lookup for selector "'+d+'": '+a.message)}if(e){var g;c.atomValues.set(d,e);O(a,c,f,(g=T(a))==null?void 0:g.executionID)}return e}function R(a,b){var c=Q(a,b);if(c!=null){U(a);return c}c=S(a,b);if(c!=null){var d;((d=c.loadingLoadable)==null?void 0:d.state)==="loading"&&M(a,c.executionID);return c.loadingLoadable}d=ba();c=P(a,b,d);var e=c[0];c=c[1];e.state==="loading"?(ea(a,d,e,c,b),M(a,d)):(U(a),W(b,e,c));return e}function S(a,c){var d=b("recoil-shared/util/Recoil_concatIterables")([E.has(a)?[b("recoil-shared/util/Recoil_nullthrows")(E.get(a))]:[],b("recoil-shared/util/Recoil_mapIterable")(b("recoil-shared/util/Recoil_filterIterable")(E,function(b){b=b[0];return b!==a}),function(a){a=a[1];return a})]);function e(b){for(var b=b,d=Array.isArray(b),e=0,b=d?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=b.length)break;f=b[e++]}else{e=b.next();if(e.done)break;f=e.value}f=f;var g=f[0];f=f[1];if(!l(a,c,g).is(f))return!0}return!1}for(var d=d,f=Array.isArray(d),g=0,d=f?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(f){if(g>=d.length)break;h=d[g++]}else{g=d.next();if(g.done)break;h=g.value}h=h;if(h.stateVersions.get(c.version)||!e(h.depValuesDiscoveredSoFarDuringAsyncWork)){h.stateVersions.set(c.version,!0);return h}else h.stateVersions.set(c.version,!1)}return void 0}function T(a){return E.get(a)}function ea(a,b,c,d,e){E.set(a,{depValuesDiscoveredSoFarDuringAsyncWork:d,executionID:b,loadingLoadable:c,stateVersions:new Map([[e.version,!0]])})}function fa(a,b,c){if(V(a,b)){b=T(a);b!=null&&(b.depValuesDiscoveredSoFarDuringAsyncWork=c)}}function U(a){E["delete"](a)}function V(a,b){return b===((b=T(a))==null?void 0:b.executionID)}function ga(a){return Array.from(a.entries()).map(function(a){var b=a[0];a=a[1];return[b,a.contents]})}function W(a,c,e){a.atomValues.set(d,c);try{D.set(ga(e),c)}catch(a){throw b("recoil-shared/util/Recoil_err")('Problem with setting cache for selector "'+d+'": '+a.message)}}function ha(a){if(z.includes(d)){var c="Recoil selector has circular dependencies: "+z.slice(z.indexOf(d)).join(" \u2192 ");return h(b("recoil-shared/util/Recoil_err")(c))}z.push(d);try{return a()}finally{z.pop()}}function X(a,c){var e=c.atomValues.get(d);return e!=null?e:D.get(function(d){typeof d==="string"||b("recoil-shared/util/Recoil_invariant")(0,35201);return(d=m(a,c,d))==null?void 0:d.contents})}function Y(a,b){return a.skipCircularDependencyDetection_DANGEROUS===!0?R(a,b):ha(function(){return R(a,b)})}function Z(a){a.atomValues["delete"](d)}function $(a,d){c!=null||b("recoil-shared/util/Recoil_invariant")(0,54579);for(var e=C,f=Array.isArray(e),g=0,e=f?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(f){if(g>=e.length)break;h=e[g++]}else{g=e.next();if(g.done)break;h=g.value}h=h;h=r(h);h.clearCache==null?void 0:h.clearCache(a,d)}C.clear();Z(d);D.clear();u(a,c)}if(B!=null){var ia=function(a,c,e){var f=!1,g=new Map();function h(e){e=e.key;if(f)throw b("recoil-shared/util/Recoil_err")("Recoil: Async selector sets are not currently supported.");var g=l(a,c,e);if(g.state==="hasValue")return g.contents;else if(g.state==="loading"){e='Getting value of asynchronous atom or selector "'+e+'" in a pending state while setting selector "'+d+'" is not yet supported.';b("recoil-shared/util/Recoil_recoverableViolation")(e,"recoil");throw b("recoil-shared/util/Recoil_err")(e)}else throw g.contents}function i(d,e){if(f){var i="Recoil: Async selector sets are not currently supported.";b("recoil-shared/util/Recoil_recoverableViolation")(i,"recoil");throw b("recoil-shared/util/Recoil_err")(i)}i=typeof e==="function"?e(h(d)):e;e=n(a,c,d.key,i);e.forEach(function(a,b){return g.set(b,a)})}function j(a){i(a,p)}j=B({set:i,get:h,reset:j},e);if(j!==void 0)throw b("recoil-shared/util/Recoil_isPromise")(j)?b("recoil-shared/util/Recoil_err")("Recoil: Async selector sets are not currently supported."):b("recoil-shared/util/Recoil_err")("Recoil: selector set should be a void function.");f=!0;return g};return c=s({key:d,nodeType:"selector",peek:X,get:Y,set:ia,init:H,invalidate:Z,clearCache:$,shouldDeleteConfigOnRelease:I,dangerouslyAllowMutability:a.dangerouslyAllowMutability,shouldRestoreFromSnapshots:!1,retainedBy:f})}else return c=s({key:d,nodeType:"selector",peek:X,get:Y,init:H,invalidate:Z,clearCache:$,shouldDeleteConfigOnRelease:I,dangerouslyAllowMutability:a.dangerouslyAllowMutability,shouldRestoreFromSnapshots:!1,retainedBy:f})}a.value=function(a){return new k(a)};e.exports=a}),null);
__d("recoil-oss/caches/Recoil_MapCache",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.$1=new Map();this.$2=(a=a==null?void 0:a.mapKey)!=null?a:function(a){return a}}var b=a.prototype;b.size=function(){return this.$1.size};b.has=function(a){return this.$1.has(this.$2(a))};b.get=function(a){return this.$1.get(this.$2(a))};b.set=function(a,b){this.$1.set(this.$2(a),b)};b["delete"]=function(a){this.$1["delete"](this.$2(a))};b.clear=function(){this.$1.clear()};return a}();e.exports={MapCache:a}}),null);
__d("recoil-oss/caches/Recoil_cacheFromPolicy",["recoil-oss/caches/Recoil_LRUCache","recoil-oss/caches/Recoil_MapCache","recoil-shared/util/Recoil_err","recoil-shared/util/Recoil_nullthrows","recoil-shared/util/Recoil_stableStringify"],(function(a,b,c,d,e,f){"use strict";var g=b("recoil-oss/caches/Recoil_LRUCache").LRUCache,h=b("recoil-oss/caches/Recoil_MapCache").MapCache,i={equality:"reference",eviction:"none",maxSize:Infinity};function a(a){a=a===void 0?i:a;var b=a.equality;b=b===void 0?i.equality:b;var c=a.eviction;c=c===void 0?i.eviction:c;a=a.maxSize;a=a===void 0?i.maxSize:a;b=j(b);c=k(c,a,b);return c}function j(a){switch(a){case"reference":return function(a){return a};case"value":return function(a){return b("recoil-shared/util/Recoil_stableStringify")(a)}}throw b("recoil-shared/util/Recoil_err")("Unrecognized equality policy "+a)}function k(a,c,d){switch(a){case"keep-all":return new h({mapKey:d});case"lru":return new g({mapKey:d,maxSize:b("recoil-shared/util/Recoil_nullthrows")(c)});case"most-recent":return new g({mapKey:d,maxSize:1})}throw b("recoil-shared/util/Recoil_err")("Unrecognized eviction policy "+a)}e.exports=a}),null);
__d("recoil-oss/recoil_values/Recoil_selectorFamily",["recoil-oss/caches/Recoil_cacheFromPolicy","recoil-oss/core/Recoil_Node","recoil-oss/recoil_values/Recoil_selector","recoil-shared/util/Recoil_err","recoil-shared/util/Recoil_stableStringify"],(function(a,b,c,d,e,f){"use strict";var g=b("recoil-oss/core/Recoil_Node").setConfigDeletionHandler,h=0;function a(a){var c,d=b("recoil-oss/caches/Recoil_cacheFromPolicy")({equality:(c=(c=a.cachePolicyForParams_UNSTABLE)==null?void 0:c.equality)!=null?c:"value",eviction:"keep-all"});return function(c){var e,f;try{f=d.get(c)}catch(c){throw b("recoil-shared/util/Recoil_err")("Problem with cache lookup for selector "+a.key+": "+c.message)}if(f!=null)return f;e=a.key+"__selectorFamily/"+((e=b("recoil-shared/util/Recoil_stableStringify")(c,{allowFunctions:!0}))!=null?e:"void")+"/"+h++;var i=function(b){return a.get(c)(b)},j=a.cachePolicy_UNSTABLE,k=typeof a.retainedBy_UNSTABLE==="function"?a.retainedBy_UNSTABLE(c):a.retainedBy_UNSTABLE;if(a.set!=null){var l=a.set,m=function(a,b){return l(c)(a,b)};m=b("recoil-oss/recoil_values/Recoil_selector")({key:e,get:i,set:m,cachePolicy_UNSTABLE:j,dangerouslyAllowMutability:a.dangerouslyAllowMutability,retainedBy_UNSTABLE:k})}else m=b("recoil-oss/recoil_values/Recoil_selector")({key:e,get:i,cachePolicy_UNSTABLE:j,dangerouslyAllowMutability:a.dangerouslyAllowMutability,retainedBy_UNSTABLE:k});d.set(c,m);g(m.key,function(){d["delete"](c)});return m}}e.exports=a}),null);
__d("recoil-oss/recoil_values/Recoil_WaitFor",["Promise","recoil-oss/adt/Recoil_Loadable","recoil-oss/recoil_values/Recoil_selector","recoil-oss/recoil_values/Recoil_selectorFamily","recoil-shared/util/Recoil_isPromise"],(function(a,b,c,d,e,f){"use strict";var g=b("recoil-oss/adt/Recoil_Loadable").loadableWithError,h=b("recoil-oss/adt/Recoil_Loadable").loadableWithPromise,i=b("recoil-oss/adt/Recoil_Loadable").loadableWithValue;function j(a,b){var c=Array(b.length).fill(void 0),d=Array(b.length).fill(void 0);for(var b=b.entries(),e=Array.isArray(b),f=0,b=e?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=b.length)break;g=b[f++]}else{f=b.next();if(f.done)break;g=f.value}g=g;var h=g[0];g=g[1];try{c[h]=a(g)}catch(a){d[h]=a}}return[c,d]}function k(a){return a!=null&&!b("recoil-shared/util/Recoil_isPromise")(a)}function l(a){return Array.isArray(a)?a:Object.getOwnPropertyNames(a).map(function(b){return a[b]})}function m(a,b){return Array.isArray(a)?b:Object.getOwnPropertyNames(a).reduce(function(a,c,d){return babelHelpers["extends"]({},a,(a={},a[c]=b[d],a))},{})}function n(a,c,d){d=d.map(function(a,d){return a==null?i(c[d]):b("recoil-shared/util/Recoil_isPromise")(a)?h(a):g(a)});return m(a,d)}function o(a,b){return b.map(function(b,c){return b===void 0?a[c]:b})}c=(a=b("recoil-oss/recoil_values/Recoil_selectorFamily"))({key:"__waitForNone",get:function(a){return function(b){b=b.get;var c=l(a);b=j(b,c);c=b[0];b=b[1];return n(a,c,b)}},dangerouslyAllowMutability:!0});d=a({key:"__waitForAny",get:function(a){return function(c){c=c.get;var d=l(a);c=j(c,d);var e=c[0],f=c[1];return f.some(function(a){return!b("recoil-shared/util/Recoil_isPromise")(a)})?n(a,e,f):new(b("Promise"))(function(c){var d=function(){if(h){if(i>=g.length)return"break";j=g[i++]}else{i=g.next();if(i.done)return"break";j=i.value}var d=j,k=d[0];d=d[1];b("recoil-shared/util/Recoil_isPromise")(d)&&d.then(function(b){e[k]=b,f[k]=void 0,c(n(a,e,f))})["catch"](function(b){f[k]=b,c(n(a,e,f))})};for(var g=f.entries(),h=Array.isArray(g),i=0,g=h?g:g[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var j,k=d();if(k==="break")break}})}},dangerouslyAllowMutability:!0});f=a({key:"__waitForAll",get:function(a){return function(c){c=c.get;var d=l(a);c=j(c,d);var e=c[0];d=c[1];if(d.every(function(a){return a==null}))return m(a,e);c=d.find(k);if(c!=null)throw c;return b("Promise").all(d).then(function(b){return m(a,o(e,b))})}},dangerouslyAllowMutability:!0});var p=a({key:"__waitForAllSettled",get:function(a){return function(c){c=c.get;var d=l(a);c=j(c,d);var e=c[0],f=c[1];return f.every(function(a){return!b("recoil-shared/util/Recoil_isPromise")(a)})?n(a,e,f):b("Promise").all(f.map(function(a,c){return b("recoil-shared/util/Recoil_isPromise")(a)?a.then(function(a){e[c]=a,f[c]=void 0})["catch"](function(a){e[c]=void 0,f[c]=a}):null})).then(function(){return n(a,e,f)})}},dangerouslyAllowMutability:!0});a=a({key:"__noWait",get:function(a){return function(c){c=c.get;try{return b("recoil-oss/recoil_values/Recoil_selector").value(i(c(a)))}catch(a){return b("recoil-oss/recoil_values/Recoil_selector").value(b("recoil-shared/util/Recoil_isPromise")(a)?h(a):g(a))}}},dangerouslyAllowMutability:!0});e.exports={waitForNone:c,waitForAny:d,waitForAll:f,waitForAllSettled:p,noWait:a}}),null);
__d("Recoil_ScopedAtomTaggedValue",[],(function(a,b,c,d,e,f){"use strict";a=function(a){this.entries=a};f["default"]=a}),66);
__d("recoil-oss/adt/Recoil_ArrayKeyedMap",[],(function(a,b,c,d,e,f){"use strict";var g={},h=new Map();a=function(){function a(b){this.$1=new Map();if(b instanceof a)for(var c=b.entries(),d=Array.isArray(c),e=0,c=d?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=c.length)break;f=c[e++]}else{e=c.next();if(e.done)break;f=e.value}f=f;var g=f[0];f=f[1];this.set(g,f)}else if(b)for(g=b,f=Array.isArray(g),e=0,g=f?g:g[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(f){if(e>=g.length)break;d=g[e++]}else{e=g.next();if(e.done)break;d=e.value}c=d;b=c[0];d=c[1];this.set(b,d)}return this}var b=a.prototype;b.get=function(a){a=Array.isArray(a)?a:[a];var b=this.$1;a.forEach(function(a){b=(a=b.get(a))!=null?a:h});return b===void 0?void 0:b.get(g)};b.set=function(a,b){a=Array.isArray(a)?a:[a];var c=this.$1,d=c;a.forEach(function(a){d=c.get(a),d||(d=new Map(),c.set(a,d)),c=d});d.set(g,b);return this};b["delete"]=function(a){a=Array.isArray(a)?a:[a];var b=this.$1,c=b;a.forEach(function(a){c=b.get(a),c||(c=new Map(),b.set(a,c)),b=c});c["delete"](g);return this};b.entries=function(){var a=[];function b(c,d){c.forEach(function(c,e){e===g?a.push([d,c]):b(c,d.concat(e))})}b(this.$1,[]);return a.values()};b.toBuiltInMap=function(){return new Map(this.entries())};return a}();e.exports={ArrayKeyedMap:a}}),null);
__d("Recoil_ScopedAtom",["Recoil_ScopedAtomTaggedValue","recoil-oss/adt/Recoil_ArrayKeyedMap","recoil-oss/core/Recoil_Node","recoil-oss/recoil_values/Recoil_WaitFor","recoil-oss/recoil_values/Recoil_atom","recoil-oss/recoil_values/Recoil_selector","recoil-oss/recoil_values/Recoil_selectorFamily","recoil-shared/util/Recoil_mapIterable","recoil-shared/util/Recoil_stableStringify"],(function(a,b,c,d,e,f,g){"use strict";function h(a){return a.map(function(a){var b=a[0];a=a[1];return[b,new(d("recoil-oss/adt/Recoil_ArrayKeyedMap").ArrayKeyedMap)(a)]})}function i(a){return a.map(function(a){return typeof a==="string"||typeof a==="number"||typeof a==="boolean"||a==null?a:c("recoil-shared/util/Recoil_stableStringify")(a)})}function j(a,b,e){if(!(b instanceof c("Recoil_ScopedAtomTaggedValue")))return b;for(var b=b.entries,f=Array.isArray(b),g=0,b=f?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(f){if(g>=b.length)break;h=b[g++]}else{g=b.next();if(g.done)break;h=g.value}h=h;var j=h[0];h=h[1];h=h.get(i(e[j]));if(h!==void 0)return h instanceof d("recoil-oss/core/Recoil_Node").DefaultValue?a:h}return a}function k(a,b,e){b=b instanceof c("Recoil_ScopedAtomTaggedValue")?b.entries:[];var f=e.length-1;e=i(e[f]);var g=h(b);b.length>0&&b[0][0]===f?g[0][1].set(e,a):g.unshift([f,new(d("recoil-oss/adt/Recoil_ArrayKeyedMap").ArrayKeyedMap)().set(e,a)]);return new(c("Recoil_ScopedAtomTaggedValue"))(g)}function l(a,b){if(a===null||a===void 0)return void 0;var e=a;return babelHelpers["extends"]({},a,{validator:function(a){if(a instanceof c("Recoil_ScopedAtomTaggedValue"))return new(c("Recoil_ScopedAtomTaggedValue"))(a.entries.filter(function(a){var b=a[0];a=a[1];return typeof b==="number"&&a instanceof d("recoil-oss/adt/Recoil_ArrayKeyedMap").ArrayKeyedMap}).map(function(a){var f=a[0];a=a[1];return[f,new(d("recoil-oss/adt/Recoil_ArrayKeyedMap").ArrayKeyedMap)(c("recoil-shared/util/Recoil_mapIterable")(a.entries(),function(a){var c=a[0];a=a[1];a=e.validator(a,d("recoil-oss/core/Recoil_Node").DEFAULT_VALUE);return[c,a instanceof d("recoil-oss/core/Recoil_Node").DefaultValue?b:a]}))]}));else return e.validator(a,d("recoil-oss/core/Recoil_Node").DEFAULT_VALUE)}})}function a(a){var b=a.scopeRules_APPEND_ONLY_READ_THE_DOCS,e=babelHelpers.objectWithoutPropertiesLoose(a,["scopeRules_APPEND_ONLY_READ_THE_DOCS"]),f=b.map(function(a){return Array.isArray(a)?d("recoil-oss/recoil_values/Recoil_WaitFor").waitForAll(a):a}),g=c("recoil-oss/recoil_values/Recoil_atom")(babelHelpers["extends"]({},e,{"default":new(c("Recoil_ScopedAtomTaggedValue"))([]),persistence_UNSTABLE:l(e.persistence_UNSTABLE,e["default"]),dangerouslyAllowMutability:e.dangerouslyAllowMutability,effects:e.effects,effects_UNSTABLE:e.effects_UNSTABLE}));return c("recoil-oss/recoil_values/Recoil_selector")({key:e.key+"__scopedAtom",get:function(a){a=a.get;return j(e["default"],a(g),a(d("recoil-oss/recoil_values/Recoil_WaitFor").waitForAll(f)))},set:function(a,b){var c=a.set,e=a.get;return c(g,function(a){return k(b,a,e(d("recoil-oss/recoil_values/Recoil_WaitFor").waitForAll(f)))})},dangerouslyAllowMutability:e.dangerouslyAllowMutability})}function m(a){return a.map(function(a){return Array.isArray(a)?function(b){return d("recoil-oss/recoil_values/Recoil_WaitFor").waitForAll(a.map(function(a){return typeof a==="function"?a(b):a}))}:function(){return a}})}function b(a){var b=a.scopeRules_APPEND_ONLY_READ_THE_DOCS,e=babelHelpers.objectWithoutPropertiesLoose(a,["scopeRules_APPEND_ONLY_READ_THE_DOCS"]),f=m(b),g=c("recoil-oss/recoil_values/Recoil_atom")(babelHelpers["extends"]({},e,{"default":new(c("Recoil_ScopedAtomTaggedValue"))([]),persistence_UNSTABLE:l(e.persistence_UNSTABLE,e["default"]),dangerouslyAllowMutability:e.dangerouslyAllowMutability,effects:e.effects,effects_UNSTABLE:e.effects_UNSTABLE}));return c("recoil-oss/recoil_values/Recoil_selectorFamily")({key:e.key+"__scopedAtom",get:function(a){return function(b){b=b.get;return j(e["default"],b(g),b(d("recoil-oss/recoil_values/Recoil_WaitFor").waitForAll(f.map(function(b){return b(a)}))))}},set:function(a){return function(b,c){var e=b.set,h=b.get;return e(g,function(b){return k(c,b,h(d("recoil-oss/recoil_values/Recoil_WaitFor").waitForAll(f.map(function(b){return b(a)}))))})}},dangerouslyAllowMutability:e.dangerouslyAllowMutability})}g.scopedAtom=a;g.parameterizedScopedAtomLegacy=b}),98);
__d("recoil-oss/recoil_values/Recoil_atom",["Promise","Recoil_ScopedAtom","recoil-oss/adt/Recoil_Loadable","recoil-oss/adt/Recoil_Wrapper","recoil-oss/core/Recoil_FunctionalCore","recoil-oss/core/Recoil_Node","recoil-oss/core/Recoil_RecoilValue","recoil-oss/core/Recoil_RecoilValueInterface","recoil-oss/core/Recoil_Retention","recoil-oss/recoil_values/Recoil_selector","recoil-shared/util/Recoil_deepFreezeValue","recoil-shared/util/Recoil_err","recoil-shared/util/Recoil_expectationViolation","recoil-shared/util/Recoil_isPromise","recoil-shared/util/Recoil_nullthrows","recoil-shared/util/Recoil_recoverableViolation"],(function(a,b,c,d,e,f){"use strict";var g=b("Recoil_ScopedAtom").scopedAtom,h=(a=b("recoil-oss/adt/Recoil_Loadable")).isLoadable,i=a.loadableWithError,j=a.loadableWithPromise,k=a.loadableWithValue,l=b("recoil-oss/adt/Recoil_Wrapper").WrappedValue,m=b("recoil-oss/core/Recoil_FunctionalCore").peekNodeInfo,n=(c=b("recoil-oss/core/Recoil_Node")).DEFAULT_VALUE,o=c.DefaultValue,p=c.getConfigDeletionHandler,q=c.registerNode,r=c.setConfigDeletionHandler,s=b("recoil-oss/core/Recoil_RecoilValue").isRecoilValue,t=(d=b("recoil-oss/core/Recoil_RecoilValueInterface")).getRecoilValueAsLoadable,u=d.markRecoilValueModified,v=d.setRecoilValue,w=d.setRecoilValueLoadable,x=b("recoil-oss/core/Recoil_Retention").retainedByOptionWithDefault,y=function(a){return a instanceof l?a.value:a};function z(a){var c=a.key,d=a.persistence_UNSTABLE,e=x(a.retainedBy_UNSTABLE),f=0;function g(a){return j(a.then(function(a){l=k(a);return a})["catch"](function(a){l=i(a);throw a}))}var l=b("recoil-shared/util/Recoil_isPromise")(a["default"])?g(a["default"]):h(a["default"])?a["default"].state==="loading"?g(a["default"].contents):a["default"]:k(y(a["default"]));z(l.contents);var r=void 0,s=new Map();function z(a){return a}function A(a,b){var d=b.then(function(b){var e;e=(e=a.getState().nextTree)!=null?e:a.getState().currentTree;((e=e.atomValues.get(c))==null?void 0:e.contents)===d&&(u(a,H),v(a,H,b));return b})["catch"](function(b){var e;e=(e=a.getState().nextTree)!=null?e:a.getState().currentTree;((e=e.atomValues.get(c))==null?void 0:e.contents)===d&&(u(a,H),w(a,H,i(b)));throw b});return d}function B(d,e,g){f++;var h=function(){var a;f--;(a=s.get(d))==null?void 0:a.forEach(function(a){return a()});s["delete"](d)};d.getState().knownAtoms.add(c);if(l.state==="loading"){var p=function(){var a;a=(a=d.getState().nextTree)!=null?a:d.getState().currentTree;a.atomValues.has(c)||u(d,H)};l.contents["finally"](p)}p=(p=a.effects)!=null?p:a.effects_UNSTABLE;if(p!=null){var q=function(a){if(B&&a.key===c){var f=x;return f instanceof o?C(d,e):b("recoil-shared/util/Recoil_isPromise")(f)?j(f.then(function(a){return a instanceof o?l.toPromise():a})):k(f)}return t(d,a)},r=function(a){return q(a).toPromise()},w=function(a){var b;b=m(d,(b=d.getState().nextTree)!=null?b:d.getState().currentTree,a.key);return B&&a.key===c&&!(x instanceof o)?babelHelpers["extends"]({},b,{isSet:!0,loadable:q(a)}):b},x=n,B=!0,D=!1,E=null,F=function(a){return function(c){if(B){var e=q(H);e=e.state==="hasValue"?e.contents:n;x=typeof c==="function"?c(e):c;b("recoil-shared/util/Recoil_isPromise")(x)&&(x=x.then(function(b){E={effect:a,value:b};return b}))}else{if(b("recoil-shared/util/Recoil_isPromise")(c))throw b("recoil-shared/util/Recoil_err")("Setting atoms to async values is not implemented.");typeof c!=="function"&&(E={effect:a,value:y(c)});v(d,H,typeof c==="function"?function(d){d=c(d);if(b("recoil-shared/util/Recoil_isPromise")(d))throw b("recoil-shared/util/Recoil_err")("Setting atoms to async values is not yet implemented.");d=y(d);E={effect:a,value:d};return d}:y(c))}}},G=function(a){return function(){return F(a)(n)}},I=function(a){return function(e){var f,g=d.subscribeToTransactions(function(d){var f;d=d.getState();var g=d.currentTree;d=d.previousTree;d||(b("recoil-shared/util/Recoil_recoverableViolation")("Transaction subscribers notified without a next tree being present -- this is a bug in Recoil","recoil"),d=g);f=(f=g.atomValues.get(c))!=null?f:l;if(f.state==="hasValue"){var h;f=f.contents;d=(d=d.atomValues.get(c))!=null?d:l;d=d.state==="hasValue"?d.contents:n;((h=E)==null?void 0:h.effect)!==a||((h=E)==null?void 0:h.value)!==f?e(f,d,!g.atomValues.has(c)):((h=E)==null?void 0:h.effect)===a&&(E=null)}},c);g=g.release;s.set(d,[].concat((f=s.get(d))!=null?f:[],[g]))}};for(var p=p,J=Array.isArray(p),K=0,p=J?p:p[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var L;if(J){if(K>=p.length)break;L=p[K++]}else{K=p.next();if(K.done)break;L=K.value}L=L;try{L=L({node:H,storeID:d.storeID,parentStoreID_UNSTABLE:d.parentStoreID,trigger:g,setSelf:F(L),resetSelf:G(L),onSet:I(L),getPromise:r,getLoadable:q,getInfo_UNSTABLE:w});if(L!=null){var M;s.set(d,[].concat((M=s.get(d))!=null?M:[],[L]))}}catch(a){x=a,D=!0}}B=!1;if(!(x instanceof o)){M=D?i(x):b("recoil-shared/util/Recoil_isPromise")(x)?j(A(d,x)):k(y(x));z(M.contents);e.atomValues.set(c,M);(L=d.getState().nextTree)==null?void 0:L.atomValues.set(c,M)}}return h}function C(a,b){return(b=(a=b.atomValues.get(c))!=null?a:r)!=null?b:l}function D(a,e){if(e.atomValues.has(c))return b("recoil-shared/util/Recoil_nullthrows")(e.atomValues.get(c));else if(e.nonvalidatedAtoms.has(c)){if(r!=null)return r;if(d==null){b("recoil-shared/util/Recoil_expectationViolation")("Tried to restore a persisted value for atom "+c+" but it has no persistence settings.");return l}a=e.nonvalidatedAtoms.get(c);e=d.validator(a,n);a=e instanceof o?l:k(e);r=a;return r}else return l}function E(){r=void 0}function F(a,d,e){if(d.atomValues.has(c)){a=b("recoil-shared/util/Recoil_nullthrows")(d.atomValues.get(c));if(a.state==="hasValue"&&e===a.contents)return new Map()}else if(!d.nonvalidatedAtoms.has(c)&&e instanceof o)return new Map();z(e);r=void 0;return new Map().set(c,k(e))}function G(){return p(c)!==void 0&&f<=0}var H=q({key:c,nodeType:"atom",peek:C,get:D,set:F,init:B,invalidate:E,shouldDeleteConfigOnRelease:G,dangerouslyAllowMutability:a.dangerouslyAllowMutability,persistence_UNSTABLE:a.persistence_UNSTABLE?{type:a.persistence_UNSTABLE.type,backButton:a.persistence_UNSTABLE.backButton}:void 0,shouldRestoreFromSnapshots:!0,retainedBy:e});return H}function A(a){var c=a.scopeRules_APPEND_ONLY_READ_THE_DOCS,d=babelHelpers.objectWithoutPropertiesLoose(a,["scopeRules_APPEND_ONLY_READ_THE_DOCS"]);a="default"in a?a["default"]:new(b("Promise"))(function(){});if(s(a)||b("recoil-shared/util/Recoil_isPromise")(a)&&c||h(a)&&c)return B(babelHelpers["extends"]({},d,{"default":a,scopeRules_APPEND_ONLY_READ_THE_DOCS:c}));else if(c&&!b("recoil-shared/util/Recoil_isPromise")(a)&&!h(a))return g(babelHelpers["extends"]({},d,{"default":y(a),scopeRules_APPEND_ONLY_READ_THE_DOCS:c}));else return z(babelHelpers["extends"]({},d,{"default":a}))}function B(a){var c=A(babelHelpers["extends"]({},a,{"default":n,persistence_UNSTABLE:a.persistence_UNSTABLE===void 0?void 0:babelHelpers["extends"]({},a.persistence_UNSTABLE,{validator:function(c){return c instanceof o?c:b("recoil-shared/util/Recoil_nullthrows")(a.persistence_UNSTABLE).validator(c,n)}}),effects:a.effects,effects_UNSTABLE:a.effects_UNSTABLE})),d=b("recoil-oss/recoil_values/Recoil_selector")({key:a.key+"__withFallback",get:function(b){b=b.get;b=b(c);return b instanceof o?a["default"]:b},set:function(a,b){a=a.set;return a(c,b)},cachePolicy_UNSTABLE:{eviction:"most-recent"},dangerouslyAllowMutability:a.dangerouslyAllowMutability});r(d.key,p(a.key));return d}A.value=function(a){return new l(a)};e.exports=A}),null);
__d("recoil-oss/recoil_values/Recoil_atomFamily",["Promise","recoil-oss/caches/Recoil_cacheFromPolicy","recoil-oss/core/Recoil_Node","recoil-oss/recoil_values/Recoil_atom","recoil-shared/util/Recoil_stableStringify"],(function(a,b,c,d,e,f){"use strict";var g=b("recoil-oss/core/Recoil_Node").setConfigDeletionHandler;function h(a,b){return a==null?void 0:a.map(function(a){return Array.isArray(a)?a.map(function(a){return typeof a==="function"?a(b):a}):a})}function a(a){var c,d=b("recoil-oss/caches/Recoil_cacheFromPolicy")({equality:(c=(c=a.cachePolicyForParams_UNSTABLE)==null?void 0:c.equality)!=null?c:"value",eviction:"keep-all"});return function(c){var e=d.get(c);if(e!=null)return e;a.cachePolicyForParams_UNSTABLE;e=babelHelpers.objectWithoutPropertiesLoose(a,["cachePolicyForParams_UNSTABLE"]);var f="default"in a?a["default"]:new(b("Promise"))(function(){});f=b("recoil-oss/recoil_values/Recoil_atom")(babelHelpers["extends"]({},e,{key:a.key+"__"+((e=b("recoil-shared/util/Recoil_stableStringify")(c))!=null?e:"void"),"default":typeof f==="function"?f(c):f,retainedBy_UNSTABLE:typeof a.retainedBy_UNSTABLE==="function"?a.retainedBy_UNSTABLE(c):a.retainedBy_UNSTABLE,effects:typeof a.effects==="function"?a.effects(c):typeof a.effects_UNSTABLE==="function"?a.effects_UNSTABLE(c):(e=a.effects)!=null?e:a.effects_UNSTABLE,scopeRules_APPEND_ONLY_READ_THE_DOCS:h(a.scopeRules_APPEND_ONLY_READ_THE_DOCS,c)}));d.set(c,f);g(f.key,function(){d["delete"](c)});return f}}e.exports=a}),null);
__d("recoil-oss/recoil_values/Recoil_constSelector",["recoil-oss/recoil_values/Recoil_selectorFamily"],(function(a,b,c,d,e,f){"use strict";var g=b("recoil-oss/recoil_values/Recoil_selectorFamily")({key:"__constant",get:function(a){return function(){return a}},cachePolicyForParams_UNSTABLE:{equality:"reference"}});function a(a){return g(a)}e.exports=a}),null);
__d("recoil-oss/recoil_values/Recoil_errorSelector",["recoil-oss/recoil_values/Recoil_selectorFamily","recoil-shared/util/Recoil_err"],(function(a,b,c,d,e,f){"use strict";var g=b("recoil-oss/recoil_values/Recoil_selectorFamily")({key:"__error",get:function(a){return function(){throw b("recoil-shared/util/Recoil_err")(a)}},cachePolicyForParams_UNSTABLE:{equality:"reference"}});function a(a){return g(a)}e.exports=a}),null);
__d("recoil-oss/recoil_values/Recoil_readOnlySelector",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a}e.exports=a}),null);
__d("recoil-oss",["recoil-oss/adt/Recoil_Loadable","recoil-oss/core/Recoil_Node","recoil-oss/core/Recoil_RecoilRoot","recoil-oss/core/Recoil_RecoilValue","recoil-oss/core/Recoil_RetentionZone","recoil-oss/core/Recoil_Snapshot","recoil-oss/hooks/Recoil_Hooks","recoil-oss/hooks/Recoil_SnapshotHooks","recoil-oss/hooks/Recoil_useGetRecoilValueInfo","recoil-oss/hooks/Recoil_useRecoilBridgeAcrossReactRoots","recoil-oss/hooks/Recoil_useRecoilCallback","recoil-oss/hooks/Recoil_useRecoilRefresher","recoil-oss/hooks/Recoil_useRecoilTransaction","recoil-oss/hooks/Recoil_useRetain","recoil-oss/recoil_values/Recoil_WaitFor","recoil-oss/recoil_values/Recoil_atom","recoil-oss/recoil_values/Recoil_atomFamily","recoil-oss/recoil_values/Recoil_constSelector","recoil-oss/recoil_values/Recoil_errorSelector","recoil-oss/recoil_values/Recoil_readOnlySelector","recoil-oss/recoil_values/Recoil_selector","recoil-oss/recoil_values/Recoil_selectorFamily","recoil-shared/util/Recoil_RecoilEnv"],(function(a,b,c,d,e,f){"use strict";var g,h;a=b("recoil-oss/adt/Recoil_Loadable").RecoilLoadable;c=b("recoil-oss/core/Recoil_Node").DefaultValue;d=b("recoil-oss/core/Recoil_RecoilRoot").RecoilRoot;f=b("recoil-oss/core/Recoil_RecoilRoot").useRecoilStoreID;var i=b("recoil-oss/core/Recoil_RecoilValue").isRecoilValue,j=b("recoil-oss/core/Recoil_RetentionZone").retentionZone,k=b("recoil-oss/core/Recoil_Snapshot").freshSnapshot,l=(g=b("recoil-oss/hooks/Recoil_Hooks")).useRecoilState,m=g.useRecoilState_TRANSITION_SUPPORT_UNSTABLE,n=g.useRecoilStateLoadable,o=g.useRecoilValue,p=g.useRecoilValue_TRANSITION_SUPPORT_UNSTABLE,q=g.useRecoilValueLoadable,r=g.useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE,s=g.useResetRecoilState;g=g.useSetRecoilState;var t=b("recoil-oss/hooks/Recoil_SnapshotHooks").useGotoRecoilSnapshot,u=b("recoil-oss/hooks/Recoil_SnapshotHooks").useRecoilSnapshot,v=b("recoil-oss/hooks/Recoil_SnapshotHooks").useRecoilTransactionObserver,w=b("recoil-oss/hooks/Recoil_useRecoilCallback").useRecoilCallback,x=(h=b("recoil-oss/recoil_values/Recoil_WaitFor")).noWait,y=h.waitForAll,z=h.waitForAllSettled,A=h.waitForAny;h=h.waitForNone;e.exports={DefaultValue:c,isRecoilValue:i,RecoilLoadable:a,RecoilEnv:b("recoil-shared/util/Recoil_RecoilEnv"),RecoilRoot:d,useRecoilStoreID:f,useRecoilBridgeAcrossReactRoots_UNSTABLE:b("recoil-oss/hooks/Recoil_useRecoilBridgeAcrossReactRoots"),atom:b("recoil-oss/recoil_values/Recoil_atom"),selector:b("recoil-oss/recoil_values/Recoil_selector"),atomFamily:b("recoil-oss/recoil_values/Recoil_atomFamily"),selectorFamily:b("recoil-oss/recoil_values/Recoil_selectorFamily"),constSelector:b("recoil-oss/recoil_values/Recoil_constSelector"),errorSelector:b("recoil-oss/recoil_values/Recoil_errorSelector"),readOnlySelector:b("recoil-oss/recoil_values/Recoil_readOnlySelector"),noWait:x,waitForNone:h,waitForAny:A,waitForAll:y,waitForAllSettled:z,useRecoilValue:o,useRecoilValueLoadable:q,useRecoilState:l,useRecoilStateLoadable:n,useSetRecoilState:g,useResetRecoilState:s,useGetRecoilValueInfo_UNSTABLE:b("recoil-oss/hooks/Recoil_useGetRecoilValueInfo"),useRecoilRefresher_UNSTABLE:b("recoil-oss/hooks/Recoil_useRecoilRefresher"),useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE:r,useRecoilValue_TRANSITION_SUPPORT_UNSTABLE:p,useRecoilState_TRANSITION_SUPPORT_UNSTABLE:m,useRecoilCallback:w,useRecoilTransaction_UNSTABLE:b("recoil-oss/hooks/Recoil_useRecoilTransaction"),useGotoRecoilSnapshot:t,useRecoilSnapshot:u,useRecoilTransactionObserver_UNSTABLE:v,snapshot_UNSTABLE:k,useRetain:b("recoil-oss/hooks/Recoil_useRetain"),retentionZone:j}}),null);
__d("Recoil",["recoil-oss"],(function(a,b,c,d,e,f,g){"use strict";g.DefaultValue=d("recoil-oss").DefaultValue,g.RecoilEnv=d("recoil-oss").RecoilEnv,g.RecoilLoadable=d("recoil-oss").RecoilLoadable,g.RecoilRoot=d("recoil-oss").RecoilRoot,g.atom=d("recoil-oss").atom,g.atomFamily=d("recoil-oss").atomFamily,g.constSelector=d("recoil-oss").constSelector,g.errorSelector=d("recoil-oss").errorSelector,g.isRecoilValue=d("recoil-oss").isRecoilValue,g.noWait=d("recoil-oss").noWait,g.readOnlySelector=d("recoil-oss").readOnlySelector,g.retentionZone=d("recoil-oss").retentionZone,g.selector=d("recoil-oss").selector,g.selectorFamily=d("recoil-oss").selectorFamily,g.snapshot_UNSTABLE=d("recoil-oss").snapshot_UNSTABLE,g.useGetRecoilValueInfo_UNSTABLE=d("recoil-oss").useGetRecoilValueInfo_UNSTABLE,g.useGotoRecoilSnapshot=d("recoil-oss").useGotoRecoilSnapshot,g.useRecoilBridgeAcrossReactRoots_UNSTABLE=d("recoil-oss").useRecoilBridgeAcrossReactRoots_UNSTABLE,g.useRecoilCallback=d("recoil-oss").useRecoilCallback,g.useRecoilRefresher_UNSTABLE=d("recoil-oss").useRecoilRefresher_UNSTABLE,g.useRecoilSnapshot=d("recoil-oss").useRecoilSnapshot,g.useRecoilState=d("recoil-oss").useRecoilState,g.useRecoilState_TRANSITION_SUPPORT_UNSTABLE=d("recoil-oss").useRecoilState_TRANSITION_SUPPORT_UNSTABLE,g.useRecoilStateLoadable=d("recoil-oss").useRecoilStateLoadable,g.useRecoilStoreID=d("recoil-oss").useRecoilStoreID,g.useRecoilTransaction_UNSTABLE=d("recoil-oss").useRecoilTransaction_UNSTABLE,g.useRecoilTransactionObserver_UNSTABLE=d("recoil-oss").useRecoilTransactionObserver_UNSTABLE,g.useRecoilValue=d("recoil-oss").useRecoilValue,g.useRecoilValue_TRANSITION_SUPPORT_UNSTABLE=d("recoil-oss").useRecoilValue_TRANSITION_SUPPORT_UNSTABLE,g.useRecoilValueLoadable=d("recoil-oss").useRecoilValueLoadable,g.useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE=d("recoil-oss").useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE,g.useResetRecoilState=d("recoil-oss").useResetRecoilState,g.useRetain=d("recoil-oss").useRetain,g.useSetRecoilState=d("recoil-oss").useSetRecoilState,g.waitForAll=d("recoil-oss").waitForAll,g.waitForAllSettled=d("recoil-oss").waitForAllSettled,g.waitForAny=d("recoil-oss").waitForAny,g.waitForNone=d("recoil-oss").waitForNone}),98);
__d("ZenonBackgroundBlurActiveStatus",["Recoil"],(function(a,b,c,d,e,f,g){"use strict";a=d("Recoil").atom({"default":!1,key:"ZenonBackgroundBlurAtom_ZenonBackgroundBlurActiveStatus"});g.ZenonBackgroundBlurActiveStatus=a}),98);
__d("ZenonBackgroundBlurOriginalVideoTrack",["Recoil"],(function(a,b,c,d,e,f,g){"use strict";a=d("Recoil").atom({"default":null,key:"ZenonBackgroundBlurAtom_ZenonBackgroundBlurOriginalVideoTrack"});g.ZenonBackgroundBlurOriginalVideoTrack=a}),98);
__d("ZenonDataMessageTopics",[],(function(a,b,c,d,e,f){"use strict";a="rtc_av_escalation_decline";f.AV_ESCALATION_DECLINE_DATA_MESSAGE_TOPIC=a}),66);
__d("ZenonE2ee",["asyncToGeneratorRuntime","cr:4452","cr:5740","cr:5761"],(function(a,b,c,d,e,f,g){"use strict";var h=(d=(c=b("cr:4452"))!=null?c:b("cr:5740"))!=null?d:b("cr:5761"),i=!1,j=null,k=!1,l=function(){function a(){}var c=a.prototype;c.createE2eeComponents=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,d,e,f,g){g===void 0&&(g=!1);i=a;k=g;if(!h)return;yield h.createE2eeComponents(a,b,c,d,e,f,g)});function c(b,c,d,e,f,g,h){return a.apply(this,arguments)}return c}();c.getE2eeComponents=function(){return h};c.isE2eeStackReady=function(){var a;return(a=h==null?void 0:h.isE2eeStackReady())!=null?a:!1};c.getSecureFrameManager=function(){return h==null?void 0:h.getSecureFrameManager()};c.getEncryptionKeysManager=function(){return h==null?void 0:h.getEncryptionKeysManager()};c.getSecureDataMessageManager=function(){return h==null?void 0:h.getSecureDataMessageManager()};c.isE2eeMandated=function(){return i};c.shouldUseE2eeWorker=function(){return k};return a}();function a(){j==null&&(j=new l());return j}e=a();g["default"]=e}),98);
__d("ZenonRemoteVideoRenderingEnabledAtom",["Recoil"],(function(a,b,c,d,e,f,g){"use strict";a=d("Recoil").atom({"default":!0,key:"ZenonCallsRecoil_ZenonRemoteVideoRenderingEnabledAtom"});g["default"]=a}),98);
__d("ZenonRemoteVideoRenderingEnabledSelector",["Recoil","ZenonRemoteVideoRenderingEnabledAtom"],(function(a,b,c,d,e,f,g){"use strict";a=d("Recoil").selector({get:function(a){a=a.get;return a(c("ZenonRemoteVideoRenderingEnabledAtom"))},key:"ZenonVideoEscalationRecoil_ZenonRemoteVideoRenderingEnabledSelector"});g["default"]=a}),98);
__d("ZenonThreadContext",["react"],(function(a,b,c,d,e,f,g){"use strict";a=d("react");b=a.createContext(null);c=b;g["default"]=c}),98);
__d("ZenonThreadType",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({OneToOne:"ONE_TO_ONE",Group:"GROUP",Other:"OTHER"});c=a;f["default"]=c}),66);
__d("ZenonThreadHooks",["MercuryIDs","ZenonThreadContext","ZenonThreadType","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=h.useContext,j=h.useDebugValue,k=h.useMemo;function a(){var a=i(c("ZenonThreadContext"));a=a?a.id:null;j(a);return a}function b(){var a=i(c("ZenonThreadContext"));a=a?a.participants:[];j(a);return a}function e(){var a=i(c("ZenonThreadContext")),b=(a=a==null?void 0:(a=a.mercuryThread)==null?void 0:a.participants)!=null?a:null;a=k(function(){return b?b.map(function(a){return d("MercuryIDs").getUserIDFromParticipantID(a)}).filter(Boolean):[]},[b]);j(a);return a}function f(){var a=i(c("ZenonThreadContext"));a=a?a.imageUrl:null;j(a);return a}function l(){var a=i(c("ZenonThreadContext"));a=(a=a==null?void 0:a.type)!=null?a:c("ZenonThreadType").Other;j(a);return a}function m(){var a=i(c("ZenonThreadContext"));a=a?a.name:null;j(a);return a}function n(){var a=i(c("ZenonThreadContext"));a=a?a.hasOngoingCall:null;j(a);return a}function o(){var a=i(c("ZenonThreadContext"));a=a?a.mercuryThread:null;j(a);return a}g.useThreadFBID=a;g.useThreadAndCallParticipants=b;g.useThreadParticipants=e;g.useThreadImage=f;g.useThreadType=l;g.useThreadName=m;g.useOngoingCall=n;g.useMercuryThread=o}),98);
__d("ZenonCallsHooks",["FBLogger","Recoil","UserAgent","ZenonActorHooks","ZenonBackgroundBlurActiveStatus","ZenonBackgroundBlurOriginalVideoTrack","ZenonCallsContext","ZenonCallsModelTypes","ZenonDataMessageTopics","ZenonE2ee","ZenonNetworkQualityMonitor","ZenonRemoteVideoRenderingEnabledSelector","ZenonScreenSharingAvailabilityType","ZenonThreadHooks","ZenonUsers","ZenonUsersHooks","asyncToGeneratorRuntime","gkx","immutable","promiseDone","react","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";e=d("react");var h=e.useCallback,i=e.useContext,j=e.useDebugValue,k=e.useEffect,l=e.useMemo,m=e.useRef,n=e.useState,o={useAddLocalTrack:function(){var a=i(c("ZenonCallsContext")),b=a.currentCallInstanceSDK;return h(function(a){return b.addLocalTrack(a)},[b])},useApproveParticipants:function(){var a=i(c("ZenonCallsContext")),b=a.currentCallInstanceSDK;return h(function(a){return c("promiseDone")(b.approveParticipants(a))},[b])},useAudioSharingRemoteUsersCount:function(){var a=o.useConnectedRemoteUsersIDs(),b=o.useCurrentCall(),c=0;b&&a.forEach(function(a){a=b.participants.get(a);if(a){a=a.trackIDs.map(function(a){return b.mediaTracks.get(a).contentType});a.includes("screen_audio")&&(c+=1)}});return c},useCallConnectedTime:function(){var a=i(c("ZenonCallsContext")),b=a.callTimers;a=a.currentCallInstanceSDK;a=a.getClientCallID_DEPRECATED();a=(b=b.get(a))!=null?b:null;j(a);return a},useCallParticipant:function(a){var b=null,c=r();if(c){b=(c=c.get(a))!=null?c:null}j(b);return b},useCallParticipants:function(){var a=r();return(a=a)!=null?a:c("immutable").Map()},useCallParticipantsIDs:function(){var a=r(),b=l(function(){return a===null?[]:Array.from(a.keys()).sort()},[a]);j(b);return b},useCallSpecificState:function(a){if(typeof a==="function")throw c("unrecoverableViolation")("Functional state types will break useCallSpecificState!","rtc_www");var b=i(c("ZenonCallsContext"));b=b.currentCallInstanceSDK;var d=b.getClientCallID_DEPRECATED();b=n(function(){return c("immutable").Map([[d,a]])});var e=b[0],f=b[1];b=h(function(b){typeof b==="function"?f(function(c){return c.set(d,b(c.get(d,a)))}):f(e.set(d,b))},[d,a,e]);k(function(){e.has(d)||f(e.set(d,a))},[d,a,e]);return[e.get(d,a),b]},useCallState:function(){var a=o.useCurrentCall();a=a?a.callState:d("ZenonCallsModelTypes").ZenonCallState.New;j(a);return a},useCanAddParticipants:function(){var a;a=(a=(a=o.useCurrentCall())==null?void 0:a.features.canAddParticipants)!=null?a:!1;j(a);return a},useClientEndpointId:function(){var a;return(a=(a=o.useCurrentCall())==null?void 0:a.clientEndpointId)!=null?a:""},useCollisionContext:function(){var a=o.useCurrentCall();a=(a=a==null?void 0:a.collisionContext)!=null?a:null;j(a);return a},useConnectedCallParticipantsIDs:function(a){var b=r(a);a=l(function(){if(b!==null&&b.size>0){var a=b.filter(function(a){a=a.state;return a===d("ZenonCallsModelTypes").ZenonCallParticipantState.Connected});return Array.from(a.keys()).sort()}return[]},[b]);j(a);return a},useConnectedRemoteUserCount:function(){var a=d("ZenonActorHooks").useZenonActor(),b=a[0],c=r();a=l(function(){return c===null?0:c.filter(function(a){var c=a.id;a=a.state;return c!==b&&a===d("ZenonCallsModelTypes").ZenonCallParticipantState.Connected}).size},[b,c]);j(a);return a},useConnectedRemoteUsers:function(){var a=d("ZenonActorHooks").useZenonActor(),b=a[0],e=r();a=l(function(){return e!==null&&e.size>0?e.filter(function(a){var c=a.id;a=a.state;return c!==b&&a===d("ZenonCallsModelTypes").ZenonCallParticipantState.Connected}):c("immutable").Map()},[b,e]);j(a);return a},useConnectedRemoteUsersIDs:function(){var a=d("ZenonActorHooks").useZenonActor(),b=a[0],c=r();a=l(function(){return c===null?[]:c.filter(function(a){var c=a.id;a=a.state;return c!==b&&a===d("ZenonCallsModelTypes").ZenonCallParticipantState.Connected}).map(function(a){return a.id}).toArray()},[b,c]);j(a);return a},useCoplayOutputState:function(){var a=o.useCurrentCall();if(a){a=(a=a.stateSyncOutputStates.get("coplay"))==null?void 0:a.data;return{eligibleParticipants:(a==null?void 0:a.eligibleParticipants)||[],matchState:(a==null?void 0:a.matchState)||null}}return null},useCurrentParticipant:function(){var a=d("ZenonActorHooks").useZenonActor();a=a[0];var b=r();return(b=b==null?void 0:b.get(a))!=null?b:null},useDataMessageSubscription:function(a,b){var e=i(c("ZenonCallsContext")),f=e.currentCallInstanceSDK,g=o.useCallState();k(function(){g===d("ZenonCallsModelTypes").ZenonCallState.Connected&&c("promiseDone")(f.createDataMessageSubscription(a,b));return function(){c("promiseDone")(f.removeDataMessageSubscription(a,b))}},[g,f,a,b])},useDeclineVideoEscalation:function(){var a=i(c("ZenonCallsContext")),b=a.currentCallInstanceSDK,e=o.useConnectedRemoteUsersIDs();return h(function(){c("promiseDone")(b.sendGenericDataMessage(d("ZenonDataMessageTopics").AV_ESCALATION_DECLINE_DATA_MESSAGE_TOPIC,"",e,[]))},[b,e])},useDenyParticipants:function(){var a=i(c("ZenonCallsContext")),b=a.currentCallInstanceSDK;return h(function(a){return c("promiseDone")(b.denyParticipants(a))},[b])},useDominantSpeakerID_DEPRECATED:function(){var a=o.useCurrentCall();a=(a=a==null?void 0:a.features.dominantSpeaker)!=null?a:null;j(a);return a},useEndCall:function(){var a=i(c("ZenonCallsContext")),b=a.currentCallInstanceSDK,e=a.endCallHooks,f=d("Recoil").useRecoilValue(d("ZenonBackgroundBlurOriginalVideoTrack").ZenonBackgroundBlurOriginalVideoTrack);return h(function(a,d){f==null?void 0:f.webrtcTrack.stop(),c("promiseDone")(b.endCall(a,d)),e.forEach(function(b){return b(a,d)})},[b,e,f==null?void 0:f.webrtcTrack])},useEndCallReason:function(){var a=o.useCurrentCall();a=(a=a==null?void 0:a.endCallReason)!=null?a:null;j(a);return a},useEndCallDetails:function(){var a=o.useCurrentCall();a=(a=a==null?void 0:a.endCallDetails)!=null?a:null;j(a);return a},useGetDebugInfo:function(){var b=i(c("ZenonCallsContext")),d=b.currentCallInstanceSDK;b=d.getMediaMode();var e=d.getSdpFormat(),f=d.getSignalingProtocol(),g=c("ZenonE2ee").shouldUseE2eeWorker(),h=d.getEncryptionKeysManagerState().e2eeNegotiationState,j=n(null),l=j[0],m=j[1],o=function(){var a=d.getSCTPDataChannelState("data");m((a=a)!=null?a:null)};k(function(){var b=a.setInterval(o,1e3);return function(){return a.clearInterval(b)}});return{e2eeNegotiationState:h,isAsyncE2ee:g,mediaMode:b,sdpFormat:e,signalingProtocol:f,sctpDataChannelStatus:l}},useGetE2eeDebugStats:function(){var d=m(!0),e=n(null),f=e[0],g=e[1];e=i(c("ZenonCallsContext"));var h=e.currentCallInstanceSDK,j=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield h.getEncryptionKeysManagerState().e2eeDebugStats);g(a?babelHelpers["extends"]({},a):null)});return function(){return a.apply(this,arguments)}}();k(function(){d.current&&(d.current=!1,void j());var b=a.setInterval(j,1e3);return function(){return a.clearInterval(b)}});return f},useGetMediaMode:function(){var a=i(c("ZenonCallsContext"));a=a.currentCallInstanceSDK;return a.getMediaMode()},useGetScreenAudio:function(){var a;a=(a=q().find(function(a){return a.contentType==="screen_audio"}))!=null?a:null;j(a);return a},useCurrentCall:function(){var a=i(c("ZenonCallsContext")),b=a.calls;a=a.currentCallInstanceSDK;a=(b=b.get(a.getClientCallID_DEPRECATED()))!=null?b:null;j(a);return a},useGetSdpFormat:function(){var a=i(c("ZenonCallsContext"));a=a.currentCallInstanceSDK;return a.getSdpFormat()},useGetEncryptionKeysManagerState:function(){var a=i(c("ZenonCallsContext"));a=a.currentCallInstanceSDK;return a.getEncryptionKeysManagerState()},useGetSignalingProtocol:function(){var a=i(c("ZenonCallsContext"));a=a.currentCallInstanceSDK;return a.getSignalingProtocol()},useHasParentApprovedParticipants:function(){var a=o.useConnectedRemoteUsersIDs();a=d("ZenonUsersHooks").useZenonUsers(a);return a.some(function(a){return a.userType===d("ZenonUsers").ZenonUserType.ParentApprovedUser})},useIsAudioCall:function(){var a=i(c("ZenonCallsContext")),b=a.callMediaTypes;a=a.currentCallInstanceSDK;b=b.get(a.getClientCallID_DEPRECATED(),"audio");j(b);return b==="audio"},useIsGuest:function(a){var b=o.useCallParticipant(a),c=d("ZenonThreadHooks").useThreadParticipants();return l(function(){return(b==null?void 0:b.participantType)===d("ZenonCallsModelTypes").ZenonCallParticipantType.Guest||!c.includes(a)},[b,a,c])},useLiveMediaTrack:function(a,b){var e=d("Recoil").useRecoilValue(c("ZenonRemoteVideoRenderingEnabledSelector")),f=o.useCurrentCall(),g=f==null?void 0:f.participants.get(a),h=f==null?void 0:f.mediaTracks;a=l(function(){var a=null;if(h&&(b!=="video"||e)&&g){var c;a=(c=g.trackIDs.map(function(a){return h.get(a)}).find(function(a){return a.contentType===b&&a.enabled&&a.webrtcTrack.readyState==="live"}))!=null?c:null}return a},[h,e,b,g]);j(a);return a},useLiveMediaTracks_DEBUG:function(a,b){var d=o.useCurrentCall(),e=c("immutable").Set();if(d){a=d.participants.get(a);if(a){a=a.trackIDs.map(function(a){return d.mediaTracks.get(a)}).filter(function(a){return a.contentType===b&&a.enabled&&a.webrtcTrack.readyState==="live"});e=a}}j(e);return e},useLiveScreenOrVideoTrack:function(a){var b=o.useLiveMediaTrack(a,"video"),c=o.useSupportMultipleStreams();a=o.useLiveMediaTrack(a,"screen");if(c){b=(c=a)!=null?c:b}return b},useIsVideoSubscribed:function(a){var b=o.useCurrentCall();if(b){b=b.participants.get(a);if(b)return b.isVideoSubscribed}return!1},useLocalAudio:function(){var a;a=(a=q().find(function(a){return a.contentType==="audio"}))!=null?a:null;j(a);return a},useLocalScreen:function(){var a;a=(a=q().find(function(a){return a.contentType==="screen"}))!=null?a:null;j(a);return a},useLocalVideo:function(){var a;a=(a=q().find(function(a){return a.contentType==="video"}))!=null?a:null;j(a);return a},useLocalVideoSettings:function(){var a=o.useLocalVideo(),b=d("Recoil").useRecoilValue(d("ZenonBackgroundBlurOriginalVideoTrack").ZenonBackgroundBlurOriginalVideoTrack),c=d("Recoil").useRecoilValue(d("ZenonBackgroundBlurActiveStatus").ZenonBackgroundBlurActiveStatus);c=c?b:a;return c==null?void 0:c.webrtcTrack.getSettings()},useMediaTrack_DEBUG:function(a,b){var c=o.useCurrentCall(),d=null;if(c){a=c.participants.get(a);if(a){d=(a=a.trackIDs.map(function(a){return c.mediaTracks.get(a)}).find(function(a){return a.contentType===b}))!=null?a:null}}j(d);return d},useMuteTrack:function(){var a=i(c("ZenonCallsContext")),b=a.currentCallInstanceSDK;return h(function(a){return b.muteTrack(a)},[b])},useOnCallEnded:function(){var a=i(c("ZenonCallsContext")),b=a.endCallHooks;return h(function(a){b.add(a)},[b])},usePoorConnectionStatus:function(){var a;a=((a=o.useCurrentCall())==null?void 0:a.features.networkStatus.local)===d("ZenonNetworkQualityMonitor").ZenonNetworkQuality.Poor;j(a);return a},usePreContactingRemoteUsersIDs:function(){var a=d("ZenonActorHooks").useZenonActor(),b=a[0],c=r();a=l(function(){if(c!==null&&c.size>0){var a=c.filter(function(a){var c=a.id;a=a.state;return c!==b&&a===d("ZenonCallsModelTypes").ZenonCallParticipantState.Precontacting});return Array.from(a.keys()).sort()}return[]},[b,c]);j(a);return a},useRemoteScreen:function(){var a=o.useCurrentCall(),b=o.useSupportMultipleStreams(),c=null;if(b){c=a===null?null:(b=a.remoteMediaTracks.find(function(a){return a.contentType==="screen"&&a.enabled}))!=null?b:null}j(c);return c},useRemoteScreenSharingUserIDs_DEPRECATED:function(){var a=o.useCurrentCall();return(a=a==null?void 0:a.remoteScreenSharingUserIDs)!=null?a:c("immutable").OrderedSet()},useRemoteScreenTracks:function(){var a=o.useIsAudioCall(),b=o.useCurrentCall(),c=o.useSupportMultipleStreams();a=!a&&b!==null&&c?b.remoteMediaTracks.filter(function(a){return a.contentType==="screen"&&a.enabled}).toArray():[];j(a);return a},useRemoteTracksNetworkQualityMap:function(){var a;a=(a=o.useCurrentCall())==null?void 0:a.features.networkStatus.remote;j(a);return a},useRemoteVideoTracks:function(){var a=d("Recoil").useRecoilValue(c("ZenonRemoteVideoRenderingEnabledSelector")),b=o.useIsAudioCall(),e=o.useCurrentCall();a=a&&!b&&e!==null?e.remoteMediaTracks.filter(function(a){return a.contentType==="video"&&a.enabled}).toArray():[];j(a);return a},useRemoveAllGuestParticipants:function(){var a=d("ZenonActorHooks").useZenonActor(),b=a[0],c=o.useCallParticipantsIDs(),e=o.useRemoveParticipants(),f=l(function(){return c.filter(function(a){return b!==a})},[b,c]);return h(function(){e(f)},[f,e])},useRemoveLocalTrack:function(){var a=i(c("ZenonCallsContext")),b=a.currentCallInstanceSDK;return h(function(a){return b.removeLocalTrack(a)},[b])},useRemoveParticipants:function(){var a=i(c("ZenonCallsContext")),b=a.currentCallInstanceSDK;return h(function(a){b!=null&&c("promiseDone")(b.removeParticipants(a))},[b])},useReplaceLocalTrack:function(){var a=i(c("ZenonCallsContext")),b=a.currentCallInstanceSDK;return h(function(a,c,d){return b.replaceLocalTrack(a,c,d)},[b])},useReplaceScreenTrack:function(){var a=o.useAddLocalTrack(),b=o.useReplaceLocalTrack(),d=o.useLocalVideo(),e=o.useLocalScreen(),f=o.useSupportMultipleStreams();return h(function(g){d==null||f?e==null?c("promiseDone")(a(g)):c("promiseDone")(b(e.trackId,g)):c("promiseDone")(b(d.trackId,g))},[a,f,e,d,b])},useResponseSubCode:function(){var a=o.useCurrentCall();return(a=a==null?void 0:a.responseSubCode)!=null?a:null},useRingParticipants:function(){var a=i(c("ZenonCallsContext")),b=a.currentCallInstanceSDK;return h(function(a,d){b!=null&&c("promiseDone")(b.ringParticipants(a,d))},[b])},useRtpReceivers_I_KNOW_WHAT_I_AM_DOING:function(){var a=o.useCurrentCall();a=(a=a==null?void 0:a.rtpReceivers_I_KNOW_WHAT_I_AM_DOING.toArray())!=null?a:[];p("useRtpReceivers");j(a);return a},useRtpSenders_I_KNOW_WHAT_I_AM_DOING:function(){var a=o.useCurrentCall();a=(a=a==null?void 0:a.rtpSenders_I_KNOW_WHAT_I_AM_DOING.toArray())!=null?a:[];p("useRtpSenders");j(a);return a},useScreenSharingAvailability:function(){var a;a=(a=(a=o.useCurrentCall())==null?void 0:a.features.screenSharingAvailability)!=null?a:c("ZenonScreenSharingAvailabilityType").Unknown;var b=o.useIsAudioCall();(c("UserAgent").isBrowser("Safari")&&b||c("UserAgent").isBrowser("Oculus Browser"))&&(a=c("ZenonScreenSharingAvailabilityType").Unknown);j(a);return a},useServerInfoData:function(){var a=o.useCollisionContext();return(a=a==null?void 0:a.serverInfoData)!=null?a:null},useSubscribeToRemoteVideo:function(){var a=i(c("ZenonCallsContext")),b=a.currentCallInstanceSDK;return h(function(a,d){c("promiseDone")(b.subscribeToRemoteVideo(a,d))},[b])},useSupportMultipleStreams:function(){var a=i(c("ZenonCallsContext")),b=a.calls;a=a.currentCallInstanceSDK;b=b.get(a.getClientCallID_DEPRECATED());a=(a=b==null?void 0:b.features.supportMultipleStreams)!=null?a:!1;b=Array.from((b=b==null?void 0:(b=b.mediaTracks)==null?void 0:b.values())!=null?b:[]).some(function(a){return a.contentType!=="audio"});var d=c("gkx")("4883")||c("gkx")("1675");j(a&&(b||d));return a&&(b||d)},useUnmuteTrack:function(){var a=i(c("ZenonCallsContext")),b=a.currentCallInstanceSDK;return h(function(a){return b.unmuteTrack(a)},[b])},useIsTwoPersonCall:function(){var a=o.useCallParticipantsIDs(),b=d("ZenonThreadHooks").useThreadName();return a.length<=2&&b==null},useParticipantsCount:function(){var a=o.useCallParticipantsIDs();return a.length},useIsPendingApproval:function(){var a=o.useCallState();return a===d("ZenonCallsModelTypes").ZenonCallState.PendingApproval},useIsScreensharingCapabilityEnabled:function(){var a=o.useCurrentCall();return(a=a==null?void 0:a.participants.filter(function(a){return a.state===d("ZenonCallsModelTypes").ZenonCallParticipantState.Connected}).every(function(a){try{return a.userCapabilities!=null&&a.userCapabilities.length>0&&((a=JSON.parse(a.userCapabilities))==null?void 0:a.screen_sharing)===!0}catch(a){c("FBLogger")("rtc_www").catching(a).mustfix("ZenonCallsHooks.useIsScreensharingCapabilityEnabled: Unable to parse userCapabilities");return!1}}))!=null?a:!1}};function p(a){k(function(){c("FBLogger")("ZenonCallsHooks").event(a)},[a])}function q(){var a=o.useCurrentCall();return(a=a==null?void 0:a.localMediaTracks.toArray())!=null?a:[]}function r(a){var b=o.useCurrentCall();a=(a=a)!=null?a:b;a=(b=a==null?void 0:a.participants)!=null?b:null;j(a);return a}f=o;g["default"]=f}),98);
__d("ZenonConnectionStateTypes",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({KEEP_ALL_PARTICIPANTS:0,REMOVE_DUPLICATED:1,DISCONNECT_DUPLICATED:2});f.ZenonDuplicatedParticipantsProcessingMode=a}),66);
__d("ZenonCallsModelEmitter",["EventEmitter","ZenonActorHooks","ZenonCall","ZenonCallParticipant","ZenonCallsModelTypes","ZenonConnectionStateTypes","ZenonDismissReason","ZenonParticipantState","immutable"],(function(a,b,c,d,e,f,g){"use strict";var h=100;a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(b=d=a.call.apply(a,[this].concat(f))||this,d.$ZenonCallsModelEmitter1=c("immutable").Map(),d.$ZenonCallsModelEmitter2=new Map(),d.$ZenonCallsModelEmitter3=null,b)||babelHelpers.assertThisInitialized(d)}var e=b.prototype;e.emitCallsModel=function(a,b){var c=this;this.$ZenonCallsModelEmitter3!==null?this.$ZenonCallsModelEmitter2.set(a,b):(this.$ZenonCallsModelEmitter4(a,b),this.$ZenonCallsModelEmitter3=window.setTimeout(function(){c.$ZenonCallsModelEmitter2.forEach(function(a,b){c.$ZenonCallsModelEmitter4(b,a)}),c.$ZenonCallsModelEmitter2.clear(),c.$ZenonCallsModelEmitter3=null},h))};e.$ZenonCallsModelEmitter4=function(a,b){b=new(c("ZenonCall"))({callState:this.$ZenonCallsModelEmitter5(b),clientCallId:a,clientEndpointId:b.clientEndpointId,collisionContext:b.collisionContext,endCallDetails:this.$ZenonCallsModelEmitter6(b),endCallReason:this.$ZenonCallsModelEmitter7(b),features:b.currentUserCapabilities,localMediaTracks:this.$ZenonCallsModelEmitter8(b),mediaTracks:this.$ZenonCallsModelEmitter9(b),participants:this.$ZenonCallsModelEmitter10(b),remoteMediaTracks:this.$ZenonCallsModelEmitter11(b),rtpReceivers_I_KNOW_WHAT_I_AM_DOING:this.$ZenonCallsModelEmitter12(b),rtpSenders_I_KNOW_WHAT_I_AM_DOING:this.$ZenonCallsModelEmitter13(b),selfParticipantID:b.selfParticipantID,stateSyncInputStates:this.$ZenonCallsModelEmitter14(b),stateSyncOutputStates:this.$ZenonCallsModelEmitter15(b)});this.$ZenonCallsModelEmitter1=this.$ZenonCallsModelEmitter1.set(a,b);this.emitCallsModelDelegate(this.$ZenonCallsModelEmitter1)};e.emitCallsModelDelegate=function(a){this.emit("callsModelUpdate",a)};e.$ZenonCallsModelEmitter5=function(a){return i[a.connectionState]};e.$ZenonCallsModelEmitter6=function(a){return(a=a.dismissDetails)==null?void 0:a.detailedReasonFromMW};e.$ZenonCallsModelEmitter7=function(a){return a.dismissDetails!=null&&a.dismissDetails.dismissReason!=null?d("ZenonDismissReason").dismissToEndCallReason(a.dismissDetails.dismissReason):null};e.$ZenonCallsModelEmitter8=function(a){return this.$ZenonCallsModelEmitter9(a).filter(function(a){return a.remote===!1})};e.$ZenonCallsModelEmitter11=function(a){return this.$ZenonCallsModelEmitter9(a).filter(function(a){return a.remote===!0})};e.$ZenonCallsModelEmitter9=function(a){return c("immutable").Map(a.getTracks())};e.$ZenonCallsModelEmitter10=function(a){var b=a.getUserToTracksMap(),e=a.getTracks(),f=a.getExistingParticipantIds(),g=a.actorRepresentatives,h=this.$ZenonCallsModelEmitter16(a),i=c("immutable").Map().withMutations(function(i){h.forEach(function(h,j){var k;i.set(j,new(c("ZenonCallParticipant"))({id:j,isExistingParticipant:f.has(j),isVideoSubscribed:a.getIsUserVideoSubscribed(j),participantType:d("ZenonCallsModelTypes").ZenonCallParticipantType.Messenger,representativeID:(k=g.get(j))!=null?k:null,state:d("ZenonParticipantState").toCallParticipantState(h),trackIDs:c("immutable").Set((k=b.get(j))==null?void 0:k.keys()).filter(function(a){return e.has(a)}),userCapabilities:a.getUserCapabilities(j)}))})});return this.$ZenonCallsModelEmitter17(i,a)};e.$ZenonCallsModelEmitter17=function(a,b){var e=a.get(b.selfParticipantID);if(!e)return a;e=new(c("ZenonCallParticipant"))(babelHelpers["extends"]({},e.toObject(),{id:d("ZenonActorHooks").ZenonActor.getID()}));return a["delete"](b.selfParticipantID).set(e.id,e)};e.$ZenonCallsModelEmitter14=function(a){return c("immutable").Map(a.getStateSyncInputs())};e.$ZenonCallsModelEmitter15=function(a){return c("immutable").Map(a.getStateSyncOutputs())};e.$ZenonCallsModelEmitter13=function(a){return c("immutable").Set(a.getRtpSenders_I_KNOW_WHAT_I_AM_DOING())};e.$ZenonCallsModelEmitter12=function(a){return c("immutable").Set(a.getRtpReceivers_I_KNOW_WHAT_I_AM_DOING())};e.getCallsModel=function(){return this.$ZenonCallsModelEmitter1};e.$ZenonCallsModelEmitter18=function(a){var b=a.actorRepresentatives;a=a.getConsolidatedParticipantStates();var c=new Map();a.forEach(function(a,e){e=(e=b.get(e))!=null?e:null;if(e!==null&&a<=d("ZenonParticipantState").ZenonParticipantState.CONNECTED){var f;f=(f=c.get(e))!=null?f:d("ZenonParticipantState").ZenonParticipantState.UNKNOWN;c.set(e,(e=d("ZenonParticipantState").ZenonParticipantState.cast(Math.max(f,a)))!=null?e:d("ZenonParticipantState").ZenonParticipantState.UNKNOWN)}});return c};e.$ZenonCallsModelEmitter16=function(a){var b=a.getConsolidatedParticipantStates(),c=a.duplicatedParticipantsProcessingMode;if(c===d("ZenonConnectionStateTypes").ZenonDuplicatedParticipantsProcessingMode.KEEP_ALL_PARTICIPANTS)return b;var e=this.$ZenonCallsModelEmitter18(a),f=a.actorRepresentatives,g=new Map();b.forEach(function(a,b){var h;h=(h=e.get(b))!=null?h:null;if(h!==null)h!==d("ZenonParticipantState").ZenonParticipantState.CONNECTING&&h!==d("ZenonParticipantState").ZenonParticipantState.CONNECTED?g.set(b,h):c===d("ZenonConnectionStateTypes").ZenonDuplicatedParticipantsProcessingMode.DISCONNECT_DUPLICATED&&g.set(b,d("ZenonParticipantState").ZenonParticipantState.DISCONNECTED);else{h=(h=f.get(b))!=null?h:null;(h===null||a===d("ZenonParticipantState").ZenonParticipantState.CONNECTING||a===d("ZenonParticipantState").ZenonParticipantState.CONNECTED)&&g.set(b,a)}});return g};return b}(c("EventEmitter"));b=new a();var i=Object.freeze({clientInitiatedRenegotiation:d("ZenonCallsModelTypes").ZenonCallState.Connected,creatingSdp:d("ZenonCallsModelTypes").ZenonCallState.Connecting,init:d("ZenonCallsModelTypes").ZenonCallState.New,peerConnectionRestarting:d("ZenonCallsModelTypes").ZenonCallState.Connected,pendingApproval:d("ZenonCallsModelTypes").ZenonCallState.PendingApproval,sdpNegotiated:d("ZenonCallsModelTypes").ZenonCallState.Connected,sdpSet:d("ZenonCallsModelTypes").ZenonCallState.Connecting,serverInitiatedRenegotiating:d("ZenonCallsModelTypes").ZenonCallState.Connected,terminated:d("ZenonCallsModelTypes").ZenonCallState.Terminated,waitingForIncoming:d("ZenonCallsModelTypes").ZenonCallState.New});g.CALLS_MODEL_EMITTER_DELAY_MS=h;g.CallsModelEmitterInstance=b;g.CONNECTION_STATE_TO_CALL_STATE_MAP=i}),98);
__d("ZenonCapabilities",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b;a={AddParticipantEnabled:(b=a.addParticipantEnabled)!=null?b:!1,GROUP_COWATCH:(b=a.cowatchGroupEnabled)!=null?b:!1,MultipleVideoStreamsAllowed:(b=a.multipleVideoStreamsAllowed)!=null?b:!1,MW_AV_ESCALATION:(b=a.multiwayVideoEscalation)!=null?b:!1,canApproveCollaborationSpaceJoinRequests:(b=a.canApproveCollaborationSpaceJoinRequests)!=null?b:!1,cowatch:(b=a.cowatchEnabled)!=null?b:!1,screen_sharing:(b=a.screenSharingEnabled)!=null?b:!1,sctp_hangup:(b=a.sctpHangupEnabled)!=null?b:!1,sctpSecondPc:(b=a.sctpSecondPcEnabled)!=null?b:!1,vr_screen_share:(b=a.vrScreenShare)!=null?b:!1};return JSON.stringify(a)}f.capabilitiesToString=a}),66);
__d("ZenonConnectionInitState",["Promise","ZenonCapabilities","ZenonParticipantState","gkx","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";function a(a,e){var f,g=[];if(e.type!=="createConnection")return;var h=e.payload.direction==="outgoing",i=e.payload,j=i.appMessages,k=i.callMedia,l=i.dataChannels,m=i.initialSyncStates,n=i.isE2eeMandated,o=i.isSecondaryJoinRole,p=i.mwRingRequest,q=i.serializedInitialSyncStates,r=i.tracks;i=i.usersToRing;var s=h?i:p==null?void 0:(f=p.jsonPayload.body.ringRequest)==null?void 0:f.otherParticipants;a.updateConnectionModel(function(b){s==null?void 0:s.forEach(function(a){b.updateParticipantState(a,d("ZenonParticipantState").ZenonParticipantState.CONTACTING)}),b.registerTrackFetcher(function(){return a.peerConnectionManager.getTracks()}),b.registerRtpSendersFetcher(function(){return a.peerConnectionManager.getRtpSenders()}),b.registerRtpReceiversFetcher(function(){return a.peerConnectionManager.getRtpReceivers()}),r==null?void 0:r.forEach(function(a){b.addLocalTrackToTrackMap({enabled:a.enabled,participantID:b.selfParticipantID,trackID:a.trackId,type:a.contentType})})});h&&c("promiseDone")(a.signalingClient.sendInvite(i,j));f=a.getConnectionModel();i=f.currentUserCapabilities;j=f.selfParticipantID;f={addParticipantEnabled:i.get("canAddParticipants"),canApproveCollaborationSpaceJoinRequests:i.get("canApproveCollaborationSpaceJoinRequests"),cowatchEnabled:i.get("cowatchEnabled"),cowatchGroupEnabled:i.get("cowatchGroupEnabled"),multipleVideoStreamsAllowed:i.get("supportMultipleStreams"),multiwayVideoEscalation:i.get("multiwayVideoEscalation"),screenSharingEnabled:i.get("screenSharingEnabled"),sctpHangupEnabled:i.get("supportSctpHangup"),sctpSecondPcEnabled:i.get("supportSctpSecondPc"),vrScreenShare:i.get("vrScreenShare")};i=d("ZenonCapabilities").capabilitiesToString(f);g.push(a.signalingClient.sendClientInfo(new Map([[j,i]]),m,q,o,n));f=a.signalingClient.getSignalingModel().getMediaModeManager().getMediaMode();r&&g.push(a.peerConnectionManager.addLocalTracks(r,f,h,k));var t=f==="sfu"||h;a.peerConnectionManager.setShouldEstablishDataChannel(t);var u=f==="sfu"||f==="p2p"&&((j=a.signalingClient.getSignalingModel().getRoomInfo().context)==null?void 0:j.peerID)==null||c("gkx")("3394");l&&l.forEach(function(b){a.sctpPeerConnectionManager!=null?a.sctpPeerConnectionManager.createDataChannel(b,t):u&&g.push(a.peerConnectionManager.createDataChannel(b))});if(t){(i=a.sctpPeerConnectionManager)==null?void 0:i.createOffer({})}a.peerConnectionManager.getSupportsSimulcastOverSignaling()&&c("promiseDone")(a.peerConnectionManager.createDataMessageSubscription("signalingVideoUploadUpdate",function(b){return a.peerConnectionManager.onSimulcastSignalingDataMessage(b)}));(h||(p==null?void 0:(m=p.jsonPayload.body.ringRequest)==null?void 0:(q=m.offer)==null?void 0:q.sdpString)==null)&&g.push(a.peerConnectionManager.applyLocalSdp());b("Promise").all(g).then(function(){return e.onSuccess()})["catch"](function(a){return e.onError(a)})}g.onCreateConnection=a}),98);
__d("ZenonConnectionPeerConnectionRestartingState",["RpWebPeerConnectionEndDelay","ZenonInfraActionsLogger","ZenonMWMessageTypes","ZenonMediaActionLogger","ZenonParticipantState","promiseDone","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){if(b.type!=="sdpReceived")return;b=b.payload;var d=b.mediaStates,e=b.messageID,f=b.onProcessed,g=b.renegotiationOffer,h=b.sdp;b=b.source;a.updateConnectionModel(function(a){a.updateTrackMapFromMediaStates(d.tracks,h.type==="pranswer")});c("promiseDone")(a.secondaryPeerConnectionManager.applyRemoteSdp(h,d,b,g,f,e))}function b(a,b){if(b.type!=="connectionEstablished"||b.payload.peerConnectionRole!=="secondary")return{};var e=a.peerConnectionManager;b=a.sctpPeerConnectionManager;var f=a.secondaryPeerConnectionManager,g=a.signalingClient,h=a.updateConnectionModel,i=g.getSignalingModel(),j=i.getMediaModeManager().getMediaMode(),k=f.getTracks();e.getTracks().forEach(function(a){var b=k.get(a.trackId);!a.remote&&b!=null&&a.enabled!==b.enabled&&(c("ZenonMediaActionLogger").logEvent({checkpoint:"media track out of sync during pc transition"}),a.webrtcTrack.enabled?c("promiseDone")(f.unmuteLocalTrack(a.trackId)):c("promiseDone")(f.muteLocalTrack(a.trackId)))});f.renegotiateNullSenderTransport();f.setTrackListenersFromManager(e);f.swapPeerConnectionEventHandlers(e);i=j==="sfu"||((i=i.getRoomInfo().context)==null?void 0:i.peerID)!=null&&a.getConnectionModel().connectionDirection==="outgoing";f.setIceRestartEligible(i);a.sctpHelper.setupSctpChannelApi(g.getSignalingModel().getSignalingID(),(i=b)!=null?i:f);c("promiseDone")(g.sendClientEvent(d("ZenonMWMessageTypes").ZenonMWClientEventType.MEDIA_CONNECTED));h(function(a){a.registerTrackFetcher(function(){return f.getTracks()}),a.registerRtpSendersFetcher(function(){return f.getRtpSenders()}),a.registerRtpReceiversFetcher(function(){return f.getRtpReceivers()}),a.updateParticipantState(a.selfParticipantID,d("ZenonParticipantState").ZenonParticipantState.CONNECTED)});a.logEvent({name:"callConnected"});a.logEvent({name:"connectionReady"});b=c("setTimeout")(function(){c("ZenonInfraActionsLogger").logCheckpointEmployeesTestUsersOnly({checkpoint:"Issuing delayed end call to previous peer connection"}),c("promiseDone")(e.end(!1))},c("RpWebPeerConnectionEndDelay").DELAY);j==="sfu"?(a.logEvent({name:"callEscalated"}),c("ZenonInfraActionsLogger").logCheckpoint({checkpoint:"secondaryConnectionEstablished: SFU escalation complete"})):c("ZenonInfraActionsLogger").logCheckpoint({checkpoint:"secondaryConnectionEstablished: De-escalation complete"});return{activePeerConnection:"primary",bufferTimeout:b,peerConnectionManager:f,secondaryPeerConnectionManager:e}}g.onSdpReceived=a;g.onSecondaryConnectionEstablished=b}),98);
__d("ZenonConnectionSMGuards",["ZenonInfraActionsLogger","ZenonMWMessageTypes","ZenonScreenShare"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){if(b.type!=="addLocalTracks"||a.getConnectionModel().currentUserCapabilities.supportMultipleStreams)return!1;b=b.payload.tracks;return!d("ZenonScreenShare").isScreenSharingTrack(b)?!1:Array.from(a.getConnectionModel().getTracks().values()).some(function(a){return!a.remote&&(a.contentType==="video"||a.contentType==="screen")})}function b(a,b){return b.type==="createConnection"&&b.payload.direction==="incoming"}function e(a,b){return b.type==="createConnection"&&b.payload.direction==="outgoing"}function f(a,b){if(b.type!=="removeLocalTrack"||a.getConnectionModel().currentUserCapabilities.supportMultipleStreams)return!1;b=b.payload.trackID;var c=a.getConnectionModel().getTracks().get(b);return c==null||!d("ZenonScreenShare").isScreenSharingTrack([c])?!1:Array.from(a.getConnectionModel().getTracks().values()).some(function(a){return a.trackId!==c.trackId&&!a.remote&&(a.contentType==="video"||a.contentType==="screen")})}function h(a,b){return b.type==="sdpReceived"&&b.payload.sdp.type==="answer"}function i(a,b){return b.type==="sdpReceived"&&b.payload.sdp.type==="pranswer"}function j(a,b){return b.type==="sdpReceived"&&b.payload.sdp.type==="offer"}function k(a,b){return b.type==="sdpReceived"&&(b.payload.sdp.type==="answer"||b.payload.sdp.type==="offer"&&b.payload.mediaPath===d("ZenonMWMessageTypes").ZenonMWMediaPath.P2P)}function l(a,b){return b.payload!=null&&b.payload.peerConnectionRole!=null&&b.payload.peerConnectionRole===a.activePeerConnection}function m(a,b){return b.payload!=null&&b.payload.peerConnectionRole!=null&&b.payload.peerConnectionRole==="secondary"}function n(a,b){a=b.type==="mediaUpdateResponseReceived"&&b.payload.cancelNegotiations;b.type==="mediaUpdateResponseReceived"&&c("ZenonInfraActionsLogger").logCheckpoint({checkpoint:"[ZP] cancel negotiations called with: "+String(b.payload.cancelNegotiations)});return a}g.addScreenShareTrackWithReplaceGuard=a;g.incomingConnectionGuard=b;g.outgoingConnectionGuard=e;g.removeScreenShareTrackWithReplaceGuard=f;g.sdpAnswerReceiveGuard=h;g.sdpPrAnswerReceiveGuard=i;g.sdpOfferReceiveGuard=j;g.sdpAnswerOrP2POfferReceiveGuard=k;g.activePeerConnectionGuard=l;g.secondaryPeerConnectionGuard=m;g.cancelNegotiationsGuard=n}),98);
__d("ZenonConnectionSdpNegotiatedState",["Promise","ZenonScreenShare","gkx","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";function a(a,d){if(d.type!=="addLocalTracks"&&d.type!=="initiateAddLocalTracks")return;var e=[],f=d.payload.tracks;e.push(a.peerConnectionManager.addLocalTracks(f,a.signalingClient.getSignalingModel().getMediaModeManager().getMediaMode()));e.push(a.peerConnectionManager.applyLocalSdp());a.updateConnectionModel(function(a){f.forEach(function(b){a.addLocalTrackToTrackMap({enabled:b.enabled,participantID:a.selfParticipantID,trackID:b.trackId,type:b.contentType})})});c("promiseDone")(b("Promise").all(e),d.onSuccess,d.onError)}function e(a,b){if(b.type!=="addLocalTracks")return;var e=b.payload.tracks;if(!d("ZenonScreenShare").isScreenSharingTrack(e))return;c("promiseDone")(a.peerConnectionManager.addLocalTracks(e,a.signalingClient.getSignalingModel().getMediaModeManager().getMediaMode()));a.updateConnectionModel(function(a){e.forEach(function(b){a.addLocalTrackToTrackMap({enabled:b.enabled,participantID:a.selfParticipantID,trackID:b.trackId,type:b.contentType})})})}function f(a,b){if(b.type!=="initiatePeerConnectionRestarting")return{};var d=a.bufferTimeout,e=a.peerConnectionManager,f=a.sctpPeerConnectionManager,g=a.secondaryPeerConnectionManager;window.clearTimeout(d);c("promiseDone")(g.restart());c("promiseDone")(g.setLocalMediaStateVersion(e.getLocalMediaStateVersion()));d=a.signalingClient.getSignalingModel().getMediaModeManager().getMediaMode();c("promiseDone")(g.addLocalTracks(Array.from(e.getTracks().values()).filter(function(a){return!a.remote}),d));b=b.payload.hasRemoteOffer;var h=d==="sfu",i=h||!b;a.secondaryPeerConnectionManager.setShouldEstablishDataChannel(i);e.setIceRestartEligible(!1);(h||c("gkx")("3394"))&&e.getDataChannelLabels().forEach(function(a){c("promiseDone")(g.createDataChannel(a))});f==null?void 0:f.handleMediaModeChange(i,d);a.secondaryPeerConnectionManager.getSupportsSimulcastOverSignaling()&&c("promiseDone")(a.secondaryPeerConnectionManager.createDataMessageSubscription("signalingVideoUploadUpdate",function(b){return a.secondaryPeerConnectionManager.onSimulcastSignalingDataMessage(b)}));b||(c("promiseDone")(g.applyLocalSdp()),f==null?void 0:f.createOffer({},d));return{activePeerConnection:"secondary",bufferTimeout:null}}function h(a,d){if(d.type!=="removeLocalTrack"&&d.type!=="initiateRemoveLocalTrack")return;var e=[],f=d.payload.trackID;e.push(a.peerConnectionManager.removeLocalTrack(f));e.push(a.peerConnectionManager.applyLocalSdp());a.updateConnectionModel(function(a){a.removeLocalTrackFromTrackMap(f)});c("promiseDone")(b("Promise").all(e),d.onSuccess,d.onError)}function i(a,b){if(b.type!=="removeLocalTrack")return;var d=b.payload.trackID;c("promiseDone")(a.peerConnectionManager.removeLocalTrack(d),b.onSuccess,b.onError);a.updateConnectionModel(function(a){a.removeLocalTrackFromTrackMap(d)})}function j(a,b){if(b.type!=="replaceLocalTrack")return;var d=b.payload,e=d.preserveOriginal,f=d.replacementTrack,g=d.trackIDToReplace;e!=null?c("promiseDone")(a.peerConnectionManager.replaceLocalTrack(g,f,e),b.onSuccess,b.onError):c("promiseDone")(a.peerConnectionManager.replaceLocalTrack(g,f),b.onSuccess,b.onError);a.updateConnectionModel(function(a){a.removeLocalTrackFromTrackMap(g),a.addLocalTrackToTrackMap({enabled:f.enabled,participantID:a.selfParticipantID,trackID:f.trackId,type:f.contentType})})}g.onAddLocalTracks=a;g.onAddScreenShareLocalTrack=e;g.onInitiatePeerConnectionRestarting=f;g.onRemoveLocalTrack=h;g.onRemoveScreenShareLocalTrack=i;g.onReplaceLocalTrack=j}),98);
__d("ZenonConnectionSdpSetState",["ZenonMWMessageTypes","ZenonParticipantState","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){if(b.type!=="connectionEstablished")return;c("promiseDone")(a.signalingClient.sendClientEvent(d("ZenonMWMessageTypes").ZenonMWClientEventType.MEDIA_CONNECTED));a.updateConnectionModel(function(a){a.updateParticipantState(a.selfParticipantID,d("ZenonParticipantState").ZenonParticipantState.CONNECTED)});a.logEvent({name:"callConnected"});a.logEvent({name:"connectionReady"})}g.onConnectionEstablished=a}),98);
__d("RTCIceCandidate",[],(function(a,b,c,d,e,f){"use strict";a=window.RTCIceCandidate||window.mozRTCIceCandidate;f["default"]=a}),66);
__d("ZenonPeerConnectionConstants",[],(function(a,b,c,d,e,f){"use strict";a="SCTP_MEDIA_SERVER_ID";b=new Set(["connected","completed"]);c=new Set(["disconnected","failed"]);d=new Set(["new","checking","closed"]);f.SCTP_MEDIA_SERVER_ID=a;f.CONNECTED_STATES=b;f.DISCONNECTED_STATES=c;f.INDETERMINANT_STATES=d}),66);
__d("ZenonTransportType",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum").Mirrored(["SIGNALING","SCTP","SIGNALING_AND_SCTP"]);f.ZenonTransportType=a}),66);
__d("ZenonConnectionSharedActions",["DateConsts","Promise","RTCIceCandidate","ZenonActorHooks","ZenonAuditedCheckpointLogId","ZenonBrowsers","ZenonDismissReason","ZenonInfraActionsLogger","ZenonMWMessageTypes","ZenonParticipantState","ZenonPeerConnectionConstants","ZenonSignalingConstants","ZenonTransportType","gkx","immutable","justknobx","performanceNow","promiseDone","qex"],(function(a,b,c,d,e,f,g){"use strict";var h=1*d("DateConsts").MS_PER_SEC;function a(a,b){if(b.type!=="addParticipants")return;var e=!1,f=b.payload,g=f.groupThreadId,h=f.usersToRing;a.updateConnectionModel(function(a){var b=a.getConsolidatedParticipantStates();h.forEach(function(c){O(c,b)||(a.updateParticipantState(c,d("ZenonParticipantState").ZenonParticipantState.CONTACTING),e=!0)})});e?c("promiseDone")(a.signalingClient.sendAddParticipantsMessage(h,g),b.onSuccess,b.onError):b.onSuccess()}function e(a,b){if(b.type!=="answerReady")return;b=b.payload;var d=b.mediaStates;b=b.sdp;a.logEvent({name:"answerSent"});c("promiseDone")(a.signalingClient.sendSdp(b,d))}function f(a,b){if(b.type!=="callCollisionMediaMode")return;if(((b=a.sctpPeerConnectionManager)==null?void 0:b.getActiveMediaMode())!=="sfu"){(b=a.sctpPeerConnectionManager)==null?void 0:b.handleMediaModeChange(!0,"sfu");(b=a.sctpPeerConnectionManager)==null?void 0:b.createOffer({},"sfu")}}function i(a,b){if(b.type!=="capabilitiesReceived")return;var c=b.payload.capabilities;a.updateConnectionModel(function(a){a.updateCurrentUserCapabilities(c)})}function j(a,b){if(b.type!=="clientInfoReceived")return;b=b.payload;var c=b.actorRepresentatives,e=b.mediaPath,f=b.userCapabilities;a.updateConnectionModel(function(a){a.updateAllParticipantsCapabilities(f)});a.updateConnectionModel(function(a){c.forEach(function(b,c){a.actorRepresentatives.set(c,b)})});e!==d("ZenonMWMessageTypes").ZenonMWMediaPath.UNKNOWN&&a.logEvent({mediaPath:e,name:"setMediaPath"})}function k(a,b){var e;if(b.type!=="connectionDestroyed"||b.payload.error===null)return;var f=d("ZenonDismissReason").mediaErrorToDismissReason(b.payload.error);a.updateConnectionModel(function(a){a.updateParticipantState(a.selfParticipantID,d("ZenonParticipantState").ZenonParticipantState.DISCONNECTED),a.dismissDetails={dismissReason:f}});c("promiseDone")(a.signalingClient.sendDismiss(f));(e=a.sctpPeerConnectionManager)==null?void 0:e.end();a.logEvent({name:"connectionDestroyed"});a.logEvent({endCallReason:f,endCallSubreason:b.payload.error?b.payload.error:"",isRemoteEnded:!1,name:"callEnded"})}function l(a,b){if(b.type!=="connectionDropped")return{};b=c("performanceNow")();a.updateConnectionModel(function(a){O(a.selfParticipantID,a.getConsolidatedParticipantStates())&&a.updateParticipantState(a.selfParticipantID,d("ZenonParticipantState").ZenonParticipantState.CONNECTING)});return{disconnectTime:b}}function m(a,b){if(b.type!=="createDataMessageSubscription")return{};var e=b.payload.dataChannelLabel,f=b.payload.messageHandler,g=b.payload.onSctpChannelOpenCallback,h=a.dataMessageSubscriptions.get(e,c("immutable").Set());h=a.dataMessageSubscriptions.set(e,h.add(f));if(d("ZenonBrowsers").isDataChannelSupportedInSCTPPeerConnection()){var i;(i=a.sctpPeerConnectionManager)==null?void 0:i.createDataChannelSubscription(e,f);if(g!=null){(i=a.sctpPeerConnectionManager)==null?void 0:i.subscribeDataChannelOpen(g,e)}}else{f=a.signalingClient.getSignalingModel().getMediaModeManager().getMediaMode();i=a.peerConnectionManager.getDataChannelOpenCount()>0;f=f==="sfu"||f==="p2p"&&c("gkx")("637")||i;f&&c("promiseDone")(a.peerConnectionManager.createDataChannel(e,b.payload.dataChannelOptions));g!=null&&a.peerConnectionManager.subscribeDataChannelOpen(g,e)}b.onSuccess();return{dataMessageSubscriptions:h}}function n(a,b){if(b.type!=="dataMessageReceived")return;b=b.payload;var c=b.dataChannelLabel,d=b.dataMessage;b=a.dataMessageSubscriptions.get(c);b&&b.forEach(function(a){return a(d)})}function o(a,e){if(e.type!=="endConnection")return;var f=c("performanceNow")(),g=e.payload,i=g.detailedReasonFromMW,j=g.dismissReason,k=g.dismissReasonSetByRemote,l=g.dismissSubreason;g=g.shouldInformPeer;a.updateConnectionModel(function(a){a.getConsolidatedParticipantStates().forEach(function(b,c){a.updateParticipantState(c,d("ZenonParticipantState").ZenonParticipantState.DISCONNECTED)}),a.dismissDetails={detailedReasonFromMW:i,dismissReason:j,dismissSubreason:l}});var m=[];g&&m.push(a.signalingClient.sendDismiss(j));g=l;f-a.disconnectTime<h&&(g=g!=null?g.concat(", disconnect less than 1 second"):"disconnect less than 1 second");a.logEvent({endCallReason:j,endCallSubreason:g,isRemoteEnded:k,name:"callEnded"});c("ZenonInfraActionsLogger").logCheckpointEmployeesTestUsersOnly({checkpoint:"Issuing end call to peer connection due to dismiss received"});m.push(a.peerConnectionManager.end(!0));(f=a.sctpPeerConnectionManager)==null?void 0:f.end();c("promiseDone")(b("Promise").all(m),e.onSuccess,e.onError)}function p(a,b){if(b.type!=="forceEncodingEnabled")return;c("promiseDone")(a.peerConnectionManager.forceEncodingEnabled(b.payload.enabled),b.onSuccess,b.onError)}function q(a,b){var d;if(b.type!=="iceCandidateReady")return;b=b.payload.candidate;b={candidateSdpString:b.candidate,sdpMid:(d=b.sdpMid)!=null?d:"",sdpMLineIndex:(d=b.sdpMLineIndex)!=null?d:0};c("promiseDone")(a.signalingClient.sendIceCandidate(b))}function r(a,b){if(b.type!=="iceCandidateReceived")return;b=b.payload;b={candidate:b.candidateSdpString,sdpMid:b.sdpMid,sdpMLineIndex:b.sdpMLineIndex};var d=a.activePeerConnection,e=a.peerConnectionManager;a=a.secondaryPeerConnectionManager;d=d==="primary"?e:a;c("promiseDone")(d.applyRemoteIceCandidate(new(c("RTCIceCandidate"))(b)))}function s(a,b){if(b.type!=="localMediaStateUpdateProcessing")return;var d=b.payload,e=d.enabled;d=d.trackID;c("promiseDone")(e?a.peerConnectionManager.unmuteLocalTrack(d):a.peerConnectionManager.muteLocalTrack(d),b.onSuccess,b.onError)}function t(a,b){if(b.type!=="localMediaStateUpdateReady")return;c("promiseDone")(a.signalingClient.sendMediaUpdate(b.payload.mediaStates),b.onSuccess,b.onError)}function u(a,b){if(b.type!=="mediaUpdateReceived")return;c("promiseDone")(a.peerConnectionManager.applyMediaUpdate(b.payload.mediaStates))}function v(a,b){if(b.type!=="mediaUpdateResponseReceived")return;b=b.payload;var e=b.cancelNegotiations,f=b.responseStatusCode,g=b.responseSubCode;b=b.retryAfter;if(g!=null&&f!==d("ZenonMWMessageTypes").ZenonMWResponseStatusCode.OK){e&&c("promiseDone")(a.peerConnectionManager.cancelPendingNegotiation());f=c("justknobx")._("704")?new Set([d("ZenonMWMessageTypes").ZenonMWResponseSubCode.REJECTING_CMU_WHEN_SMU_PENDING,d("ZenonMWMessageTypes").ZenonMWResponseSubCode.CONFLICTING_MEDIA_PATH,d("ZenonMWMessageTypes").ZenonMWResponseSubCode.CONFLICTING_MEDIA_STATUS,d("ZenonMWMessageTypes").ZenonMWResponseSubCode.CONFLICTING_SESSION_DESCRIPTION,d("ZenonMWMessageTypes").ZenonMWResponseSubCode.UNKNOWN]):new Set([d("ZenonMWMessageTypes").ZenonMWResponseSubCode.REJECTING_CMU_WHEN_SMU_PENDING]);if(f.has(g)){c("promiseDone")(a.peerConnectionManager.localMediaStateUpdateRetry((e=b)!=null?e:0))}}else a.peerConnectionManager.clearRetryCount()}function w(a,b){if(b.type==="addLocalTracks"){var d=b.onError,e=b.onSuccess,f=b.payload;d={onError:d,onSuccess:e,payload:f,type:"initiateAddLocalTracks"};c("promiseDone")(a.signalingClient.initiateClientRenegotiation(d))}else if(b.type==="removeLocalTrack"){e=b.onError;f=b.onSuccess;d=b.payload;b={onError:e,onSuccess:f,payload:d,type:"initiateRemoveLocalTrack"};c("promiseDone")(a.signalingClient.initiateClientRenegotiation(b))}}function x(a,b){if(b.type!=="offerReady")return;b.payload.connectionDirection==="incoming"&&a.logEvent({name:"answerSent"});c("promiseDone")(a.signalingClient.sendSdp(b.payload.sdp,b.payload.mediaStates))}function y(a,b){if(b.type!=="offerReady")return;c("promiseDone")(a.peerConnectionManager.cancelPendingNegotiation());c("promiseDone")(a.peerConnectionManager.localMediaStateUpdateRetry(0))}function z(a,b){if(b.type!=="participantUpdateReceived")return;b=b.payload;var c=b.participantStates;b=b.sctpUserIdNodeIdMap;a.updateConnectionModel(function(b){c.forEach(function(c,d){d!==b.selfParticipantID&&(b.updateParticipantState(d,c),P(c)&&a.logEvent({name:"atLeastOneParticipantAlerted"}),Q(c)&&a.logEvent({name:"atLeastOneParticipantAnswered"}))})});S(a.getConnectionModel());a.sctpMessageTranslator.updateUserIdMaps(b)}function A(a,b){if(b.type!=="removeDataMessageSubscription")return{};var e=b.payload.dataChannelLabel,f=b.payload.messageHandler,g=a.dataMessageSubscriptions.get(e,c("immutable").Set());g=a.dataMessageSubscriptions.set(e,g["delete"](f));if(d("ZenonBrowsers").isDataChannelSupportedInSCTPPeerConnection()){(a=a.sctpPeerConnectionManager)==null?void 0:a.removeDataChannelSubscription(e,f)}b.onSuccess();return{dataMessageSubscriptions:g}}function B(a,b){if(b.type!=="removeParticipants")return;var d=b.payload.usersToRemove;c("promiseDone")(a.signalingClient.sendRemoveParticipantsRequest(d),b.onSuccess,b.onError)}function C(a,b){if(b.type!=="connectionRoomUpdateReceived")return;var c=b.payload.context;a.updateConnectionModel(function(a){a.collisionContext=c})}function D(a,b){if(b.type!=="sdpReceived")return;var d=b.payload,e=d.mediaStates,f=d.messageID,g=d.onProcessed,h=d.renegotiationOffer,i=d.sdp;d=d.source;c("promiseDone")(a.peerConnectionManager.applyRemoteSdp(i,e,d,h,g,f));a.updateConnectionModel(function(a){a.updateTrackMapFromMediaStates(e.tracks,i.type==="pranswer");a.updateExistingParticipantsFromMediaStateTracks(e.tracks);var b=[],c=a.getRemoteUserToTracksMap();c.forEach(function(a,c){a=Array.from(a.entries());a=a.filter(function(a){a[0];a=a[1];return a.type!=="audio"});a.length>0&&b.push(c)});N(a,b)});i.type==="answer"?a.logEvent({name:"answerSdpReceived"}):i.type==="offer"?a.logEvent({name:"offerSdpReceived"}):i.type==="pranswer"&&a.logEvent({name:"prAnswerSdpReceived"});d=R(a.currentSubscriptionRequest,a);V(d,a,b)}function E(a,b){if(b.type!=="sendGenericDataMessage")return;var e=b.onError,f=b.onSuccess;b=b.payload;var g=b.data,h=b.recipientIDs,i=b.serviceRecipients,j=b.topic;b=b.transportType;switch(b){case d("ZenonTransportType").ZenonTransportType.SIGNALING:c("promiseDone")(L(a,j,g,h,i),f,e);break;case d("ZenonTransportType").ZenonTransportType.SCTP:M(a,j,g,h);f();break;case d("ZenonTransportType").ZenonTransportType.SIGNALING_AND_SCTP:c("promiseDone")(L(a,j,g,h,i),f,e);M(a,j,g,h);break}}function F(a,b){if(b.type!=="stateSyncUnsubscribe")return;var d=b.payload.topic;c("promiseDone")(a.signalingClient.sendStateSyncUnsubscribe(d),b.onSuccess,b.onError)}function G(a,b){if(b.type!=="stateSyncUpdate")return;var d=b.payload,e=d.inputData;d=d.topic;c("promiseDone")(a.signalingClient.sendStateSyncUpdate(d,e),b.onSuccess,b.onError)}function H(a,b){if(b.type!=="stopLocalTrack")return;var d=b.payload.trackID;c("promiseDone")(a.peerConnectionManager.stopLocalTrack(d),b.onSuccess,b.onError)}function I(a,b){if(b.type!=="subscriptionRequest")return{};var c=b.payload;if(JSON.stringify(c)!==JSON.stringify(a.currentSubscriptionRequest)){var d=[];c.subscriptions.forEach(function(a){d.push(a.user)});a.updateConnectionModel(function(a){N(a,d)})}var e=R(c,a);V(e,a,b);return{currentSubscriptionRequest:c}}function J(a,b){if(b.type!=="userApprovalRequest")return;var d=b.payload,e=d.approvalStatus;d=d.targetUsers;c("promiseDone")(a.signalingClient.sendUsersApprovalRequest(e,d),b.onSuccess,b.onError)}function K(a,b){if(b.type!=="sctpNegotiationStateUpdate")return;(a=a.sctpPeerConnectionManager)==null?void 0:a.processSctpState(b.payload)}function L(a,b,c,d,e){return a.signalingClient.sendGenericDataMessage(b,c,d,e)}function M(a,b,c,e){if(d("ZenonBrowsers").isDataChannelSupportedInMainPeerConnection())a.peerConnectionManager.sendDataMessage(b,{message:c,receivers:e,sender:d("ZenonActorHooks").ZenonActor.getID()});else if(d("ZenonBrowsers").isDataChannelSupportedInSCTPPeerConnection()){(a=a.sctpPeerConnectionManager)==null?void 0:a.sendDataMessage(b,{message:c,receivers:e,sender:d("ZenonActorHooks").ZenonActor.getID()})}}function N(a,b){a.clearAllUserVideoSubscriptions(),b.forEach(function(b){a.updateUserVideoSubscription(b,!0)})}function O(a,b){b=b.get(a);return b===d("ZenonParticipantState").ZenonParticipantState.CONNECTED}function P(a){switch(a){case d("ZenonParticipantState").ZenonParticipantState.UNKNOWN:case d("ZenonParticipantState").ZenonParticipantState.CONTACTING:case d("ZenonParticipantState").ZenonParticipantState.UNREACHABLE:case d("ZenonParticipantState").ZenonParticipantState.PARTICIPANT_LIMIT_REACHED:case d("ZenonParticipantState").ZenonParticipantState.RING_TYPE_UNSUPPORTED:return!1;case d("ZenonParticipantState").ZenonParticipantState.RINGING:case d("ZenonParticipantState").ZenonParticipantState.CONNECTING:case d("ZenonParticipantState").ZenonParticipantState.CONNECTED:case d("ZenonParticipantState").ZenonParticipantState.DISCONNECTED:case d("ZenonParticipantState").ZenonParticipantState.IN_ANOTHER_CALL:case d("ZenonParticipantState").ZenonParticipantState.NO_ANSWER:case d("ZenonParticipantState").ZenonParticipantState.REJECTED:case d("ZenonParticipantState").ZenonParticipantState.CONNECTION_DROPPED:case d("ZenonParticipantState").ZenonParticipantState.PENDING_APPROVAL:case d("ZenonParticipantState").ZenonParticipantState.APPROVED:case d("ZenonParticipantState").ZenonParticipantState.FAILED_APPROVAL:case d("ZenonParticipantState").ZenonParticipantState.HANGUP_IN_WAITING_ROOM:case d("ZenonParticipantState").ZenonParticipantState.ACCEPTING:case d("ZenonParticipantState").ZenonParticipantState.ADDING:case d("ZenonParticipantState").ZenonParticipantState.APPROVING:case d("ZenonParticipantState").ZenonParticipantState.DENYING:case d("ZenonParticipantState").ZenonParticipantState.PRECONNECTING:case d("ZenonParticipantState").ZenonParticipantState.REMOVING:case d("ZenonParticipantState").ZenonParticipantState.RECONNECTING:return!0}}function Q(a){switch(a){case d("ZenonParticipantState").ZenonParticipantState.UNKNOWN:case d("ZenonParticipantState").ZenonParticipantState.CONTACTING:case d("ZenonParticipantState").ZenonParticipantState.UNREACHABLE:case d("ZenonParticipantState").ZenonParticipantState.PARTICIPANT_LIMIT_REACHED:case d("ZenonParticipantState").ZenonParticipantState.RING_TYPE_UNSUPPORTED:case d("ZenonParticipantState").ZenonParticipantState.RINGING:case d("ZenonParticipantState").ZenonParticipantState.DISCONNECTED:case d("ZenonParticipantState").ZenonParticipantState.IN_ANOTHER_CALL:case d("ZenonParticipantState").ZenonParticipantState.NO_ANSWER:case d("ZenonParticipantState").ZenonParticipantState.REJECTED:case d("ZenonParticipantState").ZenonParticipantState.PENDING_APPROVAL:case d("ZenonParticipantState").ZenonParticipantState.APPROVED:case d("ZenonParticipantState").ZenonParticipantState.FAILED_APPROVAL:case d("ZenonParticipantState").ZenonParticipantState.HANGUP_IN_WAITING_ROOM:case d("ZenonParticipantState").ZenonParticipantState.ACCEPTING:case d("ZenonParticipantState").ZenonParticipantState.ADDING:case d("ZenonParticipantState").ZenonParticipantState.APPROVING:case d("ZenonParticipantState").ZenonParticipantState.DENYING:case d("ZenonParticipantState").ZenonParticipantState.PRECONNECTING:case d("ZenonParticipantState").ZenonParticipantState.REMOVING:return!1;case d("ZenonParticipantState").ZenonParticipantState.CONNECTING:case d("ZenonParticipantState").ZenonParticipantState.RECONNECTING:case d("ZenonParticipantState").ZenonParticipantState.CONNECTED:case d("ZenonParticipantState").ZenonParticipantState.CONNECTION_DROPPED:return!0}}function R(a,b){b=b.getConnectionModel();var e=a==null?void 0:a.subscriptions;a=(a=a==null?void 0:a.includeDominantSpeaker)!=null?a:!0;var f;e==null?f=T(b):f=U(e,b);e=f;b=e.trackSubscriptions;f=e.warnings;f.length>0&&c("ZenonInfraActionsLogger").logError({auditId:c("ZenonAuditedCheckpointLogId").RP_ROOMS_INFRA_WWW__ERROR,checkpoint:"[ZP] Subscription request warnings: "+JSON.stringify(f),errorDomain:"ZenonConnectionSharedActions_makeSubscriptionList"});a&&b.push({type:d("ZenonMWMessageTypes").ZenonMWSubscriptionType.DOMINANT_SPEAKER});return b}function S(a){a=a.getConsolidatedParticipantStates();try{a=Object.fromEntries(a);a="[ZP] Consolidated participant states are: "+JSON.stringify(a);c("ZenonInfraActionsLogger").logCheckpointEmployeesTestUsersOnly({checkpoint:a})}catch(a){c("ZenonInfraActionsLogger").logCheckpointEmployeesTestUsersOnly({checkpoint:"[ZP] failed to stringify consolidated state"})}}function T(a){var b=a.getRemoteUserToTracksMap();b.forEach(function(a,b){var d=b+": \n\t";a.forEach(function(a,b){d+=JSON.stringify(Object.entries(a))+"\n"});c("ZenonInfraActionsLogger").logCheckpointEmployeesTestUsersOnly({checkpoint:"[ZP] usersToTracksMap in subscribe to All Users "+d})});var e=[],f=[];b.forEach(function(b,c){a.clearFailedSubscriptionTimer(c);c=Array.from(b.entries());c=c.filter(function(a){a[0];a=a[1];return a.type!=="audio"});c.forEach(function(a){var b=a[0];a[1];e.push({options:{videoQuality:d("ZenonMWMessageTypes").ZenonMWVideoQuality.MEDIUM},trackId:b,type:d("ZenonMWMessageTypes").ZenonMWSubscriptionType.TRACK})})});return{trackSubscriptions:e,warnings:f}}function U(a,b){var e=b.getRemoteUserToTracksMap();e.forEach(function(a,b){var d=b+": \n\t";a.forEach(function(a,b){d+=JSON.stringify(Object.entries(a))+"\n"});c("ZenonInfraActionsLogger").logCheckpointEmployeesTestUsersOnly({checkpoint:"[ZP] usersToTracksMap in subscribe to Remote Users "+d})});var f=[],g=[];a.forEach(function(a){var h=a.user,i=a.videoQuality;if(h===b.selfParticipantID){c("ZenonInfraActionsLogger").logCheckpoint({checkpoint:"[ZP] Forfeiting subscription request for self user ID: "+h});return}a=e.get(h);if(!a){f.push({msg:"userToTrackMap not found",user:h});b.startFailedSubscriptionTimer(h);return}if(a.size===0){f.push({msg:"userToTrackMap is empty",user:h});b.startFailedSubscriptionTimer(h);return}b.clearFailedSubscriptionTimer(h);h=Array.from(a.entries());a=h.filter(function(a){a[0];a=a[1];return a.type!=="audio"&&a.enabled===!1});a.length>0&&c("ZenonInfraActionsLogger").logCheckpoint({checkpoint:"[ZP] Subscribing to muted video track: "+JSON.stringify(a)});h=h.filter(function(a){a[0];a=a[1];return a.type!=="audio"});h.forEach(function(a){var b=a[0];a[1];g.push({options:{videoQuality:i},trackId:b,type:d("ZenonMWMessageTypes").ZenonMWSubscriptionType.TRACK})})});return{trackSubscriptions:g,warnings:f}}function V(a,b,e){var f,g=b.peerConnectionManager.getDataChannelState(d("ZenonSignalingConstants").SCTP_MEDIA_SUBSCRIPTIONS)==="open";if(((f=c("qex")._("1021"))!=null?f:!1)&&g){var h;f={message:JSON.stringify({subscriptionMessagePayload:a}),receivers:[d("ZenonPeerConnectionConstants").SCTP_MEDIA_SERVER_ID],sender:b.getConnectionModel().selfParticipantID};b.peerConnectionManager.sendDataMessage(d("ZenonSignalingConstants").SCTP_MEDIA_SUBSCRIPTIONS,f);(h=b.sctpPeerConnectionManager)==null?void 0:h.sendDataMessage(d("ZenonSignalingConstants").SCTP_MEDIA_SUBSCRIPTIONS,f)}(((h=c("qex")._("1020"))!=null?h:!0)||!g)&&c("promiseDone")(b.signalingClient.sendSubscriptionRequest(a),e.onSuccess,e.onError)}g.onAddParticipants=a;g.onAnswerReady=e;g.onCallCollisionMediaMode=f;g.onCapabilitiesReceived=i;g.onClientInfoReceived=j;g.onConnectionDestroyed=k;g.onConnectionDropped=l;g.onCreateDataMessageSubscription=m;g.onDataMessageReceived=n;g.onEndConnection=o;g.onForceEncodingEnabled=p;g.onIceCandidateReady=q;g.onIceCandidateReceived=r;g.onLocalMediaStateUpdateProcessing=s;g.onLocalMediaStateUpdateReady=t;g.onMediaUpdateReceived=u;g.onMediaUpdateResponseReceived=v;g.initiateClientRenegotiation=w;g.onOfferReady=x;g.onOfferReadyCancel=y;g.onParticipantUpdateReceivedEvent=z;g.onRemoveDataMessageSubscription=A;g.onRemoveParticipants=B;g.onRoomContextUpdateReceived=C;g.onSdpReceived=D;g.onSendGenericDataMessage=E;g.onStateSyncUnsubscribe=F;g.onStateSyncUpdate=G;g.onStopLocalTrack=H;g.onSubscriptionRequest=I;g.onUserApprovalRequest=J;g.onSctpNegotiationStateUpdate=K;g.makeSubscriptionList=R;g.sendSubscriptions=V}),98);
__d("ZenonConnectionTerminatedState",["ZenonMWMessageReliabilityLogger"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){if(b.type!=="sdpReceived")return;b.payload.messageID!=null&&d("ZenonMWMessageReliabilityLogger").logEventForTxid(b.payload.messageID,d("ZenonMWMessageReliabilityLogger").ZenonMWMessageReliabilityEvent.RECEIVED_REQUEST_IN_TERMINATED_STATE)}g.onSdpReceived=a}),98);
__d("ZenonDeferrableStateMachine",["DateConsts","clearTimeout","setTimeout","xstate"],(function(a,b,c,d,e,f,g){"use strict";var h=30*d("DateConsts").MS_PER_SEC;function a(a,b){b=b===void 0?{}:b;var e=b.deferTimeout,f=b.onDeferTimeout,g=[],i=new Map(),j=d("xstate").interpret(a.withConfig({actions:{defer:function(a,b){g.push(b);if(f){i.set(b,c("setTimeout")(function(){f(b)},(a=e)!=null?a:h))}}}})).onTransition(function(a){if(a.value!==((a=a.history)==null?void 0:a.value)){a=g;g=[];while(a.length>0){var b=a.shift();j.send(b);c("clearTimeout")(i.get(b));i["delete"](b)}}}).start();return j}g.interpret=a}),98);
__d("ZenonStateMachineBase",["ZenonDebugLogger","ZenonDeferrableStateMachine","ZenonInfraActionsLogger","ZenonMWMessageReliabilityLogger","xstate"],(function(a,b,c,d,e,f,g){"use strict";a={actions:["defer"]};b=function(){function a(a){var b=this,e=a.base,f=a.logging;a=a.machine;this.$1=f.name;this.$2=e.initState;this.loggingId=f.loggingId;this.$3=f.getTransactionId;this.$4=f.loggingStateName;this.$5=f.loggableEvents;a={context:a.context,initial:a.initialState,states:a.states};e={guards:e.guards};var g={onDeferTimeout:function(a){c("ZenonInfraActionsLogger").logCheckpoint({checkpoint:"["+f.shortname+"] "+a.type+" was deferred for too long"}),(f.eventToLogTimeoutsOn==null||f.eventToLogTimeoutsOn===a.type)&&b.logTransaction(a,f.timeoutEvent)}};a=d("xstate").Machine(a,e);this.sm=d("ZenonDeferrableStateMachine").interpret(a,g)}var b=a.prototype;b.processEvent=function(a){this.logEvent(a),this.sm.send(a)};b.logEvent=function(a,b){c("ZenonDebugLogger").getInstance().logStateMachine(this.$1,this.getState(),a.type,this.loggingId.toString(),b);if(this.$5.includes(a.type)){b=this.$3(a);if(b!=null){a={smEvent:this.$1+"."+a.type};d("ZenonMWMessageReliabilityLogger").logEventForTxid(b,d("ZenonMWMessageReliabilityLogger").ZenonMWMessageReliabilityEvent.SENT_SM_EVENT,a)}}};b.logTransaction=function(a,b){var c;d("ZenonMWMessageReliabilityLogger").updateState((c={},c[this.$4]=this.getState(),c));if(this.$5.includes(a.type)){c=this.$3(a);if(c!=null){a={smEvent:this.$1+"."+a.type};d("ZenonMWMessageReliabilityLogger").logEventForTxid(c,b,a)}}};b.logTransition=function(a,b){var d;c("ZenonDebugLogger").getInstance().logStateMachineTransition(this.$1,a.changed,a.value,(d=a.history)==null?void 0:d.value,a.event.type,a.actions,this.loggingId.toString(),b)};b.getContext=function(){return this.sm.state.context};b.getState=function(){var a=this.sm.state.toStrings();return a.length>0?a[0]:this.$2};b.ifDroppedEvent=function(a,b){var c=a.actions,d=a.changed,e=a.event,f=a.value;a=(a=a.history)==null?void 0:a.value;(c==null||c.length===0)&&f===a&&!d&&b(e)};return a}();g.defer=a;g.ZenonStateMachineBase=b}),98);
__d("ZenonConnectionStateMachine",["ZenonConnectionInitState","ZenonConnectionPeerConnectionRestartingState","ZenonConnectionSMGuards","ZenonConnectionSdpNegotiatedState","ZenonConnectionSdpSetState","ZenonConnectionSharedActions","ZenonConnectionTerminatedState","ZenonDebugLogger","ZenonInfraActionsLogger","ZenonMWMessageReliabilityLogger","ZenonStateMachineBase","err","immutable","qpl","xstate"],(function(a,b,c,d,e,f,g){"use strict";var h={activePeerConnection:"primary",bufferTimeout:null,currentSubscriptionRequest:null,dataMessageSubscriptions:c("immutable").Map(),disconnectTime:0},i={loggingStateName:"connectionState",name:"ConnectionStateMachine",shortname:"Connection",timeoutEvent:d("ZenonMWMessageReliabilityLogger").ZenonMWMessageReliabilityEvent.STUCK_IN_CONNECTION_STATE_MACHINE};a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,e){var f;e===void 0&&(e="init");f=a.call(this,{base:{guards:d("ZenonConnectionSMGuards"),initState:"init"},logging:babelHelpers["extends"]({},i,{eventToLogTimeoutsOn:"sdpReceived",getTransactionId:function(a){return(a=a.payload)==null?void 0:a.messageID},loggableEvents:["sdpReceived"],loggingId:+b.signalingClient.getSignalingModel().getSignalingID()}),machine:{context:babelHelpers["extends"]({},h,b),initialState:e,states:J}})||this;f.sm.onTransition(function(a){var e;c("ZenonInfraActionsLogger").updateCachedValues({connectionState:a.value});f.logTransition(a);((e=a.history)==null?void 0:e.value)!==a.value&&b.updateConnectionModel(function(b){b.updateConnectionState(a.value)});f.logTransaction(a.event,d("ZenonMWMessageReliabilityLogger").ZenonMWMessageReliabilityEvent.PROCESSED_SM_EVENT);f.ifDroppedEvent(a,function(a){return a.onError(c("err")("event was dropped: "+a.type))})});c("ZenonDebugLogger").getInstance().startQPL(c("qpl")._(64243854,"2452"),f.loggingId);return f}return b}(d("ZenonStateMachineBase").ZenonStateMachineBase);b={actions:[d("ZenonConnectionSharedActions").onAddParticipants]};e={actions:[d("ZenonConnectionSharedActions").onLocalMediaStateUpdateProcessing]};f={actions:[d("ZenonConnectionSharedActions").onMediaUpdateReceived]};var j={actions:[d("ZenonConnectionSharedActions").onMediaUpdateResponseReceived]},k={actions:[d("ZenonConnectionSharedActions").onStopLocalTrack]},l={actions:[d("ZenonConnectionSharedActions").onLocalMediaStateUpdateReady]},m={actions:[d("ZenonConnectionSharedActions").onEndConnection],target:"terminated"},n={actions:[d("ZenonConnectionSharedActions").onCapabilitiesReceived]},o={actions:[d("ZenonConnectionSharedActions").onClientInfoReceived]},p={actions:[d("ZenonConnectionSharedActions").onParticipantUpdateReceivedEvent]},q={actions:[d("ZenonConnectionSharedActions").onRemoveParticipants]},r={actions:[d("ZenonConnectionSharedActions").onIceCandidateReady]},s={actions:[d("xstate").assign(d("ZenonConnectionSharedActions").onCreateDataMessageSubscription)]},t={actions:[d("xstate").assign(d("ZenonConnectionSharedActions").onRemoveDataMessageSubscription)]},u={actions:[d("ZenonConnectionSharedActions").onDataMessageReceived]},v={actions:[d("ZenonConnectionSharedActions").onRoomContextUpdateReceived]},w={actions:[d("ZenonConnectionSharedActions").onIceCandidateReceived]},x={actions:[d("ZenonConnectionSharedActions").onConnectionDestroyed],cond:d("ZenonConnectionSMGuards").activePeerConnectionGuard,target:"terminated"},y={actions:[d("xstate").assign(d("ZenonConnectionSharedActions").onConnectionDropped)],cond:d("ZenonConnectionSMGuards").activePeerConnectionGuard},z={actions:[d("ZenonConnectionSdpSetState").onConnectionEstablished]},A={actions:[d("ZenonConnectionSharedActions").onStateSyncUnsubscribe]},B={actions:[d("ZenonConnectionSharedActions").onStateSyncUpdate]},C={actions:[d("xstate").assign(d("ZenonConnectionSharedActions").onSubscriptionRequest)]},D={actions:[d("ZenonConnectionSharedActions").onSendGenericDataMessage]},E={actions:[d("ZenonConnectionSharedActions").onUserApprovalRequest]},F={actions:[d("ZenonConnectionSharedActions").onForceEncodingEnabled]},G={actions:[d("xstate").assign(d("ZenonConnectionSdpNegotiatedState").onInitiatePeerConnectionRestarting)],target:"peerConnectionRestarting"},H={actions:[d("ZenonConnectionSharedActions").onSctpNegotiationStateUpdate]},I={actions:[d("ZenonConnectionSharedActions").onCallCollisionMediaMode]},J={init:{on:{connectionDestroyed:x,createConnection:[{actions:[d("ZenonConnectionInitState").onCreateConnection],cond:d("ZenonConnectionSMGuards").outgoingConnectionGuard,target:"creatingSdp"},{actions:[d("ZenonConnectionInitState").onCreateConnection],cond:d("ZenonConnectionSMGuards").incomingConnectionGuard,target:"waitingForIncoming"}],endConnection:m,callCollisionMediaMode:I,capabilitiesReceived:n,clientInfoReceived:o,connectionRoomUpdateReceived:v,dataMessageReceived:u,forceEncodingEnabled:F,iceCandidateReady:r,iceCandidateReceived:w,localMediaStateUpdateProcessing:e,localMediaStateUpdateReady:l,mediaUpdateReceived:f,participantUpdateReceived:p,removeDataMessageSubscription:t,removeParticipants:q,sctpNegotiationStateUpdate:H,sendGenericDataMessage:D,stateSyncUnsubscribe:A,stateSyncUpdate:B,stopLocalTrack:k,userApprovalRequest:E,addLocalTracks:d("ZenonStateMachineBase").defer,addParticipants:d("ZenonStateMachineBase").defer,createDataMessageSubscription:d("ZenonStateMachineBase").defer,mediaUpdateResponseReceived:d("ZenonStateMachineBase").defer,removeLocalTrack:d("ZenonStateMachineBase").defer,replaceLocalTrack:d("ZenonStateMachineBase").defer,sdpReceived:d("ZenonStateMachineBase").defer,subscriptionRequest:d("ZenonStateMachineBase").defer}},waitingForIncoming:{on:{connectionDestroyed:x,endConnection:m,sdpReceived:[{actions:[d("ZenonConnectionSharedActions").onSdpReceived],cond:d("ZenonConnectionSMGuards").sdpOfferReceiveGuard,target:"creatingSdp"}],offerReady:[{actions:[d("ZenonConnectionSharedActions").onOfferReady],target:"sdpSet"}],callCollisionMediaMode:I,capabilitiesReceived:n,clientInfoReceived:o,connectionRoomUpdateReceived:v,createDataMessageSubscription:s,dataMessageReceived:u,forceEncodingEnabled:F,iceCandidateReady:r,iceCandidateReceived:w,localMediaStateUpdateProcessing:e,localMediaStateUpdateReady:l,mediaUpdateReceived:f,participantUpdateReceived:p,removeDataMessageSubscription:t,removeParticipants:q,sctpNegotiationStateUpdate:H,sendGenericDataMessage:D,stateSyncUnsubscribe:A,stateSyncUpdate:B,stopLocalTrack:k,userApprovalRequest:E,addLocalTracks:d("ZenonStateMachineBase").defer,addParticipants:d("ZenonStateMachineBase").defer,initiateAddLocalTracks:d("ZenonStateMachineBase").defer,initiateRemoveLocalTrack:d("ZenonStateMachineBase").defer,mediaUpdateResponseReceived:d("ZenonStateMachineBase").defer,removeLocalTrack:d("ZenonStateMachineBase").defer,replaceLocalTrack:d("ZenonStateMachineBase").defer,subscriptionRequest:d("ZenonStateMachineBase").defer}},creatingSdp:{on:{answerReady:[{actions:[d("ZenonConnectionSharedActions").onAnswerReady],target:"sdpNegotiated"}],connectionDestroyed:x,endConnection:m,offerReady:[{actions:[d("ZenonConnectionSharedActions").onOfferReady],target:"sdpSet"}],callCollisionMediaMode:I,capabilitiesReceived:n,clientInfoReceived:o,connectionRoomUpdateReceived:v,createDataMessageSubscription:s,dataMessageReceived:u,forceEncodingEnabled:F,iceCandidateReady:r,iceCandidateReceived:w,localMediaStateUpdateProcessing:e,localMediaStateUpdateReady:l,mediaUpdateReceived:f,participantUpdateReceived:p,removeDataMessageSubscription:t,removeParticipants:q,sctpNegotiationStateUpdate:H,sendGenericDataMessage:D,stateSyncUnsubscribe:A,stateSyncUpdate:B,stopLocalTrack:k,userApprovalRequest:E,addLocalTracks:d("ZenonStateMachineBase").defer,addParticipants:d("ZenonStateMachineBase").defer,initiateAddLocalTracks:d("ZenonStateMachineBase").defer,initiateRemoveLocalTrack:d("ZenonStateMachineBase").defer,mediaUpdateResponseReceived:d("ZenonStateMachineBase").defer,removeLocalTrack:d("ZenonStateMachineBase").defer,replaceLocalTrack:d("ZenonStateMachineBase").defer,sdpReceived:d("ZenonStateMachineBase").defer,subscriptionRequest:d("ZenonStateMachineBase").defer}},sdpSet:{on:{connectionDestroyed:x,endConnection:m,initiatePeerConnectionRestarting:G,pendingApproval:[{target:"pendingApproval"}],remoteSdpSet:{target:"sdpNegotiated"},callCollisionMediaMode:I,capabilitiesReceived:n,clientInfoReceived:o,connectionDropped:y,connectionEstablished:[{actions:[d("ZenonConnectionSdpSetState").onConnectionEstablished]}],connectionRoomUpdateReceived:v,createDataMessageSubscription:s,dataMessageReceived:u,forceEncodingEnabled:F,iceCandidateReady:r,iceCandidateReceived:w,localMediaStateUpdateProcessing:e,localMediaStateUpdateReady:l,mediaUpdateReceived:f,mediaUpdateResponseReceived:j,participantUpdateReceived:p,removeDataMessageSubscription:t,removeParticipants:q,sctpNegotiationStateUpdate:H,sdpReceived:[{actions:[d("ZenonConnectionSharedActions").onSdpReceived],cond:d("ZenonConnectionSMGuards").sdpAnswerReceiveGuard},{actions:[d("ZenonConnectionSharedActions").onSdpReceived],cond:d("ZenonConnectionSMGuards").sdpPrAnswerReceiveGuard},babelHelpers["extends"]({},d("ZenonStateMachineBase").defer,{cond:d("ZenonConnectionSMGuards").sdpOfferReceiveGuard})],sendGenericDataMessage:D,stateSyncUnsubscribe:A,stateSyncUpdate:B,stopLocalTrack:k,userApprovalRequest:E,addLocalTracks:d("ZenonStateMachineBase").defer,addParticipants:d("ZenonStateMachineBase").defer,replaceLocalTrack:d("ZenonStateMachineBase").defer,removeLocalTrack:d("ZenonStateMachineBase").defer,initiateAddLocalTracks:d("ZenonStateMachineBase").defer,initiateRemoveLocalTrack:d("ZenonStateMachineBase").defer,subscriptionRequest:d("ZenonStateMachineBase").defer}},pendingApproval:{on:{connectionDestroyed:x,endConnection:m,initiatePeerConnectionRestarting:G,callCollisionMediaMode:I,mediaUpdateReceived:f,sctpNegotiationStateUpdate:H,stateSyncUnsubscribe:A,stateSyncUpdate:B,addLocalTracks:d("ZenonStateMachineBase").defer,addParticipants:d("ZenonStateMachineBase").defer,capabilitiesReceived:d("ZenonStateMachineBase").defer,clientInfoReceived:d("ZenonStateMachineBase").defer,connectionRoomUpdateReceived:d("ZenonStateMachineBase").defer,createDataMessageSubscription:d("ZenonStateMachineBase").defer,dataMessageReceived:d("ZenonStateMachineBase").defer,forceEncodingEnabled:d("ZenonStateMachineBase").defer,iceCandidateReady:d("ZenonStateMachineBase").defer,iceCandidateReceived:d("ZenonStateMachineBase").defer,initiateAddLocalTracks:d("ZenonStateMachineBase").defer,initiateRemoveLocalTrack:d("ZenonStateMachineBase").defer,localMediaStateUpdateProcessing:d("ZenonStateMachineBase").defer,localMediaStateUpdateReady:d("ZenonStateMachineBase").defer,mediaUpdateResponseReceived:d("ZenonStateMachineBase").defer,participantUpdateReceived:d("ZenonStateMachineBase").defer,removeDataMessageSubscription:d("ZenonStateMachineBase").defer,removeLocalTrack:d("ZenonStateMachineBase").defer,replaceLocalTrack:d("ZenonStateMachineBase").defer,stopLocalTrack:d("ZenonStateMachineBase").defer,subscriptionRequest:d("ZenonStateMachineBase").defer}},sdpNegotiated:{on:{connectionDestroyed:x,endConnection:m,initiatePeerConnectionRestarting:G,initiateAddLocalTracks:{actions:[d("ZenonConnectionSdpNegotiatedState").onAddLocalTracks],target:"clientInitiatedRenegotiation"},initiateRemoveLocalTrack:{actions:[d("ZenonConnectionSdpNegotiatedState").onRemoveLocalTrack],target:"clientInitiatedRenegotiation"},offerReady:{actions:[d("ZenonConnectionSharedActions").onOfferReady],target:"clientInitiatedRenegotiation"},sdpReceived:{actions:[d("ZenonConnectionSharedActions").onSdpReceived],cond:d("ZenonConnectionSMGuards").sdpOfferReceiveGuard,target:"serverInitiatedRenegotiating"},addLocalTracks:[{actions:[d("ZenonConnectionSdpNegotiatedState").onAddScreenShareLocalTrack],cond:d("ZenonConnectionSMGuards").addScreenShareTrackWithReplaceGuard},{actions:[d("ZenonConnectionSharedActions").initiateClientRenegotiation]}],addParticipants:b,callCollisionMediaMode:I,capabilitiesReceived:n,clientInfoReceived:o,connectionDropped:y,connectionEstablished:z,connectionRoomUpdateReceived:v,createDataMessageSubscription:s,dataMessageReceived:u,forceEncodingEnabled:F,iceCandidateReady:r,iceCandidateReceived:w,localMediaStateUpdateProcessing:e,localMediaStateUpdateReady:l,mediaUpdateReceived:f,mediaUpdateResponseReceived:j,participantUpdateReceived:p,removeDataMessageSubscription:t,removeLocalTrack:[{actions:[d("ZenonConnectionSdpNegotiatedState").onRemoveScreenShareLocalTrack],cond:d("ZenonConnectionSMGuards").removeScreenShareTrackWithReplaceGuard},{actions:[d("ZenonConnectionSharedActions").initiateClientRenegotiation]}],removeParticipants:q,replaceLocalTrack:{actions:[d("ZenonConnectionSdpNegotiatedState").onReplaceLocalTrack]},sctpNegotiationStateUpdate:H,sendGenericDataMessage:D,stateSyncUnsubscribe:A,stateSyncUpdate:B,stopLocalTrack:k,subscriptionRequest:C,userApprovalRequest:E}},serverInitiatedRenegotiating:{on:{connectionDestroyed:x,endConnection:m,serverRenegotiationFinished:[{target:"sdpNegotiated"}],answerReady:[{actions:[d("ZenonConnectionSharedActions").onAnswerReady]}],callCollisionMediaMode:I,connectionDropped:y,connectionEstablished:z,connectionRoomUpdateReceived:v,dataMessageReceived:u,iceCandidateReady:r,iceCandidateReceived:w,localMediaStateUpdateProcessing:e,localMediaStateUpdateReady:l,offerReady:{actions:[d("ZenonConnectionSharedActions").onOfferReadyCancel]},sctpNegotiationStateUpdate:H,sendGenericDataMessage:D,stopLocalTrack:k,userApprovalRequest:E,addLocalTracks:d("ZenonStateMachineBase").defer,addParticipants:d("ZenonStateMachineBase").defer,capabilitiesReceived:d("ZenonStateMachineBase").defer,clientInfoReceived:d("ZenonStateMachineBase").defer,createDataMessageSubscription:d("ZenonStateMachineBase").defer,forceEncodingEnabled:d("ZenonStateMachineBase").defer,initiateAddLocalTracks:d("ZenonStateMachineBase").defer,initiatePeerConnectionRestarting:d("ZenonStateMachineBase").defer,initiateRemoveLocalTrack:d("ZenonStateMachineBase").defer,mediaUpdateReceived:d("ZenonStateMachineBase").defer,mediaUpdateResponseReceived:d("ZenonStateMachineBase").defer,participantUpdateReceived:d("ZenonStateMachineBase").defer,removeDataMessageSubscription:d("ZenonStateMachineBase").defer,removeLocalTrack:d("ZenonStateMachineBase").defer,removeParticipants:d("ZenonStateMachineBase").defer,replaceLocalTrack:d("ZenonStateMachineBase").defer,stateSyncUnsubscribe:d("ZenonStateMachineBase").defer,stateSyncUpdate:d("ZenonStateMachineBase").defer,subscriptionRequest:d("ZenonStateMachineBase").defer}},clientInitiatedRenegotiation:{on:{connectionDestroyed:x,endConnection:m,mediaUpdateResponseReceived:[{actions:[d("ZenonConnectionSharedActions").onMediaUpdateResponseReceived],cond:d("ZenonConnectionSMGuards").cancelNegotiationsGuard,target:"sdpNegotiated"},{actions:[d("ZenonConnectionSharedActions").onMediaUpdateResponseReceived]}],remoteSdpSet:{target:"sdpNegotiated"},callCollisionMediaMode:I,capabilitiesReceived:n,clientInfoReceived:o,connectionDropped:y,connectionEstablished:[{actions:[d("ZenonConnectionSdpSetState").onConnectionEstablished]}],connectionRoomUpdateReceived:v,createDataMessageSubscription:s,dataMessageReceived:u,forceEncodingEnabled:F,iceCandidateReady:r,iceCandidateReceived:w,mediaUpdateReceived:f,offerReady:{actions:[d("ZenonConnectionSharedActions").onOfferReady]},participantUpdateReceived:p,removeDataMessageSubscription:t,removeParticipants:q,sctpNegotiationStateUpdate:H,sdpReceived:[{actions:[d("ZenonConnectionSharedActions").onSdpReceived],cond:d("ZenonConnectionSMGuards").sdpAnswerReceiveGuard},d("ZenonStateMachineBase").defer],sendGenericDataMessage:D,stateSyncUnsubscribe:A,stateSyncUpdate:B,userApprovalRequest:E,addLocalTracks:d("ZenonStateMachineBase").defer,addParticipants:d("ZenonStateMachineBase").defer,initiateAddLocalTracks:d("ZenonStateMachineBase").defer,initiatePeerConnectionRestarting:d("ZenonStateMachineBase").defer,initiateRemoveLocalTrack:d("ZenonStateMachineBase").defer,localMediaStateUpdateProcessing:d("ZenonStateMachineBase").defer,localMediaStateUpdateReady:d("ZenonStateMachineBase").defer,removeLocalTrack:d("ZenonStateMachineBase").defer,replaceLocalTrack:d("ZenonStateMachineBase").defer,stopLocalTrack:d("ZenonStateMachineBase").defer,subscriptionRequest:d("ZenonStateMachineBase").defer}},peerConnectionRestarting:{on:{connectionDestroyed:babelHelpers["extends"]({},x,{cond:d("ZenonConnectionSMGuards").secondaryPeerConnectionGuard}),connectionEstablished:{actions:[d("xstate").assign(d("ZenonConnectionPeerConnectionRestartingState").onSecondaryConnectionEstablished)],cond:d("ZenonConnectionSMGuards").secondaryPeerConnectionGuard,target:"sdpNegotiated"},endConnection:m,initiatePeerConnectionRestarting:G,addParticipants:b,answerReady:{actions:[d("ZenonConnectionSharedActions").onAnswerReady]},callCollisionMediaMode:I,capabilitiesReceived:n,clientInfoReceived:o,connectionDropped:y,connectionRoomUpdateReceived:v,createDataMessageSubscription:s,dataMessageReceived:babelHelpers["extends"]({},u,{cond:d("ZenonConnectionSMGuards").secondaryPeerConnectionGuard}),iceCandidateReady:babelHelpers["extends"]({},r,{cond:d("ZenonConnectionSMGuards").secondaryPeerConnectionGuard}),iceCandidateReceived:w,localMediaStateUpdateProcessing:e,localMediaStateUpdateReady:babelHelpers["extends"]({},l,{cond:d("ZenonConnectionSMGuards").secondaryPeerConnectionGuard}),offerReady:{actions:[d("ZenonConnectionSharedActions").onOfferReady],cond:d("ZenonConnectionSMGuards").secondaryPeerConnectionGuard},participantUpdateReceived:p,removeDataMessageSubscription:t,removeParticipants:q,sctpNegotiationStateUpdate:H,sdpReceived:[{actions:[d("ZenonConnectionPeerConnectionRestartingState").onSdpReceived],cond:d("ZenonConnectionSMGuards").sdpAnswerOrP2POfferReceiveGuard},d("ZenonStateMachineBase").defer],sendGenericDataMessage:D,stateSyncUnsubscribe:A,stateSyncUpdate:B,stopLocalTrack:k,userApprovalRequest:E,addLocalTracks:d("ZenonStateMachineBase").defer,forceEncodingEnabled:d("ZenonStateMachineBase").defer,initiateAddLocalTracks:d("ZenonStateMachineBase").defer,initiateRemoveLocalTrack:d("ZenonStateMachineBase").defer,mediaUpdateReceived:d("ZenonStateMachineBase").defer,mediaUpdateResponseReceived:d("ZenonStateMachineBase").defer,removeLocalTrack:d("ZenonStateMachineBase").defer,replaceLocalTrack:d("ZenonStateMachineBase").defer,subscriptionRequest:d("ZenonStateMachineBase").defer}},terminated:{on:{sdpReceived:[{actions:[d("ZenonConnectionTerminatedState").onSdpReceived]}]}}};g["default"]=a}),98);
__d("ZenonConnectionStateModel",["DateConsts","ZenonAppProvider","ZenonAuditedCheckpointLogId","ZenonBrowsers","ZenonCallFeatures","ZenonConnectionStateTypes","ZenonInfraActionsLogger","ZenonNetworkStatus","ZenonParticipantState","ZenonRTWebBrowserFeatureSupport","ZenonScreenShare","ZenonScreenSharingAvailabilityType","gkx","qex"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b,e,f,g,h,i){var j;h===void 0&&(h={groupThreadID:null,peerID:null,serverInfoData:null});i===void 0&&(i="init");this.$12=new Map();this.selfParticipantID=(j=a.getActorID())!=null?j:a.getUserInfo().userID;this.collisionContext=h;this.clientEndpointId=e;this.connectionDirection=f;this.connectionState=i;this.actorRepresentatives=new Map();this.duplicatedParticipantsProcessingMode=(j=d("ZenonConnectionStateTypes").ZenonDuplicatedParticipantsProcessingMode.cast(g.getZenonGeneralizedIdentityConfig().getDuplicatedParticipantsProcessingMode()))!=null?j:d("ZenonConnectionStateTypes").ZenonDuplicatedParticipantsProcessingMode.REMOVE_DUPLICATED;this.currentUserCapabilities=new(c("ZenonCallFeatures"))({cowatchEnabled:!0,cowatchGroupEnabled:!0,multiwayVideoEscalation:g.getZenonPlatformSupportConfig().isMultiwayAvEscalationEnabled()&&d("ZenonBrowsers").supportsMWAVEscalation(),networkStatus:new(c("ZenonNetworkStatus"))(),screenSharingAvailability:d("ZenonRTWebBrowserFeatureSupport").isReplaceTrackSupported()?c("ZenonScreenSharingAvailabilityType").Available:c("ZenonScreenSharingAvailabilityType").Unknown,screenSharingEnabled:(h=d("ZenonAppProvider").isInstagramApp())!=null?h:void 0,supportMultipleStreams:!d("ZenonScreenShare").screenShareWithReplaceTrack(),supportSctpHangup:(e=c("qex")._("1872"))!=null?e:!1,supportSctpSecondPc:d("ZenonBrowsers").isDataChannelSupportedInSCTPPeerConnection(),vrScreenShare:c("gkx")("3123")});this.$5=function(){return new Map()};this.$6=function(){return[]};this.$7=function(){return[]};this.$8=function(){return a.getStateSyncStore().getInputStates()};this.$9=function(){return a.getStateSyncStore().getOutputStates()};this.$10=new Map();this.$1=b;this.$1.set(this.selfParticipantID,d("ZenonParticipantState").ZenonParticipantState.DISCONNECTED);this.$2=new Set();this.$4=new Map(this.$1);this.$11=null;this.$13=new Map();this.$3=new Map()}var b=a.prototype;b.overrideCurrentUserCapabilities=function(a){this.currentUserCapabilities=a};b.startFailedSubscriptionTimer=function(a){if(this.$12.get(a)!=null)return;var b=15;this.$12.set(a,window.setTimeout(function(){c("ZenonInfraActionsLogger").logError({auditId:c("ZenonAuditedCheckpointLogId").RP_ROOMS_INFRA_WWW__ERROR,callType:"mw",checkpoint:"[ZP] Failed subscription request for user: "+a+"\n            was never retried after "+b+" seconds",errorDomain:"ZenonConnectionStateModel_startFailedSubscriptionTimer"})},b*d("DateConsts").MS_PER_SEC))};b.clearFailedSubscriptionTimer=function(a){var b=this.$12.get(a);b!=null&&(window.clearTimeout(b),this.$12["delete"](a))};b.getConsolidatedParticipantStates=function(){return this.$4};b.getConnectedParticipantIDs=function(){var a=this;return new Set(Array.from(this.$4.keys()).filter(function(b){return a.$4.get(b)===d("ZenonParticipantState").ZenonParticipantState.CONNECTED}))};b.getRemoteConnectedParticipantIDs=function(){var a=this;return new Set(Array.from(this.$4.keys()).filter(function(b){return b!==a.selfParticipantID&&a.$4.get(b)===d("ZenonParticipantState").ZenonParticipantState.CONNECTED}))};b.updateParticipantState=function(a,b){this.$1.set(a,b);if(!this.$2.has(a)){this.$4=this.$4.set(a,b);if(b!==d("ZenonParticipantState").ZenonParticipantState.CONNECTED&&this.$11!=null&&this.$11.has(a)){(b=this.$11)==null?void 0:b["delete"](a)}}};b.updateConnectionState=function(a){this.connectionState=a};b.updateCurrentUserCapabilities=function(a){a.addParticipantEnabled!=null&&(this.currentUserCapabilities=this.currentUserCapabilities.set("canAddParticipants",a.addParticipantEnabled)),a.cowatchEnabled!=null&&(this.currentUserCapabilities=this.currentUserCapabilities.set("cowatchEnabled",a.cowatchEnabled)),a.cowatchGroupEnabled!=null&&(this.currentUserCapabilities=this.currentUserCapabilities.set("cowatchGroupEnabled",a.cowatchGroupEnabled)),a.multipleVideoStreamsAllowed!=null&&(this.currentUserCapabilities=this.currentUserCapabilities.set("supportMultipleStreams",a.multipleVideoStreamsAllowed)),a.multiwayVideoEscalation!=null&&(this.currentUserCapabilities=this.currentUserCapabilities.set("multiwayVideoEscalation",a.multiwayVideoEscalation)),a.screenSharingEnabled!=null&&(this.currentUserCapabilities=this.currentUserCapabilities.set("screenSharingEnabled",a.screenSharingEnabled)),a.vrScreenShare!=null&&(this.currentUserCapabilities=this.currentUserCapabilities.set("vrScreenShare",a.vrScreenShare))};b.updateAllParticipantsCapabilities=function(a){for(var a=a,b=Array.isArray(a),c=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var d;if(b){if(c>=a.length)break;d=a[c++]}else{c=a.next();if(c.done)break;d=c.value}d=d;var e=d[0];d=d[1];this.$3.set(e,d)}};b.getUserCapabilities=function(a){return(a=this.$3.get(a))!=null?a:""};b.updateNetworkStatus=function(a){this.currentUserCapabilities=this.currentUserCapabilities.set("networkStatus",a)};b.updateConsolidatedParticipantStates=function(){var a=new Map(this.$1);this.$2.forEach(function(b){a.set(b,d("ZenonParticipantState").ZenonParticipantState.CONNECTED)});this.$4=a};b.getTracks=function(){return this.$5()};b.registerTrackFetcher=function(a){this.$5=a};b.getRtpSenders_I_KNOW_WHAT_I_AM_DOING=function(){return this.$6()};b.registerRtpSendersFetcher=function(a){this.$6=a};b.getRtpReceivers_I_KNOW_WHAT_I_AM_DOING=function(){return this.$7()};b.registerRtpReceiversFetcher=function(a){this.$7=a};b.getStateSyncInputs=function(){return this.$8()};b.getStateSyncOutputs=function(){return this.$9()};b.getUserToTracksMap=function(){return this.$10};b.getRemoteUserToTracksMap=function(){var a=this;return new Map(Array.from(this.$10.entries()).filter(function(b){b=b[0];return b!==a.selfParticipantID}))};b.getExistingParticipantIds=function(){return this.$11||new Set()};b.addLocalTrackToTrackMap=function(a){this.$14(a,this.selfParticipantID)};b.$14=function(a,b){var c;c=(c=this.$10.get(b))!=null?c:new Map();c.set(a.trackID,a);this.$10.set(b,c)};b.removeLocalTrackFromTrackMap=function(a){var b;b=(b=this.$10.get(this.selfParticipantID))!=null?b:new Map();b["delete"](a)};b.updateTrackMapFromMediaStates=function(a,b){var c=this;b===void 0&&(b=!1);this.$2=new Set();a.forEach(function(a){var d=a.participantID;d!=null&&(c.$14(a,d),b||c.$2.add(d))});this.updateConsolidatedParticipantStates()};b.updateExistingParticipantsFromMediaStateTracks=function(a){if(this.$11==null){var b=new Set();a.forEach(function(a){a=a.participantID;a!=null&&b.add(a)});this.$11=b}};b.getIsUserVideoSubscribed=function(a){return(a=this.$13.get(a))!=null?a:!1};b.updateUserVideoSubscription=function(a,b){this.$13.set(a,b)};b.clearAllUserVideoSubscriptions=function(){this.$13=new Map()};return a}();g["default"]=a}),98);
__d("ZenonConnectionStatePeerConnectionDelegate",["Promise","ZenonLogPromiseRejection"],(function(a,b,c,d,e,f,g){"use strict";var h={connectionDestroyed:function(a,d,e){return c("ZenonLogPromiseRejection")(new(b("Promise"))(function(b,c){a.processEvent({onError:c,onSuccess:b,payload:{error:e,peerConnectionRole:d},type:"connectionDestroyed"})}))},connectionDropped:function(a,d){return c("ZenonLogPromiseRejection")(new(b("Promise"))(function(b,c){a.processEvent({onError:c,onSuccess:b,payload:{peerConnectionRole:d},type:"connectionDropped"})}))},connectionEstablished:function(a,d){return c("ZenonLogPromiseRejection")(new(b("Promise"))(function(b,c){a.processEvent({onError:c,onSuccess:b,payload:{peerConnectionRole:d},type:"connectionEstablished"})}))},createDataMessageSubscription:function(a,d,e){return c("ZenonLogPromiseRejection")(new(b("Promise"))(function(b,c){a.processEvent({onError:c,onSuccess:b,payload:{dataChannelLabel:d,messageHandler:e},type:"createDataMessageSubscription"})}))},dataChannelMesageReceived:function(a,d,e,f){return c("ZenonLogPromiseRejection")(new(b("Promise"))(function(b,c){a.processEvent({onError:c,onSuccess:b,payload:{dataChannelLabel:e,dataMessage:f,peerConnectionRole:d},type:"dataMessageReceived"})}))},removeDataMessageSubscription:function(a,d,e){return c("ZenonLogPromiseRejection")(new(b("Promise"))(function(b,c){a.processEvent({onError:c,onSuccess:b,payload:{dataChannelLabel:d,messageHandler:e},type:"removeDataMessageSubscription"})}))},sendIceCandidate:function(a,d,e){return c("ZenonLogPromiseRejection")(new(b("Promise"))(function(b,c){a.processEvent({onError:c,onSuccess:b,payload:{candidate:e,peerConnectionRole:d},type:"iceCandidateReady"})}))},sendLocalMediaStateUpdate:function(a,d,e){return c("ZenonLogPromiseRejection")(new(b("Promise"))(function(b,c){a.processEvent({onError:c,onSuccess:b,payload:{mediaStates:e,peerConnectionRole:d},type:"localMediaStateUpdateReady"})}))},sendRemoteSdpSet:function(a,d){return c("ZenonLogPromiseRejection")(new(b("Promise"))(function(b,c){a.processEvent({onError:c,onSuccess:b,payload:{peerConnectionRole:d},type:"remoteSdpSet"})}))},sendSdpReady:function(a,d,e,f,g,h){return c("ZenonLogPromiseRejection")(new(b("Promise"))(function(b,c){var i={tracks:[],version:e.version};f.forEach(function(a){a={enabled:a.enabled,participantID:g,trackID:a.trackId,type:a.contentType};i.tracks.push(a)});var j={connectionDirection:h,mediaStates:i,peerConnectionRole:d,sdp:e};e.type==="offer"?a.processEvent({onError:c,onSuccess:b,payload:j,type:"offerReady"}):a.processEvent({onError:c,onSuccess:b,payload:j,type:"answerReady"})}))},setPeerConnectionEventHandlers:function(a,b,c,d,e){a.setPeerConnectionEventHandlers({onConnectionDestroyed:function(a){return h.connectionDestroyed(b,c,a)},onConnectionDropped:function(){return h.connectionDropped(b,c)},onConnectionEstablished:function(){return h.connectionEstablished(b,c)},onCreateDataMessageSubscription:function(a,c){return h.createDataMessageSubscription(b,a,c)},onDataChannelMessageReceived:function(a,d){return h.dataChannelMesageReceived(b,c,a,d)},onIceCandidateReady:function(a){return h.sendIceCandidate(b,c,a)},onLocalMediaStateUpdate:function(a){return h.sendLocalMediaStateUpdate(b,c,a)},onLocalSdpSet:function(a,f){return h.sendSdpReady(b,c,a,f,d().selfParticipantID,e)},onRemoteSdpSet:function(){return h.sendRemoteSdpSet(b,c)},onRemoveDataMessageSubscription:function(a,c){return h.removeDataMessageSubscription(b,a,c)}})}};a=h;g["default"]=a}),98);
__d("ZenonConnectionStateSctpDelegate",["ZenonSignalingConstants","emptyFunction"],(function(a,b,c,d,e,f,g){"use strict";var h={sendConnectionEstablishedEvent:function(){},sendInitiateFailoverEvent:function(){},sendMessageToStateSync:function(a,b,e,f){b={sdpString:b};f={mediaPath:f,msgType:e,sdp:b};e=d("ZenonSignalingConstants").SCTP_NEGOTIATION_STATE_SYNC_TOPIC;a.processEvent({onError:c("emptyFunction"),onSuccess:c("emptyFunction"),payload:{inputData:f,topic:e},type:"stateSyncUpdate"})},setPeerConnectionEventHandlers:function(a,b){a.setPeerConnectionEventHandlers({onConnectionEstablished:function(){h.sendConnectionEstablishedEvent()},onInitiateFailover:function(){h.sendInitiateFailoverEvent()},onSendSdp:function(a,c,d){h.sendMessageToStateSync(b,a,c,d)}})}};a=h;g["default"]=a}),98);
__d("ZenonConnectionStateSignalingDelegate",["Promise","ZenonLogPromiseRejection"],(function(a,b,c,d,e,f,g){"use strict";var h={onCallCollisionMediaMode:function(a){return new(b("Promise"))(function(b,c){a.processEvent({onError:c,onSuccess:b,type:"callCollisionMediaMode"})})},onCapabilitiesReceived:function(a,d,e){return c("ZenonLogPromiseRejection")(new(b("Promise"))(function(b,c){a.processEvent({onError:c,onSuccess:b,payload:{capabilities:d,escalationConferenceName:e},type:"capabilitiesReceived"})}))},onClientInfoReceived:function(a,d,e,f){return c("ZenonLogPromiseRejection")(new(b("Promise"))(function(b,c){a.processEvent({onError:c,onSuccess:b,payload:{actorRepresentatives:e,mediaPath:f,userCapabilities:d},type:"clientInfoReceived"})}))},onClientRenegotiationReceived:function(a,b){a.processEvent(b)},onDismissReceived:function(a,d,e,f){return c("ZenonLogPromiseRejection")(new(b("Promise"))(function(b,c){var g;g={detailedReasonFromMW:f,dismissReason:d,dismissReasonSetByRemote:!0,dismissSubreason:"Server sent dismiss message to client: "+((g=e)!=null?g:"null"),shouldInformPeer:!1};a.processEvent({onError:c,onSuccess:b,payload:g,type:"endConnection"})}))},onGenericDataMessageReceived:function(a,d,e){return c("ZenonLogPromiseRejection")(new(b("Promise"))(function(b,c){var f={dataChannelLabel:d,dataMessage:e};a.processEvent({onError:c,onSuccess:b,payload:f,type:"dataMessageReceived"})}))},onIceCandidateReceived:function(a,d){return c("ZenonLogPromiseRejection")(new(b("Promise"))(function(b,c){a.processEvent({onError:c,onSuccess:b,payload:d,type:"iceCandidateReceived"})}))},onMediaUpdateReceived:function(a,d){return c("ZenonLogPromiseRejection")(new(b("Promise"))(function(b,c){a.processEvent({onError:c,onSuccess:b,payload:{mediaStates:d},type:"mediaUpdateReceived"})}))},onMediaUpdateResponseReceived:function(a,d){return c("ZenonLogPromiseRejection")(new(b("Promise"))(function(b,c){a.processEvent({onError:c,onSuccess:b,payload:d,type:"mediaUpdateResponseReceived"})}))},onParticipantUpdateReceived:function(a,d,e){return c("ZenonLogPromiseRejection")(new(b("Promise"))(function(b,c){a.processEvent({onError:c,onSuccess:b,payload:{participantStates:d,sctpUserIdNodeIdMap:e},type:"participantUpdateReceived"})}))},onPendingApprovalReceived:function(a){return c("ZenonLogPromiseRejection")(new(b("Promise"))(function(b,c){a.processEvent({onError:c,onSuccess:b,type:"pendingApproval"})}))},onRenegotiationRequested:function(a,d){return c("ZenonLogPromiseRejection")(new(b("Promise"))(function(b,c){a.processEvent({onError:c,onSuccess:b,payload:{hasRemoteOffer:d},type:"initiatePeerConnectionRestarting"})}))},onRoomContextUpdateReceived:function(a,d){return c("ZenonLogPromiseRejection")(new(b("Promise"))(function(b,c){a.processEvent({onError:c,onSuccess:b,payload:{context:d},type:"connectionRoomUpdateReceived"})}))},onSdpReceived:function(a,d,e,f,g,h,i,j){return c("ZenonLogPromiseRejection")(new(b("Promise"))(function(b,c){a.processEvent({onError:c,onSuccess:b,payload:{mediaPath:e,mediaStates:f,messageID:j,onProcessed:i,renegotiationOffer:h,sdp:d,source:g},type:"sdpReceived"})}))},onServerRenegotiationFinished:function(a){return c("ZenonLogPromiseRejection")(new(b("Promise"))(function(b,c){a.processEvent({onError:c,onSuccess:b,type:"serverRenegotiationFinished"})}))},setSignalingEventHandlers:function(a,b){a.setSignalingEventHandlers({onCallCollisionMediaMode:function(){return h.onCallCollisionMediaMode(b)},onCapabilitiesReceived:function(a,c){return h.onCapabilitiesReceived(b,a,c)},onClientInfoReceived:function(a,c,d){return h.onClientInfoReceived(b,a,c,d)},onClientRenegotiationReceived:function(a){return h.onClientRenegotiationReceived(b,a)},onDismissReceived:function(a,c,d,e){return h.onDismissReceived(b,c,d,e)},onGenericDataMessageReceived:function(a,c){return h.onGenericDataMessageReceived(b,a,c)},onIceCandidateReceived:function(a){return h.onIceCandidateReceived(b,a)},onMediaUpdateReceived:function(a){return h.onMediaUpdateReceived(b,a)},onMediaUpdateResponseReceived:function(a){return h.onMediaUpdateResponseReceived(b,a)},onParticipantUpdateReceived:function(a,c){return h.onParticipantUpdateReceived(b,a,c)},onPendingApprovalReceived:function(){return h.onPendingApprovalReceived(b)},onRenegotiationRequested:function(a){return h.onRenegotiationRequested(b,a)},onRoomContextUpdateReceived:function(a){return h.onRoomContextUpdateReceived(b,a)},onSdpReceived:function(a,c,d,e,f,g,i){return h.onSdpReceived(b,a,c,d,e,f,g,i)},onServerRenegotiationFinished:function(){return h.onServerRenegotiationFinished(b)}})}};a=h;g["default"]=a}),98);
__d("ZenonDataUtils",[],(function(a,b,c,d,e,f){"use strict";a=function(a){return g(atob(a))};b=function(a){return btoa(h(a))};c=function(a){a=btoa(a);var b=a.indexOf("=");return b===-1?a:a.substring(0,b)};var g=function(a){a=a;var b=a.length,c=new Uint8Array(b);for(var d=0;d<b;d++)c[d]=a.charCodeAt(d);return c},h=function(a){var b="",c=a.byteLength;for(var d=0;d<c;d++)b+=String.fromCharCode(a[d]);return b};f.base64ToUint8Array=a;f.uint8ArrayToBase64=b;f.stringToBase64WithoutPadding=c;f.stringToUint8Array=g;f.uint8ArrayToString=h}),66);
__d("ZenonEncryptionKeysManagerState",["E2eeMetricsSerializers","WebAssemblyMemorySingleton"],(function(a,b,c,d,e,f,g){"use strict";a=function(){return{e2eeDebugStats:{e2eeStatsByTrack:new Map(),groupE2eeMetrics:d("E2eeMetricsSerializers").GroupE2eeMetrics$DefaultConstructor(),wasmMetrics:d("WebAssemblyMemorySingleton").WebAssemblyMemorySingleton.getMetrics()},e2eeNegotiationState:-1,identityStoreDescription:"not yet created"}};g.ZenonEncryptionKeysManagerState$DefaultConstructor=a}),98);
__d("ZenonLogRenderResolutionStats",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){b.setRenderResolutionListener({onRenderResolutionChange:function(b){Object.values(b).flatMap(function(a){return Object.values(a)}).filter(function(b){return a.has(b.streamId)}).forEach(function(b){var c=a.get(b.streamId);c&&(c.displayResolutionData=b)})}})}f["default"]=a}),66);
__d("ZenonSctpMessageTranslator",["ZenonActorHooks","ZenonAuditedCheckpointLogId","ZenonDataUtils","ZenonInfraActionsLogger","ZenonPeerConnectionConstants"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){this.$1=new Map(),this.$2=new Map(),this.$3=new Map([[d("ZenonPeerConnectionConstants").SCTP_MEDIA_SERVER_ID,-1]]),this.$4=new Map([[-1,d("ZenonPeerConnectionConstants").SCTP_MEDIA_SERVER_ID]])}var b=a.prototype;b.updateUserIdMaps=function(a){this.$1=a,this.$2=new Map(Array.from(this.$1,function(a){return[a[1],a[0]]}))};b.getUserIdToNodeIdMap=function(){return this.$1};b.getNodeIdToUserIdMap=function(){return this.$2};b.getServiceIdToNodeIdMap=function(){return this.$3};b.getNodeIdToServiceIdMap=function(){return this.$4};b.toSctpDatagram=function(a){var b=this,e=this.$1.get(a.sender);if(e==null){c("ZenonInfraActionsLogger").logError({auditId:c("ZenonAuditedCheckpointLogId").RP_ROOMS_INFRA_WWW__ERROR,error:"Cannot find node id of SCTP datagram sender "+d("ZenonActorHooks").ZenonActor.getID(),errorDomain:"ZenonSctpMessageTranslator toSctpDatagram"});return}var f=new Set();if(a.receivers==null)return{payload:d("ZenonDataUtils").stringToUint8Array(a.message),receivers:f,sender:e};a.receivers.forEach(function(a){var d=b.$3.get(a);if(d!=null)f.add(d);else{d=b.$1.get(a);d==null?c("ZenonInfraActionsLogger").logError({auditId:c("ZenonAuditedCheckpointLogId").RP_ROOMS_INFRA_WWW__ERROR,error:"Cannot find node id of SCTP datagram receiver "+a,errorDomain:"ZenonSctpMessageTranslator toSctpDatagram"}):f.add(d)}});return{payload:d("ZenonDataUtils").stringToUint8Array(a.message),receivers:f,sender:e}};b.toUserId=function(a){var b;return(b=this.$2.get(a))!=null?b:this.$4.get(a)};return a}();g["default"]=a}),98);
__d("ZenonConnectionStateManager",["DateConsts","FBLogger","OverlayConfigServerLayer","Promise","ZenonAuditedCheckpointLogId","ZenonCallsModelEmitter","ZenonCallsModelTypes","ZenonConnectionStateMachine","ZenonConnectionStateModel","ZenonConnectionStatePeerConnectionDelegate","ZenonConnectionStateSctpDelegate","ZenonConnectionStateSignalingDelegate","ZenonDataUtils","ZenonDismissReason","ZenonE2ee","ZenonEncryptionKeysManagerState","ZenonInfraActionsLogger","ZenonLogPromiseRejection","ZenonLogRenderResolutionStats","ZenonMqttUtil","ZenonNetworkStatus","ZenonParticipantState","ZenonPeerConnectionManager","ZenonSctpMessageTranslator","ZenonSignalingConstants","asyncToGeneratorRuntime","cr:2815","cr:5671","emptyFunction","err","gkx","promiseDone","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h=(a=b("cr:5671"))!=null?a:b("cr:2815"),i="E2eeKey",j="E2eeState",k=2*d("DateConsts").MS_PER_MIN,l=new Set(["data",d("ZenonSignalingConstants").SCTP_FAILOVER_TOPIC,d("ZenonSignalingConstants").SCTP_MEDIA_SUBSCRIPTIONS,d("ZenonSignalingConstants").E2EE_DATA_MESSAGE_MEDIA_CHANNEL_TOPIC,d("ZenonSignalingConstants").SCTP_SIGNALING_TOPIC,d("ZenonSignalingConstants").SIMULCAST_TOPIC]);e=function(){function a(a,b,e,f,g,i,j,k,l){var m=this;j===void 0&&(j=!1);k===void 0&&(k=!1);this.$8=new(c("ZenonNetworkStatus"))();this.$10=new(c("ZenonSctpMessageTranslator"))();this.$15=function(){return m.$3};this.$12=function(a){a(m.$3),m.$13(),m.$21()};this.$5=g;this.$5.log({isIncomingConnection:e==="incoming",name:"connectionStart"});this.$1=a;a=c("uuidv4")();this.$9=c("ZenonE2ee").getEncryptionKeysManager();var n=b.getSignalingModel();this.$2=b.getSignalingModel().getSignalingID();n.setNotifyCallback(function(){m.$12(function(a){a.collisionContext.serverInfoData=n.getRemoteSignalingID()});var a=n.getOverlayConfigServerLayer();a&&f.setServerLayer(a)});this.$3=new(c("ZenonConnectionStateModel"))(n,new Map(),a,e,f,{groupThreadID:null,peerID:null,serverInfoData:b.getSignalingModel().getRemoteSignalingID()});a=new Map();l&&c("ZenonLogRenderResolutionStats")(a,l);l={configManager:f,dataMessageTranslator:this.$10,isE2eeMandated:k,loggingEventHandler:function(a){return g.log(a)},mediaStats:a,shouldUseSimulcast:j};var o=new(c("ZenonPeerConnectionManager"))(l);a=n.getMediaModeManager().getMediaMode()==="sfu"||((k=n.getRoomInfo().context)==null?void 0:k.peerID)!=null&&e==="outgoing";o.setIceRestartEligible(a);o.registerTrackListener(function(){m.$13()});o.setNetworkStatusListener(function(a){var b=m.$8;if(b.equals(a))return;m.$3.updateNetworkStatus(a);m.$13();m.$8=a;o.onNetworkUpdate(a);a.local!==b.local&&c("ZenonInfraActionsLogger").logCheckpoint({checkpoint:"ZenonNetworkQuality: "+a.local})});this.$7=o.getSdpFormat();var p=new(c("ZenonPeerConnectionManager"))(l);p.setNetworkStatusListener(function(a){var b=m.$8;if(b.equals(a))return;m.$3.updateNetworkStatus(a);m.$13();m.$8=a;p.onNetworkUpdate(a);a.local!==b.local&&c("ZenonInfraActionsLogger").logCheckpoint({checkpoint:"ZenonNetworkQuality: "+a.local})});this.$11=h?new h(f,function(a){return g.log(a)},function(a){return m.checkAllRemoteUsersHaveCapability(a)},n.getMediaModeManager().getMediaMode(),this.$10):null;this.$14(b);i.setupSctpChannelApi(b.getSignalingModel().getSignalingID(),(j=this.$11)!=null?j:o);this.$4=new(c("ZenonConnectionStateMachine"))({getConnectionModel:this.$15,logEvent:function(a){return g.log(a)},peerConnectionManager:o,sctpHelper:i,sctpMessageTranslator:this.$10,sctpPeerConnectionManager:(k=this.$11)!=null?k:null,secondaryPeerConnectionManager:p,signalingClient:b,updateConnectionModel:this.$12});c("ZenonConnectionStateSignalingDelegate").setSignalingEventHandlers(b,this.$4);this.$11&&c("ZenonConnectionStateSctpDelegate").setPeerConnectionEventHandlers(this.$11,this.$4);c("ZenonConnectionStatePeerConnectionDelegate").setPeerConnectionEventHandlers(o,this.$4,"primary",this.$15,e);c("ZenonConnectionStatePeerConnectionDelegate").setPeerConnectionEventHandlers(p,this.$4,"secondary",this.$15,e);c("promiseDone")(this.createDataMessageSubscription(d("ZenonSignalingConstants").SIMULCAST_TOPIC,function(a){try{o.maybeHandleSignalingSimulcastDataMessage(a)}catch(a){c("FBLogger")("rtc_www").warn("maybeHandleVideouploadRequest failed:",a)}}));c("ZenonE2ee").isE2eeStackReady()&&this.$16(b);c("gkx")("675")&&this.$17(b);b.setLoggingEventHandler(function(a){return g.log(a)});this.$6=0}var e=a.prototype;e.getSctpMessageTranslator=function(){return this.$10};e.start=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var e=this;try{this.$5.log({name:"mqttConnectionState",pending:!0});var f=d("ZenonMqttUtil").getMqttChannel();yield this.$18(f);this.$5.log({name:"mqttConnectionState",pending:!1})}catch(a){c("ZenonInfraActionsLogger").logError({auditId:c("ZenonAuditedCheckpointLogId").RP_ROOMS_INFRA_WWW__ERROR,callType:"mw",checkpoint:"[ZP] Attempting to establish MQTT connection",error:a.message,errorDomain:"ZenonConnectionStateManager_start"});c("promiseDone")(this.end(d("ZenonDismissReason").ZenonDismissReason.ClientError,"MQTT did not connect"));return}f=a.mwRingRequest!=null?"incoming":"outgoing";var g=a.appMessages,i=a.callMedia,j=a.initialSyncStates,k=a.isE2eeMandated,m=a.isSecondaryJoinRole,n=a.localMedia,o=a.mwRingRequest,p=a.usersToRing,q=(a=a.dataChannels)!=null?a:new Set();j=(a=j)!=null?a:new Map();h&&j.set(d("ZenonSignalingConstants").SCTP_NEGOTIATION_STATE_SYNC_TOPIC,{});l.forEach(function(a){return q.add(a)});a=(yield this.$19());var r={appMessages:g,callMedia:i,dataChannels:q,direction:f,initialSyncStates:j,isE2eeMandated:k,isSecondaryJoinRole:m,mwRingRequest:o,serializedInitialSyncStates:a,tracks:n,usersToRing:p};return c("ZenonLogPromiseRejection")(new(b("Promise"))(function(a,b){e.$4.processEvent({onError:b,onSuccess:a,payload:r,type:"createConnection"})}))});function e(b){return a.apply(this,arguments)}return e}();e.muteTrack=function(a){return c("ZenonLogPromiseRejection")(this.$20(a,!1))};e.unmuteTrack=function(a){return c("ZenonLogPromiseRejection")(this.$20(a,!0))};e.$20=function(a,c){var d=this;return new(b("Promise"))(function(b,e){var f={enabled:c,trackID:a};d.$4.processEvent({onError:e,onSuccess:b,payload:f,type:"localMediaStateUpdateProcessing"})})};e.stopLocalTrack=function(a){var d=this;return c("ZenonLogPromiseRejection")(new(b("Promise"))(function(b,c){var e={trackID:a};d.$4.processEvent({onError:c,onSuccess:b,payload:e,type:"stopLocalTrack"})}))};e.end=function(a,d){var e,f=this;void ((e=this.$9)==null?void 0:e.logStats());return c("ZenonLogPromiseRejection")(new(b("Promise"))(function(b,c){var e={dismissReason:a,dismissReasonSetByRemote:!1,dismissSubreason:d,shouldInformPeer:!0};f.$4.processEvent({onError:c,onSuccess:b,payload:e,type:"endConnection"})}))};e.addParticipants=function(a,d){var e=this;return c("ZenonLogPromiseRejection")(new(b("Promise"))(function(b,c){var f={groupThreadId:d,usersToRing:a};e.$4.processEvent({onError:c,onSuccess:b,payload:f,type:"addParticipants"})}))};e.removeParticipants=function(a){var d=this;return c("ZenonLogPromiseRejection")(new(b("Promise"))(function(b,c){var e={usersToRemove:a};d.$4.processEvent({onError:c,onSuccess:b,payload:e,type:"removeParticipants"})}))};e.addLocalTrack=function(a){var d=this;return c("ZenonLogPromiseRejection")(new(b("Promise"))(function(b,c){d.$4.processEvent({onError:c,onSuccess:b,payload:{tracks:[a]},type:"addLocalTracks"})}))};e.replaceLocalTrack=function(a,d,e){var f=this;return c("ZenonLogPromiseRejection")(new(b("Promise"))(function(b,c){e!=null?f.$4.processEvent({onError:c,onSuccess:b,payload:{preserveOriginal:e,replacementTrack:d,trackIDToReplace:a},type:"replaceLocalTrack"}):f.$4.processEvent({onError:c,onSuccess:b,payload:{replacementTrack:d,trackIDToReplace:a},type:"replaceLocalTrack"})}))};e.removeLocalTrack=function(a){var d=this;return c("ZenonLogPromiseRejection")(new(b("Promise"))(function(b,c){d.$4.processEvent({onError:c,onSuccess:b,payload:{trackID:a},type:"removeLocalTrack"})}))};e.createDataMessageSubscription=function(a,d,e,f){var g=this;return c("ZenonLogPromiseRejection")(new(b("Promise"))(function(b,c){g.$4.processEvent({onError:c,onSuccess:b,payload:{dataChannelLabel:a,dataChannelOptions:f,messageHandler:d,onSctpChannelOpenCallback:e},type:"createDataMessageSubscription"})}))};e.removeDataMessageSubscription=function(a,d){var e=this;return c("ZenonLogPromiseRejection")(new(b("Promise"))(function(b,c){e.$4.processEvent({onError:c,onSuccess:b,payload:{dataChannelLabel:a,messageHandler:d},type:"removeDataMessageSubscription"})}))};e.sendGenericDataMessage=function(a,d,e,f,g){var h=this;return c("ZenonLogPromiseRejection")(new(b("Promise"))(function(b,c){var i={data:d,recipientIDs:e,serviceRecipients:f,topic:a,transportType:g};h.$4.processEvent({onError:c,onSuccess:b,payload:i,type:"sendGenericDataMessage"})}))};e.updateStateSyncTopic=function(a,d){var e=this;return c("ZenonLogPromiseRejection")(new(b("Promise"))(function(b,c){var f={inputData:d,topic:a};e.$4.processEvent({onError:c,onSuccess:b,payload:f,type:"stateSyncUpdate"})}))};e.unsubscribeFromStateSyncTopic=function(a){var d=this;return c("ZenonLogPromiseRejection")(new(b("Promise"))(function(b,c){var e={topic:a};d.$4.processEvent({onError:c,onSuccess:b,payload:e,type:"stateSyncUnsubscribe"})}))};e.subscribeToRemoteVideo=function(a,d){var e=this;return c("ZenonLogPromiseRejection")(new(b("Promise"))(function(b,c){var f={includeDominantSpeaker:d,subscriptions:a};e.$4.processEvent({onError:c,onSuccess:b,payload:f,type:"subscriptionRequest"})}))};e.approveParticipants=function(a){var d=this;return c("ZenonLogPromiseRejection")(new(b("Promise"))(function(b,c){d.$4.processEvent({onError:c,onSuccess:b,payload:{approvalStatus:1,targetUsers:a},type:"userApprovalRequest"})}))};e.denyParticipants=function(a){var d=this;return c("ZenonLogPromiseRejection")(new(b("Promise"))(function(b,c){d.$4.processEvent({onError:c,onSuccess:b,payload:{approvalStatus:0,targetUsers:a},type:"userApprovalRequest"})}))};e.forceEncodingEnabled=function(a){var d=this;return c("ZenonLogPromiseRejection")(new(b("Promise"))(function(b,c){d.$4.processEvent({onError:c,onSuccess:b,payload:{enabled:a},type:"forceEncodingEnabled"})}))};e.getConnectionState=function(){return this.$3.connectionState};e.getSCTPDataChannelState=function(a){var b;return(b=this.$11)==null?void 0:b.getDataChannelState(a)};e.getClientCallID=function(){return this.$1};e.getSignalingID=function(){return this.$2};e.getRemoteSignalingID=function(){return this.$3.collisionContext.serverInfoData};e.getSdpFormat=function(){return this.$7};e.getEncryptionKeysManagerState=function(){return this.$9==null?d("ZenonEncryptionKeysManagerState").ZenonEncryptionKeysManagerState$DefaultConstructor():this.$9.getState()};e.checkAllRemoteUsersHaveCapability=function(a){var b=this,d=this.$3.getRemoteConnectedParticipantIDs(),e=d.size>0;d.forEach(function(d){d=atob(b.$3.getUserCapabilities(d));try{d=JSON.parse(d);e=e&&((d=d[a])!=null?d:!1)}catch(a){c("ZenonInfraActionsLogger").logCheckpointEmployeesTestUsersOnly({checkpoint:"Failed to parse capabilities String"}),e=!1}});return e};e.$14=function(a){var e=this;a=a.getSignalingModel().getStateSyncStore();a.addTopicHandler(d("ZenonSignalingConstants").SCTP_NEGOTIATION_STATE_SYNC_TOPIC,function(a){if(!a)return b("Promise").resolve();var d=a.mediaPath,f=a.msgType;a=a.sdp;if(d==null||f==null||!a)return b("Promise").resolve();e.$4.processEvent({onError:c("emptyFunction"),onSuccess:c("emptyFunction"),payload:{mediaPath:d,msgType:f,sdp:a},type:"sctpNegotiationStateUpdate"});return b("Promise").resolve()})};e.$17=function(a){var e=a.getSignalingModel().getStateSyncStore();e.addTopicHandler(d("ZenonSignalingConstants").CONFIG_ENGINE_STATE_SYNC_TOPIC,function(d){d=(d=d==null?void 0:(d=d.overlayConfigServerLayer)==null?void 0:d.values)!=null?d:null;if(d==null)return b("Promise").resolve();d=new(c("OverlayConfigServerLayer"))(d);a.getSignalingModel().updateOverlayConfigServerLayer(d);return b("Promise").resolve()})};e.$16=function(a){var e=this;a=a.getSignalingModel().getStateSyncStore();a.addTopicHandler(j,function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b;yield (b=e.$9)==null?void 0:b.processE2eeServerState(a)});return function(b){return a.apply(this,arguments)}}());c("promiseDone")(this.createDataMessageSubscription(i,function(a){var b;return void ((b=e.$9)==null?void 0:b.processE2eeMessage(a))}));c("gkx")("8523")&&c("promiseDone")(this.createDataMessageSubscription(d("ZenonSignalingConstants").E2EE_DATA_MESSAGE_MEDIA_CHANNEL_TOPIC,function(a){var b;return void ((b=e.$9)==null?void 0:b.processE2eeMessage(a))},function(){var a;return(a=e.$9)==null?void 0:a.onMediaDataChannelReady()}))};e.$19=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a;if(this.$9!=null){var b=(yield this.$9.getSerializedE2eeClientState());b.byteLength===0&&c("ZenonInfraActionsLogger").logCheckpoint({checkpoint:"E2ee client state is empty"});a=new Map();a.set(j,{data:d("ZenonDataUtils").uint8ArrayToBase64(b),version:1})}return a});function e(){return a.apply(this,arguments)}return e}();e.$13=function(){d("ZenonCallsModelEmitter").CallsModelEmitterInstance.emitCallsModel(this.$1,this.$3)};e.$21=function(){if(d("ZenonCallsModelEmitter").CONNECTION_STATE_TO_CALL_STATE_MAP[this.$3.connectionState]!==d("ZenonCallsModelTypes").ZenonCallState.Connected)return;var a=this.$3.getConsolidatedParticipantStates();if(a){a=Array.from(a.values());a=a.filter(function(a){return a===d("ZenonParticipantState").ZenonParticipantState.CONNECTED});a=a.length;a>this.$6&&(this.$5.log({connectedParticipantsCount:a,name:"setMaxConnectedParticipants"}),this.$6=a)}};e.$18=function(a){return new(b("Promise"))(function(b,d){if(a.getConnectionState()==="Connected")b();else{c("ZenonInfraActionsLogger").logCheckpoint({checkpoint:"MQTT not connected, deferring call start"});var e={onMQTTStateChanged:function(c){c==="Connected"&&(a.unsubscribeChannelEvents(e),window.clearTimeout(f),b())}},f=window.setTimeout(function(){a.unsubscribeChannelEvents(e),c("ZenonInfraActionsLogger").logCheckpoint({checkpoint:"MQTT never connected. Current status: "+a.getConnectionState()}),d(c("err")("timeout"))},k);a.subscribeChannelEvents(e)}})};return a}();g["default"]=e}),98);
__d("FrameEncryptionWasmTypes",["err"],(function(a,b,c,d,e,f,g){"use strict";var h="This wasm pointer must not be null.",i="This wasm pointer is read after being freed.",j=0;function k(a,b){if(a<=j)throw c("err")(b)}a=function(){function a(a){this.$1=a}var b=a.prototype;b.isNull=function(){return this.$1<=j};b.get=function(){return this.$1};b.markAsFreed=function(){this.$1=j};return a}();var l=function(b){babelHelpers.inheritsLoose(a,b);function a(a){k(a,h);return b.call(this,a)||this}a.fromNullable=function(b){b=b.get();k(b,h);return new a(b)};var c=a.prototype;c.get=function(){k(b.prototype.get.call(this),i);return b.prototype.get.call(this)};return a}(a);b=function(){function a(a){this.$1=a,this.$2=new Array(0)}var b=a.prototype;b.createCallback=function(a,b){a=new l(this.$1.addFunction(a,b));this.$2.push(a);return a};b.getCountOfCallbacks=function(){return this.$2.length};b.cleanupAllCallbacks=function(){var a=this;this.$2.forEach(function(b){return a.$1.removeFunction(b.get())});this.$2=new Array(0)};return a}();g.ERROR_MESSAGE_MUST_NOT_BE_NULL=h;g.ERROR_MESSAGE_USE_AFTER_FREE=i;g.WASM_NULLPTR_VALUE=j;g.ZenonNullableWasmPtr=a;g.ZenonNonNullWasmPtr=l;g.WasmCallbackManager=b}),98);
__d("XCometFBMultiSiteWebWorkerInitScriptControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/static_resources/webworker_v1/init_script/",Object.freeze({}),void 0);b=a;g["default"]=b}),98);
__d("WorkerBundleResource",["TrustedTypesWebWorkerScriptURLPolicy","XCometFBMultiSiteWebWorkerInitScriptControllerRouteBuilder","getWorkerInitScriptSPINParams","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var d,e,f;for(var g=arguments.length,h=new Array(g>2?g-2:0),i=2;i<g;i++)h[i-2]=arguments[i];var j=(d=b==null?void 0:b.logImportScriptsErrors)!=null?d:!1,k=(e=b==null?void 0:b.name)!=null?e:a.name,l=new window.URL(a.url,window.location.href).href;if(l==null){var m=new Error("Can't start up worker without a resource url.");m.stack;throw m}var n=c("nullthrows")((f=c("XCometFBMultiSiteWebWorkerInitScriptControllerRouteBuilder").buildUri({}).addQueryParams(c("getWorkerInitScriptSPINParams")()))==null?void 0:f.toString()),o=new Worker(c("TrustedTypesWebWorkerScriptURLPolicy").createScriptURL(n),{name:k});o.postMessage({bundleUrl:l,initArgs:h,isDev:!1,resource:a,logImportScriptsErrors:j,type:"sr-init"});return o}g.createDedicatedWebWorker=a}),98);
__d("FuncChannel",["FBLogger","Promise"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){var d=this,e;this.$2=[];this.callMessageHandler=function(a){return new(b("Promise"))(function(b,c){a.result={resolveFunc:b,rejectFunc:c},d.$2.push(a)})};this.messageToCall=function(a){var b,e,f=d.proxyMethods[a.method];if(typeof f!=="function"){c("FBLogger")("worker").mustfix("proxyMethods[%s] is not a functions",a.method);return}b=(b=a.result)==null?void 0:b.resolveFunc;e=(e=a.result)==null?void 0:e.rejectFunc;if(typeof b==="function"&&typeof e==="function")try{var g=f.apply(a.thisArg,a.argList);b(g)}catch(a){e(a)}else return f.apply(a.thisArg,a.argList)};var f=this,g={},h=(e=a==null?void 0:a(g))!=null?e:{},i=babelHelpers["extends"]({},g);function j(a){i[a]=function(){var b={type:"call",method:a,thisArg:null,argList:Array.from(arguments)};return f.callMessageHandler(b)},g[a]=function(){var b=f.$1[a];if(typeof b!=="function"){c("FBLogger")("worker").mustfix("_backend[%s] is not a functions",a);return}return b.apply(f.$1,arguments)},h[a]==null&&(h[a]=g[a])}this.$1=i;if(a!=null){e=Object.keys(h);e.forEach(j);this.proxyMethods=h}else this.proxyMethods=new Proxy(h,{get:function(a,b){a=b;h[a]==null&&j(a);return h[a]}})}var d=a.prototype;d.flushBuffer=function(){var a=this.$2;this.$2=[];a.forEach(this.messageToCall)};d.setBackend=function(a){this.$1!==a&&(this.$1=a,this.flushBuffer());return this};d.setCallMessageHandler=function(a){this.callMessageHandler=a,this.flushBuffer()};return a}();g["default"]=a}),98);
__d("MainPageUrl",["ExecutionEnvironment","FBLogger","SimpleHook"],(function(a,b,c,d,e,f,g){"use strict";var h=new URL("http://undefined"),i=new(d("SimpleHook").SimpleHook)();function j(){var a;return c("ExecutionEnvironment").isInBrowser&&(h==null?void 0:(a=h.searchParams)==null?void 0:a.get("workerlog"))==="debug"}function a(a){try{j()&&c("FBLogger")("worker").debug("received url "+a);var b=new URL(a,h.href||"http://undefined");h.href!==b.href?(h.href=b.href,i.call(h)):j()&&c("FBLogger")("worker").debug("ignoring url: path didn't change in "+a)}catch(a){c("FBLogger")("worker").catching(a).warn("invalid url")}}typeof window==="object"&&typeof window.location==="object"&&typeof window.location.href==="string"&&a(window.location.href);g.mainPageUrl=h;g.onMainPageUrlChange=i;g.isWorkerLogEnabled=j;g.updateMainPageUrl=a}),98);
__d("TimedOnceFunc",["ExecutionEnvironment"],(function(a,b,c,d,e,f,g){a=function(){function a(a,b){this.$2=!1,this.$4=a,this.$3=b,c("ExecutionEnvironment").isInBrowser&&this.$5()}var b=a.prototype;b.$6=function(){this.$1!=null&&clearTimeout(this.$1),this.$1=null};b.$5=function(){var a=this;this.isDone()||(this.$6(),this.$1=setTimeout(function(){a.$2=!0,a.run()},this.$3))};b.isDone=function(){return this.$4===null};b.isCancelled=function(){return this.$1===null&&this.$4!==null};b.run=function(){this.$6();if(this.$4!=null){var a=this.$4;this.$4=null;a(this.$2)}};b.getDelay=function(){return this.$3};b.delay=function(a){this.$3=(a=a)!=null?a:this.$3;this.$5()};b.cancel=function(){this.$6()};return a}();g.TimedOnceFunc=a}),98);
__d("VirtualMessageChannel",["invariant","Promise","SimpleHook","nullthrows","promiseDone"],(function(a,b,c,d,e,f,g,h){"use strict";var i=function(){function a(a){a===void 0&&(a=!1),this.$2=new(d("SimpleHook").SimpleHook)(),this.onmessage=null,this.onmessageerror=null,this.$3=a}var e=a.prototype;e.setRemotePort=function(a){this.$1=a};e.addEventListener=function(a,b,c){(a==="message"||a==="error")&&c==null||h(0,55320,a);if(a==="message")if(typeof b==="function")this.$2.add(b);else{c=b.handleEvent.bind(b);this.$2.add(c);b.__handler=c}};e.removeEventListener=function(a,b,c){if(typeof b==="function")this.$2.remove(b);else{a=b.__handler;this.$2.remove(a)}};e.postMessage=function(a,d){var e=this,f=function(){var b=c("nullthrows")(e.$1,"By now remote port must have value!");b.$2.call({data:a,ports:d})};this.$3?f():c("promiseDone")(b("Promise").resolve(),f)};e.start=function(){};return a}();a=function(a,b){this.port1=new i(a),this.port2=new i(b),this.port1.setRemotePort(this.port2),this.port2.setRemotePort(this.port1)};g.VirtualMessagePort=i;g.VirtualMessageChannel=a}),98);
__d("DoubleKeyMap",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1=new Map()}var b=a.prototype;b.set=function(a,b,c){var d=this.$1.get(a);d||this.$1.set(a,d=new Map());d.set(b,c)};b.get=function(a,b){return(a=this.$1.get(a))==null?void 0:a.get(b)};b["delete"]=function(a,b){var c=this.$1.get(a);c&&(c["delete"](b),c.size===0&&this.$1["delete"](a))};b.getAll=function(a){return this.$1.get(a)};b.deleteAll=function(a){this.$1["delete"](a)};return a}();f.DoubleKeyMap=a}),66);
__d("NestedTimeRange",["SimpleHook","performance","performanceAbsoluteNow"],(function(a,b,c,d,e,f,g){"use strict";var h=new(d("SimpleHook").SimpleHook)(),i=new(d("SimpleHook").SimpleHook)(),j="/";function k(a,b){return""+a+j+b}b=function(){function a(a,b){b===void 0&&(b=null),this.$3=0,this.$1=a,this.$2=b}var b=a.prototype;b.isRunning=function(){return this.$3>0};b.fullname=function(){return this.$2!==null?k(this.$2.fullname(),this.$1):this.$1};b.start=function(a){a===void 0&&(a=c("performanceAbsoluteNow")());if(this.$3===0){var b;(b=this.$2)==null?void 0:b.start(a);this.__onStart(a)}++this.$3;return a};b.__onStart=function(a){h.call(this,a)};b.stop=function(a){a===void 0&&(a=c("performanceAbsoluteNow")());--this.$3;if(this.$3===0){var b;this.__onStop(a);(b=this.$2)==null?void 0:b.stop(a)}return a};b.__onStop=function(a){i.call(this,a)};return a}();function a(){c("performance").mark&&c("performance").measure&&(h.add(function(a,b){c("performance").mark(a.fullname()+"_start")}),i.add(function(a,b){c("performance").measure(a.fullname(),a.fullname()+"_start")}))}g.OnRangeStart=h;g.OnRangeStop=i;g.TIME_RANGE_LEVEL_SEPARATOR=j;g.rangeFullName=k;g.NestedTimeRange=b;g.enableDevConsoleTimeline=a}),98);
__d("QLogEvent",["DoubleKeyMap","FBLogger","NestedTimeRange","QPLEvent","SimpleHook","performanceNavigationStart"],(function(a,b,c,d,e,f,g){"use strict";var h=new(d("DoubleKeyMap").DoubleKeyMap)(),i=function(b){babelHelpers.inheritsLoose(a,b);function a(a,c,d){a=b.call(this,a,d)||this;a.$QPLRange1=c;h.set(c,a.fullname(),babelHelpers.assertThisInitialized(a));return a}var e=a.prototype;e.__onStart=function(a){b.prototype.__onStart.call(this,a),this.$QPLRange1.point(this.fullname()+"_START",{timestamp:a})};e.__onStop=function(a){b.prototype.__onStop.call(this,a),this.$QPLRange1.point(this.fullname()+"_END",{timestamp:a}),h["delete"](this.$QPLRange1,this.fullname())};e.range=function(b){this.fullname().startsWith(d("NestedTimeRange").TIME_RANGE_LEVEL_SEPARATOR)||c("FBLogger")("qpl").warn("Range %s cannot have subrange since root name does not start with /",this.fullname());var e=d("NestedTimeRange").rangeFullName(this.fullname(),b);return(e=h.get(this.$QPLRange1,e))!=null?e:new a(b,this.$QPLRange1,this)};return a}(d("NestedTimeRange").NestedTimeRange),j=new(d("DoubleKeyMap").DoubleKeyMap)(),k=new(d("SimpleHook").SimpleHook)(),l=new(d("SimpleHook").SimpleHook)(),m=new(d("SimpleHook").SimpleHook)(),n=new(d("SimpleHook").SimpleHook)(),o=function(b){babelHelpers.inheritsLoose(a,b);function a(a,c,e,f){var g;c===void 0&&(c=0);e===void 0&&(e=2);f===void 0&&(f=!1);var h=d("QPLEvent").getMarkerId(a);g=b.call(this,"event_"+h)||this;g.event=a;g.instanceKey=c;g.$QPLEvent1=e;g.isUserFlow=f;j.set(h,c,babelHelpers.assertThisInitialized(g));return g}var e=a.prototype;e.action=function(a){this.$QPLEvent1=a;return this};e.getAction=function(){return this.$QPLEvent1};e.setIsUserFlow=function(a){this.isUserFlow=a;return this};e.startFromNavStart=function(){this.start(c("performanceNavigationStart")());return this};e.startFromTime=function(a){this.start(a);return this};e.__onStart=function(a){k.call(this,a)};e.__onStop=function(a){l.call(this,a),h.deleteAll(this),j["delete"](d("QPLEvent").getMarkerId(this.event),this.instanceKey)};e.range=function(a){var b;return(b=h.get(this,a))!=null?b:new i(a,this)};e.point=function(a,b){b===void 0&&(b={});m.call(this,a,b);return this};e.annotate=function(a){n.call(this,a);return this};return a}(d("NestedTimeRange").NestedTimeRange);function a(a,b){var c;b===void 0&&(b=0);return(c=j.get(d("QPLEvent").getMarkerId(a),b))!=null?c:new o(a,b)}g.OnEventStart=k;g.OnEventStop=l;g.OnEventPoint=m;g.OnEventAnnotate=n;g.QPLEvent=o;g.event=a}),98);
__d("WorkerMessagePort",["FBLogger","MainPageUrl","Promise","PromiseAnnotate","QLogEvent","SimpleHook","VirtualMessageChannel","performanceAbsoluteNow","promiseDone","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h=20,i=100,j=50;function k(a){return a}var l=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}return a}(d("SimpleHook").SimpleHook);function m(a,b){a=k(a);a.__timing=b}function n(a){return a.__timing}var o=0;function p(){return d("QLogEvent").event(c("qpl")._(41497718,"106"),o++)}var q=Math.random()<.1;function r(a,b,c){var d;if(b==null||!q)return;var e=b.sendDelayHighPrecision,f=b.sendTimestamp,g=b.sendDateTime,j=b.receiveTimestamp;b=b.receiveDateTime;d=(d=c)!=null?d:p();c==null&&d.startFromTime();var k=d.range("SEND_DELAY");k.start(f);k.stop(j);k=d.range("SEND_DELAY_LOW_PRECISION");k.start(g);k.stop(b);k=Math.abs(f-g);f=Math.abs(j-b);d.annotate({string:{port_name:a},"int":{send_delay:e,send_drift:k,receive_drift:f},bool:{send_delay_above_max:e!=null&&e>h,send_drift_above_max:k>i,receive_drift_above_max:f>i}});c==null&&d.stop()}a=function(){var a=e.prototype;a.onMessageHandler=function(a){try{this.onMessage.call(a);var b=this.$1[a.type];!b?this.onUnhandledMessage.call(a):b.call(a)}catch(a){this.onError.call(a)}};function e(a,b){var d=this;this.$1={};this.onUnhandledMessage=new l();this.onMessage=new l();this.onPostMessage=new l();this.onError=new l();this.$2=a;this.name=b;this.$2.addEventListener("message",function(a){return d.onMessageHandler(k(a.data))});this.$2.addEventListener("error",function(a){return d.onError.call(a)});this.onPostMessage.add(function(a){m(a,{sendTimestamp:c("performanceAbsoluteNow")(),receiveTimestamp:-1,sendDelayHighPrecision:0,sendDateTime:Date.now(),receiveDateTime:-1,sendDelayLowPrecision:0})});this.onMessage.add(function(a){a=n(a);if(a!=null){var b=a.sendTimestamp,e=a.sendDateTime,f=c("performanceAbsoluteNow")(),g=Date.now();a.receiveTimestamp=f;a.receiveDateTime=g;a.sendDelayHighPrecision=f-b;a.sendDelayLowPrecision=g-e;r(d.name,a)}})}a.postMessage=function(a,b){this.onPostMessage.call(a),b?this.$2.postMessage(a,b):this.$2.postMessage(a)};a.addMessageListener=function(a,b){var c=this.$1[a];c||(c=new l(),this.$1[a]=c);return c.add(b)};a.removeMessageListener=function(a,b){a=this.$1[a];return!!a&&a.remove(b)};a.onMessageOnce=function(a,c){var d=this;return new(b("Promise"))(function(b){var e=d.addMessageListener(a,function(f){c(f)&&(d.removeMessageListener(a,e),b(f))})})};a.close=function(){if(this.$2 instanceof MessagePort)this.$2.close();else if(this.$2 instanceof Worker)this.$2.terminate();else if(this.$2 instanceof DedicatedWorkerGlobalScope)this.$2.close();else{var a;(a=(a=this.$2.close)!=null?a:this.$2.terminate)==null?void 0:a.call(this.$2)}};a.isWrappingVirtualMessagePort=function(){return this.$2 instanceof d("VirtualMessageChannel").VirtualMessagePort};return e}();function s(a){return k(a)}e=function(a){babelHelpers.inheritsLoose(e,a);function e(e,f){var g;g=a.call(this,e,f)||this;var h=s(babelHelpers.assertThisInitialized(g));e=h.onMessageOnce("endpoint_started",function(){return!0});f=h.onMessageOnce("endpoint_started_received",function(){return!0});void d("PromiseAnnotate").setDisplayName(e,"endpoint_started");void d("PromiseAnnotate").setDisplayName(f,"endpoint_started_received");h.postMessage({type:"endpoint_started",endpoint:g.name});c("promiseDone")(e,function(a){var b=n(a);h.postMessage({type:"endpoint_started_received",endpoint:a.endpoint,targetEndpoint:g.name,startSendTimestamp:b==null?void 0:b.sendTimestamp});r(g.name,b)});c("promiseDone")(f,function(a){var b=n(a);if(b!=null){var c=p();c.startFromTime();r(g.name,b,c);var d=c.range("ROUND_TRIP");d.start(a.startSendTimestamp);d.stop(b.receiveTimestamp);d=b.receiveTimestamp-a.startSendTimestamp;c.annotate({"int":{round_trip:d},bool:{round_trip_above_max:d>j}}).stop()}});g.fullyConnected=b("Promise").race([e,f]).then(function(){return babelHelpers.assertThisInitialized(g)});return g}return e}(a);g.getMessageTiming=n;g.WorkerMessagePort=a;g.CastWorkerMessagePort=s;g.WorkerSyncedMessagePort=e}),98);
__d("WorkerFuncChannel",["invariant","DateConsts","ExecutionEnvironment","FBLogger","FuncChannel","MainPageUrl","Promise","TimedOnceFunc","VirtualMessageChannel","WorkerMessagePort","err","promiseDone"],(function(a,b,c,d,e,f,g,h){"use strict";var i={serialize:function(a,b){b.push(a);return a},deserialize:function(a){return a}},j=1e4,k=0,l=5,m=l+1,n=function(){function a(a){var b=self.WeakRef;b&&(this.$1=new b(a))}var b=a.prototype;b.isDead=function(){return this.$1!=null&&this.$1.deref()==null};return a}(),o=function(e){babelHelpers.inheritsLoose(a,e);function a(a,b,f,g){var i;f===void 0&&(f=null);g===void 0&&(g={});i=e.call(this,a)||this;i.$WorkerFuncChannel1=new Map();i.$WorkerFuncChannel2=new Map();i.$WorkerFuncChannel5={"function":{serialize:function(a,b){b=m++;i.$WorkerFuncChannel1.set(b,a);a={type:"function",value:b};return a},deserialize:function(a){var b=babelHelpers.assertThisInitialized(i),c=a.value;a=function(){var a={type:"call",id:c,method:"__anonymous",thisArg:null,argList:Array.from(arguments)};return b.callMessageHandler(a)};i.$WorkerFuncChannel2.set(c,new n(a));return a}},custom:{serialize:function(a,b){var c=a.constructor.name,d=i.$WorkerFuncChannel4[c];d!=null||h(0,63779,c);d=d.serialize(a,b);return{type:"custom",custom:c,value:d}},deserialize:function(a){var b=a.custom,c=i.$WorkerFuncChannel4[b];c!=null||h(0,63779,b);return c.deserialize(a.value)}},error:{serialize:function(a,b){b={name:a.name,message:a.message,stack:a.stack};return{type:"error",value:b}},deserialize:function(a){var b=c("err")(a.value.message);b.name=a.value.name;b.stack=a.value.stack;return b}},object:{serialize:function(a,b){b=a.constructor;if(b!==Object)throw new Error("Cannot clone class object");return{type:"object",value:a}},deserialize:function(a){return a.value}},raw:{serialize:function(a,b){return{type:"raw",value:a}},deserialize:function(a){return a.value}}};i.name=b;i.$WorkerFuncChannel3=f;i.$WorkerFuncChannel4=g;a=function(a){d("MainPageUrl").isWorkerLogEnabled()&&c("FBLogger")("adsworker").debug("[Channel] removing callback ids: %s",a.join()),a.forEach(function(a){return i.$WorkerFuncChannel1["delete"](a)})};var l=i.__remoteInternalFunc(k,a);typeof jest===typeof void 0&&c("ExecutionEnvironment").isInBrowser&&setInterval(function(){var a=[];i.$WorkerFuncChannel2.forEach(function(b,c){b.isDead()&&(a.push(c),i.$WorkerFuncChannel2["delete"](c))});a.length>0?l(a):i.$WorkerFuncChannel2.size>5e3&&c("FBLogger")("adsworker").warn("[%s] has too many remaining refs %s",i.name,i.$WorkerFuncChannel2.size)},j);return i}var f=a.prototype;f.__remoteInternalFunc=function(a,b){(a>l||this.$WorkerFuncChannel1.get(a)!=null)&&c("FBLogger")("adsworker").mustfix("invalid internal func id %s",a);this.$WorkerFuncChannel1.set(a,b);b=this.$WorkerFuncChannel5["function"].deserialize({type:"function",value:a});return b};f.$WorkerFuncChannel6=function(a){return a instanceof Int8Array||a instanceof Int16Array||a instanceof Int32Array||a instanceof Uint8Array||a instanceof Uint8ClampedArray||a instanceof Uint16Array||a instanceof Uint32Array||a instanceof Float32Array||a instanceof Float64Array};f.$WorkerFuncChannel7=function(a){if(typeof a==="function")return"function";if(a===null)return"raw";if(typeof a!=="object")return"raw";if(Array.isArray(a))return"raw";if(this.$WorkerFuncChannel6(a))return"raw";var b=a.constructor.name;if(this.$WorkerFuncChannel4[b])return"custom";return a instanceof Error?"error":"object"};f.$WorkerFuncChannel8=function(a,b){var c=this.$WorkerFuncChannel7(a);return this.$WorkerFuncChannel5[c].serialize(a,b)};f.$WorkerFuncChannel9=function(a){var b=a;if(a!==null&&typeof a==="object"&&typeof a.type==="string"){var c=this.$WorkerFuncChannel5[a.type];if(c)return c.deserialize(a)}return b};f.__onPostOutMessage=function(a){return a};f.__callCallback=function(a,b){a.apply(null,b.argList)};f.setOutMessagePort=function(a,d){var e=this,f=[];this.setCallMessageHandler(function(d){d.thisArg=e.name;var g=[];d.argList=d.argList.map(function(a){return e.$WorkerFuncChannel8(a,g)});var h=new(b("Promise"))(function(a,b){d.result={resolveFunc:e.$WorkerFuncChannel8(a,g),rejectFunc:e.$WorkerFuncChannel8(b,g)}}),i=e.__onPostOutMessage(d);i!=null&&(f!=null?f.push({message:d,transferList:g}):a.postMessage(d,g));h["catch"](function(a){c("FBLogger")("worker").catching(a).mustfix("Error: channel %s, remote call of %s returned error %s",e.name,d.method,a.message)});return h});c("promiseDone")(d||v.waitForRemote(this.name),function(){var b=f;f=null;b==null?void 0:b.forEach(function(b){a.postMessage(b.message,b.transferList)});e.$WorkerFuncChannel3==null?void 0:e.$WorkerFuncChannel3()})};f.__messageToCall=function(a){var b=this;a.argList=a.argList.map(function(a){return b.$WorkerFuncChannel9(a)});if(a.result){var d=a.result,e=d.resolveFunc;d=d.rejectFunc;e=this.$WorkerFuncChannel9(e);d=this.$WorkerFuncChannel9(d);a.result={resolveFunc:e,rejectFunc:d}}e=a.id;if(e===void 0)this.messageToCall(a);else{d=this.$WorkerFuncChannel1.get(e);d?this.__callCallback(d,a):c("FBLogger")("adsworker").mustfix("Error: callback is called but no longer available")}};f.setInMessagePort=function(a){var b=this;a.addMessageListener("call",function(a){typeof a.thisArg==="string"&&a.thisArg===b.name&&b.__messageToCall(a)});v.notifyReady(this.name)};f.setMessagePort=function(a){this.setInMessagePort(a);this.setOutMessagePort(a);return this};return a}(c("FuncChannel")),p=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}return a}(d("WorkerMessagePort").WorkerMessagePort);function q(a,b,d,e){v.exportChannel(a,function(e){var f=e.syncPort;e=e.remoteNativePort;var g=b();a===g.name||h(0,54247,a,g.name);var i;e?(i=new p(e,f.name+"("+g.name+")"),e.start(),i.onError.add(function(a){c("FBLogger")("worker").catching(a).mustfix("error caught in remotePort");throw a})):i=f;g.setMessagePort(i).setBackend(d);c("promiseDone")(f.fullyConnected,function(){f.postMessage({type:"channelReady",channelName:g.name}),v.logState("EXPORTED",a)})})}function a(a,b,c,d){d===void 0&&(d={});return q(c,function(){return new o(function(b){return a},c,null,d)},a,b)}var r=function(b){babelHelpers.inheritsLoose(a,b);function a(a,e){e===void 0&&(e="");var f=d("DateConsts").MS_PER_MIN*1;return b.call(this,function(){c("FBLogger")("worker").warn("Channel %s did not establish eventually. %s",a,e)},f)||this}return a}(d("TimedOnceFunc").TimedOnceFunc);function s(a,b){var e,f=null,g,h;b.isWrappingVirtualMessagePort()?(h=new(d("VirtualMessageChannel").VirtualMessageChannel)(!0,!0),e="on virtual dedicated channel"):(h=new MessageChannel(),e="on native dedicated channel",g=[h.port2]);var i=h.port1;f=h.port2;i.start();var j=new p(i,b.name+"("+a.name+")");c("promiseDone")(b.fullyConnected,function(){v.logState("IMPORTING "+e+" ",a.name);a.setInMessagePort(j);var d=new r(a.name,e);c("promiseDone")(b.onMessageOnce("channelReady",function(b){return b.channelName===a.name}),function(b){a.setOutMessagePort(j),d.cancel(),v.logState("ESTABLISHED",a.name)});b.postMessage({type:"channelImport",channelName:a.name,port:f},g)});return a.proxyMethods}function t(a,b,c,d){c===void 0&&(c=null);d===void 0&&(d={});b=new o(function(b){return a},b,c,d);return b}function e(a,b,c,d,e){d===void 0&&(d=null);e===void 0&&(e={});return s(t(a,c,d,e),b)}var u=function(){function a(){this.name=self.name+"_P"+Math.round(10*Math.random()),this.$1=new Map(),this.$2=new Set()}var e=a.prototype;e.logState=function(a,b){d("MainPageUrl").isWorkerLogEnabled()&&c("FBLogger")("worker").debug("%s-%s %s",this.name,a,b)};e.$3=function(a){var b=this.$1.get(a);b==null&&(b={pendingPorts:null,onImportRequest:null},this.$1.set(a,b));return b};e.exportChannel=function(a,b){var d=this,e=this.$3(a);e.onImportRequest!=null&&c("FBLogger")("worker").debug("Re-exporting channel %s",a);e.onImportRequest=b;this.logState("REGISTERED",a);a=e.pendingPorts;if(a!=null){var f=a.filter(function(a){return d.$2.has(a.syncPort)});f.forEach(b);f.length<a.length?e.pendingPorts=a.filter(function(a){return!d.$2.has(a.syncPort)}):e.pendingPorts=null}return e};e.activate=function(a,b,d){var e=this;if(this.$2.has(a)){c("FBLogger")("worker").debug("Port %sis already duplicated ",a.name);return}this.$2.add(a);a.addMessageListener("channelImport",function(b){var c=b.channelName,d=e.$3(c);b={syncPort:a,remoteNativePort:b.port};d.onImportRequest!=null?d.onImportRequest(b):d.pendingPorts!=null?d.pendingPorts.push(b):d.pendingPorts=[b];e.logState("IMPORT REQUEST",c)})};e.notifyReady=function(a){};e.waitForRemote=function(a){return b("Promise").resolve()};return a}(),v=new u();function f(a,b,c){v.activate(a,b,c)}g.TransferableTransformer=i;g.WorkerFuncChannel=o;g.exportChannelOnPort=q;g.exportChannel=a;g.importChannelOnPort=s;g.makeChannel=t;g.importChannel=e;g.activateChannels=f}),98);
__d("WorkerBanzaiLazyQueueChannelClient",["BanzaiLazyQueue","WorkerFuncChannel"],(function(a,b,c,d,e,f,g){"use strict";function a(a){d("WorkerFuncChannel").exportChannel(c("BanzaiLazyQueue"),a,"banzai_lazyqueue_channel")}g.init=a}),98);
__d("WorkerQPLChannel",["WorkerFuncChannel","performanceAbsoluteNow"],(function(a,b,c,d,e,f,g){"use strict";var h=new(d("WorkerFuncChannel").WorkerFuncChannel)(function(a){return{markerStartFromNavStart:null,markerStart:function(b,d,e){e===void 0&&(e=c("performanceAbsoluteNow")());return a.markerStart(b,d,e)},markerAnnotate:function(b,c,d){return a.markerAnnotate(b,c,d)},markerPoint:function(b,d,e){e=(e==null?void 0:e.timestamp)===void 0?babelHelpers["extends"]({},e,{timestamp:c("performanceAbsoluteNow")()}):e;return a.markerPoint(b,d,e)},markerEnd:function(b,d,e,f){f===void 0&&(f=c("performanceAbsoluteNow")());return a.markerEnd(b,d,e,f)}}},"qpl");function a(a){h.setMessagePort(a)}function b(a){h.setBackend(a)}g.setMessagePort=a;g.initQPL=b}),98);
__d("WorkerClient",["WorkerBanzaiLazyQueueChannelClient","WorkerFuncChannel","WorkerQPLChannel"],(function(a,b,c,d,e,f,g){"use strict";function a(a){d("WorkerFuncChannel").activateChannels(a,"client","worker"),d("WorkerBanzaiLazyQueueChannelClient").init(a),d("WorkerQPLChannel").setMessagePort(a),e(["QuickPerformanceLogger"],function(a){return d("WorkerQPLChannel").initQPL(a)})}g.init=a}),98);
__d("ZenonInsertableStreamsMessage",[],(function(a,b,c,d,e,f){"use strict";a=function(a,b,c,d,e,f){this.mediaStreamId=a,this.mediaType=b,this.operation=c,this.readable=d,this.trackId=e,this.writable=f};f["default"]=a}),66);
__d("ZenonInsertableStreamsMessageTransformer",["ZenonInsertableStreamsMessage"],(function(a,b,c,d,e,f,g){"use strict";a={deserialize:function(a){return new(c("ZenonInsertableStreamsMessage"))(a.mediaStreamId,a.mediaType,a.operation,a.readable,a.trackId,a.writable)},serialize:function(a,b){b.push(a.readable);b.push(a.writable);return{mediaStreamId:(b=a.mediaStreamId)!=null?b:void 0,mediaType:(b=a.mediaType)!=null?b:void 0,operation:a.operation,readable:a.readable,trackId:a.trackId,writable:a.writable}}};b=a;g["default"]=b}),98);
__d("ZenonE2eeWasmWorkerClient",["FrameEncryptionWasmTypes","ODS","Promise","WorkerBundleResource","WorkerClient","WorkerFuncChannel","WorkerMessagePort","ZenonE2eeWasmWorkerResource","ZenonInsertableStreamsMessage","ZenonInsertableStreamsMessageTransformer","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h={},i=null,j;h[c("ZenonInsertableStreamsMessage").name]=c("ZenonInsertableStreamsMessageTransformer");var k=function(){function a(){var a=d("WorkerBundleResource").createDedicatedWebWorker(c("ZenonE2eeWasmWorkerResource"),{name:"ZenonE2eeWasmWorker"});this.client=new(d("WorkerMessagePort").WorkerSyncedMessagePort)(a,"ZenonE2eeWasmWorker");j=d("WorkerFuncChannel").importChannel({allowUnencryptedFramesOnDecryptors:null,cacheIdentityKeys:null,calculateSignature:null,createSecureDataMessageManager:null,createSecureSctpManager:null,decryptSctpMessage:null,decryptStateSyncUpdate:null,encryptSctpMessage:null,encryptStateSyncSnapshot:null,encryptStateSyncUpdate:null,freeAllEncryptorsAndDecryptors:null,freeEncryptionKeysManager:null,freeEncryptorAndDecryptorForId:null,freeSecureSctpManager:null,getGroupE2eeMetrics:null,getIdentityStoreShortDescription:null,getSerializedE2eeClientState:null,getTrackStats:null,handleStreamTransform:null,initialize:null,onMediaDataChannelReady:null,processE2eeMessage:null,processE2eeServerUpdate:null,setDecryptionDisabled:null,setDecryptorCodec:null,setEncryptionDisabled:null,setEncryptorCodec:null,setLocalE2eeId:null,updateLocalTrackIdForStats:null,updateSenderKeyIndex:null,verifySignature:null},this.client,"zenon_e2ee_worker_to_main",function(){},h);d("WorkerFuncChannel").exportChannel({logOdsCounter:function(a){d("ODS").bumpEntityKey(4083,"zenon_e2ee",a)},sendGenericDataMessage:function(){}},this.client,"zenon_e2ee_main_to_worker");d("WorkerClient").init(this.client)}var e=a.prototype;e.destroy=function(){this.client.close()};e.transformStream=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){yield j.handleStreamTransform(a)});function c(b){return a.apply(this,arguments)}return c}();e.processE2eeMessage=function(a){return new(b("Promise"))(function(b){return b(j.processE2eeMessage(a))})};e.processE2eeServerUpdate=function(a){return new(b("Promise"))(function(b){return b(j.processE2eeServerUpdate(a))})};e.setEncryptionDisabled=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){yield j.setEncryptionDisabled(a)});function c(b){return a.apply(this,arguments)}return c}();e.setDecryptionDisabled=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){yield j.setDecryptionDisabled(a)});function c(b){return a.apply(this,arguments)}return c}();e.allowUnencryptedFramesOnDecryptors=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield j.allowUnencryptedFramesOnDecryptors()});function c(){return a.apply(this,arguments)}return c}();e.getTrackStats=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield new(b("Promise"))(function(a){return a(j.getTrackStats())}));return new Map(a)});function c(){return a.apply(this,arguments)}return c}();e.setLocalE2eeId=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){yield j.setLocalE2eeId(a)});function c(b){return a.apply(this,arguments)}return c}();e.getSerializedE2eeClientState=function(){return new(b("Promise"))(function(a){return a(j.getSerializedE2eeClientState())})};e.freeEncryptionKeysManager=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield j.freeEncryptionKeysManager()});function c(){return a.apply(this,arguments)}return c}();e.updateSenderKeyIndex=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){yield j.updateSenderKeyIndex(a)});function c(b){return a.apply(this,arguments)}return c}();e.onMediaDataChannelReady=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield j.onMediaDataChannelReady()});function c(){return a.apply(this,arguments)}return c}();e.updateLocalTrackIdForStats=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){yield j.updateLocalTrackIdForStats(a,b)});function c(b,c){return a.apply(this,arguments)}return c}();e.getGroupE2eeMetrics=function(){return new(b("Promise"))(function(a){return a(j.getGroupE2eeMetrics())})};e.createSecureDataMessageManager=function(a,c){return new(b("Promise"))(function(b){return b(j.createSecureDataMessageManager(a,c))}).then(function(a){return new(d("FrameEncryptionWasmTypes").ZenonNonNullWasmPtr)(a)})};e.setDecryptorCodec=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){yield j.setDecryptorCodec(a,b)});function c(b,c){return a.apply(this,arguments)}return c}();e.setEncryptorCodec=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){yield j.setEncryptorCodec(a,b)});function c(b,c){return a.apply(this,arguments)}return c}();e.freeEncryptorAndDecryptorForId=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){yield j.freeEncryptorAndDecryptorForId(a)});function c(b){return a.apply(this,arguments)}return c}();e.freeAllEncryptorsAndDecryptors=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield j.freeAllEncryptorsAndDecryptors()});function c(){return a.apply(this,arguments)}return c}();e.encryptStateSyncSnapshot=function(a,c,d){return new(b("Promise"))(function(b){return b(j.encryptStateSyncSnapshot(a.get(),c,d))})};e.encryptStateSyncUpdate=function(a,c,d){return new(b("Promise"))(function(b){return b(j.encryptStateSyncUpdate(a.get(),c,d))})};e.decryptStateSyncUpdate=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){yield j.decryptStateSyncUpdate(a.get(),b,c)});function c(b,c,d){return a.apply(this,arguments)}return c}();e.createSecureSctpManager=function(a){return new(b("Promise"))(function(b){return b(j.createSecureSctpManager(a))}).then(function(a){return new(d("FrameEncryptionWasmTypes").ZenonNonNullWasmPtr)(a)})};e.freeSecureSctpManager=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){yield j.freeSecureSctpManager(a.get())});function c(b){return a.apply(this,arguments)}return c}();e.encryptSctpMessage=function(a,c){return new(b("Promise"))(function(b){return b(j.encryptSctpMessage(a.get(),c))})};e.initializeE2ee=function(a,c,d,e,f,g){g===void 0&&(g=function(){});return new(b("Promise"))(function(b,h){void j.initialize(a,c,d,e,f,g,function(a,c){return a!=null?h(a):b(c)})})};e.cacheIdentityKeys=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){yield j.cacheIdentityKeys(a)});function c(b){return a.apply(this,arguments)}return c}();e.getIdentityStoreShortDescription=function(){return new(b("Promise"))(function(a){return a(j.getIdentityStoreShortDescription())})};e.decryptSctpMessage=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){yield j.decryptSctpMessage(a.get(),b,c)});function c(b,c,d){return a.apply(this,arguments)}return c}();e.destroyZenonE2eeWasmWorker=function(){if(i==null)return;i.destroy();i=null};return a}();function a(){i==null&&(i=new k());return i}e=a();g["default"]=e}),98);
__d("ZenonMediaTypes",[],(function(a,b,c,d,e,f){"use strict";a={audio:"audio",screen:"screen",screen_audio:"screen_audio",video:"video"};b="audioinput";c="audiooutput";d="videoinput";f.STRING_TO_MEDIA_TYPE=a;f.AUDIO_INPUT_DEVICE_KIND=b;f.AUDIO_OUTPUT_DEVICE_KIND=c;f.VIDEO_INPUT_DEVICE_KIND=d}),66);
__d("ZenonInsertableStreamsManager",["ZenonE2ee","ZenonE2eeWasmWorkerClient","ZenonInsertableStreamsMessage","ZenonMediaTypes","ZenonRTWebBrowserFeatureSupport","asyncToGeneratorRuntime","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h="Insertable Streams not supported in E2ee mandated call";a=function(){function a(){this.$1=c("ZenonE2ee").getSecureFrameManager()}var e=a.prototype;e.setupSenderTransform=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){if(d("ZenonRTWebBrowserFeatureSupport").isInsertableStreamsSupported()&&typeof a.createEncodedStreams==="function"&&a.track!==null&&a.senderStreams==null){var e=a.track.id,f=a.createEncodedStreams();a.senderStreams=f;c("ZenonE2ee").shouldUseE2eeWorker()?yield c("ZenonE2eeWasmWorkerClient").transformStream(new(c("ZenonInsertableStreamsMessage"))(null,b,"encode",f.readable,e,f.writable)):this.$2(e,b,f.readable,f.writable)}else{(a=this.$1)==null?void 0:a.terminateCallIfE2EEMandated(h)}});function e(b,c){return a.apply(this,arguments)}return e}();e.setupReceiverTransform=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){if(d("ZenonRTWebBrowserFeatureSupport").isInsertableStreamsSupported()&&typeof b.createEncodedStreams==="function"&&b.track!==null&&b.receiverStreams==null){var e=b.track.id,f=d("ZenonMediaTypes").STRING_TO_MEDIA_TYPE[b.track.kind],g=b.createEncodedStreams();b.receiverStreams=g;c("ZenonE2ee").shouldUseE2eeWorker()?yield c("ZenonE2eeWasmWorkerClient").transformStream(new(c("ZenonInsertableStreamsMessage"))(a,f,"decode",g.readable,e,g.writable)):this.$3(a,e,f,g.readable,g.writable)}else{(b=this.$1)==null?void 0:b.terminateCallIfE2EEMandated(h)}});function e(b,c){return a.apply(this,arguments)}return e}();e.$2=function(a,b,d,e){var f,g=this;d=d;e=e;(f=this.$1)==null?void 0:f.createEncryptorWithId(a,b);f=new TransformStream({transform:function(b,c){g.$1&&(b.data=g.$1.encrypt(a,b),void c.enqueue(b))}});c("promiseDone")(d.pipeThrough(f).pipeTo(e))};e.$3=function(a,b,d,e,f){var g,h=this;e=e;f=f;(g=this.$1)==null?void 0:g.createDecryptorWithId(b,a,d);g=new TransformStream({transform:function(a,c){if(h.$1){var d=h.$1.decrypt(b,a);a.data=d.data;d.hasError||void c.enqueue(a)}}});c("promiseDone")(e.pipeThrough(g).pipeTo(f))};return a}();g["default"]=a}),98);
__d("ZenonUIConstants",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a="Zenon Stats Overlay";c="Armadillo Stats Overlay";d=.75;e="Spatial Audio";var g="Silent Audio";b=b("$InternalEnum").Mirrored(["AUDIO","VIDEO"]);f.ZENON_STATS_OVERLAY=a;f.ARMADILLO_STATS_OVERLAY=c;f.ZENON_FLYOUT_DIALOG_HEIGHT_PERCENTAGE=d;f.ZENON_SPATIAL_AUDIO=e;f.ZENON_SILENT_AUDIO=g;f.IncomingCallDialogTypes=b}),66);
__d("ZenonMediaUtils",["ZenonImmutableMediaTrack","ZenonUIConstants"],(function(a,b,c,d,e,f,g){"use strict";var h={convertToZenonImmutableMediaTrack:function(a,b,d,e){var f=b.contentHint,g=b.isRemote,i=b.isUserMuted,j=b.stream;b=b.trackType;j=(j=j)!=null?j:h.createStreamWithTrack(a);b=(b=b)!=null?b:a.kind==="audio"?"audio":"video";return new(c("ZenonImmutableMediaTrack"))({contentHint:(f=(f=f)!=null?f:a.contentHint)!=null?f:"",contentType:b,displaySurface:a.getSettings().displaySurface,enabled:a.enabled,label:a.label,name:(f=e)!=null?f:"",remote:g,trackId:(b=d)!=null?b:a.id,userMuted:i,webrtcStream:j,webrtcTrack:a})},createSilentTrack:function(){var a=new(window.AudioContext||window.webkitAudioContext)(),b=a.createBuffer(1,a.sampleRate*5,a.sampleRate),c=a.createBufferSource();c.buffer=b;c.loop=!0;b=a.createMediaStreamDestination();c.connect(b);c.start();a=Object.assign(b.stream.getAudioTracks()[0],{enabled:!1});return h.convertToZenonImmutableMediaTrack(a,{isRemote:!1,isUserMuted:!0,stream:b.stream,trackType:"audio"}).merge({label:d("ZenonUIConstants").ZENON_SILENT_AUDIO})},createStreamWithTrack:function(a){var b=new MediaStream();b.addTrack(a);return b}};a=h;g["default"]=a}),98);
__d("ZenonRTCVideoResolutionHelper",["Promise","gkx","promiseDone","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h=!1,i=10;a=function(){function a(){}a.getMaxParticipants180=function(){return 100};a.getMaxParticipants360=function(){return 100};a.getMaxParticipants720=function(){return 2};a.shouldUseSupportedScaleFactorList=function(){return!1};a.shouldUseConservativeWayWhenSearchingForScalingRatio=function(){return!1};a.encoderScalingEnabled=function(){return c("gkx")("1808893")};a.bitrateCappingEnabled=function(){return!0};a.getMaxBitrate720=function(){return 3e6};a.getMaxBitrate360=function(){return 1e6};a.getMaxBitrate180=function(){return 3e5};a.getMaxBitrateForResolution=function(b){if(!a.bitrateCappingEnabled())return 0;if(b===180)return a.getMaxBitrate180();if(b===360)return a.getMaxBitrate360();return b===720?a.getMaxBitrate720():0};a.getMaxEncResolution=function(b){if(!a.encoderScalingEnabled())return null;var c=a.getMaxParticipants720(),d=a.getMaxParticipants360(),e=a.getMaxParticipants180(),f={height:720,width:1280},g={height:360,width:640},h={height:180,width:320};if(c>0&&b<=c)return f;if(d>0&&b<=d)return g;if(e>0&&b<=e)return h;if(e>0)return h;if(d>0)return g;return c>0?f:null};a.getMaxEncResolutionSimulcast=function(b,d,e,f){var g={height:720,width:1280},h={height:360,width:640},i={height:180,width:320};if(d<=e&&e<=2&&d>=0&&d<f){if(f===1)return a.getMaxEncResolution(b);if(f===2)if(d===0)return i;else return b>2?h:g;if(f===3)if(d===0)return i;else if(d===1)return h;else if(d===2)return g}c("recoverableViolation")("Unsupported simulcast parameters passed to getMaxEncResolutionSimulcast","rtc_www");return null};a.getScalingFactor=function(b,c,d,e,f){f===void 0&&(f=!1);if(b.width==null||b.width<=0||b.height==null||b.height<=0||c.width==null||c.width<=0||c.height==null||c.height<=0)return null;var g=c.width;c=c.height;var h=b.width;b=b.height;if(f){f=[1,2,4];var i=Math.sqrt(g*c/(h*b));if(i<1+e)return 1;var j=1,k=Number.MAX_VALUE;for(var l=0;l<f.length;l++){var m=f[l],n=Math.abs(m-i);(a.shouldUseConservativeWayWhenSearchingForScalingRatio()?n<k:n<=k)&&Math.floor(g/m)%2===0&&Math.floor(c/m)%2===0&&(j=m,k=Math.abs(m-i))}return j}else{n=Math.sqrt(g*c/(h*b));if(n<1+e)return 1;return d?Math.floor(n+e):n}};a.maybeLimitEncodingResolutionByParticipantCountHelper=function(b,c,d,e,f,g){g===void 0&&(g=!1);if(!a.encoderScalingEnabled()||f)return;if(d!=null&&d.length>0){f=d.filter(function(a){var b;return((b=a.receiver.track)==null?void 0:b.kind)==="video"&&a.currentDirection!=="inactive"&&((b=a.receiver.track)==null?void 0:b.readyState)==="live"});d=f.length;g&&(d-=1)}else{f=c.filter(function(a){return((a=a.track)==null?void 0:a.kind)==="video"});g=f.length;d=g+1}c=a.getMaxEncResolution(d);if(!c)return;f=[c];a.maybeLimitEncodingResolution(b,f,h,i/100,e,a.shouldUseSupportedScaleFactorList())};a.maybeLimitEncodingResolution=function(d,e,f,g,h,i){i===void 0&&(i=!1);d=d.filter(function(a){return((a=a.track)==null?void 0:a.kind)==="video"});if(d.length>0){var j;d=d[0];var k=d.getParameters==null?void 0:d.getParameters();j=(j=d.track)==null?void 0:j.getSettings();if(j==null||k==null||k.encodings==null||e.length!==k.encodings.length)return;for(var e=e.entries(),l=Array.isArray(e),m=0,e=l?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var n;if(l){if(m>=e.length)break;n=e[m++]}else{m=e.next();if(m.done)break;n=m.value}n=n;var o=n[0];n=n[1];var p=h?1:a.getScalingFactor(n,{height:j.height,width:j.width},f,g,i);if(p==null)continue;p===1?delete k.encodings[o].scaleResolutionDownBy:k.encodings[o].scaleResolutionDownBy=p;if(!h&&n.width!=null&&n.height!=null){p=Math.min(n.width,n.height);n=a.getMaxBitrateForResolution(p);n>0&&(k.encodings[o].maxBitrate=n)}else h&&delete k.encodings[o].maxBitrate}c("promiseDone")((p=d.setParameters==null?void 0:d.setParameters(k))!=null?p:b("Promise").resolve())}};a.maybeLimitEncodingResolutionByParticipantCount=function(b,c,d,e,f){f===void 0&&(f=!1);return a.maybeLimitEncodingResolutionByParticipantCountHelper(b,c,d,a.$1>0,e,f)};a.handleStartScreenSharing=function(b,c,d,e){a.$1++;return a.maybeLimitEncodingResolutionByParticipantCountHelper(b,c,d,a.$1>0,e)};a.handleStopScreenSharing=function(b,c,d,e){a.$1--;return a.maybeLimitEncodingResolutionByParticipantCountHelper(b,c,d,a.$1>0,e)};return a}();a.$1=0;g["default"]=a}),98);
__d("ZenonSimulcastManager",["ZenonRTCVideoResolutionHelper"],(function(a,b,c,d,e,f,g){"use strict";var h=25e5,i=25e6,j=15,k=15e4,l=3e4,m=180*320,n=90*160;e=!1;f=0;var o=3,p=3;function a(a,b,c,d,e,f,g,k,l){e===void 0&&(e=!1);f===void 0&&(f=2);g===void 0&&(g={height:720,width:1280});k===void 0&&(k=!0);l===void 0&&(l=0);d=q(b.perSsrcTargetBitrateBpsMap,d);var m=0,n=[],o=[];for(var p=0;p<a.encodings.length;p++)if(t(p,b.qualityMask)){m++;var s=d.get(p);s!=null?o.push(s):o.push(h);if(m>=f)break}while(m<l)m++,o.push(h);for(s=0;s<m;s++)n.push(r(s,o[s],a.encodings.length-1,c,m,g,e));for(p=0;p<a.encodings.length;p++)p<m?(a.encodings[p].active=!0,a.encodings[p].scaleResolutionDownBy=n[p],m===1?(a.encodings[p].maxBitrate=h,delete a.encodings[p].maxFramerate):(a.encodings[p].maxBitrate=o[p],p===0&&(a.encodings[p].maxFramerate=j))):(a.encodings[p].active=!1,a.encodings[p].maxBitrate=i);e&&!k&&u(a);return{params:a}}function b(a){for(var b=0;b<a.encodings.length;b++)b===0?(a.encodings[b].active=!0,a.encodings[b].scaleResolutionDownBy=1,a.encodings[b].maxBitrate=h):(a.encodings[b].active=!1,a.encodings[b].maxBitrate=i);return a}function q(a,b){var c=new Map();if(a==null||b==null)return c;for(var b=b,d=Array.isArray(b),e=0,b=d?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=b.length)break;f=b[e++]}else{e=b.next();if(e.done)break;f=e.value}f=f;var g=f[0];f=f[1];g=a.get(g);g!=null&&c.set(f,g)}return c}function r(a,b,d,e,f,g,h){g===void 0&&(g={height:720,width:1280});h===void 0&&(h=!1);if(h)return 1;h=c("ZenonRTCVideoResolutionHelper").getMaxEncResolutionSimulcast(e,a,d,f);if(!h)return 1;h=s(a,b,h,f);return(e=c("ZenonRTCVideoResolutionHelper").getScalingFactor(h,g,!0,0,c("ZenonRTCVideoResolutionHelper").shouldUseSupportedScaleFactorList()))!=null?e:1}function s(a,b,c,d){if(d>=2&&a===0){d=c.height!=null&&c.width!=null&&c.height*c.width>n;if(d&&b<l)return{height:90,width:160};a=c.height!=null&&c.width!=null&&c.height*c.width>m;if(a&&b<k)return{height:180,width:320}}return c}function t(a,b){return(1<<a&b)!==0}function u(a){for(var b=1;b<a.encodings.length;b++)a.encodings[b].active=!1,a.encodings[b].maxBitrate=i}function d(a){var b=new Map(),c="\r\n";a=a.split(c).filter(function(a){return a.startsWith("a=ssrc-group:SIM")});if(a.length===0)return b;c=a[0].split(" ").slice(1);for(a=0;a<c.length;a++)b.set(c[a],a);return b}g.ALLOW_SCREENSHARE_SIMULCAST=e;g.MIN_NUM_ACTIVE_LAYERS=f;g.MAX_NUM_ACTIVE_LAYERS=o;g.NUM_LAYERS=p;g.getSimulcastEncodingParameters=a;g.getSimulcastSingleLayerParameters=b;g.getSimulcastLayerToTargetBitrateMap=q;g.getSimulcastSsrcToLayerMap=d}),98);
__d("ZenonVideoDurationTracker",["performanceNow"],(function(a,b,c,d,e,f,g){"use strict";function h(a){a.startedAt==null&&(a.startedAt=c("performanceNow")())}function i(a){a.startedAt!=null&&(a.duration=k(a),a.startedAt=null)}function j(a,b){b=b.filter(function(a){return a.enabled&&a.webrtcTrack.readyState!=="ended"});b.length>0?h(a):i(a)}function k(a){var b=a.startedAt;return b!=null?a.duration+c("performanceNow")()-b:a.duration}a=function(){function a(){this.$1={localScreenShareDuration:{duration:0,startedAt:null},localVideoBlurDuration:{duration:0,startedAt:null},localVideoDuration:{duration:0,startedAt:null},remoteScreenShareDuration:{duration:0,startedAt:null},remoteVideoDuration:{duration:0,startedAt:null}}}var b=a.prototype;b.getLocalVideoDuration=function(){return k(this.$1.localVideoDuration)};b.getLocalVideoBlurDuration=function(){return k(this.$1.localVideoBlurDuration)};b.getLocalScreenShareDuration=function(){return k(this.$1.localScreenShareDuration)};b.getRemoteScreenShareDuration=function(){return k(this.$1.remoteScreenShareDuration)};b.getRemoteVideoDuration=function(){return k(this.$1.remoteVideoDuration)};b.update=function(a){var b=this.$1.localVideoDuration,c=Array.from(a.values()).filter(function(a){var b=a.contentType==="video"||a.contentType==="screen";return b&&!a.remote});j(b,c);b=this.$1.localVideoBlurDuration;c=Array.from(a.values()).filter(function(a){var b=a.contentType==="video",c="canvas"in a.webrtcTrack;return b&&c&&!a.remote});j(b,c);b=this.$1.localScreenShareDuration;c=Array.from(a.values()).filter(function(a){var b=a.contentType==="screen";return b&&!a.remote});j(b,c);b=this.$1.remoteVideoDuration;c=Array.from(a.values()).filter(function(a){var b=a.contentType==="video"||a.contentType==="screen";return b&&a.remote});j(b,c);b=this.$1.remoteScreenShareDuration;c=Array.from(a.values()).filter(function(a){var b=a.contentType==="screen";return b&&a.remote});j(b,c)};return a}();g["default"]=a}),98);
__d("RefCountedAudioContextSingleton",["ZenonDebugLogger","emptyFunction","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h=window.AudioContext||window.webkitAudioContext||window.mozAudioContext,i=null,j=new Set(),k=0;function a(){if(c("gkx")("3330"))return{audioContext:null,destroy:c("emptyFunction")};(i===null||i.state==="closed")&&(i=new h());var a=k++;j.add(a);return{audioContext:i,destroy:function(){j["delete"](a),i!==null&&j.size<1&&(i.state!=="closed"&&i.close(),i=null)}}}g.get=a}),98);
__d("ZenonNoiseSuppressionAudioWorkletNode",["FBLogger","NoiseSuppressionConfig","RefCountedAudioContextSingleton","asyncToGeneratorRuntime","expectationViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i=!1;e=null;var j=null;function a(a){if(h==null){if(!a)return;c("expectationViolation")("Unable to toggle Noise Suppression. Make sure you initialize the AudioWorkletNode first by calling getNoiseSuppressionNodeInstance");return}if(i&&a){c("FBLogger")("rtc_www").mustfix("Failed to enable noise suppression node because it is permanently disabled");return}h.port.postMessage({enabledByUser:a});a===!1&&(j==null?void 0:j(),e=null,j=null,h=null)}function k(){return h!=null}function f(a,b){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){if(i){c("FBLogger")("rtc_www").mustfix("Failed to get noise suppression node because it is permanently disabled");return a}if(!k()){var f=d("RefCountedAudioContextSingleton").get();e=f.audioContext;j=f.destroy;if(e==null)return a;yield e.audioWorklet.addModule(c("NoiseSuppressionConfig").module_url);h=new AudioWorkletNode(e,"noise-suppression");h.onprocessorerror=function(a){i=!0,c("FBLogger")("rtc_www").mustfix("Noise suppression node failed with error",a.message),c("FBLogger")("rtc_www").catching(a),b(h)}}a.connect(h);return h});return l.apply(this,arguments)}g.toggleNoiseSuppressionNode=a;g.isNoiseSuppressionNodeInitialized=k;g.connectNoiseSuppressionNode=f}),98);
__d("ZenonWebAudioManager",["FBLogger","RefCountedAudioContextSingleton","ZenonMediaActionLogger","ZenonMediaLoggingUtils","ZenonNoiseSuppressionAudioWorkletNode","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){this.$1=null,this.$2=null}var e=a.prototype;e.setupProcessedTrack=function(a,b){if(a.label==="MediaStreamAudioDestinationNode")return a;if(this.$3(b)!==!0){d("ZenonNoiseSuppressionAudioWorkletNode").toggleNoiseSuppressionNode(b.wasmNoiseSuppression===!0);this.$4();return a}if(b.wasmNoiseSuppression!=null)return a;if(!this.$1){this.$1=this.$5();if(this.$1==null)return a}var e=this.$1,f=e.createMediaStreamSource(a.webrtcStream);e=e.createMediaStreamDestination();f.connect(e);this.connectFeatureNodesToSink(b,f,e);if(e.stream.getAudioTracks().length<=0){c("FBLogger")("rtc_www").warn("Web Audio destinationNode did not contain a media track");this.$4();return a}b=e.stream.getAudioTracks()[0];f=c("ZenonMediaLoggingUtils").serializeMediaStreamTrack(b);var g=c("ZenonMediaLoggingUtils").serializeMediaStreamTrack(a.webrtcTrack);c("ZenonMediaActionLogger").logEvent({checkpoint:"Returning processedTrack: "+f+", sourceTrack: "+g});return a.merge({label:"MediaStreamAudioDestinationNode",trackId:b.id,webrtcStream:e.stream,webrtcTrack:b})};e.$3=function(a){return Object.values(a).some(function(a){return a})};e.buildFeatureNodes=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){b=(yield d("ZenonNoiseSuppressionAudioWorkletNode").connectNoiseSuppressionNode(b,c));d("ZenonNoiseSuppressionAudioWorkletNode").toggleNoiseSuppressionNode(a.wasmNoiseSuppression===!0);return b});function c(b,c,d){return a.apply(this,arguments)}return c}();e.connectFeatureNodesToSink=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,d){a=(yield this.buildFeatureNodes(a,b,function(a){c("FBLogger")("rtc_www").mustfix("Web Audio pipeline reset due to processor error. One or more AudioWorkletNode might be failing"),a.disconnect(d),b.connect(d)}));b.disconnect(d);a.connect(d)});function d(b,c,d){return a.apply(this,arguments)}return d}();e.$5=function(){var a=d("RefCountedAudioContextSingleton").get(),b=a.audioContext;a=a.destroy;this.$1=b;this.$2=a;return b};e.$4=function(){this.$2==null?void 0:this.$2(),this.$1=null,this.$2=null};return a}();g["default"]=a}),98);
__d("ZenonMediaChannelManager",["FBLogger","Promise","ZenonBrowsers","ZenonE2ee","ZenonE2eeWasmWorkerClient","ZenonImmutableMediaTrack","ZenonInsertableStreamsManager","ZenonMediaActionLogger","ZenonMediaStatsManager","ZenonMediaUtils","ZenonRTCVideoResolutionHelper","ZenonScreenShare","ZenonSimulcastManager","ZenonVideoDurationTracker","ZenonWebAudioManager","asyncToGeneratorRuntime","err","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h="negotiationOffStreamId",i="MediaChannelManager";a=function(){function a(a){var b=this;this.$1=null;this.$14=!1;this.$2=a.peerConnection;this.$5=new Map();this.$10=new Map();this.$11=new Map();this.$16=new Map();this.$8=[];this.$7=new(c("ZenonVideoDurationTracker"))();this.$6=new(c("ZenonMediaStatsManager"))({areTslogsEnabled:a.areTslogsEnabled,isE2eeMandated:a.isE2eeMandated,mediaStats:a.mediaStats,onFirstMediaPacket:a.onFirstMediaPacket,onMediaStatUpdate:a.onMediaStatUpdate,peerConnection:this.$2,tracks:this.$5,trackToSenderMap:this.$16,videoDurationTracker:this.$7});this.$15=new(c("ZenonWebAudioManager"))();this.$6.listen();this.$2.addEventListener("track",function(a){void b.transformReceiverFromEvent(a),b.addRemoteTrackFromEvent(a),b.$17(),c("promiseDone")(b.$18())});this.$2.addEventListener("signalingstatechange",function(){c("promiseDone")(b.$18()),b.$19(),b.getCodecFromEvent()});this.$2.addEventListener("removestream",function(){b.$17(!0)});this.$12=!0;this.$13=new Map();c("ZenonE2ee").isE2eeStackReady()&&(this.$3=c("ZenonE2ee").getSecureFrameManager(),this.$4=c("ZenonE2ee").getEncryptionKeysManager(),this.$1=new(c("ZenonInsertableStreamsManager"))())}var e=a.prototype;e.onLocalSdpSet=function(a){var b;(b=this.$4)==null?void 0:b.onLocalSdpSet(a)};e.stopStatsPolling=function(){var a;this.$6.stopPolling();(a=this.$4)==null?void 0:a.stopStatsPoll()};e.getTracks=function(){return this.$5};e.clearTracks=function(){this.$5.clear(),this.$16.clear(),this.$19()};e.$17=function(a){a===void 0&&(a=!1),c("ZenonRTCVideoResolutionHelper").maybeLimitEncodingResolutionByParticipantCount(this.$2.getSenders(),this.$2.getReceivers(),this.$2.getTransceivers(),this.$2.supportsSimulcast(),a)};e.removeMissingTracks=function(a){var b=this;this.$5.forEach(function(c,d){c.remote&&a.find(function(a){return a===d})==null&&b.removeTrack(d)})};e.updateTrackInfo_DEPRECATED=function(a){var b=this.$5.get(a.trackID);if(b==null){this.$13.set(a.trackID,a);return}b=this.$20(b,a);this.$5.set(a.trackID,b);this.$19()};e.updateTrackInfos=function(a){var b=this;a.tracks.forEach(function(a){var c=a.trackID;if(c==="data"||c==="stream_label")return;var d=b.$5.get(c);if(d==null){b.$13.set(c,a);return}d=b.$20(d,a);b.$5.set(c,d)});this.$19()};e.updateMuteStates=function(a){var b=this;a.tracks.forEach(function(a){var c=a.enabled;a=a.trackID;c?b.unmuteTrack(a,!1):b.muteTrack(a,!1)});this.$19()};e.$20=function(a,b){if(a.contentType==="audio"&&b.type!=="screen_audio"||d("ZenonScreenShare").screenShareWithReplaceTrack())return a;var e=a.webrtcStream,f=e.getVideoTracks().length>1;b.type==="screen"&&f&&(e=c("ZenonMediaUtils").createStreamWithTrack(a.webrtcTrack),a.webrtcStream.removeTrack(a.webrtcTrack));return new(c("ZenonImmutableMediaTrack"))({contentHint:a.contentHint,contentType:(f=b.type)!=null?f:a.contentType,enabled:a.enabled,label:a.label,remote:a.remote,trackId:b.trackID,webrtcStream:e,webrtcTrack:a.webrtcTrack})};e.getLocalTracksForMWS=function(){var a=this,b=new Map(),c=this.$2.getTransceivers();this.$5.forEach(function(d,e){if(!d.remote){var f,g=(f=(f=a.$16.get(e))==null?void 0:f.trackId)!=null?f:e;f=(f=(f=c.find(function(a){return((a=a.sender.track)==null?void 0:a.id)===g}))==null?void 0:f.mid)!=null?f:null;var h=(f=a.$2.getLocalMWTrackId(f))!=null?f:e;f=d.update("trackId",function(){return h});b.set(h,f)}});return b};e.addTrack=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a.contentType==="video"&&a.remote===!1&&(this.$9=a),yield this.$21(a,b),this.$19()});function c(b,c){return a.apply(this,arguments)}return c}();e.transformSender=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){if(this.$1==null)return;yield this.$1.setupSenderTransform(a,b)});function c(b,c){return a.apply(this,arguments)}return c}();e.transformReceiverFromEvent=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.receiver,d=this.$2.getCnameFromTrackId(a.track.id);if(this.$1==null)return;d==null&&c("ZenonMediaActionLogger").logCheckpoint("Failed to find Cname for the remote track: "+a.track.id);yield (a=this.$1)==null?void 0:a.setupReceiverTransform((a=d)!=null?a:h,b)});function d(b){return a.apply(this,arguments)}return d}();e.addReceiveOnlyVideoTransceiverIfMissing=function(){this.$22("video","recvonly")};e.addAudioTrackOrRecvOnlyTransceiverIfMissing=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=0;this.$5.forEach(function(a,c){a.remote||b++});if(b===0){var d=c("ZenonMediaUtils").createSilentTrack();yield this.addTrack(d,a)}else this.addReceiveOnlyAudioTransceiverIfMissing()});function d(b){return a.apply(this,arguments)}return d}();e.addReceiveOnlyAudioTransceiverIfMissing=function(){this.$22("audio","recvonly")};e.$22=function(a,b){var c=!1;this.$5.forEach(function(b,d){if(b.contentType===a||a==="video"&&b.contentType==="screen"){c=!0;return}});if(c)return;this.$2.addTransceiver(a,{direction:b})};e.addReceiveOnlyVideoTransceiverIfNeeded=function(a,b){this.$23("video","recvonly",a,b)};e.addInactiveAudioTransceiverIfNeeded=function(){this.$23("audio","inactive")};e.$23=function(a,b,c,e){var f=!1;this.$5.forEach(function(b,c){if(b.contentType===a){f=!0;return}});if(f||d("ZenonBrowsers").noTransceiverForNegotiations()&&e!==!0&&c==="p2p")return;this.$2.addTransceiver(a,{direction:b})};e.removeTrack=function(a){var b=this.$5.get(a);if(b==null)return;this.$24(b);this.$19();if(c("ZenonE2ee").shouldUseE2eeWorker())void c("ZenonE2eeWasmWorkerClient").freeEncryptorAndDecryptorForId(a);else{(b=this.$3)==null?void 0:b.freeEncryptorAndDecryptorForId(a)}};e.replaceTrack=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e){e===void 0&&(e=!1);var f=this.$5.get(a);if(f==null)return;if(d("ZenonScreenShare").isScreenSharingTrack([f])&&!d("ZenonScreenShare").isScreenSharingTrack([b])&&this.$9!=null){yield this.$25(f,this.$9);if(this.$12){var g;this.unmuteTrack((g=(g=this.$9)==null?void 0:g.trackId)!=null?g:"")}else{this.muteTrack((g=(g=this.$9)==null?void 0:g.trackId)!=null?g:"")}c("ZenonRTCVideoResolutionHelper").handleStopScreenSharing(this.$2.getSenders(),this.$2.getReceivers(),this.$2.getTransceivers(),this.$2.supportsSimulcast());f.webrtcTrack.stop();f.webrtcTrack.readyState!=="ended"&&c("ZenonMediaActionLogger").logErrorToFbLogger("ZenonMediaChannelManager: Stopping trackToReplace failed: "+f.label,i,c("err")("Stopping trackToReplace failed: "+f.label),"warn")}else if(b!=null&&d("ZenonScreenShare").isScreenSharingTrack([b])&&a===((g=this.$9)==null?void 0:g.trackId)&&this.$9!=null)this.$12=this.$9.enabled&&this.$9.webrtcTrack.enabled,yield this.$25(this.$9,b),this.unmuteTrack(b.trackId),c("ZenonRTCVideoResolutionHelper").handleStartScreenSharing(this.$2.getSenders(),this.$2.getReceivers(),this.$2.getTransceivers(),this.$2.supportsSimulcast());else if(b!=null){(this.$9==null&&b.contentType==="video"||((g=this.$9)==null?void 0:g.trackId)===a)&&(this.$9=b);yield this.$25(f,b);f.trackId!==b.trackId&&!e&&(f.webrtcTrack.stop(),f.webrtcTrack.readyState!=="ended"&&c("ZenonMediaActionLogger").logErrorToFbLogger("ZenonMediaChannelManager: Stopping trackToReplace failed: "+f.label,i,c("err")("Stopping trackToReplace failed: "+f.label),"warn"))}this.$17();this.$19()});function e(b,c,d){return a.apply(this,arguments)}return e}();e.addRemoteTrackFromEvent=function(a){var b=a.transceiver;b=this.$2.getRemoteMWTrackId(b.mid);a=c("ZenonMediaUtils").convertToZenonImmutableMediaTrack(a.track,{isRemote:!0,isUserMuted:!1,stream:a.streams?a.streams[0]:null},b);b=this.$13.get(a.trackId);b!=null&&(a=this.$20(a,b),this.$13["delete"](a.trackId));b=this.$10.get(a.trackId);b!=null&&(a.contentType!=="audio"&&(a.webrtcTrack.enabled=b.enabled,a=a.set("enabled",b.enabled)),a=a.set("userMuted",b.userMuted),this.$10["delete"](a.trackId));this.$5=this.$5.set(a.trackId,a);this.$19();this.$6.onRemoteTrackAdded(a)};e.createDataChannel=function(a,b,c,d,e){this.$2.createDataChannel(a,b,c,d,e)};e.muteTrack=function(a,b){b===void 0&&(b=!0),this.$26(a,!0,b)};e.$26=function(a,b,c){var d=this.$5.get(a),e=d===this.$9;if(d==null){this.$10.set(a,{enabled:!b,userMuted:b});return}a=d;d.userMuted!==b&&(a=a.set("userMuted",b));var f=Boolean((d==null?void 0:d.remote)&&d.contentType==="audio");(!f&&b?!(!a.enabled&&!a.webrtcTrack.enabled):!(a.enabled&&a.webrtcTrack.enabled))&&(a.webrtcTrack.enabled=!b,a=a.set("enabled",!b));e&&(this.$9=a);d!==a&&(this.$5=this.$5.set(a.trackId,a),c&&this.$19())};e.unmuteTrack=function(a,b){b===void 0&&(b=!0),this.$26(a,!1,b)};e.forceEncodingEnabled=function(a){if(a===this.$14)return b("Promise").resolve();this.$14=a;return this.$18()};e.getSdpFormat=function(){return this.$2.getSdpFormat()};e.setSimulcastSingleLayerParams=function(){if(this.$2.supportsSimulcast()&&!this.$2.getSimulcastInitialized()){var a=this.$2.getSenders().filter(function(a){return a.track&&a.track.kind==="video"});if(a.length!==0){a=a[0];if("getParameters"in a&&"setParameters"in a){var b=d("ZenonSimulcastManager").getSimulcastSingleLayerParameters(a.getParameters());if(this.$27(a))return;c("promiseDone")(a.setParameters(b));this.$2.setSimulcastInitialized(!0)}}}};e.stopLocalTracks=function(){this.$5.forEach(function(a){a.remote===!1&&(c("ZenonMediaActionLogger").logCheckpoint("stopping track: "+a.label),a.webrtcTrack.stop(),a.webrtcTrack.readyState!=="ended"&&c("ZenonMediaActionLogger").logErrorToFbLogger("ZenonMediaChannelManager: Stopping track failed: "+a.label,i,c("err")("Stopping track failed: "+a.label),"warn"))});if(this.$9!=null&&!this.$5.has(this.$9.trackId)){var a;c("ZenonMediaActionLogger").logCheckpoint("stopping local video track: "+((a=(a=this.$9)==null?void 0:a.label)!=null?a:""));(a=this.$9)==null?void 0:a.webrtcTrack.stop();this.$9&&this.$9.webrtcTrack.readyState!=="ended"&&c("ZenonMediaActionLogger").logErrorToFbLogger("ZenonMediaChannelManager: Stopping local video track failed: "+this.$9.label,i,c("err")("Stopping local video track failed: "+this.$9.label),"warn")}this.$19();if(c("ZenonE2ee").shouldUseE2eeWorker())void c("ZenonE2eeWasmWorkerClient").freeAllEncryptorsAndDecryptors();else{(a=this.$3)==null?void 0:a.freeAllEncryptorsAndDecryptors()}};e.stopLocalTrack=function(a){a=this.$5.get(a);if(a==null)return;if(a.remote)return;a.webrtcTrack.stop();a.webrtcTrack.readyState!=="ended"&&c("ZenonMediaActionLogger").logErrorToFbLogger("ZenonMediaChannelManager: Stopping local track failed: "+a.label,i,c("err")("Stopping local track failed: "+a.label),"warn")};e.setNetworkStatusListener=function(a){this.$6.setNetworkStatusListener(a)};e.registerTrackListener=function(a){this.$8.push(a)};e.setTrackListenersFromManager=function(a){this.$8=a.$8};e.timeSeries=function(){return this.$6.timeSeries()};e.resetTimeSeries=function(){this.$6.resetTimeSeries()};e.$21=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var c=a;if(a.contentType==="audio"){var d;c=this.$15.setupProcessedTrack(a,{wasmNoiseSuppression:(d=(d=a.flags)==null?void 0:d.wasmNoiseSuppression)!=null?d:!1})}this.$11.set(a.trackId,c.trackId);this.$16.set(a.trackId,c);d=(yield this.$28(c,b));yield this.transformSender(d,c.contentType);this.$5=this.$5.set(a.trackId,a)});function c(b,c){return a.apply(this,arguments)}return c}();e.$28=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){if(b==="p2p"){b=this.$2.getTransceivers().find(function(b){var c=b.sender.track,d=b.receiver.track;if(b.currentDirection==="inactive")return!1;if(c!==null&&d==null&&c.kind===a.contentType&&a.remote)return!0;else if(d!==null&&c==null&&d.kind===a.contentType&&a.remote===!1)return!0;return!1});if(b!=null){b.direction="sendrecv";yield b.sender.replaceTrack(a.webrtcTrack);return b.sender}return this.$2.addTrack(a.webrtcTrack,a.webrtcStream)}return this.$2.addTransceiver(a.webrtcTrack,{direction:"sendonly",streams:[a.webrtcStream]}).sender});function c(b,c){return a.apply(this,arguments)}return c}();e.$24=function(a){this.$5["delete"](a.trackId),this.$16["delete"](a.trackId),a.remote||(this.$2.removeTrack(a.webrtcTrack),a.webrtcTrack.stop())};e.$25=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var d,e=(d=this.$16.get(a.trackId))!=null?d:a;d=this.$2.getSenders().find(function(b){var c;return((c=b.track)==null?void 0:c.id)===a.webrtcTrack.id||e.trackId===((c=b.track)==null?void 0:c.id)});if(d===void 0)throw c("err")("track to be replaced is not found");var f=this.$11.get(a.trackId);f!=null?this.$11["delete"](a.trackId):f=a.trackId;this.$16["delete"](a.trackId);var g=b;if(g.contentType==="audio"){var h;g=this.$15.setupProcessedTrack(b,{wasmNoiseSuppression:(h=(h=g.flags)==null?void 0:h.wasmNoiseSuppression)!=null?h:!1})}yield d.replaceTrack(g.webrtcTrack);this.$11.set(b.trackId,f);this.$16.set(b.trackId,g);this.$5["delete"](a.trackId);this.$5.set(b.trackId,b);(h=this.$3)==null?void 0:h.updateLocalTrackIdForStats(f,b.trackId)});function d(b,c){return a.apply(this,arguments)}return d}();e.$19=function(){this.$7.update(this.$5),this.$8.forEach(function(a){a()})};e.$27=function(a){a=this.$2.getTransceiverFromSender(a);return a&&a.stopped?!0:!1};e.$29=function(){var a=!1,b=this.getTracks().values(),c=b.next();while(!c.done&&!a)a=c.value.remote,c=b.next();return this.$14||a};e.$18=function(){var a=this,d=this.$29();this.$2.getSenders().forEach(function(e){if(a.$27(e)||!("getParameters"in e)||!("getParameters"in e))return b("Promise").resolve();var f=e.getParameters(),g=!1;if(f.encodings!=null)for(var h=0;h<f.encodings.length;h++)(h===0||!d)&&f.encodings[h].active!==d&&(f.encodings[h].active=d,g=!0);if(g)return e.setParameters(f)["catch"](function(a){c("FBLogger")("rtc_www").catching(a).mustfix("Error while trying to toggle encoding")})});return b("Promise").resolve()};e.getCodecFromEvent=function(){var a=this;if(!c("ZenonE2ee").isE2eeStackReady())return;var b=this.$2.getSignalingState();if(b!=="have-remote-offer"&&b!=="stable")return;this.$2.getReceivers().forEach(function(b){a.$30(b)});this.$2.getSenders().forEach(function(b){var d=a.$31(b);b=b.track;if(b==null||d==null)return;if(c("ZenonE2ee").shouldUseE2eeWorker())void c("ZenonE2eeWasmWorkerClient").setEncryptorCodec(b.id,d);else{var e;(e=a.$3)==null?void 0:e.setFrameDataHandlerOnEncryptor(b.id,d)}})};e.setNegotiatedCodecsOnRemoteTracks=function(a){var b=this;a.forEach(function(a,d){if(a.length===0||a[0].length===0)return;var e=new Set();a.forEach(function(a){e.add(a)});if(c("ZenonE2ee").shouldUseE2eeWorker())void c("ZenonE2eeWasmWorkerClient").setDecryptorCodec(d,e);else{(a=b.$3)==null?void 0:a.setFrameDataHandlerTypesOnDecryptor(d,e)}})};e.$30=function(a){if("getParameters"in a&&a.track!=null){var b=a.track.id;a=a.getParameters();var d=new Set();if(a.codecs==null||a.codecs.length===0)return;var e=a.codecs[0].mimeType;a.codecs.forEach(function(a){d.add(a.mimeType)});if(c("ZenonE2ee").shouldUseE2eeWorker())void c("ZenonE2eeWasmWorkerClient").setDecryptorCodec(b,d);else{(a=this.$3)==null?void 0:a.setFrameDataHandlerTypesOnDecryptor(b,d)}return e}};e.$31=function(a){if("getParameters"in a&&a.track!=null){a=a.getParameters();if(a.codecs!=null&&a.codecs.length!==0)return a.codecs[0].mimeType}};return a}();g["default"]=a}),98);
__d("ZenonReceiverRenderedResolutionUtils",[],(function(a,b,c,d,e,f){"use strict";function g(a,b){if(a===b)return!0;var c=Object.keys(a),d=Object.keys(b);if(c.length!==d.length)return!1;for(var e=0;e<c.length;e++){var f=c[e];if(!d.includes(f))return!1;var g=a[f];f=b[f];var h=Object.keys(g);for(var i=0;i<h.length;i++){var j=h[i];if(g[j]!==f[j])return!1}}return!0}function h(a){if(!a)return 0;return!a.renderWidth||!a.renderHeight?0:a.renderWidth*a.renderHeight}function a(a,b){if(a===b)return!0;var c=Object.keys(a),d=Object.keys(b);if(c.length!==d.length)return!1;for(d=0;d<c.length;d++){var e=c[d];if(!Object.prototype.hasOwnProperty.call(b,e))return!1;if(!g(a[e],b[e]))return!1}return!0}function b(a,b){if(!a||!b)return 0;var c=0,d=Object.keys(a);for(var e=0;e<d.length;e++){var f=d[e],g=a[f];f=b[f];if(g&&f){var i=Object.keys(g);for(var j=0;j<i.length;j++){var k=i[j],l=g[k];k=f[k];var m=0;if(l&&k){l=h(l);k=h(k);l>0&&k>0?m=l>k?l/k:k/l:m=l+l}m>c&&(c=m)}}}return c}f.areEqualRenderResolutionMaps=a;f.getMaxResolutionChangeMultiplier=b}),66);
__d("ZenonRenderResolutionTypes",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({Unknown:0,Default:1,ScreenShare:2});f.StreamType=a}),66);
__d("ZenonReceiverRenderedResolutionManager",["ZenonCallsContext","ZenonReceiverRenderedResolutionUtils","ZenonRenderResolutionTypes","promiseDone","qex","react"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useContext,i=b.useMemo,j=200,k=function(a){switch(a){case"video":return d("ZenonRenderResolutionTypes").StreamType.Default;case"screen":return d("ZenonRenderResolutionTypes").StreamType.ScreenShare;default:return d("ZenonRenderResolutionTypes").StreamType.Unknown}},l=function(){function a(a,b,c){var e=this;this.$4=new Map();this.$5=new Map();this.$6={};this.updateTrackIdToUserIdMap=function(a){if(!a||!a.get(e.$1))return;var b=a.get(e.$1).participants,c=a.get(e.$1).mediaTracks;if(b===e.$4)return;e.$4=b;e.$5.clear();b.forEach(function(a,b,d){a.trackIDs.forEach(function(a){var d=c.get(a);if(d&&!d.remote)return;e.$5.set(a,b)})})};this.updateRenderedResolutions=function(a){var b={};a.forEach(function(a,c){var f=k(a.contentType);if(f===d("ZenonRenderResolutionTypes").StreamType.Unknown)return;var g=e.$5.get(c);if(g==null)return;a={renderHeight:a.renderHeight,renderWidth:a.renderWidth,streamId:c,streamType:f,userId:g};c=b[g];if(c)c[String(f)]=a;else{b[g]=(c={},c[String(f)]=a,c)}});e.updateRenderedResolutionMap(b)};this.$1=a;this.$2=b;this.$3=c;this.$2.addListener("callsModelUpdate",this.updateTrackIdToUserIdMap);this.updateTrackIdToUserIdMap(this.$2.getCurrentCallsModel())}var b=a.prototype;b.updateRenderedResolutionMap=function(a){var b=this;if(d("ZenonReceiverRenderedResolutionUtils").areEqualRenderResolutionMaps(a,this.$6))return;this.$2.updateRenderedResolutionMap(a);var e=c("qex")._("1280")||2;if(Object.keys(this.$6||{}).length>0&&Object.keys(a||{}).length>0&&d("ZenonReceiverRenderedResolutionUtils").getMaxResolutionChangeMultiplier(a,this.$6)<e)return;this.$6=a;var f={renderResolutionMap:this.$6};window.setTimeout(function(){c("promiseDone")(b.$3.updateStateSyncTopic("config_engine",f))},this.getJitterMs())};b.getJitterMs=function(){return Math.floor(Math.random()*j)};b.getTrackIdToUserIdMap=function(){return this.$5};b.getRenderedResolutionMap=function(){return this.$6};return a}(),m=c("qex")._("1281")===1;function a(){var a=h(c("ZenonCallsContext")),b=a.callSDK,d=a.currentCallInstanceSDK;return i(function(){if(!m)return function(){};var a=new l(d.getClientCallID_DEPRECATED(),b,d);return a.updateRenderedResolutions},[b,d])}g.ReceiverRenderedResolutionManager=l;g.useReceiverRenderedResolutionManager=a}),98);
__d("ZenonMediaElementTracker",["FBLogger","ZenonReceiverRenderedResolutionManager","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useEffect,i=new Map(),j;function k(a,b){i.has(a)&&c("FBLogger")("rtc_www").warn("ZenonMediaElementTracker already has a stream associated with the given element"),i.set(a,b)}function l(a){i["delete"](a)||c("FBLogger")("rtc_www").warn("ZenonMediaElementTracker did not have a stream associated with the given element")}function a(a){var b=new Map();for(var d=i,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=d.length)break;g=d[f++]}else{f=d.next();if(f.done)break;g=f.value}g=g;var h=g[0];g=g[1];for(var g=g.getTracks(),k=Array.isArray(g),l=0,g=k?g:g[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var m;if(k){if(l>=g.length)break;m=g[l++]}else{l=g.next();if(l.done)break;m=l.value}m=m;var n=a.get(m.id);if(n==null)continue;if(m.kind==="video"&&h instanceof HTMLVideoElement){if(h.videoWidth===0||h.videoHeight===0)continue;var o=h.getBoundingClientRect();n.renderedWidth=o.width;n.renderedHeight=o.height;var p=o.width/h.videoWidth,q=o.height/h.videoHeight,r=getComputedStyle(h);r=r.objectFit;var s=1,t=1;switch(r){case"cover":s=Math.max(p,q);t=o.width*o.height/(s*s*h.videoWidth*h.videoHeight);break;case"contain":s=Math.min(p,q);break;default:c("FBLogger")("rtc_www").warn("Unknown object-fit type %s",r)}n.scaleRatio=s*s;n.croppingRatio=t;p=n.contentType;b.set(m.id,{contentType:p||"video",renderHeight:o.height,renderWidth:o.width})}}}j&&j(b)}function b(a,b){j=d("ZenonReceiverRenderedResolutionManager").useReceiverRenderedResolutionManager(),h(function(){var c=a.current;if(!b||!c)return;k(c,b);return function(){l(c)}},[a,b])}g.trackElement=k;g.untrackElement=l;g.updateStats=a;g.useMediaElementTracker=b}),98);
__d("Network",["$InternalEnum","mixInEventEmitter"],(function(a,b,c,d,e,f,g){var h=!0,i=a.navigator.connection,j={0:"unknown",1:"ethernet",2:"wifi",3:"2g",4:"3g"},k=b("$InternalEnum")({Bluetooth:"bluetooth",Cellular:"cellular",Ethernet:"ethernet",None:"none",Wifi:"wifi",Wimax:"wimax",Other:"other",Unavailable:"unavailable",Unknown:"unknown"}),l=b("$InternalEnum")({Type_Slow2g:"slow-2g",Type_2g:"2g",Type_3g:"3g",Type_4g:"4g",Unavailable:"unavailable"});function m(){return h}function d(a){if(a==h)return;h=a;r.emit(a?"online":"offline")}function e(){if(!m())return 0;var a=i==null?void 0:i.downlinkMax;if(typeof a==="number"&&Number.isFinite(a))return a;a=i==null?void 0:i.downlink;return typeof a==="number"&&Number.isFinite(a)?a:null}function f(){if(!m())return 0;var a=i==null?void 0:i.rtt;return typeof a==="number"&&Number.isFinite(a)?a:null}function n(){return i!=null&&i!=void 0}function o(){var a=i?String(i.type):"0";return j[a]||a}function p(){var a=i==null?void 0:i.type;return(a=typeof a==="string"?k.cast(a):null)!=null?a:k.Unavailable}function q(){var a=i==null?void 0:i.effectiveType;return(a=typeof a==="string"?l.cast(a):null)!=null?a:l.Unavailable}var r={NetworkConnectivityType:k,NetworkConnectivityEffectiveType:l,getBandwidth:e,getEffectiveType:q,getType:p,getType_DEPRECATED_DO_NOT_USE:o,isOnline:m,setOnline:d,getRTT:f,containsNetworkInformation:n};c("mixInEventEmitter")(r,{online:!0,offline:!0});a.addEventListener?(a.addEventListener("online",d.bind(null,!0)),a.addEventListener("offline",d.bind(null,!1))):a.attachEvent&&(a.attachEvent("online",d.bind(null,!0)),a.attachEvent("offline",d.bind(null,!1)));b=r;g["default"]=b}),98);
__d("ZenonCircularBuffer",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.$1=[],this.$2=0,this.$3=0,this.$4=0,this.$2=a<0?0:a,this.$1=new Array(this.$2).fill(0)}var b=a.prototype;b.add=function(a){if(this.$1.length===0)return;this.$1[this.$3%this.$2]=a;this.$3++;this.$3>this.$2&&(this.$4=(this.$4+1)%this.$2)};b.getAvg=function(){var a=this.$1.length;if(a<=0)return null;a=this.$1.slice(0,this.$3);return a.length>0?Number(a.reduce(function(a,b){return a+b},0).toPrecision(10))/a.length:0};b.getDelta=function(){if(this.$1.length<=0)return null;return this.$3>0?this.$2===1?Number(this.$1[this.$4]):this.$3<this.$2?Number(this.$1[this.$3-1]):Number(this.$1[(this.$3-1)%this.$2]-this.$1[this.$4]):0};return a}();f["default"]=a}),66);
__d("percentile",[],(function(a,b,c,d,e,f){function g(a,b){return(a||0)-(b||0)}function a(a,b){return h(a.slice().sort(g),b)}function h(a,b){b=(a.length-1)*b;var c=Math.floor(b),d=Math.ceil(b);if(c===d)return a[b];var e=a[c]*(d-b);a=a[d]*(b-c);return e+a}a.fromSorted=h;e.exports=a}),null);
__d("median",["percentile"],(function(a,b,c,d,e,f){function a(a){return b("percentile")(a,.5)}e.exports=a}),null);
__d("ZenonDeltaMediaStat",["median"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){this.$1=[],this.$2=0,this.$3=null}var b=a.prototype;b.add=function(a){this.$1.push(a),this.$2++,this.$3=a};b.getLastAddedValue=function(){return this.$3};b.getTotal=function(){return this.$1.reduce(function(a,b){return a+b},0)};b.getCount=function(){return this.$1.length};b.getAverage=function(){return this.getTotal()/this.getCount()};b.getMin=function(){return Math.min.apply(Math,this.$1)};b.getMax=function(){return Math.max.apply(Math,this.$1)};b.getMedian=function(){return c("median")(this.$1)};return a}();g["default"]=a}),98);
__d("ZenonFirstMediaPacketFinder",["Promise","performanceNow"],(function(a,b,c,d,e,f,g){"use strict";var h=500;a=function(){function a(a,b){this.$1={audio:null,screen:null,screen_audio:null,video:null},this.$2={audio:!1,screen:!1,screen_audio:!1,video:!1},this.$3=null,this.$4=a,this.$5=b}var d=a.prototype;d.setUpForTrackType=function(a){var b=this;this.$2[a]=this.$1[a]==null;this.$2[a]&&this.$3==null&&(this.$3=window.setInterval(function(){b.$6()},h),this.$6())};d.getFirstPacketTimes=function(){return this.$1};d.$7=function(){return this.$4.getTransceivers().filter(function(a){return a.currentDirection==="sendrecv"||a.currentDirection==="recvonly"}).map(function(a){return a.receiver})};d.$8=function(){var a=this;return Object.keys(this.$2).some(function(b){return a.$2[b]&&a.$1[b]==null})};d.$6=function(){var a=this,d=this.$7().filter(function(a){return a.track!=null});d=d.map(function(b){var d=b.track;return d!=null?b.getStats().then(function(b){if(b.values)for(var b=b.values(),e=Array.isArray(b),f=0,b=e?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=b.length)break;g=b[f++]}else{f=b.next();if(f.done)break;g=f.value}g=g;g.type==="inbound-rtp"&&Number(g.packetsReceived)>0&&a.$1[d.kind]==null&&(a.$1[d.kind]=c("performanceNow")(),a.$5(d.kind),a.$3!=null&&!a.$8()&&(window.clearInterval(a.$3),a.$3=null))}}):null});b("Promise").all(d)};return a}();g["default"]=a}),98);
__d("ZenonHistogramCounter",[],(function(a,b,c,d,e,f){"use strict";var g=1e4;a=function(){function a(a,b,c){this.$1=[];this.$2=0;this.$3=0;this.$4=0;this.$5=!1;this.$6=1;if(a>b||c<=0)return;(Math.floor(a)!==a||Math.floor(b)!==b||Math.floor(c)!==c)&&(this.$6=g);this.$3=Math.floor(a*this.$6+.5);this.$2=Math.floor(c*this.$6+.5);a=Math.floor((Math.floor(b*this.$6+.5)-this.$3)/this.$2)+2;this.$1=new Array(a).fill(0);this.$4=this.$3+(a-2)*this.$2;this.$5=!0}var b=a.prototype;b.update=function(a){if(!this.$5||this.$1.length===0)return;a=Math.floor(a*this.$6+.5);if(a<this.$3)++this.$1[0];else if(a>=this.$4)this.$1[this.$1.length-1]++;else{a=Math.floor((a-this.$3+.5)/this.$2)+1;this.$1[a]++}};b.getStats=function(){return this.$5?this.$1:null};return a}();f["default"]=a}),66);
__d("ZenonCumulativeMediaStat",["performanceNow"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.$3=this.$5=this.$1=a,this.$7=this.$8=a,this.$9=!1,this.$4=this.$6=this.$2=c("performanceNow")(),this.$10=1}var b=a.prototype;b.$11=function(a){this.$5=this.$1,this.$6=this.$2,this.$1=a,this.$2=c("performanceNow")(),this.$10++};b.update=function(a){this.$7=this.$8;this.$8=a;a=this.$8-this.$7;a<0?(a=this.$8,this.$9=!0):this.$9=!1;this.$11(this.$1+a)};b.updateNonStrictCumulative=function(a){this.$7=this.$8,this.$8=a,this.$9=!1,this.$11(a)};b.isReset=function(){return this.$9};b.getCurrentValue=function(){return this.$1};b.getDeltaValue=function(){return this.$1-this.$3};b.getDeltaFromLastUpdate=function(){return this.$1-this.$5};b.getTimeSinceLastUpdate=function(){return this.$2-this.$6};b.getElapsedTime=function(){return this.$2-this.$4};b.getPreviousTime=function(){return this.$6};b.getCurrentTime=function(){return this.$2};b.getAverageOverTime=function(){return this.getDeltaValue()/this.getElapsedTime()};b.getCurrentTimeSinceLastUpdate=function(){return c("performanceNow")()-this.$2};b.getCount=function(){return this.$10};b.getFirstValue=function(){return this.$3};return a}();g["default"]=a}),98);
__d("ZenonMediaStatsSerializer",["ZenonCallFalcoEventUtils","ZenonCumulativeMediaStat","ZenonMediaStatsConfig","ZenonRenderedView"],(function(a,b,c,d,e,f,g){"use strict";var h=[d("ZenonMediaStatsConfig").OUTBOUND_AUDIO_STATS_TRACKID,d("ZenonMediaStatsConfig").OUTBOUND_VIDEO_STATS_TRACKID,d("ZenonMediaStatsConfig").OUTBOUND_SCREEN_STATS_TRACKID,d("ZenonMediaStatsConfig").GLOBAL_STATS_TRACKID,d("ZenonMediaStatsConfig").PINNED_AUDIO_STATS_TRACK_INFO.trackId,d("ZenonMediaStatsConfig").PINNED_VIDEO_STATS_TRACK_INFO.trackId],i=1e4,j={tet:1e3,tpsd:1e3};function a(a,b,e,f,g,h,i){e={CoreAudioMetrics:{isstall:"0",voice_detect_pct:[]},CoreVideoMetrics:{screen:{capture_stall:{is_stall:"0"},encode_stall:{is_stall:"0"},sent_stall:{is_stall:"0"}},video:{capture_stall:{is_stall:"0"},encode_stall:{is_stall:"0"},sent_stall:{is_stall:"0"}}},DebugAudioMetrics:{NetworkReceive:{}},ecv:{ecv_neteq_wait_time_ms:"0",ecv_plccng:"0",ecv_rtt_ms:"0"},extraInfo:{mediaPacketTimes:e.getFirstPacketTimes()},receiver:{},receiver_pct:{audio:{}},receiver_stalls:{screen_recv_stalls:{recv_decode_stall:{is_stall:"0"}},video_recv_stalls:{recv_decode_stall:{is_stall:"0"}}},sender:{},sender_pct:{screen:{},video:{}},video:{}};var j={},m=b.get(d("ZenonMediaStatsConfig").OUTBOUND_AUDIO_STATS_TRACKID);m!=null&&(t(m,e.sender),B(m,e.CoreAudioMetrics));m=b.get(d("ZenonMediaStatsConfig").OUTBOUND_SCREEN_STATS_TRACKID);m!=null&&(y(f,e.video,m),v(f,e.video,m,j),E(e.sender_pct.screen,m,c("ZenonRenderedView").GRID,"screen"));var q=b.get(d("ZenonMediaStatsConfig").OUTBOUND_VIDEO_STATS_TRACKID);q!=null&&(v(f,e.video,q,j),E(e.sender_pct.video,q,c("ZenonRenderedView").GRID,"video"));(m!=null||q!=null)&&z(e.video,q,m);p(b,e);k(b,e);n(a,b,e,h,i);l(b,e,j,f);r(b,e,j);s(e,j);o(e,g);return e}function k(a,b){a.forEach(function(a){var c=a.localIceCandidateStats;a=a.remoteIceCandidateStats;!b.extraInfo.localIceCandidate&&c&&(b.extraInfo.localIceCandidate=c);!b.extraInfo.remoteIceCandidate&&a&&(b.extraInfo.remoteIceCandidate=a)})}function l(a,b,c,d){a.forEach(function(a,e){!h.includes(e)&&a.remote===!0&&(a.contentType==="audio"?(u(a,e,b,c),A(a,c)):a.contentType==="video"?(w(d,b.video,a,c),m(a,b.receiver_stalls.video_recv_stalls)):a.contentType==="screen"&&(x(d,b.video),m(a,b.receiver_stalls.screen_recv_stalls)))})}function m(a,b){var c=a.cumulativeStat,d=c.videoDecodeStallDuration;c=c.videoDecodeTotalStalls;a=a.deltaStat.videoDecodeIsStalled;b&&D(b==null?void 0:b.recv_decode_stall,c,d,a)}function n(a,b,c,d,e){b.forEach(function(b,f){if(b.remote===!1){b=(b=d.get(f))!=null?b:a.get(f);if(b==null)return;b.enabled===!0&&b.webrtcTrack.readyState==="live"&&(b.contentType==="audio"?q(e.audioDevices,b):b.contentType==="video"&&q(e.videoDevices,b));e.audioDevices.length>0&&(c.CoreAudioMetrics.audio_device=e.audioDevices[e.audioDevices.length-1]);e.videoDevices.length>0&&(c.CoreVideoMetrics.video_device=e.videoDevices[e.videoDevices.length-1]);return}})}function o(a,b){b=(b=b.getStats())!=null?b:[];var c=b.some(function(a){return a>0});if(c){a.video.receiver=(c=a.video.receiver)!=null?c:{};a.video.receiver.avhist=b}}function p(a,b){var c=a.get(d("ZenonMediaStatsConfig").OUTBOUND_VIDEO_STATS_TRACKID);a=a.get(d("ZenonMediaStatsConfig").OUTBOUND_SCREEN_STATS_TRACKID);c!=null&&C(c,b.CoreVideoMetrics.video);a!=null&&C(a,b.CoreVideoMetrics.screen)}function q(a,b){a.length===0?a.push(b.label):b.label!==a[a.length-1]&&a.push(b.label)}function r(a,b,c){c.totalRxLevel!=null&&c.totalRxLevelCount!=null&&c.totalRxLevelCount>0&&(b.CoreAudioMetrics.rx_chan_proc_lvl=d("ZenonCallFalcoEventUtils").nonNullIntNumber(Math.round(c.totalRxLevel/c.totalRxLevelCount)));c=a.get(d("ZenonMediaStatsConfig").GLOBAL_STATS_TRACKID);if(c==null)return;a=c.cumulativeStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.AUDIO_LOUDNESS_LEVEL];c=c.cumulativeStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.AUDIO_LOG_LEVEL_COUNT];a&&c&&(b.receiver.rx_sum_lvl=a.getCurrentValue(),b.receiver.taulc=c.getCurrentValue())}function s(a,b){var c={},e=a.receiver,f=e.jbd;e=e.jbec;if(f!=null&&e!=null&&e>0){f=d("ZenonCallFalcoEventUtils").nonNullIntNumber(Math.round(f/e));c.neteq={meanWait:f}}e=b.maxSpeechExpandRate!=null?Math.round(b.maxSpeechExpandRate*i):null;f=b.minSpeechExpandRate!=null?Math.round(b.minSpeechExpandRate*i):null;b=b.countSpeechExpandRate!=null&&b.countSpeechExpandRate>0&&b.sumSpeechExpandRate!=null?Math.round(b.sumSpeechExpandRate*i/b.countSpeechExpandRate):null;(e!=null||b!=null||f!=null)&&(c.speech_expand_rate={M:d("ZenonCallFalcoEventUtils").nonNullIntNumber(e),avg:d("ZenonCallFalcoEventUtils").nonNullIntNumber(b),m:d("ZenonCallFalcoEventUtils").nonNullIntNumber(f)});a.DebugAudioMetrics.NetworkReceive={jb_nm:c}}function t(a,b){var c=a.cumulativeStat,e=c.bytesSent;c=c.packetsSent;var f=a.cumulativeStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.PACKETS_LOST_CORRECTED],g=a.deltaStat.googRtt,h=a.cumulativeStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.AUDIO_LOUDNESS_LEVEL],i=a.cumulativeStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.AUDIO_LOG_LEVEL_COUNT];f=new Map([["bytes",e],["plost",f],["psent",c]]);f.forEach(function(a,c){a!=null&&c!=="codec"&&c!=="ice"&&c!=="ice_g0"&&(b[c]=a.getCurrentValue())});if(e){c=e.getElapsedTime();c>0&&(b.ube_avg=Math.round(e.getDeltaValue()*8/c*1e3))}if(g){f=g.getTotal();e=g.getCount();if(e>0){b.avgrtt=Math.round(f/e);b.maxrtt=Math.max((c=b.maxrtt)!=null?c:Number.MIN_SAFE_INTEGER,g.getMax());b.minrtt=Math.min((f=b.minrtt)!=null?f:Number.MAX_SAFE_INTEGER,g.getMin())}}a.codec!=null&&a.codec!==""&&(b.codec={www:a.codec});h&&i&&(b.tx_sum_lvl=h.getCurrentValue(),b.taulc=i.getCurrentValue());return b}function u(a,b,e,f){var g=e.receiver;a.codec!=null&&a.codec!==""&&(g.codec==null&&(g.codec={}),g.codec[b]=a.codec);b=a.cumulativeStat;var h=b.bytesReceived,i=b.fecPacketsDiscarded,j=b.fecPacketsReceived,k=b.googDecodingCNG,l=b.googDecodingCTN,m=b.googDecodingNormal,n=b.googDecodingPLC,o=b.googDecodingPLCCNG,p=b.insertedSamplesForDeceleration,q=b.jitterBufferDelay,r=b.jitterBufferEmittedCount,s=b.packetsReceived,t=b.removedSamplesForAcceleration,u=b.totalAudioEnergy,v=b.totalSamplesDuration;b=b.totalSamplesReceived;var w=a.cumulativeStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.PACKETS_LOST_CORRECTED],x=a.deltaStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.E2E_LATENCY],y=a.deltaStat,z=y.googRtt,A=y.googSpeechExpandRate;y=y.jitter;if(h){var B=h.getElapsedTime();if(B>0){var C=G(g.dbe_total_bytes,h.getDeltaValue());g.dbe_total_bytes=C;B=G(g.dbe_total_time,B);g.dbe_total_time=B;g.dbe_avg=Math.round(C*8/B*1e3)}}if(x!=null&&s!=null){f.sumAudioE2eLatency=((C=f.sumAudioE2eLatency)!=null?C:0)+x.getAverage()*s.getCurrentValue();f.countAudioE2eLatency=((B=f.countAudioE2eLatency)!=null?B:0)+s.getCurrentValue();f.sumAudioE2eLatency!=null&&f.countAudioE2eLatency>0&&(g.e2el=Math.round(f.sumAudioE2eLatency/f.countAudioE2eLatency))}if(z){f.sumrtt=((C=f.sumrtt)!=null?C:0)+z.getTotal();f.countrtt=((x=f.countrtt)!=null?x:0)+z.getCount();f.sumrtt!=null&&f.countrtt>0&&(g.avgrtt=Math.round(f.sumrtt/f.countrtt));g.maxrtt=Math.max((B=g.maxrtt)!=null?B:Number.MIN_SAFE_INTEGER,z.getMax());g.minrtt=Math.min((C=g.minrtt)!=null?C:Number.MAX_SAFE_INTEGER,z.getMin());F(e.receiver_pct.audio,a,c("ZenonRenderedView").GRID,"audio")}if(A){f.sumSpeechExpandRate=((x=f.sumSpeechExpandRate)!=null?x:0)+A.getTotal();f.countSpeechExpandRate=((B=f.countSpeechExpandRate)!=null?B:0)+A.getCount();f.maxSpeechExpandRate=Math.max((C=f.maxSpeechExpandRate)!=null?C:Number.MIN_SAFE_INTEGER,A.getMax());f.minSpeechExpandRate=Math.min((z=f.minSpeechExpandRate)!=null?z:Number.MAX_SAFE_INTEGER,A.getMin())}q&&(g.jbd=G(g.jbd,1e3*q.getCurrentValue()));u&&(g.taue=G(g.taue,1e5*u.getCurrentValue()),g.taut=G(g.taut,u.getElapsedTime()));v&&(g.sp_dur=G(g.sp_dur,1e3*v.getCurrentValue()));if(b){e=b.getCurrentValue();if(e>0&&l!=null){if(t!=null){a=Math.round(t.getCurrentValue()*l.getCurrentValue()/e);g.dec_ar=G(g.dec_ar,a)}if(p){x=Math.round(p.getCurrentValue()*l.getCurrentValue()/e);g.dec_per=G(g.dec_per,x)}}}B=new Map([["dec_plc",n],["dec_plc_cng",o],["dec_cng",k],["dec_normal",m],["neteq_calls",l],["decel_cnt",p],["bytes",h],["plost",w],["precv",s],["fecpd",i],["fecpr",j],["jbec",r],["sp_dur",v],["sp_r",b]]);B.forEach(function(a,b){a!=null&&b!=="codec"&&b!=="ice"&&b!=="ice_g0"&&(g[b]=G(g[b],a.getCurrentValue()))});if(y&&s&&g.precv!=null&&g.precv>0){C=g.precv;z=y.getTotal()*s.getCurrentValue();f.weightedJitterSum=((A=f.weightedJitterSum)!=null?A:0)+z;g.jitter=Math.round(1e3*f.weightedJitterSum/C)}return g}function v(a,b,e,f){b.ld=Math.round(a.getLocalVideoDuration());var g=b.sender||{};g.video_blur_dur=Math.round(a.getLocalVideoBlurDuration());e.codec!=null&&e.codec!==""&&(g.ename=e.codec);if(e.histResScale){g.histResScale==null&&(g.histResScale=new Array(5).fill(0));var h=g.histResScale;h.forEach(function(a,b){h[b]+=e.histResScale[b]})}a=e.cumulativeStat;var i=a.bytesSent,k=a.captureFrameCount,l=a.firCount,m=a.framesEncoded,n=a.framesSent,o=a.keyFramesEncoded,p=a.nackCount,q=a.packetsSent,r=a.pliCount,s=a.simulcast_layer_changes,t=a.totalEncodeTime,u=a.totalPacketSendDelay,v=a.videoConvertedQpSum,w=a.videoSumCapturePixel;a=a.videoSumPixel;var x=e.cumulativeStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.PACKETS_LOST_CORRECTED],y=e.deltaStat,z=y.frameHeight,A=y.frameWidth,B=y.height;y=y.width;i=new Map([["enc_bytes",i],["eiframes",k],["eqps",v],["plost",x],["psent",q],["pli",r],["fcsn",n],["fir",l],["tet",t],["tpsd",u],["fcap",k],["frames",m],["kframes",o],["nack",p],["sim_l_chg",s],["ah",z],["aw",A],["ch",B],["cw",y]]);i.forEach(function(a,b){if(a!=null&&b!=="ename"&&b!=="histResScale"&&b!=="ehist"&&b!=="ss")if(a instanceof c("ZenonCumulativeMediaStat")){var d;d=(d=j[b])!=null?d:1;g[b]=G(g[b],a.getCurrentValue()*d)}else{g[b]=Math.round((d=a.getLastAddedValue())!=null?d:0)}});b.ld!=null&&b.ld>0&&g.frames!=null&&g.frames>0&&(g.efrate=Math.round(g.frames*1e3/b.ld));if(w&&g.fcap!=null&&g.fcap>0){v=g.fcap;f.videoSumCapturePixel=G((x=f.videoSumCapturePixel)!=null?x:void 0,w.getCurrentValue());g.video_sum_capture_pixel=f.videoSumCapturePixel;g.eipxl=Math.round(f.videoSumCapturePixel/v)}if(a&&g.frames!=null&&g.frames>0){q=g.frames;f.videoSumPixel=G((r=f.videoSumPixel)!=null?r:void 0,a.getCurrentValue());g.video_sum_encoded_pixel=f.videoSumPixel;g.eopxl=Math.round(f.videoSumPixel/q)}e.codecHistory!=null&&(g.ehist=Object.fromEntries(e.codecHistory.map(function(a){var b=a.codec;a=a.updateTime;return[Math.round(a).toString(),b]})));b.sender=g}function w(a,b,e,f){b.rd=Math.round(a.getRemoteVideoDuration());a=b.receiver;var g=a===void 0?{}:a;e.codec!=null&&e.codec!==""&&e.lastUpdate>((a=f.lastCodecUpdate)!=null?a:Number.MIN_SAFE_INTEGER)&&(g.dname=e.codec,f.lastCodecUpdate=e.lastUpdate);a=e.cumulativeStat;var h=a.bytesReceived,i=a.firCount,j=a.framesDecoded,k=a.framesReceived,l=a.jitterBufferDelay,m=a.jitterBufferEmittedCount,n=a.jitterBufferFramesSentToDecoder,o=a.keyFramesDecoded,p=a.nackCount,q=a.packetsReceived,r=a.pliCount,s=a.timestamp,t=a.totalDecodeTime,u=a.videoConvertedQpSum,v=a.videoDecodedBytes,w=a.videoDecodeTime,x=a.videoFreezeCount,y=a.videoFreezeDuration,z=a.videoFreezeDuration500ms,A=a.videoPauseCount,B=a.videoPauseDuration;a=a.videoSumPixel;var C=e.cumulativeStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.PACKETS_LOST_CORRECTED],D=e.deltaStat,E=D.avSync,F=D.avSyncAbs,H=D.e2eLatency,I=D.frameHeight;D=D.frameWidth;if(j){if(e.maxTotalDecodeTime!=null){var J;g.dec_time=Math.round(Math.max(e.maxTotalDecodeTime,(J=g.dec_time)!=null?J:0))}J=G(g.frd,j.getCurrentValue());if(H&&J>0){var K;H=H.getAverage()*j.getCurrentValue();g.e2el=(K=g.e2el)!=null?K:0;g.frd=(K=g.frd)!=null?K:0;g.e2el=Math.round((g.e2el*g.frd+H)/J)}if(a!=null&&J>0){H=((K=f.aggVideoSumPixel)!=null?K:0)+a.getCurrentValue();g.dpxl=Math.round(H/J);f.aggVideoSumPixel=H;g.agg_video_sum_decoded_pixel=H}if(E!=null&&F!=null&&J>0){a=((K=f.weigtedAvSync)!=null?K:0)+E.getAverage()*j.getCurrentValue();K=((H=f.weigtedAvSyncAbs)!=null?H:0)+F.getAverage()*j.getCurrentValue();g.av=Math.round(a/J);g.avabs=Math.round(K/J);f.weigtedAvSync=a;f.weigtedAvSyncAbs=K}g.frd=J;g.dec_frame=J}if(e.percentStat.videoReceiverQualityScore!=null){E=e.percentStat.videoReceiverQualityScore.getAvgAndPercentile(d("ZenonMediaStatsConfig").PERCENTILES_REQUESTED,c("ZenonRenderedView").GRID,"video");E!=null&&E.avg!=null&&(g.vqs={avg:E.avg})}if(D&&I&&s&&s.getCurrentTime()>((H=f.lastFrameUpdate)!=null?H:Number.MIN_SAFE_INTEGER)){g.rh=(F=I.getLastAddedValue())!=null?F:0;g.rw=(j=D.getLastAddedValue())!=null?j:0;f.lastFrameUpdate=s.getCurrentTime()}t&&(g.tdt=G(g.tdt,1e3*t.getCurrentValue()));l&&(g.jbd=G(g.jbd,1e3*l.getCurrentValue()));a=new Map([["recv",h],["qps",u],["plost",C],["precv",q],["pli",r],["pact",A],["padur",B],["jbec",m],["jtasb",k],["jtfrm",n],["jtkey",o],["nack",p],["fir",i],["frcnt",x],["frdur",y],["frdur500",z],["dec_time_all_streams",w],["dec_bytes",v]]);a.forEach(function(a,b){a!=null&&b!=="dname"&&b!=="avhist"&&b!=="ss_recv"&&b!=="vqs"&&(g[b]=G(g[b],a.getCurrentValue()))});g.jbd!=null&&g.jbec!=null&&g.jbec>0&&(g.recjbl=Math.round(g.jbd/g.jbec));b.receiver=g}function x(a,b){var c;c=((c=b.receiver)==null?void 0:c.ss_recv)||{};c.ss_recv_dur=Math.round(a.getRemoteScreenShareDuration());b.receiver=(a=b.receiver)!=null?a:{};b.receiver.ss_recv=c}function y(a,b,c){var d,e=((d=b.sender)==null?void 0:d.ss)||{};e.dur=Math.round(a.getLocalScreenShareDuration());d=c.cumulativeStat;a=d.captureFrameCount;var f=d.framesEncoded,g=d.videoBytesSent,h=d.videoConvertedQpSum,i=d.videoSumCapturePixel;d=d.videoSumPixel;c=c.deltaStat.availableOutgoingBitrate;a=new Map([["eiframes",a],["eqps",h],["frames",f]]);a.forEach(function(a,b){a!=null&&(e[b]=a.getCurrentValue())});if(i!=null&&e.eiframes!=null&&e.eiframes>0){h=e.eiframes;e.video_sum_capture_pixel=i.getCurrentValue();e.eipxl=Math.round(i.getCurrentValue()/h)}if(d!=null&&e.frames!=null&&e.frames>0){f=e.frames;e.video_sum_encoded_pixel=d.getCurrentValue();e.eopxl=Math.round(d.getCurrentValue()/f)}c&&(e.avbw=Math.round(c.getAverage()));if(g&&e.dur!=null&&e.dur>0){a=e.dur;e.avbr=Math.round(g.getCurrentValue()*8/a)}b.sender=(i=b.sender)!=null?i:{};b.sender.ss=e}function z(a,b,c){b=(b=b==null?void 0:b.deltaStat)!=null?b:{};b=b.googActualEncBitrate;c=(c=c==null?void 0:c.deltaStat)!=null?c:{};c=c.googActualEncBitrate;var d=0,e=0;b!=null&&(d+=b.getTotal(),e+=b.getCount());c!=null&&(d+=c.getTotal(),e+=c.getCount());e!==0&&(a.bwe={avg_enc_bitrate:Math.round(d/e)})}function A(a,b){var c=a.cumulativeStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.AUDIO_LOG_LEVEL];a=a.cumulativeStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.AUDIO_LOG_LEVEL_COUNT];if(c&&a){var e;b.totalRxLevel=((e=b.totalRxLevel)!=null?e:0)+c.getCurrentValue();b.totalRxLevelCount=((e=b.totalRxLevelCount)!=null?e:0)+a.getCurrentValue()}}function B(a,b){var c=a.cumulativeStat,e=c.audioDevRecStalls,f=c.audioDevStallDuration;c=c.audioDevTotalStalls;var g=a.deltaStat.audioDevIsStalled;c=new Map([["astall",c],["sdur",f],["rstall",e]]);c.forEach(function(a,c){a!=null&&c!=="audio_device"&&c!=="rx_chan_proc_lvl_hist"&&c!=="voice_detect_pct"&&(b[c]=d("ZenonCallFalcoEventUtils").nonNullIntNumber(Math.round(a.getCurrentValue())))});if(g){b.isstall=d("ZenonCallFalcoEventUtils").nonNullIntNumber((f=g.getLastAddedValue())!=null?f:0)}e=a.cumulativeStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.AUDIO_LOUDNESS_LEVEL];c=a.cumulativeStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.AUDIO_LOG_LEVEL_COUNT];c!=null&&c.getCurrentValue()>0&&e!=null&&(b.captured_lvl=d("ZenonCallFalcoEventUtils").nonNullIntNumber(Math.round(e.getCurrentValue()/c.getCurrentValue())),b.loudness_level=String(e.getCurrentValue()),b.loudness_level_count=String(c.getCurrentValue()))}function C(a,b){var c=a.cumulativeStat,d=c.videoCaptureStallDuration,e=c.videoCaptureTotalStalls,f=c.videoEncodeStallDuration,g=c.videoEncodeTotalStalls,h=c.videoSentStallDuration;c=c.videoSentTotalStalls;a=a.deltaStat;var i=a.videoCaptureIsStalled,j=a.videoEncodeIsStalled;a=a.videoSentIsStalled;D(b.capture_stall,e,d,i);D(b.encode_stall,g,f,j);D(b.sent_stall,c,h,a)}function D(a,b,c,e){b=new Map([["nstall",b],["sdur",c]]);b.forEach(function(b,c){b!=null&&c!=="video_device"&&(a[c]=d("ZenonCallFalcoEventUtils").nonNullIntNumber(Math.round(b.getCurrentValue())))});if(e){a.is_stall=d("ZenonCallFalcoEventUtils").nonNullIntNumber((c=e.getLastAddedValue())!=null?c:0)}}function E(a,b,c,e){if(a!=null){b=b.percentStat;var f=b.encodedFrameRate,g=b.roundTripTime,h=b.videoQP;b=b.videoQuality;f=new Map([["efr",f],["vqs",b],["vrtt",g],["qp",h]]);f.forEach(function(b,f){if(b!=null){b=b.getAvgAndPercentile(d("ZenonMediaStatsConfig").PERCENTILES_REQUESTED,c,e);a[f]={};b.avg!=null&&a[f]!=null&&(a[f].avg=b.avg);b.percentiles!=null&&a[f]!=null&&(a[f].p5=b.percentiles[0],a[f].p50=b.percentiles[1],a[f].p95=b.percentiles[2])}})}}function F(a,b,c,e){if(a==null)return;b=b.percentStat;var f=b.jitterBufferDelay;b=b.roundTripTime;f=new Map([["jbd",f],["rtt",b]]);f.forEach(function(b,f){if(b!=null){b=b.getAvgAndPercentile(d("ZenonMediaStatsConfig").PERCENTILES_REQUESTED,c,e);a[f]={};b.avg!=null&&a[f]!=null&&(a[f].avg=b.avg);b.percentiles!=null&&a[f]!=null&&(a[f].p5=b.percentiles[0],a[f].p50=b.percentiles[1],a[f].p95=b.percentiles[2])}})}function G(a,b){return a===void 0?Math.round(b):Math.round(a+b)}g.getMediaStats=a;g.addAudioReceiverPercentStats=F}),98);
__d("ZenonSimulcastStats",["invariant"],(function(a,b,c,d,e,f,g,h){"use strict";b=function(){function a(){this.$1=0,this.$2=new Map(),this.$3=new Map()}var b=a.prototype;b.update=function(a){a=i(a,this.$2,this.$3);var b=0;for(var c=a,d=Array.isArray(c),e=0,c=d?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=c.length)break;f=c[e++]}else{e=c.next();if(e.done)break;f=e.value}f=f;f[0];f=f[1];f&&b++}if(this.$3.size===0)b>0&&this.$1++;else{f=!1;for(e=a,d=Array.isArray(e),c=0,e=d?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(d){if(c>=e.length)break;b=e[c++]}else{c=e.next();if(c.done)break;b=c.value}b=b;var g=b[0];b=b[1];(!this.$3.has(g)||this.$3.get(g)!==b)&&(f=!0)}f&&this.$1++}this.$3=a};b.getNumLayerChanges=function(){return this.isSimulcastCall()?this.$1:0};b.isSimulcastCall=function(){return this.$3.size>1};return a}();function i(a,b,c){var d=new Map();for(var a=a.values(),e=Array.isArray(a),f=0,a=e?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=a.length)break;g=a[f++]}else{f=a.next();if(f.done)break;g=f.value}g=g;g.type==="outbound-rtp"||h(0,64939);if(g.ssrc===void 0||g.framesSent===void 0)continue;var i=String(g.ssrc);g=Number(g.framesSent);if(b.has(i)){var j=b.get(i);j!==void 0&&d.set(i,g>j)}else d.set(i,g>0);b.set(i,g)}for(j=c,i=Array.isArray(j),g=0,j=i?j:j[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(i){if(g>=j.length)break;f=j[g++]}else{g=j.next();if(g.done)break;f=g.value}e=f;a=e[0];e[1];d.has(a)||d.set(a,!1)}return d}function a(a){if(a.length===1)return a[0];var b=null,c=null,d=0;for(var e=0;e<a.length;e++){var f=a[e];if(f.frameWidth!=null){var g=Number(f.frameWidth),h=!1;(c==null||g<c)&&(c=g,h=!0);var i=!1;if(f.framesEncoded!=null){var j=Number(f.framesEncoded);j>d&&(i=!0,d=j)}(h||g===c&&i)&&(b=f)}}return b}g.ZenonSimulcastStats=b;g.getBaseLayerReport=a}),98);
__d("ZenonVideoScaleHistogram",[],(function(a,b,c,d,e,f){"use strict";function g(a){if(a>=.765625)return 0;else if(a>=.390625)return 1;else if(a>=.19140625)return 2;else if(a>=.09765625)return 3;return 4}function a(a,b){var c=["video","screen"];a.filter(function(a){return c.includes(a.contentType)&&a.remote===!1}).forEach(function(a){a=b.get(a.trackId);if(!a||!a.cumulativeStat||!a.histResScale)return;var c=a.cumulativeStat,d=c.framesEncoded;c=c.timestamp;var e=a.deltaStat,f=e.frameHeight,h=e.frameWidth,i=e.height;e=e.width;if(d!=null&&e!=null&&i!=null&&h!=null&&f!=null&&c!=null&&d.getDeltaFromLastUpdate()>0&&c.getCurrentValue()>a.lastUpdate){c=d.getDeltaFromLastUpdate();d=((d=e.getLastAddedValue())!=null?d:0)*((e=i.getLastAddedValue())!=null?e:0);h=((i=h.getLastAddedValue())!=null?i:0)*((e=f.getLastAddedValue())!=null?e:0);if(d>0){i=h/d;f=g(i);a.histResScale[f]+=c}}})}f.getBinFromScale=g;f.updateTrackerWithScaleHistogram=a}),66);
__d("ZenonMediaStatsParser",["invariant","ZenonCumulativeMediaStat","ZenonDeltaMediaStat","ZenonMediaStatsConfig","ZenonSimulcastStats","ZenonVideoScaleHistogram","isStringNullOrEmpty","isTruthy","performanceNow"],(function(a,b,c,d,e,f,g,h){"use strict";var i=["inbound-rtp","outbound-rtp","track","media-source","candidate-pair"];function j(a,b){var c=new Map();b.forEach(function(b,d){(b.type==="ssrc"&&b.googTrackId!=null&&b.googTrackId===a.webrtcTrack.id||b.type==="VideoBwe"||b.type==="googCandidatePair"&&b.googActiveConnection==="true"&&b.googRtt!=null)&&c.set(d,b)});return c}function a(a){var b=new Map();for(var a=a,c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;var f=e[0];e=e[1];i.includes(e.type)&&b.set(f,e)}return b}function k(a,b){var e=b.contentType,f=b.remote;b=b.trackId;var g=a.get(b);g==null&&(g={codec:null,contentType:e,cumulativeStat:{},deltaStat:{},duration:0,histResScale:new Array(d("ZenonVideoScaleHistogram").getBinFromScale(0)+1).fill(0),lastUpdate:0,maxTotalDecodeTime:0,percentStat:{},remote:f,startTime:c("performanceNow")()},a.set(b,g));return g}function l(a){return d("ZenonMediaStatsConfig").CUMULATIVE_STATS.includes(a)}function m(a){return d("ZenonMediaStatsConfig").DELTA_STATS.includes(a)}function b(a){if(a instanceof Map)return a;var b=new Map();if(a.result!=null)for(var c=a.result(),d=Array.isArray(c),e=0,c=d?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=c.length)break;f=c[e++]}else{e=c.next();if(e.done)break;f=e.value}f=f;var g={id:f.id,timestamp:f.timestamp,type:f.type};for(var h=f.names(),i=Array.isArray(h),j=0,h=i?h:h[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var k;if(i){if(j>=h.length)break;k=h[j++]}else{j=h.next();if(j.done)break;k=j.value}k=k;g[k]==null&&(g[k]=f.stat(k))}b.set(g.id,g)}else for(k=a.values(),j=Array.isArray(k),i=0,k=j?k:k[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(j){if(i>=k.length)break;h=k[i++]}else{i=k.next();if(i.done)break;h=i.value}f=h;b.set(f.id,f)}return b}function e(a,b,c){c=j(a,c);for(var c=c.values(),d=Array.isArray(c),e=0,c=d?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=c.length)break;f=c[e++]}else{e=c.next();if(e.done)break;f=e.value}f=f;var g=k(b,a);q(a,g,f);f=o(f);f!=null&&(g.codec=f)}}function f(a,b,e){var f=null,g=[];for(var e=e.values(),h=Array.isArray(e),i=0,e=h?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var j;if(h){if(i>=e.length)break;j=e[i++]}else{i=e.next();if(i.done)break;j=i.value}j=j;j.type==="outbound-rtp"&&j.trackId!=null&&(f=k(b,a),typeof j.trackId==="string"&&(f.sender=j.trackId));switch(j.type){case"inbound-rtp":f=k(b,a);r(f,j,d("ZenonMediaStatsConfig").getInboundRtpStats().concat(d("ZenonMediaStatsConfig").getRtpStats()));break;case"outbound-rtp":j.kind==="video"?g.push(j):(f=k(b,a),r(f,j,d("ZenonMediaStatsConfig").getOutboundRtpStats().concat(d("ZenonMediaStatsConfig").getRtpStats())));break;case"media-source":f=k(b,a);r(f,j,d("ZenonMediaStatsConfig").getMediaSourceStats());break;case"candidate-pair":f=k(b,a);r(f,j,d("ZenonMediaStatsConfig").getCandidatePairStats());break;case"codec":var l=String(j.mimeType).split("/")[1];c("isStringNullOrEmpty")(l)||(f=k(b,a),p(f,l));break;case"local-candidate":f=k(b,a);f.localIceCandidateStats=t(j);break;case"remote-candidate":f=k(b,a);f.remoteIceCandidateStats=t(j);break;default:break}}if(g.length>0){f=k(b,a);s(f,g);l=d("ZenonSimulcastStats").getBaseLayerReport(g);l!=null&&r(f,l,d("ZenonMediaStatsConfig").getOutboundRtpStats().concat(d("ZenonMediaStatsConfig").getRtpStats()))}}function n(a,b,c){b=k(b,a);if(typeof c.getParameters==="function"){var d=c.getParameters();d=d.encodings;var e=b.audioEncoding,f=b.videoEncoding;if(Array.isArray(d)){d=d.some(function(a){return a.active});a.contentType==="audio"?!e?b.audioEncoding={enabled:d,prevState:null}:(e.prevState=e.enabled,e.enabled=d):!f?b.videoEncoding={enabled:d,prevState:null}:(f.prevState=f.enabled,f.enabled=d)}if((a=c.transport)==null?void 0:a.iceTransport){e=c.transport.iceTransport.state;b.transportIceState=e}}}function o(a){var b=null;a.googCodecName!=null&&a.googCodecName!==""&&(b=String(a.googCodecName),a.codecImplementationName!=null&&(b+=String(a.codecImplementationName)));return b}function p(a,b){a.startTime==null&&(a.startTime=c("performanceNow")());var d=a.startTime;a.codecHistory==null&&(a.codecHistory=[]);b.length>0&&(a.codecHistory.length===0||a.codecHistory[a.codecHistory.length-1].codec!==b)&&a.codecHistory.push({codec:b,updateTime:c("performanceNow")()-d});a.codec=b}function q(a,b,e){Object.entries(e).forEach(function(f){var g=f[0];f=Number(f[1]);if(e.type==="ssrc"&&d("ZenonMediaStatsConfig").STATS_REQUESTED.includes(g)&&d("ZenonMediaStatsConfig").getSsrcStats().includes(g)||e.type==="VideoBwe"&&d("ZenonMediaStatsConfig").getVideoBweStats().includes(g)&&a.contentType!=="audio"&&a.remote===!1||e.type==="googCandidatePair"&&d("ZenonMediaStatsConfig").getGoogCandidatePairStats().includes(g))if(d("ZenonMediaStatsConfig").CUMULATIVE_STATS.includes(g)){if(g==="packetsLost"&&a.remote)return;b.cumulativeStat[g]!=null?g==="packetsLost"?b.cumulativeStat[g].updateNonStrictCumulative(f):b.cumulativeStat[g].update(f):b.cumulativeStat[g]=new(c("ZenonCumulativeMediaStat"))(f)}else d("ZenonMediaStatsConfig").DELTA_STATS.includes(g)&&(b.deltaStat[g]==null&&(b.deltaStat[g]=new(c("ZenonDeltaMediaStat"))()),b.deltaStat[g].add(f))})}function r(a,b,e){Object.entries(b).forEach(function(f){var g=f[0];f=Number(f[1]);if(!e||e.includes(g))if(l(g))a.cumulativeStat[g]!=null?g==="packetsLost"?a.cumulativeStat[g].updateNonStrictCumulative(f):a.cumulativeStat[g].update(f):a.cumulativeStat[g]=new(c("ZenonCumulativeMediaStat"))(f);else if(g===d("ZenonMediaStatsConfig").DERIVED_METRICS.FRAME_RATE_MEAN){var h=null;b.framesEncoded!=null?h=Number(b.framesEncoded):b.framesDecoded!=null&&(h=Number(b.framesDecoded));c("isTruthy")(h)&&(a.deltaStat[g]==null&&(a.deltaStat[g]=new(c("ZenonDeltaMediaStat"))()),a.deltaStat[g].add(f))}else m(g)&&(a.deltaStat[g]==null&&(a.deltaStat[g]=new(c("ZenonDeltaMediaStat"))()),a.deltaStat[g].add(f))})}function s(a,b){var e;a.simulcastStats===void 0&&(a.simulcastStats=new(d("ZenonSimulcastStats").ZenonSimulcastStats)());(e=a.simulcastStats)==null?void 0:e.update(b);b=(e=a.simulcastStats)==null?void 0:e.getNumLayerChanges();if(b!=null){e=d("ZenonMediaStatsConfig").DERIVED_METRICS.SIMULCAST_LAYER_CHANGES;a.cumulativeStat[e]!=null?a.cumulativeStat[e].update(b):a.cumulativeStat[e]=new(c("ZenonCumulativeMediaStat"))(b)}}function t(a){a.type==="local-candidate"||a.type==="remote-candidate"||h(0,64948);var b=a.candidateType,c=a.networkType;a=a.protocol;var d={};b!=null&&typeof b==="string"&&(d.candidateType=b);c!=null&&typeof c==="string"&&(d.networkType=c);a!=null&&typeof a==="string"&&(d.protocol=a);return d}g.filterLegacyMediaReports=j;g.filterMediaReports=a;g.getOrCreateTrackerFromMap=k;g.isCumulativeStat=l;g.isDeltaStat=m;g.makeStatsReportMap=b;g.updateTrackStatsWithChromiumLegacyReport=e;g.updateTrackStatsWithReport=f;g.updateTrackStatsFromSender=n}),98);
__d("ZenonTSLogDataUtil",["ZenonAuditedCheckpointLogId","ZenonInfraActionsLogger"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=["recv","inbound"],d=["send","outbound"];if(b.some(function(b){return a.toLowerCase().includes(b)}))return"inbound";if(d.some(function(b){return a.toLowerCase().includes(b)}))return"outbound";c("ZenonInfraActionsLogger").logError({auditId:c("ZenonAuditedCheckpointLogId").RP_ROOMS_INFRA_WWW__ERROR,checkpoint:"TsLogHolder Stream Name: "+a,error:"CANNOT_DETERMINE_STREAM_DIRECTION",errorDomain:"ZenonTSLogDataHelper"});return"inbound"}g.getMediaTrackDirection=a}),98);
__d("ZenonTSLogRegistry",["gkx"],(function(a,b,c,d,e,f,g){"use strict";var h={".":{counters:new Set(["ctime","btime"])},inbound_rtp_audio:{counters:new Set(["packetsLost_delta","packetsReceived_delta","bytesReceived","bytesReceived_delta","totalAudioEnergy_delta","googDecodingPLC_delta","googDecodingCNG_delta","audioLevel"])},inbound_rtp_video:{counters:new Set(["packetsLost_delta","packetsReceived_delta","bytesReceived","bytesReceived_delta","framesDecoded","framesDecoded_delta","frameWidth","frameHeight","framesPerSecond","avSync"])},outbound_rtp_audio:{counters:new Set(["bytesSent","bytesSent_delta","audioLevel","packetsLost_delta","totalAudioEnergy_delta"])},outbound_rtp_video:{counters:new Set(["video_videoCaptureIsStalled","video_videoEncodeIsStalled","video_videoSentIsStalled","packetsSent_delta","bytesSent","bytesSent_delta","framesEncoded","framesEncoded_delta","keyFramesEncoded_delta","frameWidth","frameHeight","framesPerSecond","packetsLost_delta"])}};a=function(){function a(a){this.$1=h,this.$2=!c("gkx")("1920")||a.allAllowed}var b=a.prototype;b.isCounterAllowed=function(a,b){return this.$2||((a=(a=this.$1[a])==null?void 0:a.counters.has(b))!=null?a:!1)};return a}();g["default"]=a}),98);
__d("ZenonVideoQpConversion",[],(function(a,b,c,d,e,f){"use strict";var g=[0,1,2,3,4,5,7,8,9,10,12,13,15,17,18,19,20,21,23,24,25,26,27,28,29,30,31,33,35,37,39,41,43,45,47,49,51,53,55,57,59,61,64,67,70,73,76,79,82,85,88,91,94,97,100,103,106,109,112,115,118,121,124,127],h=[1,5,12,28,42,53,64];function i(a){for(var b=0;b<g.length;b++)if(g[b]>=a)return b;return 63}function j(a){a=i(a);a=Math.max(1,Math.min(63,a));var b=h.length-1;for(var c=0;c<h.length;c++)if(h[c]>a){b=c;break}return Math.min(51,Math.floor(12+6*b+6*(a-h[b-1])/(h[b]-h[b-1])))}function a(a,b,c){if(a===0)return 0;else b=b/a;a=b;c||(a=j(a));return Math.round(a)}f.convertQp=a}),66);
__d("ZenonTSLogDataJSONHolder",["invariant","FBLogger","ZenonInfraActionsLogger","ZenonMediaStatsConfig","ZenonMediaStatsParser","ZenonTSLogDataUtil","ZenonTSLogRegistry","ZenonVideoQpConversion","gkx","pako"],(function(a,b,c,d,e,f,g,h){"use strict";var i={"new":1,checking:2,connected:3,completed:4,failed:5,disconnected:6,closed:7},j=1073741824;a=function(){function a(a){var b;this.$1={iceConnectionState:0,sendParametersState:null};this.$2=(b=a==null?void 0:a.endTimeMs)!=null?b:null;this.$3=(b=a==null?void 0:a.isE2eeMandated)!=null?b:!1;this.$4=(b=a==null?void 0:a.sharedIdx)!=null?b:0;this.$5=(b=a==null?void 0:a.source)!=null?b:"rtc_www";this.$6=(b=a==null?void 0:a.startTimeMs)!=null?b:null;this.$7=(b=a==null?void 0:a.streams)!=null?b:{};this.$8=new(c("ZenonTSLogRegistry"))({allAllowed:(a==null?void 0:a.isE2eeMandated)!==!0})}var b=a.prototype;b.getInternalState=function(){return{endTimeMs:this.$2,isE2eeMandated:this.$3,sharedIdx:this.$4,source:this.$5,startTimeMs:this.$6,streams:this.$7}};b.$9=function(a,b,c){if(c.includes("qp")&&a.counters.qpSum!=null&&(a.counters.framesDecoded!=null||a.counters.framesEncoded!=null)){a.counters.qp==null&&(a.counters.qp=Array(this.$4-a.bucketStart).fill(0));c=0;var e=0,f=this.$4-a.bucketStart;f>0?(a.counters.framesEncoded!=null?c=a.counters.framesEncoded[f]-a.counters.framesEncoded[f-1]:a.counters.framesDecoded!=null&&(c=a.counters.framesDecoded[f]-a.counters.framesDecoded[f-1]),e=a.counters.qpSum[f]-a.counters.qpSum[f-1]):(a.counters.framesEncoded!=null?c=a.counters.framesEncoded[f]:a.counters.framesDecoded!=null&&(c=a.counters.framesDecoded[f]),e=a.counters.qpSum[f]);a.counters.qp[f]=(a=d("ZenonVideoQpConversion").convertQp(c,e,b))!=null?a:0}};b.$10=function(a,b,c,e){var f=this,g=function(c,g){for(var h=0;h<c.length;h++){var i=c[h];if(b.includes(i))for(var j=a.values(),k=Array.isArray(j),l=0,j=k?j:j[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var m;if(k){if(l>=j.length)break;m=j[l++]}else{l=j.next();if(l.done)break;m=l.value}m=m;if(m.type===g&&m[i]!==void 0){var n;e.counters[i]==null&&(e.counters[i]=Array(f.$4-e.bucketStart).fill(0));n=(n=d("ZenonMediaStatsConfig").TSLOG_METRIC_SCALE[i])!=null?n:1;e.counters[i][f.$4-e.bucketStart]=Math.round(Number(m[i])*n)}}}};g(d("ZenonMediaStatsConfig").getTrackStats(),"track");g(d("ZenonMediaStatsConfig").getMediaSourceStats(),"media-source");if(c==="video"&&b.includes("qp")){g=!1;for(var c=a.values(),h=Array.isArray(c),i=0,c=h?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var j;if(h){if(i>=c.length)break;j=c[i++]}else{i=c.next();if(i.done)break;j=i.value}j=j;j.encoderImplementation!==void 0&&(g=String(j.encoderImplementation).includes("264"))}this.$9(e,g,b)}};b.$11=function(a){return a.map(function(b,c){return c===0?0:b-a[c-1]})};b.$12=function(a){if(a.type==="candidate-pair")return a.id;var b="unknown",c=["recv","inbound"],d=["send","outbound"];(c.some(function(b){return a.id.toLowerCase().includes(b)})||c.some(function(b){return a.type.toLowerCase().includes(b)}))&&(b="inbound");(d.some(function(b){return a.id.toLowerCase().includes(b)})||d.some(function(b){return a.type.toLowerCase().includes(b)}))&&(b="outbound");a.type==="inbound-rtp"||a.type==="remote-inbound-rtp"||a.type==="outbound-rtp"||a.type==="remote-outbound-rtp"||a.type==="ssrc"||h(0,64950);c=a.mediaType===void 0?"unknown":a.mediaType.toString();d=a.ssrc===void 0?"unknown":a.ssrc.toString();return b+"_"+c+"_"+d};b.$13=function(a){return a};b.$14=function(a,b){return a+"_rtp_"+b};b.$15=function(a,b,c,d){if(d&&Object.prototype.hasOwnProperty.call(d.counters,"estimatedPlayoutTimestamp")&&Object.prototype.hasOwnProperty.call(b.counters,"estimatedPlayoutTimestamp")){var e=d.counters.estimatedPlayoutTimestamp.length,f=b.counters.estimatedPlayoutTimestamp.length,g="avSync",h="avSyncSign";if(this.$8.isCounterAllowed(a,g)&&this.$8.isCounterAllowed(a,h)){var i=Math.min(f,e),k=new Array(i).fill(0),l=new Array(i).fill(0);for(var m=0;m<i;m++){var n=d.counters.estimatedPlayoutTimestamp[m],o=b.counters.estimatedPlayoutTimestamp[m];n>0&&o>0?n>=o?(l[m]=2,k[m]=Math.min(n-o,j)):(l[m]=1,k[m]=Math.min(o-n,j)):(l[m]=0,k[m]=0)}c.push({data:k,name:g});c.push({data:l,name:h})}o="audioTs";n="videoTs";if(this.$8.isCounterAllowed(a,o)&&this.$8.isCounterAllowed(a,n)){m=22089888e5+1598738e6;i=Math.max(f,e);k=new Array(e).fill(0);g=new Array(f).fill(0);l=null;for(h=0;h<i;h++){a=d.counters.estimatedPlayoutTimestamp[h];e=b.counters.estimatedPlayoutTimestamp[h];l==null&&(a>m&&e>m?l=Math.min(a,e):a>m?l=a:e>m&&(l=e));l!=null&&(a>m&&(k[h]=Math.max(Math.min(a-l,j),-j)),e>m&&(g[h]=Math.max(Math.min(e-l,j),-j)))}c.push({data:k,name:o});c.push({data:g,name:n})}}};b.$16=function(a,b,c,e){var f=[];for(var g in b.counters)!c.includes(g)&&this.$8.isCounterAllowed(a,g)&&f.push({data:b.counters[g],name:g}),d("ZenonMediaStatsParser").isCumulativeStat(g)&&!c.includes(g+"_delta")&&this.$8.isCounterAllowed(a,g+"_delta")&&f.push({data:this.$11(b.counters[g]),name:g+"_delta"});g=b.counters;c=g.fecPacketsDiscarded;g=g.fecPacketsReceived;var h="fecPacketsUsed_delta";if(this.$8.isCounterAllowed(a,h)&&c!=null&&g!=null){var i=Math.min(c.length,g.length),j=[];for(var k=0;k<i;k++)j.push(g[k]-c[k]);f.push({data:this.$11(j),name:h})}this.$17(a,b,f);this.$15(a,b,f,e);return f};b.$17=function(a,b,c){var d="neteqMeanWaitTime";if(this.$8.isCounterAllowed(a,d)&&Object.prototype.hasOwnProperty.call(b.counters,"jitterBufferDelay")&&Object.prototype.hasOwnProperty.call(b.counters,"jitterBufferEmittedCount")){a=Math.min(b.counters.jitterBufferDelay.length,b.counters.jitterBufferEmittedCount.length);var e=new Array(a).fill(0);for(var f=1;f<a;f++){var g=b.counters.jitterBufferDelay[f]-b.counters.jitterBufferDelay[f-1],h=b.counters.jitterBufferEmittedCount[f]-b.counters.jitterBufferEmittedCount[f-1];h===0?e[f]=0:e[f]=Math.round(g*1e3/h)}c.push({data:e,name:d})}};b.addSenderVideoStallData=function(a){var b=this;[[d("ZenonMediaStatsConfig").OUTBOUND_SCREEN_STATS_TRACKID,"screen"],[d("ZenonMediaStatsConfig").OUTBOUND_VIDEO_STATS_TRACKID,"video"]].forEach(function(c){var d=c[0];c=c[1];var e=a.get(d);if(e!=null){d=b.generateTslogStreamName(c,d);var f=b.$7[d];f==null&&(f={bucketEnd:b.$4,bucketStart:b.$4,contentType:c,counters:{},owner:""},b.$7[d]=f);b.updateVideoStallStats(e,f,b.$4,c)}})};b.addRenderedFrameData=function(a,b){var c=this;if(b.size===0)return;b.forEach(function(d){if(d.mediaType!=="video"||d.kind!=="video")return;var e=c.$12(d);e=c.$7[e];if(e==null)return;d=d.trackId!=null?b.get(String(d.trackId)):null;if(d==null||d.trackIdentifier==null||d.remoteSource===!1||d.ended===!0)return;d=d.trackIdentifier?String(d.trackIdentifier):"";if(!d)return;d=a.get(d);if(d){var f;e.counters.renderedWidth==null&&(e.counters.renderedWidth=Array(c.$4-e.bucketStart).fill(0));e.counters.renderedHeight==null&&(e.counters.renderedHeight=Array(c.$4-e.bucketStart).fill(0));var g=c.$4-e.bucketStart;e.counters.renderedWidth[g]=(f=d.renderedWidth)!=null?f:0;e.counters.renderedWidth[g]=Math.round(e.counters.renderedWidth[g]);e.counters.renderedHeight[g]=(f=d.renderedHeight)!=null?f:0;e.counters.renderedHeight[g]=Math.round(e.counters.renderedHeight[g]);c.$18(e,g,d)}})};b.addCallCpuData=function(a,b){var c=this;a=this.$13(a);var d=this.$7[a];d==null&&(d={bucketEnd:this.$4,bucketStart:this.$4,contentType:"client-metrics",counters:{},owner:""},this.$7[a]=d);d.bucketEnd=this.$4;Object.keys(b).forEach(function(a){c.addCounterValue(d,a,b[a])})};b.addHeapMemoryData=function(a,b){var c=this;a=this.$13(a);var d=this.$7[a];d==null&&(d={bucketEnd:this.$4,bucketStart:this.$4,contentType:"client-metrics",counters:{},owner:""},this.$7[a]=d);d.bucketEnd=this.$4;Object.keys(b).forEach(function(a){b[a]!=null&&c.addCounterValue(d,a,b[a])})};b.addCandidatePairStats=function(a){var b=this;if(a.size===0)return;a.forEach(function(a){if(a.type==="candidate-pair"){var c=b.$12(a),e=b.$7[c];e==null&&(e={bucketEnd:b.$4,bucketStart:b.$4,contentType:"candidate-pair",counters:{},owner:""},b.$7[c]=e);(b.$6==null||a.timestamp<b.$6)&&(b.$6=Math.round(a.timestamp));for(c in a)d("ZenonMediaStatsConfig").TSLOG_STATS_REQUESTED_FROM_CANDIDATE_PAIR.includes(c)&&b.addCounterValue(e,c,a[c],d("ZenonMediaStatsConfig").TSLOG_METRIC_SCALE[c]);e.bucketEnd=b.$4;(b.$2==null||a.timestamp>b.$2)&&(b.$2=Math.round(a.timestamp))}})};b.addData=function(a,b,c,e,f){var g=this;if(b.size===0)return;b.forEach(function(i){if(i.type==="track"||i.type==="media-source"||i.type==="candidate-pair"||i.type==="VideoBwe"||i.type==="googCandidatePair")return;var j=g.$12(i),k=g.$7[j];if(i.type==="ssrc"){if(k==null)return;for(var l in i)c.includes(l)&&d("ZenonMediaStatsConfig").getSsrcStats().includes(l)&&g.addCounterValue(k,l,i[l],d("ZenonMediaStatsConfig").TSLOG_METRIC_SCALE[l])}else{k==null&&(k={bucketEnd:g.$4,bucketStart:g.$4,contentType:e,counters:{},owner:f?f.id:"",ssrc:void 0},g.$7[j]=k);(g.$6==null||i.timestamp<g.$6)&&(g.$6=Math.round(i.timestamp));i.type==="inbound-rtp"||i.type==="outbound-rtp"||h(0,64953);i.ssrc!=null&&(k.ssrc=i.ssrc.toString());g.addCounterValue(k,"trackEnabled",a);for(l in i){c.includes(l)&&g.addCounterValue(k,l,i[l],d("ZenonMediaStatsConfig").TSLOG_METRIC_SCALE[l]);if(l==="estimatedPlayoutTimestamp"&&c.includes(d("ZenonMediaStatsConfig").DERIVED_METRICS.E2E_LATENCY)){i.type==="inbound-rtp"||h(0,64949);j=new Date(Date.UTC(0,0));j=Date.now()-j.getTime()-Number(i[l]);k.counters[d("ZenonMediaStatsConfig").DERIVED_METRICS.E2E_LATENCY]==null&&(k.counters[d("ZenonMediaStatsConfig").DERIVED_METRICS.E2E_LATENCY]=Array(g.$4-k.bucketStart).fill(0));k.counters[d("ZenonMediaStatsConfig").DERIVED_METRICS.E2E_LATENCY][g.$4-k.bucketStart]=j}}g.$10(b,c,e,k)}k.bucketEnd=g.$4;(g.$2==null||i.timestamp>g.$2)&&(g.$2=Math.round(i.timestamp))})};b.addNonMediaStates=function(){var a=this;this.$7.nonMediaState==null&&(this.$7.nonMediaState={bucketEnd:this.$4,bucketStart:this.$4,contentType:"non-media-state",counters:{},owner:""});var b=this.$7.nonMediaState;Object.keys(this.$1).forEach(function(c){if(c==="sendParametersState"){var d=a.$1[c];if(d!=null)for(var e=0;e<d.encodings.length;e++){var f=d.encodings[e],g="l"+e,h=0;f.active!=null&&(h=f.active?2:1);a.addCounterValue(b,g+"a",h);h=0;f.maxBitrate!=null&&(h=f.maxBitrate);a.addCounterValue(b,g+"mb",h);h=0;f.scaleResolutionDownBy!=null&&(h=f.scaleResolutionDownBy);a.addCounterValue(b,g+"sr",h,100)}}else a.addCounterValue(b,c,a.$1[c])});b.bucketEnd=this.$4};b.advance=function(){var a,b=this.$7["."];b==null&&(b={bucketEnd:this.$4,bucketStart:this.$4,contentType:"time",counters:{btime:[],ctime:[]}},this.$7["."]=b);a=(a=this.$2)!=null?a:0;var c=b.counters,d=c.btime;c=c.ctime;c.push(Math.round(a-((a=this.$6)!=null?a:0)));d.push(Math.round(c[this.$4]-((a=c[this.$4-1])!=null?a:0)));b.bucketEnd=this.$4;this.$4++};b.onIceConnectionStateChange=function(a){this.$1.iceConnectionState=(a=i[a])!=null?a:0};b.onRtpSendParametersStateChange=function(a){this.$1.sendParametersState=a};b.serialize=function(a){if(Object.keys(this.$7).length===0)return{format:"JSON",timeSeries:null};a=(a=a)!=null?a:d("ZenonMediaStatsConfig").TSLOG_STATS_TO_SUPPRESS;var b={source:this.$5,start_time_ms:Math.round(Number(this.$6)),streams:[]},e=new Map(),f=0,g=new Map(),h=["audio","video","screen"];for(var i in this.$7){var j=this.$7[i];if(h.includes(j.contentType)){var k=d("ZenonTSLogDataUtil").getMediaTrackDirection(i);k==="inbound"&&j.owner!=null&&!e.has(j.owner)&&(e.set(j.owner,f.toString()),f++);k=j.owner+j.contentType;g.set(k,i)}}j={};for(k in this.$7){f=this.$7[k];i=void 0;var l=k;if(h.includes(f.contentType)){var m=d("ZenonTSLogDataUtil").getMediaTrackDirection(k);j[m+f.contentType]=j[m+f.contentType]+1||0;l=this.$14(m,f.contentType)}else f.contentType==="candidate-pair"?l="cp":f.contentType==="client-metrics"&&(l="cm");m=g.get(f.owner+"audio");f.contentType==="video"&&m!=null&&(i=this.$7[m]);m={bucket_end:f.bucketEnd,bucket_start:f.bucketStart,counters:this.$16(l,this.$7[k],a,i),name:l,props:{}};e.has(this.$7[k].owner)&&(m.props.seq=e.get(this.$7[k].owner));this.$7[k].ssrc!=null&&(m.props.ssrc=this.$7[k].ssrc);c("gkx")("1170")&&(m.props.id=k);b.streams.push(m)}return this.$19(JSON.stringify(b))};b.updateVideoStallStats=function(a,b,c,e){[d("ZenonMediaStatsConfig").DERIVED_METRICS.VIDEO_CAPTURE_IS_STALLED,d("ZenonMediaStatsConfig").DERIVED_METRICS.VIDEO_ENCODE_IS_STALLED,d("ZenonMediaStatsConfig").DERIVED_METRICS.VIDEO_SENT_IS_STALLED].forEach(function(d){var f=e+"_"+d,g=c-b.bucketStart;b.counters[f]==null&&(b.counters[f]=Array(g).fill(0));b.counters[f][g]=(g=(f=a.deltaStat[d])==null?void 0:f.getLastAddedValue())!=null?g:0;b.bucketEnd=c})};b.generateTslogStreamName=function(a,b){return"outbound_"+a+"_"+b};b.addCounterValue=function(a,b,c,d){var e=Math.max(this.$4-a.bucketStart,0);a.counters[b]==null&&(a.counters[b]=Array(e).fill(0));d=Math.round(Number(c)*((c=d)!=null?c:1));a.counters[b][e]=d};b.$19=function(a){try{var b=btoa(c("pako").deflate(a,{to:"string"}));c("ZenonInfraActionsLogger").logCheckpoint({checkpoint:"Compressed TSLog data of length "+a.length+" to "+b.length});return{format:"B64_DEFLATE",timeSeries:b}}catch(a){c("FBLogger")("rtc_www").catching(a).warn("Caught exception while compressing TSLog")}c("ZenonInfraActionsLogger").logCheckpoint({checkpoint:"Not compressing TSLog data of length "+a.length});return{format:"JSON",timeSeries:a}};b.$18=function(a,b,c){c=c.displayResolutionData;if(!c)return;a.counters.rrrWidth==null&&(a.counters.rrrWidth=Array(this.$4-a.bucketStart).fill(0));a.counters.rrrHeight==null&&(a.counters.rrrHeight=Array(this.$4-a.bucketStart).fill(0));a.counters.rrrStreamType==null&&(a.counters.rrrStreamType=Array(this.$4-a.bucketStart).fill(0));a.counters.rrrWidth[b]=c.renderWidth?Math.round(c.renderWidth):0;a.counters.rrrHeight[b]=c.renderHeight?Math.round(c.renderHeight):0;a.counters.rrrStreamType[b]=(a=c.streamType)!=null?a:0};return a}();g["default"]=a}),98);
__d("ZenonMediaStatsManager",["DateConsts","FBLogger","Network","ZenonCircularBuffer","ZenonDeltaMediaStat","ZenonFirstMediaPacketFinder","ZenonHistogramCounter","ZenonMediaActionLogger","ZenonMediaStatsConfig","ZenonMediaStatsReportPoller","ZenonMediaStatsSerializer","ZenonNetworkQualityMonitor","ZenonRenderedView","ZenonTSLogDataJSONHolder","asyncToGeneratorRuntime","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h=5e3,i="[ZenonMediaStatsManager]";a=function(){function a(a){var b;this.$9=null;this.__iceconnectionstate="disconnected";this.$20=null;this.$1=a.peerConnection;this.$2=a.tracks;this.$3=a.trackToSenderMap;this.$4=a.mediaStats;this.$6=a.onMediaStatUpdate;this.$21=a.areTslogsEnabled;this.$7=this.$21?new(c("ZenonTSLogDataJSONHolder"))({isE2eeMandated:a.isE2eeMandated}):null;this.__videoDurationTracker=a.videoDurationTracker;this.$8=(b=a.pollingIntervalMs)!=null?b:h;this.$5=function(){};this.$10=new(d("ZenonNetworkQualityMonitor").ZenonNetworkQualityMonitor)();this.$11={audioDevices:[],videoDevices:[]};this.$12=new(c("ZenonFirstMediaPacketFinder"))(a.peerConnection,a.onFirstMediaPacket);this.$13=new(c("ZenonHistogramCounter"))(200,1e3,200);this.$14=new Map();this.$15=new Map();b=d("DateConsts").MS_PER_MIN/this.$8;try{this.$16=new(c("ZenonCircularBuffer"))(b)}catch(a){c("ZenonMediaActionLogger").logErrorToFbLogger(i+(" Error init circular buffer for ecv RTT "+b),"ZenonCircularBuffer",a,"warn")}try{this.$17=new(c("ZenonCircularBuffer"))(b)}catch(a){c("ZenonMediaActionLogger").logErrorToFbLogger(i+(" Error init circular buffer for ecv neteq wait time "+b),"ZenonCircularBuffer",a,"warn")}try{this.$18=new(c("ZenonCircularBuffer"))(b)}catch(a){c("ZenonMediaActionLogger").logErrorToFbLogger(i+(" Error init circular buffer for ecv plccng "+b),"ZenonCircularBuffer",a,"warn")}try{this.$19=new(c("ZenonCircularBuffer"))(b)}catch(a){c("ZenonMediaActionLogger").logErrorToFbLogger(i+(" Error init circular buffer for ecv Video Freeze "+b),"ZenonCircularBuffer",a,"warn")}try{this.$20=new(c("ZenonCircularBuffer"))(b+1)}catch(a){c("ZenonMediaActionLogger").logErrorToFbLogger(i+(" Error init circular buffer for ecv AV Sync "+(b+1)),"ZenonCircularBuffer",a,"warn")}}var e=a.prototype;e.listen=function(){var a=this;this.$1.addEventListener("iceconnectionstatechange",function(b){b=b.target;a.__iceconnectionstate=b.iceConnectionState;switch(a.__iceconnectionstate){case"connected":a.pollRecurring();break;case"failed":case"disconnected":a.updateNetworkStatus(a.$10.determineNetworkStatus(null,!0));break}})};e.pollOnce=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){try{var a=Array.from(new Set([].concat(Array.from(this.$2.values()),Array.from(this.$3.values()))));yield d("ZenonMediaStatsReportPoller").updateStatsFromConnection(a,this.$4,this.$13,this.$1,this.$7,this.$8);if(this.$9!=null){var b=d("ZenonMediaStatsSerializer").getMediaStats(this.$2,this.$4,this.$12,this.__videoDurationTracker,this.$13,this.$3,this.$11);this.logEcvSenderRttStats(b);this.logEcvNetEqWaitTimeStats(b);this.logEcvPlccngStats(b);this.logEcvVideoFreezeStats(b);c("gkx")("4472")&&this.logEcvAVSyncStats(b);this.$6(b)}yield d("ZenonMediaStatsReportPoller").updateVideoCodecFromReceivers(a,this.$1,this.$15)}catch(a){c("FBLogger")("rtc_www").catching(a).warn("Error polling media metrics.")}this.updateNetworkStatus(this.$10.determineNetworkStatus(this.$4,this.__iceconnectionstate==="failed"||this.__iceconnectionstate==="disconnected"));this.updateNetworkHealthStats()});function e(){return a.apply(this,arguments)}return e}();e.pollRecurring=function(){var a=this;if(this.$9!=null)return;this.$9=window.setInterval(function(){return a.pollOnce()},this.$8);this.pollOnce()};e.stopPolling=function(){this.$9!=null&&(window.clearInterval(this.$9),this.$9=null),this.logNetworkHealthStats(),this.logAudioReceiverStats()};e.onRemoteTrackAdded=function(a){this.$12.setUpForTrackType(a.contentType)};e.timeSeries=function(){var a;return(a=(a=this.$7)==null?void 0:a.serialize())!=null?a:null};e.resetTimeSeries=function(){this.$21&&(this.$7=new(c("ZenonTSLogDataJSONHolder"))())};e.setNetworkStatusListener=function(a){this.$5=a};e.updateNetworkStatus=function(a){this.$5(a)};e.updateNetworkHealthStats=function(){if(!c("Network").containsNetworkInformation())return;for(var a of d("ZenonMediaStatsConfig").NETWORK_HEALTH_STATS.values()){var b=this.$14.get(a);b==null&&(b=new(c("ZenonDeltaMediaStat"))(),this.$14.set(a,b));this.$22(a,b)}};e.$22=function(a,b){var e=0;switch(a){case"bandwidth":e=c("Network").getBandwidth();break;case"rtt":e=c("Network").getRTT();break;default:c("FBLogger")("rtc_www").warn(a+" stats collection is not implemented")}e!=null?b.add(e):d("ZenonMediaStatsConfig").isPreChromium86()&&c("FBLogger")("rtc_www").warn(a+" in null. Skipped logging")};e.logNetworkHealthStats=function(){var a;if(((a=this.$14.get("bandwidth"))==null?void 0:a.getAverage())!=null||((a=this.$14.get("rtt"))==null?void 0:a.getAverage())!=null){a=JSON.stringify({bandwidth:(a=this.$14.get("bandwidth"))==null?void 0:a.getAverage(),rtt:(a=this.$14.get("rtt"))==null?void 0:a.getAverage()});c("ZenonMediaActionLogger").logEvent({checkpoint:"Network health stats "+a})}};e.logEcvSenderRttStats=function(a){var b=a.sender.avgrtt;b!=null&&this.$23(b,this.$16,function(b){a.ecv.ecv_rtt_ms=b})};e.logEcvPlccngStats=function(a){var b=a.receiver.dec_plc_cng;b!=null&&this.$23(b,this.$18,function(b){a.ecv.ecv_plccng=b})};e.logEcvNetEqWaitTimeStats=function(a){var b=a.DebugAudioMetrics.NetworkReceive.jb_nm;b=b==null?void 0:(b=b.neteq)==null?void 0:b.meanWait;b!=null&&this.$23(Number(b),this.$17,function(b){a.ecv.ecv_neteq_wait_time_ms=b})};e.logEcvVideoFreezeStats=function(a){var b;b=(b=a.video.receiver)==null?void 0:b.frdur500;b!=null&&this.$23(Number(b),this.$19,function(b){a.ecv.ecv_video_freeze_duration_above_500_ms=b})};e.logEcvAVSyncStats=function(a){var b;b=(b=a.video.receiver)==null?void 0:b.avhist;b&&b.length>0&&(b.length===6?this.$24(Number(b[b.length-1]),this.$20,function(b){a.ecv.ecv_av_sync_above_1000_ms=b}):c("ZenonMediaActionLogger").logCheckpoint(i+" AV Sync Histogram bin size is changed"))};e.$24=function(a,b,c){if(b){b.add(a);a=b.getDelta();a!=null&&a>0&&c(a.toString())}};e.$23=function(a,b,c){b.add(a);a=b.getAvg();a!=null&&c(a.toString())};e.logAudioReceiverStats=function(){var a,b={jbd:{},rtt:{}};this.$4.forEach(function(a){d("ZenonMediaStatsSerializer").addAudioReceiverPercentStats(b,a,c("ZenonRenderedView").GRID,"audio")});if(((a=b.jbd)==null?void 0:a.avg)!=null||((a=b.rtt)==null?void 0:a.avg)!=null){a=JSON.stringify({AudioPercent:b});c("ZenonMediaActionLogger").logEvent({checkpoint:"Audio Receiver Percent Stats "+a})}};e.getNetworkHealthStats=function(){return this.$14};return a}();g["default"]=a}),98);
__d("ZenonAudioLevelDeriver",["ZenonCumulativeMediaStat","ZenonMediaStatsConfig"],(function(a,b,c,d,e,f,g){"use strict";var h=9.5/Math.log(32767);function i(a,b){a=Math.round(20+h*Math.log(a/b));a=Math.max(1,Math.min(a,20));return a}function j(a,b){var c=-127;a>0&&b>0&&(c=Math.round(10*Math.log10(a/b)),c=Math.max(-127,Math.min(c,0)));c+=127;return c}function k(a,b,e){a!=null&&(e.cumulativeStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.AUDIO_LOG_LEVEL]==null?e.cumulativeStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.AUDIO_LOG_LEVEL]=new(c("ZenonCumulativeMediaStat"))(a):e.cumulativeStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.AUDIO_LOG_LEVEL].update(e.cumulativeStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.AUDIO_LOG_LEVEL].getCurrentValue()+a)),b!=null&&(e.cumulativeStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.AUDIO_LOUDNESS_LEVEL]==null?e.cumulativeStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.AUDIO_LOUDNESS_LEVEL]=new(c("ZenonCumulativeMediaStat"))(b):e.cumulativeStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.AUDIO_LOUDNESS_LEVEL].update(e.cumulativeStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.AUDIO_LOUDNESS_LEVEL].getCurrentValue()+b)),e.cumulativeStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.AUDIO_LOG_LEVEL_COUNT]==null?e.cumulativeStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.AUDIO_LOG_LEVEL_COUNT]=new(c("ZenonCumulativeMediaStat"))(1):e.cumulativeStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.AUDIO_LOG_LEVEL_COUNT].update(e.cumulativeStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.AUDIO_LOG_LEVEL_COUNT].getCurrentValue()+1)}function a(a,b){var c=0,e=0;a.filter(function(a){return a.webrtcTrack.readyState==="live"&&a.contentType==="audio"}).forEach(function(a){if(a.remote&&a.webrtcTrack.enabled===!1)return;var d=b.get(a.trackId);if(d==null||d.cumulativeStat.totalAudioEnergy==null||d.cumulativeStat.totalSamplesDuration==null)return;var f=d.cumulativeStat,g=f.totalAudioEnergy;f=f.totalSamplesDuration;g=g.getDeltaFromLastUpdate();f=f.getDeltaFromLastUpdate();if(f===0)return;if(a.remote===!0){c+=g;e=Math.max(e,f);a=i(g,f);k(a,null,d)}else{a=j(g,f);k(null,a,d)}});a=b.get(d("ZenonMediaStatsConfig").GLOBAL_STATS_TRACKID);if(a==null||e===0)return;var f=j(c,e);k(null,f,a)}g.computeAudioLevels=a}),98);
__d("ZenonAudioPlaybackIssueLogger",["ZenonMediaActionLogger"],(function(a,b,c,d,e,f,g){"use strict";var h=5e3;a=function(){function a(){this.$1=new Map()}var b=a.prototype;b.detectAudioPlaybackIssue=function(a,b){var c=this;a.filter(function(a){return a.webrtcTrack.enabled&&a.webrtcTrack.readyState==="live"&&a.contentType==="audio"&&a.remote}).forEach(function(a){var d=b.get(a.trackId);if(d==null)return;d=d.cumulativeStat;var e=d.bytesReceived;d=d.totalAudioEnergy;if(e==null||d==null||e.getTimeSinceLastUpdate()===0)return;d=d.getDeltaFromLastUpdate();var f=e.getDeltaFromLastUpdate()*8;e=e.getTimeSinceLastUpdate()/1e3;f=f/e;c.$1.has(a.trackId)||c.$1.set(a.trackId,!1);e=c.$1.get(a.trackId);d===0&&f>h?e===!1&&(c.logAudioPlaybackIssueCheckpoint("start",a.trackId,f,d),c.$1.set(a.trackId,!0)):e===!0&&(c.logAudioPlaybackIssueCheckpoint("end",a.trackId,f,d),c.$1.set(a.trackId,!1))})};b.logAudioPlaybackIssueCheckpoint=function(a,b,d,e){c("ZenonMediaActionLogger").logEvent({checkpoint:(a==="start"?"Detected new":"No longer detecting")+" audio playback issue for track "+b+". Bitrate is "+d+" bps, audio energy delta is "+e+".",mediaID:b})};return a}();b=new a();g["default"]=b}),98);
__d("ZenonHistogram",[],(function(a,b,c,d,e,f){"use strict";function g(a,b){return(a.value||0)-(b.value||0)}a=function(){function a(){this.$1=[],this.$2=!0}var b=a.prototype;b.$3=function(){this.$2===!1&&this.$1.sort(g),this.$2=!0};b.add=function(a){this.$1.push(a),this.$2=!1};b.getAvgAndPercentile=function(a,b){this.$2||this.$3();var c=b?this.$1.filter(b):this.$1;if(c.length===0)return{avg:null,percentiles:null};b=c.reduce(function(a,b){return a+b.value},0)/c.length;a=a.map(function(a){a=Math.min(100,Math.max(0,a));a=(c.length-1)*a/100;var b=Math.floor(a),d=Math.ceil(a);if(b===d)return c[b].value;var e=c[b].value*(d-a);d=c[d].value*(a-b);return e+d});return{avg:b,percentiles:a}};return a}();f["default"]=a}),66);
__d("ZenonPercentMediaStat",["ZenonHistogram","ZenonMediaStatsConfig"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){this.$1=new(c("ZenonHistogram"))()}var b=a.prototype;b.add=function(a,b,c,d){c={contentType:c,value:a,view:b,voiceEnergy:d};this.$1.add(c)};b.getAvgAndPercentile=function(a,b,c,e){var f;e==null?f=function(a){return a.view===b&&a.contentType===c}:f=function(a){var f=a.voiceEnergy>d("ZenonMediaStatsConfig").VOICE_ENERGY_THRESHOLD;return a.view===b&&a.contentType===c&&f===e};return this.$1.getAvgAndPercentile(a,f)};return a}();g["default"]=a}),98);
__d("ZenonAudioReceiverStatsUtils",["ZenonMediaStatsConfig","ZenonPercentMediaStat"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){a.forEach(function(a){a=b.get(a.trackId);a!=null&&(h(a,"roundTripTime",i(a,"googRtt",1),d("ZenonMediaStatsConfig").GLOBAL_STATS_RENDERED_VIEW,a.contentType?a.contentType:d("ZenonMediaStatsConfig").GLOBAL_STATS_CONTENT_TYPE,0),h(a,"jitterBufferDelay",j(a,"jitterBufferDelay","jitterBufferEmittedCount",1e3),d("ZenonMediaStatsConfig").GLOBAL_STATS_RENDERED_VIEW,a.contentType?a.contentType:d("ZenonMediaStatsConfig").GLOBAL_STATS_CONTENT_TYPE,0))})}function h(a,b,d,e,f,g){if(d==null)return;a.percentStat[b]==null&&(a.percentStat[b]=new(c("ZenonPercentMediaStat"))());a.percentStat[b].add(d,e,f,g)}function i(a,b,c){if(a.deltaStat[b]){a=a.deltaStat[b].getLastAddedValue();return a!=null?a*((b=c)!=null?b:1):null}return null}function j(a,b,c,d){if(a.cumulativeStat[c]&&a.cumulativeStat[c].getDeltaFromLastUpdate()!==0&&a.cumulativeStat[b]!=null){b=a.cumulativeStat[b].getDeltaFromLastUpdate()/a.cumulativeStat[c].getDeltaFromLastUpdate();return b*((a=d)!=null?a:1)}return null}g.updateTracksWithAudioReceivePercentStats=a;g.addPercentStatToTracker=h;g.getValueFromDelta=i;g.getRateFromCumulative=j}),98);
__d("ZenonAudioStallStatsDeriver",["ZenonCumulativeMediaStat","ZenonDeltaMediaStat","ZenonMediaActionLogger","ZenonMediaStatsConfig","ZenonMediaStatsParser"],(function(a,b,c,d,e,f,g){"use strict";var h=5e3;function i(a){var b=a.audioEncoding;a=a.cumulativeStat;var e=a.bytesSent,f=a.timestamp;a=a[d("ZenonMediaStatsConfig").DERIVED_METRICS.AUDIO_DEV_STALL_DURATION];var g=(b==null?void 0:b.enabled)===!1||(b==null?void 0:b.enabled)===!0&&(b==null?void 0:b.prevState)===!1;if(!g&&e!=null&&f!=null){if(e.getCurrentTimeSinceLastUpdate()>h&&a!=null){if(a.getCurrentTimeSinceLastUpdate()!==0){c("ZenonMediaActionLogger").logEvent({checkpoint:"[audio stall deriver] calculated a stall due to byteSent update time "+e.getCurrentTimeSinceLastUpdate()+" greater than threshold. audioEncoding: "+JSON.stringify((g=b)!=null?g:{})})}return a.getCurrentTimeSinceLastUpdate()}if((e.getCurrentValue()===0||e.getDeltaFromLastUpdate()===0)&&f.getDeltaFromLastUpdate()!==0){c("ZenonMediaActionLogger").logEvent({checkpoint:"[audio stall deriver] calculated a stall due to no "+(e.getCurrentValue()===0?"current bytes":"delta bytes")+".  audioEncoding: "+JSON.stringify((g=b)!=null?g:{})})}return e.getCurrentValue()===0||e.getDeltaFromLastUpdate()===0?f.getDeltaFromLastUpdate():0}return 0}function j(a){a.deltaStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.AUDIO_DEV_IS_STALLED]==null&&(a.deltaStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.AUDIO_DEV_IS_STALLED]=new(c("ZenonDeltaMediaStat"))()),a.cumulativeStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.AUDIO_DEV_REC_STALLS]==null&&(a.cumulativeStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.AUDIO_DEV_REC_STALLS]=new(c("ZenonCumulativeMediaStat"))(0)),a.cumulativeStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.AUDIO_DEV_TOTAL_STALLS]==null&&(a.cumulativeStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.AUDIO_DEV_TOTAL_STALLS]=new(c("ZenonCumulativeMediaStat"))(0)),a.cumulativeStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.AUDIO_DEV_STALL_DURATION]==null&&(a.cumulativeStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.AUDIO_DEV_STALL_DURATION]=new(c("ZenonCumulativeMediaStat"))(0))}function k(a){var b=i(a),c=b===0?0:1;j(a);var e=!m(a)&&c?1:0;a.cumulativeStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.AUDIO_DEV_REC_STALLS].update(a.cumulativeStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.AUDIO_DEV_REC_STALLS].getCurrentValue()+e);a.cumulativeStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.AUDIO_DEV_TOTAL_STALLS].update(a.cumulativeStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.AUDIO_DEV_TOTAL_STALLS].getCurrentValue()+e);a.cumulativeStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.AUDIO_DEV_STALL_DURATION].update(a.cumulativeStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.AUDIO_DEV_STALL_DURATION].getCurrentValue()+b);a.deltaStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.AUDIO_DEV_IS_STALLED].add(c)}function l(a,b){b=b?0:1;var e=!m(a)&&b?1:0;a.cumulativeStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.AUDIO_DEV_REC_STALLS].update(a.cumulativeStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.AUDIO_DEV_REC_STALLS].getCurrentValue()+e);a.cumulativeStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.AUDIO_DEV_TOTAL_STALLS].update(a.cumulativeStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.AUDIO_DEV_TOTAL_STALLS].getCurrentValue()+e);a.deltaStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.AUDIO_DEV_IS_STALLED].add(b);var f=a.cumulativeStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.AUDIO_DEV_STALL_DURATION];b=b&&f?f.getCurrentTimeSinceLastUpdate():0;a.cumulativeStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.AUDIO_DEV_STALL_DURATION].update(a.cumulativeStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.AUDIO_DEV_STALL_DURATION].getCurrentValue()+b);e!==0&&c("ZenonMediaActionLogger").logEvent({checkpoint:"[audio stall deriver] calculated additional stall due no tracks"})}function m(a){return a.deltaStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.AUDIO_DEV_IS_STALLED]!=null&&a.deltaStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.AUDIO_DEV_IS_STALLED].getLastAddedValue()===1}function a(a,b){var c=0;a.filter(function(a){return a.contentType==="audio"&&!a.remote&&a.webrtcTrack.readyState==="live"}).forEach(function(a){c++;a=b.get(a.trackId);a!=null&&k(a)});a=d("ZenonMediaStatsParser").getOrCreateTrackerFromMap(b,d("ZenonMediaStatsConfig").OUTBOUND_AUDIO_STATS_TRACK_INFO);a!=null&&(j(a),c===0?l(a,!1):l(a,!0))}g.updateStatsWithDerivedMetric=a}),98);
__d("ZenonAvSyncDeriver",["ZenonCumulativeMediaStat","ZenonDeltaMediaStat","ZenonMediaStatsConfig"],(function(a,b,c,d,e,f,g){"use strict";function h(a){a=a.webrtcStream.getAudioTracks();return a!=null&&a.length>0?a[0].id:null}function i(a){var b;if(a.cumulativeStat.totalAudioEnergy!=null&&a.cumulativeStat.totalAudioEnergy.getDeltaFromLastUpdate()<=d("ZenonMediaStatsConfig").VOICE_ENERGY_THRESHOLD){a.isAudioEnergyLow=!0;return!0}b=(b=a.isAudioEnergyLow)!=null?b:!1;a.isAudioEnergyLow=!1;return b}function a(a,b,e){a.filter(function(a){return a.contentType==="video"&&a.remote}).forEach(function(f){var g=h(f),k=a.find(function(a){return a.webrtcTrack.id===g});if(k!=null){k=b.get(k.trackId);var l=b.get(f.trackId);if(k!=null&&k.cumulativeStat.estimatedPlayoutTimestamp!=null&&l!=null&&l.cumulativeStat.estimatedPlayoutTimestamp!=null){var m,n,o;f=l.cumulativeStat.estimatedPlayoutTimestamp;var p=k.cumulativeStat.estimatedPlayoutTimestamp;m=(m=l.lastEstimatedPlayoutTimestamp)!=null?m:0;n=(n=k.lastEstimatedPlayoutTimestamp)!=null?n:0;l.lastEstimatedPlayoutTimestamp=f.getCurrentValue();k.lastEstimatedPlayoutTimestamp=p.getCurrentValue();var q=l.cumulativeStat.packetsReceived?l.cumulativeStat.packetsReceived.getDeltaFromLastUpdate()>0:!1,r=k.cumulativeStat.packetsReceived?k.cumulativeStat.packetsReceived.getDeltaFromLastUpdate()>0:!1;if(((o=l.lastEstimatedPlayoutTimestamp)!=null?o:0)<=m||((o=k.lastEstimatedPlayoutTimestamp)!=null?o:0)<=n||i(k)||!q||!r){j(l,d("ZenonMediaStatsConfig").DERIVED_METRICS.AV_SYNC_COUNT,0);j(l,d("ZenonMediaStatsConfig").DERIVED_METRICS.AV_SYNC_OOB,0);return}j(l,d("ZenonMediaStatsConfig").DERIVED_METRICS.AV_SYNC_COUNT,1);m=p.getCurrentValue()-f.getCurrentValue();o=Math.abs(m);if(o>d("ZenonMediaStatsConfig").AV_SYNC_CUTOFF){j(l,d("ZenonMediaStatsConfig").DERIVED_METRICS.AV_SYNC_OOB,1);return}j(l,d("ZenonMediaStatsConfig").DERIVED_METRICS.AV_SYNC_OOB,0);n=[{key:d("ZenonMediaStatsConfig").DERIVED_METRICS.AV_SYNC,value:m},{key:d("ZenonMediaStatsConfig").DERIVED_METRICS.AV_SYNC_ABS,value:o}];n.forEach(function(a){l.deltaStat[a.key]==null&&(l.deltaStat[a.key]=new(c("ZenonDeltaMediaStat"))()),l.deltaStat[a.key].add(a.value)});e.update(o)}}})}function j(a,b,d){a.cumulativeStat[b]==null&&(a.cumulativeStat[b]=new(c("ZenonCumulativeMediaStat"))(0)),a.cumulativeStat[b].update(a.cumulativeStat[b].getCurrentValue()+d)}g.findAssociatedAudioTrackId=h;g.isMutedDuringInterval=i;g.updateTrackerWithAvSync=a}),98);
__d("ZenonE2ELatencyDeriver",["ZenonDeltaMediaStat","ZenonMediaStatsConfig"],(function(a,b,c,d,e,f,g){"use strict";var h=-22089888e5;function a(a,b){a.filter(function(a){return a.remote}).forEach(function(a){a=b.get(a.trackId);var e=d("ZenonMediaStatsConfig").DERIVED_METRICS.E2E_LATENCY;if(a!=null&&a.cumulativeStat.estimatedPlayoutTimestamp!=null&&a.cumulativeStat.estimatedPlayoutTimestamp.getDeltaFromLastUpdate()>0){var f=Date.now()-h-a.cumulativeStat.estimatedPlayoutTimestamp.getCurrentValue();a.deltaStat[e]==null&&(a.deltaStat[e]=new(c("ZenonDeltaMediaStat"))());a.deltaStat[e].add(f)}})}g.updateTrackerWithE2ELatency=a}),98);
__d("ZenonMediaStatsUtil",["ZenonArmadilloLoggingChecks","gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return(c("gkx")("965758")||c("gkx")("211"))&&((a==null?void 0:a.isE2eeMandated)!==!0||d("ZenonArmadilloLoggingChecks").areArmadilloTslogsEnabled())}g.shouldUseTSLog=a}),98);
__d("ZenonMuteStateDeriver",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){a.forEach(function(a){var c=b.get(a.trackId);if(c==null)return;c.isMuted=!a.enabled||a.webrtcTrack.readyState==="ended"})}f.updateMuteState=a}),66);
__d("ZenonOutboundStatsWriter",["ZenonCumulativeMediaStat","ZenonDeltaMediaStat","ZenonMediaStatsConfig","ZenonMediaStatsParser"],(function(a,b,c,d,e,f,g){"use strict";var h=Object.freeze({audio:d("ZenonMediaStatsConfig").OUTBOUND_AUDIO_STATS_TRACK_INFO,screen:d("ZenonMediaStatsConfig").OUTBOUND_SCREEN_STATS_TRACK_INFO,screen_audio:d("ZenonMediaStatsConfig").OUTBOUND_SCREEN_AUDIO_STATS_TRACK_INFO,video:d("ZenonMediaStatsConfig").OUTBOUND_VIDEO_STATS_TRACK_INFO});function i(a,b,e){if(e==null)return;a.cumulativeStat[b]==null?a.cumulativeStat[b]=new(c("ZenonCumulativeMediaStat"))(e.getCurrentValue()):b==="packetsLost"||b===d("ZenonMediaStatsConfig").DERIVED_METRICS.PACKETS_LOST_CORRECTED?a.cumulativeStat[b].updateNonStrictCumulative(a.cumulativeStat[b].getCurrentValue()+e.getDeltaFromLastUpdate()):a.cumulativeStat[b].update(a.cumulativeStat[b].getCurrentValue()+e.getDeltaFromLastUpdate())}function j(a,b,d){if(d==null)return;a.deltaStat[b]==null&&(a.deltaStat[b]=new(c("ZenonDeltaMediaStat"))());d=d.getLastAddedValue();d!=null&&a.deltaStat[b].add(d)}function a(a,b){a.filter(function(a){return a.remote===!1&&a.webrtcTrack.readyState==="live"}).forEach(function(a){var c=b.get(a.trackId);if(c!=null){a=h[a.contentType];a=d("ZenonMediaStatsParser").getOrCreateTrackerFromMap(b,a);var e=c.cumulativeStat,f=c.deltaStat,g=c.histResScale;c.percentStat;c.simulcastStats;c=babelHelpers.objectWithoutPropertiesLoose(c,["cumulativeStat","deltaStat","histResScale","percentStat","simulcastStats"]);Object.assign(a,c);a.histResScale=[].concat(g);for(c in e)i(a,c,e[c]);for(g in f)j(a,g,f[g])}})}g.updateOutboundStats=a}),98);
__d("ZenonPacketsLostDeriver",["ZenonCumulativeMediaStat","ZenonMediaStatsConfig"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){a.filter(function(a){return a.webrtcTrack.enabled===!0&&a.webrtcTrack.readyState==="live"}).forEach(function(a){var e=b.get(a.trackId);if(e==null||e.cumulativeStat.packetsLost==null)return;var f=e.cumulativeStat.packetsLost;a.remote?a=e.cumulativeStat.packetsReceived:a=e.cumulativeStat.packetsSent;if(e.cumulativeStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.PACKETS_LOST_CORRECTED]==null)e.cumulativeStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.PACKETS_LOST_CORRECTED]=new(c("ZenonCumulativeMediaStat"))(f.getCurrentValue());else{a=a!=null&&a.isReset()?f.getCurrentValue():f.getDeltaFromLastUpdate();e.cumulativeStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.PACKETS_LOST_CORRECTED].updateNonStrictCumulative(e.cumulativeStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.PACKETS_LOST_CORRECTED].getCurrentValue()+a)}})}g.updatePacketsLost=a}),98);
__d("ZenonVideoQualityDeriver",["ZenonMediaStatsConfig"],(function(a,b,c,d,e,f,g){"use strict";var h=1280*720;b=160*96;var i=Math.log2(h/b);c=51;var j=16,k=c-j,l=k+Math.floor(i*6);function m(a){var b=Math.max(1,Math.min(63,a));a=[1,5,12,28,42,53,64];var c=a.findIndex(function(a){return a>b});return c==null?0:Math.min(51,Math.floor(12+6*c+6*(b-a[c-1])/(a[c]-a[c-1])))}function a(a){var b=a.cumulativeStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.VIDEO_CONVERTED_QP_SUM],c=a.cumulativeStat.framesEncoded,e=a.deltaStat,f=e.frameHeight;e=e.frameWidth;if(b==null||c==null||f==null||e==null)return;c=c.getDeltaFromLastUpdate();b=b.getDeltaFromLastUpdate();e=e.getLastAddedValue();f=f.getLastAddedValue();if(c===0||f==null||e==null||e<=0||f<=0)return;b=b/c;if(b<=0)return;((c=a.codec)==null?void 0:c.indexOf("264"))===-1&&((c=a.codec)==null?void 0:c.indexOf("265"))===-1?a=m(b):a=b;c=Math.max(0,Math.min(k,a-j));b=e*f;a=Math.max(0,Math.min(i,Math.log2(h/b)));return Math.max(0,l-c-a*6)/l*100}g._convertToH264QP=m;g.computeVideoQuality=a}),98);
__d("ZenonPerStreamAggregator",["ZenonAvSyncDeriver","ZenonDeltaMediaStat","ZenonMediaStatsConfig","ZenonMediaStatsParser","ZenonPercentMediaStat","ZenonRenderedView","ZenonVideoQualityDeriver"],(function(a,b,c,d,e,f,g){"use strict";var h=Object.freeze({audio:d("ZenonMediaStatsConfig").OUTBOUND_AUDIO_STATS_TRACK_INFO,screen:d("ZenonMediaStatsConfig").OUTBOUND_SCREEN_STATS_TRACK_INFO,screen_audio:d("ZenonMediaStatsConfig").OUTBOUND_SCREEN_AUDIO_STATS_TRACK_INFO,video:d("ZenonMediaStatsConfig").OUTBOUND_VIDEO_STATS_TRACK_INFO});function a(a,b){s(a,b),r(a,b),q(a,b)}function i(a,b,d,e,f,g){if(d==null)return;a.percentStat[b]==null&&(a.percentStat[b]=new(c("ZenonPercentMediaStat"))());a.percentStat[b].add(d,e,f,g)}function j(a,b){return a<b?a:b}function k(a,b){var c=b.get(a.trackId),e=0;if(c==null)return e;if(a.contentType==="audio")c.cumulativeStat.totalAudioEnergy!=null&&(e=c.cumulativeStat.totalAudioEnergy.getDeltaFromLastUpdate());else{c=d("ZenonAvSyncDeriver").findAssociatedAudioTrackId(a);if(c!=null){a=b.get(c);a!=null&&a.cumulativeStat.totalAudioEnergy!=null&&(e=a.cumulativeStat.totalAudioEnergy.getDeltaFromLastUpdate(),d("ZenonAvSyncDeriver").isMutedDuringInterval(a)&&(e=0))}}return e}function l(a,b){var e,f=d("ZenonMediaStatsConfig").DERIVED_METRICS.RENDERED_VIEW;b=b.get(a.trackId);if(b==null)return c("ZenonRenderedView").GRID;b.deltaStat[f]==null&&(b.deltaStat[f]=new(c("ZenonDeltaMediaStat"))());a=(a=b.renderedView)!=null?a:c("ZenonRenderedView").GRID;e=(e=c("ZenonRenderedView").cast(b.deltaStat[f].getLastAddedValue()))!=null?e:a;b.deltaStat[f].add(a);return j(a,e)}function m(a,b,c,d){if(a.cumulativeStat[c]&&a.cumulativeStat[c].getDeltaFromLastUpdate()!==0&&a.cumulativeStat[b]!=null){b=a.cumulativeStat[b].getDeltaFromLastUpdate()/a.cumulativeStat[c].getDeltaFromLastUpdate();return b*((a=d)!=null?a:1)}return null}function n(a){var b=null,c=d("ZenonMediaStatsConfig").DERIVED_METRICS.PACKETS_LOST_CORRECTED;a.cumulativeStat.packetsReceived!=null&&a.cumulativeStat[c]!=null&&a.cumulativeStat[c].getDeltaFromLastUpdate()+a.cumulativeStat.packetsReceived.getDeltaFromLastUpdate()!==0&&(b=a.cumulativeStat[c].getDeltaFromLastUpdate()/(a.cumulativeStat[c].getDeltaFromLastUpdate()+a.cumulativeStat.packetsReceived.getDeltaFromLastUpdate()));return b}function o(a,b,c){if(a.cumulativeStat[b]&&a.cumulativeStat[b].getTimeSinceLastUpdate()!==0){a=a.cumulativeStat[b].getDeltaFromLastUpdate()/a.cumulativeStat[b].getTimeSinceLastUpdate();return a*((b=c)!=null?b:1)}return null}function p(a,b,c){if(a.deltaStat[b]){a=a.deltaStat[b].getLastAddedValue();return a!=null?a*((b=c)!=null?b:1):null}return null}function q(a,b){var c=d("ZenonMediaStatsParser").getOrCreateTrackerFromMap(b,d("ZenonMediaStatsConfig").GLOBAL_STATS_TRACK_INFO),e=0,f=0,g=0,h=0,j=0,k=0;a.filter(function(a){return a.webrtcTrack.readyState==="live"&&a.webrtcTrack.muted===!1}).forEach(function(a){var c=b.get(a.trackId);if(c!=null)if(a.remote===!1)c.cumulativeStat.totalEncodeTime!=null&&c.cumulativeStat.totalEncodeTime.getTimeSinceLastUpdate()>0&&(h+=c.cumulativeStat.totalEncodeTime.getDeltaFromLastUpdate(),j+=c.cumulativeStat.totalEncodeTime.getTimeSinceLastUpdate(),k++);else{var d=o(c,"bytesReceived",8e3);if(d==null)return;a.contentType==="audio"?f+=d:g+=d;c.cumulativeStat.totalDecodeTime!=null&&c.cumulativeStat.totalDecodeTime.getTimeSinceLastUpdate()>0&&(h+=c.cumulativeStat.totalDecodeTime.getDeltaFromLastUpdate(),j+=c.cumulativeStat.totalDecodeTime.getTimeSinceLastUpdate(),k++)}});if(k>0){a=j/k;a=h*1e3/a;i(c,d("ZenonMediaStatsConfig").PER_STREAM_AGG_METRICS.GLOBAL_CPU_USAGE,a,d("ZenonMediaStatsConfig").GLOBAL_STATS_RENDERED_VIEW,d("ZenonMediaStatsConfig").GLOBAL_STATS_CONTENT_TYPE,e)}f+g>0&&(i(c,d("ZenonMediaStatsConfig").PER_STREAM_AGG_METRICS.GLOBAL_AUDIO_BITRATE,f,d("ZenonMediaStatsConfig").GLOBAL_STATS_RENDERED_VIEW,d("ZenonMediaStatsConfig").GLOBAL_STATS_CONTENT_TYPE,e),i(c,d("ZenonMediaStatsConfig").PER_STREAM_AGG_METRICS.GLOBAL_VIDEO_BITRATE,g,d("ZenonMediaStatsConfig").GLOBAL_STATS_RENDERED_VIEW,d("ZenonMediaStatsConfig").GLOBAL_STATS_CONTENT_TYPE,e))}function r(a,b){a.filter(function(a){return a.remote===!1&&a.webrtcTrack.readyState==="live"}).forEach(function(a){var c=b.get(a.trackId);if(c!=null){var e=h[a.contentType];e=d("ZenonMediaStatsParser").getOrCreateTrackerFromMap(b,e);i(e,d("ZenonMediaStatsConfig").PER_STREAM_AGG_METRICS.ROUND_TRIP_TIME,p(c,"googRtt",1),d("ZenonMediaStatsConfig").GLOBAL_STATS_RENDERED_VIEW,a.contentType,0);var f=d("ZenonVideoQualityDeriver").computeVideoQuality(c);i(e,d("ZenonMediaStatsConfig").PER_STREAM_AGG_METRICS.VIDEO_QUALITY,f,d("ZenonMediaStatsConfig").GLOBAL_STATS_RENDERED_VIEW,a.contentType,0);i(e,d("ZenonMediaStatsConfig").PER_STREAM_AGG_METRICS.VIDEO_ENCODED_FRAME_RATE,o(c,"framesEncoded",1e3),d("ZenonMediaStatsConfig").GLOBAL_STATS_RENDERED_VIEW,a.contentType,0);i(e,d("ZenonMediaStatsConfig").PER_STREAM_AGG_METRICS.VIDEO_QP,m(c,d("ZenonMediaStatsConfig").DERIVED_METRICS.VIDEO_CONVERTED_QP_SUM,"framesEncoded",1),d("ZenonMediaStatsConfig").GLOBAL_STATS_RENDERED_VIEW,a.contentType,0)}})}function s(a,b){var e=d("ZenonMediaStatsParser").getOrCreateTrackerFromMap(b,d("ZenonMediaStatsConfig").PINNED_AUDIO_STATS_TRACK_INFO),f=d("ZenonMediaStatsParser").getOrCreateTrackerFromMap(b,d("ZenonMediaStatsConfig").PINNED_VIDEO_STATS_TRACK_INFO);a.filter(function(a){return a.webrtcTrack.readyState==="live"&&a.remote===!0}).forEach(function(a){var g=b.get(a.trackId);if(g!=null){var h=k(a,b),j=l(a,b);if(a.contentType==="audio"){var q=j===c("ZenonRenderedView").PINNED?e:g;i(q,d("ZenonMediaStatsConfig").PER_STREAM_AGG_METRICS.AUDIO_PLC_RATE,m(g,"googDecodingPLC","googDecodingCTN"),j,a.contentType,h);i(q,d("ZenonMediaStatsConfig").PER_STREAM_AGG_METRICS.AUDIO_PLC_CNG_RATE,m(g,"googDecodingPLCCNG","googDecodingCTN"),j,a.contentType,h);i(q,d("ZenonMediaStatsConfig").PER_STREAM_AGG_METRICS.AUDIO_NETEQ_WAIT_TIME,m(g,"jitterBufferDelay","jitterBufferEmittedCount",1e3),j,a.contentType,h);i(q,d("ZenonMediaStatsConfig").PER_STREAM_AGG_METRICS.AUDIO_PACKET_LOSS_RATE,n(g),j,a.contentType,h)}else if(a.contentType==="video"){q=j===c("ZenonRenderedView").PINNED?f:g;i(q,d("ZenonMediaStatsConfig").PER_STREAM_AGG_METRICS.VIDEO_NETEQ_WAIT_TIME,m(g,"jitterBufferDelay","jitterBufferEmittedCount",1e3),j,a.contentType,h);if(g.cumulativeStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.AV_SYNC_COUNT]!=null&&g.cumulativeStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.AV_SYNC_COUNT].getDeltaFromLastUpdate()>0){var r=0;g.cumulativeStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.AV_SYNC_OOB]==null||g.cumulativeStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.AV_SYNC_OOB].getDeltaFromLastUpdate()===0?i(q,d("ZenonMediaStatsConfig").PER_STREAM_AGG_METRICS.VIDEO_AV_SYNC_ABS,p(g,d("ZenonMediaStatsConfig").DERIVED_METRICS.AV_SYNC_ABS,1),j,a.contentType,h):r=1;i(q,d("ZenonMediaStatsConfig").PER_STREAM_AGG_METRICS.VIDEO_AV_SYNC_OOB,r,j,a.contentType,h)}i(q,d("ZenonMediaStatsConfig").PER_STREAM_AGG_METRICS.VIDEO_FRAME_RATE,o(g,"framesDecoded",1e3),j,a.contentType,h);i(q,d("ZenonMediaStatsConfig").PER_STREAM_AGG_METRICS.VIDEO_FREEZE_COUNT_PER_MIN,o(g,d("ZenonMediaStatsConfig").DERIVED_METRICS.VIDEO_FREEZE_COUNT,6e4),j,a.contentType,h);i(q,d("ZenonMediaStatsConfig").PER_STREAM_AGG_METRICS.VIDEO_FREEZE_DURATION_PER_MIN,o(g,d("ZenonMediaStatsConfig").DERIVED_METRICS.VIDEO_FREEZE_DURATION,6e4),j,a.contentType,h);i(q,d("ZenonMediaStatsConfig").PER_STREAM_AGG_METRICS.VIDEO_PACKET_LOSS_RATE,n(g),j,a.contentType,h);i(q,d("ZenonMediaStatsConfig").PER_STREAM_AGG_METRICS.VIDEO_RENDER_SCALE_RATIO,g.scaleRatio,j,a.contentType,h);i(q,d("ZenonMediaStatsConfig").PER_STREAM_AGG_METRICS.VIDEO_CROPPING_RATIO,g.croppingRatio,j,a.contentType,h)}}})}g.aggregatePerStream=a}),98);
__d("ZenonPerfUsageStatsTracker",["performance"],(function(a,b,c,d,e,f,g){"use strict";function a(){if(!c("performance").memory)return null;else return{heapSizeLimit:Math.round(c("performance").memory.jsHeapSizeLimit/Math.pow(10,6)),heapTotalSize:Math.round(c("performance").memory.totalJSHeapSize/Math.pow(10,6)),heapUsedSize:Math.round(c("performance").memory.usedJSHeapSize/Math.pow(10,6))}}g.getHeapMemoryStats=a}),98);
__d("ZenonReceiverVideoQualityScoreDeriver",["ZenonMediaStatsConfig","ZenonPercentMediaStat","ZenonRenderedView","ZenonVideoQpConversion"],(function(a,b,c,d,e,f,g){"use strict";var h=["video"];a=160*96;var i=1280*720,j=Math.log(i/a)/Math.log(2);b=51;var k=16,l=b-k,m=l+Math.floor(j*6),n={getVideoQualityIndex:function(a,b,c,e,f){if(a<=0||c==null||e==null||c===0||e===0)return null;a=d("ZenonVideoQpConversion").convertQp(a,b,!f);b=Math.max(0,Math.min(a-k,l));f=c*e;a=Math.max(0,Math.min(Math.log(i/f)/Math.log(2),j));c=6*1.6;e=100*(m-b-a*c)/m;return Math.max(0,e)},updateStatsWithDerivedMetric:function(a,b){a.filter(function(a){return h.includes(a.contentType)&&a.remote===!0}).forEach(function(a){if(a!==null){var e=b.get(a.trackId);if(e!=null){var f=e.cumulativeStat,g=f.framesDecoded;f=f.qpSum;var h=e.deltaStat,i=h.frameHeight;h=h.frameWidth;if(g==null||f==null||i==null||h==null)return;g=g.getCurrentValue();if(h&&i&&g>0){var j=e.codec,k=!0;if(j==null)return;else j!=="unknown"&&(k=!(j.includes("264")||j.includes("265")));j=n.getVideoQualityIndex(f.getDeltaFromLastUpdate(),g,h.getLastAddedValue(),i.getLastAddedValue(),k);j!=null&&(e.percentStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.VIDEO_RECEIVER_QUALITY_SCORE]==null&&(e.percentStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.VIDEO_RECEIVER_QUALITY_SCORE]=new(c("ZenonPercentMediaStat"))()),e.percentStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.VIDEO_RECEIVER_QUALITY_SCORE].add(j,c("ZenonRenderedView").GRID,a.contentType,0))}}}})}};e=n;g["default"]=e}),98);
__d("ZenonResourceUsageStatsTracker",["FBLogger","Promise","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function d(){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){try{return yield i()}catch(a){c("FBLogger")("rtc_www").catching(a).info("Exception logging monitor extension stats")}return null});return h.apply(this,arguments)}function i(){var c,d="gdpnckbgamaigmkbcklkeoipnfaalgad";c=(c=(c=a.chrome)==null?void 0:c.runtime)!=null?c:null;return c===null?b("Promise").resolve(null):c.sendMessage(d,"",function(c){var d;if((d=a.chrome)==null?void 0:(d=d.runtime)==null?void 0:d.lastError)return b("Promise").resolve(null);if(((d=c)!=null?d:null)===null)return b("Promise").resolve(null);if(Object.keys(c).length===0)return b("Promise").resolve(null);var e=[];Object.keys(c).forEach(function(a){a=c[a];e.push.apply(e,a)});d=0;var f=0,g=0,h=0;e.length>0&&(e.sort(function(a,b){return a.timestamp>b.timestamp?1:-1}),d=Math.round(e.reduce(function(a,b){return a+b.cpu},0)/e.length),h=Math.round(e[e.length-1].cpu),f=Math.round(Math.max.apply(Math,e.map(function(a){return a.cpu}).concat([0]))),g=Math.round(Math.min.apply(Math,e.map(function(a){return a.cpu}))));d={avgCpu:d,maxCpu:f,minCpu:g,mostRecentCpu:h};return b("Promise").resolve(d)})}g.getProcessStats=d}),98);
__d("ZenonVideoAndSSReceiverStallStatsDeriver",["ZenonCumulativeMediaStat","ZenonDeltaMediaStat","ZenonMediaStatsConfig","ZenonMediaStatsParser"],(function(a,b,c,d,e,f,g){"use strict";var h=1e4,i=1500,j=6e3,k=[d("ZenonMediaStatsConfig").DERIVED_METRICS.VIDEO_RECEIVE_IS_STALLED,d("ZenonMediaStatsConfig").DERIVED_METRICS.VIDEO_DECODE_IS_STALLED],l=[d("ZenonMediaStatsConfig").DERIVED_METRICS.VIDEO_RECEIVE_STALL_DURATION,d("ZenonMediaStatsConfig").DERIVED_METRICS.VIDEO_DECODE_STALL_DURATION],m=[d("ZenonMediaStatsConfig").DERIVED_METRICS.VIDEO_RECEIVE_TOTAL_STALLS,d("ZenonMediaStatsConfig").DERIVED_METRICS.VIDEO_DECODE_TOTAL_STALLS],n=function(a){return((a=a==null?void 0:a.getCurrentTimeSinceLastUpdate())!=null?a:0)>j};function o(a,b,c){var d=0;c!=null&&r(a,b)&&(d=c.getDeltaFromLastUpdate());return d}function p(a,b,c){var d=0;c!=null&&q(a,b)&&(d=c.getDeltaFromLastUpdate());return d}function q(a,b){var c=!1;a!=null&&a.getDeltaFromLastUpdate()>0&&a.getElapsedTime()!==0&&b!=null&&b.getElapsedTime()!==0&&(c=n(b)||b.getDeltaFromLastUpdate()===0||b.getCurrentValue()===0);return c}function r(a,b){var c=!1;if(b!=null&&b.getElapsedTime()!==0){var d=h;a.contentType==="screen"&&(d=i);c=n(b)||b.getDeltaFromLastUpdate()<d||b.getCurrentValue()===0}return c}function s(a){k.forEach(function(b){a.deltaStat[b]==null&&(a.deltaStat[b]=new(c("ZenonDeltaMediaStat"))())}),l.forEach(function(b){a.cumulativeStat[b]==null&&(a.cumulativeStat[b]=new(c("ZenonCumulativeMediaStat"))(0))}),m.forEach(function(b){a.cumulativeStat[b]==null&&(a.cumulativeStat[b]=new(c("ZenonCumulativeMediaStat"))(0))})}function t(a,b){var c=b.cumulativeStat,e=c.bytesReceived,f=c.framesDecoded;c=c.timestamp;if(a.webrtcTrack.enabled===!1)return;a=o(a,e,c);u(b,a,d("ZenonMediaStatsConfig").DERIVED_METRICS.VIDEO_RECEIVE_IS_STALLED,d("ZenonMediaStatsConfig").DERIVED_METRICS.VIDEO_RECEIVE_STALL_DURATION,d("ZenonMediaStatsConfig").DERIVED_METRICS.VIDEO_RECEIVE_TOTAL_STALLS);a=p(e,f,c);u(b,a,d("ZenonMediaStatsConfig").DERIVED_METRICS.VIDEO_DECODE_IS_STALLED,d("ZenonMediaStatsConfig").DERIVED_METRICS.VIDEO_DECODE_STALL_DURATION,d("ZenonMediaStatsConfig").DERIVED_METRICS.VIDEO_DECODE_TOTAL_STALLS)}function u(a,b,c,d,e){var f=b===0?0:1,g=!v(a,c)&&f?1:0;a.cumulativeStat[e].update(a.cumulativeStat[e].getCurrentValue()+g);a.cumulativeStat[d].update(a.cumulativeStat[d].getCurrentValue()+b);a.deltaStat[c].add(f)}function v(a,b){return a.deltaStat[b]!=null&&a.deltaStat[b].getLastAddedValue()===1}function a(a,b){a.filter(function(a){return(a.contentType==="video"||a.contentType==="screen")&&a.remote}).forEach(function(a){var c=d("ZenonMediaStatsParser").getOrCreateTrackerFromMap(b,a);c!=null&&(s(c),t(a,c))})}g.updateReceiverStallStatsWithDerivedMetric=a}),98);
__d("ZenonVideoCaptureMetricDeriver",["ZenonCumulativeMediaStat","ZenonMediaStatsConfig"],(function(a,b,c,d,e,f,g){"use strict";var h={VIDEO_CAPTURE_FRAME_COUNT_STAT_KEY:d("ZenonMediaStatsConfig").DERIVED_METRICS.VIDEO_CAPTURE_FRAME_COUNT,VIDEO_SUM_CAPTURE_PIXEL_STAT_KEY:d("ZenonMediaStatsConfig").DERIVED_METRICS.VIDEO_SUM_CAPTURE_PIXEL,calculateVideoCaptureFrameCount:function(a){var b=a.cumulativeStat.timestamp,c=a.deltaStat.framesPerSecond;if(c!=null&&b!=null&&b.getCurrentValue()>a.lastUpdate&&b.getDeltaFromLastUpdate()!==b.getCurrentValue()){a=c.getLastAddedValue();c=b.getDeltaFromLastUpdate();if(typeof a==="number")return Math.round(a*c/1e3)}return 0},calculateVideoSumCapturePixel:function(a,b){var c=a.cumulativeStat,d=c.captureFrameCount;c=c.timestamp;var e=a.deltaStat,f=e.height;e=e.width;if(d!=null&&e!=null&&f!=null&&c!=null&&c.getCurrentValue()>a.lastUpdate){c=b?d.getCurrentValue():d.getDeltaFromLastUpdate();b=(a=e.getLastAddedValue())!=null?a:0;e=(d=f.getLastAddedValue())!=null?d:0;return c*b*e}return 0},updateStatsWithDerivedMetric:function(a,b){var e=["video","screen"];a.filter(function(a){return e.includes(a.contentType)&&a.remote===!1}).forEach(function(a){a=b.get(a.trackId);if(a!=null){if(a.cumulativeStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.VIDEO_CAPTURE_FRAME_COUNT]!=null){var e=a.cumulativeStat.framesEncoded;if(e!=null)if(e.getDeltaFromLastUpdate()<0)a.cumulativeStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.VIDEO_CAPTURE_FRAME_COUNT].update(0);else{e=h.calculateVideoCaptureFrameCount(a);a.cumulativeStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.VIDEO_CAPTURE_FRAME_COUNT].getCurrentValue()===0&&(e+=e);a.cumulativeStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.VIDEO_CAPTURE_FRAME_COUNT].update(a.cumulativeStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.VIDEO_CAPTURE_FRAME_COUNT].getCurrentValue()+e)}}else a.cumulativeStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.VIDEO_CAPTURE_FRAME_COUNT]=new(c("ZenonCumulativeMediaStat"))(0);if(a.cumulativeStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.VIDEO_SUM_CAPTURE_PIXEL]!=null){e=a.cumulativeStat.captureFrameCount;e=e.getDeltaFromLastUpdate()<0;var f=h.calculateVideoSumCapturePixel(a,e);e?a.cumulativeStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.VIDEO_SUM_CAPTURE_PIXEL].update(f):a.cumulativeStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.VIDEO_SUM_CAPTURE_PIXEL].update(a.cumulativeStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.VIDEO_SUM_CAPTURE_PIXEL].getCurrentValue()+f)}else{e=h.calculateVideoSumCapturePixel(a,!0);a.cumulativeStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.VIDEO_SUM_CAPTURE_PIXEL]=new(c("ZenonCumulativeMediaStat"))(e)}}})}};a=h;g["default"]=a}),98);
__d("ZenonVideoConvertedQpDeriver",["ZenonCumulativeMediaStat","ZenonMediaStatsConfig","ZenonVideoQpConversion"],(function(a,b,c,d,e,f,g){"use strict";var h=["video","screen"],i={calculateVideoConvertedQP:function(a){var b=a.cumulativeStat,c=b.framesDecoded,e=b.framesEncoded,f=b.qpSum;b=b.timestamp;var g=a.codec;e=e!=null?e:c;if(f!=null&&e!=null&&g!=null&&b!=null&&b.getCurrentValue()>a.lastUpdate){c=e.getCount()===1||f.getCount()===1;c?(b=f.getCurrentValue(),a=e.getCurrentValue()):(b=f.getDeltaFromLastUpdate(),a=e.getDeltaFromLastUpdate());c=g.includes("264");f=d("ZenonVideoQpConversion").convertQp(a,b,c);return f*a}return 0},updateStatsWithDerivedMetric:function(a,b){a.filter(function(a){return h.includes(a.contentType)&&a.webrtcTrack.readyState==="live"&&a.webrtcTrack.muted===!1}).forEach(function(a){a=b.get(a.trackId);if(a!=null){var e=a.cumulativeStat.qpSum;if(e!=null){e=e.getDeltaFromLastUpdate()<0;var f=i.calculateVideoConvertedQP(a),g=d("ZenonMediaStatsConfig").DERIVED_METRICS.VIDEO_CONVERTED_QP_SUM;a.cumulativeStat[g]!=null?e?a.cumulativeStat[g].update(f):a.cumulativeStat[g].update(a.cumulativeStat[g].getCurrentValue()+f):a.cumulativeStat[g]=new(c("ZenonCumulativeMediaStat"))(f)}}})}};a=i;g["default"]=a}),98);
__d("ZenonVideoDecodeTimeDeriver",["ZenonCumulativeMediaStat","ZenonMediaStatsConfig"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c){var d=a.filter(function(a){return a.contentType!=="audio"&&a.remote&&a.webrtcTrack.readyState!=="ended"}).reduce(function(a,d){d=b.get(d.trackId);if(d!=null&&d.cumulativeStat.framesDecoded!=null&&d.cumulativeStat.framesDecoded.getDeltaFromLastUpdate()>0){var e=d.cumulativeStat.framesDecoded.getTimeSinceLastUpdate();d.cumulativeStat.framesDecoded.getCount()===2&&(e+=h(d.cumulativeStat.framesDecoded,c));return Math.max(e,a)}return a},0);b.forEach(function(a){if(a.cumulativeStat.framesDecoded!=null){a.maxTotalDecodeTime=((a=a.maxTotalDecodeTime)!=null?a:0)+d}})}function b(a,b,e){a.filter(function(a){return a.contentType!=="audio"&&a.remote&&a.webrtcTrack.readyState!=="ended"}).forEach(function(a){a=b.get(a.trackId);if(a!=null&&a.cumulativeStat.framesDecoded!=null&&a.cumulativeStat.framesDecoded.getDeltaFromLastUpdate()>0){var f=a.cumulativeStat.framesDecoded.getTimeSinceLastUpdate();a.cumulativeStat.framesDecoded.getCount()===2&&(f+=h(a.cumulativeStat.framesDecoded,e));a.cumulativeStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.VIDEO_DECODE_TIME]==null?a.cumulativeStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.VIDEO_DECODE_TIME]=new(c("ZenonCumulativeMediaStat"))(f):a.cumulativeStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.VIDEO_DECODE_TIME].update(a.cumulativeStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.VIDEO_DECODE_TIME].getCurrentValue()+f)}})}function h(a,b){return a.getDeltaFromLastUpdate()>0?Math.round(b*a.getFirstValue()/a.getDeltaFromLastUpdate()):0}g.findMaxDecodeTime=a;g.updateTrackerWithDecodeTime=b}),98);
__d("ZenonVideoDecodedBytesDeriver",["ZenonCumulativeMediaStat","ZenonMediaStatsConfig"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){a.filter(function(a){return a.contentType!=="audio"&&a.remote&&a.webrtcTrack.readyState!=="ended"}).forEach(function(a){a=b.get(a.trackId);if(a!=null){var e=a.cumulativeStat,f=e.bytesReceived;e=e.framesDecoded;if(f&&e){var g=e.getElapsedTime()===0&&e.getCurrentValue()>0;if(g||e.getDeltaFromLastUpdate()>0){e=f.getDeltaFromLastUpdate();g&&(e=f.getCurrentValue());a.cumulativeStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.VIDEO_DECODED_BYTES]==null?a.cumulativeStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.VIDEO_DECODED_BYTES]=new(c("ZenonCumulativeMediaStat"))(e):a.cumulativeStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.VIDEO_DECODED_BYTES].update(a.cumulativeStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.VIDEO_DECODED_BYTES].getCurrentValue()+e)}}}})}g.updateTrackerWithDecodedBytes=a}),98);
__d("ZenonVideoFreezeCountDeriver",["ZenonCumulativeMediaStat","ZenonMediaStatsConfig"],(function(a,b,c,d,e,f,g){"use strict";var h=10,i=.5,j={aggregateFreezes:function(a,b,c,d){if(a){a=d.getDeltaFromLastUpdate();d=b-c*c/3;return Math.sqrt(d*(a-1))*1e3}return 0},calculateVideoFreeze:function(a){a=a.cumulativeStat;var b=a.framesDecoded,c=a.totalInterFrameDelay;a=a.totalSquaredInterFrameDelay;if(b!=null&&c!=null&&a!=null&&b.getDeltaFromLastUpdate()>1){var d=b.getDeltaFromLastUpdate(),e=b.getAverageOverTime()*1e3;c=c.getDeltaFromLastUpdate();a=a.getDeltaFromLastUpdate();e=1/e;var f=e*h/100;e=Math.max(3*e,e+.15);e=f*f/3+e*e/(d-1);var g=f*f/3+i*i/(d-1);a=(a-c*c/d)/d;c=a>e?1:0;d=a>g?1:0;e=j.aggregateFreezes(c,a,f,b);g=j.aggregateFreezes(d,a,f,b);return{count:c,duration:e,duration500ms:g}}return{count:0,duration:0,duration500ms:0}},updateStatsWithDerivedMetric:function(a,b){var e=d("ZenonMediaStatsConfig").DERIVED_METRICS.VIDEO_FREEZE_COUNT,f=d("ZenonMediaStatsConfig").DERIVED_METRICS.VIDEO_FREEZE_DURATION,g=d("ZenonMediaStatsConfig").DERIVED_METRICS.VIDEO_FREEZE_DURATION_500MS;a.filter(function(a){return a.contentType==="video"&&a.remote&&a.webrtcTrack.readyState!=="ended"}).forEach(function(a){a=b.get(a.trackId);if(a!=null){var d=j.calculateVideoFreeze(a);a.cumulativeStat[e]!=null?a.cumulativeStat[e].update(a.cumulativeStat[e].getCurrentValue()+d.count):a.cumulativeStat[e]=new(c("ZenonCumulativeMediaStat"))(d.count);a.cumulativeStat[f]!=null?a.cumulativeStat[f].update(a.cumulativeStat[f].getCurrentValue()+d.duration):a.cumulativeStat[f]=new(c("ZenonCumulativeMediaStat"))(d.duration);a.cumulativeStat[g]!=null?a.cumulativeStat[g].update(a.cumulativeStat[g].getCurrentValue()+d.duration500ms):a.cumulativeStat[g]=new(c("ZenonCumulativeMediaStat"))(d.duration500ms)}})}};a=j;g["default"]=a}),98);
__d("ZenonVideoPauseDeriver",["ZenonCumulativeMediaStat","ZenonMediaStatsConfig"],(function(a,b,c,d,e,f,g){"use strict";var h=5e3;function a(a,b){a.filter(function(a){return a.contentType==="video"&&a.remote}).forEach(function(a){a=b.get(a.trackId);a!=null&&i(a)})}function i(a){var b=a.cumulativeStat,e=b.framesDecoded;b=b.packetsReceived;if(b!=null){var f;f=(f=a.isVideoPaused)!=null?f:!1;if(!f)b.getDeltaFromLastUpdate()===0&&b.getTimeSinceLastUpdate()>1e3&&(a.isVideoPaused=!0,a.lastVideoPacketTime=b.getPreviousTime());else if(e!=null&&e.getDeltaFromLastUpdate()>0){a.isVideoPaused=!1;e=(b.getCurrentTime()+b.getPreviousTime())/2-((f=a.lastVideoPacketTime)!=null?f:b.getPreviousTime());a.lastVideoPacketTime=void 0;e>=h&&(a.cumulativeStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.VIDEO_PAUSE_COUNT]!=null?a.cumulativeStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.VIDEO_PAUSE_COUNT].update(a.cumulativeStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.VIDEO_PAUSE_COUNT].getCurrentValue()+1):a.cumulativeStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.VIDEO_PAUSE_COUNT]=new(c("ZenonCumulativeMediaStat"))(1),a.cumulativeStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.VIDEO_PAUSE_DURATION]!=null?a.cumulativeStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.VIDEO_PAUSE_DURATION].update(a.cumulativeStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.VIDEO_PAUSE_DURATION].getCurrentValue()+e):a.cumulativeStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.VIDEO_PAUSE_DURATION]=new(c("ZenonCumulativeMediaStat"))(e))}}}g.updateVideoPause=a}),98);
__d("ZenonVideoStallStatsDeriver",["ZenonCumulativeMediaStat","ZenonDeltaMediaStat","ZenonMediaStatsConfig","ZenonMediaStatsParser"],(function(a,b,c,d,e,f,g){"use strict";var h=0,i=0,j=6e3,k=[d("ZenonMediaStatsConfig").DERIVED_METRICS.VIDEO_CAPTURE_IS_STALLED,d("ZenonMediaStatsConfig").DERIVED_METRICS.VIDEO_ENCODE_IS_STALLED,d("ZenonMediaStatsConfig").DERIVED_METRICS.VIDEO_SENT_IS_STALLED],l=[d("ZenonMediaStatsConfig").DERIVED_METRICS.VIDEO_CAPTURE_STALL_DURATION,d("ZenonMediaStatsConfig").DERIVED_METRICS.VIDEO_ENCODE_STALL_DURATION,d("ZenonMediaStatsConfig").DERIVED_METRICS.VIDEO_SENT_STALL_DURATION],m=[d("ZenonMediaStatsConfig").DERIVED_METRICS.VIDEO_CAPTURE_TOTAL_STALLS,d("ZenonMediaStatsConfig").DERIVED_METRICS.VIDEO_ENCODE_TOTAL_STALLS,d("ZenonMediaStatsConfig").DERIVED_METRICS.VIDEO_SENT_TOTAL_STALLS],n=function(a){return((a=a==null?void 0:a.getCurrentTimeSinceLastUpdate())!=null?a:0)>j};function o(a,b){var c=0;b!=null&&r(a)&&(c=b.getDeltaFromLastUpdate());return c}function p(a,b){var c=0;b!=null&&s(a)&&(c=b.getDeltaFromLastUpdate());return c}function q(a,b,c){var d=0;c!=null&&t(a,b)&&(d=c.getDeltaFromLastUpdate());return d}function r(a){var b=!1;a!=null&&a.getElapsedTime()!==0&&(b=n(a)||a.getDeltaFromLastUpdate()===0||a.getCurrentValue()===0);return b}function s(a){var b=!1;a!=null&&a.getElapsedTime()!==0&&(b=n(a)||a.getDeltaFromLastUpdate()===0||a.getCurrentValue()===0);return b}function t(a,b){var c=!1;if(b!=null&&b.getElapsedTime()!==0){var d=h;a.contentType==="screen"&&(d=i);c=n(b)||b.getDeltaFromLastUpdate()<=d||b.getCurrentValue()===0}return c}function u(a){k.forEach(function(b){a.deltaStat[b]==null&&(a.deltaStat[b]=new(c("ZenonDeltaMediaStat"))())}),l.forEach(function(b){a.cumulativeStat[b]==null&&(a.cumulativeStat[b]=new(c("ZenonCumulativeMediaStat"))(0))}),m.forEach(function(b){a.cumulativeStat[b]==null&&(a.cumulativeStat[b]=new(c("ZenonCumulativeMediaStat"))(0))})}function v(a,b){var c=b.cumulativeStat,e=c.bytesSent,f=c.captureFrameCount,g=c.framesEncoded;c=c.timestamp;var h=b.videoEncoding;if(a.webrtcTrack.enabled===!1)return;else if((h==null?void 0:h.enabled)===!1)return;h=o(f,c);w(b,h,d("ZenonMediaStatsConfig").DERIVED_METRICS.VIDEO_CAPTURE_IS_STALLED,d("ZenonMediaStatsConfig").DERIVED_METRICS.VIDEO_CAPTURE_STALL_DURATION,d("ZenonMediaStatsConfig").DERIVED_METRICS.VIDEO_CAPTURE_TOTAL_STALLS);if(h===0){f=p(g,c);w(b,f,d("ZenonMediaStatsConfig").DERIVED_METRICS.VIDEO_ENCODE_IS_STALLED,d("ZenonMediaStatsConfig").DERIVED_METRICS.VIDEO_ENCODE_STALL_DURATION,d("ZenonMediaStatsConfig").DERIVED_METRICS.VIDEO_ENCODE_TOTAL_STALLS);if(f===0&&b.transportIceState==="connected"){h=q(a,e,c);w(b,h,d("ZenonMediaStatsConfig").DERIVED_METRICS.VIDEO_SENT_IS_STALLED,d("ZenonMediaStatsConfig").DERIVED_METRICS.VIDEO_SENT_STALL_DURATION,d("ZenonMediaStatsConfig").DERIVED_METRICS.VIDEO_SENT_TOTAL_STALLS)}}}function w(a,b,c,d,e){var f=b===0?0:1,g=!x(a,c)&&f?1:0;a.cumulativeStat[e].update(a.cumulativeStat[e].getCurrentValue()+g);a.cumulativeStat[d].update(a.cumulativeStat[d].getCurrentValue()+b);a.deltaStat[c].add(f)}function x(a,b){return a.deltaStat[b]!=null&&a.deltaStat[b].getLastAddedValue()===1}function a(a,b){a.filter(function(a){return(a.contentType==="video"||a.contentType==="screen")&&!a.remote}).forEach(function(a){var c=d("ZenonMediaStatsParser").getOrCreateTrackerFromMap(b,d("ZenonMediaStatsConfig").OUTBOUND_VIDEO_STATS_TRACK_INFO);a.contentType==="screen"&&(c=d("ZenonMediaStatsParser").getOrCreateTrackerFromMap(b,d("ZenonMediaStatsConfig").OUTBOUND_SCREEN_STATS_TRACK_INFO));c!=null&&(u(c),v(a,c))})}g.updateStatsWithDerivedMetric=a}),98);
__d("ZenonVideoSumPixelDeriver",["ZenonCumulativeMediaStat","ZenonMediaStatsConfig"],(function(a,b,c,d,e,f,g){"use strict";var h=["video","screen"],i={calculateVideoSumPixel:function(a,b,c){var d=a.cumulativeStat,e=d.framesDecoded,f=d.framesEncoded;d=d.timestamp;var g=a.deltaStat,h=g.frameHeight;g=g.frameWidth;c=c?e:f;if(c!=null&&g!=null&&h!=null&&d!=null&&d.getCurrentValue()>a.lastUpdate){e=b?c.getCurrentValue():c.getDeltaFromLastUpdate();d=(f=g.getLastAddedValue())!=null?f:0;b=(a=h.getLastAddedValue())!=null?a:0;return e*d*b}return 0},updateStatsWithDerivedMetric:function(a,b){a.filter(function(a){return h.includes(a.contentType)}).forEach(function(a){var e=a.remote;a=b.get(a.trackId);if(a!=null)if(a.cumulativeStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.VIDEO_SUM_PIXEL]!=null){var f=a.cumulativeStat,g=f.framesDecoded;f=f.framesEncoded;g=e?g:f;if(g!=null){f=g.getDeltaFromLastUpdate()<0;g=i.calculateVideoSumPixel(a,f,e);f?a.cumulativeStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.VIDEO_SUM_PIXEL].update(g):a.cumulativeStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.VIDEO_SUM_PIXEL].update(a.cumulativeStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.VIDEO_SUM_PIXEL].getCurrentValue()+g)}}else{f=i.calculateVideoSumPixel(a,!0,e);a.cumulativeStat[d("ZenonMediaStatsConfig").DERIVED_METRICS.VIDEO_SUM_PIXEL]=new(c("ZenonCumulativeMediaStat"))(f)}})}};a=i;g["default"]=a}),98);
__d("ZenonMediaStatsReportPoller",["Promise","UserAgent","ZenonAudioLevelDeriver","ZenonAudioPlaybackIssueLogger","ZenonAudioReceiverStatsUtils","ZenonAudioStallStatsDeriver","ZenonAvSyncDeriver","ZenonE2ELatencyDeriver","ZenonMediaElementTracker","ZenonMediaStatsConfig","ZenonMediaStatsParser","ZenonMediaStatsUtil","ZenonMuteStateDeriver","ZenonOutboundStatsWriter","ZenonPacketsLostDeriver","ZenonPerStreamAggregator","ZenonPerfUsageStatsTracker","ZenonReceiverVideoQualityScoreDeriver","ZenonResourceUsageStatsTracker","ZenonSpeakerTracker","ZenonVideoAndSSReceiverStallStatsDeriver","ZenonVideoCaptureMetricDeriver","ZenonVideoConvertedQpDeriver","ZenonVideoDecodeTimeDeriver","ZenonVideoDecodedBytesDeriver","ZenonVideoFreezeCountDeriver","ZenonVideoPauseDeriver","ZenonVideoScaleHistogram","ZenonVideoStallStatsDeriver","ZenonVideoSumPixelDeriver","asyncToGeneratorRuntime","immutable"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b){return b.toArray().find(function(b){return b.trackIDs.contains(a.trackId)})}function i(a,b,c,d,e,f,g){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c,e,f,g,i,j){var k=e.getSenders().map(function(){var e=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){var e,i=(e=b.track)==null?void 0:e.id;if(i!=null){e=a.find(function(a){return a.webrtcTrack.id===i});if(e!=null&&e.webrtcTrack.readyState!=="ended"){var k=(yield b.getStats());k=d("ZenonMediaStatsParser").makeStatsReportMap(k);d("ZenonMediaStatsUtil").shouldUseTSLog()&&f&&f.addData(e.enabled,d("ZenonMediaStatsParser").filterMediaReports(k),d("ZenonMediaStatsConfig").TSLOG_STATS_REQUESTED,e.contentType,h(e,g));d("ZenonMediaStatsParser").updateTrackStatsWithReport(e,c,k);d("ZenonMediaStatsParser").updateTrackStatsFromSender(e,c,b);j.push(e)}}});return function(a){return e.apply(this,arguments)}}());yield b("Promise").all(k);k=e.getReceivers().map(function(){var e=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){var e,j=(e=b.track)==null?void 0:e.id;if(j!=null){e=a.find(function(a){return a.webrtcTrack.id===j});if(e!=null&&e.webrtcTrack.readyState!=="ended"){b=(yield b.getStats());b=d("ZenonMediaStatsParser").makeStatsReportMap(b);if(d("ZenonMediaStatsUtil").shouldUseTSLog()&&f){var k=e.contentType==="audio"?e.userMuted:e.enabled;f.addData(k,d("ZenonMediaStatsParser").filterMediaReports(b),d("ZenonMediaStatsConfig").TSLOG_STATS_REQUESTED,e.contentType,h(e,g))}d("ZenonMediaStatsParser").updateTrackStatsWithReport(e,c,b);i.push(e)}}});return function(a){return e.apply(this,arguments)}}());yield b("Promise").all(k)});return j.apply(this,arguments)}function k(a,b,c,d,e){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c,e,f,g){var i=function(){return new(b("Promise"))(function(a){e.getStats(a)})};i=(yield i());var j=d("ZenonMediaStatsParser").makeStatsReportMap(i);a.forEach(function(a){a.webrtcTrack.readyState!=="ended"&&(d("ZenonMediaStatsUtil").shouldUseTSLog()&&f&&f.addData(a.enabled,d("ZenonMediaStatsParser").filterLegacyMediaReports(a,j),d("ZenonMediaStatsConfig").TSLOG_STATS_REQUESTED,a.contentType,h(a,g)),d("ZenonMediaStatsParser").updateTrackStatsWithChromiumLegacyReport(a,c,j))})});return l.apply(this,arguments)}function m(a,b){a.forEach(function(a){a=b.get(a.trackId);a!=null&&a.cumulativeStat.timestamp!=null&&(a.lastUpdate=a.cumulativeStat.timestamp.getCurrentValue())})}function a(a,b,c,d,e,f,g){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f,g,h,j){j===void 0&&(j=c("immutable").Map());var l=[],n=[];yield i(a,b,f,g,j,l,n);(c("UserAgent").isBrowser("Chrome")||c("UserAgent").isBrowser("Opera")||c("UserAgent").isBrowser("Edge (Chromium Based)"))&&(yield k(a,b,f,g,j));d("ZenonMediaElementTracker").updateStats(b);if(d("ZenonMediaStatsUtil").shouldUseTSLog()&&g){j=(yield f.getStats());j=d("ZenonMediaStatsParser").makeStatsReportMap((f=j)!=null?f:new RTCStatsReport());g.addCandidatePairStats(j);g.addNonMediaStates();g.addRenderedFrameData(b,j);f=(yield d("ZenonResourceUsageStatsTracker").getProcessStats());f!=null&&g.addCallCpuData(d("ZenonMediaStatsConfig").GLOBAL_STATS_TRACKID,f);j=d("ZenonPerfUsageStatsTracker").getHeapMemoryStats();j&&g.addHeapMemoryData(d("ZenonMediaStatsConfig").GLOBAL_STATS_TRACKID,j);g.addSenderVideoStallData(b);g.advance()}d("ZenonSpeakerTracker").updateStats(a,b);d("ZenonPacketsLostDeriver").updatePacketsLost(a,b);d("ZenonMuteStateDeriver").updateMuteState(a,b);c("ZenonVideoFreezeCountDeriver").updateStatsWithDerivedMetric(a,b);d("ZenonVideoPauseDeriver").updateVideoPause(a,b);c("ZenonVideoCaptureMetricDeriver").updateStatsWithDerivedMetric(a,b);c("ZenonVideoSumPixelDeriver").updateStatsWithDerivedMetric(a,b);c("ZenonVideoConvertedQpDeriver").updateStatsWithDerivedMetric(a,b);d("ZenonVideoDecodedBytesDeriver").updateTrackerWithDecodedBytes(a,b);d("ZenonVideoDecodeTimeDeriver").findMaxDecodeTime(a,b,h);d("ZenonVideoDecodeTimeDeriver").updateTrackerWithDecodeTime(a,b,h);d("ZenonVideoScaleHistogram").updateTrackerWithScaleHistogram(a,b);d("ZenonE2ELatencyDeriver").updateTrackerWithE2ELatency(a,b);d("ZenonAudioLevelDeriver").computeAudioLevels(a,b);d("ZenonAudioStallStatsDeriver").updateStatsWithDerivedMetric(a,b);d("ZenonVideoStallStatsDeriver").updateStatsWithDerivedMetric(a,b);d("ZenonAvSyncDeriver").updateTrackerWithAvSync(a,b,e);c("ZenonReceiverVideoQualityScoreDeriver").updateStatsWithDerivedMetric(a,b);d("ZenonAudioReceiverStatsUtils").updateTracksWithAudioReceivePercentStats(a,b);d("ZenonVideoAndSSReceiverStallStatsDeriver").updateReceiverStallStatsWithDerivedMetric(a,b);d("ZenonOutboundStatsWriter").updateOutboundStats(n,b);d("ZenonPerStreamAggregator").aggregatePerStream([].concat(l,n),b);c("ZenonAudioPlaybackIssueLogger").detectAudioPlaybackIssue(a,b);m(a,b)});return n.apply(this,arguments)}function e(a,b,c){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c,d){c=c.getReceivers().map(function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){var c,e=(c=b.track)==null?void 0:c.id;if(e!=null){c=a.find(function(a){return a.webrtcTrack.id===e});if(c!=null&&c.webrtcTrack.readyState!=="ended"){c=(yield b.getStats());if(!(c instanceof Map||c.result))for(b of c.values())if(b.type==="inbound-rtp"&&b.kind==="video"&&b.codecId!=null&&typeof b.codecId==="string"){var f=c.get(b.codecId);(f==null?void 0:f.type)==="codec"&&d.set(e,f.mimeType.toString())}}}});return function(a){return c.apply(this,arguments)}}());yield b("Promise").all(c)});return o.apply(this,arguments)}g.updateStatsFromConnection=a;g.updateVideoCodecFromReceivers=e}),98);
__d("ZenonLayout",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum").Mirrored(["Grid","DominantSpeaker"]);c=a;f["default"]=c}),66);
__d("ZenonSpeakerTracker",["ZenonCallsHooks","ZenonLayout","ZenonRenderedView","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useEffect,i=null,j=[],k=[];function l(a,b,c){i=a,j=b,k=c}function a(a,b){for(var a=a,d=Array.isArray(a),e=0,a=d?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=a.length)break;f=a[e++]}else{e=a.next();if(e.done)break;f=e.value}f=f;if(!f.remote)continue;var g=b.get(f.trackId);if(!g)continue;g.isDominantSpeaker=j.indexOf(f.trackId)!==-1;if(i!=null)switch(i){case c("ZenonLayout").Grid:g.renderedView=c("ZenonRenderedView").GRID;break;case c("ZenonLayout").DominantSpeaker:f=k.indexOf(f.trackId)!==-1;g.renderedView=f?c("ZenonRenderedView").PINNED:c("ZenonRenderedView").THUMBNAIL;break}}}function b(a,b,d){var e,f=(e=c("ZenonCallsHooks").useLiveMediaTrack((e=b)!=null?e:"","video"))==null?void 0:e.trackId,g=(b=c("ZenonCallsHooks").useLiveMediaTrack((e=b)!=null?e:"","audio"))==null?void 0:b.trackId,i=(b=c("ZenonCallsHooks").useLiveMediaTrack((e=d)!=null?e:"","video"))==null?void 0:b.trackId,j=(b=c("ZenonCallsHooks").useLiveMediaTrack((e=d)!=null?e:"","audio"))==null?void 0:b.trackId;h(function(){l(a,[f,g],[i,j])},[i,j,a,f,g])}g.updateLayout=l;g.updateStats=a;g.useUpdateSpeakerTracker=b}),98);
__d("SCTPSignalingListener",["FBLogger","ZenonDebugLogger","ZenonMWMessageReliabilityLogger","ZenonMWMessageTranslator","ZenonSignalingConstants","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.$1=a}var b=a.prototype;b.subscribe=function(a,b){this.$2=a,c("promiseDone")(this.$1.createDataMessageSubscription(d("ZenonSignalingConstants").SCTP_SIGNALING_TOPIC,this.$3(a)))};b.unsubscribe=function(){this.$2!=null&&c("promiseDone")(this.$1.removeDataMessageSubscription(d("ZenonSignalingConstants").SCTP_SIGNALING_TOPIC,this.$3(this.$2)))};b.$3=function(a){return function(b){try{b=JSON.parse(b.message);b=atob(b.signalingMessagePayload);b=JSON.parse(b);b={endpoint:b.endpoint,jsonPayload:{body:b.body,header:b.header}};var e=c("ZenonDebugLogger").getInstance();d("ZenonMWMessageReliabilityLogger").logReceivedMessage(b);e.logMWMessage("RECEIVED","SCTP",b);e=d("ZenonMWMessageTranslator").toSignalingMessage(b);a(e);d("ZenonMWMessageReliabilityLogger").logProcessingMessage(b)}catch(a){c("FBLogger")("rpweb").catching(a).warn("Error receiving SCTP message from Signaling Listener")}}};return a}();g["default"]=a}),98);
__d("ZenonChildQPLLogProcessor",["Promise","QPLUserFlow","QuickPerformanceLogger","ZenonArmadilloLoggingChecks","ZenonDismissReason","qpl"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.$4=!1,this.$5=!1,this.$6=!1,this.$7=!1,this.$8=!1,this.$9=!1,this.$10=!1,this.$1=a.localCallID,this.$2=a.serverInfoData,this.$3=a.signalingID}var e=a.prototype;e.processEvent=function(a){switch(a.name){case"callJoinRequest":this.$4=a.hasOfferInRingRequest;c("QPLUserFlow").start(c("qpl")._(64232269,"6493"),{annotations:{bool:{isCaller:a.isCaller}}});c("QuickPerformanceLogger").getMarker(c("qpl")._(398997251,"1544"),+this.$3)||c("QPLUserFlow").start(c("qpl")._(398997251,"1544"),{annotations:{string:{localCallID:this.$1,serverInfoData:this.$2}},instanceKey:+this.$3});c("QPLUserFlow").addPoint(c("qpl")._(398997251,"1544"),"call_join_request",{instanceKey:+this.$3});c("QPLUserFlow").addAnnotations(c("qpl")._(398997251,"1544"),{bool:{isCaller:a.isCaller}},{instanceKey:+this.$3});this.$11();break;case"inviteSent":this.$5=!0;c("QPLUserFlow").addPoint(c("qpl")._(64232269,"6493"),"invite_sent");c("QPLUserFlow").addPoint(c("qpl")._(398997251,"1544"),"invite_sent",{instanceKey:+this.$3});this.$11();break;case"setRemoteSignalingID":c("QPLUserFlow").addPoint(c("qpl")._(64232269,"6493"),"set_remote_signaling_id");c("QPLUserFlow").addPoint(c("qpl")._(398997251,"1544"),"set_remote_signaling_id",{instanceKey:+this.$3});c("QPLUserFlow").addAnnotations(c("qpl")._(398997251,"1544"),{string:{serverInfoData:a.remoteSignalingID}},{instanceKey:+this.$3});break;case"inviteResponseReceived":c("QPLUserFlow").addPoint(c("qpl")._(64232269,"6493"),"invite_response_received");c("QPLUserFlow").addPoint(c("qpl")._(398997251,"1544"),"invite_response_received",{instanceKey:+this.$3});break;case"inviteResponseProcessed":c("QPLUserFlow").addPoint(c("qpl")._(64232269,"6493"),"invite_response_processed");c("QPLUserFlow").addPoint(c("qpl")._(398997251,"1544"),"invite_response_processed",{instanceKey:+this.$3});break;case"setHasAnswerInJoinResponse":this.$6=a.hasAnswerInJoinResponse;this.$11();break;case"atLeastOneParticipantAnswered":c("QPLUserFlow").addPoint(c("qpl")._(398997251,"1544"),"at_least_one_participant_answered",{instanceKey:+this.$3});break;case"setRemoteSdpAnswer":c("QPLUserFlow").addPoint(c("qpl")._(64232269,"6493"),"set_remote_sdp_answer");c("QPLUserFlow").addPoint(c("qpl")._(398997251,"1544"),"set_remote_sdp_answer",{instanceKey:+this.$3});break;case"mediaConnected":c("QPLUserFlow").addPoint(c("qpl")._(64232269,"6493"),"media_connected");c("QPLUserFlow").addPoint(c("qpl")._(398997251,"1544"),"media_connected",{instanceKey:+this.$3});break;case"callConnected":c("QPLUserFlow").addPoint(c("qpl")._(64232269,"6493"),"call_connected");c("QPLUserFlow").addPoint(c("qpl")._(398997251,"1544"),"call_connected",{instanceKey:+this.$3});break;case"setRemoteSdpOffer":c("QPLUserFlow").addPoint(c("qpl")._(64232269,"6493"),"set_remote_sdp_offer");c("QPLUserFlow").addPoint(c("qpl")._(398997251,"1544"),"set_remote_sdp_offer",{instanceKey:+this.$3});break;case"firstMediaPacket":this.$10||(c("QPLUserFlow").addPoint(c("qpl")._(398997251,"1544"),"first_"+a.type+"_packet",{instanceKey:+this.$3}),this.$10=!0,c("QPLUserFlow").endSuccess(c("qpl")._(398997251,"1544"),{instanceKey:+this.$3}));break;case"callEscalated":this.$7=!0;c("QPLUserFlow").addPoint(c("qpl")._(64232269,"6493"),"renegotion_cmu_request_sent");c("QPLUserFlow").addPoint(c("qpl")._(398997251,"1544"),"renegotion_cmu_request_sent",{instanceKey:+this.$3});this.$11();break;case"renegotiationSmuReqWithAnswerReceived":this.$8=!0;c("QPLUserFlow").addPoint(c("qpl")._(64232269,"6493"),"renegotation_smu_request_with_answer_received");c("QPLUserFlow").addPoint(c("qpl")._(398997251,"1544"),"renegotation_smu_request_with_answer_received",{instanceKey:+this.$3});this.$11();break;case"renegotiationSmuReqWithOfferReceived":this.$9=!0;c("QPLUserFlow").addPoint(c("qpl")._(64232269,"6493"),"renegotation_smu_request_with_offer_received");c("QPLUserFlow").addPoint(c("qpl")._(398997251,"1544"),"renegotation_smu_request_with_offer_received",{instanceKey:+this.$3});this.$11();break;case"callEnded":c("QPLUserFlow").endSuccess(c("qpl")._(64232269,"6493"));c("QPLUserFlow").endCancel(c("qpl")._(398997251,"1544"),{annotations:{string:{endCallReason:d("ZenonDismissReason").ZenonDismissReason.getName(a.endCallReason),endCallSubreason:a.endCallSubreason}},instanceKey:+this.$3});break}return b("Promise").resolve()};e.$11=function(){var a="sfu";this.$8||this.$9?a="deescalated_from_sfu_to_p2p":this.$7?a="escalated_from_p2p_to_sfu":(!this.$6||this.$4&&!this.$5)&&(a="p2p");c("QPLUserFlow").addAnnotations(c("qpl")._(64232269,"6493"),{string:{mediaPath:a}});c("QPLUserFlow").addAnnotations(c("qpl")._(398997251,"1544"),{string:{mediaPath:a}},{instanceKey:+this.$3})};return a}();e={LogProcessor:a,approvedForMandatedE2ee:function(){return d("ZenonArmadilloLoggingChecks").isArmadilloQPLLoggingEnabled()}};g.ZenonChildQPLLogProcessor=a;g.ZenonChildQPLLogProcessorConfig=e}),98);
__d("ZenonLSCallStartEventLogProcessor",["DateConsts","LsRtcConnectionStartFalcoEvent","ZenonArmadilloLoggingChecks","ZenonInfraActionsLogger","ZenonLSCallStartEventManager","ZenonLSCallStartEventStore","ZenonPeerID","asyncToGeneratorRuntime","justknobx"],(function(a,b,c,d,e,f,g){"use strict";var h=10*d("DateConsts").MS_PER_SEC;a=function(){function a(a,b,e){this.$2=null;this.$3=!1;this.$4=!1;a.peerID=d("ZenonPeerID").ZenonMWPeerID;this.$6=e;this.$5=a.peerID;b=d("ZenonLSCallStartEventStore").ZenonLSCallStartEventStoreInstance.retrieveCallStartEventManager(a.peerID,a.signalingID);b?this.$1=b:this.$1=new(c("ZenonLSCallStartEventManager"))(a);e&&e({localCallID:this.$1.getCallInfo().localCallID})}var e=a.prototype;e.log=function(){var a=this;if(this.$4||c("justknobx")._("853"))return;c("LsRtcConnectionStartFalcoEvent").logCritical(function(){return a.$1.getStartEventData()});this.$4=!0;this.$1["delete"](d("ZenonLSCallStartEventStore").ZenonLSCallStartEventStoreInstance)};e.processEvent=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=this;if(this.$3)return;switch(a.name){case"atLeastOneParticipantAnswered":this.$1.updateEventTimestamp("answer_recv_ms");this.$1.save(d("ZenonLSCallStartEventStore").ZenonLSCallStartEventStoreInstance);break;case"connectionReady":this.$1.updateEventTimestamp("connection_ready_ms");this.$1.save(d("ZenonLSCallStartEventStore").ZenonLSCallStartEventStoreInstance);break;case"connectionStart":a.isIncomingConnection?this.$1.updateEventTimestamp("incoming_connection_start_ms"):this.$1.updateEventTimestamp("outgoing_connection_start_ms");this.$1.save(d("ZenonLSCallStartEventStore").ZenonLSCallStartEventStoreInstance);break;case"dismissRecv":this.$1.updateEventTimestamp("dismiss_recv_ms");this.$1.save(d("ZenonLSCallStartEventStore").ZenonLSCallStartEventStoreInstance);break;case"dismissSent":this.$1.updateEventTimestamp("dismiss_sent_ms");this.$1.save(d("ZenonLSCallStartEventStore").ZenonLSCallStartEventStoreInstance);break;case"connectionDestroyed":this.$1.updateEventTimestamp("connection_ended_ms");this.$1.save(d("ZenonLSCallStartEventStore").ZenonLSCallStartEventStoreInstance);break;case"answerSent":this.$1.updateEventTimestamp("answer_sent_ms");this.$1.save(d("ZenonLSCallStartEventStore").ZenonLSCallStartEventStoreInstance);break;case"callEnded":this.$3=!0;this.$2!==null&&window.clearInterval(this.$2);c("ZenonInfraActionsLogger").logCheckpointEmployeesTestUsersOnly({checkpoint:"Uploading NSL call start summary"});this.log();break;case"inviteSent":this.$1.updateEventTimestamp("invite_sent_ms");this.$1.save(d("ZenonLSCallStartEventStore").ZenonLSCallStartEventStoreInstance);break;case"mediaConnected":this.$1.updateEventTimestamp("network_ready_ms");this.$1.save(d("ZenonLSCallStartEventStore").ZenonLSCallStartEventStoreInstance);break;case"negotiationComplete":this.$1.updateEventTimestamp("negotiation_complete_ms");this.$1.save(d("ZenonLSCallStartEventStore").ZenonLSCallStartEventStoreInstance);break;case"setRemoteSignalingID":this.$6({sharedCallID:a.remoteSignalingID});this.$1.setSharedCallId(a.remoteSignalingID);this.$1.save(d("ZenonLSCallStartEventStore").ZenonLSCallStartEventStoreInstance);break;case"answerSdpReceived":this.$1.receivedFromServer();this.$1.save(d("ZenonLSCallStartEventStore").ZenonLSCallStartEventStoreInstance);break;case"prAnswerSdpReceived":this.$1.receivedFromServer();this.$1.save(d("ZenonLSCallStartEventStore").ZenonLSCallStartEventStoreInstance);break;case"offerSdpReceived":this.$1.receivedFromInvite();this.$1.save(d("ZenonLSCallStartEventStore").ZenonLSCallStartEventStoreInstance);break;case"startHeartbeat":this.$2===null&&(this.$2=window.setInterval(function(){b.$1.save(d("ZenonLSCallStartEventStore").ZenonLSCallStartEventStoreInstance)},h));break}});function e(b){return a.apply(this,arguments)}return e}();return a}();e={LogProcessor:a,approvedForMandatedE2ee:function(){return d("ZenonArmadilloLoggingChecks").isArmadilloCallSummaryLoggingEnabled()}};g.ZenonLSCallStartEventLogProcessor=a;g.ZenonLSCallStartEventLogProcessorConfig=e}),98);
__d("LsRtcTslogFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1743886");b=d("FalcoLoggerInternal").create("ls_rtc_tslog",a);e=b;g["default"]=e}),98);
__d("ResumableUploadService",["cr:720"],(function(a,b,c,d,e,f,g){g["default"]=b("cr:720")}),98);
__d("ZenonLSCallSummaryLogProcessor",["ChannelClientID","DateConsts","LsRtcCallSummaryFalcoEvent","LsRtcTslogFalcoEvent","ODS","PersistedQueue","ResumableUploadService","URI","ZenonArmadilloLoggingChecks","ZenonDismissReason","ZenonInfraActionsLogger","ZenonLSCallSummary","ZenonLSCallSummaryStore","ZenonLoggingEventTypes","ZenonPeerID","asyncToGeneratorRuntime","gkx","justknobx","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h=10*d("DateConsts").MS_PER_SEC,i="tslog_upload_backend",j=500*1024*.6;a=function(){function a(a,b,e){this.$2=null;this.$3=!1;this.$6=!1;a.peerID=d("ZenonPeerID").ZenonMWPeerID;this.$5=a.peerID;this.$4=(b=a.disableTsData)!=null?b:!1;b=d("ZenonLSCallSummaryStore").ZenonLSCallSummaryStoreInstance.retrieveCallSummary(a.peerID,a.signalingID);b?(this.$1=b,this.$1.unsetEndCallFields(),this.$1.setDeviceID(d("ChannelClientID").getID())):this.$1=new(c("ZenonLSCallSummary"))(a);a.conferenceName!=null&&this.$1.setConferenceName(a.conferenceName);this.$1.save(d("ZenonLSCallSummaryStore").ZenonLSCallSummaryStoreInstance);e&&e({localCallID:this.$1.getCallInfo().localCallID})}var e=a.prototype;e.$7=function(a){c("ZenonInfraActionsLogger").logCheckpoint({checkpoint:a})};e.$8=function(a){var b,e=a.format,f=a.timeSeries;if(f==null||f.length===0){this.$7("Not sending empty TSLog data");return}this.$7("Sending TSLog data of length "+f.length);b=(b=a.sequenceNumber)==null?void 0:b.toString();var g=babelHelpers["extends"]({},this.$1.getLoggingArgs(),{format:e,is_terminal:a.isTerminal,sequence_number:b,source:d("ZenonLoggingEventTypes").tslogSource,time_series:f});if(c("gkx")("4663")&&f.length>j){this.$7("Sending TSLog data through Upload Service");e=new(c("URI"))(window.location.href).getDomain().split(".").slice(-2).join(".");a=c("ResumableUploadService").create({consumer:i,serviceDomain:e});b=new File([JSON.stringify(g)],"tslog");c("promiseDone")(a.resume(b))}else c("PersistedQueue").eventEmitter.emit("active",null),c("LsRtcTslogFalcoEvent").logImmediately(function(){return g});return};e.processEvent=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=this;switch(a.name){case"logTSData":if(this.$4)return;this.$7("Preparing TSLog data for sending");this.$8(a.serializedTSLog);this.$7("Sent TSLog data");break;case"mqttConnectionState":this.$6=a.pending;break}if(this.$3)return;switch(a.name){case"callConnected":this.$1.onCallConnected();this.$1.save(d("ZenonLSCallSummaryStore").ZenonLSCallSummaryStoreInstance);break;case"callEnded":this.$3=!0;this.$2!==null&&window.clearInterval(this.$2);a.endCallReason===d("ZenonDismissReason").ZenonDismissReason.ClientError&&d("ODS").bumpEntityKey(4083,"zenon_client_crashes","zenon_client_error_end_call_reason");yield this.$1.onCallEnded(a.endCallReason,a.isRemoteEnded,!1,a.endCallSubreason);c("justknobx")._("1205")&&this.$1.save(d("ZenonLSCallSummaryStore").ZenonLSCallSummaryStoreInstance);c("ZenonInfraActionsLogger").logCheckpoint({checkpoint:"[ZP] ZenonLoggingEvent_callEnded: "+JSON.stringify({dismissReason:a.endCallReason,endCallReason:d("ZenonDismissReason").dismissToEndCallReason(a.endCallReason),endCallSubreason:a.endCallSubreason,mqttPending:this.$6})});if(c("justknobx")._("853"))return;c("ZenonInfraActionsLogger").logCheckpointEmployeesTestUsersOnly({checkpoint:"Uploading NSL call summary"});c("LsRtcCallSummaryFalcoEvent").logCritical(function(){return babelHelpers["extends"]({},b.$1.getSummaryLoggingInfo())});this.$1.remove(d("ZenonLSCallSummaryStore").ZenonLSCallSummaryStoreInstance);break;case"callEscalated":this.$1.onCallEscalated();this.$1.save(d("ZenonLSCallSummaryStore").ZenonLSCallSummaryStoreInstance);break;case"peerConnectionStateChanged":this.$1.onPCStateChange(a.connected);this.$1.save(d("ZenonLSCallSummaryStore").ZenonLSCallSummaryStoreInstance);break;case"setMaxConnectedParticipants":this.$1.setMaxConnectedParticipants(a.connectedParticipantsCount);this.$1.save(d("ZenonLSCallSummaryStore").ZenonLSCallSummaryStoreInstance);break;case"setMediaStats":this.$1.setMediaStats(a.mediaStats);this.$1.save(d("ZenonLSCallSummaryStore").ZenonLSCallSummaryStoreInstance);break;case"setRemoteSignalingID":this.$1.setSharedCallId(a.remoteSignalingID);a.conferenceName!==null&&a.conferenceName!==""&&this.$1.setConferenceName(a.conferenceName);this.$1.save(d("ZenonLSCallSummaryStore").ZenonLSCallSummaryStoreInstance);break;case"startHeartbeat":this.$2===null&&(this.$2=window.setInterval(function(){b.$1.save(d("ZenonLSCallSummaryStore").ZenonLSCallSummaryStoreInstance),b.$1.updateLastUpdatedTime()},h));break}});function e(b){return a.apply(this,arguments)}return e}();return a}();e={LogProcessor:a,approvedForMandatedE2ee:function(){return d("ZenonArmadilloLoggingChecks").isArmadilloCallSummaryLoggingEnabled()}};g.ZenonLSCallSummaryLogProcessor=a;g.ZenonLSCallSummaryLogProcessorConfig=e}),98);
__d("ZenonLSE2EEStatsLogProcessor",["DateConsts","LsRtcGroupE2eeFalcoEvent","ZenonArmadilloLoggingChecks","ZenonInfraActionsLogger","ZenonLSE2EEStatsManager","ZenonLSE2EEStore","ZenonPeerID","asyncToGeneratorRuntime","justknobx"],(function(a,b,c,d,e,f,g){"use strict";var h=10*d("DateConsts").MS_PER_SEC;a=function(){function a(a,b,e){this.$2=null;this.$3=!1;a.peerID=d("ZenonPeerID").ZenonMWPeerID;this.$4=a.peerID;b=d("ZenonLSE2EEStore").ZenonLSE2EEStoreInstance.retrieveE2eeStats(a.peerID,a.signalingID);b?this.$1=b:this.$1=new(c("ZenonLSE2EEStatsManager"))(a);e&&e({localCallID:this.$1.getCallInfo().localCallID})}var e=a.prototype;e.processEvent=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=this;if(this.$3)return;switch(a.name){case"updateE2EEStats":this.$1.updateE2eeStats(a.e2eeStats);this.$1.save(d("ZenonLSE2EEStore").ZenonLSE2EEStoreInstance);break;case"setRemoteSignalingID":this.$1.setSharedCallId(a.remoteSignalingID);this.$1.save(d("ZenonLSE2EEStore").ZenonLSE2EEStoreInstance);break;case"startHeartbeat":this.$2===null&&(this.$2=window.setInterval(function(){b.$1.save(d("ZenonLSE2EEStore").ZenonLSE2EEStoreInstance)},h));break;case"callEnded":this.$3=!0;this.$2!==null&&window.clearInterval(this.$2);if(c("justknobx")._("853"))return;c("ZenonInfraActionsLogger").logCheckpointEmployeesTestUsersOnly({checkpoint:"Uploading NSL E2EE summary"});c("LsRtcGroupE2eeFalcoEvent").logCritical(function(){return b.$1.getGroupE2eeMetricsInFalcoShape()});this.$1["delete"](d("ZenonLSE2EEStore").ZenonLSE2EEStoreInstance);break}});function e(b){return a.apply(this,arguments)}return e}();return a}();e={LogProcessor:a,approvedForMandatedE2ee:function(){return d("ZenonArmadilloLoggingChecks").isArmadilloCallSummaryLoggingEnabled()}};g.ZenonLSE2EEStatsLogProcessor=a;g.ZenonLSE2EEStatsLogProcessorConfig=e}),98);
__d("ZenonLSPeerConnectionSummaryLogProcessor",["LsRtcPeerConnectionSummaryFalcoEvent","ZenonArmadilloLoggingChecks","ZenonInfraActionsLogger","ZenonLSPeerConnectionSummary","ZenonLSPeerConnectionSummaryStore","ZenonPeerID","asyncToGeneratorRuntime","justknobx"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b,e){this.$2=!1;a.peerID=d("ZenonPeerID").ZenonMWPeerID;this.$3=a.signalingID;this.$4=a.peerID;b=d("ZenonLSPeerConnectionSummaryStore").ZenonLSPeerConnectionSummaryStoreInstance.retrievePeerConnectionSummary(a.peerID,a.signalingID);b?this.$1=b:this.$1=new(c("ZenonLSPeerConnectionSummary"))(a);e&&e({localCallID:this.$1.getCallInfo().localCallID})}var e=a.prototype;e.processEvent=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=this;if(this.$2)return;switch(a.name){case"setMediaPath":this.$1.setMediaPath(a.mediaPath);this.$1.save(d("ZenonLSPeerConnectionSummaryStore").ZenonLSPeerConnectionSummaryStoreInstance);break;case"setMediaStats":this.$1.setMediaStats(a.mediaStats);this.$1.save(d("ZenonLSPeerConnectionSummaryStore").ZenonLSPeerConnectionSummaryStoreInstance);break;case"setRemoteSignalingID":this.$1.setSharedCallId(a.remoteSignalingID);this.$1.save(d("ZenonLSPeerConnectionSummaryStore").ZenonLSPeerConnectionSummaryStoreInstance);break;case"peerConnectionStateChanged":this.$1.onPCStateChange(a.connected);this.$1.save(d("ZenonLSPeerConnectionSummaryStore").ZenonLSPeerConnectionSummaryStoreInstance);break;case"updateIceInfo":this.$1.updateIceInfo(a.sdpString,a.direction);this.$1.save(d("ZenonLSPeerConnectionSummaryStore").ZenonLSPeerConnectionSummaryStoreInstance);break;case"callEnded":this.$2=!0;this.$1.onCallEnded();c("justknobx")._("1205")&&this.$1.save(d("ZenonLSPeerConnectionSummaryStore").ZenonLSPeerConnectionSummaryStoreInstance);if(c("justknobx")._("853"))return;c("ZenonInfraActionsLogger").logCheckpointEmployeesTestUsersOnly({checkpoint:"Uploading NSL PCS summary"});c("LsRtcPeerConnectionSummaryFalcoEvent").logCritical(function(){return b.$1.getPeerConnectionSummary()});this.$1["delete"](d("ZenonLSPeerConnectionSummaryStore").ZenonLSPeerConnectionSummaryStoreInstance);break}});function e(b){return a.apply(this,arguments)}return e}();return a}();e={LogProcessor:a,approvedForMandatedE2ee:function(){return d("ZenonArmadilloLoggingChecks").isArmadilloCallSummaryLoggingEnabled()}};g.ZenonLSPeerConnectionSummaryLogProcessor=a;g.ZenonLSPeerConnectionSummaryLogProcessorConfig=e}),98);
__d("ZenonLSStarRatingsLogProcessor",["ZenonArmadilloLoggingChecks","ZenonLSStarRatingsManager","ZenonLSStarRatingsStore","ZenonPeerID","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b,e){a.peerID=d("ZenonPeerID").ZenonMWPeerID;b=d("ZenonLSStarRatingsStore").ZenonLSStarRatingsStoreInstance.retrieveStarRatings(a.peerID,a.signalingID);b?this.$1=b:this.$1=new(c("ZenonLSStarRatingsManager"))(a);e&&e({localCallID:this.$1.getCallInfo().localCallID})}var e=a.prototype;e.processEvent=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){switch(a.name){case"callRated":this.$1.setRating(a.rating);this.$1.save(d("ZenonLSStarRatingsStore").ZenonLSStarRatingsStoreInstance);return;case"callSurveySubmitted":this.$1.setSurvey(a.feedback,a.surveyChoice,a.surveyIssue);this.$1.save(d("ZenonLSStarRatingsStore").ZenonLSStarRatingsStoreInstance);return;case"setRemoteSignalingID":this.$1.setSharedCallId(a.remoteSignalingID);this.$1.save(d("ZenonLSStarRatingsStore").ZenonLSStarRatingsStoreInstance);break}});function c(b){return a.apply(this,arguments)}return c}();return a}();e={LogProcessor:a,approvedForMandatedE2ee:function(){return d("ZenonArmadilloLoggingChecks").isArmadilloCallSummaryLoggingEnabled()}};g.ZenonLSStarRatingsLogProcessor=a;g.ZenonLSStarRatingsLogProcessorConfig=e}),98);
__d("ZenonPeerConnectionConfig",["ZenonBrowsers","ZenonRTWebBrowserFeatureSupport","gkx","qex"],(function(a,b,c,d,e,f,g){"use strict";var h="stun:stun.fbsbx.com:3478";function i(a,b,c){a={urls:a};b!==void 0&&c!==void 0&&(a.username=b,a.credential=c);return[a]}a=function(){function a(){this.sslPort="",this.tcpPort="",this.turnIP="",this.turnIP_6="",this.turnPassword="",this.turnUsername="",this.udpPort=""}var b=a.prototype;b.setTurnCredentials=function(a){this.turnIP=a.ip,this.turnIP_6=a.ip_6,this.udpPort=a.udp_port,this.tcpPort=a.tcp_port,this.sslPort=a.ssl_tcp_port,this.turnUsername=a.username,this.turnPassword=a.password};b.getConfigZenonPlatform=function(a){var b;a===void 0&&(a=!1);b=c("gkx")("5709")||((b=c("qex")._("1722"))!=null?b:!1)||c("gkx")("6747");a=a&&d("ZenonRTWebBrowserFeatureSupport").isInsertableStreamsSupported()&&b;b="max-compat";var e=this.turnIP==="",f="unified-plan";e?e=i([h]):e=i([h]).concat(i(this.$1(),this.turnUsername,this.turnPassword));return{bundlePolicy:b,encodedInsertableStreams:a,iceServers:e,sdpSemantics:f}};b.getConstraints=function(a){a===void 0&&(a=!1);var b=!0;d("ZenonBrowsers").isChromium()&&d("ZenonBrowsers").webrtcVersion()<57&&a&&(b=!1);return{mandatory:{},optional:[{DtlsSrtpKeyAgreement:b}]}};b.$2=function(a,b){a=a?"["+this.turnIP_6+"]":this.turnIP;var c,d=b;switch(b){case"tcp":c=this.tcpPort;break;case"udp":c=this.udpPort;break;case"ssl":c=this.sslPort;d="tcp";break;default:c=this.udpPort;d=null;break}return!((a==null?void 0:a.length)&&((b=c)==null?void 0:b.length))?null:d!=null&&d.length>0?"turn:"+a+":"+c+"?transport="+d:"turn:"+a+":"+c};b.$1=function(){if(d("ZenonBrowsers").isFirefox()&&d("ZenonBrowsers").webrtcVersion()<27)return[this.$2(!1)].filter(Boolean);else return[this.$2(!1,"udp"),this.$2(!1,"tcp"),this.$2(!1,"ssl"),this.$2(!0,"udp"),this.$2(!0,"tcp"),this.$2(!0,"ssl")].filter(Boolean)};return a}();b=new a();g["default"]=b}),98);
__d("ZenonRenderResolutionTracker",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$2={}}var b=a.prototype;b.setRenderResolutionListener=function(a){this.$1=a};b.getRenderResolutionMap=function(){return this.$2};b.setRenderResolutionMap=function(a){this.$2=a,this.$1&&this.$1.onRenderResolutionChange(a)};return a}();f["default"]=a}),66);
__d("ZenonRequestedMediaType",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum").Mirrored(["Audio","Video","Audiovideo","None","Unknown"]);c=a;f["default"]=c}),66);
__d("ZenonSctpMWMessageSender",["Promise","ZenonActorHooks","ZenonDataUtils","ZenonDebugLogger","ZenonInfraActionsLogger","ZenonMWMessageLogger","ZenonMWMessageReliabilityLogger","ZenonMWMessageTranslator","ZenonMWMessageTypes","ZenonPeerConnectionConstants","ZenonSignalingConstants","ZenonValidateMWMessage","asyncToGeneratorRuntime","err","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h=15e3,i="SCTP not opened";a=function(){function a(a){this.$3=a}var e=a.prototype;e.waitForSctpOpened=function(a){var e=this;return new(b("Promise"))(function(b,f){var g=e.$3.getDataChannelState(a,d("ZenonSignalingConstants").SCTP_SIGNALING_TOPIC);switch((g=g)!=null?g:"does-not-exist"){case"open":b();break;case"closed":case"closing":f(c("err")("channel is closed"));break;case"does-not-exist":case"connecting":c("ZenonInfraActionsLogger").logCheckpoint({checkpoint:"SCTP not opened, deferring sending MWS message"});c("ZenonInfraActionsLogger").startTimer(i);var j=function f(){c("ZenonInfraActionsLogger").stopTimer(i),c("ZenonInfraActionsLogger").logCheckpoint({checkpoint:"SCTP not opened, deferring sending MWS message"}),e.$3.unsubscribeDataChannelOpen(a,f,d("ZenonSignalingConstants").SCTP_SIGNALING_TOPIC),window.clearTimeout(k),b()},k=window.setTimeout(function(){e.$3.unsubscribeDataChannelOpen(a,j,d("ZenonSignalingConstants").SCTP_SIGNALING_TOPIC),c("ZenonInfraActionsLogger").stopTimer(i),c("ZenonInfraActionsLogger").logCheckpoint({checkpoint:"SCTP never opened."}),f(c("err")("timeout"))},h);e.$3.subscribeDataChannelOpen(a,j,d("ZenonSignalingConstants").SCTP_SIGNALING_TOPIC);break}})};e.$4=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b;b=(b=a.jsonPayload.header.clientSessionId)!=null?b:"";try{yield this.waitForSctpOpened(b)}catch(a){c("ZenonInfraActionsLogger").logCheckpoint({checkpoint:"Not sending MWS message through SCTP because SCTP could not connect. Error: "+a});return}var e=c("ZenonDebugLogger").getInstance();d("ZenonMWMessageReliabilityLogger").logSendingMessage(a);e.logMWMessage("SENDING","SCTP",a);this.$2&&d("ZenonMWMessageLogger").logSentMessage(a,this.$2);var f,g;switch(a.jsonPayload.header.type){default:f=this.$5(a);g=d("ZenonSignalingConstants").SCTP_SIGNALING_TOPIC;break}if(f!=null&&g!=null)try{this.$3.sendDataMessage(b,g,{message:JSON.stringify(f),receivers:[d("ZenonPeerConnectionConstants").SCTP_MEDIA_SERVER_ID],sender:d("ZenonActorHooks").ZenonActor.getID()}),d("ZenonMWMessageReliabilityLogger").logSentMessage(a)}catch(b){this.$6(a,b.toString())}else this.$6(a,"Invalid message type sent through datachannel")});function e(b){return a.apply(this,arguments)}return e}();e.$5=function(a){var b;b=(b=a.jsonPayload.body.serverMediaUpdateResponse)==null?void 0:b.currentVersion;a={body:a.jsonPayload.body,endpoint:a.endpoint,header:a.jsonPayload.header,senderId:(a=(a=a.jsonPayload.header.sender)==null?void 0:a.id)!=null?a:""};return{signalingMessagePayload:d("ZenonDataUtils").stringToBase64WithoutPadding(JSON.stringify(a)),version:b}};e.$6=function(a,b){var e=c("ZenonDebugLogger").getInstance();b=b!=null?b:"SCTP Message Send Error";d("ZenonMWMessageReliabilityLogger").logSendMessageFailed(a,"[SCTP] "+b);e.logSendMultiwayMessageFailure(b,a.jsonPayload.header.type)};e.sendMessage=function(a){a=d("ZenonMWMessageTranslator").toMWMessage(a);if(!a||!c("ZenonValidateMWMessage")(a))return b("Promise").reject(c("err")("Invalid MW message"));var e=a.jsonPayload.header.type;return c("gkx")("4190")&&(e===d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.SERVER_MEDIA_UPDATE||e===d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.WAKEUP)?this.$4(a):b("Promise").reject(c("err")("SCTP only supports SMU"))};e.setMessageReceiver=function(a){this.$1=a};e.setLoggingEventHandler=function(a){this.$2=a};return a}();g["default"]=a}),98);
__d("ZenonSctpMWMessageSenderHelper",["ZenonAuditedCheckpointLogId","ZenonInfraActionsLogger"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){this.$1=new Map()}var b=a.prototype;b.setupSctpChannelApi=function(a,b){this.$1.set(a,b)};b.sendDataMessage=function(a,b,c){a=this.$1.get(a);a!=null?a.sendDataMessage(b,c):this.$2()};b.getDataChannelState=function(a,b){a=this.$1.get(a);if(a!=null)return a.getDataChannelState(b);else this.$2()};b.subscribeDataChannelOpen=function(a,b,c){a=this.$1.get(a);a!=null?a.subscribeDataChannelOpen(b,c):this.$2()};b.unsubscribeDataChannelOpen=function(a,b,c){a=this.$1.get(a);a!=null?a.unsubscribeDataChannelOpen(b,c):this.$2()};b.$2=function(){var a="ZenonSctpMWMessageSenderHelper",b="[ZP] Peer Connection Manager was not setup for SCTP communication yet";c("ZenonInfraActionsLogger").logError({auditId:c("ZenonAuditedCheckpointLogId").RP_ROOMS_INFRA_WWW__ERROR,checkpoint:b,errorDomain:a})};return a}();g["default"]=a}),98);
__d("ZenonSignalingTransportTypes",[],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({CHILD_WINDOW_READY:"rtc_child_window_ready",PARENT_INITIATED_CALL:"rtc_child_window_start_call",PARENT_QPL_MARKER:"rtc_parent_qpl_marker",PARENT_TO_CHILD_MESSAGE:"rtc_child_window_message"});f.ChildTransportMessageType=a}),66);
__d("ZenonSignalingChildTransport",["Promise","QuickPerformanceLogger","Random","SecurePostMessage","URI","ZenonSignalingTransportTypes","gkx","isEmpty","isFacebookishURI"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b,e,f,g){var h=this;this.$6=null;this.$10=function(a){a=a.data;if(a.nonce===h.$1)switch(a.type){case d("ZenonSignalingTransportTypes").ChildTransportMessageType.PARENT_INITIATED_CALL:h.$6&&h.$6(a.mwRingRequest);return;case d("ZenonSignalingTransportTypes").ChildTransportMessageType.PARENT_QPL_MARKER:a.markers.forEach(function(a,b){c("QuickPerformanceLogger").addMarker(398997251,b,a)});return}};this.$2=a;this.$1=this.$8();this.$3=b;this.$7=e;this.$4=f;this.$5=g}var e=a.prototype;e.connect=function(){var a=this,c=b("Promise").race([new(b("Promise"))(function(b){a.$6=function(a){return b({isTimeout:!1,mwRingRequest:a})},a.$9()}),new(b("Promise"))(function(b){window.setTimeout(function(){b({isTimeout:!0,mwRingRequest:null})},a.$7)})]);return c.then(function(b){a.$6=null;if(b.isTimeout)return{state:"join_unavailable"};else return{mwRingRequest:b.mwRingRequest,state:"join_ready"}})};e.$9=function(){var a=this;if(window.opener&&window.opener.postMessage){window.addEventListener("message",this.$10,!1);var b={childNonce:this.$1,nonce:this.$2,peerID:this.$3,roomID:this.$4,serverInfoData:this.$5,type:d("ZenonSignalingTransportTypes").ChildTransportMessageType.CHILD_WINDOW_READY},e=new MessageChannel();e.port1.onmessage=function(b){a.$10(b)};var f=window.location.origin;c("gkx")("1443572")||!c("isEmpty")(document.referrer)&&f!==document.referrer&&(c("isFacebookishURI")(new(c("URI"))(document.referrer))&&(f=document.referrer));d("SecurePostMessage").sendMessageToSpecificOrigin(window.opener,b,f,[e.port2])}};e.$8=function(){return String(d("Random").random())};return a}();g["default"]=a}),98);
__d("ZenonSignalingInitState",["setInterval"],(function(a,b,c,d,e,f,g){"use strict";var h=1e4;function a(a,b){if(b.type==="receiveInviteRequest"){a.onInviteReceived(b.payload,b.configuration);return{inviteMessageID:b.messageID}}return{}}function b(a,b){b.type==="sendInviteRequest"&&a.sendSignalingEvent(b.payload,b.onSent,b.onError)}function d(a){if(!a.pingTimer){var b;b=(b=(b=a.config)==null?void 0:b.getConfigManager().getSignalingPingConfig().getPingIntervalMs())!=null?b:h;var d={eventName:"pingRequest"};b=c("setInterval")(function(){a.sendSignalingEvent(d)},b);return{pingTimer:b}}return{}}g.onReceiveInvite=a;g.onSendInvite=b;g.startPingTimer=d}),98);
__d("ZenonSignalingInviteReceivedState",["FBLogger"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){b.type==="sendInviteResponse"&&(a.inviteMessageID!=null?b.payload.status!=="OK"&&(b.payload.ackMessageId=a.inviteMessageID,a.sendSignalingEvent(b.payload,b.onSent,b.onError)):c("FBLogger")("rtc_www").mustfix("onSendInviteResponse handler invoked without populated inviteMessageID in signaling state machine context."))}g.onSendInviteResponse=a}),98);
__d("ZenonSignalingNegotiationCompleteState",["ZenonInfraActionsLogger","err","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){if(b.type==="receiveRemoteSdpRequest"){var d,e=b.payload,f=e.fromVersion;f=f===void 0?-1:f;var g=e.mediaPath,h=e.mediaStates,i=e.onProcessed,j=e.sdp;e=e.source;d=(d=a.lastAckedLocalSdpVersion)!=null?d:-1;c("ZenonInfraActionsLogger").logCheckpoint({checkpoint:"negotiationComplete receiveAnswer: lastAckedLocalSdpVersion: "+d+", fromVersion: "+f+", source: "+e});c("promiseDone")(a.onSdpReceived(j,g,h,(d=e)!=null?d:null,null,i,b.payload.ackMessageId));return{lastRemoteMediaUpdateVersion:j.version}}return{}}function b(a,b){if(b.type==="sendMediaUpdateRequest")if(a.isMediaUpdateResponsePending===!0){var d,e=b.onError,f=b.onSent,g=b.payload;(d=a.mediaUpdateRequestToSend)==null?void 0:d.onError(c("err")("pending media update replaced by newer update"));return{mediaUpdateRequestToSend:{onError:e,onSent:f,payload:g}}}else{d=a.sendSignalingEvent(b.payload,b.onSent,b.onError);return{isMediaUpdateResponsePending:!0,mediaUpdateRequestToSend:null,mediaUpdateRequestTransactionId:d}}return{}}g.onReceiveAnswer=a;g.onSendMediaUpdateRequest=b}),98);
__d("ZenonSignalingSharedActions",["ZenonDebugLogger","ZenonInfraActionsLogger","ZenonMWMessageTypes","ZenonSignalingTypes","promiseDone","qex"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){b.type!=="messageSent"&&a.sendSignalingEvent(b.payload,b.onSent?b.onSent:void 0,b.onError?b.onError:void 0)}function b(a,b){if(b.type!=="receiveCapabilitiesRequest")return;c("promiseDone")(a.onCapabilitiesReceived(b.payload.capabilities,(a=b.payload.escalationConferenceName)!=null?a:null))}function e(a,b){if(b.type!=="receiveClientInfoRequest")return;c("promiseDone")(a.onClientInfoReceived(b.payload.userCapabilities,b.payload.actorRepresentatives,b.payload.mediaPath))}function f(a,b){if(b.type!=="receiveGenericDataMessageRequest")return;a.sendSignalingEvent({ackMessageId:b.messageID,eventName:"genericDataMessageResponse"});var d={message:b.payload.data,sender:""};c("promiseDone")(a.onGenericDataMessageReceived(b.payload.topic,d))}function h(a,b){if(b.type!=="receiveIceCandidateRequest")return;var c={ackMessageId:b.messageID,eventName:"iceCandidateResponse"};a.sendSignalingEvent(c);var d=a.onIceCandidateReceived;b.payload.iceCandidates.forEach(function(a){return d(a)})}function i(a,b){var e;if(b.type!=="receiveInitiateRenegotiationRequest")return{};var f=b.payload,g=f.hasRemoteOffer;f=f.messageTags;var h=x(a.lastRemoteMediaUpdateVersion,b.payload.fromVersion);e={ackMessageId:b.messageID,acknowledgedVersion:h?(e=a.lastRemoteMediaUpdateVersion)!=null?e:0:b.payload.version,eventName:"initiateRenegotiationResponse",hasRemoteOffer:g,messageTags:f,statusCode:h?d("ZenonSignalingTypes").ZenonSignalingStatusCode.REJECTED_FROM_VERSION_DOES_NOT_MATCH:d("ZenonSignalingTypes").ZenonSignalingStatusCode.OK};a.sendSignalingEvent(e);b.payload.onProcessed();if(h)return{};f=a.signalingModel.getMediaModeManager();b.payload.mediaPath===d("ZenonMWMessageTypes").ZenonMWMediaPath.P2P?(f.onDeescalated(),g?(a.logEvent({name:"renegotiationSmuReqWithOfferReceived"}),c("ZenonInfraActionsLogger").logCheckpoint({checkpoint:"initiateRenegotiationRequest: De-escalation callee"})):(a.logEvent({name:"renegotiationSmuReqWithAnswerReceived"}),c("ZenonInfraActionsLogger").logCheckpoint({checkpoint:"initiateRenegotiationRequest: De-escalation caller"}))):(f.onSfuEscalated(),c("ZenonInfraActionsLogger").logCheckpoint({checkpoint:"initiateRenegotiationRequest: SFU escalation"}));c("promiseDone")(a.onRenegotiationRequested(g));return g?{}:C((e=a.lastRemoteMediaUpdateVersion)!=null?e:null,b.payload.version)}function j(a,b){if(b.type!=="receiveLocalSdpResponse")return;b.payload.source==="joinResponse"&&a.logEvent({name:"inviteResponseReceived"});b=b.payload.hasAnswerInJoinResponse;!b?a.logEvent({name:"inviteResponseProcessed"}):(a.signalingModel.getMediaModeManager().onSfuEscalated(),c("promiseDone")(a.onCallCollisionMediaMode()));a.logEvent({hasAnswerInJoinResponse:b,name:"setHasAnswerInJoinResponse"});a.logEvent({name:"startHeartbeat"})}function k(a,b){if(b.type!=="receiveMediaUpdateRequest")return{};var e=a.lastRemoteMediaUpdateVersion,f=b.payload,g=f.mediaStates,h=g.fromVersion;g=g.version;var i=f.messageTags;f=f.onProcessed;f&&f();f=e!=null&&h!=null&&e!==h;h={ackMessageId:b.messageID,acknowledgedVersion:f&&a.lastRemoteMediaUpdateVersion!=null?a.lastRemoteMediaUpdateVersion:b.payload.mediaStates.version,eventName:"mediaUpdateResponse",messageTags:i,responseStatusCode:f?d("ZenonMWMessageTypes").ZenonMWResponseStatusCode.CONDITIONAL_REQUEST_FAILED:d("ZenonMWMessageTypes").ZenonMWResponseStatusCode.OK};a.sendSignalingEvent(h);if(!f){c("promiseDone")(a.onMediaUpdateReceived(b.payload.mediaStates));if(e==null||g>e)return{lastRemoteMediaUpdateVersion:g}}return{}}function l(a,b){if(b.type!=="receiveParticipantUpdateRequest")return{};var d={ackMessageId:b.messageID,eventName:"participantUpdateResponse",requestVersionId:b.payload.versionId};a.sendSignalingEvent(d);d=a.lastParticipantUpdateVersion;if(d==null||d<b.payload.versionId){c("promiseDone")(a.onParticipantUpdateReceived(b.payload.participantStates,b.payload.sctpUserIdNodeIdMap));return{lastParticipantUpdateVersion:b.payload.versionId}}return{}}function m(a){c("promiseDone")(a.onPendingApprovalReceived()),a.logEvent({name:"pendingApproval"})}function n(a){c("promiseDone")(a.onServerRenegotiationFinished())}function o(a,b){var e;if(b.type!=="receiveRemoteSdpRequest"||b.payload.sdp.type==="pranswer"&&!c("qex")._("1406"))return{};var f=x(a.lastRemoteMediaUpdateVersion,b.payload.fromVersion);if(((e=b.payload)==null?void 0:e.source)!=="joinResponse"){e={ackMessageId:b.messageID,acknowledgedVersion:f?a.lastRemoteMediaUpdateVersion:b.payload.sdp.version,eventName:"remoteSdpResponse",messageTags:b.payload.messageTags,negotiateType:b.payload.negotiateType,statusCode:f?d("ZenonSignalingTypes").ZenonSignalingStatusCode.REJECTED_FROM_VERSION_DOES_NOT_MATCH:d("ZenonSignalingTypes").ZenonSignalingStatusCode.OK,type:b.payload.sdp.type};a.sendSignalingEvent(e)}if(f){b.payload.onProcessed&&b.payload.onProcessed();return{}}b.payload.source==="serverMediaUpdateRequest"&&b.payload.sdp.type==="answer"&&a.logEvent({name:"smuWithAnswerReceived"});c("promiseDone")(a.onSdpReceived(b.payload.sdp,b.payload.mediaPath,b.payload.mediaStates,(e=b.payload.source)!=null?e:null,b.payload.renegotiationOffer,b.payload.onProcessed,b.payload.ackMessageId));return babelHelpers["extends"]({},C((f=a.lastRemoteMediaUpdateVersion)!=null?f:null,b.payload.sdp.version),{lastRemoteSdpResponseMessageId:b.messageID})}function p(a,b){if(b.type!=="receiveRoomContextUpdateRequest")return;c("promiseDone")(a.onRoomContextUpdateReceived(b.payload.context))}function q(a,b){if(b.type!=="receiveStateSyncNotifyRequest")return;var c=a.signalingModel,d=b.payload,e=d.data,f=d.responseRequired,g=d.topic;d=d.version;c.getStateSyncStore().updateOutputState(g,{data:e,version:d});c.notify();if(f){e={ackMessageId:b.messageID,eventName:"stateSyncNotifyResponse",topic:g,version:d};a.sendSignalingEvent(e)}}function r(a,b){if(b.type!=="receiveOverlayConfigServerUpdateRequest")return;a=a.signalingModel;a.updateOverlayConfigServerLayer(b.payload.serverLayer);a.notify()}function s(a,b){if(b.type!=="receiveTerminateRequest")return;b.payload.fromJoinResponse===!0&&a.logEvent({name:"inviteResponseReceived"});if(b.payload.shouldInformPeer){var d={ackMessageId:b.messageID,eventName:"dismissResponse"};a.sendSignalingEvent(d)}c("promiseDone")(a.onDismissReceived(a.signalingModel.getSignalingID(),b.payload.reason,(d=b.payload.subreason)!=null?d:null,b.payload.detailedReasonFromMW))}function t(a,b){if(b.type!=="sendSubscriptionRequest")return{};var c=a.lastSubscriptions;a=a.sendSignalingEvent;var d=[].concat(b.payload.subscriptions).sort(D);d=JSON.stringify(d);c!==d&&a(b.payload,b.onSent,b.onError);return{lastSubscriptions:d}}function u(a,b){if(b.type!=="sendClientRenegotiationRequest")return;b=b.payload.negotiationEvent;a.onClientRenegotiationReceived(b)}function v(a,b){b.type==="sendTerminateRequest"&&b.payload.shouldInformPeer&&a.sendSignalingEvent(b.payload,b.onSent,b.onError)}function w(a,b){if(b.type!=="sendUsersApprovalRequest")return;a.sendSignalingEvent(b.payload,b.onSent,b.onError)}function x(a,b){return a!=null&&b!=null&&a!==b}function y(a,b){return A(a,b,!1)}function z(a,b){return A(a,b,!0)}function A(a,b,d){if(b.type==="receiveMediaUpdateResponse"){var e;e=(e=a==null?void 0:a.lastAckedLocalSdpVersion)!=null?e:-1;var f=b.payload.acknowledgedVersion;c("ZenonDebugLogger").getInstance().logConsole("receiveMediaUpdate: lastAckedSdpVersion "+String(e)+", remoteAckedVersion: "+String(f));if(f>=e){a.lastAckedLocalSdpVersion=f;c("promiseDone")(a.onMediaUpdateResponseReceived({cancelNegotiations:d,responseStatusCode:(e=b.payload.responseStatusCode)!=null?e:null,responseSubCode:(f=b.payload.responseSubCode)!=null?f:null,retryAfter:(d=b.payload.retryAfter)!=null?d:null}))}else c("ZenonDebugLogger").getInstance().logConsole("mediaUpdateResponse: Ignoring old message response");e=a.mediaUpdateRequestToSend;if(e){f=e.onError;b=e.onSent;d=e.payload;e=a.sendSignalingEvent(d,b,f);return{isMediaUpdateResponsePending:!0,lastAckedLocalSdpVersion:a.lastAckedLocalSdpVersion,mediaUpdateRequestToSend:null,mediaUpdateRequestTransactionId:e}}else return{isMediaUpdateResponsePending:!1,lastAckedLocalSdpVersion:a.lastAckedLocalSdpVersion,mediaUpdateRequestTransactionId:""}}return{}}function B(a,b){if(b.type!=="sendLocalSdpRequest")return{};a=a.sendSignalingEvent(b.payload,b.onSent,b.onError);return{mediaUpdateRequestTransactionId:a}}function C(a,b){return a==null||b>a?{lastRemoteMediaUpdateVersion:b}:{}}function D(a,b){if(a.type!==b.type)return a.type-b.type;a=(a=a.trackId)!=null?a:null;b=(b=b.trackId)!=null?b:null;if(a===null||b===null)return 0;else return a.localeCompare(b)}g.genericEventSender=a;g.onReceiveCapabilitiesRequest=b;g.onReceiveClientInfoRequest=e;g.onReceiveGenericDataMessageRequest=f;g.onReceiveIceCandidateRequest=h;g.onReceiveInitiateRenegotiationRequest=i;g.onReceiveLocalSdpResponse=j;g.onReceiveMediaUpdateRequest=k;g.onReceiveParticipantUpdateRequest=l;g.onReceivePendingApprovalRequest=m;g.onServerRenegotiationFinished=n;g.onReceiveRemoteSdpRequest=o;g.onReceiveRoomContextUpdateRequest=p;g.onReceiveStateSyncNotifyRequest=q;g.onReceiveOverlayConfigServerUpdateRequest=r;g.onReceiveTerminateRequest=s;g.onSendSubscriptionRequest=t;g.onSendClientRenegotiationRequest=u;g.onSendTerminateRequest=v;g.onSendUsersApprovalRequest=w;g.shouldRejectRequest=x;g.onNonSDPReceiveMediaUpdateResponse=y;g.onReceiveMediaUpdateResponse=z;g.onSendLocalSdpRequestOffer=B}),98);
__d("ZenonSignalingSMGuards",["ZenonInfraActionsLogger","ZenonMWMessageTypes","ZenonSignalingSharedActions","gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return b.type==="receiveRemoteSdpRequest"&&b.payload.sdp.type==="offer"&&d("ZenonSignalingSharedActions").shouldRejectRequest(a.lastRemoteMediaUpdateVersion,b.payload.fromVersion)===!1}function b(a,b){return b.type==="receiveRemoteSdpRequest"&&b.payload.sdp.type==="offer"&&d("ZenonSignalingSharedActions").shouldRejectRequest(a.lastRemoteMediaUpdateVersion,b.payload.fromVersion)}function e(a,b){return b.type==="receiveRemoteSdpRequest"&&b.payload.sdp.type==="pranswer"}function f(a,b){return b.type==="receiveRemoteSdpRequest"&&b.payload.sdp.type==="answer"}function h(a,b){return b.type==="sendLocalSdpRequest"&&b.payload.sdp.type==="answer"}function i(a,b){return b.type==="receiveLocalSdpResponse"&&b.payload.source==="joinResponse"}function j(a,b){a=b.type==="receiveRemoteSdpRequest"&&(b.payload.source==="serverMediaUpdateRequest"||b.payload.source==="clientMediaUpdateResponse");b.type==="receiveRemoteSdpRequest"&&!a&&(c("ZenonInfraActionsLogger").logCheckpoint({checkpoint:"[ZP] Calling the processed function for transaction id: "+String(b.payload.ackMessageId)+". Payload source: "+String(b.payload.source)+"."}),b.payload.onProcessed&&b.payload.onProcessed());return a}function k(a,b){return b.type==="receiveRemoteSdpRequest"&&b.payload.sdp.type==="offer"}function l(a,b){return b.type==="sendLocalSdpRequest"&&b.payload.sdp.type==="offer"}function m(a,b){return b.type==="sendLocalSdpRequest"&&b.payload.sdp.type==="offer"}function n(a,b){var e=b.type==="receiveMediaUpdateResponse"&&b.payload.responseStatusCode!==d("ZenonMWMessageTypes").ZenonMWResponseStatusCode.OK&&b.payload.ackMessageId===a.mediaUpdateRequestTransactionId;b.type==="receiveMediaUpdateResponse"&&b.payload.responseStatusCode!==d("ZenonMWMessageTypes").ZenonMWResponseStatusCode.OK&&c("ZenonInfraActionsLogger").logCheckpoint({checkpoint:"[ZP] Server rejected offer with code: "+String(b.payload.responseStatusCode)+", subCode: "+String(b.payload.responseSubCode)+". Outgoing transaction id was: "+String(a.mediaUpdateRequestTransactionId)+". Incoming transaction id was: "+String(b.payload.ackMessageId)+". Transaction should be canceled: "+String(e)+"."});return e}function o(a,b){var d=b.type==="messageSent"&&b.messageID===a.lastRemoteSdpResponseMessageId;b=b.messageID;if(c("gkx")("2890")){c("ZenonInfraActionsLogger").logCheckpoint({checkpoint:"lastRemoteSdpResponseMessageIdSentGuard: "+(d?"Passed":"Failed")+" Last ID: "+((a=a.lastRemoteSdpResponseMessageId)!=null?a:"null")+". 'Incoming ID: "+((a=b)!=null?a:"null")})}return d}g.sdpOfferReceiveNotRejectedGuard=a;g.sdpOfferReceiveRejectedGuard=b;g.sdpPrAnswerReceiveGuard=e;g.sdpAnswerReceiveGuard=f;g.sdpAnswerSendGuard=h;g.sdpJoinResponseReceiveGuard=i;g.receiveRemoteSdpRequestSmuOrCmuGuard=j;g.sdpOfferReceiveGuard=k;g.sdpOfferSendGuard=l;g.sdpOfferSendGuardNegotiationComplete=m;g.receiveNonOkMediaUpdateResponseGuard=n;g.lastRemoteSdpResponseMessageIdSentGuard=o}),98);
__d("ZenonSignalingTerminatedState",["ZenonMWMessageReliabilityLogger","ZenonMWMessageTypes","ZenonSignalingTypes","clearInterval"],(function(a,b,c,d,e,f,g){"use strict";function a(a){if(a.pingTimer){c("clearInterval")(a.pingTimer);delete a.pingTimer;return a}return{}}function b(a,b){var c;if(b.type!=="receiveRemoteSdpRequest")return;b.payload.ackMessageId!=null&&d("ZenonMWMessageReliabilityLogger").logEventForTxid(b.payload.ackMessageId,d("ZenonMWMessageReliabilityLogger").ZenonMWMessageReliabilityEvent.RECEIVED_REQUEST_IN_TERMINATED_STATE);b.payload.onProcessed&&b.payload.onProcessed();c={ackMessageId:(c=b.payload.ackMessageId)!=null?c:b.messageID,acknowledgedVersion:b.payload.sdp.version,eventName:"remoteSdpResponse",messageTags:b.payload.messageTags,negotiateType:b.payload.negotiateType,statusCode:d("ZenonSignalingTypes").ZenonSignalingStatusCode.METHOD_NOT_ALLOWED,subCode:d("ZenonSignalingTypes").ZenonSignalingStatusSubCode.CLIENT_TERMINATED,type:b.payload.sdp.type};a.sendSignalingEvent(c)}function e(a,b){if(b.type!=="receiveInitiateRenegotiationRequest")return;b.payload.onProcessed&&b.payload.onProcessed();b={ackMessageId:b.messageID,acknowledgedVersion:b.payload.version,eventName:"initiateRenegotiationResponse",hasRemoteOffer:!1,statusCode:d("ZenonSignalingTypes").ZenonSignalingStatusCode.METHOD_NOT_ALLOWED,subCode:d("ZenonSignalingTypes").ZenonSignalingStatusSubCode.CLIENT_TERMINATED};a.sendSignalingEvent(b)}function f(a,b){if(b.type!=="receiveMediaUpdateRequest")return;b.payload.onProcessed&&b.payload.onProcessed();b={ackMessageId:b.messageID,acknowledgedVersion:b.payload.mediaStates.version,eventName:"mediaUpdateResponse",responseStatusCode:d("ZenonMWMessageTypes").ZenonMWResponseStatusCode.METHOD_NOT_ALLOWED,responseSubCode:d("ZenonMWMessageTypes").ZenonMWResponseSubCode.CLIENT_TERMINATED};a.sendSignalingEvent(b)}g.stopPingTimer=a;g.onReceiveRemoteSdpRequest=b;g.onReceiveInitiateRenegotiationRequest=e;g.onReceiveMediaUpdateRequest=f}),98);
__d("getReceiveEvent",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){switch(a.eventName){case"addParticipantsRequest":return{payload:a,type:"receiveAddParticipantsRequest"};case"addParticipantsResponse":return{payload:a,type:"receiveAddParticipantsResponse"};case"pendingApprovalRequest":return{configuration:c,messageID:b,payload:a,type:"receivePendingApprovalRequest"};case"answerIntentRequest":return null;case"clientEventRequest":return null;case"clientRenegotiationRequest":return null;case"capabilitiesRequest":return{configuration:c,messageID:b,payload:a,type:"receiveCapabilitiesRequest"};case"clientInfoRequest":return{configuration:c,messageID:b,payload:a,type:"receiveClientInfoRequest"};case"dismissResponse":return{configuration:c,messageID:b,payload:a,type:"receiveDismissResponse"};case"iceCandidateRequest":return{configuration:c,messageID:b,payload:a,type:"receiveIceCandidateRequest"};case"iceCandidateResponse":return{configuration:c,messageID:b,payload:a,type:"receiveIceCandidateResponse"};case"initiateRenegotiationRequest":return{configuration:c,messageID:b,payload:a,type:"receiveInitiateRenegotiationRequest"};case"initiateRenegotiationResponse":return null;case"inviteRequest":return{configuration:c,messageID:b,payload:a,type:"receiveInviteRequest"};case"inviteResponse":return{configuration:c,messageID:b,payload:a,type:"receiveInviteResponse"};case"localSdpRequest":return null;case"localSdpResponse":return{configuration:c,messageID:b,payload:a,type:"receiveLocalSdpResponse"};case"mediaUpdateRequest":return{configuration:c,messageID:b,payload:a,type:"receiveMediaUpdateRequest"};case"mediaUpdateResponse":return{configuration:c,messageID:b,payload:a,type:"receiveMediaUpdateResponse"};case"overlayConfigServerUpdateRequest":return{configuration:c,messageID:b,payload:a,type:"receiveOverlayConfigServerUpdateRequest"};case"participantUpdateRequest":return{configuration:c,messageID:b,payload:a,type:"receiveParticipantUpdateRequest"};case"participantUpdateResponse":return{configuration:c,messageID:b,payload:a,type:"receiveParticipantUpdateResponse"};case"pingResponse":return{configuration:c,messageID:b,payload:a,type:"receivePingResponse"};case"pingRequest":return null;case"remoteSdpRequest":return{configuration:c,messageID:b,payload:a,type:"receiveRemoteSdpRequest"};case"remoteSdpResponse":return{configuration:c,messageID:b,payload:a,type:"receiveRemoteSdpResponse"};case"stateSyncNotifyRequest":return{configuration:c,messageID:b,payload:a,type:"receiveStateSyncNotifyRequest"};case"stateSyncNotifyResponse":return null;case"stateSyncUnsubscribeRequest":return null;case"stateSyncUnsubscribeResponse":return{configuration:c,messageID:b,payload:a,type:"receiveStateSyncUnsubscribeResponse"};case"stateSyncUpdateRequest":return null;case"stateSyncUpdateResponse":return{configuration:c,messageID:b,payload:a,type:"receiveStateSyncUpdateResponse"};case"subscriptionRequest":return null;case"removeParticipantsRequest":return null;case"usersApprovalRequest":return null;case"terminateRequest":return{configuration:c,messageID:b,payload:a,type:"receiveTerminateRequest"};case"hangupResponse":return null;case"roomContextUpdateRequest":return{configuration:c,messageID:b,payload:a,type:"receiveRoomContextUpdateRequest"};case"genericDataMessageRequest":return{configuration:c,messageID:b,payload:a,type:"receiveGenericDataMessageRequest"};case"genericDataMessageResponse":return{configuration:c,messageID:b,payload:a,type:"receiveGenericDataMessageResponse"};case"wakeupRequest":return{configuration:c,messageID:b,payload:a,type:"receiveWakeupRequest"};case"wakeupResponse":return null;default:a;return null}}f["default"]=a}),66);
__d("getSendEvent",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){switch(a.eventName){case"addParticipantsRequest":return{onError:c,onSent:b,payload:a,type:"sendAddParticipantsRequest"};case"addParticipantsResponse":return{onError:c,onSent:b,payload:a,type:"sendAddParticipantsResponse"};case"answerIntentRequest":return{onError:c,onSent:b,payload:a,type:"sendAnswerIntentRequest"};case"usersApprovalRequest":return{onError:c,onSent:b,payload:a,type:"sendUsersApprovalRequest"};case"capabilitiesRequest":return{onError:c,onSent:b,payload:a,type:"sendCapabilitiesRequest"};case"clientEventRequest":return{onError:c,onSent:b,payload:a,type:"sendClientEventRequest"};case"clientInfoRequest":return{onError:c,onSent:b,payload:a,type:"sendClientInfoRequest"};case"clientRenegotiationRequest":return{onError:c,onSent:b,payload:a,type:"sendClientRenegotiationRequest"};case"dismissResponse":return{onError:c,onSent:b,payload:a,type:"sendDismissResponse"};case"iceCandidateRequest":return{onError:c,onSent:b,payload:a,type:"sendIceCandidateRequest"};case"iceCandidateResponse":return{onError:c,onSent:b,payload:a,type:"sendIceCandidateResponse"};case"initiateRenegotiationRequest":return null;case"initiateRenegotiationResponse":return{onError:c,onSent:b,payload:a,type:"sendInitiateRenegotiationResponse"};case"inviteRequest":return{onError:c,onSent:b,payload:a,type:"sendInviteRequest"};case"inviteResponse":return{onError:c,onSent:b,payload:a,type:"sendInviteResponse"};case"localSdpRequest":return{onError:c,onSent:b,payload:a,type:"sendLocalSdpRequest"};case"localSdpResponse":return{onError:c,onSent:b,payload:a,type:"sendLocalSdpResponse"};case"mediaUpdateRequest":return{onError:c,onSent:b,payload:a,type:"sendMediaUpdateRequest"};case"mediaUpdateResponse":return{onError:c,onSent:b,payload:a,type:"sendMediaUpdateResponse"};case"overlayConfigServerUpdateRequest":return{onError:c,onSent:b,payload:a,type:"sendOverlayConfigServerUpdateRequest"};case"participantUpdateRequest":return{onError:c,onSent:b,payload:a,type:"sendParticipantUpdateRequest"};case"participantUpdateResponse":return{onError:c,onSent:b,payload:a,type:"sendParticipantUpdateResponse"};case"pingResponse":return null;case"pingRequest":return{onError:c,onSent:b,payload:a,type:"sendPingRequest"};case"remoteSdpRequest":return null;case"remoteSdpResponse":return{onError:c,onSent:b,payload:a,type:"sendRemoteSdpResponse"};case"subscriptionRequest":return{onError:c,onSent:b,payload:a,type:"sendSubscriptionRequest"};case"removeParticipantsRequest":return{onError:c,onSent:b,payload:a,type:"sendRemoveParticipantsRequest"};case"stateSyncNotifyRequest":return null;case"stateSyncNotifyResponse":return{onError:c,onSent:b,payload:a,type:"sendStateSyncNotifyResponse"};case"stateSyncUnsubscribeRequest":return{onError:c,onSent:b,payload:a,type:"sendStateSyncUnsubscribeRequest"};case"stateSyncUnsubscribeResponse":return null;case"stateSyncUpdateRequest":return{onError:c,onSent:b,payload:a,type:"sendStateSyncUpdateRequest"};case"stateSyncUpdateResponse":return null;case"terminateRequest":return{onError:c,onSent:b,payload:a,type:"sendTerminateRequest"};case"hangupResponse":return null;case"roomContextUpdateRequest":return null;case"genericDataMessageRequest":return{onError:c,onSent:b,payload:a,type:"sendGenericDataMessageRequest"};case"pendingApprovalRequest":return null;case"genericDataMessageResponse":return{onError:c,onSent:b,payload:a,type:"sendGenericDataMessageResponse"};case"wakeupRequest":return null;case"wakeupResponse":return{onError:c,onSent:b,payload:a,type:"sendWakeupResponse"};default:a;return null}}f["default"]=a}),66);
__d("ZenonSignalingStateMachine",["Promise","ZenonDebugLogger","ZenonInfraActionsLogger","ZenonLogPromiseRejection","ZenonMWMessageReliabilityLogger","ZenonSignalingInitState","ZenonSignalingInviteReceivedState","ZenonSignalingNegotiationCompleteState","ZenonSignalingSMGuards","ZenonSignalingSharedActions","ZenonSignalingTerminatedState","ZenonStateMachineBase","err","getReceiveEvent","getSendEvent","qpl","xstate"],(function(a,b,c,d,e,f,g){"use strict";var h=["receiveRemoteSdpRequest","receiveInitiateRenegotiationRequest","receiveMediaUpdateRequest"],i={loggingStateName:"signalingState",name:"SignalingStateMachine",shortname:"Signaling",timeoutEvent:d("ZenonMWMessageReliabilityLogger").ZenonMWMessageReliabilityEvent.STUCK_IN_SIGNALING_STATE_MACHINE};a=function(a){babelHelpers.inheritsLoose(e,a);function e(b,e){var f;e===void 0&&(e="init");f=a.call(this,{base:{guards:d("ZenonSignalingSMGuards"),initState:"init"},logging:babelHelpers["extends"]({},i,{eventToLogTimeoutsOn:null,getTransactionId:function(a){return a.type!=="messageSent"?a.payload.ackMessageId:null},loggableEvents:h,loggingId:+b.signalingModel.getSignalingID()}),machine:{context:babelHelpers["extends"]({},b),initialState:e,states:E}})||this;f.sm.onTransition(function(a){c("ZenonInfraActionsLogger").updateCachedValues({signalingState:a.value});var b=a.event.type==="receiveRemoteSdpRequest"?a.event.messageID:null;f.logTransition(a,b);f.logTransaction(a.event,d("ZenonMWMessageReliabilityLogger").ZenonMWMessageReliabilityEvent.PROCESSED_SM_EVENT);f.ifDroppedEvent(a,function(a){a.onError&&a.onError(c("err")("event was dropped: "+a.type))})});f.$ZenonSignalingStateMachine1=b.sendSignalingEvent;c("ZenonDebugLogger").getInstance().startQPL(c("qpl")._(64245348,"8823"),f.loggingId);return f}var f=e.prototype;f.processSendEvent=function(a){var d=this;return c("ZenonLogPromiseRejection")(new(b("Promise"))(function(b,e){e=c("getSendEvent")(a,b,e);e!=null?d.$ZenonSignalingStateMachine2(e):b()}))};f.processReceiveEvent=function(a,b,d){if(a.eventName==="wakeupRequest"){this.$ZenonSignalingStateMachine1(a);return}a=c("getReceiveEvent")(a,b,d);a!=null&&this.$ZenonSignalingStateMachine2(a)};f.processEvent=function(a){this.$ZenonSignalingStateMachine2(a)};f.$ZenonSignalingStateMachine2=function(a){var b=a.type==="receiveRemoteSdpRequest"?a.messageID:null;this.logEvent(a,b);this.sm.send(a)};return e}(d("ZenonStateMachineBase").ZenonStateMachineBase);e={actions:[d("ZenonSignalingSharedActions").genericEventSender]};f={actions:[d("ZenonSignalingSharedActions").onReceiveTerminateRequest],target:"terminated"};var j={actions:[d("ZenonSignalingSharedActions").genericEventSender]},k={actions:[d("ZenonSignalingSharedActions").genericEventSender]},l={actions:[d("ZenonSignalingSharedActions").genericEventSender]},m={actions:[d("ZenonSignalingSharedActions").onReceiveCapabilitiesRequest]},n={actions:[d("ZenonSignalingSharedActions").onReceiveClientInfoRequest]},o={actions:[d("ZenonSignalingSharedActions").onReceiveGenericDataMessageRequest]},p={actions:[d("ZenonSignalingSharedActions").onReceiveIceCandidateRequest]},q={actions:[d("ZenonSignalingSharedActions").genericEventSender]},r={actions:[d("ZenonSignalingSharedActions").genericEventSender]},s={actions:[d("ZenonSignalingSharedActions").genericEventSender]},t={actions:[d("xstate").assign(d("ZenonSignalingSharedActions").onSendSubscriptionRequest)]},u={actions:[d("ZenonSignalingSharedActions").onSendTerminateRequest],target:"terminated"},v={actions:[d("ZenonSignalingSharedActions").genericEventSender]},w={actions:[d("xstate").assign(d("ZenonSignalingSharedActions").onReceiveParticipantUpdateRequest)]},x={actions:[d("ZenonSignalingSharedActions").onReceiveRoomContextUpdateRequest]},y={actions:[d("ZenonSignalingSharedActions").onReceiveOverlayConfigServerUpdateRequest]},z={actions:[d("ZenonSignalingSharedActions").onReceiveStateSyncNotifyRequest]},A={actions:[d("ZenonSignalingSharedActions").genericEventSender]},B={actions:[d("ZenonSignalingSharedActions").genericEventSender]},C={actions:[d("ZenonSignalingSharedActions").onSendUsersApprovalRequest]},D={actions:[d("xstate").assign(d("ZenonSignalingSharedActions").onReceiveMediaUpdateRequest)]},E={init:{on:{sendInviteRequest:{actions:[d("xstate").assign(d("ZenonSignalingInitState").startPingTimer),d("ZenonSignalingInitState").onSendInvite],target:"inviteSent"},receiveInviteRequest:{target:"inviteReceived",actions:[d("xstate").assign(d("ZenonSignalingInitState").startPingTimer),d("xstate").assign(d("ZenonSignalingInitState").onReceiveInvite)]},receiveTerminateRequest:f,sendTerminateRequest:u,receiveRoomContextUpdateRequest:x,sendClientInfoRequest:e,sendRemoveParticipantsRequest:v,sendUsersApprovalRequest:C,sendSubscriptionRequest:t,receiveMediaUpdateRequest:D,receiveOverlayConfigServerUpdateRequest:y,receiveStateSyncNotifyRequest:z,sendLocalSdpRequest:d("ZenonStateMachineBase").defer,receiveCapabilitiesRequest:d("ZenonStateMachineBase").defer,receiveClientInfoRequest:d("ZenonStateMachineBase").defer,receiveGenericDataMessageRequest:d("ZenonStateMachineBase").defer,receiveIceCandidateRequest:d("ZenonStateMachineBase").defer,receiveParticipantUpdateRequest:d("ZenonStateMachineBase").defer,receiveLocalSdpResponse:d("ZenonStateMachineBase").defer,receiveMediaUpdateResponse:d("ZenonStateMachineBase").defer,receiveRemoteSdpRequest:d("ZenonStateMachineBase").defer,sendGenericDataMessageRequest:d("ZenonStateMachineBase").defer,sendIceCandidateRequest:d("ZenonStateMachineBase").defer,sendStateSyncUnsubscribeRequest:d("ZenonStateMachineBase").defer,sendStateSyncUpdateRequest:d("ZenonStateMachineBase").defer,sendCapabilitiesRequest:d("ZenonStateMachineBase").defer,sendClientRenegotiationRequest:d("ZenonStateMachineBase").defer}},inviteSent:{on:{sendLocalSdpRequest:{actions:[d("ZenonSignalingSharedActions").genericEventSender],cond:d("ZenonSignalingSMGuards").sdpOfferSendGuard,target:"offerSdpSent"},receiveTerminateRequest:f,sendTerminateRequest:u,receiveIceCandidateRequest:p,receiveParticipantUpdateRequest:w,receiveRoomContextUpdateRequest:x,sendCapabilitiesRequest:s,sendClientInfoRequest:e,sendRemoveParticipantsRequest:v,receiveMediaUpdateRequest:D,receiveOverlayConfigServerUpdateRequest:y,receiveStateSyncNotifyRequest:z,sendSubscriptionRequest:t,sendUsersApprovalRequest:C,sendMediaUpdateRequest:d("ZenonStateMachineBase").defer,sendIceCandidateRequest:d("ZenonStateMachineBase").defer,receiveGenericDataMessageRequest:d("ZenonStateMachineBase").defer,sendGenericDataMessageRequest:d("ZenonStateMachineBase").defer,sendStateSyncUnsubscribeRequest:d("ZenonStateMachineBase").defer,sendStateSyncUpdateRequest:d("ZenonStateMachineBase").defer,sendClientRenegotiationRequest:d("ZenonStateMachineBase").defer}},offerSdpSent:{on:{receiveLocalSdpResponse:{actions:[d("ZenonSignalingSharedActions").onReceiveLocalSdpResponse],cond:d("ZenonSignalingSMGuards").sdpJoinResponseReceiveGuard,target:"offerSdpAcknowledged"},receiveTerminateRequest:f,receiveCapabilitiesRequest:m,receiveClientInfoRequest:n,receiveIceCandidateRequest:p,receiveMediaUpdateRequest:D,receiveParticipantUpdateRequest:w,receiveRoomContextUpdateRequest:x,sendAddParticipantsRequest:r,sendAnswerIntentRequest:j,sendUsersApprovalRequest:C,sendClientInfoRequest:e,sendRemoveParticipantsRequest:v,receiveOverlayConfigServerUpdateRequest:y,receiveStateSyncNotifyRequest:z,sendSubscriptionRequest:t,receivePendingApprovalRequest:d("ZenonStateMachineBase").defer,receiveRemoteSdpRequest:d("ZenonStateMachineBase").defer,receiveInitiateRenegotiationRequest:d("ZenonStateMachineBase").defer,sendGenericDataMessageRequest:d("ZenonStateMachineBase").defer,sendIceCandidateRequest:d("ZenonStateMachineBase").defer,sendMediaUpdateRequest:d("ZenonStateMachineBase").defer,receiveGenericDataMessageRequest:d("ZenonStateMachineBase").defer,sendStateSyncUnsubscribeRequest:d("ZenonStateMachineBase").defer,sendStateSyncUpdateRequest:d("ZenonStateMachineBase").defer,sendTerminateRequest:d("ZenonStateMachineBase").defer,sendClientRenegotiationRequest:d("ZenonStateMachineBase").defer}},offerSdpAcknowledged:{on:{receivePendingApprovalRequest:{actions:[d("ZenonSignalingSharedActions").onReceivePendingApprovalRequest]},receiveRemoteSdpRequest:[{actions:[d("xstate").assign(d("ZenonSignalingSharedActions").onReceiveRemoteSdpRequest)],cond:d("ZenonSignalingSMGuards").sdpAnswerReceiveGuard,target:"negotiationComplete"},{actions:[d("xstate").assign(d("ZenonSignalingSharedActions").onReceiveRemoteSdpRequest)],cond:d("ZenonSignalingSMGuards").sdpPrAnswerReceiveGuard}],receiveInitiateRenegotiationRequest:{actions:[d("xstate").assign(d("ZenonSignalingSharedActions").onReceiveInitiateRenegotiationRequest)],target:"negotiationComplete"},receiveTerminateRequest:f,sendTerminateRequest:u,receiveCapabilitiesRequest:m,receiveClientInfoRequest:n,receiveIceCandidateRequest:p,receiveMediaUpdateRequest:D,receiveParticipantUpdateRequest:w,receiveRoomContextUpdateRequest:x,sendAddParticipantsRequest:r,sendAnswerIntentRequest:j,sendUsersApprovalRequest:C,sendClientInfoRequest:e,sendRemoveParticipantsRequest:v,receiveOverlayConfigServerUpdateRequest:y,receiveStateSyncNotifyRequest:z,sendStateSyncUnsubscribeRequest:B,sendStateSyncUpdateRequest:A,sendSubscriptionRequest:t,sendIceCandidateRequest:l,sendGenericDataMessageRequest:d("ZenonStateMachineBase").defer,sendMediaUpdateRequest:d("ZenonStateMachineBase").defer,receiveGenericDataMessageRequest:d("ZenonStateMachineBase").defer,sendClientRenegotiationRequest:d("ZenonStateMachineBase").defer}},inviteReceived:{on:{sendInviteResponse:{actions:[d("ZenonSignalingInviteReceivedState").onSendInviteResponse],target:"inviteAcknowledged"},sendTerminateRequest:u,receiveRoomContextUpdateRequest:x,sendAnswerIntentRequest:j,sendIceCandidateRequest:l,sendUsersApprovalRequest:C,sendRemoveParticipantsRequest:v,receiveMediaUpdateRequest:D,receiveOverlayConfigServerUpdateRequest:y,receiveStateSyncNotifyRequest:z,sendStateSyncUnsubscribeRequest:B,sendStateSyncUpdateRequest:A,sendSubscriptionRequest:t,receiveCapabilitiesRequest:d("ZenonStateMachineBase").defer,receiveClientInfoRequest:d("ZenonStateMachineBase").defer,receiveGenericDataMessageRequest:d("ZenonStateMachineBase").defer,receiveIceCandidateRequest:d("ZenonStateMachineBase").defer,receiveParticipantUpdateRequest:d("ZenonStateMachineBase").defer,receiveRemoteSdpRequest:d("ZenonStateMachineBase").defer,sendGenericDataMessageRequest:d("ZenonStateMachineBase").defer,receiveTerminateRequest:d("ZenonStateMachineBase").defer,sendClientRenegotiationRequest:d("ZenonStateMachineBase").defer,sendMediaUpdateRequest:d("ZenonStateMachineBase").defer}},inviteAcknowledged:{on:{sendLocalSdpRequest:[{actions:[d("ZenonSignalingSharedActions").genericEventSender],cond:d("ZenonSignalingSMGuards").sdpOfferSendGuard,target:"offerSdpSent"},{actions:[d("ZenonSignalingSharedActions").genericEventSender],cond:d("ZenonSignalingSMGuards").sdpAnswerSendGuard,target:"negotiationComplete"}],receiveRemoteSdpRequest:{actions:[d("xstate").assign(d("ZenonSignalingSharedActions").onReceiveRemoteSdpRequest)],cond:d("ZenonSignalingSMGuards").sdpOfferReceiveGuard,target:"offerSdpReceived"},receiveTerminateRequest:f,sendTerminateRequest:u,receiveCapabilitiesRequest:m,receiveClientInfoRequest:n,receiveIceCandidateRequest:p,receiveMediaUpdateRequest:D,receiveParticipantUpdateRequest:w,receiveRoomContextUpdateRequest:x,sendAnswerIntentRequest:j,sendClientInfoRequest:e,sendIceCandidateRequest:l,receiveOverlayConfigServerUpdateRequest:y,receiveStateSyncNotifyRequest:z,sendSubscriptionRequest:t,sendStateSyncUpdateRequest:d("ZenonStateMachineBase").defer,sendUsersApprovalRequest:d("ZenonStateMachineBase").defer,sendRemoveParticipantsRequest:d("ZenonStateMachineBase").defer,sendStateSyncUnsubscribeRequest:d("ZenonStateMachineBase").defer,sendMediaUpdateRequest:d("ZenonStateMachineBase").defer,sendGenericDataMessageRequest:d("ZenonStateMachineBase").defer,receiveGenericDataMessageRequest:d("ZenonStateMachineBase").defer,sendClientRenegotiationRequest:d("ZenonStateMachineBase").defer}},offerSdpReceived:{on:{sendLocalSdpRequest:[{actions:d("ZenonSignalingSharedActions").genericEventSender,cond:d("ZenonSignalingSMGuards").sdpAnswerSendGuard}],receiveTerminateRequest:f,sendTerminateRequest:u,receiveLocalSdpResponse:{actions:[d("ZenonSignalingSharedActions").onReceiveLocalSdpResponse],target:"negotiationComplete"},receiveCapabilitiesRequest:m,receiveClientInfoRequest:n,receiveIceCandidateRequest:p,receiveMediaUpdateRequest:D,receiveParticipantUpdateRequest:w,receiveRoomContextUpdateRequest:x,sendAnswerIntentRequest:j,sendCapabilitiesRequest:s,sendClientInfoRequest:e,sendIceCandidateRequest:l,receiveOverlayConfigServerUpdateRequest:y,receiveStateSyncNotifyRequest:z,sendSubscriptionRequest:t,sendUsersApprovalRequest:d("ZenonStateMachineBase").defer,sendRemoveParticipantsRequest:d("ZenonStateMachineBase").defer,sendStateSyncUnsubscribeRequest:d("ZenonStateMachineBase").defer,sendStateSyncUpdateRequest:d("ZenonStateMachineBase").defer,receiveRemoteSdpRequest:d("ZenonStateMachineBase").defer,sendGenericDataMessageRequest:d("ZenonStateMachineBase").defer,receiveGenericDataMessageRequest:d("ZenonStateMachineBase").defer,sendClientRenegotiationRequest:d("ZenonStateMachineBase").defer,sendMediaUpdateRequest:d("ZenonStateMachineBase").defer}},negotiationComplete:{on:{receiveInitiateRenegotiationRequest:{actions:[d("xstate").assign(d("ZenonSignalingSharedActions").onReceiveInitiateRenegotiationRequest)]},receiveLocalSdpResponse:{actions:[d("ZenonSignalingSharedActions").onReceiveLocalSdpResponse],cond:d("ZenonSignalingSMGuards").sdpJoinResponseReceiveGuard},receiveMediaUpdateResponse:{actions:[d("xstate").assign(d("ZenonSignalingSharedActions").onNonSDPReceiveMediaUpdateResponse)]},receivePendingApprovalRequest:{actions:[d("ZenonSignalingSharedActions").onReceivePendingApprovalRequest]},receiveRemoteSdpRequest:[{actions:[d("xstate").assign(d("ZenonSignalingSharedActions").onReceiveRemoteSdpRequest)],cond:d("ZenonSignalingSMGuards").sdpOfferReceiveNotRejectedGuard,target:"serverInitiatedRenegotiating"},{actions:[d("xstate").assign(d("ZenonSignalingSharedActions").onReceiveRemoteSdpRequest)],cond:d("ZenonSignalingSMGuards").sdpOfferReceiveRejectedGuard},{actions:[d("xstate").assign(d("ZenonSignalingNegotiationCompleteState").onReceiveAnswer)],cond:d("ZenonSignalingSMGuards").sdpAnswerReceiveGuard}],sendClientRenegotiationRequest:{actions:[d("ZenonSignalingSharedActions").onSendClientRenegotiationRequest],target:"clientInitiatedRenegotiating"},sendLocalSdpRequest:[{actions:[d("xstate").assign(d("ZenonSignalingSharedActions").onSendLocalSdpRequestOffer)],cond:d("ZenonSignalingSMGuards").sdpOfferSendGuardNegotiationComplete,target:"clientInitiatedRenegotiating"},{actions:[d("ZenonSignalingSharedActions").genericEventSender],cond:d("ZenonSignalingSMGuards").sdpAnswerSendGuard}],receiveTerminateRequest:f,sendTerminateRequest:u,receiveOverlayConfigServerUpdateRequest:y,receiveParticipantUpdateRequest:w,receiveMediaUpdateRequest:D,receiveCapabilitiesRequest:m,receiveClientInfoRequest:n,receiveGenericDataMessageRequest:o,receiveIceCandidateRequest:p,receiveRoomContextUpdateRequest:x,receiveStateSyncNotifyRequest:z,sendAddParticipantsRequest:r,sendClientEventRequest:q,sendGenericDataMessageRequest:k,sendIceCandidateRequest:l,sendMediaUpdateRequest:[{actions:[d("xstate").assign(d("ZenonSignalingNegotiationCompleteState").onSendMediaUpdateRequest)]}],sendPingRequest:{actions:[d("ZenonSignalingSharedActions").genericEventSender]},sendRemoveParticipantsRequest:v,sendStateSyncUnsubscribeRequest:B,sendStateSyncUpdateRequest:A,sendSubscriptionRequest:t,sendUsersApprovalRequest:C}},serverInitiatedRenegotiating:{on:{sendLocalSdpRequest:[{actions:["defer"],cond:d("ZenonSignalingSMGuards").sdpOfferSendGuard},{actions:[d("ZenonSignalingSharedActions").genericEventSender,d("ZenonSignalingSharedActions").onServerRenegotiationFinished],cond:d("ZenonSignalingSMGuards").sdpAnswerSendGuard,target:"negotiationComplete"}],messageSent:{actions:[d("ZenonSignalingSharedActions").onServerRenegotiationFinished],cond:d("ZenonSignalingSMGuards").lastRemoteSdpResponseMessageIdSentGuard,target:"negotiationComplete"},receiveTerminateRequest:f,sendTerminateRequest:u,receiveGenericDataMessageRequest:o,receiveIceCandidateRequest:p,receiveParticipantUpdateRequest:w,receiveRoomContextUpdateRequest:x,sendUsersApprovalRequest:C,sendIceCandidateRequest:l,sendSubscriptionRequest:t,sendGenericDataMessageRequest:k,sendClientEventRequest:q,receiveMediaUpdateRequest:d("ZenonStateMachineBase").defer,receiveCapabilitiesRequest:d("ZenonStateMachineBase").defer,receiveClientInfoRequest:d("ZenonStateMachineBase").defer,receiveLocalSdpResponse:d("ZenonStateMachineBase").defer,receiveRemoteSdpRequest:d("ZenonStateMachineBase").defer,sendMediaUpdateRequest:d("ZenonStateMachineBase").defer,sendClientRenegotiationRequest:d("ZenonStateMachineBase").defer,receiveMediaUpdateResponse:d("ZenonStateMachineBase").defer,sendRemoveParticipantsRequest:d("ZenonStateMachineBase").defer,receiveOverlayConfigServerUpdateRequest:d("ZenonStateMachineBase").defer,receiveStateSyncNotifyRequest:d("ZenonStateMachineBase").defer,sendStateSyncUnsubscribeRequest:d("ZenonStateMachineBase").defer,sendStateSyncUpdateRequest:d("ZenonStateMachineBase").defer,sendAddParticipantsRequest:d("ZenonStateMachineBase").defer}},clientInitiatedRenegotiating:{on:{receiveRemoteSdpRequest:[{actions:["defer"],cond:d("ZenonSignalingSMGuards").sdpOfferReceiveGuard},{actions:[d("xstate").assign(d("ZenonSignalingSharedActions").onReceiveRemoteSdpRequest)],cond:d("ZenonSignalingSMGuards").sdpAnswerReceiveGuard,target:"negotiationComplete"}],receiveMediaUpdateResponse:[{actions:[d("xstate").assign(d("ZenonSignalingSharedActions").onReceiveMediaUpdateResponse)],cond:d("ZenonSignalingSMGuards").receiveNonOkMediaUpdateResponseGuard,target:"negotiationComplete"},{actions:["defer"]}],receiveTerminateRequest:f,sendTerminateRequest:u,sendLocalSdpRequest:[{actions:[d("xstate").assign(d("ZenonSignalingSharedActions").onSendLocalSdpRequestOffer)],cond:d("ZenonSignalingSMGuards").sdpOfferSendGuard},{actions:["defer"],cond:d("ZenonSignalingSMGuards").sdpAnswerSendGuard}],receiveCapabilitiesRequest:m,receiveClientInfoRequest:n,receiveGenericDataMessageRequest:o,receiveIceCandidateRequest:p,receiveMediaUpdateRequest:D,receiveParticipantUpdateRequest:w,receiveRoomContextUpdateRequest:x,sendUsersApprovalRequest:C,sendAddParticipantsRequest:r,sendIceCandidateRequest:l,sendRemoveParticipantsRequest:v,receiveOverlayConfigServerUpdateRequest:y,receiveStateSyncNotifyRequest:z,sendStateSyncUnsubscribeRequest:B,sendStateSyncUpdateRequest:A,sendSubscriptionRequest:t,sendGenericDataMessageRequest:k,sendClientEventRequest:q,receiveLocalSdpResponse:d("ZenonStateMachineBase").defer,sendMediaUpdateRequest:d("ZenonStateMachineBase").defer,sendClientRenegotiationRequest:d("ZenonStateMachineBase").defer,receiveInitiateRenegotiationRequest:d("ZenonStateMachineBase").defer}},terminated:{entry:[d("xstate").assign(d("ZenonSignalingTerminatedState").stopPingTimer)],on:{receiveRemoteSdpRequest:[{actions:[d("ZenonSignalingTerminatedState").onReceiveRemoteSdpRequest],cond:d("ZenonSignalingSMGuards").receiveRemoteSdpRequestSmuOrCmuGuard}],receiveInitiateRenegotiationRequest:[{actions:[d("ZenonSignalingTerminatedState").onReceiveInitiateRenegotiationRequest]}],receiveMediaUpdateRequest:[{actions:[d("ZenonSignalingTerminatedState").onReceiveMediaUpdateRequest]}]}}};g["default"]=a}),98);
__d("ZenonSignalingClient",["Promise","ZenonActorHooks","ZenonDismissReason","ZenonInfraActionsLogger","ZenonMWMessageTypes","ZenonMediaActionLogger","ZenonSignalingStateMachine","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b,d,e,f){var g=this;f===void 0&&(f=null);this.$5=null;this.$6=function(){};this.$7=null;this.$1=a;var h=this.$8();this.$2=new(c("ZenonSignalingStateMachine"))(babelHelpers["extends"]({config:f,logEvent:function(a){return g.$6(a)},onInviteReceived:function(a,b){e(a,b,g)},sendSignalingEvent:function(a,b,c){return d.sendEvent(a,b,c)}},h,{signalingModel:a}));b.setReceiver(function(a,b,c){return g.processReceiveEvent(a,b,c)});this.$3=b;this.$4=d}var e=a.prototype;e.getSignalingModel=function(){return this.$1};e.processReceiveEvent=function(a,b,c){this.$2.processReceiveEvent(a,b,c)};e.sendInvite=function(a,b,c,e){e===void 0&&(e=d("ZenonActorHooks").ZenonActor.getID());c={actorID:null,appMessages:b,eventName:"inviteRequest",inviterID:"0",isRemoteOfferer:!1,otherParticipants:a,requestingVideo:!1,roomInfo:{name:"mock"},userID:e};return this.$2.processSendEvent(c)};e.initiateClientRenegotiation=function(a){a={eventName:"clientRenegotiationRequest",negotiationEvent:a};return this.$2.processSendEvent(a)};e.sendSdp=function(a,b){var c=this.$1.getMediaModeManager().getMediaMode();c={eventName:"localSdpRequest",mediaMode:c,mediaStates:b,sdp:a};return this.$2.processSendEvent(c)};e.sendIceCandidate=function(a){a={eventName:"iceCandidateRequest",iceCandidates:[a]};return this.$2.processSendEvent(a)};e.sendClientEvent=function(a){a={clientEventType:a,eventName:"clientEventRequest"};return this.$2.processSendEvent(a)};e.sendDismiss=function(a){this.$6({name:"dismissSent"});a={eventName:"terminateRequest",fromJoinResponse:!1,reason:a,shouldInformPeer:!0};return this.$2.processSendEvent(a)};e.silentlyTerminate=function(){var a={eventName:"terminateRequest",fromJoinResponse:!1,reason:d("ZenonDismissReason").ZenonDismissReason.OtherInstanceHandled,shouldInformPeer:!1};return this.$2.processSendEvent(a)};e.sendGenericDataMessage=function(a,b,c,d){b={data:b,eventName:"genericDataMessageRequest",recipientIDs:c,serviceRecipients:d,topic:a};return this.$2.processSendEvent(b)};e.sendMediaUpdate=function(a){a={eventName:"mediaUpdateRequest",mediaStates:a};return this.$2.processSendEvent(a)};e.sendAddParticipantsMessage=function(a,b){b={eventName:"addParticipantsRequest",groupThreadId:b,participants:a};return this.$2.processSendEvent(b)};e.sendRemoveParticipantsRequest=function(a){a={eventName:"removeParticipantsRequest",participants:a};return this.$2.processSendEvent(a)};e.sendUsersApprovalRequest=function(a,b){a={approvalStatus:a,eventName:"usersApprovalRequest",targetUsers:b};return this.$2.processSendEvent(a)};e.sendClientInfo=function(a,b,c,e,f){var g=this,h;(b||c)&&(h=new Map());b&&b.forEach(function(a,b){var c;(c=h)==null?void 0:c.set(b,g.getSignalingModel().getStateSyncStore().updateInputState(b,a))});c&&c.forEach(function(a,b){var c;(c=h)==null?void 0:c.set(b,a)});b=this.$1.getMediaModeManager().getMediaMode();c={actorRepresentatives:new Map(),eventName:"clientInfoRequest",initialSyncStates:h,isE2eeMandated:f,isSecondaryJoinRole:e,mediaPath:d("ZenonMWMessageTypes").ZenonMWMediaPath[b.toUpperCase()],userCapabilities:a};return this.$2.processSendEvent(c)};e.sendStateSyncUnsubscribe=function(a){var b=this.getSignalingModel(),c=b.getStateSyncStore().unsubscribe(a);a={eventName:"stateSyncUnsubscribeRequest",topic:a,version:c.version};c=this.$2.processSendEvent(a);b.notify();return c};e.sendStateSyncUpdate=function(a,b){var c=this.getSignalingModel();b=c.getStateSyncStore().updateInputState(a,b);a={data:b.data!=null?b.data:void 0,eventName:"stateSyncUpdateRequest",topic:a,version:b.version};b=this.$2.processSendEvent(a);c.notify();return b};e.sendSubscriptionRequest=function(a){a={eventName:"subscriptionRequest",subscriptions:a};return this.$2.processSendEvent(a)};e.receiveMessage=function(a){var b=a.getHeader(),d=b.remoteSignalingID;b=b.roomInfo;d!=null&&this.$1.getRemoteSignalingID()!==d&&(this.$1.updateRemoteSignalingID(d),this.$6({conferenceName:b.name,name:"setRemoteSignalingID",remoteSignalingID:d}),this.$1.notify());b!=null&&this.$1.getRoomInfo().name!==b.name&&(c("ZenonInfraActionsLogger").updateCachedValues({conferenceName:b.name}),c("ZenonMediaActionLogger").updateCachedValues({conferenceName:b.name}),this.$1.updateRoomInfo(b),this.$1.notify());this.$3.receiveMessage(a)};e.isTerminated=function(){return this.$2.getState()==="terminated"};e.sendAnswerIntent=function(){var a={eventName:"answerIntentRequest"};return this.$2.processSendEvent(a)};e.respondToInvite=function(a){a={ackMessageId:"",eventName:"inviteResponse",status:a};return this.$2.processSendEvent(a)};e.setSignalingEventHandlers=function(a){if(this.$5!=null){c("recoverableViolation")("setSignalingEventHandlers should only be called once, to avoid accidentally losing handlers.","rtc_www");return}this.$5=a};e.setLoggingEventHandler=function(a){this.$6=a,this.$3.setLoggingEventHandler(a)};e.setSecureDataMessageManager=function(a){this.$7=a,this.$3.setSecureDataMessageManager(a)};e.$8=function(){return{onCallCollisionMediaMode:this.$9("onCallCollisionMediaMode"),onCapabilitiesReceived:this.$9("onCapabilitiesReceived"),onClientInfoReceived:this.$9("onClientInfoReceived"),onClientRenegotiationReceived:this.$10("onClientRenegotiationReceived"),onDismissReceived:this.$9("onDismissReceived"),onGenericDataMessageReceived:this.$9("onGenericDataMessageReceived"),onIceCandidateReceived:this.$9("onIceCandidateReceived"),onInviteAcknowledgeSent:this.$9("onInviteAcknowledgeSent"),onMediaUpdateReceived:this.$9("onMediaUpdateReceived"),onMediaUpdateResponseReceived:this.$9("onMediaUpdateResponseReceived"),onParticipantUpdateReceived:this.$9("onParticipantUpdateReceived"),onPendingApprovalReceived:this.$9("onPendingApprovalReceived"),onRenegotiationRequested:this.$9("onRenegotiationRequested"),onRoomContextUpdateReceived:this.$9("onRoomContextUpdateReceived"),onSdpReceived:this.$9("onSdpReceived"),onServerRenegotiationFinished:this.$9("onServerRenegotiationFinished")}};e.$10=function(a){var b=this;return function(){if(b.$5&&b.$5[a]){var c;(c=b.$5)[a].apply(c,arguments)}}};e.$9=function(a){var c=this;return function(){if(c.$5&&c.$5[a]){var d;return(d=c.$5)[a].apply(d,arguments)}return b("Promise").resolve()}};return a}();g["default"]=a}),98);
__d("ZenonMWEventAggregator",["ZenonSignalingMessage","ZenonSignalingTypes","promiseDone","randomInt","throttle"],(function(a,b,c,d,e,f,g){"use strict";var h=250,i=100;a=function(){function a(a,b){var d=this;this.$3={};this.$4=new Set();this.$5={};this.$6={};this.$7=0;this.$8=!1;this.$1=a;this.$2=b;this.$9=c("throttle")(function(a,b){d.$10(a,b)},h,this)}var b=a.prototype;b.sendEvent=function(a,b,c){var e=[];switch(a.eventName){case"clientInfoRequest":this.$3.clientInfoRequest=a;e=this.$11();break;case"inviteRequest":this.$3.inviteRequest=a;e=this.$11();break;case"localSdpRequest":a.sdp.type==="offer"?this.$8?e=[a]:(this.$3.localSdpRequest=a,this.$8=!0,e=this.$11()):a.sdp.type==="answer"&&(this.$8?this.$6.initiateRenegotiationResponse!=null?(this.$6.localSdpRequest=a,e=this.$12()):(this.$5.localSdpRequest=a,e=this.$13()):(this.$3.localSdpRequest=a,this.$8=!0,e=this.$11()));break;case"remoteSdpResponse":a.type==="offer"?a.statusCode===d("ZenonSignalingTypes").ZenonSignalingStatusCode.OK?this.$6.initiateRenegotiationResponse!=null?(this.$6.remoteSdpResponse=a,e=this.$12()):(this.$5.remoteSdpResponse=a,e=this.$13()):(this.$5={},this.$6={},e=[a]):e=[a];break;case"iceCandidateRequest":case"pingRequest":this.$1.getMediaModeManager().getMediaMode()==="p2p"&&(e=[a]);break;case"subscriptionRequest":this.$9([a],a);break;case"initiateRenegotiationResponse":a.hasRemoteOffer===!0?(this.$6.initiateRenegotiationResponse=a,e=this.$12()):e=[a];break;case"stateSyncNotifyResponse":if(!this.$4.has(a.ackMessageId)){this.$4.add(a.ackMessageId);if(this.$4.size>i){var f;f=(f=this.$4.values().next().value)!=null?f:"";this.$4["delete"](f)}e=[a]}break;case"wakeupRequest":f={ackMessageId:(f=a.ackMessageId)!=null?f:"",eventName:"wakeupResponse"};return this.$10([f],f,b,c);case"usersApprovalRequest":case"iceCandidateResponse":case"addParticipantsRequest":case"dismissResponse":case"genericDataMessageRequest":case"genericDataMessageResponse":case"inviteResponse":case"mediaUpdateRequest":case"mediaUpdateResponse":case"overlayConfigServerUpdateRequest":case"participantUpdateResponse":case"removeParticipantsRequest":case"stateSyncUnsubscribeRequest":case"stateSyncUpdateRequest":case"terminateRequest":case"clientEventRequest":case"wakeupResponse":e=[a];break}return this.$10(e,a,b,c)};b.$14=function(a,b){return{actorID:this.$1.getActorID(),messageID:(a=a)!=null?a:String(c("randomInt")(0,4294967294)+1),messageTags:(a=b)!=null?a:[],protocol:this.$1.getProtocol(),remoteInfo:this.$1.getRemoteInfo(),remoteSignalingID:this.$1.getRemoteSignalingID(),retryCount:0,roomInfo:this.$1.getRoomInfo(),sequenceNumber:this.$7++,signalingID:this.$1.getSignalingID(),userInfo:this.$1.getUserInfo()}};b.$11=function(){var a=this.$3,b=a.clientInfoRequest,c=a.inviteRequest;a=a.localSdpRequest;if(b!=null&&a!=null){this.$3={};return c!=null?[c,b,a]:[b,a]}return[]};b.$13=function(){var a=this.$5,b=a.localSdpRequest;a=a.remoteSdpResponse;if(a&&b){this.$5={};return[a,b]}return[]};b.$12=function(){var a=this.$6,b=a.initiateRenegotiationResponse,c=a.localSdpRequest;a=a.remoteSdpResponse;if(b&&a&&c){this.$6={};return[b,a,c]}return[]};b.$10=function(a,b,d,e){if(a.length>0){var f;f=(f=b.ackMessageId)!=null?f:(f=a.find(function(a){return a.ackMessageId}))==null?void 0:f.ackMessageId;b=(b=b.messageTags)!=null?b:(b=a.find(function(a){return a.messageTags}))==null?void 0:b.messageTags;f=this.$14(f,b);b=new(c("ZenonSignalingMessage"))(f,a);c("promiseDone")(this.$2.sendMessage(b),d,e);return f.messageID}d==null?void 0:d();return""};return a}();g["default"]=a}),98);
__d("ZenonScreensharingQPLLogger",["$InternalEnum","QPLUserFlow","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h=c("qpl")._(292628906,"1082"),i=b("$InternalEnum").Mirrored(["IDLE","AWAITING_USER_ACTION","ADDING_SCREEN_TRACK","REPLACING_SCREEN_TRACK","SENDING_LOCAL_SDP_REQUEST","SENDING_MEDIA_UPDATE_REQUEST"]);a=function(){function a(){this.$1=i.IDLE,this.$2={}}var b=a.prototype;b.$3=function(){this.$1=i.IDLE,this.$2={}};b.onEntryPointClick=function(){this.$3(),c("QPLUserFlow").start(h),this.$1=i.AWAITING_USER_ACTION};b.onStartFetchingTracks=function(a,b){c("QPLUserFlow").addPoint(h,"fetch_tracks"),c("QPLUserFlow").addAnnotations(h,{bool:{has_dual_stream:b,should_fetch_screen_audio:a}})};b.onAddScreenTrack=function(){this.$1=i.ADDING_SCREEN_TRACK,c("QPLUserFlow").addPoint(h,"add_screen_track")};b.onReplaceScreenTrack=function(){this.$1=i.REPLACING_SCREEN_TRACK,c("QPLUserFlow").addPoint(h,"replace_screen_track")};b.onExtensionUnavailable=function(){c("QPLUserFlow").addPoint(h,"no_extension")};b.onAddAudioTrack=function(){c("QPLUserFlow").addPoint(h,"adding_screen_audio_track"),c("QPLUserFlow").addAnnotations(h,{bool:{audio_track_added:!0}})};b.onCancelScreenShareWithReason=function(a){c("QPLUserFlow").endCancel(h,{annotations:{string:{cancel_reason:a}}}),this.$3()};b.onScreenTrackNotFoundError=function(){c("QPLUserFlow").endCancel(h,{annotations:{string:{cancel_reason:"no_screen_track_found"}}}),this.$3()};b.onStartScreenShareFailure=function(a){c("QPLUserFlow").endFailure(h,"start_screenshare_error",{annotations:{"int":{error_number:a.number},string:{error_message:a.message,error_name:a.name}}}),this.$3()};b.$4=function(a){a=a.find(function(a){return a.eventName==="localSdpRequest"||a.eventName==="mediaUpdateRequest"});return a==null?!1:(a==null?void 0:(a=a.mediaStates)==null?void 0:(a=a.tracks)==null?void 0:a.find(function(a){return a.type==="screen"&&a.enabled}))!=null};b.$5=function(a){return a.find(function(a){return a.eventName==="mediaUpdateResponse"})!=null};b.onMaybeScreenShareUpdateRequest=function(a){if(!this.$4(a.getEvents()))return;if(this.$1!==i.ADDING_SCREEN_TRACK&&this.$1!==i.REPLACING_SCREEN_TRACK)return;var b=a.getEvents();b=b.find(function(a){return a.eventName==="localSdpRequest"||a.eventName==="mediaUpdateRequest"});if(b==null)return;b.eventName==="localSdpRequest"?(this.$1=i.SENDING_LOCAL_SDP_REQUEST,c("QPLUserFlow").addPoint(h,"send_local_sdp_request")):(this.$1=i.SENDING_MEDIA_UPDATE_REQUEST,c("QPLUserFlow").addPoint(h,"send_media_update_request"));this.$2.requestMessageId=a.getHeader().messageID};b.onMaybeMediaUpdateResponse=function(a){if(!this.$5(a.getEvents()))return;(this.$1===i.SENDING_LOCAL_SDP_REQUEST||this.$1===i.SENDING_MEDIA_UPDATE_REQUEST)&&this.$2.requestMessageId===a.getHeader().messageID&&(c("QPLUserFlow").endSuccess(h),this.$3())};return a}();d=new a();e=d;g["default"]=e}),98);
__d("ZenonTransactionConstantTimeRetries",["$InternalEnum","DateConsts","FBLogger","Promise","QuickLogActionType","QuickPerformanceLogger","ZenonScreensharingQPLLogger","asyncToGeneratorRuntime","clearInterval","promiseDone","qpl","recoverableViolation","setInterval"],(function(a,b,c,d,e,f,g){"use strict";var h=b("$InternalEnum").Mirrored(["WaitingSendOrReceiveMessageState","RequestProcessingState","ResponseProcessingState","Terminated"]),i=3*d("DateConsts").MS_PER_SEC,j=60*d("DateConsts").MS_PER_SEC;a=function(){function a(a,d,e,f,g){this.$8=0,this.$2=a,this.$3=d,this.$1=h.WaitingSendOrReceiveMessageState,this.$9=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){try{yield e(a),g(a.getHeader().messageID)}catch(a){c("FBLogger")("rpweb").catching(a).warn("Send message failed")}});return function(b){return a.apply(this,arguments)}}(),this.$10=f}var d=a.prototype;d.$11=function(){var a=this;if(this.$1!==h.RequestProcessingState){c("recoverableViolation")("Should never startRetryTimer in non-REQUEST_PROCESSING state: "+this.$1,"rtc_www");return}this.$12();this.$6=c("setInterval")(function(){a.$13()},i)};d.$14=function(){var a=this;if(this.$1!==h.RequestProcessingState){c("recoverableViolation")("Should never startTerminateTimer in non-REQUEST_PROCESSING state: "+this.$1,"rtc_www");return}this.$15();this.$7=c("setInterval")(function(){a.$16(),c("QuickLogActionType")&&a.$17(3)},j)};d.$13=function(){if(this.$1===h.Terminated){c("recoverableViolation")("Should never call onRetryTimer with transaction terminated.","rtc_www");return}if(this.$1!==h.RequestProcessingState){c("recoverableViolation")("Should never call onRetryTimer in non-REQUEST_PROCESSING state: "+this.$1+" for messageId: "+this.$2,"rtc_www");return}if(this.$4==null){c("recoverableViolation")("Request should not be null or undefined when calling onRetryTimer","rtc_www");return}this.$8++;this.$4.setRetryCount(this.$8);this.$4!=null&&c("promiseDone")(this.$9(this.$4));this.$11()};d.$12=function(){c("clearInterval")(this.$6)};d.$15=function(){c("clearInterval")(this.$7)};d.$16=function(){this.$12(),this.$15(),this.$1=h.Terminated};d.$18=function(a){return isNaN(+a)?0:+a};d.$19=function(){c("QuickPerformanceLogger")&&c("QuickPerformanceLogger").markerStart(c("qpl")._(64246910,"1453"),this.$18(this.$2))};d.$17=function(a){c("QuickPerformanceLogger")&&c("QuickPerformanceLogger").markerEnd(c("qpl")._(64246910,"1453"),a,this.$18(this.$2))};d.$20=function(a,b){if(c("QuickPerformanceLogger")&&a){var d,e=this.$3.getSignalingID();d=(d=this.$3.getRemoteSignalingID())!=null?d:"";var f=this.$3.getUserInfo().userID,g=this.$3.getRoomInfo().name,h=this.$3.getProtocol();c("QuickPerformanceLogger").markerPoint(c("qpl")._(64246910,"1453"),a,{data:{"int":{retryCount:b},string:{protocol:h,remoteSignalingID:d,roomName:g,signalingID:e,userID:f}},instanceKey:this.$18(this.$2)})}};d.sendMessage=function(a){var d,e=a.getHeader(),f=e.messageID;e=e.retryCount;switch(this.$1){case h.WaitingSendOrReceiveMessageState:this.$19();this.$4=a;this.$1=h.RequestProcessingState;this.$11();this.$14();c("ZenonScreensharingQPLLogger").onMaybeScreenShareUpdateRequest(a);return this.$9(a);case h.RequestProcessingState:c("recoverableViolation")("Zenon should not generate an outgoing request more than once. MessageID: "+f,"rtc_www");return b("Promise").resolve();case h.ResponseProcessingState:this.$20((d=a.getEvents()[0])==null?void 0:d.eventName,e);if(this.$5==null){this.$5=a;return this.$9(this.$5)}c("recoverableViolation")("Zenon should not generate a response to an incoming request more than once. MessageID: "+f,"rtc_www");return b("Promise").resolve();case h.Terminated:c("QuickLogActionType")&&this.$17(2);return b("Promise").resolve()}};d.receiveMessage=function(a){var b,d=a.getHeader().retryCount;switch(this.$1){case h.WaitingSendOrReceiveMessageState:this.$19();this.$4=a;this.$1=h.ResponseProcessingState;this.$10(a);break;case h.RequestProcessingState:this.$20((b=a.getEvents()[0])==null?void 0:b.eventName,d);this.$16();this.$10(a);break;case h.ResponseProcessingState:this.$20((b=a.getEvents()[0])==null?void 0:b.eventName,d);this.$5!=null&&(c("promiseDone")(this.$9(this.$5)),this.$20("send_back_same_response",d));break;case h.Terminated:c("ZenonScreensharingQPLLogger").onMaybeMediaUpdateResponse(a);c("QuickLogActionType")&&this.$17(2);break}};return a}();g["default"]=a}),98);
__d("ZenonTransactionManager",["Promise","ZenonTransactionConstantTimeRetries","asyncToGeneratorRuntime","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b){this.$4=function(){},this.$5=function(){},this.$6=null,this.$3=new Map(),this.$1=a,this.$2=b}var d=a.prototype;d.$7=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){if(this.$6==null)return this.$1.sendMessage(a);a=(yield this.$6.processSignalingMessage(a));return this.$1.sendMessage(a)});function c(b){return a.apply(this,arguments)}return c}();d.$8=function(a){var b=this;if(this.$3.has(a))return this.$3.get(a);this.$3.set(a,new(c("ZenonTransactionConstantTimeRetries"))(a,this.$2,function(a){return b.$7(a)},function(a){if(c("gkx")("7243")&&b.$6!=null)b.$6.receive(a);else{var d=a.getHeader(),e=d.messageID,f=d.protocol;d=a.getEvents();d.forEach(function(a){return b.$4(a,e,f)})}},this.$5));return this.$3.get(a)};d.sendMessage=function(a){var c=a.getHeader();c=c.messageID;c=this.$8(c);return c!=null?c.sendMessage(a):b("Promise").resolve()};d.receiveMessage=function(a){var b=a.getHeader();b=b.messageID;b=this.$8(b);b!=null&&b.receiveMessage(a)};d.setReceiver=function(a){this.$4=a};d.setLoggingEventHandler=function(a){this.$1.setLoggingEventHandler(a)};d.setMessageSentHandler=function(a){this.$5=a};d.setSecureDataMessageManager=function(a){this.$6=a};return a}();g["default"]=a}),98);
__d("ZenonProtocolConfiguration",["ZenonMWEventAggregator","ZenonTransactionManager"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var d=new(c("ZenonTransactionManager"))(b,a);a=new(c("ZenonMWEventAggregator"))(a,d);return{eventAggregator:a,messageSender:b,transactionManager:d}}g.getConfiguration=a}),98);
__d("BreakoutStateBreakoutStateTypes",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({Start:1,End:2,Announce:3,Ping:4});c=b("$InternalEnum")({Active:1,Ended:2});e.exports={BreakoutSessionAction:a,BreakoutSessionStatus:c}}),null);
__d("BreakoutStateBreakoutStateSerializers",["BreakoutStateBreakoutStateTypes","ThriftTypes"],(function(a,b,c,d,e,f){"use strict";function a(){return{content:""}}function c(){return{sessionID:""}}function d(){return{action:b("BreakoutStateBreakoutStateTypes").BreakoutSessionAction.cast(0)}}function e(){return{conferenceName:"",name:"",roomHash:"",roomURI:"",participantIDs:[]}}function g(){return{conferenceName:"",roomHash:"",roomURI:"",participantIDs:[]}}function h(){return{status:b("BreakoutStateBreakoutStateTypes").BreakoutSessionStatus.cast(0),childRooms:[],mainRoom:g()}}function i(){return{isBreakoutFeatureEnabled:!1,canViewerStartBreakout:!1,participantsSupportingBreakout:new Set()}}function j(){return{}}function k(){return{isBreakoutFeatureEnabled:!1}}function l(a,c){c.writeStructBegin("BreakoutSessionAnnouncementInput");c.writeFieldBegin({fname:"content",ftype:b("ThriftTypes").STRING,fid:1});if(a.content!=null)c.writeString(a.content);else{a="";c.writeString(a)}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function m(a,c){c.writeStructBegin("BreakoutStartInput");c.writeFieldBegin({fname:"sessionID",ftype:b("ThriftTypes").STRING,fid:1});if(a.sessionID!=null)c.writeString(a.sessionID);else{var d="";c.writeString(d)}c.writeFieldEnd();a.duration!=null&&(c.writeFieldBegin({fname:"duration",ftype:b("ThriftTypes").I32,fid:2}),c.writeI32(a.duration),c.writeFieldEnd());c.writeFieldStop();c.writeStructEnd()}function n(a,c){c.writeStructBegin("BreakoutInputState");c.writeFieldBegin({fname:"action",ftype:b("ThriftTypes").I32,fid:1});if(a.action!=null){var d;c.writeI32((d=a.action)!=null?d:0)}else{d=b("BreakoutStateBreakoutStateTypes").BreakoutSessionAction.cast(0);c.writeI32((d=d)!=null?d:0)}c.writeFieldEnd();a.breakoutStartInput!=null&&(c.writeFieldBegin({fname:"breakoutStartInput",ftype:b("ThriftTypes").STRUCT,fid:2}),m(a.breakoutStartInput,c),c.writeFieldEnd());a.announcementInput!=null&&(c.writeFieldBegin({fname:"announcementInput",ftype:b("ThriftTypes").STRUCT,fid:3}),l(a.announcementInput,c),c.writeFieldEnd());a.actionID!=null&&(c.writeFieldBegin({fname:"actionID",ftype:b("ThriftTypes").I32,fid:4}),c.writeI32(a.actionID),c.writeFieldEnd());c.writeFieldStop();c.writeStructEnd()}function o(a,c){c.writeStructBegin("BreakoutRoom");c.writeFieldBegin({fname:"conferenceName",ftype:b("ThriftTypes").STRING,fid:1});if(a.conferenceName!=null)c.writeString(a.conferenceName);else{var d="";c.writeString(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"name",ftype:b("ThriftTypes").STRING,fid:2});if(a.name!=null)c.writeString(a.name);else{d="";c.writeString(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"roomHash",ftype:b("ThriftTypes").STRING,fid:3});if(a.roomHash!=null)c.writeString(a.roomHash);else{d="";c.writeString(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"roomURI",ftype:b("ThriftTypes").STRING,fid:4});if(a.roomURI!=null)c.writeString(a.roomURI);else{d="";c.writeString(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"participantIDs",ftype:b("ThriftTypes").LIST,fid:5});if(a.participantIDs!=null){c.writeListBegin({etype:b("ThriftTypes").STRING,size:a.participantIDs.length});for(var d=a.participantIDs,a=Array.isArray(d),e=0,d=a?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(a){if(e>=d.length)break;f=d[e++]}else{e=d.next();if(e.done)break;f=e.value}f=f;c.writeString(f)}c.writeListEnd()}else{f=[];c.writeListBegin({etype:b("ThriftTypes").STRING,size:f.length});for(e=0;e<f.length;e++){a=f[e];c.writeString(a)}c.writeListEnd()}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function p(a,c){c.writeStructBegin("MainRoom");c.writeFieldBegin({fname:"conferenceName",ftype:b("ThriftTypes").STRING,fid:1});if(a.conferenceName!=null)c.writeString(a.conferenceName);else{var d="";c.writeString(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"roomHash",ftype:b("ThriftTypes").STRING,fid:2});if(a.roomHash!=null)c.writeString(a.roomHash);else{d="";c.writeString(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"roomURI",ftype:b("ThriftTypes").STRING,fid:3});if(a.roomURI!=null)c.writeString(a.roomURI);else{d="";c.writeString(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"participantIDs",ftype:b("ThriftTypes").LIST,fid:4});if(a.participantIDs!=null){c.writeListBegin({etype:b("ThriftTypes").STRING,size:a.participantIDs.length});for(var d=a.participantIDs,a=Array.isArray(d),e=0,d=a?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(a){if(e>=d.length)break;f=d[e++]}else{e=d.next();if(e.done)break;f=e.value}f=f;c.writeString(f)}c.writeListEnd()}else{f=[];c.writeListBegin({etype:b("ThriftTypes").STRING,size:f.length});for(e=0;e<f.length;e++){a=f[e];c.writeString(a)}c.writeListEnd()}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function q(a,c){c.writeStructBegin("BreakoutSession");c.writeFieldBegin({fname:"status",ftype:b("ThriftTypes").I32,fid:1});if(a.status!=null){var d;c.writeI32((d=a.status)!=null?d:0)}else{d=b("BreakoutStateBreakoutStateTypes").BreakoutSessionStatus.cast(0);c.writeI32((d=d)!=null?d:0)}c.writeFieldEnd();a.startTime!=null&&(c.writeFieldBegin({fname:"startTime",ftype:b("ThriftTypes").I32,fid:2}),c.writeI32(a.startTime),c.writeFieldEnd());a.endTime!=null&&(c.writeFieldBegin({fname:"endTime",ftype:b("ThriftTypes").I32,fid:3}),c.writeI32(a.endTime),c.writeFieldEnd());c.writeFieldBegin({fname:"childRooms",ftype:b("ThriftTypes").LIST,fid:4});if(a.childRooms!=null){c.writeListBegin({etype:b("ThriftTypes").STRUCT,size:a.childRooms.length});for(var d=a.childRooms,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(e){if(f>=d.length)break;h=d[f++]}else{f=d.next();if(f.done)break;h=f.value}h=h;o(h,c)}c.writeListEnd()}else{h=[];c.writeListBegin({etype:b("ThriftTypes").STRUCT,size:h.length});for(f=0;f<h.length;f++){e=h[f];o(e,c)}c.writeListEnd()}c.writeFieldEnd();c.writeFieldBegin({fname:"mainRoom",ftype:b("ThriftTypes").STRUCT,fid:5});if(a.mainRoom!=null)p(a.mainRoom,c);else{d=g();p(d,c)}c.writeFieldEnd();a.id!=null&&(c.writeFieldBegin({fname:"id",ftype:b("ThriftTypes").STRING,fid:6}),c.writeString(a.id),c.writeFieldEnd());a.creatorID!=null&&(c.writeFieldBegin({fname:"creatorID",ftype:b("ThriftTypes").STRING,fid:7}),c.writeString(a.creatorID),c.writeFieldEnd());c.writeFieldStop();c.writeStructEnd()}function r(a,c){c.writeStructBegin("BreakoutOutputState");a.breakoutSession!=null&&(c.writeFieldBegin({fname:"breakoutSession",ftype:b("ThriftTypes").STRUCT,fid:1}),q(a.breakoutSession,c),c.writeFieldEnd());c.writeFieldBegin({fname:"isBreakoutFeatureEnabled",ftype:b("ThriftTypes").BOOL,fid:2});if(a.isBreakoutFeatureEnabled!=null)c.writeBool(a.isBreakoutFeatureEnabled);else{var d=!1;c.writeBool(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"canViewerStartBreakout",ftype:b("ThriftTypes").BOOL,fid:3});if(a.canViewerStartBreakout!=null)c.writeBool(a.canViewerStartBreakout);else{d=!1;c.writeBool(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"participantsSupportingBreakout",ftype:b("ThriftTypes").SET,fid:4});if(a.participantsSupportingBreakout!=null){c.writeSetBegin({etype:b("ThriftTypes").STRING,size:a.participantsSupportingBreakout.size});for(var d=a.participantsSupportingBreakout,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=d.length)break;g=d[f++]}else{f=d.next();if(f.done)break;g=f.value}g=g;c.writeString(g)}c.writeSetEnd()}else{g=new Set();c.writeSetBegin({etype:b("ThriftTypes").STRING,size:g.size});for(f=g,e=Array.isArray(f),d=0,f=e?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(e){if(d>=f.length)break;g=f[d++]}else{d=f.next();if(d.done)break;g=d.value}g=g;c.writeString(g)}c.writeSetEnd()}c.writeFieldEnd();a.lastActionID!=null&&(c.writeFieldBegin({fname:"lastActionID",ftype:b("ThriftTypes").I32,fid:5}),c.writeI32(a.lastActionID),c.writeFieldEnd());c.writeFieldStop();c.writeStructEnd()}function s(a,c){c.writeStructBegin("BreakoutConferenceInputState"),a.breakoutSession!=null&&(c.writeFieldBegin({fname:"breakoutSession",ftype:b("ThriftTypes").STRUCT,fid:1}),q(a.breakoutSession,c),c.writeFieldEnd()),c.writeFieldStop(),c.writeStructEnd()}function t(a,c){c.writeStructBegin("BreakoutConferenceOutputState");a.breakoutSession!=null&&(c.writeFieldBegin({fname:"breakoutSession",ftype:b("ThriftTypes").STRUCT,fid:1}),q(a.breakoutSession,c),c.writeFieldEnd());c.writeFieldBegin({fname:"isBreakoutFeatureEnabled",ftype:b("ThriftTypes").BOOL,fid:2});if(a.isBreakoutFeatureEnabled!=null)c.writeBool(a.isBreakoutFeatureEnabled);else{var d=!1;c.writeBool(d)}c.writeFieldEnd();if(a.participantAllowedToStartBreakout!=null){c.writeFieldBegin({fname:"participantAllowedToStartBreakout",ftype:b("ThriftTypes").SET,fid:3});c.writeSetBegin({etype:b("ThriftTypes").STRING,size:a.participantAllowedToStartBreakout.size});for(var d=a.participantAllowedToStartBreakout,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=d.length)break;g=d[f++]}else{f=d.next();if(f.done)break;g=f.value}g=g;c.writeString(g)}c.writeSetEnd();c.writeFieldEnd()}a.lastActionID!=null&&(c.writeFieldBegin({fname:"lastActionID",ftype:b("ThriftTypes").I32,fid:4}),c.writeI32(a.lastActionID),c.writeFieldEnd());c.writeFieldStop();c.writeStructEnd()}function u(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").STRING?c.content=a.readString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.content===void 0&&(c.content="");return c}function v(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").STRING?c.sessionID=a.readString():a.skip(e);break;case 2:e===b("ThriftTypes").I32?c.duration=a.readI32():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.sessionID===void 0&&(c.sessionID="");return c}function w(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").I32?c.action=b("BreakoutStateBreakoutStateTypes").BreakoutSessionAction.cast(a.readI32()):a.skip(e);break;case 2:e===b("ThriftTypes").STRUCT?c.breakoutStartInput=v(a):a.skip(e);break;case 3:e===b("ThriftTypes").STRUCT?c.announcementInput=u(a):a.skip(e);break;case 4:e===b("ThriftTypes").I32?c.actionID=a.readI32():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.action===void 0&&(c.action=b("BreakoutStateBreakoutStateTypes").BreakoutSessionAction.cast(0));return c}function x(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").STRING?c.conferenceName=a.readString():a.skip(e);break;case 2:e===b("ThriftTypes").STRING?c.name=a.readString():a.skip(e);break;case 3:e===b("ThriftTypes").STRING?c.roomHash=a.readString():a.skip(e);break;case 4:e===b("ThriftTypes").STRING?c.roomURI=a.readString():a.skip(e);break;case 5:if(e===b("ThriftTypes").LIST){c.participantIDs=[];d=a.readListBegin();for(var f=0;f<d.size;f++){var g=a.readString();c.participantIDs.push(g)}}else a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.conferenceName===void 0&&(c.conferenceName="");c.name===void 0&&(c.name="");c.roomHash===void 0&&(c.roomHash="");c.roomURI===void 0&&(c.roomURI="");c.participantIDs===void 0&&(c.participantIDs=[]);return c}function y(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").STRING?c.conferenceName=a.readString():a.skip(e);break;case 2:e===b("ThriftTypes").STRING?c.roomHash=a.readString():a.skip(e);break;case 3:e===b("ThriftTypes").STRING?c.roomURI=a.readString():a.skip(e);break;case 4:if(e===b("ThriftTypes").LIST){c.participantIDs=[];d=a.readListBegin();for(var f=0;f<d.size;f++){var g=a.readString();c.participantIDs.push(g)}}else a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.conferenceName===void 0&&(c.conferenceName="");c.roomHash===void 0&&(c.roomHash="");c.roomURI===void 0&&(c.roomURI="");c.participantIDs===void 0&&(c.participantIDs=[]);return c}function z(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").I32?c.status=b("BreakoutStateBreakoutStateTypes").BreakoutSessionStatus.cast(a.readI32()):a.skip(e);break;case 2:e===b("ThriftTypes").I32?c.startTime=a.readI32():a.skip(e);break;case 3:e===b("ThriftTypes").I32?c.endTime=a.readI32():a.skip(e);break;case 4:if(e===b("ThriftTypes").LIST){c.childRooms=[];d=a.readListBegin();for(var f=0;f<d.size;f++){var h=x(a);c.childRooms.push(h)}}else a.skip(e);break;case 5:e===b("ThriftTypes").STRUCT?c.mainRoom=y(a):a.skip(e);break;case 6:e===b("ThriftTypes").STRING?c.id=a.readString():a.skip(e);break;case 7:e===b("ThriftTypes").STRING?c.creatorID=a.readString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.status===void 0&&(c.status=b("BreakoutStateBreakoutStateTypes").BreakoutSessionStatus.cast(0));c.childRooms===void 0&&(c.childRooms=[]);c.mainRoom===void 0&&(c.mainRoom=g());return c}function A(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").STRUCT?c.breakoutSession=z(a):a.skip(e);break;case 2:e===b("ThriftTypes").BOOL?c.isBreakoutFeatureEnabled=a.readBool():a.skip(e);break;case 3:e===b("ThriftTypes").BOOL?c.canViewerStartBreakout=a.readBool():a.skip(e);break;case 4:if(e===b("ThriftTypes").SET){c.participantsSupportingBreakout=new Set();d=a.readSetBegin();for(var f=0;f<d.size;f++){var g=a.readString();c.participantsSupportingBreakout.add(g)}}else a.skip(e);break;case 5:e===b("ThriftTypes").I32?c.lastActionID=a.readI32():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.isBreakoutFeatureEnabled===void 0&&(c.isBreakoutFeatureEnabled=!1);c.canViewerStartBreakout===void 0&&(c.canViewerStartBreakout=!1);c.participantsSupportingBreakout===void 0&&(c.participantsSupportingBreakout=new Set());return c}function B(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").STRUCT?c.breakoutSession=z(a):a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();return c}function C(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").STRUCT?c.breakoutSession=z(a):a.skip(e);break;case 2:e===b("ThriftTypes").BOOL?c.isBreakoutFeatureEnabled=a.readBool():a.skip(e);break;case 3:if(e===b("ThriftTypes").SET){c.participantAllowedToStartBreakout=new Set();d=a.readSetBegin();for(var f=0;f<d.size;f++){var g=a.readString();c.participantAllowedToStartBreakout.add(g)}}else a.skip(e);break;case 4:e===b("ThriftTypes").I32?c.lastActionID=a.readI32():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.isBreakoutFeatureEnabled===void 0&&(c.isBreakoutFeatureEnabled=!1);return c}f.BreakoutSessionAnnouncementInput$DefaultConstructor=a;f.BreakoutStartInput$DefaultConstructor=c;f.BreakoutInputState$DefaultConstructor=d;f.BreakoutRoom$DefaultConstructor=e;f.MainRoom$DefaultConstructor=g;f.BreakoutSession$DefaultConstructor=h;f.BreakoutOutputState$DefaultConstructor=i;f.BreakoutConferenceInputState$DefaultConstructor=j;f.BreakoutConferenceOutputState$DefaultConstructor=k;f.serializeBreakoutSessionAnnouncementInput=l;f.serializeBreakoutStartInput=m;f.serializeBreakoutInputState=n;f.serializeBreakoutRoom=o;f.serializeMainRoom=p;f.serializeBreakoutSession=q;f.serializeBreakoutOutputState=r;f.serializeBreakoutConferenceInputState=s;f.serializeBreakoutConferenceOutputState=t;f.deserializeBreakoutSessionAnnouncementInput=u;f.deserializeBreakoutStartInput=v;f.deserializeBreakoutInputState=w;f.deserializeBreakoutRoom=x;f.deserializeMainRoom=y;f.deserializeBreakoutSession=z;f.deserializeBreakoutOutputState=A;f.deserializeBreakoutConferenceInputState=B;f.deserializeBreakoutConferenceOutputState=C}),66);
__d("CanYouSeeMyScreenStateCanYouSeeMyScreenStateSerializers",["ThriftTypes"],(function(a,b,c,d,e,f){"use strict";function a(){return{knownParticipantStreams:{}}}function c(){return{latestAckedStreams:{}}}function d(a,c){c.writeStructBegin("CanYouSeeMyScreenParticipantInputState");c.writeFieldBegin({fname:"knownParticipantStreams",ftype:b("ThriftTypes").MAP,fid:1});if(a.knownParticipantStreams!=null){c.writeMapBegin({ktype:b("ThriftTypes").STRING,vtype:b("ThriftTypes").SET,size:Object.keys(a.knownParticipantStreams).length});a=Object.entries(a.knownParticipantStreams);for(var d=0;d<a.length;d++){var e=a[d],f=e[0];e=e[1];c.writeString(f);c.writeSetBegin({etype:b("ThriftTypes").STRING,size:e.size});for(var f=e,e=Array.isArray(f),g=0,f=e?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(e){if(g>=f.length)break;h=f[g++]}else{g=f.next();if(g.done)break;h=g.value}h=h;c.writeString(h)}c.writeSetEnd()}c.writeMapEnd()}else{h={};c.writeMapBegin({ktype:b("ThriftTypes").STRING,vtype:b("ThriftTypes").SET,size:Object.keys(h).length});g=Object.entries(h);for(e=0;e<g.length;e++){f=g[e];a=f[0];d=f[1];c.writeString(a);c.writeSetBegin({etype:b("ThriftTypes").STRING,size:d.size});for(h=d,f=Array.isArray(h),a=0,h=f?h:h[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(f){if(a>=h.length)break;d=h[a++]}else{a=h.next();if(a.done)break;d=a.value}d=d;c.writeString(d)}c.writeSetEnd()}c.writeMapEnd()}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function e(a,c){c.writeStructBegin("CanYouSeeMyScreenParticipantOutputState");c.writeFieldBegin({fname:"latestAckedStreams",ftype:b("ThriftTypes").MAP,fid:1});if(a.latestAckedStreams!=null){c.writeMapBegin({ktype:b("ThriftTypes").STRING,vtype:b("ThriftTypes").SET,size:Object.keys(a.latestAckedStreams).length});a=Object.entries(a.latestAckedStreams);for(var d=0;d<a.length;d++){var e=a[d],f=e[0];e=e[1];c.writeString(f);c.writeSetBegin({etype:b("ThriftTypes").STRING,size:e.size});for(var f=e,e=Array.isArray(f),g=0,f=e?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(e){if(g>=f.length)break;h=f[g++]}else{g=f.next();if(g.done)break;h=g.value}h=h;c.writeString(h)}c.writeSetEnd()}c.writeMapEnd()}else{h={};c.writeMapBegin({ktype:b("ThriftTypes").STRING,vtype:b("ThriftTypes").SET,size:Object.keys(h).length});g=Object.entries(h);for(e=0;e<g.length;e++){f=g[e];a=f[0];d=f[1];c.writeString(a);c.writeSetBegin({etype:b("ThriftTypes").STRING,size:d.size});for(h=d,f=Array.isArray(h),a=0,h=f?h:h[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(f){if(a>=h.length)break;d=h[a++]}else{a=h.next();if(a.done)break;d=a.value}d=d;c.writeString(d)}c.writeSetEnd()}c.writeMapEnd()}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function g(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:if(e===b("ThriftTypes").MAP){c.knownParticipantStreams={};d=a.readMapBegin();for(var f=0;f<d.size;f++){var g=a.readString(),h=new Set(),i=a.readSetBegin();for(var j=0;j<i.size;j++){var k=a.readString();h.add(k)}c.knownParticipantStreams[g]=h}}else a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.knownParticipantStreams===void 0&&(c.knownParticipantStreams={});return c}function h(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:if(e===b("ThriftTypes").MAP){c.latestAckedStreams={};d=a.readMapBegin();for(var f=0;f<d.size;f++){var g=a.readString(),h=new Set(),i=a.readSetBegin();for(var j=0;j<i.size;j++){var k=a.readString();h.add(k)}c.latestAckedStreams[g]=h}}else a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.latestAckedStreams===void 0&&(c.latestAckedStreams={});return c}f.CanYouSeeMyScreenParticipantInputState$DefaultConstructor=a;f.CanYouSeeMyScreenParticipantOutputState$DefaultConstructor=c;f.serializeCanYouSeeMyScreenParticipantInputState=d;f.serializeCanYouSeeMyScreenParticipantOutputState=e;f.deserializeCanYouSeeMyScreenParticipantInputState=g;f.deserializeCanYouSeeMyScreenParticipantOutputState=h}),66);
__d("CompanionStateCompanionStateSerializers",["ThriftTypes"],(function(a,b,c,d,e,f){"use strict";function g(){return{userFBID:"",mediaEndpointId:""}}function a(){return{companionEndpoint:g(),isCompanionJoin:!1}}function c(){return{companionEndpoints:[],primaryParticipantToCompanions:{}}}function d(){return{companionEndpoints:[],primaryParticipantToCompanions:{}}}function h(a,c){c.writeStructBegin("CompanionEndpoint");c.writeFieldBegin({fname:"userFBID",ftype:b("ThriftTypes").STRING,fid:1});if(a.userFBID!=null)c.writeString(a.userFBID);else{var d="";c.writeString(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"mediaEndpointId",ftype:b("ThriftTypes").STRING,fid:2});if(a.mediaEndpointId!=null)c.writeString(a.mediaEndpointId);else{d="";c.writeString(d)}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function e(a,c){c.writeStructBegin("CompanionInputState");c.writeFieldBegin({fname:"companionEndpoint",ftype:b("ThriftTypes").STRUCT,fid:1});if(a.companionEndpoint!=null)h(a.companionEndpoint,c);else{var d=g();h(d,c)}c.writeFieldEnd();c.writeFieldBegin({fname:"isCompanionJoin",ftype:b("ThriftTypes").BOOL,fid:2});if(a.isCompanionJoin!=null)c.writeBool(a.isCompanionJoin);else{d=!1;c.writeBool(d)}c.writeFieldEnd();a.primaryParticipantId!=null&&(c.writeFieldBegin({fname:"primaryParticipantId",ftype:b("ThriftTypes").STRING,fid:3}),c.writeString(a.primaryParticipantId),c.writeFieldEnd());c.writeFieldStop();c.writeStructEnd()}function i(a,c){c.writeStructBegin("CompanionOutputState");c.writeFieldBegin({fname:"companionEndpoints",ftype:b("ThriftTypes").LIST,fid:1});if(a.companionEndpoints!=null){c.writeListBegin({etype:b("ThriftTypes").STRUCT,size:a.companionEndpoints.length});for(var d=a.companionEndpoints,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=d.length)break;g=d[f++]}else{f=d.next();if(f.done)break;g=f.value}g=g;h(g,c)}c.writeListEnd()}else{g=[];c.writeListBegin({etype:b("ThriftTypes").STRUCT,size:g.length});for(f=0;f<g.length;f++){e=g[f];h(e,c)}c.writeListEnd()}c.writeFieldEnd();c.writeFieldBegin({fname:"primaryParticipantToCompanions",ftype:b("ThriftTypes").MAP,fid:2});if(a.primaryParticipantToCompanions!=null){c.writeMapBegin({ktype:b("ThriftTypes").STRING,vtype:b("ThriftTypes").LIST,size:Object.keys(a.primaryParticipantToCompanions).length});d=Object.entries(a.primaryParticipantToCompanions);for(e=0;e<d.length;e++){f=d[e];g=f[0];f=f[1];c.writeString(g);c.writeListBegin({etype:b("ThriftTypes").STRUCT,size:f.length});for(var g=f,f=Array.isArray(g),i=0,g=f?g:g[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var j;if(f){if(i>=g.length)break;j=g[i++]}else{i=g.next();if(i.done)break;j=i.value}j=j;h(j,c)}c.writeListEnd()}c.writeMapEnd()}else{j={};c.writeMapBegin({ktype:b("ThriftTypes").STRING,vtype:b("ThriftTypes").LIST,size:Object.keys(j).length});i=Object.entries(j);for(f=0;f<i.length;f++){g=i[f];d=g[0];e=g[1];c.writeString(d);c.writeListBegin({etype:b("ThriftTypes").STRUCT,size:e.length});for(j=e,g=Array.isArray(j),d=0,j=g?j:j[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(g){if(d>=j.length)break;e=j[d++]}else{d=j.next();if(d.done)break;e=d.value}e=e;h(e,c)}c.writeListEnd()}c.writeMapEnd()}c.writeFieldEnd();a.self!=null&&(c.writeFieldBegin({fname:"self",ftype:b("ThriftTypes").STRUCT,fid:3}),h(a.self,c),c.writeFieldEnd());c.writeFieldStop();c.writeStructEnd()}function j(a,c){c.writeStructBegin("CompanionConferenceOutputState");c.writeFieldBegin({fname:"companionEndpoints",ftype:b("ThriftTypes").LIST,fid:1});if(a.companionEndpoints!=null){c.writeListBegin({etype:b("ThriftTypes").STRUCT,size:a.companionEndpoints.length});for(var d=a.companionEndpoints,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=d.length)break;g=d[f++]}else{f=d.next();if(f.done)break;g=f.value}g=g;h(g,c)}c.writeListEnd()}else{g=[];c.writeListBegin({etype:b("ThriftTypes").STRUCT,size:g.length});for(f=0;f<g.length;f++){e=g[f];h(e,c)}c.writeListEnd()}c.writeFieldEnd();c.writeFieldBegin({fname:"primaryParticipantToCompanions",ftype:b("ThriftTypes").MAP,fid:2});if(a.primaryParticipantToCompanions!=null){c.writeMapBegin({ktype:b("ThriftTypes").STRING,vtype:b("ThriftTypes").LIST,size:Object.keys(a.primaryParticipantToCompanions).length});d=Object.entries(a.primaryParticipantToCompanions);for(e=0;e<d.length;e++){f=d[e];g=f[0];a=f[1];c.writeString(g);c.writeListBegin({etype:b("ThriftTypes").STRUCT,size:a.length});for(f=a,g=Array.isArray(f),a=0,f=g?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var i;if(g){if(a>=f.length)break;i=f[a++]}else{a=f.next();if(a.done)break;i=a.value}i=i;h(i,c)}c.writeListEnd()}c.writeMapEnd()}else{i={};c.writeMapBegin({ktype:b("ThriftTypes").STRING,vtype:b("ThriftTypes").LIST,size:Object.keys(i).length});a=Object.entries(i);for(g=0;g<a.length;g++){f=a[g];d=f[0];e=f[1];c.writeString(d);c.writeListBegin({etype:b("ThriftTypes").STRUCT,size:e.length});for(i=e,f=Array.isArray(i),d=0,i=f?i:i[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(f){if(d>=i.length)break;e=i[d++]}else{d=i.next();if(d.done)break;e=d.value}e=e;h(e,c)}c.writeListEnd()}c.writeMapEnd()}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function k(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").STRING?c.userFBID=a.readString():a.skip(e);break;case 2:e===b("ThriftTypes").STRING?c.mediaEndpointId=a.readString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.userFBID===void 0&&(c.userFBID="");c.mediaEndpointId===void 0&&(c.mediaEndpointId="");return c}function l(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").STRUCT?c.companionEndpoint=k(a):a.skip(e);break;case 2:e===b("ThriftTypes").BOOL?c.isCompanionJoin=a.readBool():a.skip(e);break;case 3:e===b("ThriftTypes").STRING?c.primaryParticipantId=a.readString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.companionEndpoint===void 0&&(c.companionEndpoint=g());c.isCompanionJoin===void 0&&(c.isCompanionJoin=!1);return c}function m(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:if(e===b("ThriftTypes").LIST){c.companionEndpoints=[];d=a.readListBegin();for(var f=0;f<d.size;f++){var g=k(a);c.companionEndpoints.push(g)}}else a.skip(e);break;case 2:if(e===b("ThriftTypes").MAP){c.primaryParticipantToCompanions={};g=a.readMapBegin();for(f=0;f<g.size;f++){d=a.readString();var h=[],i=a.readListBegin();for(var j=0;j<i.size;j++){var l=k(a);h.push(l)}c.primaryParticipantToCompanions[d]=h}}else a.skip(e);break;case 3:e===b("ThriftTypes").STRUCT?c.self=k(a):a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.companionEndpoints===void 0&&(c.companionEndpoints=[]);c.primaryParticipantToCompanions===void 0&&(c.primaryParticipantToCompanions={});return c}function n(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:if(e===b("ThriftTypes").LIST){c.companionEndpoints=[];d=a.readListBegin();for(var f=0;f<d.size;f++){var g=k(a);c.companionEndpoints.push(g)}}else a.skip(e);break;case 2:if(e===b("ThriftTypes").MAP){c.primaryParticipantToCompanions={};g=a.readMapBegin();for(f=0;f<g.size;f++){d=a.readString();var h=[],i=a.readListBegin();for(var j=0;j<i.size;j++){var l=k(a);h.push(l)}c.primaryParticipantToCompanions[d]=h}}else a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.companionEndpoints===void 0&&(c.companionEndpoints=[]);c.primaryParticipantToCompanions===void 0&&(c.primaryParticipantToCompanions={});return c}f.CompanionEndpoint$DefaultConstructor=g;f.CompanionInputState$DefaultConstructor=a;f.CompanionOutputState$DefaultConstructor=c;f.CompanionConferenceOutputState$DefaultConstructor=d;f.serializeCompanionEndpoint=h;f.serializeCompanionInputState=e;f.serializeCompanionOutputState=i;f.serializeCompanionConferenceOutputState=j;f.deserializeCompanionEndpoint=k;f.deserializeCompanionInputState=l;f.deserializeCompanionOutputState=m;f.deserializeCompanionConferenceOutputState=n}),66);
__d("ConfigEngineStateConfigEngineStateTypes",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({ERROR:0,NONE:1,LIGHT:2,MODERATE:3,SEVERE:4,CRITICAL:5,EMERGENCY:6,SHUTDOWN:7});c=b("$InternalEnum")({UNKNOWN:0,DEFAULT:1,SCREEN_SHARE:2});d=b("$InternalEnum")({UNKNOWN:0,CELL:1,WIFI:2});e.exports={DeviceStatsTriggerLevel:a,NetworkConnectionType:d,RenderedStreamType:c}}),null);
__d("RtcClientRuleFromServerToClientSerializers",["ThriftTypes"],(function(a,b,c,d,e,f){"use strict";function a(){return{conditionals:[],effects:[],id:0}}function c(){return{type:0,ruleOperator:0,value:0}}function d(){return{overlayConfigId:0,value:0}}function e(a,c){c.writeStructBegin("ClientRuleFromServerToClient");c.writeFieldBegin({fname:"conditionals",ftype:b("ThriftTypes").LIST,fid:1});if(a.conditionals!=null){c.writeListBegin({etype:b("ThriftTypes").STRUCT,size:a.conditionals.length});for(var d=a.conditionals,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var i;if(e){if(f>=d.length)break;i=d[f++]}else{f=d.next();if(f.done)break;i=f.value}i=i;g(i,c)}c.writeListEnd()}else{i=[];c.writeListBegin({etype:b("ThriftTypes").STRUCT,size:i.length});for(f=0;f<i.length;f++){e=i[f];g(e,c)}c.writeListEnd()}c.writeFieldEnd();c.writeFieldBegin({fname:"effects",ftype:b("ThriftTypes").LIST,fid:2});if(a.effects!=null){c.writeListBegin({etype:b("ThriftTypes").STRUCT,size:a.effects.length});for(d=a.effects,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(e){if(f>=d.length)break;i=d[f++]}else{f=d.next();if(f.done)break;i=f.value}i=i;h(i,c)}c.writeListEnd()}else{i=[];c.writeListBegin({etype:b("ThriftTypes").STRUCT,size:i.length});for(f=0;f<i.length;f++){e=i[f];h(e,c)}c.writeListEnd()}c.writeFieldEnd();c.writeFieldBegin({fname:"id",ftype:b("ThriftTypes").I32,fid:3});if(a.id!=null)c.writeI32(a.id);else{d=0;c.writeI32(d)}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function g(a,c){c.writeStructBegin("ClientConditionalDeserializationSafe");c.writeFieldBegin({fname:"type",ftype:b("ThriftTypes").I32,fid:1});if(a.type!=null)c.writeI32(a.type);else{var d=0;c.writeI32(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"ruleOperator",ftype:b("ThriftTypes").I32,fid:2});if(a.ruleOperator!=null)c.writeI32(a.ruleOperator);else{d=0;c.writeI32(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"value",ftype:b("ThriftTypes").I32,fid:3});if(a.value!=null)c.writeI32(a.value);else{d=0;c.writeI32(d)}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function h(a,c){c.writeStructBegin("ClientEffectDeserializationSafe");c.writeFieldBegin({fname:"overlayConfigId",ftype:b("ThriftTypes").I32,fid:1});if(a.overlayConfigId!=null)c.writeI32(a.overlayConfigId);else{var d=0;c.writeI32(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"value",ftype:b("ThriftTypes").I32,fid:2});if(a.value!=null)c.writeI32(a.value);else{d=0;c.writeI32(d)}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function i(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:if(e===b("ThriftTypes").LIST){c.conditionals=[];d=a.readListBegin();for(var f=0;f<d.size;f++){var g=j(a);c.conditionals.push(g)}}else a.skip(e);break;case 2:if(e===b("ThriftTypes").LIST){c.effects=[];g=a.readListBegin();for(f=0;f<g.size;f++){d=k(a);c.effects.push(d)}}else a.skip(e);break;case 3:e===b("ThriftTypes").I32?c.id=a.readI32():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.conditionals===void 0&&(c.conditionals=[]);c.effects===void 0&&(c.effects=[]);c.id===void 0&&(c.id=0);return c}function j(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").I32?c.type=a.readI32():a.skip(e);break;case 2:e===b("ThriftTypes").I32?c.ruleOperator=a.readI32():a.skip(e);break;case 3:e===b("ThriftTypes").I32?c.value=a.readI32():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.type===void 0&&(c.type=0);c.ruleOperator===void 0&&(c.ruleOperator=0);c.value===void 0&&(c.value=0);return c}function k(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").I32?c.overlayConfigId=a.readI32():a.skip(e);break;case 2:e===b("ThriftTypes").I32?c.value=a.readI32():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.overlayConfigId===void 0&&(c.overlayConfigId=0);c.value===void 0&&(c.value=0);return c}f.ClientRuleFromServerToClient$DefaultConstructor=a;f.ClientConditionalDeserializationSafe$DefaultConstructor=c;f.ClientEffectDeserializationSafe$DefaultConstructor=d;f.serializeClientRuleFromServerToClient=e;f.serializeClientConditionalDeserializationSafe=g;f.serializeClientEffectDeserializationSafe=h;f.deserializeClientRuleFromServerToClient=i;f.deserializeClientConditionalDeserializationSafe=j;f.deserializeClientEffectDeserializationSafe=k}),66);
__d("RtcOverlayConfigServerLayerSerializers",["ThriftTypes"],(function(a,b,c,d,e,f){"use strict";function a(){return{values:{}}}function c(a,c){c.writeStructBegin("OverlayConfigServerLayer");c.writeFieldBegin({fname:"values",ftype:b("ThriftTypes").MAP,fid:1});if(a.values!=null){c.writeMapBegin({ktype:b("ThriftTypes").I32,vtype:b("ThriftTypes").I32,size:Object.keys(a.values).length});a=Object.entries(a.values);for(var d=0;d<a.length;d++){var e=a[d],f=e[0];e=e[1];c.writeI32(Number(f));c.writeI32(e)}c.writeMapEnd()}else{f={};c.writeMapBegin({ktype:b("ThriftTypes").I32,vtype:b("ThriftTypes").I32,size:Object.keys(f).length});e=Object.entries(f);for(a=0;a<e.length;a++){d=e[a];f=d[0];d=d[1];c.writeI32(Number(f));c.writeI32(d)}c.writeMapEnd()}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function d(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:if(e===b("ThriftTypes").MAP){c.values={};d=a.readMapBegin();for(var f=0;f<d.size;f++){var g=a.readI32(),h=a.readI32();c.values[g]=h}}else a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.values===void 0&&(c.values={});return c}f.OverlayConfigServerLayer$DefaultConstructor=a;f.serializeOverlayConfigServerLayer=c;f.deserializeOverlayConfigServerLayer=d}),66);
__d("ConfigEngineStateConfigEngineStateSerializers",["ConfigEngineStateConfigEngineStateTypes","RtcClientRuleFromServerToClientSerializers","RtcOverlayConfigServerLayerSerializers","ThriftTypes"],(function(a,b,c,d,e,f){"use strict";function a(){return{}}function c(){return{overlayConfigServerLayer:b("RtcOverlayConfigServerLayerSerializers").OverlayConfigServerLayer$DefaultConstructor()}}function d(){return{}}function e(){return{}}function g(){return{userId:"",streamId:"",streamType:0,renderWidth:0,renderHeight:0}}function h(){return{}}function i(a,c){c.writeStructBegin("ConfigEngineClientInputState");a.deviceStatsTriggers!=null&&(c.writeFieldBegin({fname:"deviceStatsTriggers",ftype:b("ThriftTypes").STRUCT,fid:1}),l(a.deviceStatsTriggers,c),c.writeFieldEnd());a.deviceStats!=null&&(c.writeFieldBegin({fname:"deviceStats",ftype:b("ThriftTypes").STRUCT,fid:2}),k(a.deviceStats,c),c.writeFieldEnd());if(a.renderResolutionMap!=null){c.writeFieldBegin({fname:"renderResolutionMap",ftype:b("ThriftTypes").MAP,fid:3});c.writeMapBegin({ktype:b("ThriftTypes").STRING,vtype:b("ThriftTypes").MAP,size:Object.keys(a.renderResolutionMap).length});var d=Object.entries(a.renderResolutionMap);for(var e=0;e<d.length;e++){var f=d[e],g=f[0];f=f[1];c.writeString(g);c.writeMapBegin({ktype:b("ThriftTypes").I32,vtype:b("ThriftTypes").STRUCT,size:Object.keys(f).length});g=Object.entries(f);for(f=0;f<g.length;f++){var h=g[f],i=h[0];h=h[1];c.writeI32((i=Number(i))!=null?i:0);m(h,c)}c.writeMapEnd()}c.writeMapEnd();c.writeFieldEnd()}a.deviceHardwareInfo!=null&&(c.writeFieldBegin({fname:"deviceHardwareInfo",ftype:b("ThriftTypes").STRUCT,fid:4}),n(a.deviceHardwareInfo,c),c.writeFieldEnd());c.writeFieldStop();c.writeStructEnd()}function j(a,c){c.writeStructBegin("ConfigEngineClientOutputState");c.writeFieldBegin({fname:"overlayConfigServerLayer",ftype:b("ThriftTypes").STRUCT,fid:2});if(a.overlayConfigServerLayer!=null)b("RtcOverlayConfigServerLayerSerializers").serializeOverlayConfigServerLayer(a.overlayConfigServerLayer,c);else{var d=b("RtcOverlayConfigServerLayerSerializers").OverlayConfigServerLayer$DefaultConstructor();b("RtcOverlayConfigServerLayerSerializers").serializeOverlayConfigServerLayer(d,c)}c.writeFieldEnd();if(a.clientRules!=null){c.writeFieldBegin({fname:"clientRules",ftype:b("ThriftTypes").LIST,fid:3});c.writeListBegin({etype:b("ThriftTypes").STRUCT,size:a.clientRules.length});for(var d=a.clientRules,a=Array.isArray(d),e=0,d=a?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(a){if(e>=d.length)break;f=d[e++]}else{e=d.next();if(e.done)break;f=e.value}f=f;b("RtcClientRuleFromServerToClientSerializers").serializeClientRuleFromServerToClient(f,c)}c.writeListEnd();c.writeFieldEnd()}c.writeFieldStop();c.writeStructEnd()}function k(a,c){c.writeStructBegin("DeviceStats");a.cpuPercentage!=null&&(c.writeFieldBegin({fname:"cpuPercentage",ftype:b("ThriftTypes").I32,fid:1}),c.writeI32(a.cpuPercentage),c.writeFieldEnd());a.batteryLeftPercentage!=null&&(c.writeFieldBegin({fname:"batteryLeftPercentage",ftype:b("ThriftTypes").I32,fid:2}),c.writeI32(a.batteryLeftPercentage),c.writeFieldEnd());a.thermalStatusCode!=null&&(c.writeFieldBegin({fname:"thermalStatusCode",ftype:b("ThriftTypes").I32,fid:3}),c.writeI32(a.thermalStatusCode),c.writeFieldEnd());if(a.connectionType!=null){c.writeFieldBegin({fname:"connectionType",ftype:b("ThriftTypes").I32,fid:4});c.writeI32((a=a.connectionType)!=null?a:0);c.writeFieldEnd()}c.writeFieldStop();c.writeStructEnd()}function l(a,c){c.writeStructBegin("DeviceStatsTriggers");if(a.temperatureStatus!=null){var d;c.writeFieldBegin({fname:"temperatureStatus",ftype:b("ThriftTypes").I32,fid:1});c.writeI32((d=a.temperatureStatus)!=null?d:0);c.writeFieldEnd()}if(a.batteryStatus!=null){c.writeFieldBegin({fname:"batteryStatus",ftype:b("ThriftTypes").I32,fid:2});c.writeI32((d=a.batteryStatus)!=null?d:0);c.writeFieldEnd()}if(a.cpuStatus!=null){c.writeFieldBegin({fname:"cpuStatus",ftype:b("ThriftTypes").I32,fid:3});c.writeI32((d=a.cpuStatus)!=null?d:0);c.writeFieldEnd()}c.writeFieldStop();c.writeStructEnd()}function m(a,c){c.writeStructBegin("ResolutionData");c.writeFieldBegin({fname:"userId",ftype:b("ThriftTypes").STRING,fid:1});if(a.userId!=null)c.writeString(a.userId);else{var d="";c.writeString(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"streamId",ftype:b("ThriftTypes").STRING,fid:2});if(a.streamId!=null)c.writeString(a.streamId);else{d="";c.writeString(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"streamType",ftype:b("ThriftTypes").I32,fid:3});if(a.streamType!=null)c.writeI32(a.streamType);else{d=0;c.writeI32(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"renderWidth",ftype:b("ThriftTypes").I32,fid:4});if(a.renderWidth!=null)c.writeI32(a.renderWidth);else{d=0;c.writeI32(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"renderHeight",ftype:b("ThriftTypes").I32,fid:5});if(a.renderHeight!=null)c.writeI32(a.renderHeight);else{d=0;c.writeI32(d)}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function n(a,c){c.writeStructBegin("DeviceHardwareInfo"),a.numCores!=null&&(c.writeFieldBegin({fname:"numCores",ftype:b("ThriftTypes").I32,fid:1}),c.writeI32(a.numCores),c.writeFieldEnd()),a.RAM!=null&&(c.writeFieldBegin({fname:"RAM",ftype:b("ThriftTypes").I32,fid:2}),c.writeI32(a.RAM),c.writeFieldEnd()),c.writeFieldStop(),c.writeStructEnd()}function o(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").STRUCT?c.deviceStatsTriggers=r(a):a.skip(e);break;case 2:e===b("ThriftTypes").STRUCT?c.deviceStats=q(a):a.skip(e);break;case 3:if(e===b("ThriftTypes").MAP){c.renderResolutionMap={};d=a.readMapBegin();for(var f=0;f<d.size;f++){var g=a.readString(),h={},i=a.readMapBegin();for(var j=0;j<i.size;j++){var k=b("ConfigEngineStateConfigEngineStateTypes").RenderedStreamType.cast(a.readI32()),l=s(a);k!=null&&(h[k]=l)}c.renderResolutionMap[g]=h}}else a.skip(e);break;case 4:e===b("ThriftTypes").STRUCT?c.deviceHardwareInfo=t(a):a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();return c}function p(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 2:e===b("ThriftTypes").STRUCT?c.overlayConfigServerLayer=b("RtcOverlayConfigServerLayerSerializers").deserializeOverlayConfigServerLayer(a):a.skip(e);break;case 3:if(e===b("ThriftTypes").LIST){c.clientRules=[];d=a.readListBegin();for(var f=0;f<d.size;f++){var g=b("RtcClientRuleFromServerToClientSerializers").deserializeClientRuleFromServerToClient(a);c.clientRules.push(g)}}else a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.overlayConfigServerLayer===void 0&&(c.overlayConfigServerLayer=b("RtcOverlayConfigServerLayerSerializers").OverlayConfigServerLayer$DefaultConstructor());return c}function q(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").I32?c.cpuPercentage=a.readI32():a.skip(e);break;case 2:e===b("ThriftTypes").I32?c.batteryLeftPercentage=a.readI32():a.skip(e);break;case 3:e===b("ThriftTypes").I32?c.thermalStatusCode=a.readI32():a.skip(e);break;case 4:e===b("ThriftTypes").I32?c.connectionType=b("ConfigEngineStateConfigEngineStateTypes").NetworkConnectionType.cast(a.readI32()):a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();return c}function r(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").I32?c.temperatureStatus=b("ConfigEngineStateConfigEngineStateTypes").DeviceStatsTriggerLevel.cast(a.readI32()):a.skip(e);break;case 2:e===b("ThriftTypes").I32?c.batteryStatus=b("ConfigEngineStateConfigEngineStateTypes").DeviceStatsTriggerLevel.cast(a.readI32()):a.skip(e);break;case 3:e===b("ThriftTypes").I32?c.cpuStatus=b("ConfigEngineStateConfigEngineStateTypes").DeviceStatsTriggerLevel.cast(a.readI32()):a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();return c}function s(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").STRING?c.userId=a.readString():a.skip(e);break;case 2:e===b("ThriftTypes").STRING?c.streamId=a.readString():a.skip(e);break;case 3:e===b("ThriftTypes").I32?c.streamType=a.readI32():a.skip(e);break;case 4:e===b("ThriftTypes").I32?c.renderWidth=a.readI32():a.skip(e);break;case 5:e===b("ThriftTypes").I32?c.renderHeight=a.readI32():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.userId===void 0&&(c.userId="");c.streamId===void 0&&(c.streamId="");c.streamType===void 0&&(c.streamType=0);c.renderWidth===void 0&&(c.renderWidth=0);c.renderHeight===void 0&&(c.renderHeight=0);return c}function t(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").I32?c.numCores=a.readI32():a.skip(e);break;case 2:e===b("ThriftTypes").I32?c.RAM=a.readI32():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();return c}f.ConfigEngineClientInputState$DefaultConstructor=a;f.ConfigEngineClientOutputState$DefaultConstructor=c;f.DeviceStats$DefaultConstructor=d;f.DeviceStatsTriggers$DefaultConstructor=e;f.ResolutionData$DefaultConstructor=g;f.DeviceHardwareInfo$DefaultConstructor=h;f.serializeConfigEngineClientInputState=i;f.serializeConfigEngineClientOutputState=j;f.serializeDeviceStats=k;f.serializeDeviceStatsTriggers=l;f.serializeResolutionData=m;f.serializeDeviceHardwareInfo=n;f.deserializeConfigEngineClientInputState=o;f.deserializeConfigEngineClientOutputState=p;f.deserializeDeviceStats=q;f.deserializeDeviceStatsTriggers=r;f.deserializeResolutionData=s;f.deserializeDeviceHardwareInfo=t}),66);
__d("CoplayStateCoplayStateTypes",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({STARTED:1,ENDED:2,FORCE_END:3});c=b("$InternalEnum")({PENDING:1,RUNNING:2,CONCLUDED:3,ABANDONED:4});d=b("$InternalEnum")({UNKNOWN:0,STATUS_CHANGE:1});e.exports={CoplayConferenceInputEvent:d,CoplayMatchEvent:a,CoplayMatchStatus:c}}),null);
__d("CoplayStateCoplayStateSerializers",["CoplayStateCoplayStateTypes","ThriftTypes","jsbi"],(function(a,b,c,d,e,f){"use strict";function a(){return{}}function c(){return{matchId:"0",event:b("CoplayStateCoplayStateTypes").CoplayConferenceInputEvent.cast(0)}}function d(){return{userId:"0"}}function e(){return{matchId:"0",appId:"0",matchStatus:b("CoplayStateCoplayStateTypes").CoplayMatchStatus.cast(0),participants:[],creatorId:"0"}}function g(){return{}}function h(){return{previousMatchIds:[]}}function i(a,c){c.writeStructBegin("CoplayMatchInputState");a.matchId!=null&&(c.writeFieldBegin({fname:"matchId",ftype:b("ThriftTypes").I64,fid:1}),c.writeI64(b("jsbi").BigInt(a.matchId)),c.writeFieldEnd());if(a.event!=null){var d;c.writeFieldBegin({fname:"event",ftype:b("ThriftTypes").I32,fid:2});c.writeI32((d=a.event)!=null?d:0);c.writeFieldEnd()}a.isEligible!=null&&(c.writeFieldBegin({fname:"isEligible",ftype:b("ThriftTypes").BOOL,fid:3}),c.writeBool(a.isEligible),c.writeFieldEnd());a.gameId!=null&&(c.writeFieldBegin({fname:"gameId",ftype:b("ThriftTypes").I64,fid:4}),c.writeI64(b("jsbi").BigInt(a.gameId)),c.writeFieldEnd());a.creatorId!=null&&(c.writeFieldBegin({fname:"creatorId",ftype:b("ThriftTypes").I64,fid:5}),c.writeI64(b("jsbi").BigInt(a.creatorId)),c.writeFieldEnd());if(a.matchStatus!=null){c.writeFieldBegin({fname:"matchStatus",ftype:b("ThriftTypes").I32,fid:6});c.writeI32((d=a.matchStatus)!=null?d:0);c.writeFieldEnd()}c.writeFieldStop();c.writeStructEnd()}function j(a,c){c.writeStructBegin("CoplayConferenceInputState");c.writeFieldBegin({fname:"matchId",ftype:b("ThriftTypes").I64,fid:1});if(a.matchId!=null)c.writeI64(b("jsbi").BigInt(a.matchId));else{var d="0";c.writeI64(b("jsbi").BigInt(d))}c.writeFieldEnd();c.writeFieldBegin({fname:"event",ftype:b("ThriftTypes").I32,fid:2});if(a.event!=null){c.writeI32((d=a.event)!=null?d:0)}else{a=b("CoplayStateCoplayStateTypes").CoplayConferenceInputEvent.cast(0);c.writeI32((d=a)!=null?d:0)}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function k(a,c){c.writeStructBegin("CoplayParticipantInfo");c.writeFieldBegin({fname:"userId",ftype:b("ThriftTypes").I64,fid:1});if(a.userId!=null)c.writeI64(b("jsbi").BigInt(a.userId));else{a="0";c.writeI64(b("jsbi").BigInt(a))}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function l(a,c){c.writeStructBegin("CoplayMatchState");c.writeFieldBegin({fname:"matchId",ftype:b("ThriftTypes").I64,fid:1});if(a.matchId!=null)c.writeI64(b("jsbi").BigInt(a.matchId));else{var d="0";c.writeI64(b("jsbi").BigInt(d))}c.writeFieldEnd();c.writeFieldBegin({fname:"appId",ftype:b("ThriftTypes").I64,fid:2});if(a.appId!=null)c.writeI64(b("jsbi").BigInt(a.appId));else{d="0";c.writeI64(b("jsbi").BigInt(d))}c.writeFieldEnd();c.writeFieldBegin({fname:"matchStatus",ftype:b("ThriftTypes").I32,fid:3});if(a.matchStatus!=null){c.writeI32((d=a.matchStatus)!=null?d:0)}else{d=b("CoplayStateCoplayStateTypes").CoplayMatchStatus.cast(0);c.writeI32((d=d)!=null?d:0)}c.writeFieldEnd();c.writeFieldBegin({fname:"participants",ftype:b("ThriftTypes").LIST,fid:4});if(a.participants!=null){c.writeListBegin({etype:b("ThriftTypes").STRUCT,size:a.participants.length});for(var d=a.participants,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=d.length)break;g=d[f++]}else{f=d.next();if(f.done)break;g=f.value}g=g;k(g,c)}c.writeListEnd()}else{g=[];c.writeListBegin({etype:b("ThriftTypes").STRUCT,size:g.length});for(f=0;f<g.length;f++){e=g[f];k(e,c)}c.writeListEnd()}c.writeFieldEnd();c.writeFieldBegin({fname:"creatorId",ftype:b("ThriftTypes").I64,fid:5});if(a.creatorId!=null)c.writeI64(b("jsbi").BigInt(a.creatorId));else{d="0";c.writeI64(b("jsbi").BigInt(d))}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function m(a,c){c.writeStructBegin("CoplayOutputState");a.matchState!=null&&(c.writeFieldBegin({fname:"matchState",ftype:b("ThriftTypes").STRUCT,fid:1}),l(a.matchState,c),c.writeFieldEnd());if(a.eligibleParticipants!=null){c.writeFieldBegin({fname:"eligibleParticipants",ftype:b("ThriftTypes").LIST,fid:2});c.writeListBegin({etype:b("ThriftTypes").STRING,size:a.eligibleParticipants.length});for(var a=a.eligibleParticipants,d=Array.isArray(a),e=0,a=d?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=a.length)break;f=a[e++]}else{e=a.next();if(e.done)break;f=e.value}f=f;c.writeString(f)}c.writeListEnd();c.writeFieldEnd()}c.writeFieldStop();c.writeStructEnd()}function n(a,c){c.writeStructBegin("CoplayConferenceOutputState");a.matchState!=null&&(c.writeFieldBegin({fname:"matchState",ftype:b("ThriftTypes").STRUCT,fid:1}),l(a.matchState,c),c.writeFieldEnd());c.writeFieldBegin({fname:"previousMatchIds",ftype:b("ThriftTypes").LIST,fid:2});if(a.previousMatchIds!=null){c.writeListBegin({etype:b("ThriftTypes").I64,size:a.previousMatchIds.length});for(var a=a.previousMatchIds,d=Array.isArray(a),e=0,a=d?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=a.length)break;f=a[e++]}else{e=a.next();if(e.done)break;f=e.value}f=f;c.writeI64(b("jsbi").BigInt(f))}c.writeListEnd()}else{f=[];c.writeListBegin({etype:b("ThriftTypes").I64,size:f.length});for(e=0;e<f.length;e++){d=f[e];c.writeI64(b("jsbi").BigInt(d))}c.writeListEnd()}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function o(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").I64?c.matchId=a.readI64().toString():a.skip(e);break;case 2:e===b("ThriftTypes").I32?c.event=b("CoplayStateCoplayStateTypes").CoplayMatchEvent.cast(a.readI32()):a.skip(e);break;case 3:e===b("ThriftTypes").BOOL?c.isEligible=a.readBool():a.skip(e);break;case 4:e===b("ThriftTypes").I64?c.gameId=a.readI64().toString():a.skip(e);break;case 5:e===b("ThriftTypes").I64?c.creatorId=a.readI64().toString():a.skip(e);break;case 6:e===b("ThriftTypes").I32?c.matchStatus=b("CoplayStateCoplayStateTypes").CoplayMatchStatus.cast(a.readI32()):a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();return c}function p(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").I64?c.matchId=a.readI64().toString():a.skip(e);break;case 2:e===b("ThriftTypes").I32?c.event=b("CoplayStateCoplayStateTypes").CoplayConferenceInputEvent.cast(a.readI32()):a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.matchId===void 0&&(c.matchId="0");c.event===void 0&&(c.event=b("CoplayStateCoplayStateTypes").CoplayConferenceInputEvent.cast(0));return c}function q(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").I64?c.userId=a.readI64().toString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.userId===void 0&&(c.userId="0");return c}function r(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").I64?c.matchId=a.readI64().toString():a.skip(e);break;case 2:e===b("ThriftTypes").I64?c.appId=a.readI64().toString():a.skip(e);break;case 3:e===b("ThriftTypes").I32?c.matchStatus=b("CoplayStateCoplayStateTypes").CoplayMatchStatus.cast(a.readI32()):a.skip(e);break;case 4:if(e===b("ThriftTypes").LIST){c.participants=[];d=a.readListBegin();for(var f=0;f<d.size;f++){var g=q(a);c.participants.push(g)}}else a.skip(e);break;case 5:e===b("ThriftTypes").I64?c.creatorId=a.readI64().toString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.matchId===void 0&&(c.matchId="0");c.appId===void 0&&(c.appId="0");c.matchStatus===void 0&&(c.matchStatus=b("CoplayStateCoplayStateTypes").CoplayMatchStatus.cast(0));c.participants===void 0&&(c.participants=[]);c.creatorId===void 0&&(c.creatorId="0");return c}function s(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").STRUCT?c.matchState=r(a):a.skip(e);break;case 2:if(e===b("ThriftTypes").LIST){c.eligibleParticipants=[];d=a.readListBegin();for(var f=0;f<d.size;f++){var g=a.readString();c.eligibleParticipants.push(g)}}else a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();return c}function t(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").STRUCT?c.matchState=r(a):a.skip(e);break;case 2:if(e===b("ThriftTypes").LIST){c.previousMatchIds=[];d=a.readListBegin();for(var f=0;f<d.size;f++){var g=a.readI64().toString();c.previousMatchIds.push(g)}}else a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.previousMatchIds===void 0&&(c.previousMatchIds=[]);return c}f.CoplayMatchInputState$DefaultConstructor=a;f.CoplayConferenceInputState$DefaultConstructor=c;f.CoplayParticipantInfo$DefaultConstructor=d;f.CoplayMatchState$DefaultConstructor=e;f.CoplayOutputState$DefaultConstructor=g;f.CoplayConferenceOutputState$DefaultConstructor=h;f.serializeCoplayMatchInputState=i;f.serializeCoplayConferenceInputState=j;f.serializeCoplayParticipantInfo=k;f.serializeCoplayMatchState=l;f.serializeCoplayOutputState=m;f.serializeCoplayConferenceOutputState=n;f.deserializeCoplayMatchInputState=o;f.deserializeCoplayConferenceInputState=p;f.deserializeCoplayParticipantInfo=q;f.deserializeCoplayMatchState=r;f.deserializeCoplayOutputState=s;f.deserializeCoplayConferenceOutputState=t}),66);
__d("CountdownTimerStateCountdownTimerStateTypes",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({START:1,PAUSE:2,END:3,CANCEL:4,PING:5});c=b("$InternalEnum")({UNKNOWN:0,STARTED:1,PAUSED:2,ENDED:3,CANCELLED:4});e.exports={CountdownTimerActionEvent:a,CountdownTimerStatus:c}}),null);
__d("CountdownTimerStateCountdownTimerStateSerializers",["CountdownTimerStateCountdownTimerStateTypes","ThriftTypes","jsbi"],(function(a,b,c,d,e,f){"use strict";function g(){return{uuid:"",last_action_timestamp:"0",total_duration:"0",initiator:h(),status:b("CountdownTimerStateCountdownTimerStateTypes").CountdownTimerStatus.cast(0),remaining_duration:"0"}}function h(){return{uid:""}}function a(){return{uuid:"",total_duration:"0",initiator:h(),action:b("CountdownTimerStateCountdownTimerStateTypes").CountdownTimerActionEvent.cast(0),action_timestamp:"0",remaining_duration:"0"}}function c(){return{timer:g(),is_countdown_timer_feature_enabled:!1,participant_action_capabilities:new Set()}}function d(){return{current_timer:g()}}function e(){return{current_timer:g(),is_countdown_timer_feature_enabled:!1}}function i(a,c){c.writeStructBegin("CountdownTimer");c.writeFieldBegin({fname:"uuid",ftype:b("ThriftTypes").STRING,fid:1});if(a.uuid!=null)c.writeString(a.uuid);else{var d="";c.writeString(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"last_action_timestamp",ftype:b("ThriftTypes").I64,fid:2});if(a.last_action_timestamp!=null)c.writeI64(b("jsbi").BigInt(a.last_action_timestamp));else{d="0";c.writeI64(b("jsbi").BigInt(d))}c.writeFieldEnd();c.writeFieldBegin({fname:"total_duration",ftype:b("ThriftTypes").I64,fid:3});if(a.total_duration!=null)c.writeI64(b("jsbi").BigInt(a.total_duration));else{d="0";c.writeI64(b("jsbi").BigInt(d))}c.writeFieldEnd();c.writeFieldBegin({fname:"initiator",ftype:b("ThriftTypes").STRUCT,fid:4});if(a.initiator!=null)j(a.initiator,c);else{d=h();j(d,c)}c.writeFieldEnd();c.writeFieldBegin({fname:"status",ftype:b("ThriftTypes").I32,fid:5});if(a.status!=null){c.writeI32((d=a.status)!=null?d:0)}else{d=b("CountdownTimerStateCountdownTimerStateTypes").CountdownTimerStatus.cast(0);c.writeI32((d=d)!=null?d:0)}c.writeFieldEnd();c.writeFieldBegin({fname:"remaining_duration",ftype:b("ThriftTypes").I64,fid:6});if(a.remaining_duration!=null)c.writeI64(b("jsbi").BigInt(a.remaining_duration));else{d="0";c.writeI64(b("jsbi").BigInt(d))}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function j(a,c){c.writeStructBegin("InitiatorInfo");c.writeFieldBegin({fname:"uid",ftype:b("ThriftTypes").STRING,fid:1});if(a.uid!=null)c.writeString(a.uid);else{a="";c.writeString(a)}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function k(a,c){c.writeStructBegin("CountdownTimerInputState");c.writeFieldBegin({fname:"uuid",ftype:b("ThriftTypes").STRING,fid:1});if(a.uuid!=null)c.writeString(a.uuid);else{var d="";c.writeString(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"total_duration",ftype:b("ThriftTypes").I64,fid:2});if(a.total_duration!=null)c.writeI64(b("jsbi").BigInt(a.total_duration));else{d="0";c.writeI64(b("jsbi").BigInt(d))}c.writeFieldEnd();c.writeFieldBegin({fname:"initiator",ftype:b("ThriftTypes").STRUCT,fid:3});if(a.initiator!=null)j(a.initiator,c);else{d=h();j(d,c)}c.writeFieldEnd();c.writeFieldBegin({fname:"action",ftype:b("ThriftTypes").I32,fid:4});if(a.action!=null){c.writeI32((d=a.action)!=null?d:0)}else{d=b("CountdownTimerStateCountdownTimerStateTypes").CountdownTimerActionEvent.cast(0);c.writeI32((d=d)!=null?d:0)}c.writeFieldEnd();c.writeFieldBegin({fname:"action_timestamp",ftype:b("ThriftTypes").I64,fid:5});if(a.action_timestamp!=null)c.writeI64(b("jsbi").BigInt(a.action_timestamp));else{d="0";c.writeI64(b("jsbi").BigInt(d))}c.writeFieldEnd();c.writeFieldBegin({fname:"remaining_duration",ftype:b("ThriftTypes").I64,fid:6});if(a.remaining_duration!=null)c.writeI64(b("jsbi").BigInt(a.remaining_duration));else{d="0";c.writeI64(b("jsbi").BigInt(d))}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function l(a,c){c.writeStructBegin("CountdownTimerOutputState");c.writeFieldBegin({fname:"timer",ftype:b("ThriftTypes").STRUCT,fid:1});if(a.timer!=null)i(a.timer,c);else{var d=g();i(d,c)}c.writeFieldEnd();c.writeFieldBegin({fname:"is_countdown_timer_feature_enabled",ftype:b("ThriftTypes").BOOL,fid:2});if(a.is_countdown_timer_feature_enabled!=null)c.writeBool(a.is_countdown_timer_feature_enabled);else{d=!1;c.writeBool(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"participant_action_capabilities",ftype:b("ThriftTypes").SET,fid:3});if(a.participant_action_capabilities!=null){c.writeSetBegin({etype:b("ThriftTypes").I32,size:a.participant_action_capabilities.size});for(var d=a.participant_action_capabilities,a=Array.isArray(d),e=0,d=a?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(a){if(e>=d.length)break;f=d[e++]}else{e=d.next();if(e.done)break;f=e.value}f=f;c.writeI32((f=f)!=null?f:0)}c.writeSetEnd()}else{f=new Set();c.writeSetBegin({etype:b("ThriftTypes").I32,size:f.size});for(e=f,a=Array.isArray(e),d=0,e=a?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(a){if(d>=e.length)break;f=e[d++]}else{d=e.next();if(d.done)break;f=d.value}f=f;c.writeI32((f=f)!=null?f:0)}c.writeSetEnd()}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function m(a,c){c.writeStructBegin("E2EECountdownTimerParticipantPayload");c.writeFieldBegin({fname:"current_timer",ftype:b("ThriftTypes").STRUCT,fid:1});if(a.current_timer!=null)i(a.current_timer,c);else{a=g();i(a,c)}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function n(a,c){c.writeStructBegin("CountdownTimerConferenceOutputState");c.writeFieldBegin({fname:"current_timer",ftype:b("ThriftTypes").STRUCT,fid:1});if(a.current_timer!=null)i(a.current_timer,c);else{var d=g();i(d,c)}c.writeFieldEnd();c.writeFieldBegin({fname:"is_countdown_timer_feature_enabled",ftype:b("ThriftTypes").BOOL,fid:2});if(a.is_countdown_timer_feature_enabled!=null)c.writeBool(a.is_countdown_timer_feature_enabled);else{d=!1;c.writeBool(d)}c.writeFieldEnd();if(a.moderator_uids_if_empty_means_everyone_is_moderator!=null){c.writeFieldBegin({fname:"moderator_uids_if_empty_means_everyone_is_moderator",ftype:b("ThriftTypes").SET,fid:3});c.writeSetBegin({etype:b("ThriftTypes").STRING,size:a.moderator_uids_if_empty_means_everyone_is_moderator.size});for(var d=a.moderator_uids_if_empty_means_everyone_is_moderator,a=Array.isArray(d),e=0,d=a?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(a){if(e>=d.length)break;f=d[e++]}else{e=d.next();if(e.done)break;f=e.value}f=f;c.writeString(f)}c.writeSetEnd();c.writeFieldEnd()}c.writeFieldStop();c.writeStructEnd()}function o(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").STRING?c.uuid=a.readString():a.skip(e);break;case 2:e===b("ThriftTypes").I64?c.last_action_timestamp=a.readI64().toString():a.skip(e);break;case 3:e===b("ThriftTypes").I64?c.total_duration=a.readI64().toString():a.skip(e);break;case 4:e===b("ThriftTypes").STRUCT?c.initiator=p(a):a.skip(e);break;case 5:e===b("ThriftTypes").I32?c.status=b("CountdownTimerStateCountdownTimerStateTypes").CountdownTimerStatus.cast(a.readI32()):a.skip(e);break;case 6:e===b("ThriftTypes").I64?c.remaining_duration=a.readI64().toString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.uuid===void 0&&(c.uuid="");c.last_action_timestamp===void 0&&(c.last_action_timestamp="0");c.total_duration===void 0&&(c.total_duration="0");c.initiator===void 0&&(c.initiator=h());c.status===void 0&&(c.status=b("CountdownTimerStateCountdownTimerStateTypes").CountdownTimerStatus.cast(0));c.remaining_duration===void 0&&(c.remaining_duration="0");return c}function p(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").STRING?c.uid=a.readString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.uid===void 0&&(c.uid="");return c}function q(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").STRING?c.uuid=a.readString():a.skip(e);break;case 2:e===b("ThriftTypes").I64?c.total_duration=a.readI64().toString():a.skip(e);break;case 3:e===b("ThriftTypes").STRUCT?c.initiator=p(a):a.skip(e);break;case 4:e===b("ThriftTypes").I32?c.action=b("CountdownTimerStateCountdownTimerStateTypes").CountdownTimerActionEvent.cast(a.readI32()):a.skip(e);break;case 5:e===b("ThriftTypes").I64?c.action_timestamp=a.readI64().toString():a.skip(e);break;case 6:e===b("ThriftTypes").I64?c.remaining_duration=a.readI64().toString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.uuid===void 0&&(c.uuid="");c.total_duration===void 0&&(c.total_duration="0");c.initiator===void 0&&(c.initiator=h());c.action===void 0&&(c.action=b("CountdownTimerStateCountdownTimerStateTypes").CountdownTimerActionEvent.cast(0));c.action_timestamp===void 0&&(c.action_timestamp="0");c.remaining_duration===void 0&&(c.remaining_duration="0");return c}function r(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").STRUCT?c.timer=o(a):a.skip(e);break;case 2:e===b("ThriftTypes").BOOL?c.is_countdown_timer_feature_enabled=a.readBool():a.skip(e);break;case 3:if(e===b("ThriftTypes").SET){c.participant_action_capabilities=new Set();d=a.readSetBegin();for(var f=0;f<d.size;f++){var h=b("CountdownTimerStateCountdownTimerStateTypes").CountdownTimerActionEvent.cast(a.readI32());c.participant_action_capabilities.add(h)}}else a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.timer===void 0&&(c.timer=g());c.is_countdown_timer_feature_enabled===void 0&&(c.is_countdown_timer_feature_enabled=!1);c.participant_action_capabilities===void 0&&(c.participant_action_capabilities=new Set());return c}function s(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").STRUCT?c.current_timer=o(a):a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.current_timer===void 0&&(c.current_timer=g());return c}function t(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").STRUCT?c.current_timer=o(a):a.skip(e);break;case 2:e===b("ThriftTypes").BOOL?c.is_countdown_timer_feature_enabled=a.readBool():a.skip(e);break;case 3:if(e===b("ThriftTypes").SET){c.moderator_uids_if_empty_means_everyone_is_moderator=new Set();d=a.readSetBegin();for(var f=0;f<d.size;f++){var h=a.readString();c.moderator_uids_if_empty_means_everyone_is_moderator.add(h)}}else a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.current_timer===void 0&&(c.current_timer=g());c.is_countdown_timer_feature_enabled===void 0&&(c.is_countdown_timer_feature_enabled=!1);return c}f.CountdownTimer$DefaultConstructor=g;f.InitiatorInfo$DefaultConstructor=h;f.CountdownTimerInputState$DefaultConstructor=a;f.CountdownTimerOutputState$DefaultConstructor=c;f.E2EECountdownTimerParticipantPayload$DefaultConstructor=d;f.CountdownTimerConferenceOutputState$DefaultConstructor=e;f.serializeCountdownTimer=i;f.serializeInitiatorInfo=j;f.serializeCountdownTimerInputState=k;f.serializeCountdownTimerOutputState=l;f.serializeE2EECountdownTimerParticipantPayload=m;f.serializeCountdownTimerConferenceOutputState=n;f.deserializeCountdownTimer=o;f.deserializeInitiatorInfo=p;f.deserializeCountdownTimerInputState=q;f.deserializeCountdownTimerOutputState=r;f.deserializeE2EECountdownTimerParticipantPayload=s;f.deserializeCountdownTimerConferenceOutputState=t}),66);
__d("CoviewStateCoviewStateTypes",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({PDF:0,IMAGE:1,LINK:2});e.exports={ArtifactType:a}}),null);
__d("CoviewStateCoviewStateSerializers",["CoviewStateCoviewStateTypes","ThriftTypes","jsbi"],(function(a,b,c,d,e,f){"use strict";function a(){return{artifact_id:"",artifact_type:b("CoviewStateCoviewStateTypes").ArtifactType.cast(0),opener_id:""}}function c(){return{open_artifacts:[]}}function d(){return{open_artifacts:[],last_updated_time_ms:"0"}}function e(){return{open_artifacts:[],last_updated_time_ms:"0"}}function g(a,c){c.writeStructBegin("OpenArtifact");c.writeFieldBegin({fname:"artifact_id",ftype:b("ThriftTypes").STRING,fid:1});if(a.artifact_id!=null)c.writeString(a.artifact_id);else{var d="";c.writeString(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"artifact_type",ftype:b("ThriftTypes").I32,fid:2});if(a.artifact_type!=null){c.writeI32((d=a.artifact_type)!=null?d:0)}else{d=b("CoviewStateCoviewStateTypes").ArtifactType.cast(0);c.writeI32((d=d)!=null?d:0)}c.writeFieldEnd();a.page_number!=null&&(c.writeFieldBegin({fname:"page_number",ftype:b("ThriftTypes").I32,fid:3}),c.writeI32(a.page_number),c.writeFieldEnd());c.writeFieldBegin({fname:"opener_id",ftype:b("ThriftTypes").STRING,fid:4});if(a.opener_id!=null)c.writeString(a.opener_id);else{d="";c.writeString(d)}c.writeFieldEnd();a.unlock!=null&&(c.writeFieldBegin({fname:"unlock",ftype:b("ThriftTypes").BOOL,fid:5}),c.writeBool(a.unlock),c.writeFieldEnd());a.last_actor_id!=null&&(c.writeFieldBegin({fname:"last_actor_id",ftype:b("ThriftTypes").STRING,fid:6}),c.writeString(a.last_actor_id),c.writeFieldEnd());a.session_id!=null&&(c.writeFieldBegin({fname:"session_id",ftype:b("ThriftTypes").STRING,fid:7}),c.writeString(a.session_id),c.writeFieldEnd());a.message_id!=null&&(c.writeFieldBegin({fname:"message_id",ftype:b("ThriftTypes").STRING,fid:8}),c.writeString(a.message_id),c.writeFieldEnd());c.writeFieldStop();c.writeStructEnd()}function h(a,c){c.writeStructBegin("CoviewInputState");c.writeFieldBegin({fname:"open_artifacts",ftype:b("ThriftTypes").LIST,fid:1});if(a.open_artifacts!=null){c.writeListBegin({etype:b("ThriftTypes").STRUCT,size:a.open_artifacts.length});for(var a=a.open_artifacts,d=Array.isArray(a),e=0,a=d?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=a.length)break;f=a[e++]}else{e=a.next();if(e.done)break;f=e.value}f=f;g(f,c)}c.writeListEnd()}else{f=[];c.writeListBegin({etype:b("ThriftTypes").STRUCT,size:f.length});for(e=0;e<f.length;e++){d=f[e];g(d,c)}c.writeListEnd()}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function i(a,c){c.writeStructBegin("CoviewOutputState");c.writeFieldBegin({fname:"open_artifacts",ftype:b("ThriftTypes").LIST,fid:1});if(a.open_artifacts!=null){c.writeListBegin({etype:b("ThriftTypes").STRUCT,size:a.open_artifacts.length});for(var d=a.open_artifacts,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(e){if(f>=d.length)break;h=d[f++]}else{f=d.next();if(f.done)break;h=f.value}h=h;g(h,c)}c.writeListEnd()}else{h=[];c.writeListBegin({etype:b("ThriftTypes").STRUCT,size:h.length});for(f=0;f<h.length;f++){e=h[f];g(e,c)}c.writeListEnd()}c.writeFieldEnd();c.writeFieldBegin({fname:"last_updated_time_ms",ftype:b("ThriftTypes").I64,fid:2});if(a.last_updated_time_ms!=null)c.writeI64(b("jsbi").BigInt(a.last_updated_time_ms));else{d="0";c.writeI64(b("jsbi").BigInt(d))}c.writeFieldEnd();a.is_feature_enabled!=null&&(c.writeFieldBegin({fname:"is_feature_enabled",ftype:b("ThriftTypes").BOOL,fid:3}),c.writeBool(a.is_feature_enabled),c.writeFieldEnd());c.writeFieldStop();c.writeStructEnd()}function j(a,c){c.writeStructBegin("CoviewConferenceOutputState");c.writeFieldBegin({fname:"open_artifacts",ftype:b("ThriftTypes").LIST,fid:1});if(a.open_artifacts!=null){c.writeListBegin({etype:b("ThriftTypes").STRUCT,size:a.open_artifacts.length});for(var d=a.open_artifacts,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(e){if(f>=d.length)break;h=d[f++]}else{f=d.next();if(f.done)break;h=f.value}h=h;g(h,c)}c.writeListEnd()}else{h=[];c.writeListBegin({etype:b("ThriftTypes").STRUCT,size:h.length});for(f=0;f<h.length;f++){e=h[f];g(e,c)}c.writeListEnd()}c.writeFieldEnd();c.writeFieldBegin({fname:"last_updated_time_ms",ftype:b("ThriftTypes").I64,fid:2});if(a.last_updated_time_ms!=null)c.writeI64(b("jsbi").BigInt(a.last_updated_time_ms));else{d="0";c.writeI64(b("jsbi").BigInt(d))}c.writeFieldEnd();a.is_feature_enabled!=null&&(c.writeFieldBegin({fname:"is_feature_enabled",ftype:b("ThriftTypes").BOOL,fid:3}),c.writeBool(a.is_feature_enabled),c.writeFieldEnd());c.writeFieldStop();c.writeStructEnd()}function k(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").STRING?c.artifact_id=a.readString():a.skip(e);break;case 2:e===b("ThriftTypes").I32?c.artifact_type=b("CoviewStateCoviewStateTypes").ArtifactType.cast(a.readI32()):a.skip(e);break;case 3:e===b("ThriftTypes").I32?c.page_number=a.readI32():a.skip(e);break;case 4:e===b("ThriftTypes").STRING?c.opener_id=a.readString():a.skip(e);break;case 5:e===b("ThriftTypes").BOOL?c.unlock=a.readBool():a.skip(e);break;case 6:e===b("ThriftTypes").STRING?c.last_actor_id=a.readString():a.skip(e);break;case 7:e===b("ThriftTypes").STRING?c.session_id=a.readString():a.skip(e);break;case 8:e===b("ThriftTypes").STRING?c.message_id=a.readString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.artifact_id===void 0&&(c.artifact_id="");c.artifact_type===void 0&&(c.artifact_type=b("CoviewStateCoviewStateTypes").ArtifactType.cast(0));c.opener_id===void 0&&(c.opener_id="");return c}function l(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:if(e===b("ThriftTypes").LIST){c.open_artifacts=[];d=a.readListBegin();for(var f=0;f<d.size;f++){var g=k(a);c.open_artifacts.push(g)}}else a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.open_artifacts===void 0&&(c.open_artifacts=[]);return c}function m(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:if(e===b("ThriftTypes").LIST){c.open_artifacts=[];d=a.readListBegin();for(var f=0;f<d.size;f++){var g=k(a);c.open_artifacts.push(g)}}else a.skip(e);break;case 2:e===b("ThriftTypes").I64?c.last_updated_time_ms=a.readI64().toString():a.skip(e);break;case 3:e===b("ThriftTypes").BOOL?c.is_feature_enabled=a.readBool():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.open_artifacts===void 0&&(c.open_artifacts=[]);c.last_updated_time_ms===void 0&&(c.last_updated_time_ms="0");return c}function n(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:if(e===b("ThriftTypes").LIST){c.open_artifacts=[];d=a.readListBegin();for(var f=0;f<d.size;f++){var g=k(a);c.open_artifacts.push(g)}}else a.skip(e);break;case 2:e===b("ThriftTypes").I64?c.last_updated_time_ms=a.readI64().toString():a.skip(e);break;case 3:e===b("ThriftTypes").BOOL?c.is_feature_enabled=a.readBool():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.open_artifacts===void 0&&(c.open_artifacts=[]);c.last_updated_time_ms===void 0&&(c.last_updated_time_ms="0");return c}f.OpenArtifact$DefaultConstructor=a;f.CoviewInputState$DefaultConstructor=c;f.CoviewOutputState$DefaultConstructor=d;f.CoviewConferenceOutputState$DefaultConstructor=e;f.serializeOpenArtifact=g;f.serializeCoviewInputState=h;f.serializeCoviewOutputState=i;f.serializeCoviewConferenceOutputState=j;f.deserializeOpenArtifact=k;f.deserializeCoviewInputState=l;f.deserializeCoviewOutputState=m;f.deserializeCoviewConferenceOutputState=n}),66);
__d("DecryptedE2eeDataSerializers",["ThriftTypes"],(function(a,b,c,d,e,f){"use strict";function a(){return{senderId:"",data:Uint8Array.of()}}function c(a,c){c.writeStructBegin("DecryptedE2eeData");c.writeFieldBegin({fname:"senderId",ftype:b("ThriftTypes").STRING,fid:1});if(a.senderId!=null)c.writeString(a.senderId);else{var d="";c.writeString(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"data",ftype:b("ThriftTypes").STRING,fid:2});if(a.data!=null)c.writeBinary(a.data);else{d=Uint8Array.of();c.writeBinary(d)}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function d(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").STRING?c.senderId=a.readString():a.skip(e);break;case 2:e===b("ThriftTypes").STRING?c.data=a.readBinary():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.senderId===void 0&&(c.senderId="");c.data===void 0&&(c.data=Uint8Array.of());return c}f.DecryptedE2eeData$DefaultConstructor=a;f.serializeDecryptedE2eeData=c;f.deserializeDecryptedE2eeData=d}),66);
__d("E2eeStateTypes",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";c=(a=b("$InternalEnum"))({NONE:0,NEGOTIATED:1,STATIC:2});d=a({NONE:0,MEDIA_CHANNEL_KEY_PROTOCOL:1});f=a({SENDER_KEY:0,SESSION_KEY:1});b=a({NOT_SET:0,CONTROL:1,TEST:2});e.exports={E2eeKeyNegotiationProtocolEnum:f,E2eeStateCapabilitiesEnum:d,InfraMandatedExpStatus:b,KeyNegotiationModeEnum:c}}),null);
__d("E2eeStateSerializers",["E2eeStateTypes","ThriftTypes"],(function(a,b,c,d,e,f){"use strict";function a(){return{min:0,max:0}}function c(){return{supportedVersions:[]}}function d(){return{employedVersion:0}}function g(){return{mode:0}}function e(){return{preKeyBundle:Uint8Array.of(),identityKeyInfo:g(),deviceId:0}}function h(){return{epochId:"0",isKeyDistributor:!1,epochInfo:i()}}function i(){return{currentEpochId:"0",lastLeaveEpochId:"0",lastJoinEpochId:"0"}}function j(){return{supportedVersions:[]}}function k(){return{keyNegotiationMode:0,allowOptionalGfd:!1}}function l(){return{keyNegotiationMode:0,removeFrameDecryptorDelayMs:0,keepFrameDecryptors:!1,senderKeyUpdateDelayMs:0,keyTtlMs:0,ratchetSpace:0,keyOverMediaDataChannelNumSends:0,keyOverMediaDataChannelRetryDelayMs:0,enableH264V2:!1,requiredCapabilities:[],disableE2eeAckThroughSignalingChannel:!1}}function m(){return{sessionKeyProtocolInfo:h(),populateParticipantHash:!1,enableParticipantVerification:!1}}function n(){return{preKeyBundle:Uint8Array.of(),cipherSuites:[],protocolVersion:j(),config:k(),identityKeyInfo:g(),deviceId:0,e2eeClientStateCapabilities:{},supportedE2eeKeyNegotiationProtocols:[]}}function o(){return{cipherSuites:[],protocolVersion:j(),config:l(),endpointInfos:{},e2eeServerStateCapabilities:{},negotiatedE2eeKeyNegotiationProtocol:b("E2eeStateTypes").E2eeKeyNegotiationProtocolEnum.cast(0),serverInfraMandatedExpStatus:b("E2eeStateTypes").InfraMandatedExpStatus.cast(0)}}function p(a,c){c.writeStructBegin("VersionRange");c.writeFieldBegin({fname:"min",ftype:b("ThriftTypes").I16,fid:1});if(a.min!=null)c.writeI16(a.min);else{var d=0;c.writeI16(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"max",ftype:b("ThriftTypes").I16,fid:2});if(a.max!=null)c.writeI16(a.max);else{d=0;c.writeI16(d)}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function q(a,c){c.writeStructBegin("E2eeClientStateCapability");c.writeFieldBegin({fname:"supportedVersions",ftype:b("ThriftTypes").LIST,fid:1});if(a.supportedVersions!=null){c.writeListBegin({etype:b("ThriftTypes").STRUCT,size:a.supportedVersions.length});for(var a=a.supportedVersions,d=Array.isArray(a),e=0,a=d?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=a.length)break;f=a[e++]}else{e=a.next();if(e.done)break;f=e.value}f=f;p(f,c)}c.writeListEnd()}else{f=[];c.writeListBegin({etype:b("ThriftTypes").STRUCT,size:f.length});for(e=0;e<f.length;e++){d=f[e];p(d,c)}c.writeListEnd()}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function r(a,c){c.writeStructBegin("E2eeServerStateCapability");c.writeFieldBegin({fname:"employedVersion",ftype:b("ThriftTypes").I16,fid:1});if(a.employedVersion!=null)c.writeI16(a.employedVersion);else{a=0;c.writeI16(a)}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function s(a,c){c.writeStructBegin("IdentityKeyInfo");c.writeFieldBegin({fname:"mode",ftype:b("ThriftTypes").I16,fid:1});if(a.mode!=null)c.writeI16(a.mode);else{a=0;c.writeI16(a)}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function t(a,c){c.writeStructBegin("E2eeEndpointInfo");c.writeFieldBegin({fname:"preKeyBundle",ftype:b("ThriftTypes").STRING,fid:1});if(a.preKeyBundle!=null)c.writeBinary(a.preKeyBundle);else{var d=Uint8Array.of();c.writeBinary(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"identityKeyInfo",ftype:b("ThriftTypes").STRUCT,fid:2});if(a.identityKeyInfo!=null)s(a.identityKeyInfo,c);else{d=g();s(d,c)}c.writeFieldEnd();c.writeFieldBegin({fname:"deviceId",ftype:b("ThriftTypes").I32,fid:3});if(a.deviceId!=null)c.writeI32(a.deviceId);else{d=0;c.writeI32(d)}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function u(a,c){c.writeStructBegin("SessionKeyProtocolInfo");c.writeFieldBegin({fname:"epochId",ftype:b("ThriftTypes").I64,fid:1});if(a.epochId!=null)c.writeI64(BigInt(a.epochId));else{var d="0";c.writeI64(BigInt(d))}c.writeFieldEnd();c.writeFieldBegin({fname:"isKeyDistributor",ftype:b("ThriftTypes").BOOL,fid:2});if(a.isKeyDistributor!=null)c.writeBool(a.isKeyDistributor);else{d=!1;c.writeBool(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"epochInfo",ftype:b("ThriftTypes").STRUCT,fid:3});if(a.epochInfo!=null)v(a.epochInfo,c);else{d=i();v(d,c)}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function v(a,c){c.writeStructBegin("EpochInfo");c.writeFieldBegin({fname:"currentEpochId",ftype:b("ThriftTypes").I64,fid:1});if(a.currentEpochId!=null)c.writeI64(BigInt(a.currentEpochId));else{var d="0";c.writeI64(BigInt(d))}c.writeFieldEnd();c.writeFieldBegin({fname:"lastLeaveEpochId",ftype:b("ThriftTypes").I64,fid:2});if(a.lastLeaveEpochId!=null)c.writeI64(BigInt(a.lastLeaveEpochId));else{d="0";c.writeI64(BigInt(d))}c.writeFieldEnd();c.writeFieldBegin({fname:"lastJoinEpochId",ftype:b("ThriftTypes").I64,fid:3});if(a.lastJoinEpochId!=null)c.writeI64(BigInt(a.lastJoinEpochId));else{d="0";c.writeI64(BigInt(d))}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function w(a,c){c.writeStructBegin("E2eeProtocolVersion");c.writeFieldBegin({fname:"supportedVersions",ftype:b("ThriftTypes").LIST,fid:1});if(a.supportedVersions!=null){c.writeListBegin({etype:b("ThriftTypes").STRUCT,size:a.supportedVersions.length});for(var a=a.supportedVersions,d=Array.isArray(a),e=0,a=d?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=a.length)break;f=a[e++]}else{e=a.next();if(e.done)break;f=e.value}f=f;p(f,c)}c.writeListEnd()}else{f=[];c.writeListBegin({etype:b("ThriftTypes").STRUCT,size:f.length});for(e=0;e<f.length;e++){d=f[e];p(d,c)}c.writeListEnd()}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function x(a,c){c.writeStructBegin("E2eeClientStateConfig");c.writeFieldBegin({fname:"keyNegotiationMode",ftype:b("ThriftTypes").I16,fid:1});if(a.keyNegotiationMode!=null)c.writeI16(a.keyNegotiationMode);else{var d=0;c.writeI16(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"allowOptionalGfd",ftype:b("ThriftTypes").BOOL,fid:3});if(a.allowOptionalGfd!=null)c.writeBool(a.allowOptionalGfd);else{d=!1;c.writeBool(d)}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function y(a,c){c.writeStructBegin("E2eeServerStateConfig");c.writeFieldBegin({fname:"keyNegotiationMode",ftype:b("ThriftTypes").I16,fid:1});if(a.keyNegotiationMode!=null)c.writeI16(a.keyNegotiationMode);else{var d=0;c.writeI16(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"removeFrameDecryptorDelayMs",ftype:b("ThriftTypes").I32,fid:4});if(a.removeFrameDecryptorDelayMs!=null)c.writeI32(a.removeFrameDecryptorDelayMs);else{d=0;c.writeI32(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"keepFrameDecryptors",ftype:b("ThriftTypes").BOOL,fid:5});if(a.keepFrameDecryptors!=null)c.writeBool(a.keepFrameDecryptors);else{d=!1;c.writeBool(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"senderKeyUpdateDelayMs",ftype:b("ThriftTypes").I32,fid:6});if(a.senderKeyUpdateDelayMs!=null)c.writeI32(a.senderKeyUpdateDelayMs);else{d=0;c.writeI32(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"keyTtlMs",ftype:b("ThriftTypes").I32,fid:7});if(a.keyTtlMs!=null)c.writeI32(a.keyTtlMs);else{d=0;c.writeI32(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"ratchetSpace",ftype:b("ThriftTypes").I16,fid:8});if(a.ratchetSpace!=null)c.writeI16(a.ratchetSpace);else{d=0;c.writeI16(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"keyOverMediaDataChannelNumSends",ftype:b("ThriftTypes").I32,fid:9});if(a.keyOverMediaDataChannelNumSends!=null)c.writeI32(a.keyOverMediaDataChannelNumSends);else{d=0;c.writeI32(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"keyOverMediaDataChannelRetryDelayMs",ftype:b("ThriftTypes").I32,fid:10});if(a.keyOverMediaDataChannelRetryDelayMs!=null)c.writeI32(a.keyOverMediaDataChannelRetryDelayMs);else{d=0;c.writeI32(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"enableH264V2",ftype:b("ThriftTypes").BOOL,fid:11});if(a.enableH264V2!=null)c.writeBool(a.enableH264V2);else{d=!1;c.writeBool(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"requiredCapabilities",ftype:b("ThriftTypes").LIST,fid:12});if(a.requiredCapabilities!=null){c.writeListBegin({etype:b("ThriftTypes").I32,size:a.requiredCapabilities.length});for(var d=a.requiredCapabilities,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=d.length)break;g=d[f++]}else{f=d.next();if(f.done)break;g=f.value}g=g;c.writeI32((g=g)!=null?g:0)}c.writeListEnd()}else{g=[];c.writeListBegin({etype:b("ThriftTypes").I32,size:g.length});for(f=0;f<g.length;f++){e=g[f];c.writeI32((d=e)!=null?d:0)}c.writeListEnd()}c.writeFieldEnd();c.writeFieldBegin({fname:"disableE2eeAckThroughSignalingChannel",ftype:b("ThriftTypes").BOOL,fid:13});if(a.disableE2eeAckThroughSignalingChannel!=null)c.writeBool(a.disableE2eeAckThroughSignalingChannel);else{e=!1;c.writeBool(e)}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function z(a,c){c.writeStructBegin("KeyNegotiationProtocolConfig");c.writeFieldBegin({fname:"sessionKeyProtocolInfo",ftype:b("ThriftTypes").STRUCT,fid:1});if(a.sessionKeyProtocolInfo!=null)u(a.sessionKeyProtocolInfo,c);else{var d=h();u(d,c)}c.writeFieldEnd();c.writeFieldBegin({fname:"populateParticipantHash",ftype:b("ThriftTypes").BOOL,fid:2});if(a.populateParticipantHash!=null)c.writeBool(a.populateParticipantHash);else{d=!1;c.writeBool(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"enableParticipantVerification",ftype:b("ThriftTypes").BOOL,fid:3});if(a.enableParticipantVerification!=null)c.writeBool(a.enableParticipantVerification);else{d=!1;c.writeBool(d)}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function A(a,c){c.writeStructBegin("E2eeClientState");c.writeFieldBegin({fname:"preKeyBundle",ftype:b("ThriftTypes").STRING,fid:1});if(a.preKeyBundle!=null)c.writeBinary(a.preKeyBundle);else{var d=Uint8Array.of();c.writeBinary(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"cipherSuites",ftype:b("ThriftTypes").LIST,fid:2});if(a.cipherSuites!=null){c.writeListBegin({etype:b("ThriftTypes").I16,size:a.cipherSuites.length});for(var d=a.cipherSuites,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(e){if(f>=d.length)break;h=d[f++]}else{f=d.next();if(f.done)break;h=f.value}h=h;c.writeI16(h)}c.writeListEnd()}else{h=[];c.writeListBegin({etype:b("ThriftTypes").I16,size:h.length});for(f=0;f<h.length;f++){e=h[f];c.writeI16(e)}c.writeListEnd()}c.writeFieldEnd();c.writeFieldBegin({fname:"protocolVersion",ftype:b("ThriftTypes").STRUCT,fid:3});if(a.protocolVersion!=null)w(a.protocolVersion,c);else{d=j();w(d,c)}c.writeFieldEnd();c.writeFieldBegin({fname:"config",ftype:b("ThriftTypes").STRUCT,fid:4});if(a.config!=null)x(a.config,c);else{e=k();x(e,c)}c.writeFieldEnd();c.writeFieldBegin({fname:"identityKeyInfo",ftype:b("ThriftTypes").STRUCT,fid:5});if(a.identityKeyInfo!=null)s(a.identityKeyInfo,c);else{h=g();s(h,c)}c.writeFieldEnd();c.writeFieldBegin({fname:"deviceId",ftype:b("ThriftTypes").I32,fid:6});if(a.deviceId!=null)c.writeI32(a.deviceId);else{f=0;c.writeI32(f)}c.writeFieldEnd();c.writeFieldBegin({fname:"e2eeClientStateCapabilities",ftype:b("ThriftTypes").MAP,fid:7});if(a.e2eeClientStateCapabilities!=null){c.writeMapBegin({ktype:b("ThriftTypes").I32,vtype:b("ThriftTypes").STRUCT,size:Object.keys(a.e2eeClientStateCapabilities).length});d=Object.entries(a.e2eeClientStateCapabilities);for(e=0;e<d.length;e++){h=d[e];f=h[0];h=h[1];c.writeI32((f=Number(f))!=null?f:0);q(h,c)}c.writeMapEnd()}else{f={};c.writeMapBegin({ktype:b("ThriftTypes").I32,vtype:b("ThriftTypes").STRUCT,size:Object.keys(f).length});h=Object.entries(f);for(d=0;d<h.length;d++){e=h[d];f=e[0];e=e[1];c.writeI32((f=Number(f))!=null?f:0);q(e,c)}c.writeMapEnd()}c.writeFieldEnd();c.writeFieldBegin({fname:"supportedE2eeKeyNegotiationProtocols",ftype:b("ThriftTypes").LIST,fid:8});if(a.supportedE2eeKeyNegotiationProtocols!=null){c.writeListBegin({etype:b("ThriftTypes").I32,size:a.supportedE2eeKeyNegotiationProtocols.length});for(f=a.supportedE2eeKeyNegotiationProtocols,e=Array.isArray(f),h=0,f=e?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(e){if(h>=f.length)break;d=f[h++]}else{h=f.next();if(h.done)break;d=h.value}a=d;c.writeI32((d=a)!=null?d:0)}c.writeListEnd()}else{a=[];c.writeListBegin({etype:b("ThriftTypes").I32,size:a.length});for(d=0;d<a.length;d++){h=a[d];c.writeI32((e=h)!=null?e:0)}c.writeListEnd()}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function B(a,c){c.writeStructBegin("E2eeServerState");c.writeFieldBegin({fname:"cipherSuites",ftype:b("ThriftTypes").LIST,fid:2});if(a.cipherSuites!=null){c.writeListBegin({etype:b("ThriftTypes").I16,size:a.cipherSuites.length});for(var d=a.cipherSuites,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=d.length)break;g=d[f++]}else{f=d.next();if(f.done)break;g=f.value}g=g;c.writeI16(g)}c.writeListEnd()}else{g=[];c.writeListBegin({etype:b("ThriftTypes").I16,size:g.length});for(f=0;f<g.length;f++){e=g[f];c.writeI16(e)}c.writeListEnd()}c.writeFieldEnd();c.writeFieldBegin({fname:"protocolVersion",ftype:b("ThriftTypes").STRUCT,fid:3});if(a.protocolVersion!=null)w(a.protocolVersion,c);else{d=j();w(d,c)}c.writeFieldEnd();c.writeFieldBegin({fname:"config",ftype:b("ThriftTypes").STRUCT,fid:4});if(a.config!=null)y(a.config,c);else{e=l();y(e,c)}c.writeFieldEnd();c.writeFieldBegin({fname:"endpointInfos",ftype:b("ThriftTypes").MAP,fid:5});if(a.endpointInfos!=null){c.writeMapBegin({ktype:b("ThriftTypes").STRING,vtype:b("ThriftTypes").STRUCT,size:Object.keys(a.endpointInfos).length});f=Object.entries(a.endpointInfos);for(g=0;g<f.length;g++){d=f[g];e=d[0];d=d[1];c.writeString(e);t(d,c)}c.writeMapEnd()}else{e={};c.writeMapBegin({ktype:b("ThriftTypes").STRING,vtype:b("ThriftTypes").STRUCT,size:Object.keys(e).length});d=Object.entries(e);for(f=0;f<d.length;f++){g=d[f];e=g[0];g=g[1];c.writeString(e);t(g,c)}c.writeMapEnd()}c.writeFieldEnd();c.writeFieldBegin({fname:"e2eeServerStateCapabilities",ftype:b("ThriftTypes").MAP,fid:6});if(a.e2eeServerStateCapabilities!=null){c.writeMapBegin({ktype:b("ThriftTypes").I32,vtype:b("ThriftTypes").STRUCT,size:Object.keys(a.e2eeServerStateCapabilities).length});e=Object.entries(a.e2eeServerStateCapabilities);for(g=0;g<e.length;g++){d=e[g];f=d[0];d=d[1];c.writeI32((f=Number(f))!=null?f:0);r(d,c)}c.writeMapEnd()}else{f={};c.writeMapBegin({ktype:b("ThriftTypes").I32,vtype:b("ThriftTypes").STRUCT,size:Object.keys(f).length});d=Object.entries(f);for(e=0;e<d.length;e++){g=d[e];f=g[0];g=g[1];c.writeI32((f=Number(f))!=null?f:0);r(g,c)}c.writeMapEnd()}c.writeFieldEnd();c.writeFieldBegin({fname:"negotiatedE2eeKeyNegotiationProtocol",ftype:b("ThriftTypes").I32,fid:7});if(a.negotiatedE2eeKeyNegotiationProtocol!=null){c.writeI32((f=a.negotiatedE2eeKeyNegotiationProtocol)!=null?f:0)}else{g=b("E2eeStateTypes").E2eeKeyNegotiationProtocolEnum.cast(0);c.writeI32((d=g)!=null?d:0)}c.writeFieldEnd();a.keyNegotiationProtocolConfig!=null&&(c.writeFieldBegin({fname:"keyNegotiationProtocolConfig",ftype:b("ThriftTypes").STRUCT,fid:8}),z(a.keyNegotiationProtocolConfig,c),c.writeFieldEnd());c.writeFieldBegin({fname:"serverInfraMandatedExpStatus",ftype:b("ThriftTypes").I32,fid:9});if(a.serverInfraMandatedExpStatus!=null){c.writeI32((e=a.serverInfraMandatedExpStatus)!=null?e:0)}else{f=b("E2eeStateTypes").InfraMandatedExpStatus.cast(0);c.writeI32((g=f)!=null?g:0)}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function C(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").I16?c.min=a.readI16():a.skip(e);break;case 2:e===b("ThriftTypes").I16?c.max=a.readI16():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.min===void 0&&(c.min=0);c.max===void 0&&(c.max=0);return c}function D(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:if(e===b("ThriftTypes").LIST){c.supportedVersions=[];d=a.readListBegin();for(var f=0;f<d.size;f++){var g=C(a);c.supportedVersions.push(g)}}else a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.supportedVersions===void 0&&(c.supportedVersions=[]);return c}function E(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").I16?c.employedVersion=a.readI16():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.employedVersion===void 0&&(c.employedVersion=0);return c}function F(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").I16?c.mode=a.readI16():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.mode===void 0&&(c.mode=0);return c}function G(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").STRING?c.preKeyBundle=a.readBinary():a.skip(e);break;case 2:e===b("ThriftTypes").STRUCT?c.identityKeyInfo=F(a):a.skip(e);break;case 3:e===b("ThriftTypes").I32?c.deviceId=a.readI32():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.preKeyBundle===void 0&&(c.preKeyBundle=Uint8Array.of());c.identityKeyInfo===void 0&&(c.identityKeyInfo=g());c.deviceId===void 0&&(c.deviceId=0);return c}function H(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").I64?c.epochId=a.readI64().toString():a.skip(e);break;case 2:e===b("ThriftTypes").BOOL?c.isKeyDistributor=a.readBool():a.skip(e);break;case 3:e===b("ThriftTypes").STRUCT?c.epochInfo=I(a):a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.epochId===void 0&&(c.epochId="0");c.isKeyDistributor===void 0&&(c.isKeyDistributor=!1);c.epochInfo===void 0&&(c.epochInfo=i());return c}function I(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").I64?c.currentEpochId=a.readI64().toString():a.skip(e);break;case 2:e===b("ThriftTypes").I64?c.lastLeaveEpochId=a.readI64().toString():a.skip(e);break;case 3:e===b("ThriftTypes").I64?c.lastJoinEpochId=a.readI64().toString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.currentEpochId===void 0&&(c.currentEpochId="0");c.lastLeaveEpochId===void 0&&(c.lastLeaveEpochId="0");c.lastJoinEpochId===void 0&&(c.lastJoinEpochId="0");return c}function J(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:if(e===b("ThriftTypes").LIST){c.supportedVersions=[];d=a.readListBegin();for(var f=0;f<d.size;f++){var g=C(a);c.supportedVersions.push(g)}}else a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.supportedVersions===void 0&&(c.supportedVersions=[]);return c}function K(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").I16?c.keyNegotiationMode=a.readI16():a.skip(e);break;case 3:e===b("ThriftTypes").BOOL?c.allowOptionalGfd=a.readBool():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.keyNegotiationMode===void 0&&(c.keyNegotiationMode=0);c.allowOptionalGfd===void 0&&(c.allowOptionalGfd=!1);return c}function L(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").I16?c.keyNegotiationMode=a.readI16():a.skip(e);break;case 4:e===b("ThriftTypes").I32?c.removeFrameDecryptorDelayMs=a.readI32():a.skip(e);break;case 5:e===b("ThriftTypes").BOOL?c.keepFrameDecryptors=a.readBool():a.skip(e);break;case 6:e===b("ThriftTypes").I32?c.senderKeyUpdateDelayMs=a.readI32():a.skip(e);break;case 7:e===b("ThriftTypes").I32?c.keyTtlMs=a.readI32():a.skip(e);break;case 8:e===b("ThriftTypes").I16?c.ratchetSpace=a.readI16():a.skip(e);break;case 9:e===b("ThriftTypes").I32?c.keyOverMediaDataChannelNumSends=a.readI32():a.skip(e);break;case 10:e===b("ThriftTypes").I32?c.keyOverMediaDataChannelRetryDelayMs=a.readI32():a.skip(e);break;case 11:e===b("ThriftTypes").BOOL?c.enableH264V2=a.readBool():a.skip(e);break;case 12:if(e===b("ThriftTypes").LIST){c.requiredCapabilities=[];d=a.readListBegin();for(var f=0;f<d.size;f++){var g=b("E2eeStateTypes").E2eeStateCapabilitiesEnum.cast(a.readI32());c.requiredCapabilities.push(g)}}else a.skip(e);break;case 13:e===b("ThriftTypes").BOOL?c.disableE2eeAckThroughSignalingChannel=a.readBool():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.keyNegotiationMode===void 0&&(c.keyNegotiationMode=0);c.removeFrameDecryptorDelayMs===void 0&&(c.removeFrameDecryptorDelayMs=0);c.keepFrameDecryptors===void 0&&(c.keepFrameDecryptors=!1);c.senderKeyUpdateDelayMs===void 0&&(c.senderKeyUpdateDelayMs=0);c.keyTtlMs===void 0&&(c.keyTtlMs=0);c.ratchetSpace===void 0&&(c.ratchetSpace=0);c.keyOverMediaDataChannelNumSends===void 0&&(c.keyOverMediaDataChannelNumSends=0);c.keyOverMediaDataChannelRetryDelayMs===void 0&&(c.keyOverMediaDataChannelRetryDelayMs=0);c.enableH264V2===void 0&&(c.enableH264V2=!1);c.requiredCapabilities===void 0&&(c.requiredCapabilities=[]);c.disableE2eeAckThroughSignalingChannel===void 0&&(c.disableE2eeAckThroughSignalingChannel=!1);return c}function M(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").STRUCT?c.sessionKeyProtocolInfo=H(a):a.skip(e);break;case 2:e===b("ThriftTypes").BOOL?c.populateParticipantHash=a.readBool():a.skip(e);break;case 3:e===b("ThriftTypes").BOOL?c.enableParticipantVerification=a.readBool():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.sessionKeyProtocolInfo===void 0&&(c.sessionKeyProtocolInfo=h());c.populateParticipantHash===void 0&&(c.populateParticipantHash=!1);c.enableParticipantVerification===void 0&&(c.enableParticipantVerification=!1);return c}function N(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").STRING?c.preKeyBundle=a.readBinary():a.skip(e);break;case 2:if(e===b("ThriftTypes").LIST){c.cipherSuites=[];d=a.readListBegin();for(var f=0;f<d.size;f++){var h=a.readI16();c.cipherSuites.push(h)}}else a.skip(e);break;case 3:e===b("ThriftTypes").STRUCT?c.protocolVersion=J(a):a.skip(e);break;case 4:e===b("ThriftTypes").STRUCT?c.config=K(a):a.skip(e);break;case 5:e===b("ThriftTypes").STRUCT?c.identityKeyInfo=F(a):a.skip(e);break;case 6:e===b("ThriftTypes").I32?c.deviceId=a.readI32():a.skip(e);break;case 7:if(e===b("ThriftTypes").MAP){c.e2eeClientStateCapabilities={};h=a.readMapBegin();for(f=0;f<h.size;f++){d=b("E2eeStateTypes").E2eeStateCapabilitiesEnum.cast(a.readI32());var i=D(a);d!=null&&(c.e2eeClientStateCapabilities[d]=i)}}else a.skip(e);break;case 8:if(e===b("ThriftTypes").LIST){c.supportedE2eeKeyNegotiationProtocols=[];d=a.readListBegin();for(i=0;i<d.size;i++){f=b("E2eeStateTypes").E2eeKeyNegotiationProtocolEnum.cast(a.readI32());c.supportedE2eeKeyNegotiationProtocols.push(f)}}else a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.preKeyBundle===void 0&&(c.preKeyBundle=Uint8Array.of());c.cipherSuites===void 0&&(c.cipherSuites=[]);c.protocolVersion===void 0&&(c.protocolVersion=j());c.config===void 0&&(c.config=k());c.identityKeyInfo===void 0&&(c.identityKeyInfo=g());c.deviceId===void 0&&(c.deviceId=0);c.e2eeClientStateCapabilities===void 0&&(c.e2eeClientStateCapabilities={});c.supportedE2eeKeyNegotiationProtocols===void 0&&(c.supportedE2eeKeyNegotiationProtocols=[]);return c}function O(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 2:if(e===b("ThriftTypes").LIST){c.cipherSuites=[];d=a.readListBegin();for(var f=0;f<d.size;f++){var g=a.readI16();c.cipherSuites.push(g)}}else a.skip(e);break;case 3:e===b("ThriftTypes").STRUCT?c.protocolVersion=J(a):a.skip(e);break;case 4:e===b("ThriftTypes").STRUCT?c.config=L(a):a.skip(e);break;case 5:if(e===b("ThriftTypes").MAP){c.endpointInfos={};g=a.readMapBegin();for(f=0;f<g.size;f++){d=a.readString();var h=G(a);c.endpointInfos[d]=h}}else a.skip(e);break;case 6:if(e===b("ThriftTypes").MAP){c.e2eeServerStateCapabilities={};d=a.readMapBegin();for(h=0;h<d.size;h++){f=b("E2eeStateTypes").E2eeStateCapabilitiesEnum.cast(a.readI32());g=E(a);f!=null&&(c.e2eeServerStateCapabilities[f]=g)}}else a.skip(e);break;case 7:e===b("ThriftTypes").I32?c.negotiatedE2eeKeyNegotiationProtocol=b("E2eeStateTypes").E2eeKeyNegotiationProtocolEnum.cast(a.readI32()):a.skip(e);break;case 8:e===b("ThriftTypes").STRUCT?c.keyNegotiationProtocolConfig=M(a):a.skip(e);break;case 9:e===b("ThriftTypes").I32?c.serverInfraMandatedExpStatus=b("E2eeStateTypes").InfraMandatedExpStatus.cast(a.readI32()):a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.cipherSuites===void 0&&(c.cipherSuites=[]);c.protocolVersion===void 0&&(c.protocolVersion=j());c.config===void 0&&(c.config=l());c.endpointInfos===void 0&&(c.endpointInfos={});c.e2eeServerStateCapabilities===void 0&&(c.e2eeServerStateCapabilities={});c.negotiatedE2eeKeyNegotiationProtocol===void 0&&(c.negotiatedE2eeKeyNegotiationProtocol=b("E2eeStateTypes").E2eeKeyNegotiationProtocolEnum.cast(0));c.serverInfraMandatedExpStatus===void 0&&(c.serverInfraMandatedExpStatus=b("E2eeStateTypes").InfraMandatedExpStatus.cast(0));return c}f.VersionRange$DefaultConstructor=a;f.E2eeClientStateCapability$DefaultConstructor=c;f.E2eeServerStateCapability$DefaultConstructor=d;f.IdentityKeyInfo$DefaultConstructor=g;f.E2eeEndpointInfo$DefaultConstructor=e;f.SessionKeyProtocolInfo$DefaultConstructor=h;f.EpochInfo$DefaultConstructor=i;f.E2eeProtocolVersion$DefaultConstructor=j;f.E2eeClientStateConfig$DefaultConstructor=k;f.E2eeServerStateConfig$DefaultConstructor=l;f.KeyNegotiationProtocolConfig$DefaultConstructor=m;f.E2eeClientState$DefaultConstructor=n;f.E2eeServerState$DefaultConstructor=o;f.serializeVersionRange=p;f.serializeE2eeClientStateCapability=q;f.serializeE2eeServerStateCapability=r;f.serializeIdentityKeyInfo=s;f.serializeE2eeEndpointInfo=t;f.serializeSessionKeyProtocolInfo=u;f.serializeEpochInfo=v;f.serializeE2eeProtocolVersion=w;f.serializeE2eeClientStateConfig=x;f.serializeE2eeServerStateConfig=y;f.serializeKeyNegotiationProtocolConfig=z;f.serializeE2eeClientState=A;f.serializeE2eeServerState=B;f.deserializeVersionRange=C;f.deserializeE2eeClientStateCapability=D;f.deserializeE2eeServerStateCapability=E;f.deserializeIdentityKeyInfo=F;f.deserializeE2eeEndpointInfo=G;f.deserializeSessionKeyProtocolInfo=H;f.deserializeEpochInfo=I;f.deserializeE2eeProtocolVersion=J;f.deserializeE2eeClientStateConfig=K;f.deserializeE2eeServerStateConfig=L;f.deserializeKeyNegotiationProtocolConfig=M;f.deserializeE2eeClientState=N;f.deserializeE2eeServerState=O}),66);
__d("EmojiReactionsStateEmojiReactionsStateTypes",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({UNKNOWN:0,EMOJI:1,GIF:3});c=b("$InternalEnum")({UNKNOWN:0,DEFAULT_TRAY:1,OVERREACT_EMOJI_PICKER:2,GIF_PICKER:3});d=b("$InternalEnum")({UNKNOWN:0,P2P_GVC:1,MESSENGER_ROOM:2,ONLINE_LEARNING_ROOM:3,WORKPLACE_ROOM:4,REELS_TOGETHER:5,IG_P2P_GVC:6,IG_ROOM:7});e.exports={CallType:d,ReactionSource:c,ReactionType:a}}),null);
__d("EmojiReactionsStateEmojiReactionsStateSerializers",["EmojiReactionsStateEmojiReactionsStateTypes","ThriftTypes","jsbi"],(function(a,b,c,d,e,f){"use strict";function g(){return{emoji_id:"",emoji_click_id:"",reaction_type:b("EmojiReactionsStateEmojiReactionsStateTypes").ReactionType.cast(0)}}function a(){return{selected_reaction:g()}}function c(){return{participant_id:"",emoji:g(),emoji_expiry_time:"0",reactions:[]}}function d(){return{emoji:g()}}function e(){return{reaction:g()}}function h(){return{emoji_participants:[],is_emoji_reactions_feature_enabled:!1}}function i(){return{is_online_learning_call:!1,is_emoji_reactions_feature_enabled:!1,call_type:b("EmojiReactionsStateEmojiReactionsStateTypes").CallType.cast(0)}}function j(a,c){c.writeStructBegin("Emoji");c.writeFieldBegin({fname:"emoji_id",ftype:b("ThriftTypes").STRING,fid:1});if(a.emoji_id!=null)c.writeString(a.emoji_id);else{var d="";c.writeString(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"emoji_click_id",ftype:b("ThriftTypes").STRING,fid:2});if(a.emoji_click_id!=null)c.writeString(a.emoji_click_id);else{d="";c.writeString(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"reaction_type",ftype:b("ThriftTypes").I32,fid:3});if(a.reaction_type!=null){c.writeI32((d=a.reaction_type)!=null?d:0)}else{a=b("EmojiReactionsStateEmojiReactionsStateTypes").ReactionType.cast(0);c.writeI32((d=a)!=null?d:0)}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function k(a,c){c.writeStructBegin("Reaction");c.writeFieldBegin({fname:"selected_reaction",ftype:b("ThriftTypes").STRUCT,fid:1});if(a.selected_reaction!=null)j(a.selected_reaction,c);else{var d=g();j(d,c)}c.writeFieldEnd();a.reaction_expiry_time!=null&&(c.writeFieldBegin({fname:"reaction_expiry_time",ftype:b("ThriftTypes").I64,fid:2}),c.writeI64(b("jsbi").BigInt(a.reaction_expiry_time)),c.writeFieldEnd());c.writeFieldStop();c.writeStructEnd()}function l(a,c){c.writeStructBegin("EmojiReactionsParticipant");c.writeFieldBegin({fname:"participant_id",ftype:b("ThriftTypes").STRING,fid:1});if(a.participant_id!=null)c.writeString(a.participant_id);else{var d="";c.writeString(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"emoji",ftype:b("ThriftTypes").STRUCT,fid:2});if(a.emoji!=null)j(a.emoji,c);else{d=g();j(d,c)}c.writeFieldEnd();c.writeFieldBegin({fname:"emoji_expiry_time",ftype:b("ThriftTypes").I64,fid:3});if(a.emoji_expiry_time!=null)c.writeI64(b("jsbi").BigInt(a.emoji_expiry_time));else{d="0";c.writeI64(b("jsbi").BigInt(d))}c.writeFieldEnd();c.writeFieldBegin({fname:"reactions",ftype:b("ThriftTypes").LIST,fid:4});if(a.reactions!=null){c.writeListBegin({etype:b("ThriftTypes").STRUCT,size:a.reactions.length});for(var d=a.reactions,a=Array.isArray(d),e=0,d=a?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(a){if(e>=d.length)break;f=d[e++]}else{e=d.next();if(e.done)break;f=e.value}f=f;k(f,c)}c.writeListEnd()}else{f=[];c.writeListBegin({etype:b("ThriftTypes").STRUCT,size:f.length});for(e=0;e<f.length;e++){a=f[e];k(a,c)}c.writeListEnd()}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function m(a,c){c.writeStructBegin("EmojiReactionsInputState");c.writeFieldBegin({fname:"emoji",ftype:b("ThriftTypes").STRUCT,fid:1});if(a.emoji!=null)j(a.emoji,c);else{var d=g();j(d,c)}c.writeFieldEnd();if(a.reaction_source!=null){c.writeFieldBegin({fname:"reaction_source",ftype:b("ThriftTypes").I32,fid:2});c.writeI32((d=a.reaction_source)!=null?d:0);c.writeFieldEnd()}c.writeFieldStop();c.writeStructEnd()}function n(a,c){c.writeStructBegin("E2EEEmojiReactionsParticipantPayload");c.writeFieldBegin({fname:"reaction",ftype:b("ThriftTypes").STRUCT,fid:1});if(a.reaction!=null)j(a.reaction,c);else{a=g();j(a,c)}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function o(a,c){c.writeStructBegin("EmojiReactionsOutputState");c.writeFieldBegin({fname:"emoji_participants",ftype:b("ThriftTypes").LIST,fid:1});if(a.emoji_participants!=null){c.writeListBegin({etype:b("ThriftTypes").STRUCT,size:a.emoji_participants.length});for(var d=a.emoji_participants,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=d.length)break;g=d[f++]}else{f=d.next();if(f.done)break;g=f.value}g=g;l(g,c)}c.writeListEnd()}else{g=[];c.writeListBegin({etype:b("ThriftTypes").STRUCT,size:g.length});for(f=0;f<g.length;f++){e=g[f];l(e,c)}c.writeListEnd()}c.writeFieldEnd();c.writeFieldBegin({fname:"is_emoji_reactions_feature_enabled",ftype:b("ThriftTypes").BOOL,fid:2});if(a.is_emoji_reactions_feature_enabled!=null)c.writeBool(a.is_emoji_reactions_feature_enabled);else{d=!1;c.writeBool(d)}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function p(a,c){c.writeStructBegin("EmojiReactionsConferenceOutputState");c.writeFieldBegin({fname:"is_online_learning_call",ftype:b("ThriftTypes").BOOL,fid:1});if(a.is_online_learning_call!=null)c.writeBool(a.is_online_learning_call);else{var d=!1;c.writeBool(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"is_emoji_reactions_feature_enabled",ftype:b("ThriftTypes").BOOL,fid:2});if(a.is_emoji_reactions_feature_enabled!=null)c.writeBool(a.is_emoji_reactions_feature_enabled);else{d=!1;c.writeBool(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"call_type",ftype:b("ThriftTypes").I32,fid:3});if(a.call_type!=null){c.writeI32((d=a.call_type)!=null?d:0)}else{a=b("EmojiReactionsStateEmojiReactionsStateTypes").CallType.cast(0);c.writeI32((d=a)!=null?d:0)}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function q(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").STRING?c.emoji_id=a.readString():a.skip(e);break;case 2:e===b("ThriftTypes").STRING?c.emoji_click_id=a.readString():a.skip(e);break;case 3:e===b("ThriftTypes").I32?c.reaction_type=b("EmojiReactionsStateEmojiReactionsStateTypes").ReactionType.cast(a.readI32()):a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.emoji_id===void 0&&(c.emoji_id="");c.emoji_click_id===void 0&&(c.emoji_click_id="");c.reaction_type===void 0&&(c.reaction_type=b("EmojiReactionsStateEmojiReactionsStateTypes").ReactionType.cast(0));return c}function r(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").STRUCT?c.selected_reaction=q(a):a.skip(e);break;case 2:e===b("ThriftTypes").I64?c.reaction_expiry_time=a.readI64().toString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.selected_reaction===void 0&&(c.selected_reaction=g());return c}function s(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").STRING?c.participant_id=a.readString():a.skip(e);break;case 2:e===b("ThriftTypes").STRUCT?c.emoji=q(a):a.skip(e);break;case 3:e===b("ThriftTypes").I64?c.emoji_expiry_time=a.readI64().toString():a.skip(e);break;case 4:if(e===b("ThriftTypes").LIST){c.reactions=[];d=a.readListBegin();for(var f=0;f<d.size;f++){var h=r(a);c.reactions.push(h)}}else a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.participant_id===void 0&&(c.participant_id="");c.emoji===void 0&&(c.emoji=g());c.emoji_expiry_time===void 0&&(c.emoji_expiry_time="0");c.reactions===void 0&&(c.reactions=[]);return c}function t(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").STRUCT?c.emoji=q(a):a.skip(e);break;case 2:e===b("ThriftTypes").I32?c.reaction_source=b("EmojiReactionsStateEmojiReactionsStateTypes").ReactionSource.cast(a.readI32()):a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.emoji===void 0&&(c.emoji=g());return c}function u(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").STRUCT?c.reaction=q(a):a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.reaction===void 0&&(c.reaction=g());return c}function v(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:if(e===b("ThriftTypes").LIST){c.emoji_participants=[];d=a.readListBegin();for(var f=0;f<d.size;f++){var g=s(a);c.emoji_participants.push(g)}}else a.skip(e);break;case 2:e===b("ThriftTypes").BOOL?c.is_emoji_reactions_feature_enabled=a.readBool():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.emoji_participants===void 0&&(c.emoji_participants=[]);c.is_emoji_reactions_feature_enabled===void 0&&(c.is_emoji_reactions_feature_enabled=!1);return c}function w(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").BOOL?c.is_online_learning_call=a.readBool():a.skip(e);break;case 2:e===b("ThriftTypes").BOOL?c.is_emoji_reactions_feature_enabled=a.readBool():a.skip(e);break;case 3:e===b("ThriftTypes").I32?c.call_type=b("EmojiReactionsStateEmojiReactionsStateTypes").CallType.cast(a.readI32()):a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.is_online_learning_call===void 0&&(c.is_online_learning_call=!1);c.is_emoji_reactions_feature_enabled===void 0&&(c.is_emoji_reactions_feature_enabled=!1);c.call_type===void 0&&(c.call_type=b("EmojiReactionsStateEmojiReactionsStateTypes").CallType.cast(0));return c}f.Emoji$DefaultConstructor=g;f.Reaction$DefaultConstructor=a;f.EmojiReactionsParticipant$DefaultConstructor=c;f.EmojiReactionsInputState$DefaultConstructor=d;f.E2EEEmojiReactionsParticipantPayload$DefaultConstructor=e;f.EmojiReactionsOutputState$DefaultConstructor=h;f.EmojiReactionsConferenceOutputState$DefaultConstructor=i;f.serializeEmoji=j;f.serializeReaction=k;f.serializeEmojiReactionsParticipant=l;f.serializeEmojiReactionsInputState=m;f.serializeE2EEEmojiReactionsParticipantPayload=n;f.serializeEmojiReactionsOutputState=o;f.serializeEmojiReactionsConferenceOutputState=p;f.deserializeEmoji=q;f.deserializeReaction=r;f.deserializeEmojiReactionsParticipant=s;f.deserializeEmojiReactionsInputState=t;f.deserializeE2EEEmojiReactionsParticipantPayload=u;f.deserializeEmojiReactionsOutputState=v;f.deserializeEmojiReactionsConferenceOutputState=w}),66);
__d("IntenticonsStateIntenticonsStateTypes",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({UNKNOWN:0,ADD:1,UPDATE:2,REMOVE:3});e.exports={Operation:a}}),null);
__d("IntenticonsStateIntenticonsStateSerializers",["IntenticonsStateIntenticonsStateTypes","ThriftTypes"],(function(a,b,c,d,e,f){"use strict";function a(){return{rotation:0,scale:1,x:0,y:0}}function c(){return{user_id:""}}function d(){return{}}function e(){return{callIntenticons:{}}}function g(a,c){c.writeStructBegin("Context");c.writeFieldBegin({fname:"rotation",ftype:b("ThriftTypes").DOUBLE,fid:1});if(a.rotation!=null)c.writeDouble(a.rotation);else{var d=0;c.writeDouble(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"scale",ftype:b("ThriftTypes").DOUBLE,fid:2});if(a.scale!=null)c.writeDouble(a.scale);else{d=1;c.writeDouble(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"x",ftype:b("ThriftTypes").DOUBLE,fid:3});if(a.x!=null)c.writeDouble(a.x);else{d=0;c.writeDouble(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"y",ftype:b("ThriftTypes").DOUBLE,fid:4});if(a.y!=null)c.writeDouble(a.y);else{d=0;c.writeDouble(d)}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function h(a,c){c.writeStructBegin("IntenticonItem");c.writeFieldBegin({fname:"user_id",ftype:b("ThriftTypes").STRING,fid:1});if(a.user_id!=null)c.writeString(a.user_id);else{var d="";c.writeString(d)}c.writeFieldEnd();a.sticker_url!=null&&(c.writeFieldBegin({fname:"sticker_url",ftype:b("ThriftTypes").STRING,fid:2}),c.writeString(a.sticker_url),c.writeFieldEnd());a.animated_sticker_url!=null&&(c.writeFieldBegin({fname:"animated_sticker_url",ftype:b("ThriftTypes").STRING,fid:3}),c.writeString(a.animated_sticker_url),c.writeFieldEnd());a.sticker_mime_type!=null&&(c.writeFieldBegin({fname:"sticker_mime_type",ftype:b("ThriftTypes").STRING,fid:4}),c.writeString(a.sticker_mime_type),c.writeFieldEnd());a.animated_sticker_mime_type!=null&&(c.writeFieldBegin({fname:"animated_sticker_mime_type",ftype:b("ThriftTypes").STRING,fid:5}),c.writeString(a.animated_sticker_mime_type),c.writeFieldEnd());a.text!=null&&(c.writeFieldBegin({fname:"text",ftype:b("ThriftTypes").STRING,fid:6}),c.writeString(a.text),c.writeFieldEnd());a.intenticon_id!=null&&(c.writeFieldBegin({fname:"intenticon_id",ftype:b("ThriftTypes").STRING,fid:7}),c.writeString(a.intenticon_id),c.writeFieldEnd());a.context!=null&&(c.writeFieldBegin({fname:"context",ftype:b("ThriftTypes").STRUCT,fid:8}),g(a.context,c),c.writeFieldEnd());if(a.operation!=null){c.writeFieldBegin({fname:"operation",ftype:b("ThriftTypes").I32,fid:9});c.writeI32((d=a.operation)!=null?d:0);c.writeFieldEnd()}c.writeFieldStop();c.writeStructEnd()}function i(a,c){c.writeStructBegin("IntenticonParticipantInputState"),a.intenticonItem!=null&&(c.writeFieldBegin({fname:"intenticonItem",ftype:b("ThriftTypes").STRUCT,fid:1}),h(a.intenticonItem,c),c.writeFieldEnd()),c.writeFieldStop(),c.writeStructEnd()}function j(a,c){c.writeStructBegin("IntenticonParticipantOutputState");c.writeFieldBegin({fname:"callIntenticons",ftype:b("ThriftTypes").MAP,fid:1});if(a.callIntenticons!=null){c.writeMapBegin({ktype:b("ThriftTypes").STRING,vtype:b("ThriftTypes").STRUCT,size:Object.keys(a.callIntenticons).length});a=Object.entries(a.callIntenticons);for(var d=0;d<a.length;d++){var e=a[d],f=e[0];e=e[1];c.writeString(f);h(e,c)}c.writeMapEnd()}else{f={};c.writeMapBegin({ktype:b("ThriftTypes").STRING,vtype:b("ThriftTypes").STRUCT,size:Object.keys(f).length});e=Object.entries(f);for(a=0;a<e.length;a++){d=e[a];f=d[0];d=d[1];c.writeString(f);h(d,c)}c.writeMapEnd()}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function k(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").DOUBLE?c.rotation=a.readDouble():a.skip(e);break;case 2:e===b("ThriftTypes").DOUBLE?c.scale=a.readDouble():a.skip(e);break;case 3:e===b("ThriftTypes").DOUBLE?c.x=a.readDouble():a.skip(e);break;case 4:e===b("ThriftTypes").DOUBLE?c.y=a.readDouble():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.rotation===void 0&&(c.rotation=0);c.scale===void 0&&(c.scale=1);c.x===void 0&&(c.x=0);c.y===void 0&&(c.y=0);return c}function l(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").STRING?c.user_id=a.readString():a.skip(e);break;case 2:e===b("ThriftTypes").STRING?c.sticker_url=a.readString():a.skip(e);break;case 3:e===b("ThriftTypes").STRING?c.animated_sticker_url=a.readString():a.skip(e);break;case 4:e===b("ThriftTypes").STRING?c.sticker_mime_type=a.readString():a.skip(e);break;case 5:e===b("ThriftTypes").STRING?c.animated_sticker_mime_type=a.readString():a.skip(e);break;case 6:e===b("ThriftTypes").STRING?c.text=a.readString():a.skip(e);break;case 7:e===b("ThriftTypes").STRING?c.intenticon_id=a.readString():a.skip(e);break;case 8:e===b("ThriftTypes").STRUCT?c.context=k(a):a.skip(e);break;case 9:e===b("ThriftTypes").I32?c.operation=b("IntenticonsStateIntenticonsStateTypes").Operation.cast(a.readI32()):a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.user_id===void 0&&(c.user_id="");return c}function m(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").STRUCT?c.intenticonItem=l(a):a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();return c}function n(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:if(e===b("ThriftTypes").MAP){c.callIntenticons={};d=a.readMapBegin();for(var f=0;f<d.size;f++){var g=a.readString(),h=l(a);c.callIntenticons[g]=h}}else a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.callIntenticons===void 0&&(c.callIntenticons={});return c}f.Context$DefaultConstructor=a;f.IntenticonItem$DefaultConstructor=c;f.IntenticonParticipantInputState$DefaultConstructor=d;f.IntenticonParticipantOutputState$DefaultConstructor=e;f.serializeContext=g;f.serializeIntenticonItem=h;f.serializeIntenticonParticipantInputState=i;f.serializeIntenticonParticipantOutputState=j;f.deserializeContext=k;f.deserializeIntenticonItem=l;f.deserializeIntenticonParticipantInputState=m;f.deserializeIntenticonParticipantOutputState=n}),66);
__d("LiveStreamStateLiveStreamStateTypes",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";c=(a=b("$InternalEnum"))({NONE:0,STARTED:1,IN_PROGRESS:2});d=a({UNKNOWN:0,SELF:10,ALL_FRIENDS:40,FRIENDS_OF_FRIENDS:50,EVERYONE:80});f=a({USER_PROFILE:0,PAGE:1,GROUP:2,PUBLIC_GROUP:3,PRIVATE_GROUP:4,EVENT:5,PUBLIC_EVENT:6,PRIVATE_EVENT:7,PAID_ONLINE_EVENT:8});b=a({AUDIO:0,VIDEO:1,SCREEN:2});var g=a({NONE:0,GRID:1,DOMINANT:2}),h=a({EXPLICIT_CLIENT_ACK:0,SERVER_AUTO_ACK:1}),i=a({MediaSourceType:"mediaSourceType"});a=a({GridLayoutExtra:"gridLayoutExtra",DominantLayoutExtra:"dominantLayoutExtra"});e.exports={LayoutExtra$Types:a,LayoutType:g,LiveStreamAudience:d,LiveStreamStatus:c,LiveStreamTarget:f,MediaSourceId$Types:i,MediaSourceType:b,NegotiationMode:h}}),null);
__d("LiveStreamStateLiveStreamStateSerializers",["LiveStreamStateLiveStreamStateTypes","ThriftTypes","jsbi"],(function(a,b,c,d,e,f){"use strict";function a(){return{audience:b("LiveStreamStateLiveStreamStateTypes").LiveStreamAudience.cast(0),target:b("LiveStreamStateLiveStreamStateTypes").LiveStreamTarget.cast(0),hostId:""}}function c(){return{userId:"0",mediaSourceId:q()}}function d(){return{}}function e(){return{}}function g(){return{layoutType:b("LiveStreamStateLiveStreamStateTypes").LayoutType.cast(0)}}function h(){return{screenSharingUserIds:[]}}function i(){return{activeSpeakerUserIds:[]}}function j(){return{}}function k(){return{}}function l(){return{liveStreamStatus:b("LiveStreamStateLiveStreamStateTypes").LiveStreamStatus.cast(0),acceptedUsers:[]}}function m(){return{liveStreamStatus:b("LiveStreamStateLiveStreamStateTypes").LiveStreamStatus.cast(0),negotiationMode:b("LiveStreamStateLiveStreamStateTypes").NegotiationMode.cast(0)}}function n(){return{allowedUsers:[],subscribedUsers:[],liveStreamStatus:b("LiveStreamStateLiveStreamStateTypes").LiveStreamStatus.cast(0),negotiationMode:b("LiveStreamStateLiveStreamStateTypes").NegotiationMode.cast(0)}}function o(){return{broadcastParticipants:[]}}function p(){return{}}function q(){return{}}function r(){return{}}function s(a,c){c.writeStructBegin("LiveStreamOptInInfo");c.writeFieldBegin({fname:"audience",ftype:b("ThriftTypes").I32,fid:1});if(a.audience!=null){var d;c.writeI32((d=a.audience)!=null?d:0)}else{d=b("LiveStreamStateLiveStreamStateTypes").LiveStreamAudience.cast(0);c.writeI32((d=d)!=null?d:0)}c.writeFieldEnd();c.writeFieldBegin({fname:"target",ftype:b("ThriftTypes").I32,fid:2});if(a.target!=null){c.writeI32((d=a.target)!=null?d:0)}else{d=b("LiveStreamStateLiveStreamStateTypes").LiveStreamTarget.cast(0);c.writeI32((d=d)!=null?d:0)}c.writeFieldEnd();a.targetName!=null&&(c.writeFieldBegin({fname:"targetName",ftype:b("ThriftTypes").STRING,fid:3}),c.writeString(a.targetName),c.writeFieldEnd());c.writeFieldBegin({fname:"hostId",ftype:b("ThriftTypes").STRING,fid:4});if(a.hostId!=null)c.writeString(a.hostId);else{d="";c.writeString(d)}c.writeFieldEnd();a.targetSize!=null&&(c.writeFieldBegin({fname:"targetSize",ftype:b("ThriftTypes").STRING,fid:5}),c.writeString(a.targetSize),c.writeFieldEnd());c.writeFieldStop();c.writeStructEnd()}function t(a,c){c.writeStructBegin("UserMediaSourceId");c.writeFieldBegin({fname:"userId",ftype:b("ThriftTypes").I64,fid:1});if(a.userId!=null)c.writeI64(b("jsbi").BigInt(a.userId));else{var d="0";c.writeI64(b("jsbi").BigInt(d))}c.writeFieldEnd();c.writeFieldBegin({fname:"mediaSourceId",ftype:b("ThriftTypes").STRUCT,fid:2});if(a.mediaSourceId!=null)G(a.mediaSourceId,c);else{d=q();G(d,c)}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function u(a,c){c.writeStructBegin("GridLayoutExtra");if(a.gridUsers!=null){c.writeFieldBegin({fname:"gridUsers",ftype:b("ThriftTypes").LIST,fid:1});c.writeListBegin({etype:b("ThriftTypes").STRUCT,size:a.gridUsers.length});for(var a=a.gridUsers,d=Array.isArray(a),e=0,a=d?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=a.length)break;f=a[e++]}else{e=a.next();if(e.done)break;f=e.value}f=f;t(f,c)}c.writeListEnd();c.writeFieldEnd()}c.writeFieldStop();c.writeStructEnd()}function v(a,c){c.writeStructBegin("DominantLayoutExtra");if(a.dominantUsers!=null){c.writeFieldBegin({fname:"dominantUsers",ftype:b("ThriftTypes").LIST,fid:1});c.writeListBegin({etype:b("ThriftTypes").STRUCT,size:a.dominantUsers.length});for(var a=a.dominantUsers,d=Array.isArray(a),e=0,a=d?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=a.length)break;f=a[e++]}else{e=a.next();if(e.done)break;f=e.value}f=f;t(f,c)}c.writeListEnd();c.writeFieldEnd()}c.writeFieldStop();c.writeStructEnd()}function w(a,c){c.writeStructBegin("LayoutInfo");c.writeFieldBegin({fname:"layoutType",ftype:b("ThriftTypes").I32,fid:1});if(a.layoutType!=null){var d;c.writeI32((d=a.layoutType)!=null?d:0)}else{d=b("LiveStreamStateLiveStreamStateTypes").LayoutType.cast(0);c.writeI32((d=d)!=null?d:0)}c.writeFieldEnd();a.layoutExtra!=null&&(c.writeFieldBegin({fname:"layoutExtra",ftype:b("ThriftTypes").STRUCT,fid:2}),H(a.layoutExtra,c),c.writeFieldEnd());c.writeFieldStop();c.writeStructEnd()}function x(a,c){c.writeStructBegin("ScreenShareInfo");c.writeFieldBegin({fname:"screenSharingUserIds",ftype:b("ThriftTypes").LIST,fid:1});if(a.screenSharingUserIds!=null){c.writeListBegin({etype:b("ThriftTypes").I64,size:a.screenSharingUserIds.length});for(var a=a.screenSharingUserIds,d=Array.isArray(a),e=0,a=d?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=a.length)break;f=a[e++]}else{e=a.next();if(e.done)break;f=e.value}f=f;c.writeI64(b("jsbi").BigInt(f))}c.writeListEnd()}else{f=[];c.writeListBegin({etype:b("ThriftTypes").I64,size:f.length});for(e=0;e<f.length;e++){d=f[e];c.writeI64(b("jsbi").BigInt(d))}c.writeListEnd()}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function y(a,c){c.writeStructBegin("DominantSpeakerInfo");c.writeFieldBegin({fname:"activeSpeakerUserIds",ftype:b("ThriftTypes").LIST,fid:1});if(a.activeSpeakerUserIds!=null){c.writeListBegin({etype:b("ThriftTypes").I64,size:a.activeSpeakerUserIds.length});for(var a=a.activeSpeakerUserIds,d=Array.isArray(a),e=0,a=d?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=a.length)break;f=a[e++]}else{e=a.next();if(e.done)break;f=e.value}f=f;c.writeI64(b("jsbi").BigInt(f))}c.writeListEnd()}else{f=[];c.writeListBegin({etype:b("ThriftTypes").I64,size:f.length});for(e=0;e<f.length;e++){d=f[e];c.writeI64(b("jsbi").BigInt(d))}c.writeListEnd()}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function z(a,c){c.writeStructBegin("ClientLayoutInfo"),a.layoutInfo!=null&&(c.writeFieldBegin({fname:"layoutInfo",ftype:b("ThriftTypes").STRUCT,fid:1}),w(a.layoutInfo,c),c.writeFieldEnd()),a.screenShareInfo!=null&&(c.writeFieldBegin({fname:"screenShareInfo",ftype:b("ThriftTypes").STRUCT,fid:2}),x(a.screenShareInfo,c),c.writeFieldEnd()),c.writeFieldStop(),c.writeStructEnd()}function A(a,c){c.writeStructBegin("LiveStreamClientInputState"),a.negotiationToken!=null&&(c.writeFieldBegin({fname:"negotiationToken",ftype:b("ThriftTypes").STRING,fid:1}),c.writeString(a.negotiationToken),c.writeFieldEnd()),a.broadcastId!=null&&(c.writeFieldBegin({fname:"broadcastId",ftype:b("ThriftTypes").I64,fid:2}),c.writeI64(b("jsbi").BigInt(a.broadcastId)),c.writeFieldEnd()),a.layoutInfo!=null&&(c.writeFieldBegin({fname:"layoutInfo",ftype:b("ThriftTypes").STRUCT,fid:3}),z(a.layoutInfo,c),c.writeFieldEnd()),c.writeFieldStop(),c.writeStructEnd()}function B(a,c){c.writeStructBegin("LiveStreamClientOutputState");a.broadcastId!=null&&(c.writeFieldBegin({fname:"broadcastId",ftype:b("ThriftTypes").I64,fid:1}),c.writeI64(b("jsbi").BigInt(a.broadcastId)),c.writeFieldEnd());c.writeFieldBegin({fname:"liveStreamStatus",ftype:b("ThriftTypes").I32,fid:2});if(a.liveStreamStatus!=null){var d;c.writeI32((d=a.liveStreamStatus)!=null?d:0)}else{d=b("LiveStreamStateLiveStreamStateTypes").LiveStreamStatus.cast(0);c.writeI32((d=d)!=null?d:0)}c.writeFieldEnd();a.negotiationToken!=null&&(c.writeFieldBegin({fname:"negotiationToken",ftype:b("ThriftTypes").STRING,fid:3}),c.writeString(a.negotiationToken),c.writeFieldEnd());c.writeFieldBegin({fname:"acceptedUsers",ftype:b("ThriftTypes").LIST,fid:4});if(a.acceptedUsers!=null){c.writeListBegin({etype:b("ThriftTypes").STRING,size:a.acceptedUsers.length});for(var d=a.acceptedUsers,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=d.length)break;g=d[f++]}else{f=d.next();if(f.done)break;g=f.value}g=g;c.writeString(g)}c.writeListEnd()}else{g=[];c.writeListBegin({etype:b("ThriftTypes").STRING,size:g.length});for(f=0;f<g.length;f++){e=g[f];c.writeString(e)}c.writeListEnd()}c.writeFieldEnd();a.optInInfo!=null&&(c.writeFieldBegin({fname:"optInInfo",ftype:b("ThriftTypes").STRUCT,fid:5}),s(a.optInInfo,c),c.writeFieldEnd());c.writeFieldStop();c.writeStructEnd()}function C(a,c){c.writeStructBegin("LiveStreamConferenceInputState");a.broadcastId!=null&&(c.writeFieldBegin({fname:"broadcastId",ftype:b("ThriftTypes").I64,fid:1}),c.writeI64(b("jsbi").BigInt(a.broadcastId)),c.writeFieldEnd());c.writeFieldBegin({fname:"liveStreamStatus",ftype:b("ThriftTypes").I32,fid:2});if(a.liveStreamStatus!=null){var d;c.writeI32((d=a.liveStreamStatus)!=null?d:0)}else{d=b("LiveStreamStateLiveStreamStateTypes").LiveStreamStatus.cast(0);c.writeI32((d=d)!=null?d:0)}c.writeFieldEnd();a.optInInfo!=null&&(c.writeFieldBegin({fname:"optInInfo",ftype:b("ThriftTypes").STRUCT,fid:3}),s(a.optInInfo,c),c.writeFieldEnd());c.writeFieldBegin({fname:"negotiationMode",ftype:b("ThriftTypes").I32,fid:4});if(a.negotiationMode!=null){c.writeI32((d=a.negotiationMode)!=null?d:0)}else{a=b("LiveStreamStateLiveStreamStateTypes").NegotiationMode.cast(0);c.writeI32((d=a)!=null?d:0)}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function D(a,c){c.writeStructBegin("LiveStreamConferenceOutputState");c.writeFieldBegin({fname:"allowedUsers",ftype:b("ThriftTypes").LIST,fid:1});if(a.allowedUsers!=null){c.writeListBegin({etype:b("ThriftTypes").STRING,size:a.allowedUsers.length});for(var d=a.allowedUsers,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=d.length)break;g=d[f++]}else{f=d.next();if(f.done)break;g=f.value}g=g;c.writeString(g)}c.writeListEnd()}else{g=[];c.writeListBegin({etype:b("ThriftTypes").STRING,size:g.length});for(f=0;f<g.length;f++){e=g[f];c.writeString(e)}c.writeListEnd()}c.writeFieldEnd();a.broadcastId!=null&&(c.writeFieldBegin({fname:"broadcastId",ftype:b("ThriftTypes").I64,fid:2}),c.writeI64(b("jsbi").BigInt(a.broadcastId)),c.writeFieldEnd());a.optInInfo!=null&&(c.writeFieldBegin({fname:"optInInfo",ftype:b("ThriftTypes").STRUCT,fid:3}),s(a.optInInfo,c),c.writeFieldEnd());c.writeFieldBegin({fname:"subscribedUsers",ftype:b("ThriftTypes").LIST,fid:4});if(a.subscribedUsers!=null){c.writeListBegin({etype:b("ThriftTypes").STRING,size:a.subscribedUsers.length});for(d=a.subscribedUsers,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(e){if(f>=d.length)break;g=d[f++]}else{f=d.next();if(f.done)break;g=f.value}g=g;c.writeString(g)}c.writeListEnd()}else{g=[];c.writeListBegin({etype:b("ThriftTypes").STRING,size:g.length});for(f=0;f<g.length;f++){e=g[f];c.writeString(e)}c.writeListEnd()}c.writeFieldEnd();c.writeFieldBegin({fname:"liveStreamStatus",ftype:b("ThriftTypes").I32,fid:5});if(a.liveStreamStatus!=null){c.writeI32((d=a.liveStreamStatus)!=null?d:0)}else{e=b("LiveStreamStateLiveStreamStateTypes").LiveStreamStatus.cast(0);c.writeI32((g=e)!=null?g:0)}c.writeFieldEnd();c.writeFieldBegin({fname:"negotiationMode",ftype:b("ThriftTypes").I32,fid:6});if(a.negotiationMode!=null){c.writeI32((f=a.negotiationMode)!=null?f:0)}else{d=b("LiveStreamStateLiveStreamStateTypes").NegotiationMode.cast(0);c.writeI32((e=d)!=null?e:0)}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function E(a,c){c.writeStructBegin("LiveStreamExtensionInputState");a.broadcastId!=null&&(c.writeFieldBegin({fname:"broadcastId",ftype:b("ThriftTypes").I64,fid:1}),c.writeI64(b("jsbi").BigInt(a.broadcastId)),c.writeFieldEnd());if(a.liveStreamStatus!=null){var d;c.writeFieldBegin({fname:"liveStreamStatus",ftype:b("ThriftTypes").I32,fid:2});c.writeI32((d=a.liveStreamStatus)!=null?d:0);c.writeFieldEnd()}c.writeFieldBegin({fname:"broadcastParticipants",ftype:b("ThriftTypes").LIST,fid:3});if(a.broadcastParticipants!=null){c.writeListBegin({etype:b("ThriftTypes").STRING,size:a.broadcastParticipants.length});for(var d=a.broadcastParticipants,a=Array.isArray(d),e=0,d=a?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(a){if(e>=d.length)break;f=d[e++]}else{e=d.next();if(e.done)break;f=e.value}f=f;c.writeString(f)}c.writeListEnd()}else{f=[];c.writeListBegin({etype:b("ThriftTypes").STRING,size:f.length});for(e=0;e<f.length;e++){a=f[e];c.writeString(a)}c.writeListEnd()}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function F(a,c){c.writeStructBegin("LiveStreamExtensionOutputState"),a.layoutInfo!=null&&(c.writeFieldBegin({fname:"layoutInfo",ftype:b("ThriftTypes").STRUCT,fid:1}),w(a.layoutInfo,c),c.writeFieldEnd()),a.screenShareInfo!=null&&(c.writeFieldBegin({fname:"screenShareInfo",ftype:b("ThriftTypes").STRUCT,fid:2}),x(a.screenShareInfo,c),c.writeFieldEnd()),a.dominantSpeakerInfo!=null&&(c.writeFieldBegin({fname:"dominantSpeakerInfo",ftype:b("ThriftTypes").STRUCT,fid:3}),y(a.dominantSpeakerInfo,c),c.writeFieldEnd()),c.writeFieldStop(),c.writeStructEnd()}function G(a,c){c.writeStructBegin("MediaSourceId");if(a.mediaSourceType!=null){c.writeFieldBegin({fname:"mediaSourceType",ftype:b("ThriftTypes").I32,fid:1});c.writeI32((a=a.mediaSourceType)!=null?a:0);c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd();return}c.writeFieldStop();c.writeStructEnd()}function H(a,c){c.writeStructBegin("LayoutExtra");if(a.gridLayoutExtra!=null){c.writeFieldBegin({fname:"gridLayoutExtra",ftype:b("ThriftTypes").STRUCT,fid:1});u(a.gridLayoutExtra,c);c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd();return}if(a.dominantLayoutExtra!=null){c.writeFieldBegin({fname:"dominantLayoutExtra",ftype:b("ThriftTypes").STRUCT,fid:2});v(a.dominantLayoutExtra,c);c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd();return}c.writeFieldStop();c.writeStructEnd()}function I(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").I32?c.audience=b("LiveStreamStateLiveStreamStateTypes").LiveStreamAudience.cast(a.readI32()):a.skip(e);break;case 2:e===b("ThriftTypes").I32?c.target=b("LiveStreamStateLiveStreamStateTypes").LiveStreamTarget.cast(a.readI32()):a.skip(e);break;case 3:e===b("ThriftTypes").STRING?c.targetName=a.readString():a.skip(e);break;case 4:e===b("ThriftTypes").STRING?c.hostId=a.readString():a.skip(e);break;case 5:e===b("ThriftTypes").STRING?c.targetSize=a.readString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.audience===void 0&&(c.audience=b("LiveStreamStateLiveStreamStateTypes").LiveStreamAudience.cast(0));c.target===void 0&&(c.target=b("LiveStreamStateLiveStreamStateTypes").LiveStreamTarget.cast(0));c.hostId===void 0&&(c.hostId="");return c}function J(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").I64?c.userId=a.readI64().toString():a.skip(e);break;case 2:e===b("ThriftTypes").STRUCT?c.mediaSourceId=W(a):a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.userId===void 0&&(c.userId="0");c.mediaSourceId===void 0&&(c.mediaSourceId=q());return c}function K(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:if(e===b("ThriftTypes").LIST){c.gridUsers=[];d=a.readListBegin();for(var f=0;f<d.size;f++){var g=J(a);c.gridUsers.push(g)}}else a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();return c}function L(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:if(e===b("ThriftTypes").LIST){c.dominantUsers=[];d=a.readListBegin();for(var f=0;f<d.size;f++){var g=J(a);c.dominantUsers.push(g)}}else a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();return c}function M(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").I32?c.layoutType=b("LiveStreamStateLiveStreamStateTypes").LayoutType.cast(a.readI32()):a.skip(e);break;case 2:e===b("ThriftTypes").STRUCT?c.layoutExtra=X(a):a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.layoutType===void 0&&(c.layoutType=b("LiveStreamStateLiveStreamStateTypes").LayoutType.cast(0));return c}function N(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:if(e===b("ThriftTypes").LIST){c.screenSharingUserIds=[];d=a.readListBegin();for(var f=0;f<d.size;f++){var g=a.readI64().toString();c.screenSharingUserIds.push(g)}}else a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.screenSharingUserIds===void 0&&(c.screenSharingUserIds=[]);return c}function O(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:if(e===b("ThriftTypes").LIST){c.activeSpeakerUserIds=[];d=a.readListBegin();for(var f=0;f<d.size;f++){var g=a.readI64().toString();c.activeSpeakerUserIds.push(g)}}else a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.activeSpeakerUserIds===void 0&&(c.activeSpeakerUserIds=[]);return c}function P(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").STRUCT?c.layoutInfo=M(a):a.skip(e);break;case 2:e===b("ThriftTypes").STRUCT?c.screenShareInfo=N(a):a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();return c}function Q(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").STRING?c.negotiationToken=a.readString():a.skip(e);break;case 2:e===b("ThriftTypes").I64?c.broadcastId=a.readI64().toString():a.skip(e);break;case 3:e===b("ThriftTypes").STRUCT?c.layoutInfo=P(a):a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();return c}function R(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").I64?c.broadcastId=a.readI64().toString():a.skip(e);break;case 2:e===b("ThriftTypes").I32?c.liveStreamStatus=b("LiveStreamStateLiveStreamStateTypes").LiveStreamStatus.cast(a.readI32()):a.skip(e);break;case 3:e===b("ThriftTypes").STRING?c.negotiationToken=a.readString():a.skip(e);break;case 4:if(e===b("ThriftTypes").LIST){c.acceptedUsers=[];d=a.readListBegin();for(var f=0;f<d.size;f++){var g=a.readString();c.acceptedUsers.push(g)}}else a.skip(e);break;case 5:e===b("ThriftTypes").STRUCT?c.optInInfo=I(a):a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.liveStreamStatus===void 0&&(c.liveStreamStatus=b("LiveStreamStateLiveStreamStateTypes").LiveStreamStatus.cast(0));c.acceptedUsers===void 0&&(c.acceptedUsers=[]);return c}function S(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").I64?c.broadcastId=a.readI64().toString():a.skip(e);break;case 2:e===b("ThriftTypes").I32?c.liveStreamStatus=b("LiveStreamStateLiveStreamStateTypes").LiveStreamStatus.cast(a.readI32()):a.skip(e);break;case 3:e===b("ThriftTypes").STRUCT?c.optInInfo=I(a):a.skip(e);break;case 4:e===b("ThriftTypes").I32?c.negotiationMode=b("LiveStreamStateLiveStreamStateTypes").NegotiationMode.cast(a.readI32()):a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.liveStreamStatus===void 0&&(c.liveStreamStatus=b("LiveStreamStateLiveStreamStateTypes").LiveStreamStatus.cast(0));c.negotiationMode===void 0&&(c.negotiationMode=b("LiveStreamStateLiveStreamStateTypes").NegotiationMode.cast(0));return c}function T(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:if(e===b("ThriftTypes").LIST){c.allowedUsers=[];d=a.readListBegin();for(var f=0;f<d.size;f++){var g=a.readString();c.allowedUsers.push(g)}}else a.skip(e);break;case 2:e===b("ThriftTypes").I64?c.broadcastId=a.readI64().toString():a.skip(e);break;case 3:e===b("ThriftTypes").STRUCT?c.optInInfo=I(a):a.skip(e);break;case 4:if(e===b("ThriftTypes").LIST){c.subscribedUsers=[];g=a.readListBegin();for(f=0;f<g.size;f++){d=a.readString();c.subscribedUsers.push(d)}}else a.skip(e);break;case 5:e===b("ThriftTypes").I32?c.liveStreamStatus=b("LiveStreamStateLiveStreamStateTypes").LiveStreamStatus.cast(a.readI32()):a.skip(e);break;case 6:e===b("ThriftTypes").I32?c.negotiationMode=b("LiveStreamStateLiveStreamStateTypes").NegotiationMode.cast(a.readI32()):a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.allowedUsers===void 0&&(c.allowedUsers=[]);c.subscribedUsers===void 0&&(c.subscribedUsers=[]);c.liveStreamStatus===void 0&&(c.liveStreamStatus=b("LiveStreamStateLiveStreamStateTypes").LiveStreamStatus.cast(0));c.negotiationMode===void 0&&(c.negotiationMode=b("LiveStreamStateLiveStreamStateTypes").NegotiationMode.cast(0));return c}function U(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").I64?c.broadcastId=a.readI64().toString():a.skip(e);break;case 2:e===b("ThriftTypes").I32?c.liveStreamStatus=b("LiveStreamStateLiveStreamStateTypes").LiveStreamStatus.cast(a.readI32()):a.skip(e);break;case 3:if(e===b("ThriftTypes").LIST){c.broadcastParticipants=[];d=a.readListBegin();for(var f=0;f<d.size;f++){var g=a.readString();c.broadcastParticipants.push(g)}}else a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.broadcastParticipants===void 0&&(c.broadcastParticipants=[]);return c}function V(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").STRUCT?c.layoutInfo=M(a):a.skip(e);break;case 2:e===b("ThriftTypes").STRUCT?c.screenShareInfo=N(a):a.skip(e);break;case 3:e===b("ThriftTypes").STRUCT?c.dominantSpeakerInfo=O(a):a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();return c}function W(a){var c,d={};a.readStructBegin();while(!0){var e=a.readFieldBegin(),f=e.ftype;e=e.fid;if(f===b("ThriftTypes").STOP)break;switch(e){case 1:if(f===b("ThriftTypes").I32)if(c==null)d.mediaSourceType=b("LiveStreamStateLiveStreamStateTypes").MediaSourceType.cast(a.readI32()),c="mediaSourceType";else throw new Error("more than one field have been deserialized in union type: MediaSourceId; current field: mediaSourceType, previous deserialized field: "+c);else a.skip(f);break;default:a.skip(f)}a.readFieldEnd()}a.readStructEnd();return d}function X(a){var c,d={};a.readStructBegin();while(!0){var e=a.readFieldBegin(),f=e.ftype;e=e.fid;if(f===b("ThriftTypes").STOP)break;switch(e){case 1:if(f===b("ThriftTypes").STRUCT)if(c==null)d.gridLayoutExtra=K(a),c="gridLayoutExtra";else throw new Error("more than one field have been deserialized in union type: LayoutExtra; current field: gridLayoutExtra, previous deserialized field: "+c);else a.skip(f);break;case 2:if(f===b("ThriftTypes").STRUCT)if(c==null)d.dominantLayoutExtra=L(a),c="dominantLayoutExtra";else throw new Error("more than one field have been deserialized in union type: LayoutExtra; current field: dominantLayoutExtra, previous deserialized field: "+c);else a.skip(f);break;default:a.skip(f)}a.readFieldEnd()}a.readStructEnd();return d}f.LiveStreamOptInInfo$DefaultConstructor=a;f.UserMediaSourceId$DefaultConstructor=c;f.GridLayoutExtra$DefaultConstructor=d;f.DominantLayoutExtra$DefaultConstructor=e;f.LayoutInfo$DefaultConstructor=g;f.ScreenShareInfo$DefaultConstructor=h;f.DominantSpeakerInfo$DefaultConstructor=i;f.ClientLayoutInfo$DefaultConstructor=j;f.LiveStreamClientInputState$DefaultConstructor=k;f.LiveStreamClientOutputState$DefaultConstructor=l;f.LiveStreamConferenceInputState$DefaultConstructor=m;f.LiveStreamConferenceOutputState$DefaultConstructor=n;f.LiveStreamExtensionInputState$DefaultConstructor=o;f.LiveStreamExtensionOutputState$DefaultConstructor=p;f.MediaSourceId$DefaultConstructor=q;f.LayoutExtra$DefaultConstructor=r;f.serializeLiveStreamOptInInfo=s;f.serializeUserMediaSourceId=t;f.serializeGridLayoutExtra=u;f.serializeDominantLayoutExtra=v;f.serializeLayoutInfo=w;f.serializeScreenShareInfo=x;f.serializeDominantSpeakerInfo=y;f.serializeClientLayoutInfo=z;f.serializeLiveStreamClientInputState=A;f.serializeLiveStreamClientOutputState=B;f.serializeLiveStreamConferenceInputState=C;f.serializeLiveStreamConferenceOutputState=D;f.serializeLiveStreamExtensionInputState=E;f.serializeLiveStreamExtensionOutputState=F;f.serializeMediaSourceId=G;f.serializeLayoutExtra=H;f.deserializeLiveStreamOptInInfo=I;f.deserializeUserMediaSourceId=J;f.deserializeGridLayoutExtra=K;f.deserializeDominantLayoutExtra=L;f.deserializeLayoutInfo=M;f.deserializeScreenShareInfo=N;f.deserializeDominantSpeakerInfo=O;f.deserializeClientLayoutInfo=P;f.deserializeLiveStreamClientInputState=Q;f.deserializeLiveStreamClientOutputState=R;f.deserializeLiveStreamConferenceInputState=S;f.deserializeLiveStreamConferenceOutputState=T;f.deserializeLiveStreamExtensionInputState=U;f.deserializeLiveStreamExtensionOutputState=V;f.deserializeMediaSourceId=W;f.deserializeLayoutExtra=X}),66);
__d("MediaInformationStateMediaInformationStateSerializers",["ThriftTypes"],(function(a,b,c,d,e,f){"use strict";function a(){return{width:0,height:0}}function c(){return{mosaic_grid_capable:!1}}function d(){return{}}function e(){return{participant_media_infos:{}}}function g(a,c){c.writeStructBegin("VideoSize");c.writeFieldBegin({fname:"width",ftype:b("ThriftTypes").I32,fid:1});if(a.width!=null)c.writeI32(a.width);else{var d=0;c.writeI32(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"height",ftype:b("ThriftTypes").I32,fid:2});if(a.height!=null)c.writeI32(a.height);else{d=0;c.writeI32(d)}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function h(a,c){c.writeStructBegin("ParticipantMediaInfo");c.writeFieldBegin({fname:"mosaic_grid_capable",ftype:b("ThriftTypes").BOOL,fid:1});if(a.mosaic_grid_capable!=null)c.writeBool(a.mosaic_grid_capable);else{var d=!1;c.writeBool(d)}c.writeFieldEnd();a.video_size!=null&&(c.writeFieldBegin({fname:"video_size",ftype:b("ThriftTypes").STRUCT,fid:2}),g(a.video_size,c),c.writeFieldEnd());c.writeFieldStop();c.writeStructEnd()}function i(a,c){c.writeStructBegin("MediaInformationInputState"),a.participant_media_info!=null&&(c.writeFieldBegin({fname:"participant_media_info",ftype:b("ThriftTypes").STRUCT,fid:1}),h(a.participant_media_info,c),c.writeFieldEnd()),c.writeFieldStop(),c.writeStructEnd()}function j(a,c){c.writeStructBegin("MediaInformationOutputState");c.writeFieldBegin({fname:"participant_media_infos",ftype:b("ThriftTypes").MAP,fid:1});if(a.participant_media_infos!=null){c.writeMapBegin({ktype:b("ThriftTypes").STRING,vtype:b("ThriftTypes").STRUCT,size:Object.keys(a.participant_media_infos).length});a=Object.entries(a.participant_media_infos);for(var d=0;d<a.length;d++){var e=a[d],f=e[0];e=e[1];c.writeString(f);h(e,c)}c.writeMapEnd()}else{f={};c.writeMapBegin({ktype:b("ThriftTypes").STRING,vtype:b("ThriftTypes").STRUCT,size:Object.keys(f).length});e=Object.entries(f);for(a=0;a<e.length;a++){d=e[a];f=d[0];d=d[1];c.writeString(f);h(d,c)}c.writeMapEnd()}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function k(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").I32?c.width=a.readI32():a.skip(e);break;case 2:e===b("ThriftTypes").I32?c.height=a.readI32():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.width===void 0&&(c.width=0);c.height===void 0&&(c.height=0);return c}function l(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").BOOL?c.mosaic_grid_capable=a.readBool():a.skip(e);break;case 2:e===b("ThriftTypes").STRUCT?c.video_size=k(a):a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.mosaic_grid_capable===void 0&&(c.mosaic_grid_capable=!1);return c}function m(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").STRUCT?c.participant_media_info=l(a):a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();return c}function n(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:if(e===b("ThriftTypes").MAP){c.participant_media_infos={};d=a.readMapBegin();for(var f=0;f<d.size;f++){var g=a.readString(),h=l(a);c.participant_media_infos[g]=h}}else a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.participant_media_infos===void 0&&(c.participant_media_infos={});return c}f.VideoSize$DefaultConstructor=a;f.ParticipantMediaInfo$DefaultConstructor=c;f.MediaInformationInputState$DefaultConstructor=d;f.MediaInformationOutputState$DefaultConstructor=e;f.serializeVideoSize=g;f.serializeParticipantMediaInfo=h;f.serializeMediaInformationInputState=i;f.serializeMediaInformationOutputState=j;f.deserializeVideoSize=k;f.deserializeParticipantMediaInfo=l;f.deserializeMediaInformationInputState=m;f.deserializeMediaInformationOutputState=n}),66);
__d("MediaSyncAutoplayStateMediaSyncAutoplayStateTypes",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({COUNTDOWN:1,CANCELED:2});e.exports={DisplayState:a}}),null);
__d("MediaSyncStateMediaSyncStateTypes",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";c=(a=b("$InternalEnum"))({UNKNOWN:0,INSTAGRAM:1,FACEBOOK_VIDEO:2,FACEBOOK_POST:3,MESSAGING:4});d=a({PLAY:1,PAUSE:2,STOP:3});f=a({UNKNOWN:0,IMAGE:1,VIDEO:2,IGTV:3,CAROUSEL:4});b=a({UNKNOWN:0,FEED:1,REELS:2});var g=a({NONE:0,PLAY:1,PAUSE:2,STOP:3,RESUME:4,SEEK_FORWARD:5,SEEK_BACKWARD:6,AUTOPLAY:7}),h=a({UNKNOWN:0,NOT_SAVABLE:1,NOT_SAVED:2,SAVED:3,ARCHIVED:4});a=a({UNKNOWN:0,FORWARD:1,BACKWARD:2});e.exports={Action:d,AdminMessageType:g,InstagramMediaType:f,InstagramProductType:b,PlayMediaSwipeDirection:a,SavedState:h,Source:c}}),null);
__d("MediaSyncStateMediaSyncStateSerializers",["MediaSyncStateMediaSyncStateTypes","ThriftTypes","jsbi"],(function(a,b,c,d,e,f){"use strict";function g(){return{action:b("MediaSyncStateMediaSyncStateTypes").Action.cast(0),action_metadata:i(),content_id:"",content_source:b("MediaSyncStateMediaSyncStateTypes").Source.cast(0),admin_message_type:b("MediaSyncStateMediaSyncStateTypes").AdminMessageType.cast(0)}}function a(){return{action:b("MediaSyncStateMediaSyncStateTypes").Action.cast(0),action_metadata:i(),actor:h(),content:j(),content_source:b("MediaSyncStateMediaSyncStateTypes").Source.cast(0),content_id:"",admin_message_type:b("MediaSyncStateMediaSyncStateTypes").AdminMessageType.cast(0)}}function c(){return{latest_input:g(),latest_actor_id:"",latest_new_content_start_time_ms:"0",history:[]}}function h(){return{user_id:"",username:"",avatar_url:""}}function i(){return{media_position_ms:"0",action_time_ms:"0"}}function j(){return{}}function d(){return{content_id:"",owner:k(),media_type:b("MediaSyncStateMediaSyncStateTypes").InstagramMediaType.cast(0),thumbnail_url:"",product_type:b("MediaSyncStateMediaSyncStateTypes").InstagramProductType.cast(0)}}function k(){return{user_id:"",username:"",avatar_url:""}}function e(){return{content_id:"",video:n(),is_live_streaming:!1,is_reportable:!1,available_caption_locales:[],is_non_interactable:!1}}function l(){return{content_id:"",title:"",message:""}}function m(){return{content_id:"",cover_image_url:""}}function n(){return{duration_ms:"0",aspect_ratio:0}}function o(){return{}}function p(){return{url:"",height:0,width:0}}function q(){return{locale:"",localized_language:"",captions_url:""}}function r(){return{artist_name:"",song_title:""}}function s(){return{}}function aa(){return{content_source:b("MediaSyncStateMediaSyncStateTypes").Source.cast(0),content_id:""}}function ba(){return{action:b("MediaSyncStateMediaSyncStateTypes").Action.cast(0),action_metadata:i(),admin_message_type:b("MediaSyncStateMediaSyncStateTypes").AdminMessageType.cast(0),content_id:"",content_source:b("MediaSyncStateMediaSyncStateTypes").Source.cast(0),actor_id:""}}function ca(){return{last_content_source:b("MediaSyncStateMediaSyncStateTypes").Source.cast(0),count:0}}function da(){return{product_id:"",product_name:"",product_position_x:"",product_position_y:""}}function t(a,c){c.writeStructBegin("MediaSyncInputState");c.writeFieldBegin({fname:"action",ftype:b("ThriftTypes").I32,fid:1});if(a.action!=null){var d;c.writeI32((d=a.action)!=null?d:0)}else{d=b("MediaSyncStateMediaSyncStateTypes").Action.cast(0);c.writeI32((d=d)!=null?d:0)}c.writeFieldEnd();c.writeFieldBegin({fname:"action_metadata",ftype:b("ThriftTypes").STRUCT,fid:2});if(a.action_metadata!=null)v(a.action_metadata,c);else{d=i();v(d,c)}c.writeFieldEnd();c.writeFieldBegin({fname:"content_id",ftype:b("ThriftTypes").STRING,fid:3});if(a.content_id!=null)c.writeString(a.content_id);else{d="";c.writeString(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"content_source",ftype:b("ThriftTypes").I32,fid:4});if(a.content_source!=null){c.writeI32((d=a.content_source)!=null?d:0)}else{d=b("MediaSyncStateMediaSyncStateTypes").Source.cast(0);c.writeI32((d=d)!=null?d:0)}c.writeFieldEnd();c.writeFieldBegin({fname:"admin_message_type",ftype:b("ThriftTypes").I32,fid:5});if(a.admin_message_type!=null){c.writeI32((d=a.admin_message_type)!=null?d:0)}else{d=b("MediaSyncStateMediaSyncStateTypes").AdminMessageType.cast(0);c.writeI32((d=d)!=null?d:0)}c.writeFieldEnd();a.skip_autoplay_candidate_generation!=null&&(c.writeFieldBegin({fname:"skip_autoplay_candidate_generation",ftype:b("ThriftTypes").BOOL,fid:6}),c.writeBool(a.skip_autoplay_candidate_generation),c.writeFieldEnd());a.seed_content_id!=null&&(c.writeFieldBegin({fname:"seed_content_id",ftype:b("ThriftTypes").STRING,fid:7}),c.writeString(a.seed_content_id),c.writeFieldEnd());a.initiator_id!=null&&(c.writeFieldBegin({fname:"initiator_id",ftype:b("ThriftTypes").STRING,fid:8}),c.writeString(a.initiator_id),c.writeFieldEnd());c.writeFieldStop();c.writeStructEnd()}function ea(a,c){c.writeStructBegin("MediaSyncOutputState");c.writeFieldBegin({fname:"action",ftype:b("ThriftTypes").I32,fid:1});if(a.action!=null){var d;c.writeI32((d=a.action)!=null?d:0)}else{d=b("MediaSyncStateMediaSyncStateTypes").Action.cast(0);c.writeI32((d=d)!=null?d:0)}c.writeFieldEnd();c.writeFieldBegin({fname:"action_metadata",ftype:b("ThriftTypes").STRUCT,fid:2});if(a.action_metadata!=null)v(a.action_metadata,c);else{d=i();v(d,c)}c.writeFieldEnd();c.writeFieldBegin({fname:"actor",ftype:b("ThriftTypes").STRUCT,fid:3});if(a.actor!=null)u(a.actor,c);else{d=h();u(d,c)}c.writeFieldEnd();c.writeFieldBegin({fname:"content",ftype:b("ThriftTypes").STRUCT,fid:4});if(a.content!=null)w(a.content,c);else{d=j();w(d,c)}c.writeFieldEnd();c.writeFieldBegin({fname:"content_source",ftype:b("ThriftTypes").I32,fid:5});if(a.content_source!=null){c.writeI32((d=a.content_source)!=null?d:0)}else{d=b("MediaSyncStateMediaSyncStateTypes").Source.cast(0);c.writeI32((d=d)!=null?d:0)}c.writeFieldEnd();c.writeFieldBegin({fname:"content_id",ftype:b("ThriftTypes").STRING,fid:6});if(a.content_id!=null)c.writeString(a.content_id);else{d="";c.writeString(d)}c.writeFieldEnd();a.admin_message!=null&&(c.writeFieldBegin({fname:"admin_message",ftype:b("ThriftTypes").STRING,fid:7}),c.writeString(a.admin_message),c.writeFieldEnd());c.writeFieldBegin({fname:"admin_message_type",ftype:b("ThriftTypes").I32,fid:8});if(a.admin_message_type!=null){c.writeI32((d=a.admin_message_type)!=null?d:0)}else{d=b("MediaSyncStateMediaSyncStateTypes").AdminMessageType.cast(0);c.writeI32((d=d)!=null?d:0)}c.writeFieldEnd();a.seed_content_id!=null&&(c.writeFieldBegin({fname:"seed_content_id",ftype:b("ThriftTypes").STRING,fid:9}),c.writeString(a.seed_content_id),c.writeFieldEnd());a.initiator_id!=null&&(c.writeFieldBegin({fname:"initiator_id",ftype:b("ThriftTypes").STRING,fid:10}),c.writeString(a.initiator_id),c.writeFieldEnd());c.writeFieldStop();c.writeStructEnd()}function fa(a,c){c.writeStructBegin("MediaSyncConferenceOutputState");c.writeFieldBegin({fname:"latest_input",ftype:b("ThriftTypes").STRUCT,fid:1});if(a.latest_input!=null)t(a.latest_input,c);else{var d=g();t(d,c)}c.writeFieldEnd();c.writeFieldBegin({fname:"latest_actor_id",ftype:b("ThriftTypes").STRING,fid:2});if(a.latest_actor_id!=null)c.writeString(a.latest_actor_id);else{d="";c.writeString(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"latest_new_content_start_time_ms",ftype:b("ThriftTypes").I64,fid:3});if(a.latest_new_content_start_time_ms!=null)c.writeI64(b("jsbi").BigInt(a.latest_new_content_start_time_ms));else{d="0";c.writeI64(b("jsbi").BigInt(d))}c.writeFieldEnd();c.writeFieldBegin({fname:"history",ftype:b("ThriftTypes").LIST,fid:4});if(a.history!=null){c.writeListBegin({etype:b("ThriftTypes").STRUCT,size:a.history.length});for(var d=a.history,a=Array.isArray(d),e=0,d=a?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(a){if(e>=d.length)break;f=d[e++]}else{e=d.next();if(e.done)break;f=e.value}f=f;I(f,c)}c.writeListEnd()}else{f=[];c.writeListBegin({etype:b("ThriftTypes").STRUCT,size:f.length});for(e=0;e<f.length;e++){a=f[e];I(a,c)}c.writeListEnd()}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function u(a,c){c.writeStructBegin("Actor");c.writeFieldBegin({fname:"user_id",ftype:b("ThriftTypes").STRING,fid:1});if(a.user_id!=null)c.writeString(a.user_id);else{var d="";c.writeString(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"username",ftype:b("ThriftTypes").STRING,fid:2});if(a.username!=null)c.writeString(a.username);else{d="";c.writeString(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"avatar_url",ftype:b("ThriftTypes").STRING,fid:3});if(a.avatar_url!=null)c.writeString(a.avatar_url);else{d="";c.writeString(d)}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function v(a,c){c.writeStructBegin("ActionMetadata");c.writeFieldBegin({fname:"media_position_ms",ftype:b("ThriftTypes").I64,fid:1});if(a.media_position_ms!=null)c.writeI64(b("jsbi").BigInt(a.media_position_ms));else{var d="0";c.writeI64(b("jsbi").BigInt(d))}c.writeFieldEnd();c.writeFieldBegin({fname:"action_time_ms",ftype:b("ThriftTypes").I64,fid:2});if(a.action_time_ms!=null)c.writeI64(b("jsbi").BigInt(a.action_time_ms));else{d="0";c.writeI64(b("jsbi").BigInt(d))}c.writeFieldEnd();a.autoplay_action_id!=null&&(c.writeFieldBegin({fname:"autoplay_action_id",ftype:b("ThriftTypes").STRING,fid:3}),c.writeString(a.autoplay_action_id),c.writeFieldEnd());a.tab_source!=null&&(c.writeFieldBegin({fname:"tab_source",ftype:b("ThriftTypes").STRING,fid:4}),c.writeString(a.tab_source),c.writeFieldEnd());a.skip_double_write!=null&&(c.writeFieldBegin({fname:"skip_double_write",ftype:b("ThriftTypes").BOOL,fid:5}),c.writeBool(a.skip_double_write),c.writeFieldEnd());a.ads_metadata!=null&&(c.writeFieldBegin({fname:"ads_metadata",ftype:b("ThriftTypes").STRUCT,fid:6}),H(a.ads_metadata,c),c.writeFieldEnd());a.carousel_item_index!=null&&(c.writeFieldBegin({fname:"carousel_item_index",ftype:b("ThriftTypes").I32,fid:7}),c.writeI32(a.carousel_item_index),c.writeFieldEnd());if(a.play_media_swipe_direction!=null){c.writeFieldBegin({fname:"play_media_swipe_direction",ftype:b("ThriftTypes").I32,fid:8});c.writeI32((d=a.play_media_swipe_direction)!=null?d:0);c.writeFieldEnd()}a.suggested_index!=null&&(c.writeFieldBegin({fname:"suggested_index",ftype:b("ThriftTypes").I32,fid:9}),c.writeI32(a.suggested_index),c.writeFieldEnd());a.cursor!=null&&(c.writeFieldBegin({fname:"cursor",ftype:b("ThriftTypes").STRING,fid:10}),c.writeString(a.cursor),c.writeFieldEnd());a.suggested_context!=null&&(c.writeFieldBegin({fname:"suggested_context",ftype:b("ThriftTypes").STRING,fid:11}),c.writeString(a.suggested_context),c.writeFieldEnd());c.writeFieldStop();c.writeStructEnd()}function w(a,c){c.writeStructBegin("Content"),a.placeholder!=null&&(c.writeFieldBegin({fname:"placeholder",ftype:b("ThriftTypes").STRUCT,fid:1}),A(a.placeholder,c),c.writeFieldEnd()),a.fallback!=null&&(c.writeFieldBegin({fname:"fallback",ftype:b("ThriftTypes").STRUCT,fid:2}),B(a.fallback,c),c.writeFieldEnd()),a.ig_content!=null&&(c.writeFieldBegin({fname:"ig_content",ftype:b("ThriftTypes").STRUCT,fid:3}),x(a.ig_content,c),c.writeFieldEnd()),a.fb_video!=null&&(c.writeFieldBegin({fname:"fb_video",ftype:b("ThriftTypes").STRUCT,fid:4}),z(a.fb_video,c),c.writeFieldEnd()),c.writeFieldStop(),c.writeStructEnd()}function x(a,c){c.writeStructBegin("InstagramContent");c.writeFieldBegin({fname:"content_id",ftype:b("ThriftTypes").STRING,fid:1});if(a.content_id!=null)c.writeString(a.content_id);else{var d="";c.writeString(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"owner",ftype:b("ThriftTypes").STRUCT,fid:2});if(a.owner!=null)y(a.owner,c);else{d=k();y(d,c)}c.writeFieldEnd();c.writeFieldBegin({fname:"media_type",ftype:b("ThriftTypes").I32,fid:3});if(a.media_type!=null){c.writeI32((d=a.media_type)!=null?d:0)}else{d=b("MediaSyncStateMediaSyncStateTypes").InstagramMediaType.cast(0);c.writeI32((d=d)!=null?d:0)}c.writeFieldEnd();c.writeFieldBegin({fname:"thumbnail_url",ftype:b("ThriftTypes").STRING,fid:4});if(a.thumbnail_url!=null)c.writeString(a.thumbnail_url);else{d="";c.writeString(d)}c.writeFieldEnd();if(a.images!=null){c.writeFieldBegin({fname:"images",ftype:b("ThriftTypes").LIST,fid:5});c.writeListBegin({etype:b("ThriftTypes").STRUCT,size:a.images.length});for(var d=a.images,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=d.length)break;g=d[f++]}else{f=d.next();if(f.done)break;g=f.value}g=g;E(g,c)}c.writeListEnd();c.writeFieldEnd()}a.video!=null&&(c.writeFieldBegin({fname:"video",ftype:b("ThriftTypes").STRUCT,fid:6}),C(a.video,c),c.writeFieldEnd());if(a.carousel!=null){c.writeFieldBegin({fname:"carousel",ftype:b("ThriftTypes").LIST,fid:7});c.writeListBegin({etype:b("ThriftTypes").STRUCT,size:a.carousel.length});for(g=a.carousel,f=Array.isArray(g),e=0,g=f?g:g[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(f){if(e>=g.length)break;d=g[e++]}else{e=g.next();if(e.done)break;d=e.value}d=d;x(d,c)}c.writeListEnd();c.writeFieldEnd()}a.audio_attribution!=null&&(c.writeFieldBegin({fname:"audio_attribution",ftype:b("ThriftTypes").STRUCT,fid:8}),G(a.audio_attribution,c),c.writeFieldEnd());c.writeFieldBegin({fname:"product_type",ftype:b("ThriftTypes").I32,fid:9});if(a.product_type!=null){c.writeI32((d=a.product_type)!=null?d:0)}else{e=b("MediaSyncStateMediaSyncStateTypes").InstagramProductType.cast(0);c.writeI32((f=e)!=null?f:0)}c.writeFieldEnd();a.tracking_token!=null&&(c.writeFieldBegin({fname:"tracking_token",ftype:b("ThriftTypes").STRING,fid:10}),c.writeString(a.tracking_token),c.writeFieldEnd());if(a.shopping_product_tags!=null){c.writeFieldBegin({fname:"shopping_product_tags",ftype:b("ThriftTypes").LIST,fid:11});c.writeListBegin({etype:b("ThriftTypes").STRUCT,size:a.shopping_product_tags.length});for(g=a.shopping_product_tags,d=Array.isArray(g),e=0,g=d?g:g[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(d){if(e>=g.length)break;f=g[e++]}else{e=g.next();if(e.done)break;f=e.value}a=f;J(a,c)}c.writeListEnd();c.writeFieldEnd()}c.writeFieldStop();c.writeStructEnd()}function y(a,c){c.writeStructBegin("InstagramContentOwner");c.writeFieldBegin({fname:"user_id",ftype:b("ThriftTypes").STRING,fid:1});if(a.user_id!=null)c.writeString(a.user_id);else{var d="";c.writeString(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"username",ftype:b("ThriftTypes").STRING,fid:2});if(a.username!=null)c.writeString(a.username);else{d="";c.writeString(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"avatar_url",ftype:b("ThriftTypes").STRING,fid:3});if(a.avatar_url!=null)c.writeString(a.avatar_url);else{d="";c.writeString(d)}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function z(a,c){c.writeStructBegin("FacebookVideo");c.writeFieldBegin({fname:"content_id",ftype:b("ThriftTypes").STRING,fid:1});if(a.content_id!=null)c.writeString(a.content_id);else{var d="";c.writeString(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"video",ftype:b("ThriftTypes").STRUCT,fid:2});if(a.video!=null)C(a.video,c);else{d=n();C(d,c)}c.writeFieldEnd();a.thumbnail!=null&&(c.writeFieldBegin({fname:"thumbnail",ftype:b("ThriftTypes").STRUCT,fid:3}),E(a.thumbnail,c),c.writeFieldEnd());a.title!=null&&(c.writeFieldBegin({fname:"title",ftype:b("ThriftTypes").STRING,fid:4}),c.writeString(a.title),c.writeFieldEnd());a.subtitle!=null&&(c.writeFieldBegin({fname:"subtitle",ftype:b("ThriftTypes").STRING,fid:5}),c.writeString(a.subtitle),c.writeFieldEnd());c.writeFieldBegin({fname:"is_live_streaming",ftype:b("ThriftTypes").BOOL,fid:6});if(a.is_live_streaming!=null)c.writeBool(a.is_live_streaming);else{d=!1;c.writeBool(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"is_reportable",ftype:b("ThriftTypes").BOOL,fid:7});if(a.is_reportable!=null)c.writeBool(a.is_reportable);else{d=!1;c.writeBool(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"available_caption_locales",ftype:b("ThriftTypes").LIST,fid:8});if(a.available_caption_locales!=null){c.writeListBegin({etype:b("ThriftTypes").STRUCT,size:a.available_caption_locales.length});for(var d=a.available_caption_locales,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=d.length)break;g=d[f++]}else{f=d.next();if(f.done)break;g=f.value}g=g;F(g,c)}c.writeListEnd()}else{g=[];c.writeListBegin({etype:b("ThriftTypes").STRUCT,size:g.length});for(f=0;f<g.length;f++){e=g[f];F(e,c)}c.writeListEnd()}c.writeFieldEnd();c.writeFieldBegin({fname:"is_non_interactable",ftype:b("ThriftTypes").BOOL,fid:9});if(a.is_non_interactable!=null)c.writeBool(a.is_non_interactable);else{d=!1;c.writeBool(d)}c.writeFieldEnd();a.content_rating!=null&&(c.writeFieldBegin({fname:"content_rating",ftype:b("ThriftTypes").STRING,fid:10}),c.writeString(a.content_rating),c.writeFieldEnd());a.tracking!=null&&(c.writeFieldBegin({fname:"tracking",ftype:b("ThriftTypes").STRING,fid:11}),c.writeString(a.tracking),c.writeFieldEnd());if(a.saved_state!=null){c.writeFieldBegin({fname:"saved_state",ftype:b("ThriftTypes").I32,fid:12});c.writeI32((e=a.saved_state)!=null?e:0);c.writeFieldEnd()}a.is_reels!=null&&(c.writeFieldBegin({fname:"is_reels",ftype:b("ThriftTypes").BOOL,fid:13}),c.writeBool(a.is_reels),c.writeFieldEnd());a.reels_metadata!=null&&(c.writeFieldBegin({fname:"reels_metadata",ftype:b("ThriftTypes").STRUCT,fid:14}),D(a.reels_metadata,c),c.writeFieldEnd());c.writeFieldStop();c.writeStructEnd()}function A(a,c){c.writeStructBegin("Placeholder");c.writeFieldBegin({fname:"content_id",ftype:b("ThriftTypes").STRING,fid:1});if(a.content_id!=null)c.writeString(a.content_id);else{var d="";c.writeString(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"title",ftype:b("ThriftTypes").STRING,fid:2});if(a.title!=null)c.writeString(a.title);else{d="";c.writeString(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"message",ftype:b("ThriftTypes").STRING,fid:3});if(a.message!=null)c.writeString(a.message);else{d="";c.writeString(d)}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function B(a,c){c.writeStructBegin("Fallback");c.writeFieldBegin({fname:"content_id",ftype:b("ThriftTypes").STRING,fid:1});if(a.content_id!=null)c.writeString(a.content_id);else{var d="";c.writeString(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"cover_image_url",ftype:b("ThriftTypes").STRING,fid:2});if(a.cover_image_url!=null)c.writeString(a.cover_image_url);else{d="";c.writeString(d)}c.writeFieldEnd();a.message!=null&&(c.writeFieldBegin({fname:"message",ftype:b("ThriftTypes").STRING,fid:3}),c.writeString(a.message),c.writeFieldEnd());a.video!=null&&(c.writeFieldBegin({fname:"video",ftype:b("ThriftTypes").STRUCT,fid:4}),C(a.video,c),c.writeFieldEnd());a.attribution_image_url!=null&&(c.writeFieldBegin({fname:"attribution_image_url",ftype:b("ThriftTypes").STRING,fid:5}),c.writeString(a.attribution_image_url),c.writeFieldEnd());a.attribution!=null&&(c.writeFieldBegin({fname:"attribution",ftype:b("ThriftTypes").STRING,fid:6}),c.writeString(a.attribution),c.writeFieldEnd());a.aspect_ratio!=null&&(c.writeFieldBegin({fname:"aspect_ratio",ftype:b("ThriftTypes").FLOAT,fid:7}),c.writeFloat(a.aspect_ratio),c.writeFieldEnd());c.writeFieldStop();c.writeStructEnd()}function C(a,c){c.writeStructBegin("Video");a.dash_manifest!=null&&(c.writeFieldBegin({fname:"dash_manifest",ftype:b("ThriftTypes").STRING,fid:2}),c.writeString(a.dash_manifest),c.writeFieldEnd());c.writeFieldBegin({fname:"duration_ms",ftype:b("ThriftTypes").I64,fid:3});if(a.duration_ms!=null)c.writeI64(b("jsbi").BigInt(a.duration_ms));else{var d="0";c.writeI64(b("jsbi").BigInt(d))}c.writeFieldEnd();c.writeFieldBegin({fname:"aspect_ratio",ftype:b("ThriftTypes").FLOAT,fid:4});if(a.aspect_ratio!=null)c.writeFloat(a.aspect_ratio);else{d=0;c.writeFloat(d)}c.writeFieldEnd();a.url!=null&&(c.writeFieldBegin({fname:"url",ftype:b("ThriftTypes").STRUCT,fid:5}),E(a.url,c),c.writeFieldEnd());c.writeFieldStop();c.writeStructEnd()}function D(a,c){c.writeStructBegin("ReelsMetadata"),a.reels_media_source!=null&&(c.writeFieldBegin({fname:"reels_media_source",ftype:b("ThriftTypes").STRING,fid:1}),c.writeString(a.reels_media_source),c.writeFieldEnd()),a.user_name!=null&&(c.writeFieldBegin({fname:"user_name",ftype:b("ThriftTypes").STRING,fid:2}),c.writeString(a.user_name),c.writeFieldEnd()),a.avatar_url!=null&&(c.writeFieldBegin({fname:"avatar_url",ftype:b("ThriftTypes").STRING,fid:3}),c.writeString(a.avatar_url),c.writeFieldEnd()),a.music_title!=null&&(c.writeFieldBegin({fname:"music_title",ftype:b("ThriftTypes").STRING,fid:4}),c.writeString(a.music_title),c.writeFieldEnd()),a.effects_title!=null&&(c.writeFieldBegin({fname:"effects_title",ftype:b("ThriftTypes").STRING,fid:5}),c.writeString(a.effects_title),c.writeFieldEnd()),a.like_count!=null&&(c.writeFieldBegin({fname:"like_count",ftype:b("ThriftTypes").STRING,fid:6}),c.writeString(a.like_count),c.writeFieldEnd()),a.comment_count!=null&&(c.writeFieldBegin({fname:"comment_count",ftype:b("ThriftTypes").STRING,fid:7}),c.writeString(a.comment_count),c.writeFieldEnd()),a.share_count!=null&&(c.writeFieldBegin({fname:"share_count",ftype:b("ThriftTypes").STRING,fid:8}),c.writeString(a.share_count),c.writeFieldEnd()),a.is_viewer_liked!=null&&(c.writeFieldBegin({fname:"is_viewer_liked",ftype:b("ThriftTypes").BOOL,fid:9}),c.writeBool(a.is_viewer_liked),c.writeFieldEnd()),c.writeFieldStop(),c.writeStructEnd()}function E(a,c){c.writeStructBegin("SizedUrl");c.writeFieldBegin({fname:"url",ftype:b("ThriftTypes").STRING,fid:1});if(a.url!=null)c.writeString(a.url);else{var d="";c.writeString(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"height",ftype:b("ThriftTypes").I32,fid:2});if(a.height!=null)c.writeI32(a.height);else{d=0;c.writeI32(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"width",ftype:b("ThriftTypes").I32,fid:3});if(a.width!=null)c.writeI32(a.width);else{d=0;c.writeI32(d)}c.writeFieldEnd();a.type!=null&&(c.writeFieldBegin({fname:"type",ftype:b("ThriftTypes").STRING,fid:4}),c.writeString(a.type),c.writeFieldEnd());c.writeFieldStop();c.writeStructEnd()}function F(a,c){c.writeStructBegin("CaptionLocales");c.writeFieldBegin({fname:"locale",ftype:b("ThriftTypes").STRING,fid:1});if(a.locale!=null)c.writeString(a.locale);else{var d="";c.writeString(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"localized_language",ftype:b("ThriftTypes").STRING,fid:2});if(a.localized_language!=null)c.writeString(a.localized_language);else{d="";c.writeString(d)}c.writeFieldEnd();a.localized_country!=null&&(c.writeFieldBegin({fname:"localized_country",ftype:b("ThriftTypes").STRING,fid:3}),c.writeString(a.localized_country),c.writeFieldEnd());a.localized_creation_method!=null&&(c.writeFieldBegin({fname:"localized_creation_method",ftype:b("ThriftTypes").STRING,fid:4}),c.writeString(a.localized_creation_method),c.writeFieldEnd());c.writeFieldBegin({fname:"captions_url",ftype:b("ThriftTypes").STRING,fid:5});if(a.captions_url!=null)c.writeString(a.captions_url);else{d="";c.writeString(d)}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function G(a,c){c.writeStructBegin("AudioAttribution");c.writeFieldBegin({fname:"artist_name",ftype:b("ThriftTypes").STRING,fid:1});if(a.artist_name!=null)c.writeString(a.artist_name);else{var d="";c.writeString(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"song_title",ftype:b("ThriftTypes").STRING,fid:2});if(a.song_title!=null)c.writeString(a.song_title);else{d="";c.writeString(d)}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function H(a,c){c.writeStructBegin("AdsMetadata"),a.ad_break_start_time_ms!=null&&(c.writeFieldBegin({fname:"ad_break_start_time_ms",ftype:b("ThriftTypes").I64,fid:1}),c.writeI64(b("jsbi").BigInt(a.ad_break_start_time_ms)),c.writeFieldEnd()),c.writeFieldStop(),c.writeStructEnd()}function I(a,c){c.writeStructBegin("HistoryRecord");c.writeFieldBegin({fname:"content_source",ftype:b("ThriftTypes").I32,fid:1});if(a.content_source!=null){var d;c.writeI32((d=a.content_source)!=null?d:0)}else{d=b("MediaSyncStateMediaSyncStateTypes").Source.cast(0);c.writeI32((d=d)!=null?d:0)}c.writeFieldEnd();c.writeFieldBegin({fname:"content_id",ftype:b("ThriftTypes").STRING,fid:2});if(a.content_id!=null)c.writeString(a.content_id);else{d="";c.writeString(d)}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function ga(a,c){c.writeStructBegin("E2EEMediaSyncPayload");c.writeFieldBegin({fname:"action",ftype:b("ThriftTypes").I32,fid:1});if(a.action!=null){var d;c.writeI32((d=a.action)!=null?d:0)}else{d=b("MediaSyncStateMediaSyncStateTypes").Action.cast(0);c.writeI32((d=d)!=null?d:0)}c.writeFieldEnd();c.writeFieldBegin({fname:"action_metadata",ftype:b("ThriftTypes").STRUCT,fid:2});if(a.action_metadata!=null)v(a.action_metadata,c);else{d=i();v(d,c)}c.writeFieldEnd();c.writeFieldBegin({fname:"admin_message_type",ftype:b("ThriftTypes").I32,fid:3});if(a.admin_message_type!=null){c.writeI32((d=a.admin_message_type)!=null?d:0)}else{d=b("MediaSyncStateMediaSyncStateTypes").AdminMessageType.cast(0);c.writeI32((d=d)!=null?d:0)}c.writeFieldEnd();c.writeFieldBegin({fname:"content_id",ftype:b("ThriftTypes").STRING,fid:4});if(a.content_id!=null)c.writeString(a.content_id);else{d="";c.writeString(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"content_source",ftype:b("ThriftTypes").I32,fid:5});if(a.content_source!=null){c.writeI32((d=a.content_source)!=null?d:0)}else{d=b("MediaSyncStateMediaSyncStateTypes").Source.cast(0);c.writeI32((d=d)!=null?d:0)}c.writeFieldEnd();c.writeFieldBegin({fname:"actor_id",ftype:b("ThriftTypes").STRING,fid:6});if(a.actor_id!=null)c.writeString(a.actor_id);else{d="";c.writeString(d)}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function ha(a,c){c.writeStructBegin("E2EEPMVAdBumperCount");a.last_content_id!=null&&(c.writeFieldBegin({fname:"last_content_id",ftype:b("ThriftTypes").STRING,fid:1}),c.writeString(a.last_content_id),c.writeFieldEnd());c.writeFieldBegin({fname:"last_content_source",ftype:b("ThriftTypes").I32,fid:2});if(a.last_content_source!=null){var d;c.writeI32((d=a.last_content_source)!=null?d:0)}else{d=b("MediaSyncStateMediaSyncStateTypes").Source.cast(0);c.writeI32((d=d)!=null?d:0)}c.writeFieldEnd();c.writeFieldBegin({fname:"count",ftype:b("ThriftTypes").I32,fid:3});if(a.count!=null)c.writeI32(a.count);else{d=0;c.writeI32(d)}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function J(a,c){c.writeStructBegin("ShoppingProductTag");c.writeFieldBegin({fname:"product_id",ftype:b("ThriftTypes").STRING,fid:1});if(a.product_id!=null)c.writeString(a.product_id);else{var d="";c.writeString(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"product_name",ftype:b("ThriftTypes").STRING,fid:2});if(a.product_name!=null)c.writeString(a.product_name);else{d="";c.writeString(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"product_position_x",ftype:b("ThriftTypes").STRING,fid:3});if(a.product_position_x!=null)c.writeString(a.product_position_x);else{d="";c.writeString(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"product_position_y",ftype:b("ThriftTypes").STRING,fid:4});if(a.product_position_y!=null)c.writeString(a.product_position_y);else{d="";c.writeString(d)}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function K(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").I32?c.action=b("MediaSyncStateMediaSyncStateTypes").Action.cast(a.readI32()):a.skip(e);break;case 2:e===b("ThriftTypes").STRUCT?c.action_metadata=M(a):a.skip(e);break;case 3:e===b("ThriftTypes").STRING?c.content_id=a.readString():a.skip(e);break;case 4:e===b("ThriftTypes").I32?c.content_source=b("MediaSyncStateMediaSyncStateTypes").Source.cast(a.readI32()):a.skip(e);break;case 5:e===b("ThriftTypes").I32?c.admin_message_type=b("MediaSyncStateMediaSyncStateTypes").AdminMessageType.cast(a.readI32()):a.skip(e);break;case 6:e===b("ThriftTypes").BOOL?c.skip_autoplay_candidate_generation=a.readBool():a.skip(e);break;case 7:e===b("ThriftTypes").STRING?c.seed_content_id=a.readString():a.skip(e);break;case 8:e===b("ThriftTypes").STRING?c.initiator_id=a.readString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.action===void 0&&(c.action=b("MediaSyncStateMediaSyncStateTypes").Action.cast(0));c.action_metadata===void 0&&(c.action_metadata=i());c.content_id===void 0&&(c.content_id="");c.content_source===void 0&&(c.content_source=b("MediaSyncStateMediaSyncStateTypes").Source.cast(0));c.admin_message_type===void 0&&(c.admin_message_type=b("MediaSyncStateMediaSyncStateTypes").AdminMessageType.cast(0));return c}function ia(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").I32?c.action=b("MediaSyncStateMediaSyncStateTypes").Action.cast(a.readI32()):a.skip(e);break;case 2:e===b("ThriftTypes").STRUCT?c.action_metadata=M(a):a.skip(e);break;case 3:e===b("ThriftTypes").STRUCT?c.actor=L(a):a.skip(e);break;case 4:e===b("ThriftTypes").STRUCT?c.content=N(a):a.skip(e);break;case 5:e===b("ThriftTypes").I32?c.content_source=b("MediaSyncStateMediaSyncStateTypes").Source.cast(a.readI32()):a.skip(e);break;case 6:e===b("ThriftTypes").STRING?c.content_id=a.readString():a.skip(e);break;case 7:e===b("ThriftTypes").STRING?c.admin_message=a.readString():a.skip(e);break;case 8:e===b("ThriftTypes").I32?c.admin_message_type=b("MediaSyncStateMediaSyncStateTypes").AdminMessageType.cast(a.readI32()):a.skip(e);break;case 9:e===b("ThriftTypes").STRING?c.seed_content_id=a.readString():a.skip(e);break;case 10:e===b("ThriftTypes").STRING?c.initiator_id=a.readString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.action===void 0&&(c.action=b("MediaSyncStateMediaSyncStateTypes").Action.cast(0));c.action_metadata===void 0&&(c.action_metadata=i());c.actor===void 0&&(c.actor=h());c.content===void 0&&(c.content=j());c.content_source===void 0&&(c.content_source=b("MediaSyncStateMediaSyncStateTypes").Source.cast(0));c.content_id===void 0&&(c.content_id="");c.admin_message_type===void 0&&(c.admin_message_type=b("MediaSyncStateMediaSyncStateTypes").AdminMessageType.cast(0));return c}function ja(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").STRUCT?c.latest_input=K(a):a.skip(e);break;case 2:e===b("ThriftTypes").STRING?c.latest_actor_id=a.readString():a.skip(e);break;case 3:e===b("ThriftTypes").I64?c.latest_new_content_start_time_ms=a.readI64().toString():a.skip(e);break;case 4:if(e===b("ThriftTypes").LIST){c.history=[];d=a.readListBegin();for(var f=0;f<d.size;f++){var h=Z(a);c.history.push(h)}}else a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.latest_input===void 0&&(c.latest_input=g());c.latest_actor_id===void 0&&(c.latest_actor_id="");c.latest_new_content_start_time_ms===void 0&&(c.latest_new_content_start_time_ms="0");c.history===void 0&&(c.history=[]);return c}function L(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").STRING?c.user_id=a.readString():a.skip(e);break;case 2:e===b("ThriftTypes").STRING?c.username=a.readString():a.skip(e);break;case 3:e===b("ThriftTypes").STRING?c.avatar_url=a.readString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.user_id===void 0&&(c.user_id="");c.username===void 0&&(c.username="");c.avatar_url===void 0&&(c.avatar_url="");return c}function M(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").I64?c.media_position_ms=a.readI64().toString():a.skip(e);break;case 2:e===b("ThriftTypes").I64?c.action_time_ms=a.readI64().toString():a.skip(e);break;case 3:e===b("ThriftTypes").STRING?c.autoplay_action_id=a.readString():a.skip(e);break;case 4:e===b("ThriftTypes").STRING?c.tab_source=a.readString():a.skip(e);break;case 5:e===b("ThriftTypes").BOOL?c.skip_double_write=a.readBool():a.skip(e);break;case 6:e===b("ThriftTypes").STRUCT?c.ads_metadata=Y(a):a.skip(e);break;case 7:e===b("ThriftTypes").I32?c.carousel_item_index=a.readI32():a.skip(e);break;case 8:e===b("ThriftTypes").I32?c.play_media_swipe_direction=b("MediaSyncStateMediaSyncStateTypes").PlayMediaSwipeDirection.cast(a.readI32()):a.skip(e);break;case 9:e===b("ThriftTypes").I32?c.suggested_index=a.readI32():a.skip(e);break;case 10:e===b("ThriftTypes").STRING?c.cursor=a.readString():a.skip(e);break;case 11:e===b("ThriftTypes").STRING?c.suggested_context=a.readString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.media_position_ms===void 0&&(c.media_position_ms="0");c.action_time_ms===void 0&&(c.action_time_ms="0");return c}function N(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").STRUCT?c.placeholder=R(a):a.skip(e);break;case 2:e===b("ThriftTypes").STRUCT?c.fallback=S(a):a.skip(e);break;case 3:e===b("ThriftTypes").STRUCT?c.ig_content=O(a):a.skip(e);break;case 4:e===b("ThriftTypes").STRUCT?c.fb_video=Q(a):a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();return c}function O(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").STRING?c.content_id=a.readString():a.skip(e);break;case 2:e===b("ThriftTypes").STRUCT?c.owner=P(a):a.skip(e);break;case 3:e===b("ThriftTypes").I32?c.media_type=b("MediaSyncStateMediaSyncStateTypes").InstagramMediaType.cast(a.readI32()):a.skip(e);break;case 4:e===b("ThriftTypes").STRING?c.thumbnail_url=a.readString():a.skip(e);break;case 5:if(e===b("ThriftTypes").LIST){c.images=[];d=a.readListBegin();for(var f=0;f<d.size;f++){var g=V(a);c.images.push(g)}}else a.skip(e);break;case 6:e===b("ThriftTypes").STRUCT?c.video=T(a):a.skip(e);break;case 7:if(e===b("ThriftTypes").LIST){c.carousel=[];g=a.readListBegin();for(f=0;f<g.size;f++){d=O(a);c.carousel.push(d)}}else a.skip(e);break;case 8:e===b("ThriftTypes").STRUCT?c.audio_attribution=X(a):a.skip(e);break;case 9:e===b("ThriftTypes").I32?c.product_type=b("MediaSyncStateMediaSyncStateTypes").InstagramProductType.cast(a.readI32()):a.skip(e);break;case 10:e===b("ThriftTypes").STRING?c.tracking_token=a.readString():a.skip(e);break;case 11:if(e===b("ThriftTypes").LIST){c.shopping_product_tags=[];d=a.readListBegin();for(f=0;f<d.size;f++){g=$(a);c.shopping_product_tags.push(g)}}else a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.content_id===void 0&&(c.content_id="");c.owner===void 0&&(c.owner=k());c.media_type===void 0&&(c.media_type=b("MediaSyncStateMediaSyncStateTypes").InstagramMediaType.cast(0));c.thumbnail_url===void 0&&(c.thumbnail_url="");c.product_type===void 0&&(c.product_type=b("MediaSyncStateMediaSyncStateTypes").InstagramProductType.cast(0));return c}function P(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").STRING?c.user_id=a.readString():a.skip(e);break;case 2:e===b("ThriftTypes").STRING?c.username=a.readString():a.skip(e);break;case 3:e===b("ThriftTypes").STRING?c.avatar_url=a.readString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.user_id===void 0&&(c.user_id="");c.username===void 0&&(c.username="");c.avatar_url===void 0&&(c.avatar_url="");return c}function Q(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").STRING?c.content_id=a.readString():a.skip(e);break;case 2:e===b("ThriftTypes").STRUCT?c.video=T(a):a.skip(e);break;case 3:e===b("ThriftTypes").STRUCT?c.thumbnail=V(a):a.skip(e);break;case 4:e===b("ThriftTypes").STRING?c.title=a.readString():a.skip(e);break;case 5:e===b("ThriftTypes").STRING?c.subtitle=a.readString():a.skip(e);break;case 6:e===b("ThriftTypes").BOOL?c.is_live_streaming=a.readBool():a.skip(e);break;case 7:e===b("ThriftTypes").BOOL?c.is_reportable=a.readBool():a.skip(e);break;case 8:if(e===b("ThriftTypes").LIST){c.available_caption_locales=[];d=a.readListBegin();for(var f=0;f<d.size;f++){var g=W(a);c.available_caption_locales.push(g)}}else a.skip(e);break;case 9:e===b("ThriftTypes").BOOL?c.is_non_interactable=a.readBool():a.skip(e);break;case 10:e===b("ThriftTypes").STRING?c.content_rating=a.readString():a.skip(e);break;case 11:e===b("ThriftTypes").STRING?c.tracking=a.readString():a.skip(e);break;case 12:e===b("ThriftTypes").I32?c.saved_state=b("MediaSyncStateMediaSyncStateTypes").SavedState.cast(a.readI32()):a.skip(e);break;case 13:e===b("ThriftTypes").BOOL?c.is_reels=a.readBool():a.skip(e);break;case 14:e===b("ThriftTypes").STRUCT?c.reels_metadata=U(a):a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.content_id===void 0&&(c.content_id="");c.video===void 0&&(c.video=n());c.is_live_streaming===void 0&&(c.is_live_streaming=!1);c.is_reportable===void 0&&(c.is_reportable=!1);c.available_caption_locales===void 0&&(c.available_caption_locales=[]);c.is_non_interactable===void 0&&(c.is_non_interactable=!1);return c}function R(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").STRING?c.content_id=a.readString():a.skip(e);break;case 2:e===b("ThriftTypes").STRING?c.title=a.readString():a.skip(e);break;case 3:e===b("ThriftTypes").STRING?c.message=a.readString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.content_id===void 0&&(c.content_id="");c.title===void 0&&(c.title="");c.message===void 0&&(c.message="");return c}function S(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").STRING?c.content_id=a.readString():a.skip(e);break;case 2:e===b("ThriftTypes").STRING?c.cover_image_url=a.readString():a.skip(e);break;case 3:e===b("ThriftTypes").STRING?c.message=a.readString():a.skip(e);break;case 4:e===b("ThriftTypes").STRUCT?c.video=T(a):a.skip(e);break;case 5:e===b("ThriftTypes").STRING?c.attribution_image_url=a.readString():a.skip(e);break;case 6:e===b("ThriftTypes").STRING?c.attribution=a.readString():a.skip(e);break;case 7:e===b("ThriftTypes").FLOAT?c.aspect_ratio=a.readFloat():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.content_id===void 0&&(c.content_id="");c.cover_image_url===void 0&&(c.cover_image_url="");return c}function T(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 2:e===b("ThriftTypes").STRING?c.dash_manifest=a.readString():a.skip(e);break;case 3:e===b("ThriftTypes").I64?c.duration_ms=a.readI64().toString():a.skip(e);break;case 4:e===b("ThriftTypes").FLOAT?c.aspect_ratio=a.readFloat():a.skip(e);break;case 5:e===b("ThriftTypes").STRUCT?c.url=V(a):a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.duration_ms===void 0&&(c.duration_ms="0");c.aspect_ratio===void 0&&(c.aspect_ratio=0);return c}function U(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").STRING?c.reels_media_source=a.readString():a.skip(e);break;case 2:e===b("ThriftTypes").STRING?c.user_name=a.readString():a.skip(e);break;case 3:e===b("ThriftTypes").STRING?c.avatar_url=a.readString():a.skip(e);break;case 4:e===b("ThriftTypes").STRING?c.music_title=a.readString():a.skip(e);break;case 5:e===b("ThriftTypes").STRING?c.effects_title=a.readString():a.skip(e);break;case 6:e===b("ThriftTypes").STRING?c.like_count=a.readString():a.skip(e);break;case 7:e===b("ThriftTypes").STRING?c.comment_count=a.readString():a.skip(e);break;case 8:e===b("ThriftTypes").STRING?c.share_count=a.readString():a.skip(e);break;case 9:e===b("ThriftTypes").BOOL?c.is_viewer_liked=a.readBool():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();return c}function V(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").STRING?c.url=a.readString():a.skip(e);break;case 2:e===b("ThriftTypes").I32?c.height=a.readI32():a.skip(e);break;case 3:e===b("ThriftTypes").I32?c.width=a.readI32():a.skip(e);break;case 4:e===b("ThriftTypes").STRING?c.type=a.readString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.url===void 0&&(c.url="");c.height===void 0&&(c.height=0);c.width===void 0&&(c.width=0);return c}function W(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").STRING?c.locale=a.readString():a.skip(e);break;case 2:e===b("ThriftTypes").STRING?c.localized_language=a.readString():a.skip(e);break;case 3:e===b("ThriftTypes").STRING?c.localized_country=a.readString():a.skip(e);break;case 4:e===b("ThriftTypes").STRING?c.localized_creation_method=a.readString():a.skip(e);break;case 5:e===b("ThriftTypes").STRING?c.captions_url=a.readString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.locale===void 0&&(c.locale="");c.localized_language===void 0&&(c.localized_language="");c.captions_url===void 0&&(c.captions_url="");return c}function X(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").STRING?c.artist_name=a.readString():a.skip(e);break;case 2:e===b("ThriftTypes").STRING?c.song_title=a.readString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.artist_name===void 0&&(c.artist_name="");c.song_title===void 0&&(c.song_title="");return c}function Y(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").I64?c.ad_break_start_time_ms=a.readI64().toString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();return c}function Z(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").I32?c.content_source=b("MediaSyncStateMediaSyncStateTypes").Source.cast(a.readI32()):a.skip(e);break;case 2:e===b("ThriftTypes").STRING?c.content_id=a.readString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.content_source===void 0&&(c.content_source=b("MediaSyncStateMediaSyncStateTypes").Source.cast(0));c.content_id===void 0&&(c.content_id="");return c}function ka(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").I32?c.action=b("MediaSyncStateMediaSyncStateTypes").Action.cast(a.readI32()):a.skip(e);break;case 2:e===b("ThriftTypes").STRUCT?c.action_metadata=M(a):a.skip(e);break;case 3:e===b("ThriftTypes").I32?c.admin_message_type=b("MediaSyncStateMediaSyncStateTypes").AdminMessageType.cast(a.readI32()):a.skip(e);break;case 4:e===b("ThriftTypes").STRING?c.content_id=a.readString():a.skip(e);break;case 5:e===b("ThriftTypes").I32?c.content_source=b("MediaSyncStateMediaSyncStateTypes").Source.cast(a.readI32()):a.skip(e);break;case 6:e===b("ThriftTypes").STRING?c.actor_id=a.readString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.action===void 0&&(c.action=b("MediaSyncStateMediaSyncStateTypes").Action.cast(0));c.action_metadata===void 0&&(c.action_metadata=i());c.admin_message_type===void 0&&(c.admin_message_type=b("MediaSyncStateMediaSyncStateTypes").AdminMessageType.cast(0));c.content_id===void 0&&(c.content_id="");c.content_source===void 0&&(c.content_source=b("MediaSyncStateMediaSyncStateTypes").Source.cast(0));c.actor_id===void 0&&(c.actor_id="");return c}function la(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").STRING?c.last_content_id=a.readString():a.skip(e);break;case 2:e===b("ThriftTypes").I32?c.last_content_source=b("MediaSyncStateMediaSyncStateTypes").Source.cast(a.readI32()):a.skip(e);break;case 3:e===b("ThriftTypes").I32?c.count=a.readI32():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.last_content_source===void 0&&(c.last_content_source=b("MediaSyncStateMediaSyncStateTypes").Source.cast(0));c.count===void 0&&(c.count=0);return c}function $(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").STRING?c.product_id=a.readString():a.skip(e);break;case 2:e===b("ThriftTypes").STRING?c.product_name=a.readString():a.skip(e);break;case 3:e===b("ThriftTypes").STRING?c.product_position_x=a.readString():a.skip(e);break;case 4:e===b("ThriftTypes").STRING?c.product_position_y=a.readString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.product_id===void 0&&(c.product_id="");c.product_name===void 0&&(c.product_name="");c.product_position_x===void 0&&(c.product_position_x="");c.product_position_y===void 0&&(c.product_position_y="");return c}f.MediaSyncInputState$DefaultConstructor=g;f.MediaSyncOutputState$DefaultConstructor=a;f.MediaSyncConferenceOutputState$DefaultConstructor=c;f.Actor$DefaultConstructor=h;f.ActionMetadata$DefaultConstructor=i;f.Content$DefaultConstructor=j;f.InstagramContent$DefaultConstructor=d;f.InstagramContentOwner$DefaultConstructor=k;f.FacebookVideo$DefaultConstructor=e;f.Placeholder$DefaultConstructor=l;f.Fallback$DefaultConstructor=m;f.Video$DefaultConstructor=n;f.ReelsMetadata$DefaultConstructor=o;f.SizedUrl$DefaultConstructor=p;f.CaptionLocales$DefaultConstructor=q;f.AudioAttribution$DefaultConstructor=r;f.AdsMetadata$DefaultConstructor=s;f.HistoryRecord$DefaultConstructor=aa;f.E2EEMediaSyncPayload$DefaultConstructor=ba;f.E2EEPMVAdBumperCount$DefaultConstructor=ca;f.ShoppingProductTag$DefaultConstructor=da;f.serializeMediaSyncInputState=t;f.serializeMediaSyncOutputState=ea;f.serializeMediaSyncConferenceOutputState=fa;f.serializeActor=u;f.serializeActionMetadata=v;f.serializeContent=w;f.serializeInstagramContent=x;f.serializeInstagramContentOwner=y;f.serializeFacebookVideo=z;f.serializePlaceholder=A;f.serializeFallback=B;f.serializeVideo=C;f.serializeReelsMetadata=D;f.serializeSizedUrl=E;f.serializeCaptionLocales=F;f.serializeAudioAttribution=G;f.serializeAdsMetadata=H;f.serializeHistoryRecord=I;f.serializeE2EEMediaSyncPayload=ga;f.serializeE2EEPMVAdBumperCount=ha;f.serializeShoppingProductTag=J;f.deserializeMediaSyncInputState=K;f.deserializeMediaSyncOutputState=ia;f.deserializeMediaSyncConferenceOutputState=ja;f.deserializeActor=L;f.deserializeActionMetadata=M;f.deserializeContent=N;f.deserializeInstagramContent=O;f.deserializeInstagramContentOwner=P;f.deserializeFacebookVideo=Q;f.deserializePlaceholder=R;f.deserializeFallback=S;f.deserializeVideo=T;f.deserializeReelsMetadata=U;f.deserializeSizedUrl=V;f.deserializeCaptionLocales=W;f.deserializeAudioAttribution=X;f.deserializeAdsMetadata=Y;f.deserializeHistoryRecord=Z;f.deserializeE2EEMediaSyncPayload=ka;f.deserializeE2EEPMVAdBumperCount=la;f.deserializeShoppingProductTag=$}),66);
__d("MediaSyncAutoplayStateMediaSyncAutoplayStateSerializers",["MediaSyncAutoplayStateMediaSyncAutoplayStateTypes","MediaSyncStateMediaSyncStateSerializers","MediaSyncStateMediaSyncStateTypes","ThriftTypes","jsbi"],(function(a,b,c,d,e,f){"use strict";function a(){return{cancel_action_id:""}}function c(){return{}}function d(){return{}}function e(){return{}}function g(){return{action_id:"",content_source:b("MediaSyncStateMediaSyncStateTypes").Source.cast(0),content_id:"",preview_duration_ms:"7000"}}function h(){return{action_id:"",content_source:b("MediaSyncStateMediaSyncStateTypes").Source.cast(0),content_id:"",content:b("MediaSyncStateMediaSyncStateSerializers").Content$DefaultConstructor(),display_state:b("MediaSyncAutoplayStateMediaSyncAutoplayStateTypes").DisplayState.cast(0),preview_duration_ms:"0"}}function i(){return{action_id:"",content_source:b("MediaSyncStateMediaSyncStateTypes").Source.cast(0),content_id:"",preview_duration_ms:"7000"}}function j(a,c){c.writeStructBegin("ParticipantInputState");c.writeFieldBegin({fname:"cancel_action_id",ftype:b("ThriftTypes").STRING,fid:1});if(a.cancel_action_id!=null)c.writeString(a.cancel_action_id);else{var d="";c.writeString(d)}c.writeFieldEnd();a.autoplay_input!=null&&(c.writeFieldBegin({fname:"autoplay_input",ftype:b("ThriftTypes").STRUCT,fid:2}),n(a.autoplay_input,c),c.writeFieldEnd());c.writeFieldStop();c.writeStructEnd()}function k(a,c){c.writeStructBegin("ParticipantOutputState"),a.autoplay!=null&&(c.writeFieldBegin({fname:"autoplay",ftype:b("ThriftTypes").STRUCT,fid:1}),o(a.autoplay,c),c.writeFieldEnd()),c.writeFieldStop(),c.writeStructEnd()}function l(a,c){c.writeStructBegin("ConferenceInputState");a.autoplay!=null&&(c.writeFieldBegin({fname:"autoplay",ftype:b("ThriftTypes").STRUCT,fid:1}),n(a.autoplay,c),c.writeFieldEnd());if(a.participantOutputs!=null){c.writeFieldBegin({fname:"participantOutputs",ftype:b("ThriftTypes").MAP,fid:2});c.writeMapBegin({ktype:b("ThriftTypes").STRING,vtype:b("ThriftTypes").STRUCT,size:Object.keys(a.participantOutputs).length});a=Object.entries(a.participantOutputs);for(var d=0;d<a.length;d++){var e=a[d],f=e[0];e=e[1];c.writeString(f);o(e,c)}c.writeMapEnd();c.writeFieldEnd()}c.writeFieldStop();c.writeStructEnd()}function m(a,c){c.writeStructBegin("ConferenceOutputState"),a.latest_input!=null&&(c.writeFieldBegin({fname:"latest_input",ftype:b("ThriftTypes").STRUCT,fid:1}),n(a.latest_input,c),c.writeFieldEnd()),c.writeFieldStop(),c.writeStructEnd()}function n(a,c){c.writeStructBegin("AutoplayInput");c.writeFieldBegin({fname:"action_id",ftype:b("ThriftTypes").STRING,fid:1});if(a.action_id!=null)c.writeString(a.action_id);else{var d="";c.writeString(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"content_source",ftype:b("ThriftTypes").I32,fid:2});if(a.content_source!=null){c.writeI32((d=a.content_source)!=null?d:0)}else{d=b("MediaSyncStateMediaSyncStateTypes").Source.cast(0);c.writeI32((d=d)!=null?d:0)}c.writeFieldEnd();c.writeFieldBegin({fname:"content_id",ftype:b("ThriftTypes").STRING,fid:3});if(a.content_id!=null)c.writeString(a.content_id);else{d="";c.writeString(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"preview_duration_ms",ftype:b("ThriftTypes").I64,fid:4});if(a.preview_duration_ms!=null)c.writeI64(b("jsbi").BigInt(a.preview_duration_ms));else{d="7000";c.writeI64(b("jsbi").BigInt(d))}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function o(a,c){c.writeStructBegin("AutoplayOutput");c.writeFieldBegin({fname:"action_id",ftype:b("ThriftTypes").STRING,fid:1});if(a.action_id!=null)c.writeString(a.action_id);else{var d="";c.writeString(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"content_source",ftype:b("ThriftTypes").I32,fid:2});if(a.content_source!=null){c.writeI32((d=a.content_source)!=null?d:0)}else{d=b("MediaSyncStateMediaSyncStateTypes").Source.cast(0);c.writeI32((d=d)!=null?d:0)}c.writeFieldEnd();c.writeFieldBegin({fname:"content_id",ftype:b("ThriftTypes").STRING,fid:3});if(a.content_id!=null)c.writeString(a.content_id);else{d="";c.writeString(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"content",ftype:b("ThriftTypes").STRUCT,fid:4});if(a.content!=null)b("MediaSyncStateMediaSyncStateSerializers").serializeContent(a.content,c);else{d=b("MediaSyncStateMediaSyncStateSerializers").Content$DefaultConstructor();b("MediaSyncStateMediaSyncStateSerializers").serializeContent(d,c)}c.writeFieldEnd();c.writeFieldBegin({fname:"display_state",ftype:b("ThriftTypes").I32,fid:5});if(a.display_state!=null){c.writeI32((d=a.display_state)!=null?d:0)}else{d=b("MediaSyncAutoplayStateMediaSyncAutoplayStateTypes").DisplayState.cast(0);c.writeI32((d=d)!=null?d:0)}c.writeFieldEnd();c.writeFieldBegin({fname:"preview_duration_ms",ftype:b("ThriftTypes").I64,fid:6});if(a.preview_duration_ms!=null)c.writeI64(b("jsbi").BigInt(a.preview_duration_ms));else{d="0";c.writeI64(b("jsbi").BigInt(d))}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function p(a,c){c.writeStructBegin("E2EEAutoplayPayload");c.writeFieldBegin({fname:"action_id",ftype:b("ThriftTypes").STRING,fid:1});if(a.action_id!=null)c.writeString(a.action_id);else{var d="";c.writeString(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"content_source",ftype:b("ThriftTypes").I32,fid:2});if(a.content_source!=null){c.writeI32((d=a.content_source)!=null?d:0)}else{d=b("MediaSyncStateMediaSyncStateTypes").Source.cast(0);c.writeI32((d=d)!=null?d:0)}c.writeFieldEnd();c.writeFieldBegin({fname:"content_id",ftype:b("ThriftTypes").STRING,fid:3});if(a.content_id!=null)c.writeString(a.content_id);else{d="";c.writeString(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"preview_duration_ms",ftype:b("ThriftTypes").I64,fid:4});if(a.preview_duration_ms!=null)c.writeI64(b("jsbi").BigInt(a.preview_duration_ms));else{d="7000";c.writeI64(b("jsbi").BigInt(d))}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function q(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").STRING?c.cancel_action_id=a.readString():a.skip(e);break;case 2:e===b("ThriftTypes").STRUCT?c.autoplay_input=u(a):a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.cancel_action_id===void 0&&(c.cancel_action_id="");return c}function r(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").STRUCT?c.autoplay=v(a):a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();return c}function s(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").STRUCT?c.autoplay=u(a):a.skip(e);break;case 2:if(e===b("ThriftTypes").MAP){c.participantOutputs={};d=a.readMapBegin();for(var f=0;f<d.size;f++){var g=a.readString(),h=v(a);c.participantOutputs[g]=h}}else a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();return c}function t(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").STRUCT?c.latest_input=u(a):a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();return c}function u(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").STRING?c.action_id=a.readString():a.skip(e);break;case 2:e===b("ThriftTypes").I32?c.content_source=b("MediaSyncStateMediaSyncStateTypes").Source.cast(a.readI32()):a.skip(e);break;case 3:e===b("ThriftTypes").STRING?c.content_id=a.readString():a.skip(e);break;case 4:e===b("ThriftTypes").I64?c.preview_duration_ms=a.readI64().toString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.action_id===void 0&&(c.action_id="");c.content_source===void 0&&(c.content_source=b("MediaSyncStateMediaSyncStateTypes").Source.cast(0));c.content_id===void 0&&(c.content_id="");c.preview_duration_ms===void 0&&(c.preview_duration_ms="7000");return c}function v(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").STRING?c.action_id=a.readString():a.skip(e);break;case 2:e===b("ThriftTypes").I32?c.content_source=b("MediaSyncStateMediaSyncStateTypes").Source.cast(a.readI32()):a.skip(e);break;case 3:e===b("ThriftTypes").STRING?c.content_id=a.readString():a.skip(e);break;case 4:e===b("ThriftTypes").STRUCT?c.content=b("MediaSyncStateMediaSyncStateSerializers").deserializeContent(a):a.skip(e);break;case 5:e===b("ThriftTypes").I32?c.display_state=b("MediaSyncAutoplayStateMediaSyncAutoplayStateTypes").DisplayState.cast(a.readI32()):a.skip(e);break;case 6:e===b("ThriftTypes").I64?c.preview_duration_ms=a.readI64().toString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.action_id===void 0&&(c.action_id="");c.content_source===void 0&&(c.content_source=b("MediaSyncStateMediaSyncStateTypes").Source.cast(0));c.content_id===void 0&&(c.content_id="");c.content===void 0&&(c.content=b("MediaSyncStateMediaSyncStateSerializers").Content$DefaultConstructor());c.display_state===void 0&&(c.display_state=b("MediaSyncAutoplayStateMediaSyncAutoplayStateTypes").DisplayState.cast(0));c.preview_duration_ms===void 0&&(c.preview_duration_ms="0");return c}function w(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").STRING?c.action_id=a.readString():a.skip(e);break;case 2:e===b("ThriftTypes").I32?c.content_source=b("MediaSyncStateMediaSyncStateTypes").Source.cast(a.readI32()):a.skip(e);break;case 3:e===b("ThriftTypes").STRING?c.content_id=a.readString():a.skip(e);break;case 4:e===b("ThriftTypes").I64?c.preview_duration_ms=a.readI64().toString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.action_id===void 0&&(c.action_id="");c.content_source===void 0&&(c.content_source=b("MediaSyncStateMediaSyncStateTypes").Source.cast(0));c.content_id===void 0&&(c.content_id="");c.preview_duration_ms===void 0&&(c.preview_duration_ms="7000");return c}f.ParticipantInputState$DefaultConstructor=a;f.ParticipantOutputState$DefaultConstructor=c;f.ConferenceInputState$DefaultConstructor=d;f.ConferenceOutputState$DefaultConstructor=e;f.AutoplayInput$DefaultConstructor=g;f.AutoplayOutput$DefaultConstructor=h;f.E2EEAutoplayPayload$DefaultConstructor=i;f.serializeParticipantInputState=j;f.serializeParticipantOutputState=k;f.serializeConferenceInputState=l;f.serializeConferenceOutputState=m;f.serializeAutoplayInput=n;f.serializeAutoplayOutput=o;f.serializeE2EEAutoplayPayload=p;f.deserializeParticipantInputState=q;f.deserializeParticipantOutputState=r;f.deserializeConferenceInputState=s;f.deserializeConferenceOutputState=t;f.deserializeAutoplayInput=u;f.deserializeAutoplayOutput=v;f.deserializeE2EEAutoplayPayload=w}),66);
__d("MeetingAssistantStateMeetingAssistantStateTypes",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";c=(a=b("$InternalEnum"))({UNAVAILABLE:0,NOT_RECORDING:1,RECORDING:2});d=a({UNKNOWN:0,NOT_CONNECTED:1,CONNECTED:2,CONNECTION_REQUESTED:3});f=a({UNAVAILABLE:0,AGREED:1,DECLINED:2});b=a({UNAVAILABLE:0,ABLE:1,UNABLE:2});e.exports={AbilityToStartTranscription:b,AssistantStatus:d,TranscriptionConsentStatus:f,TranscriptionStatus:c}}),null);
__d("MeetingAssistantStateMeetingAssistantStateSerializers",["MeetingAssistantStateMeetingAssistantStateTypes","ThriftTypes"],(function(a,b,c,d,e,f){"use strict";function a(){return{}}function c(){return{transcription_status:b("MeetingAssistantStateMeetingAssistantStateTypes").TranscriptionStatus.cast(0)}}function d(){return{transcription_status:b("MeetingAssistantStateMeetingAssistantStateTypes").TranscriptionStatus.cast(0),assistant_status:b("MeetingAssistantStateMeetingAssistantStateTypes").AssistantStatus.cast(0),attachToId:"0",ownerId:"0"}}function e(a,c){c.writeStructBegin("ParticipantInputState");if(a.requested_transcription_status!=null){var d;c.writeFieldBegin({fname:"requested_transcription_status",ftype:b("ThriftTypes").I32,fid:1});c.writeI32((d=a.requested_transcription_status)!=null?d:0);c.writeFieldEnd()}if(a.transcription_consent_status!=null){c.writeFieldBegin({fname:"transcription_consent_status",ftype:b("ThriftTypes").I32,fid:2});c.writeI32((d=a.transcription_consent_status)!=null?d:0);c.writeFieldEnd()}a.transcription_consent_status_reason!=null&&(c.writeFieldBegin({fname:"transcription_consent_status_reason",ftype:b("ThriftTypes").STRING,fid:3}),c.writeString(a.transcription_consent_status_reason),c.writeFieldEnd());c.writeFieldStop();c.writeStructEnd()}function g(a,c){c.writeStructBegin("ParticipantOutputState");c.writeFieldBegin({fname:"transcription_status",ftype:b("ThriftTypes").I32,fid:1});if(a.transcription_status!=null){var d;c.writeI32((d=a.transcription_status)!=null?d:0)}else{d=b("MeetingAssistantStateMeetingAssistantStateTypes").TranscriptionStatus.cast(0);c.writeI32((d=d)!=null?d:0)}c.writeFieldEnd();if(a.able_to_start_transcription!=null){c.writeFieldBegin({fname:"able_to_start_transcription",ftype:b("ThriftTypes").I32,fid:2});c.writeI32((d=a.able_to_start_transcription)!=null?d:0);c.writeFieldEnd()}c.writeFieldStop();c.writeStructEnd()}function h(a,c){c.writeStructBegin("ConferenceOutputState");c.writeFieldBegin({fname:"transcription_status",ftype:b("ThriftTypes").I32,fid:1});if(a.transcription_status!=null){var d;c.writeI32((d=a.transcription_status)!=null?d:0)}else{d=b("MeetingAssistantStateMeetingAssistantStateTypes").TranscriptionStatus.cast(0);c.writeI32((d=d)!=null?d:0)}c.writeFieldEnd();c.writeFieldBegin({fname:"assistant_status",ftype:b("ThriftTypes").I32,fid:2});if(a.assistant_status!=null){c.writeI32((d=a.assistant_status)!=null?d:0)}else{d=b("MeetingAssistantStateMeetingAssistantStateTypes").AssistantStatus.cast(0);c.writeI32((d=d)!=null?d:0)}c.writeFieldEnd();c.writeFieldBegin({fname:"attachToId",ftype:b("ThriftTypes").I64,fid:3});if(a.attachToId!=null)c.writeI64(BigInt(a.attachToId));else{d="0";c.writeI64(BigInt(d))}c.writeFieldEnd();c.writeFieldBegin({fname:"ownerId",ftype:b("ThriftTypes").I64,fid:4});if(a.ownerId!=null)c.writeI64(BigInt(a.ownerId));else{d="0";c.writeI64(BigInt(d))}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function i(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").I32?c.requested_transcription_status=b("MeetingAssistantStateMeetingAssistantStateTypes").TranscriptionStatus.cast(a.readI32()):a.skip(e);break;case 2:e===b("ThriftTypes").I32?c.transcription_consent_status=b("MeetingAssistantStateMeetingAssistantStateTypes").TranscriptionConsentStatus.cast(a.readI32()):a.skip(e);break;case 3:e===b("ThriftTypes").STRING?c.transcription_consent_status_reason=a.readString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();return c}function j(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").I32?c.transcription_status=b("MeetingAssistantStateMeetingAssistantStateTypes").TranscriptionStatus.cast(a.readI32()):a.skip(e);break;case 2:e===b("ThriftTypes").I32?c.able_to_start_transcription=b("MeetingAssistantStateMeetingAssistantStateTypes").AbilityToStartTranscription.cast(a.readI32()):a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.transcription_status===void 0&&(c.transcription_status=b("MeetingAssistantStateMeetingAssistantStateTypes").TranscriptionStatus.cast(0));return c}function k(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").I32?c.transcription_status=b("MeetingAssistantStateMeetingAssistantStateTypes").TranscriptionStatus.cast(a.readI32()):a.skip(e);break;case 2:e===b("ThriftTypes").I32?c.assistant_status=b("MeetingAssistantStateMeetingAssistantStateTypes").AssistantStatus.cast(a.readI32()):a.skip(e);break;case 3:e===b("ThriftTypes").I64?c.attachToId=a.readI64().toString():a.skip(e);break;case 4:e===b("ThriftTypes").I64?c.ownerId=a.readI64().toString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.transcription_status===void 0&&(c.transcription_status=b("MeetingAssistantStateMeetingAssistantStateTypes").TranscriptionStatus.cast(0));c.assistant_status===void 0&&(c.assistant_status=b("MeetingAssistantStateMeetingAssistantStateTypes").AssistantStatus.cast(0));c.attachToId===void 0&&(c.attachToId="0");c.ownerId===void 0&&(c.ownerId="0");return c}f.ParticipantInputState$DefaultConstructor=a;f.ParticipantOutputState$DefaultConstructor=c;f.ConferenceOutputState$DefaultConstructor=d;f.serializeParticipantInputState=e;f.serializeParticipantOutputState=g;f.serializeConferenceOutputState=h;f.deserializeParticipantInputState=i;f.deserializeParticipantOutputState=j;f.deserializeConferenceOutputState=k}),66);
__d("ModeratorControlsStateModeratorControlsStateTypes",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({UNKNOWN:0,SOFT_MUTE:1,END_CALL:2,APPROVE_JOIN:3,REMOVE_PARTICIPANT:4,TOGGLE_SCREENSHARING_AVAILABILITY:5,SOFT_MUTE_ALL:6,CANNOT_BE_MUTED:7});c=b("$InternalEnum")({UNKNOWN:0,SOFT_MUTE_ALL:1});d=b("$InternalEnum")({UNKNOWN:0,MODERATORS_ONLY:1,EVERYONE_IN_CALL:2,NOBODY:3});e.exports={ConferenceCapabilityType:c,ModeratorActionType:a,ModeratorFeatureAccessMode:d}}),null);
__d("ModeratorControlsStateModeratorControlsStateSerializers",["ModeratorControlsStateModeratorControlsStateTypes","ThriftTypes","jsbi"],(function(a,b,c,d,e,f){"use strict";function a(){return{}}function c(){return{issue_action_target_uids:new Set()}}function d(){return{action_capabilities:new Set(),action_uuids_executed:new Set()}}function e(){return{participant:h(),conference:m()}}function g(){return{action_uuid:"",action_type:b("ModeratorControlsStateModeratorControlsStateTypes").ModeratorActionType.cast(0),action_issued_by:""}}function h(){return{is_moderator:!1,screenshare_enabled:!1,action_capabilities_as_moderator:new Set(),action_capabilities_as_participant:new Set(),conference_capabilities_as_moderator:new Set()}}function i(){return{is_moderator:!1,action_capabilities_as_moderator:new Set(),action_capabilities_as_participant:new Set(),conference_capabilities_as_moderator:new Set()}}function j(){return{}}function k(){return{moderator_uids:[]}}function l(){return{participant_id:"",permissions:new Set()}}function m(){return{moderator_uids:[],allows_screen_share:!1,soft_mute_feature_enabled:!1,participant_capabilities:{},features_enabled:new Map(),conference_features_enabled:new Map(),are_moderators_mutable:!1}}function n(a,c){c.writeStructBegin("ModeratorControlsInputState"),a.participant!=null&&(c.writeFieldBegin({fname:"participant",ftype:b("ThriftTypes").STRUCT,fid:1}),p(a.participant,c),c.writeFieldEnd()),a.moderator!=null&&(c.writeFieldBegin({fname:"moderator",ftype:b("ThriftTypes").STRUCT,fid:2}),o(a.moderator,c),c.writeFieldEnd()),c.writeFieldStop(),c.writeStructEnd()}function o(a,c){c.writeStructBegin("ModeratorInputState");a.allows_screen_share!=null&&(c.writeFieldBegin({fname:"allows_screen_share",ftype:b("ThriftTypes").BOOL,fid:1}),c.writeBool(a.allows_screen_share),c.writeFieldEnd());if(a.issue_action!=null){var d;c.writeFieldBegin({fname:"issue_action",ftype:b("ThriftTypes").I32,fid:2});c.writeI32((d=a.issue_action)!=null?d:0);c.writeFieldEnd()}c.writeFieldBegin({fname:"issue_action_target_uids",ftype:b("ThriftTypes").SET,fid:3});if(a.issue_action_target_uids!=null){c.writeSetBegin({etype:b("ThriftTypes").STRING,size:a.issue_action_target_uids.size});for(var d=a.issue_action_target_uids,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=d.length)break;g=d[f++]}else{f=d.next();if(f.done)break;g=f.value}g=g;c.writeString(g)}c.writeSetEnd()}else{g=new Set();c.writeSetBegin({etype:b("ThriftTypes").STRING,size:g.size});for(f=g,e=Array.isArray(f),d=0,f=e?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(e){if(d>=f.length)break;g=f[d++]}else{d=f.next();if(d.done)break;g=d.value}g=g;c.writeString(g)}c.writeSetEnd()}c.writeFieldEnd();a.issue_action_context_serialized!=null&&(c.writeFieldBegin({fname:"issue_action_context_serialized",ftype:b("ThriftTypes").STRING,fid:4}),c.writeString(a.issue_action_context_serialized),c.writeFieldEnd());c.writeFieldStop();c.writeStructEnd()}function p(a,c){c.writeStructBegin("ParticipantInputState");c.writeFieldBegin({fname:"action_capabilities",ftype:b("ThriftTypes").SET,fid:1});if(a.action_capabilities!=null){c.writeSetBegin({etype:b("ThriftTypes").I32,size:a.action_capabilities.size});for(var d=a.action_capabilities,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=d.length)break;g=d[f++]}else{f=d.next();if(f.done)break;g=f.value}g=g;c.writeI32((g=g)!=null?g:0)}c.writeSetEnd()}else{g=new Set();c.writeSetBegin({etype:b("ThriftTypes").I32,size:g.size});for(f=g,e=Array.isArray(f),d=0,f=e?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(e){if(d>=f.length)break;g=f[d++]}else{d=f.next();if(d.done)break;g=d.value}g=g;c.writeI32((g=g)!=null?g:0)}c.writeSetEnd()}c.writeFieldEnd();c.writeFieldBegin({fname:"action_uuids_executed",ftype:b("ThriftTypes").SET,fid:2});if(a.action_uuids_executed!=null){c.writeSetBegin({etype:b("ThriftTypes").STRING,size:a.action_uuids_executed.size});for(g=a.action_uuids_executed,d=Array.isArray(g),e=0,g=d?g:g[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(d){if(e>=g.length)break;f=g[e++]}else{e=g.next();if(e.done)break;f=e.value}a=f;c.writeString(a)}c.writeSetEnd()}else{f=new Set();c.writeSetBegin({etype:b("ThriftTypes").STRING,size:f.size});for(a=f,e=Array.isArray(a),d=0,a=e?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(e){if(d>=a.length)break;g=a[d++]}else{d=a.next();if(d.done)break;g=d.value}f=g;c.writeString(f)}c.writeSetEnd()}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function q(a,c){c.writeStructBegin("ModeratorControlsOutputState");c.writeFieldBegin({fname:"participant",ftype:b("ThriftTypes").STRUCT,fid:1});if(a.participant!=null)s(a.participant,c);else{var d=h();s(d,c)}c.writeFieldEnd();c.writeFieldBegin({fname:"conference",ftype:b("ThriftTypes").STRUCT,fid:2});if(a.conference!=null)x(a.conference,c);else{d=m();x(d,c)}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function r(a,c){c.writeStructBegin("ModeratorActionInfo");c.writeFieldBegin({fname:"action_uuid",ftype:b("ThriftTypes").STRING,fid:1});if(a.action_uuid!=null)c.writeString(a.action_uuid);else{var d="";c.writeString(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"action_type",ftype:b("ThriftTypes").I32,fid:2});if(a.action_type!=null){c.writeI32((d=a.action_type)!=null?d:0)}else{d=b("ModeratorControlsStateModeratorControlsStateTypes").ModeratorActionType.cast(0);c.writeI32((d=d)!=null?d:0)}c.writeFieldEnd();c.writeFieldBegin({fname:"action_issued_by",ftype:b("ThriftTypes").STRING,fid:3});if(a.action_issued_by!=null)c.writeString(a.action_issued_by);else{d="";c.writeString(d)}c.writeFieldEnd();a.action_context!=null&&(c.writeFieldBegin({fname:"action_context",ftype:b("ThriftTypes").STRING,fid:4}),c.writeString(a.action_context),c.writeFieldEnd());a.action_issued_time!=null&&(c.writeFieldBegin({fname:"action_issued_time",ftype:b("ThriftTypes").I64,fid:5}),c.writeI64(b("jsbi").BigInt(a.action_issued_time)),c.writeFieldEnd());c.writeFieldStop();c.writeStructEnd()}function s(a,c){c.writeStructBegin("ParticipantOutputState");c.writeFieldBegin({fname:"is_moderator",ftype:b("ThriftTypes").BOOL,fid:1});if(a.is_moderator!=null)c.writeBool(a.is_moderator);else{var d=!1;c.writeBool(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"screenshare_enabled",ftype:b("ThriftTypes").BOOL,fid:2});if(a.screenshare_enabled!=null)c.writeBool(a.screenshare_enabled);else{d=!1;c.writeBool(d)}c.writeFieldEnd();a.screenshare_enabled_changed_by!=null&&(c.writeFieldBegin({fname:"screenshare_enabled_changed_by",ftype:b("ThriftTypes").STRING,fid:3}),c.writeString(a.screenshare_enabled_changed_by),c.writeFieldEnd());c.writeFieldBegin({fname:"action_capabilities_as_moderator",ftype:b("ThriftTypes").SET,fid:4});if(a.action_capabilities_as_moderator!=null){c.writeSetBegin({etype:b("ThriftTypes").I32,size:a.action_capabilities_as_moderator.size});for(var d=a.action_capabilities_as_moderator,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=d.length)break;g=d[f++]}else{f=d.next();if(f.done)break;g=f.value}g=g;c.writeI32((g=g)!=null?g:0)}c.writeSetEnd()}else{g=new Set();c.writeSetBegin({etype:b("ThriftTypes").I32,size:g.size});for(f=g,e=Array.isArray(f),d=0,f=e?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(e){if(d>=f.length)break;g=f[d++]}else{d=f.next();if(d.done)break;g=d.value}g=g;c.writeI32((g=g)!=null?g:0)}c.writeSetEnd()}c.writeFieldEnd();c.writeFieldBegin({fname:"action_capabilities_as_participant",ftype:b("ThriftTypes").SET,fid:5});if(a.action_capabilities_as_participant!=null){c.writeSetBegin({etype:b("ThriftTypes").I32,size:a.action_capabilities_as_participant.size});for(g=a.action_capabilities_as_participant,d=Array.isArray(g),e=0,g=d?g:g[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(d){if(e>=g.length)break;f=g[e++]}else{e=g.next();if(e.done)break;f=e.value}f=f;c.writeI32((f=f)!=null?f:0)}c.writeSetEnd()}else{f=new Set();c.writeSetBegin({etype:b("ThriftTypes").I32,size:f.size});for(e=f,d=Array.isArray(e),g=0,e=d?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(d){if(g>=e.length)break;f=e[g++]}else{g=e.next();if(g.done)break;f=g.value}f=f;c.writeI32((f=f)!=null?f:0)}c.writeSetEnd()}c.writeFieldEnd();if(a.actions_issued!=null){c.writeFieldBegin({fname:"actions_issued",ftype:b("ThriftTypes").MAP,fid:6});c.writeMapBegin({ktype:b("ThriftTypes").I32,vtype:b("ThriftTypes").STRUCT,size:a.actions_issued.size});for(f=a.actions_issued.entries(),g=Array.isArray(f),d=0,f=g?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(g){if(d>=f.length)break;e=f[d++]}else{d=f.next();if(d.done)break;e=d.value}e=e;var h=e[0];e=e[1];c.writeI32((h=h)!=null?h:0);r(e,c)}c.writeMapEnd();c.writeFieldEnd()}c.writeFieldBegin({fname:"conference_capabilities_as_moderator",ftype:b("ThriftTypes").SET,fid:7});if(a.conference_capabilities_as_moderator!=null){c.writeSetBegin({etype:b("ThriftTypes").I32,size:a.conference_capabilities_as_moderator.size});for(h=a.conference_capabilities_as_moderator,e=Array.isArray(h),d=0,h=e?h:h[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(e){if(d>=h.length)break;g=h[d++]}else{d=h.next();if(d.done)break;g=d.value}f=g;c.writeI32((a=f)!=null?a:0)}c.writeSetEnd()}else{g=new Set();c.writeSetBegin({etype:b("ThriftTypes").I32,size:g.size});for(f=g,a=Array.isArray(f),d=0,f=a?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(a){if(d>=f.length)break;e=f[d++]}else{d=f.next();if(d.done)break;e=d.value}h=e;c.writeI32((g=h)!=null?g:0)}c.writeSetEnd()}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function t(a,c){c.writeStructBegin("ParticipantCapabilityInfo");c.writeFieldBegin({fname:"is_moderator",ftype:b("ThriftTypes").BOOL,fid:1});if(a.is_moderator!=null)c.writeBool(a.is_moderator);else{var d=!1;c.writeBool(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"action_capabilities_as_moderator",ftype:b("ThriftTypes").SET,fid:2});if(a.action_capabilities_as_moderator!=null){c.writeSetBegin({etype:b("ThriftTypes").I32,size:a.action_capabilities_as_moderator.size});for(var d=a.action_capabilities_as_moderator,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=d.length)break;g=d[f++]}else{f=d.next();if(f.done)break;g=f.value}g=g;c.writeI32((g=g)!=null?g:0)}c.writeSetEnd()}else{g=new Set();c.writeSetBegin({etype:b("ThriftTypes").I32,size:g.size});for(f=g,e=Array.isArray(f),d=0,f=e?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(e){if(d>=f.length)break;g=f[d++]}else{d=f.next();if(d.done)break;g=d.value}g=g;c.writeI32((g=g)!=null?g:0)}c.writeSetEnd()}c.writeFieldEnd();c.writeFieldBegin({fname:"action_capabilities_as_participant",ftype:b("ThriftTypes").SET,fid:3});if(a.action_capabilities_as_participant!=null){c.writeSetBegin({etype:b("ThriftTypes").I32,size:a.action_capabilities_as_participant.size});for(g=a.action_capabilities_as_participant,d=Array.isArray(g),e=0,g=d?g:g[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(d){if(e>=g.length)break;f=g[e++]}else{e=g.next();if(e.done)break;f=e.value}f=f;c.writeI32((f=f)!=null?f:0)}c.writeSetEnd()}else{f=new Set();c.writeSetBegin({etype:b("ThriftTypes").I32,size:f.size});for(e=f,d=Array.isArray(e),g=0,e=d?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(d){if(g>=e.length)break;f=e[g++]}else{g=e.next();if(g.done)break;f=g.value}f=f;c.writeI32((f=f)!=null?f:0)}c.writeSetEnd()}c.writeFieldEnd();c.writeFieldBegin({fname:"conference_capabilities_as_moderator",ftype:b("ThriftTypes").SET,fid:4});if(a.conference_capabilities_as_moderator!=null){c.writeSetBegin({etype:b("ThriftTypes").I32,size:a.conference_capabilities_as_moderator.size});for(f=a.conference_capabilities_as_moderator,g=Array.isArray(f),d=0,f=g?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(g){if(d>=f.length)break;e=f[d++]}else{d=f.next();if(d.done)break;e=d.value}a=e;c.writeI32((e=a)!=null?e:0)}c.writeSetEnd()}else{a=new Set();c.writeSetBegin({etype:b("ThriftTypes").I32,size:a.size});for(e=a,d=Array.isArray(e),g=0,e=d?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(d){if(g>=e.length)break;f=e[g++]}else{g=e.next();if(g.done)break;f=g.value}a=f;c.writeI32((f=a)!=null?f:0)}c.writeSetEnd()}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function u(a,c){c.writeStructBegin("ModeratorFeatureContext");if(a.feature_access_mode!=null){c.writeFieldBegin({fname:"feature_access_mode",ftype:b("ThriftTypes").I32,fid:1});c.writeI32((a=a.feature_access_mode)!=null?a:0);c.writeFieldEnd()}c.writeFieldStop();c.writeStructEnd()}function v(a,c){c.writeStructBegin("ConferenceInputState");c.writeFieldBegin({fname:"moderator_uids",ftype:b("ThriftTypes").LIST,fid:1});if(a.moderator_uids!=null){c.writeListBegin({etype:b("ThriftTypes").STRING,size:a.moderator_uids.length});for(var d=a.moderator_uids,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=d.length)break;g=d[f++]}else{f=d.next();if(f.done)break;g=f.value}g=g;c.writeString(g)}c.writeListEnd()}else{g=[];c.writeListBegin({etype:b("ThriftTypes").STRING,size:g.length});for(f=0;f<g.length;f++){e=g[f];c.writeString(e)}c.writeListEnd()}c.writeFieldEnd();a.participant_permissions_upsert_input!=null&&(c.writeFieldBegin({fname:"participant_permissions_upsert_input",ftype:b("ThriftTypes").STRUCT,fid:2}),w(a.participant_permissions_upsert_input,c),c.writeFieldEnd());c.writeFieldStop();c.writeStructEnd()}function w(a,c){c.writeStructBegin("ParticipantPermissionsUpsertInput");c.writeFieldBegin({fname:"participant_id",ftype:b("ThriftTypes").STRING,fid:1});if(a.participant_id!=null)c.writeString(a.participant_id);else{var d="";c.writeString(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"permissions",ftype:b("ThriftTypes").SET,fid:2});if(a.permissions!=null){c.writeSetBegin({etype:b("ThriftTypes").I32,size:a.permissions.size});for(var d=a.permissions,a=Array.isArray(d),e=0,d=a?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(a){if(e>=d.length)break;f=d[e++]}else{e=d.next();if(e.done)break;f=e.value}f=f;c.writeI32((f=f)!=null?f:0)}c.writeSetEnd()}else{f=new Set();c.writeSetBegin({etype:b("ThriftTypes").I32,size:f.size});for(e=f,a=Array.isArray(e),d=0,e=a?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(a){if(d>=e.length)break;f=e[d++]}else{d=e.next();if(d.done)break;f=d.value}f=f;c.writeI32((f=f)!=null?f:0)}c.writeSetEnd()}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function x(a,c){c.writeStructBegin("ConferenceOutputState");c.writeFieldBegin({fname:"moderator_uids",ftype:b("ThriftTypes").LIST,fid:1});if(a.moderator_uids!=null){c.writeListBegin({etype:b("ThriftTypes").STRING,size:a.moderator_uids.length});for(var d=a.moderator_uids,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=d.length)break;g=d[f++]}else{f=d.next();if(f.done)break;g=f.value}g=g;c.writeString(g)}c.writeListEnd()}else{g=[];c.writeListBegin({etype:b("ThriftTypes").STRING,size:g.length});for(f=0;f<g.length;f++){e=g[f];c.writeString(e)}c.writeListEnd()}c.writeFieldEnd();c.writeFieldBegin({fname:"allows_screen_share",ftype:b("ThriftTypes").BOOL,fid:2});if(a.allows_screen_share!=null)c.writeBool(a.allows_screen_share);else{d=!1;c.writeBool(d)}c.writeFieldEnd();a.allows_screen_share_changed_by!=null&&(c.writeFieldBegin({fname:"allows_screen_share_changed_by",ftype:b("ThriftTypes").STRING,fid:3}),c.writeString(a.allows_screen_share_changed_by),c.writeFieldEnd());c.writeFieldBegin({fname:"soft_mute_feature_enabled",ftype:b("ThriftTypes").BOOL,fid:4});if(a.soft_mute_feature_enabled!=null)c.writeBool(a.soft_mute_feature_enabled);else{e=!1;c.writeBool(e)}c.writeFieldEnd();c.writeFieldBegin({fname:"participant_capabilities",ftype:b("ThriftTypes").MAP,fid:5});if(a.participant_capabilities!=null){c.writeMapBegin({ktype:b("ThriftTypes").STRING,vtype:b("ThriftTypes").STRUCT,size:Object.keys(a.participant_capabilities).length});f=Object.entries(a.participant_capabilities);for(g=0;g<f.length;g++){d=f[g];e=d[0];d=d[1];c.writeString(e);t(d,c)}c.writeMapEnd()}else{e={};c.writeMapBegin({ktype:b("ThriftTypes").STRING,vtype:b("ThriftTypes").STRUCT,size:Object.keys(e).length});d=Object.entries(e);for(f=0;f<d.length;f++){g=d[f];e=g[0];g=g[1];c.writeString(e);t(g,c)}c.writeMapEnd()}c.writeFieldEnd();c.writeFieldBegin({fname:"features_enabled",ftype:b("ThriftTypes").MAP,fid:6});if(a.features_enabled!=null){c.writeMapBegin({ktype:b("ThriftTypes").I32,vtype:b("ThriftTypes").STRUCT,size:a.features_enabled.size});for(e=a.features_enabled.entries(),g=Array.isArray(e),d=0,e=g?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(g){if(d>=e.length)break;f=e[d++]}else{d=e.next();if(d.done)break;f=d.value}f=f;var h=f[0];f=f[1];c.writeI32((h=h)!=null?h:0);u(f,c)}c.writeMapEnd()}else{h=new Map();c.writeMapBegin({ktype:b("ThriftTypes").I32,vtype:b("ThriftTypes").STRUCT,size:h.size});for(f=h.entries(),d=Array.isArray(f),g=0,f=d?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(d){if(g>=f.length)break;e=f[g++]}else{g=f.next();if(g.done)break;e=g.value}h=e;e=h[0];h=h[1];c.writeI32((e=e)!=null?e:0);u(h,c)}c.writeMapEnd()}c.writeFieldEnd();c.writeFieldBegin({fname:"conference_features_enabled",ftype:b("ThriftTypes").MAP,fid:7});if(a.conference_features_enabled!=null){c.writeMapBegin({ktype:b("ThriftTypes").I32,vtype:b("ThriftTypes").STRUCT,size:a.conference_features_enabled.size});for(e=a.conference_features_enabled.entries(),h=Array.isArray(e),g=0,e=h?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(h){if(g>=e.length)break;d=e[g++]}else{g=e.next();if(g.done)break;d=g.value}f=d;d=f[0];f=f[1];c.writeI32((d=d)!=null?d:0);u(f,c)}c.writeMapEnd()}else{d=new Map();c.writeMapBegin({ktype:b("ThriftTypes").I32,vtype:b("ThriftTypes").STRUCT,size:d.size});for(f=d.entries(),g=Array.isArray(f),h=0,f=g?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(g){if(h>=f.length)break;e=f[h++]}else{h=f.next();if(h.done)break;e=h.value}d=e;e=d[0];d=d[1];c.writeI32((e=e)!=null?e:0);u(d,c)}c.writeMapEnd()}c.writeFieldEnd();c.writeFieldBegin({fname:"are_moderators_mutable",ftype:b("ThriftTypes").BOOL,fid:8});if(a.are_moderators_mutable!=null)c.writeBool(a.are_moderators_mutable);else{e=!1;c.writeBool(e)}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function y(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").STRUCT?c.participant=A(a):a.skip(e);break;case 2:e===b("ThriftTypes").STRUCT?c.moderator=z(a):a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();return c}function z(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").BOOL?c.allows_screen_share=a.readBool():a.skip(e);break;case 2:e===b("ThriftTypes").I32?c.issue_action=b("ModeratorControlsStateModeratorControlsStateTypes").ModeratorActionType.cast(a.readI32()):a.skip(e);break;case 3:if(e===b("ThriftTypes").SET){c.issue_action_target_uids=new Set();d=a.readSetBegin();for(var f=0;f<d.size;f++){var g=a.readString();c.issue_action_target_uids.add(g)}}else a.skip(e);break;case 4:e===b("ThriftTypes").STRING?c.issue_action_context_serialized=a.readString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.issue_action_target_uids===void 0&&(c.issue_action_target_uids=new Set());return c}function A(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:if(e===b("ThriftTypes").SET){c.action_capabilities=new Set();d=a.readSetBegin();for(var f=0;f<d.size;f++){var g=b("ModeratorControlsStateModeratorControlsStateTypes").ModeratorActionType.cast(a.readI32());c.action_capabilities.add(g)}}else a.skip(e);break;case 2:if(e===b("ThriftTypes").SET){c.action_uuids_executed=new Set();g=a.readSetBegin();for(f=0;f<g.size;f++){d=a.readString();c.action_uuids_executed.add(d)}}else a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.action_capabilities===void 0&&(c.action_capabilities=new Set());c.action_uuids_executed===void 0&&(c.action_uuids_executed=new Set());return c}function B(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").STRUCT?c.participant=D(a):a.skip(e);break;case 2:e===b("ThriftTypes").STRUCT?c.conference=I(a):a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.participant===void 0&&(c.participant=h());c.conference===void 0&&(c.conference=m());return c}function C(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").STRING?c.action_uuid=a.readString():a.skip(e);break;case 2:e===b("ThriftTypes").I32?c.action_type=b("ModeratorControlsStateModeratorControlsStateTypes").ModeratorActionType.cast(a.readI32()):a.skip(e);break;case 3:e===b("ThriftTypes").STRING?c.action_issued_by=a.readString():a.skip(e);break;case 4:e===b("ThriftTypes").STRING?c.action_context=a.readString():a.skip(e);break;case 5:e===b("ThriftTypes").I64?c.action_issued_time=a.readI64().toString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.action_uuid===void 0&&(c.action_uuid="");c.action_type===void 0&&(c.action_type=b("ModeratorControlsStateModeratorControlsStateTypes").ModeratorActionType.cast(0));c.action_issued_by===void 0&&(c.action_issued_by="");return c}function D(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").BOOL?c.is_moderator=a.readBool():a.skip(e);break;case 2:e===b("ThriftTypes").BOOL?c.screenshare_enabled=a.readBool():a.skip(e);break;case 3:e===b("ThriftTypes").STRING?c.screenshare_enabled_changed_by=a.readString():a.skip(e);break;case 4:if(e===b("ThriftTypes").SET){c.action_capabilities_as_moderator=new Set();d=a.readSetBegin();for(var f=0;f<d.size;f++){var g=b("ModeratorControlsStateModeratorControlsStateTypes").ModeratorActionType.cast(a.readI32());c.action_capabilities_as_moderator.add(g)}}else a.skip(e);break;case 5:if(e===b("ThriftTypes").SET){c.action_capabilities_as_participant=new Set();g=a.readSetBegin();for(f=0;f<g.size;f++){d=b("ModeratorControlsStateModeratorControlsStateTypes").ModeratorActionType.cast(a.readI32());c.action_capabilities_as_participant.add(d)}}else a.skip(e);break;case 6:if(e===b("ThriftTypes").MAP){c.actions_issued=new Map();d=a.readMapBegin();for(f=0;f<d.size;f++){g=b("ModeratorControlsStateModeratorControlsStateTypes").ModeratorActionType.cast(a.readI32());var h=C(a);g!=null&&c.actions_issued.set(g,h)}}else a.skip(e);break;case 7:if(e===b("ThriftTypes").SET){c.conference_capabilities_as_moderator=new Set();g=a.readSetBegin();for(h=0;h<g.size;h++){f=b("ModeratorControlsStateModeratorControlsStateTypes").ConferenceCapabilityType.cast(a.readI32());c.conference_capabilities_as_moderator.add(f)}}else a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.is_moderator===void 0&&(c.is_moderator=!1);c.screenshare_enabled===void 0&&(c.screenshare_enabled=!1);c.action_capabilities_as_moderator===void 0&&(c.action_capabilities_as_moderator=new Set());c.action_capabilities_as_participant===void 0&&(c.action_capabilities_as_participant=new Set());c.conference_capabilities_as_moderator===void 0&&(c.conference_capabilities_as_moderator=new Set());return c}function E(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").BOOL?c.is_moderator=a.readBool():a.skip(e);break;case 2:if(e===b("ThriftTypes").SET){c.action_capabilities_as_moderator=new Set();d=a.readSetBegin();for(var f=0;f<d.size;f++){var g=b("ModeratorControlsStateModeratorControlsStateTypes").ModeratorActionType.cast(a.readI32());c.action_capabilities_as_moderator.add(g)}}else a.skip(e);break;case 3:if(e===b("ThriftTypes").SET){c.action_capabilities_as_participant=new Set();g=a.readSetBegin();for(f=0;f<g.size;f++){d=b("ModeratorControlsStateModeratorControlsStateTypes").ModeratorActionType.cast(a.readI32());c.action_capabilities_as_participant.add(d)}}else a.skip(e);break;case 4:if(e===b("ThriftTypes").SET){c.conference_capabilities_as_moderator=new Set();d=a.readSetBegin();for(f=0;f<d.size;f++){g=b("ModeratorControlsStateModeratorControlsStateTypes").ConferenceCapabilityType.cast(a.readI32());c.conference_capabilities_as_moderator.add(g)}}else a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.is_moderator===void 0&&(c.is_moderator=!1);c.action_capabilities_as_moderator===void 0&&(c.action_capabilities_as_moderator=new Set());c.action_capabilities_as_participant===void 0&&(c.action_capabilities_as_participant=new Set());c.conference_capabilities_as_moderator===void 0&&(c.conference_capabilities_as_moderator=new Set());return c}function F(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").I32?c.feature_access_mode=b("ModeratorControlsStateModeratorControlsStateTypes").ModeratorFeatureAccessMode.cast(a.readI32()):a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();return c}function G(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:if(e===b("ThriftTypes").LIST){c.moderator_uids=[];d=a.readListBegin();for(var f=0;f<d.size;f++){var g=a.readString();c.moderator_uids.push(g)}}else a.skip(e);break;case 2:e===b("ThriftTypes").STRUCT?c.participant_permissions_upsert_input=H(a):a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.moderator_uids===void 0&&(c.moderator_uids=[]);return c}function H(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").STRING?c.participant_id=a.readString():a.skip(e);break;case 2:if(e===b("ThriftTypes").SET){c.permissions=new Set();d=a.readSetBegin();for(var f=0;f<d.size;f++){var g=b("ModeratorControlsStateModeratorControlsStateTypes").ModeratorActionType.cast(a.readI32());c.permissions.add(g)}}else a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.participant_id===void 0&&(c.participant_id="");c.permissions===void 0&&(c.permissions=new Set());return c}function I(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:if(e===b("ThriftTypes").LIST){c.moderator_uids=[];d=a.readListBegin();for(var f=0;f<d.size;f++){var g=a.readString();c.moderator_uids.push(g)}}else a.skip(e);break;case 2:e===b("ThriftTypes").BOOL?c.allows_screen_share=a.readBool():a.skip(e);break;case 3:e===b("ThriftTypes").STRING?c.allows_screen_share_changed_by=a.readString():a.skip(e);break;case 4:e===b("ThriftTypes").BOOL?c.soft_mute_feature_enabled=a.readBool():a.skip(e);break;case 5:if(e===b("ThriftTypes").MAP){c.participant_capabilities={};g=a.readMapBegin();for(f=0;f<g.size;f++){d=a.readString();var h=E(a);c.participant_capabilities[d]=h}}else a.skip(e);break;case 6:if(e===b("ThriftTypes").MAP){c.features_enabled=new Map();d=a.readMapBegin();for(h=0;h<d.size;h++){f=b("ModeratorControlsStateModeratorControlsStateTypes").ModeratorActionType.cast(a.readI32());g=F(a);f!=null&&c.features_enabled.set(f,g)}}else a.skip(e);break;case 7:if(e===b("ThriftTypes").MAP){c.conference_features_enabled=new Map();f=a.readMapBegin();for(g=0;g<f.size;g++){h=b("ModeratorControlsStateModeratorControlsStateTypes").ConferenceCapabilityType.cast(a.readI32());d=F(a);h!=null&&c.conference_features_enabled.set(h,d)}}else a.skip(e);break;case 8:e===b("ThriftTypes").BOOL?c.are_moderators_mutable=a.readBool():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.moderator_uids===void 0&&(c.moderator_uids=[]);c.allows_screen_share===void 0&&(c.allows_screen_share=!1);c.soft_mute_feature_enabled===void 0&&(c.soft_mute_feature_enabled=!1);c.participant_capabilities===void 0&&(c.participant_capabilities={});c.features_enabled===void 0&&(c.features_enabled=new Map());c.conference_features_enabled===void 0&&(c.conference_features_enabled=new Map());c.are_moderators_mutable===void 0&&(c.are_moderators_mutable=!1);return c}f.ModeratorControlsInputState$DefaultConstructor=a;f.ModeratorInputState$DefaultConstructor=c;f.ParticipantInputState$DefaultConstructor=d;f.ModeratorControlsOutputState$DefaultConstructor=e;f.ModeratorActionInfo$DefaultConstructor=g;f.ParticipantOutputState$DefaultConstructor=h;f.ParticipantCapabilityInfo$DefaultConstructor=i;f.ModeratorFeatureContext$DefaultConstructor=j;f.ConferenceInputState$DefaultConstructor=k;f.ParticipantPermissionsUpsertInput$DefaultConstructor=l;f.ConferenceOutputState$DefaultConstructor=m;f.serializeModeratorControlsInputState=n;f.serializeModeratorInputState=o;f.serializeParticipantInputState=p;f.serializeModeratorControlsOutputState=q;f.serializeModeratorActionInfo=r;f.serializeParticipantOutputState=s;f.serializeParticipantCapabilityInfo=t;f.serializeModeratorFeatureContext=u;f.serializeConferenceInputState=v;f.serializeParticipantPermissionsUpsertInput=w;f.serializeConferenceOutputState=x;f.deserializeModeratorControlsInputState=y;f.deserializeModeratorInputState=z;f.deserializeParticipantInputState=A;f.deserializeModeratorControlsOutputState=B;f.deserializeModeratorActionInfo=C;f.deserializeParticipantOutputState=D;f.deserializeParticipantCapabilityInfo=E;f.deserializeModeratorFeatureContext=F;f.deserializeConferenceInputState=G;f.deserializeParticipantPermissionsUpsertInput=H;f.deserializeConferenceOutputState=I}),66);
__d("NumberOfPeopleStateNumberOfPeopleStateSerializers",["ThriftTypes"],(function(a,b,c,d,e,f){"use strict";function a(){return{number_of_people:0}}function c(){return{participant_id_to_number_of_people:{}}}function d(a,c){c.writeStructBegin("NumberOfPeopleInputState");c.writeFieldBegin({fname:"number_of_people",ftype:b("ThriftTypes").I32,fid:1});if(a.number_of_people!=null)c.writeI32(a.number_of_people);else{a=0;c.writeI32(a)}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function e(a,c){c.writeStructBegin("NumberOfPeopleOutputState");c.writeFieldBegin({fname:"participant_id_to_number_of_people",ftype:b("ThriftTypes").MAP,fid:1});if(a.participant_id_to_number_of_people!=null){c.writeMapBegin({ktype:b("ThriftTypes").STRING,vtype:b("ThriftTypes").I32,size:Object.keys(a.participant_id_to_number_of_people).length});a=Object.entries(a.participant_id_to_number_of_people);for(var d=0;d<a.length;d++){var e=a[d],f=e[0];e=e[1];c.writeString(f);c.writeI32(e)}c.writeMapEnd()}else{f={};c.writeMapBegin({ktype:b("ThriftTypes").STRING,vtype:b("ThriftTypes").I32,size:Object.keys(f).length});e=Object.entries(f);for(a=0;a<e.length;a++){d=e[a];f=d[0];d=d[1];c.writeString(f);c.writeI32(d)}c.writeMapEnd()}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function g(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").I32?c.number_of_people=a.readI32():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.number_of_people===void 0&&(c.number_of_people=0);return c}function h(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:if(e===b("ThriftTypes").MAP){c.participant_id_to_number_of_people={};d=a.readMapBegin();for(var f=0;f<d.size;f++){var g=a.readString(),h=a.readI32();c.participant_id_to_number_of_people[g]=h}}else a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.participant_id_to_number_of_people===void 0&&(c.participant_id_to_number_of_people={});return c}f.NumberOfPeopleInputState$DefaultConstructor=a;f.NumberOfPeopleOutputState$DefaultConstructor=c;f.serializeNumberOfPeopleInputState=d;f.serializeNumberOfPeopleOutputState=e;f.deserializeNumberOfPeopleInputState=g;f.deserializeNumberOfPeopleOutputState=h}),66);
__d("PollsStatePollsStateTypes",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({UNKNOWN:0,ACTIVE:1});c=b("$InternalEnum")({UNKNOWN:0,TEXT:1});d=b("$InternalEnum")({Create:"create",Remove:"remove",Vote:"vote",Remove_vote:"remove_vote",Ping:"ping",Clone_poll_state:"clone_poll_state"});e.exports={PollState:a,PollType:c,PollsParticipantActionInputState$Types:d}}),null);
__d("PollsStatePollsStateSerializers",["PollsStatePollsStateTypes","ThriftTypes"],(function(a,b,c,d,e,f){"use strict";function g(){return{}}function h(){return{}}function a(){return{id:"",content:g(),voters:[],vote_fraction:0}}function c(){return{id:"",creator:h(),title:"",options:[],type:b("PollsStatePollsStateTypes").PollType.cast(0),state:b("PollsStatePollsStateTypes").PollState.cast(0)}}function d(){return{action:t()}}function e(){return{action:t(),request_id:""}}function i(){return{title:"",options:[],type:b("PollsStatePollsStateTypes").PollType.cast(0),poll_id:""}}function j(){return{cloned_poll_state:[]}}function k(){return{poll_id:""}}function l(){return{poll_option_id:""}}function m(){return{poll_option_id:""}}function n(){return{is_ping:!1}}function o(){return{can_create:!1,poll_permissions:{},poll_option_permissions:{}}}function p(){return{can_delete:!1}}function q(){return{can_vote:!1,can_remove_vote:!1}}function r(){return{polls:[],processed_action_uuids:new Set(),permissions:o(),is_creation_enabled:!1}}function s(){return{polls:[],participant_id_to_processed_action_uuids:{},permissions:{},users_with_creation_enabled:new Set(),is_creation_enabled_for_all:!1,is_online_learning_call:!1}}function t(){return{}}function u(a,c){c.writeStructBegin("Content"),a.text!=null&&(c.writeFieldBegin({fname:"text",ftype:b("ThriftTypes").STRING,fid:1}),c.writeString(a.text),c.writeFieldEnd()),c.writeFieldStop(),c.writeStructEnd()}function v(a,c){c.writeStructBegin("PollParticipant"),a.fbid!=null&&(c.writeFieldBegin({fname:"fbid",ftype:b("ThriftTypes").STRING,fid:1}),c.writeString(a.fbid),c.writeFieldEnd()),c.writeFieldStop(),c.writeStructEnd()}function w(a,c){c.writeStructBegin("PollOption");c.writeFieldBegin({fname:"id",ftype:b("ThriftTypes").STRING,fid:1});if(a.id!=null)c.writeString(a.id);else{var d="";c.writeString(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"content",ftype:b("ThriftTypes").STRUCT,fid:2});if(a.content!=null)u(a.content,c);else{d=g();u(d,c)}c.writeFieldEnd();c.writeFieldBegin({fname:"voters",ftype:b("ThriftTypes").LIST,fid:3});if(a.voters!=null){c.writeListBegin({etype:b("ThriftTypes").STRUCT,size:a.voters.length});for(var d=a.voters,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(e){if(f>=d.length)break;h=d[f++]}else{f=d.next();if(f.done)break;h=f.value}h=h;v(h,c)}c.writeListEnd()}else{h=[];c.writeListBegin({etype:b("ThriftTypes").STRUCT,size:h.length});for(f=0;f<h.length;f++){e=h[f];v(e,c)}c.writeListEnd()}c.writeFieldEnd();c.writeFieldBegin({fname:"vote_fraction",ftype:b("ThriftTypes").FLOAT,fid:4});if(a.vote_fraction!=null)c.writeFloat(a.vote_fraction);else{d=0;c.writeFloat(d)}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function x(a,c){c.writeStructBegin("Poll");c.writeFieldBegin({fname:"id",ftype:b("ThriftTypes").STRING,fid:1});if(a.id!=null)c.writeString(a.id);else{var d="";c.writeString(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"creator",ftype:b("ThriftTypes").STRUCT,fid:2});if(a.creator!=null)v(a.creator,c);else{d=h();v(d,c)}c.writeFieldEnd();c.writeFieldBegin({fname:"title",ftype:b("ThriftTypes").STRING,fid:3});if(a.title!=null)c.writeString(a.title);else{d="";c.writeString(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"options",ftype:b("ThriftTypes").LIST,fid:4});if(a.options!=null){c.writeListBegin({etype:b("ThriftTypes").STRUCT,size:a.options.length});for(var d=a.options,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=d.length)break;g=d[f++]}else{f=d.next();if(f.done)break;g=f.value}g=g;w(g,c)}c.writeListEnd()}else{g=[];c.writeListBegin({etype:b("ThriftTypes").STRUCT,size:g.length});for(f=0;f<g.length;f++){e=g[f];w(e,c)}c.writeListEnd()}c.writeFieldEnd();c.writeFieldBegin({fname:"type",ftype:b("ThriftTypes").I32,fid:5});if(a.type!=null){c.writeI32((d=a.type)!=null?d:0)}else{e=b("PollsStatePollsStateTypes").PollType.cast(0);c.writeI32((g=e)!=null?g:0)}c.writeFieldEnd();c.writeFieldBegin({fname:"state",ftype:b("ThriftTypes").I32,fid:6});if(a.state!=null){c.writeI32((f=a.state)!=null?f:0)}else{d=b("PollsStatePollsStateTypes").PollState.cast(0);c.writeI32((e=d)!=null?e:0)}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function y(a,c){c.writeStructBegin("PollsParticipantInputState");c.writeFieldBegin({fname:"action",ftype:b("ThriftTypes").STRUCT,fid:1});if(a.action!=null)L(a.action,c);else{var d=t();L(d,c)}c.writeFieldEnd();a.action_uuid!=null&&(c.writeFieldBegin({fname:"action_uuid",ftype:b("ThriftTypes").STRING,fid:2}),c.writeString(a.action_uuid),c.writeFieldEnd());c.writeFieldStop();c.writeStructEnd()}function z(a,c){c.writeStructBegin("E2EEPollsParticipantPayload");c.writeFieldBegin({fname:"action",ftype:b("ThriftTypes").STRUCT,fid:1});if(a.action!=null)L(a.action,c);else{var d=t();L(d,c)}c.writeFieldEnd();c.writeFieldBegin({fname:"request_id",ftype:b("ThriftTypes").STRING,fid:2});if(a.request_id!=null)c.writeString(a.request_id);else{d="";c.writeString(d)}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function A(a,c){c.writeStructBegin("PollCreateInputState");c.writeFieldBegin({fname:"title",ftype:b("ThriftTypes").STRING,fid:1});if(a.title!=null)c.writeString(a.title);else{var d="";c.writeString(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"options",ftype:b("ThriftTypes").LIST,fid:2});if(a.options!=null){c.writeListBegin({etype:b("ThriftTypes").STRUCT,size:a.options.length});for(var d=a.options,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=d.length)break;g=d[f++]}else{f=d.next();if(f.done)break;g=f.value}g=g;w(g,c)}c.writeListEnd()}else{g=[];c.writeListBegin({etype:b("ThriftTypes").STRUCT,size:g.length});for(f=0;f<g.length;f++){e=g[f];w(e,c)}c.writeListEnd()}c.writeFieldEnd();c.writeFieldBegin({fname:"type",ftype:b("ThriftTypes").I32,fid:3});if(a.type!=null){c.writeI32((d=a.type)!=null?d:0)}else{e=b("PollsStatePollsStateTypes").PollType.cast(0);c.writeI32((g=e)!=null?g:0)}c.writeFieldEnd();c.writeFieldBegin({fname:"poll_id",ftype:b("ThriftTypes").STRING,fid:4});if(a.poll_id!=null)c.writeString(a.poll_id);else{f="";c.writeString(f)}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function B(a,c){c.writeStructBegin("PollCloneE2EEState");c.writeFieldBegin({fname:"cloned_poll_state",ftype:b("ThriftTypes").LIST,fid:1});if(a.cloned_poll_state!=null){c.writeListBegin({etype:b("ThriftTypes").STRUCT,size:a.cloned_poll_state.length});for(var a=a.cloned_poll_state,d=Array.isArray(a),e=0,a=d?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=a.length)break;f=a[e++]}else{e=a.next();if(e.done)break;f=e.value}f=f;x(f,c)}c.writeListEnd()}else{f=[];c.writeListBegin({etype:b("ThriftTypes").STRUCT,size:f.length});for(e=0;e<f.length;e++){d=f[e];x(d,c)}c.writeListEnd()}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function C(a,c){c.writeStructBegin("PollRemoveInputState");c.writeFieldBegin({fname:"poll_id",ftype:b("ThriftTypes").STRING,fid:1});if(a.poll_id!=null)c.writeString(a.poll_id);else{a="";c.writeString(a)}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function D(a,c){c.writeStructBegin("PollVoteInputState");c.writeFieldBegin({fname:"poll_option_id",ftype:b("ThriftTypes").STRING,fid:1});if(a.poll_option_id!=null)c.writeString(a.poll_option_id);else{a="";c.writeString(a)}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function E(a,c){c.writeStructBegin("PollRemoveVoteInputState");c.writeFieldBegin({fname:"poll_option_id",ftype:b("ThriftTypes").STRING,fid:1});if(a.poll_option_id!=null)c.writeString(a.poll_option_id);else{a="";c.writeString(a)}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function F(a,c){c.writeStructBegin("PollPingInputState");c.writeFieldBegin({fname:"is_ping",ftype:b("ThriftTypes").BOOL,fid:1});if(a.is_ping!=null)c.writeBool(a.is_ping);else{a=!1;c.writeBool(a)}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function G(a,c){c.writeStructBegin("ParticipantPermissions");c.writeFieldBegin({fname:"can_create",ftype:b("ThriftTypes").BOOL,fid:1});if(a.can_create!=null)c.writeBool(a.can_create);else{var d=!1;c.writeBool(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"poll_permissions",ftype:b("ThriftTypes").MAP,fid:2});if(a.poll_permissions!=null){c.writeMapBegin({ktype:b("ThriftTypes").STRING,vtype:b("ThriftTypes").STRUCT,size:Object.keys(a.poll_permissions).length});d=Object.entries(a.poll_permissions);for(var e=0;e<d.length;e++){var f=d[e],g=f[0];f=f[1];c.writeString(g);H(f,c)}c.writeMapEnd()}else{g={};c.writeMapBegin({ktype:b("ThriftTypes").STRING,vtype:b("ThriftTypes").STRUCT,size:Object.keys(g).length});f=Object.entries(g);for(d=0;d<f.length;d++){e=f[d];g=e[0];e=e[1];c.writeString(g);H(e,c)}c.writeMapEnd()}c.writeFieldEnd();c.writeFieldBegin({fname:"poll_option_permissions",ftype:b("ThriftTypes").MAP,fid:3});if(a.poll_option_permissions!=null){c.writeMapBegin({ktype:b("ThriftTypes").STRING,vtype:b("ThriftTypes").STRUCT,size:Object.keys(a.poll_option_permissions).length});g=Object.entries(a.poll_option_permissions);for(e=0;e<g.length;e++){f=g[e];d=f[0];a=f[1];c.writeString(d);I(a,c)}c.writeMapEnd()}else{f={};c.writeMapBegin({ktype:b("ThriftTypes").STRING,vtype:b("ThriftTypes").STRUCT,size:Object.keys(f).length});d=Object.entries(f);for(a=0;a<d.length;a++){g=d[a];e=g[0];f=g[1];c.writeString(e);I(f,c)}c.writeMapEnd()}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function H(a,c){c.writeStructBegin("PollPermissions");c.writeFieldBegin({fname:"can_delete",ftype:b("ThriftTypes").BOOL,fid:1});if(a.can_delete!=null)c.writeBool(a.can_delete);else{a=!1;c.writeBool(a)}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function I(a,c){c.writeStructBegin("PollOptionPermissions");c.writeFieldBegin({fname:"can_vote",ftype:b("ThriftTypes").BOOL,fid:1});if(a.can_vote!=null)c.writeBool(a.can_vote);else{var d=!1;c.writeBool(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"can_remove_vote",ftype:b("ThriftTypes").BOOL,fid:2});if(a.can_remove_vote!=null)c.writeBool(a.can_remove_vote);else{d=!1;c.writeBool(d)}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function J(a,c){c.writeStructBegin("PollsParticipantOutputState");c.writeFieldBegin({fname:"polls",ftype:b("ThriftTypes").LIST,fid:1});if(a.polls!=null){c.writeListBegin({etype:b("ThriftTypes").STRUCT,size:a.polls.length});for(var d=a.polls,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=d.length)break;g=d[f++]}else{f=d.next();if(f.done)break;g=f.value}g=g;x(g,c)}c.writeListEnd()}else{g=[];c.writeListBegin({etype:b("ThriftTypes").STRUCT,size:g.length});for(f=0;f<g.length;f++){e=g[f];x(e,c)}c.writeListEnd()}c.writeFieldEnd();c.writeFieldBegin({fname:"processed_action_uuids",ftype:b("ThriftTypes").SET,fid:2});if(a.processed_action_uuids!=null){c.writeSetBegin({etype:b("ThriftTypes").STRING,size:a.processed_action_uuids.size});for(d=a.processed_action_uuids,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(e){if(f>=d.length)break;g=d[f++]}else{f=d.next();if(f.done)break;g=f.value}g=g;c.writeString(g)}c.writeSetEnd()}else{g=new Set();c.writeSetBegin({etype:b("ThriftTypes").STRING,size:g.size});for(f=g,e=Array.isArray(f),d=0,f=e?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(e){if(d>=f.length)break;g=f[d++]}else{d=f.next();if(d.done)break;g=d.value}g=g;c.writeString(g)}c.writeSetEnd()}c.writeFieldEnd();c.writeFieldBegin({fname:"permissions",ftype:b("ThriftTypes").STRUCT,fid:3});if(a.permissions!=null)G(a.permissions,c);else{g=o();G(g,c)}c.writeFieldEnd();c.writeFieldBegin({fname:"is_creation_enabled",ftype:b("ThriftTypes").BOOL,fid:4});if(a.is_creation_enabled!=null)c.writeBool(a.is_creation_enabled);else{d=!1;c.writeBool(d)}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function K(a,c){c.writeStructBegin("PollsConferenceOutputState");c.writeFieldBegin({fname:"polls",ftype:b("ThriftTypes").LIST,fid:1});if(a.polls!=null){c.writeListBegin({etype:b("ThriftTypes").STRUCT,size:a.polls.length});for(var d=a.polls,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=d.length)break;g=d[f++]}else{f=d.next();if(f.done)break;g=f.value}g=g;x(g,c)}c.writeListEnd()}else{g=[];c.writeListBegin({etype:b("ThriftTypes").STRUCT,size:g.length});for(f=0;f<g.length;f++){e=g[f];x(e,c)}c.writeListEnd()}c.writeFieldEnd();c.writeFieldBegin({fname:"participant_id_to_processed_action_uuids",ftype:b("ThriftTypes").MAP,fid:2});if(a.participant_id_to_processed_action_uuids!=null){c.writeMapBegin({ktype:b("ThriftTypes").STRING,vtype:b("ThriftTypes").SET,size:Object.keys(a.participant_id_to_processed_action_uuids).length});d=Object.entries(a.participant_id_to_processed_action_uuids);for(e=0;e<d.length;e++){f=d[e];g=f[0];f=f[1];c.writeString(g);c.writeSetBegin({etype:b("ThriftTypes").STRING,size:f.size});for(var g=f,f=Array.isArray(g),h=0,g=f?g:g[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var i;if(f){if(h>=g.length)break;i=g[h++]}else{h=g.next();if(h.done)break;i=h.value}i=i;c.writeString(i)}c.writeSetEnd()}c.writeMapEnd()}else{i={};c.writeMapBegin({ktype:b("ThriftTypes").STRING,vtype:b("ThriftTypes").SET,size:Object.keys(i).length});h=Object.entries(i);for(f=0;f<h.length;f++){g=h[f];d=g[0];e=g[1];c.writeString(d);c.writeSetBegin({etype:b("ThriftTypes").STRING,size:e.size});for(i=e,g=Array.isArray(i),d=0,i=g?i:i[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(g){if(d>=i.length)break;e=i[d++]}else{d=i.next();if(d.done)break;e=d.value}e=e;c.writeString(e)}c.writeSetEnd()}c.writeMapEnd()}c.writeFieldEnd();c.writeFieldBegin({fname:"permissions",ftype:b("ThriftTypes").MAP,fid:3});if(a.permissions!=null){c.writeMapBegin({ktype:b("ThriftTypes").STRING,vtype:b("ThriftTypes").STRUCT,size:Object.keys(a.permissions).length});e=Object.entries(a.permissions);for(d=0;d<e.length;d++){g=e[d];i=g[0];h=g[1];c.writeString(i);G(h,c)}c.writeMapEnd()}else{f={};c.writeMapBegin({ktype:b("ThriftTypes").STRING,vtype:b("ThriftTypes").STRUCT,size:Object.keys(f).length});g=Object.entries(f);for(i=0;i<g.length;i++){h=g[i];e=h[0];d=h[1];c.writeString(e);G(d,c)}c.writeMapEnd()}c.writeFieldEnd();c.writeFieldBegin({fname:"users_with_creation_enabled",ftype:b("ThriftTypes").SET,fid:4});if(a.users_with_creation_enabled!=null){c.writeSetBegin({etype:b("ThriftTypes").STRING,size:a.users_with_creation_enabled.size});for(f=a.users_with_creation_enabled,h=Array.isArray(f),e=0,f=h?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(h){if(e>=f.length)break;d=f[e++]}else{e=f.next();if(e.done)break;d=e.value}g=d;c.writeString(g)}c.writeSetEnd()}else{i=new Set();c.writeSetBegin({etype:b("ThriftTypes").STRING,size:i.size});for(d=i,g=Array.isArray(d),e=0,d=g?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(g){if(e>=d.length)break;h=d[e++]}else{e=d.next();if(e.done)break;h=e.value}f=h;c.writeString(f)}c.writeSetEnd()}c.writeFieldEnd();c.writeFieldBegin({fname:"is_creation_enabled_for_all",ftype:b("ThriftTypes").BOOL,fid:5});if(a.is_creation_enabled_for_all!=null)c.writeBool(a.is_creation_enabled_for_all);else{i=!1;c.writeBool(i)}c.writeFieldEnd();a.creation_gk!=null&&(c.writeFieldBegin({fname:"creation_gk",ftype:b("ThriftTypes").STRING,fid:6}),c.writeString(a.creation_gk),c.writeFieldEnd());c.writeFieldBegin({fname:"is_online_learning_call",ftype:b("ThriftTypes").BOOL,fid:7});if(a.is_online_learning_call!=null)c.writeBool(a.is_online_learning_call);else{h=!1;c.writeBool(h)}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function L(a,c){c.writeStructBegin("PollsParticipantActionInputState");if(a.create!=null){c.writeFieldBegin({fname:"create",ftype:b("ThriftTypes").STRUCT,fid:1});A(a.create,c);c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd();return}if(a.remove!=null){c.writeFieldBegin({fname:"remove",ftype:b("ThriftTypes").STRUCT,fid:2});C(a.remove,c);c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd();return}if(a.vote!=null){c.writeFieldBegin({fname:"vote",ftype:b("ThriftTypes").STRUCT,fid:3});D(a.vote,c);c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd();return}if(a.remove_vote!=null){c.writeFieldBegin({fname:"remove_vote",ftype:b("ThriftTypes").STRUCT,fid:4});E(a.remove_vote,c);c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd();return}if(a.ping!=null){c.writeFieldBegin({fname:"ping",ftype:b("ThriftTypes").STRUCT,fid:6});F(a.ping,c);c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd();return}if(a.clone_poll_state!=null){c.writeFieldBegin({fname:"clone_poll_state",ftype:b("ThriftTypes").STRUCT,fid:8});B(a.clone_poll_state,c);c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd();return}c.writeFieldStop();c.writeStructEnd()}function M(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").STRING?c.text=a.readString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();return c}function N(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").STRING?c.fbid=a.readString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();return c}function O(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").STRING?c.id=a.readString():a.skip(e);break;case 2:e===b("ThriftTypes").STRUCT?c.content=M(a):a.skip(e);break;case 3:if(e===b("ThriftTypes").LIST){c.voters=[];d=a.readListBegin();for(var f=0;f<d.size;f++){var h=N(a);c.voters.push(h)}}else a.skip(e);break;case 4:e===b("ThriftTypes").FLOAT?c.vote_fraction=a.readFloat():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.id===void 0&&(c.id="");c.content===void 0&&(c.content=g());c.voters===void 0&&(c.voters=[]);c.vote_fraction===void 0&&(c.vote_fraction=0);return c}function P(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").STRING?c.id=a.readString():a.skip(e);break;case 2:e===b("ThriftTypes").STRUCT?c.creator=N(a):a.skip(e);break;case 3:e===b("ThriftTypes").STRING?c.title=a.readString():a.skip(e);break;case 4:if(e===b("ThriftTypes").LIST){c.options=[];d=a.readListBegin();for(var f=0;f<d.size;f++){var g=O(a);c.options.push(g)}}else a.skip(e);break;case 5:e===b("ThriftTypes").I32?c.type=b("PollsStatePollsStateTypes").PollType.cast(a.readI32()):a.skip(e);break;case 6:e===b("ThriftTypes").I32?c.state=b("PollsStatePollsStateTypes").PollState.cast(a.readI32()):a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.id===void 0&&(c.id="");c.creator===void 0&&(c.creator=h());c.title===void 0&&(c.title="");c.options===void 0&&(c.options=[]);c.type===void 0&&(c.type=b("PollsStatePollsStateTypes").PollType.cast(0));c.state===void 0&&(c.state=b("PollsStatePollsStateTypes").PollState.cast(0));return c}function Q(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").STRUCT?c.action=$(a):a.skip(e);break;case 2:e===b("ThriftTypes").STRING?c.action_uuid=a.readString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.action===void 0&&(c.action=t());return c}function aa(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").STRUCT?c.action=$(a):a.skip(e);break;case 2:e===b("ThriftTypes").STRING?c.request_id=a.readString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.action===void 0&&(c.action=t());c.request_id===void 0&&(c.request_id="");return c}function R(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").STRING?c.title=a.readString():a.skip(e);break;case 2:if(e===b("ThriftTypes").LIST){c.options=[];d=a.readListBegin();for(var f=0;f<d.size;f++){var g=O(a);c.options.push(g)}}else a.skip(e);break;case 3:e===b("ThriftTypes").I32?c.type=b("PollsStatePollsStateTypes").PollType.cast(a.readI32()):a.skip(e);break;case 4:e===b("ThriftTypes").STRING?c.poll_id=a.readString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.title===void 0&&(c.title="");c.options===void 0&&(c.options=[]);c.type===void 0&&(c.type=b("PollsStatePollsStateTypes").PollType.cast(0));c.poll_id===void 0&&(c.poll_id="");return c}function S(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:if(e===b("ThriftTypes").LIST){c.cloned_poll_state=[];d=a.readListBegin();for(var f=0;f<d.size;f++){var g=P(a);c.cloned_poll_state.push(g)}}else a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.cloned_poll_state===void 0&&(c.cloned_poll_state=[]);return c}function T(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").STRING?c.poll_id=a.readString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.poll_id===void 0&&(c.poll_id="");return c}function U(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").STRING?c.poll_option_id=a.readString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.poll_option_id===void 0&&(c.poll_option_id="");return c}function V(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").STRING?c.poll_option_id=a.readString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.poll_option_id===void 0&&(c.poll_option_id="");return c}function W(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").BOOL?c.is_ping=a.readBool():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.is_ping===void 0&&(c.is_ping=!1);return c}function X(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").BOOL?c.can_create=a.readBool():a.skip(e);break;case 2:if(e===b("ThriftTypes").MAP){c.poll_permissions={};d=a.readMapBegin();for(var f=0;f<d.size;f++){var g=a.readString(),h=Y(a);c.poll_permissions[g]=h}}else a.skip(e);break;case 3:if(e===b("ThriftTypes").MAP){c.poll_option_permissions={};g=a.readMapBegin();for(h=0;h<g.size;h++){f=a.readString();d=Z(a);c.poll_option_permissions[f]=d}}else a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.can_create===void 0&&(c.can_create=!1);c.poll_permissions===void 0&&(c.poll_permissions={});c.poll_option_permissions===void 0&&(c.poll_option_permissions={});return c}function Y(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").BOOL?c.can_delete=a.readBool():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.can_delete===void 0&&(c.can_delete=!1);return c}function Z(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").BOOL?c.can_vote=a.readBool():a.skip(e);break;case 2:e===b("ThriftTypes").BOOL?c.can_remove_vote=a.readBool():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.can_vote===void 0&&(c.can_vote=!1);c.can_remove_vote===void 0&&(c.can_remove_vote=!1);return c}function ba(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:if(e===b("ThriftTypes").LIST){c.polls=[];d=a.readListBegin();for(var f=0;f<d.size;f++){var g=P(a);c.polls.push(g)}}else a.skip(e);break;case 2:if(e===b("ThriftTypes").SET){c.processed_action_uuids=new Set();g=a.readSetBegin();for(f=0;f<g.size;f++){d=a.readString();c.processed_action_uuids.add(d)}}else a.skip(e);break;case 3:e===b("ThriftTypes").STRUCT?c.permissions=X(a):a.skip(e);break;case 4:e===b("ThriftTypes").BOOL?c.is_creation_enabled=a.readBool():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.polls===void 0&&(c.polls=[]);c.processed_action_uuids===void 0&&(c.processed_action_uuids=new Set());c.permissions===void 0&&(c.permissions=o());c.is_creation_enabled===void 0&&(c.is_creation_enabled=!1);return c}function ca(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:if(e===b("ThriftTypes").LIST){c.polls=[];d=a.readListBegin();for(var f=0;f<d.size;f++){var g=P(a);c.polls.push(g)}}else a.skip(e);break;case 2:if(e===b("ThriftTypes").MAP){c.participant_id_to_processed_action_uuids={};g=a.readMapBegin();for(f=0;f<g.size;f++){d=a.readString();var h=new Set(),i=a.readSetBegin();for(var j=0;j<i.size;j++){var k=a.readString();h.add(k)}c.participant_id_to_processed_action_uuids[d]=h}}else a.skip(e);break;case 3:if(e===b("ThriftTypes").MAP){c.permissions={};k=a.readMapBegin();for(j=0;j<k.size;j++){i=a.readString();d=X(a);c.permissions[i]=d}}else a.skip(e);break;case 4:if(e===b("ThriftTypes").SET){c.users_with_creation_enabled=new Set();h=a.readSetBegin();for(f=0;f<h.size;f++){g=a.readString();c.users_with_creation_enabled.add(g)}}else a.skip(e);break;case 5:e===b("ThriftTypes").BOOL?c.is_creation_enabled_for_all=a.readBool():a.skip(e);break;case 6:e===b("ThriftTypes").STRING?c.creation_gk=a.readString():a.skip(e);break;case 7:e===b("ThriftTypes").BOOL?c.is_online_learning_call=a.readBool():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.polls===void 0&&(c.polls=[]);c.participant_id_to_processed_action_uuids===void 0&&(c.participant_id_to_processed_action_uuids={});c.permissions===void 0&&(c.permissions={});c.users_with_creation_enabled===void 0&&(c.users_with_creation_enabled=new Set());c.is_creation_enabled_for_all===void 0&&(c.is_creation_enabled_for_all=!1);c.is_online_learning_call===void 0&&(c.is_online_learning_call=!1);return c}function $(a){var c,d={};a.readStructBegin();while(!0){var e=a.readFieldBegin(),f=e.ftype;e=e.fid;if(f===b("ThriftTypes").STOP)break;switch(e){case 1:if(f===b("ThriftTypes").STRUCT)if(c==null)d.create=R(a),c="create";else throw new Error("more than one field have been deserialized in union type: PollsParticipantActionInputState; current field: create, previous deserialized field: "+c);else a.skip(f);break;case 2:if(f===b("ThriftTypes").STRUCT)if(c==null)d.remove=T(a),c="remove";else throw new Error("more than one field have been deserialized in union type: PollsParticipantActionInputState; current field: remove, previous deserialized field: "+c);else a.skip(f);break;case 3:if(f===b("ThriftTypes").STRUCT)if(c==null)d.vote=U(a),c="vote";else throw new Error("more than one field have been deserialized in union type: PollsParticipantActionInputState; current field: vote, previous deserialized field: "+c);else a.skip(f);break;case 4:if(f===b("ThriftTypes").STRUCT)if(c==null)d.remove_vote=V(a),c="remove_vote";else throw new Error("more than one field have been deserialized in union type: PollsParticipantActionInputState; current field: remove_vote, previous deserialized field: "+c);else a.skip(f);break;case 6:if(f===b("ThriftTypes").STRUCT)if(c==null)d.ping=W(a),c="ping";else throw new Error("more than one field have been deserialized in union type: PollsParticipantActionInputState; current field: ping, previous deserialized field: "+c);else a.skip(f);break;case 8:if(f===b("ThriftTypes").STRUCT)if(c==null)d.clone_poll_state=S(a),c="clone_poll_state";else throw new Error("more than one field have been deserialized in union type: PollsParticipantActionInputState; current field: clone_poll_state, previous deserialized field: "+c);else a.skip(f);break;default:a.skip(f)}a.readFieldEnd()}a.readStructEnd();return d}f.Content$DefaultConstructor=g;f.PollParticipant$DefaultConstructor=h;f.PollOption$DefaultConstructor=a;f.Poll$DefaultConstructor=c;f.PollsParticipantInputState$DefaultConstructor=d;f.E2EEPollsParticipantPayload$DefaultConstructor=e;f.PollCreateInputState$DefaultConstructor=i;f.PollCloneE2EEState$DefaultConstructor=j;f.PollRemoveInputState$DefaultConstructor=k;f.PollVoteInputState$DefaultConstructor=l;f.PollRemoveVoteInputState$DefaultConstructor=m;f.PollPingInputState$DefaultConstructor=n;f.ParticipantPermissions$DefaultConstructor=o;f.PollPermissions$DefaultConstructor=p;f.PollOptionPermissions$DefaultConstructor=q;f.PollsParticipantOutputState$DefaultConstructor=r;f.PollsConferenceOutputState$DefaultConstructor=s;f.PollsParticipantActionInputState$DefaultConstructor=t;f.serializeContent=u;f.serializePollParticipant=v;f.serializePollOption=w;f.serializePoll=x;f.serializePollsParticipantInputState=y;f.serializeE2EEPollsParticipantPayload=z;f.serializePollCreateInputState=A;f.serializePollCloneE2EEState=B;f.serializePollRemoveInputState=C;f.serializePollVoteInputState=D;f.serializePollRemoveVoteInputState=E;f.serializePollPingInputState=F;f.serializeParticipantPermissions=G;f.serializePollPermissions=H;f.serializePollOptionPermissions=I;f.serializePollsParticipantOutputState=J;f.serializePollsConferenceOutputState=K;f.serializePollsParticipantActionInputState=L;f.deserializeContent=M;f.deserializePollParticipant=N;f.deserializePollOption=O;f.deserializePoll=P;f.deserializePollsParticipantInputState=Q;f.deserializeE2EEPollsParticipantPayload=aa;f.deserializePollCreateInputState=R;f.deserializePollCloneE2EEState=S;f.deserializePollRemoveInputState=T;f.deserializePollVoteInputState=U;f.deserializePollRemoveVoteInputState=V;f.deserializePollPingInputState=W;f.deserializeParticipantPermissions=X;f.deserializePollPermissions=Y;f.deserializePollOptionPermissions=Z;f.deserializePollsParticipantOutputState=ba;f.deserializePollsConferenceOutputState=ca;f.deserializePollsParticipantActionInputState=$}),66);
__d("RaisedHandsQueueStateRaisedHandsQueueStateTypes",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({UNKNOWN:0,JOIN:1,LEAVE:2,E2EE_STATE_CLONE:3});c=b("$InternalEnum")({UNKNOWN:0,CLASS_ROOM:1,WORKPLACE:2,MESSENGER:3});d=b("$InternalEnum")({UNKNOWN:0,HIDDEN:1,VISIBLE:2});e.exports={CallType:c,RaisedHandsQueueParticipantRequestType:a,RaisedHandsQueuerState:d}}),null);
__d("RaisedHandsQueueStateRaisedHandsQueueStateSerializers",["RaisedHandsQueueStateRaisedHandsQueueStateTypes","ThriftTypes","jsbi"],(function(a,b,c,d,e,f){"use strict";function a(){return{actor_uuid:"",request_type:b("RaisedHandsQueueStateRaisedHandsQueueStateTypes").RaisedHandsQueueParticipantRequestType.cast(0)}}function c(){return{state:b("RaisedHandsQueueStateRaisedHandsQueueStateTypes").RaisedHandsQueuerState.cast(0),start_time:"0",is_new_state:!1}}function d(){return{uid:"",state_info_history:[]}}function e(){return{request_type:b("RaisedHandsQueueStateRaisedHandsQueueStateTypes").RaisedHandsQueueParticipantRequestType.cast(0)}}function g(){return{operational_raised_hands_queue:[]}}function h(){return{request_type:b("RaisedHandsQueueStateRaisedHandsQueueStateTypes").RaisedHandsQueueParticipantRequestType.cast(0),request_id:""}}function i(){return{queue:[],is_raise_hand_feature_enabled:!1,processed_action_uuids:new Set()}}function j(){return{queue:[],is_raise_hand_feature_enabled:!1,participant_id_to_processed_action_uuids:{}}}function k(){return{queue:[],is_raise_hand_feature_enabled:!1}}function l(a,c){c.writeStructBegin("RaisedHandsActionInfo");c.writeFieldBegin({fname:"actor_uuid",ftype:b("ThriftTypes").STRING,fid:1});if(a.actor_uuid!=null)c.writeString(a.actor_uuid);else{var d="";c.writeString(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"request_type",ftype:b("ThriftTypes").I32,fid:2});if(a.request_type!=null){c.writeI32((d=a.request_type)!=null?d:0)}else{d=b("RaisedHandsQueueStateRaisedHandsQueueStateTypes").RaisedHandsQueueParticipantRequestType.cast(0);c.writeI32((d=d)!=null?d:0)}c.writeFieldEnd();a.action_uuid!=null&&(c.writeFieldBegin({fname:"action_uuid",ftype:b("ThriftTypes").STRING,fid:3}),c.writeString(a.action_uuid),c.writeFieldEnd());if(a.participant_uuids!=null){c.writeFieldBegin({fname:"participant_uuids",ftype:b("ThriftTypes").SET,fid:4});c.writeSetBegin({etype:b("ThriftTypes").STRING,size:a.participant_uuids.size});for(var d=a.participant_uuids,a=Array.isArray(d),e=0,d=a?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(a){if(e>=d.length)break;f=d[e++]}else{e=d.next();if(e.done)break;f=e.value}f=f;c.writeString(f)}c.writeSetEnd();c.writeFieldEnd()}c.writeFieldStop();c.writeStructEnd()}function m(a,c){c.writeStructBegin("RaisedHandsQueuerStateInfo");c.writeFieldBegin({fname:"state",ftype:b("ThriftTypes").I32,fid:1});if(a.state!=null){var d;c.writeI32((d=a.state)!=null?d:0)}else{d=b("RaisedHandsQueueStateRaisedHandsQueueStateTypes").RaisedHandsQueuerState.cast(0);c.writeI32((d=d)!=null?d:0)}c.writeFieldEnd();c.writeFieldBegin({fname:"start_time",ftype:b("ThriftTypes").I64,fid:2});if(a.start_time!=null)c.writeI64(b("jsbi").BigInt(a.start_time));else{d="0";c.writeI64(b("jsbi").BigInt(d))}c.writeFieldEnd();c.writeFieldBegin({fname:"is_new_state",ftype:b("ThriftTypes").BOOL,fid:3});if(a.is_new_state!=null)c.writeBool(a.is_new_state);else{d=!1;c.writeBool(d)}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function n(a,c){c.writeStructBegin("RaisedHandsQueuer");c.writeFieldBegin({fname:"uid",ftype:b("ThriftTypes").STRING,fid:1});if(a.uid!=null)c.writeString(a.uid);else{var d="";c.writeString(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"state_info_history",ftype:b("ThriftTypes").LIST,fid:3});if(a.state_info_history!=null){c.writeListBegin({etype:b("ThriftTypes").STRUCT,size:a.state_info_history.length});for(var d=a.state_info_history,a=Array.isArray(d),e=0,d=a?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(a){if(e>=d.length)break;f=d[e++]}else{e=d.next();if(e.done)break;f=e.value}f=f;m(f,c)}c.writeListEnd()}else{f=[];c.writeListBegin({etype:b("ThriftTypes").STRUCT,size:f.length});for(e=0;e<f.length;e++){a=f[e];m(a,c)}c.writeListEnd()}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function o(a,c){c.writeStructBegin("RaisedHandsQueueParticipantInputState");c.writeFieldBegin({fname:"request_type",ftype:b("ThriftTypes").I32,fid:1});if(a.request_type!=null){var d;c.writeI32((d=a.request_type)!=null?d:0)}else{d=b("RaisedHandsQueueStateRaisedHandsQueueStateTypes").RaisedHandsQueueParticipantRequestType.cast(0);c.writeI32((d=d)!=null?d:0)}c.writeFieldEnd();a.action_uuid!=null&&(c.writeFieldBegin({fname:"action_uuid",ftype:b("ThriftTypes").STRING,fid:3}),c.writeString(a.action_uuid),c.writeFieldEnd());c.writeFieldStop();c.writeStructEnd()}function p(a,c){c.writeStructBegin("E2EERaisedHandsQueueStateCloneRequestParams");c.writeFieldBegin({fname:"operational_raised_hands_queue",ftype:b("ThriftTypes").LIST,fid:1});if(a.operational_raised_hands_queue!=null){c.writeListBegin({etype:b("ThriftTypes").STRUCT,size:a.operational_raised_hands_queue.length});for(var a=a.operational_raised_hands_queue,d=Array.isArray(a),e=0,a=d?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=a.length)break;f=a[e++]}else{e=a.next();if(e.done)break;f=e.value}f=f;n(f,c)}c.writeListEnd()}else{f=[];c.writeListBegin({etype:b("ThriftTypes").STRUCT,size:f.length});for(e=0;e<f.length;e++){d=f[e];n(d,c)}c.writeListEnd()}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function q(a,c){c.writeStructBegin("E2EERaisedHandsQueueParticipantPayload");c.writeFieldBegin({fname:"request_type",ftype:b("ThriftTypes").I32,fid:1});if(a.request_type!=null){var d;c.writeI32((d=a.request_type)!=null?d:0)}else{d=b("RaisedHandsQueueStateRaisedHandsQueueStateTypes").RaisedHandsQueueParticipantRequestType.cast(0);c.writeI32((d=d)!=null?d:0)}c.writeFieldEnd();c.writeFieldBegin({fname:"request_id",ftype:b("ThriftTypes").STRING,fid:2});if(a.request_id!=null)c.writeString(a.request_id);else{d="";c.writeString(d)}c.writeFieldEnd();a.state_clone_request_params!=null&&(c.writeFieldBegin({fname:"state_clone_request_params",ftype:b("ThriftTypes").STRUCT,fid:3}),p(a.state_clone_request_params,c),c.writeFieldEnd());c.writeFieldStop();c.writeStructEnd()}function r(a,c){c.writeStructBegin("RaisedHandsQueueParticipantOutputState");c.writeFieldBegin({fname:"queue",ftype:b("ThriftTypes").LIST,fid:1});if(a.queue!=null){c.writeListBegin({etype:b("ThriftTypes").STRUCT,size:a.queue.length});for(var d=a.queue,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=d.length)break;g=d[f++]}else{f=d.next();if(f.done)break;g=f.value}g=g;n(g,c)}c.writeListEnd()}else{g=[];c.writeListBegin({etype:b("ThriftTypes").STRUCT,size:g.length});for(f=0;f<g.length;f++){e=g[f];n(e,c)}c.writeListEnd()}c.writeFieldEnd();c.writeFieldBegin({fname:"is_raise_hand_feature_enabled",ftype:b("ThriftTypes").BOOL,fid:2});if(a.is_raise_hand_feature_enabled!=null)c.writeBool(a.is_raise_hand_feature_enabled);else{d=!1;c.writeBool(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"processed_action_uuids",ftype:b("ThriftTypes").SET,fid:4});if(a.processed_action_uuids!=null){c.writeSetBegin({etype:b("ThriftTypes").STRING,size:a.processed_action_uuids.size});for(e=a.processed_action_uuids,f=Array.isArray(e),g=0,e=f?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(f){if(g>=e.length)break;d=e[g++]}else{g=e.next();if(g.done)break;d=g.value}a=d;c.writeString(a)}c.writeSetEnd()}else{d=new Set();c.writeSetBegin({etype:b("ThriftTypes").STRING,size:d.size});for(a=d,g=Array.isArray(a),f=0,a=g?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(g){if(f>=a.length)break;e=a[f++]}else{f=a.next();if(f.done)break;e=f.value}d=e;c.writeString(d)}c.writeSetEnd()}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function s(a,c){c.writeStructBegin("RaisedHandsQueueConferenceOutputState");c.writeFieldBegin({fname:"queue",ftype:b("ThriftTypes").LIST,fid:1});if(a.queue!=null){c.writeListBegin({etype:b("ThriftTypes").STRUCT,size:a.queue.length});for(var d=a.queue,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=d.length)break;g=d[f++]}else{f=d.next();if(f.done)break;g=f.value}g=g;n(g,c)}c.writeListEnd()}else{g=[];c.writeListBegin({etype:b("ThriftTypes").STRUCT,size:g.length});for(f=0;f<g.length;f++){e=g[f];n(e,c)}c.writeListEnd()}c.writeFieldEnd();c.writeFieldBegin({fname:"is_raise_hand_feature_enabled",ftype:b("ThriftTypes").BOOL,fid:2});if(a.is_raise_hand_feature_enabled!=null)c.writeBool(a.is_raise_hand_feature_enabled);else{d=!1;c.writeBool(d)}c.writeFieldEnd();if(a.moderator_uids_if_empty_means_everyone_is_moderator!=null){c.writeFieldBegin({fname:"moderator_uids_if_empty_means_everyone_is_moderator",ftype:b("ThriftTypes").SET,fid:4});c.writeSetBegin({etype:b("ThriftTypes").STRING,size:a.moderator_uids_if_empty_means_everyone_is_moderator.size});for(e=a.moderator_uids_if_empty_means_everyone_is_moderator,f=Array.isArray(e),g=0,e=f?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(f){if(g>=e.length)break;d=e[g++]}else{g=e.next();if(g.done)break;d=g.value}d=d;c.writeString(d)}c.writeSetEnd();c.writeFieldEnd()}if(a.call_type!=null){c.writeFieldBegin({fname:"call_type",ftype:b("ThriftTypes").I32,fid:5});c.writeI32((d=a.call_type)!=null?d:0);c.writeFieldEnd()}c.writeFieldBegin({fname:"participant_id_to_processed_action_uuids",ftype:b("ThriftTypes").MAP,fid:6});if(a.participant_id_to_processed_action_uuids!=null){c.writeMapBegin({ktype:b("ThriftTypes").STRING,vtype:b("ThriftTypes").SET,size:Object.keys(a.participant_id_to_processed_action_uuids).length});g=Object.entries(a.participant_id_to_processed_action_uuids);for(f=0;f<g.length;f++){e=g[f];d=e[0];a=e[1];c.writeString(d);c.writeSetBegin({etype:b("ThriftTypes").STRING,size:a.size});for(e=a,d=Array.isArray(e),a=0,e=d?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(d){if(a>=e.length)break;h=e[a++]}else{a=e.next();if(a.done)break;h=a.value}h=h;c.writeString(h)}c.writeSetEnd()}c.writeMapEnd()}else{h={};c.writeMapBegin({ktype:b("ThriftTypes").STRING,vtype:b("ThriftTypes").SET,size:Object.keys(h).length});a=Object.entries(h);for(d=0;d<a.length;d++){e=a[d];g=e[0];f=e[1];c.writeString(g);c.writeSetBegin({etype:b("ThriftTypes").STRING,size:f.size});for(h=f,e=Array.isArray(h),g=0,h=e?h:h[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(e){if(g>=h.length)break;f=h[g++]}else{g=h.next();if(g.done)break;f=g.value}f=f;c.writeString(f)}c.writeSetEnd()}c.writeMapEnd()}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function t(a,c){c.writeStructBegin("RaisedHandsQueueExtensionOutputState");c.writeFieldBegin({fname:"queue",ftype:b("ThriftTypes").LIST,fid:1});if(a.queue!=null){c.writeListBegin({etype:b("ThriftTypes").STRUCT,size:a.queue.length});for(var d=a.queue,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=d.length)break;g=d[f++]}else{f=d.next();if(f.done)break;g=f.value}g=g;n(g,c)}c.writeListEnd()}else{g=[];c.writeListBegin({etype:b("ThriftTypes").STRUCT,size:g.length});for(f=0;f<g.length;f++){e=g[f];n(e,c)}c.writeListEnd()}c.writeFieldEnd();c.writeFieldBegin({fname:"is_raise_hand_feature_enabled",ftype:b("ThriftTypes").BOOL,fid:2});if(a.is_raise_hand_feature_enabled!=null)c.writeBool(a.is_raise_hand_feature_enabled);else{d=!1;c.writeBool(d)}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function u(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").STRING?c.actor_uuid=a.readString():a.skip(e);break;case 2:e===b("ThriftTypes").I32?c.request_type=b("RaisedHandsQueueStateRaisedHandsQueueStateTypes").RaisedHandsQueueParticipantRequestType.cast(a.readI32()):a.skip(e);break;case 3:e===b("ThriftTypes").STRING?c.action_uuid=a.readString():a.skip(e);break;case 4:if(e===b("ThriftTypes").SET){c.participant_uuids=new Set();d=a.readSetBegin();for(var f=0;f<d.size;f++){var g=a.readString();c.participant_uuids.add(g)}}else a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.actor_uuid===void 0&&(c.actor_uuid="");c.request_type===void 0&&(c.request_type=b("RaisedHandsQueueStateRaisedHandsQueueStateTypes").RaisedHandsQueueParticipantRequestType.cast(0));return c}function v(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").I32?c.state=b("RaisedHandsQueueStateRaisedHandsQueueStateTypes").RaisedHandsQueuerState.cast(a.readI32()):a.skip(e);break;case 2:e===b("ThriftTypes").I64?c.start_time=a.readI64().toString():a.skip(e);break;case 3:e===b("ThriftTypes").BOOL?c.is_new_state=a.readBool():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.state===void 0&&(c.state=b("RaisedHandsQueueStateRaisedHandsQueueStateTypes").RaisedHandsQueuerState.cast(0));c.start_time===void 0&&(c.start_time="0");c.is_new_state===void 0&&(c.is_new_state=!1);return c}function w(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").STRING?c.uid=a.readString():a.skip(e);break;case 3:if(e===b("ThriftTypes").LIST){c.state_info_history=[];d=a.readListBegin();for(var f=0;f<d.size;f++){var g=v(a);c.state_info_history.push(g)}}else a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.uid===void 0&&(c.uid="");c.state_info_history===void 0&&(c.state_info_history=[]);return c}function x(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").I32?c.request_type=b("RaisedHandsQueueStateRaisedHandsQueueStateTypes").RaisedHandsQueueParticipantRequestType.cast(a.readI32()):a.skip(e);break;case 3:e===b("ThriftTypes").STRING?c.action_uuid=a.readString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.request_type===void 0&&(c.request_type=b("RaisedHandsQueueStateRaisedHandsQueueStateTypes").RaisedHandsQueueParticipantRequestType.cast(0));return c}function y(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:if(e===b("ThriftTypes").LIST){c.operational_raised_hands_queue=[];d=a.readListBegin();for(var f=0;f<d.size;f++){var g=w(a);c.operational_raised_hands_queue.push(g)}}else a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.operational_raised_hands_queue===void 0&&(c.operational_raised_hands_queue=[]);return c}function z(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").I32?c.request_type=b("RaisedHandsQueueStateRaisedHandsQueueStateTypes").RaisedHandsQueueParticipantRequestType.cast(a.readI32()):a.skip(e);break;case 2:e===b("ThriftTypes").STRING?c.request_id=a.readString():a.skip(e);break;case 3:e===b("ThriftTypes").STRUCT?c.state_clone_request_params=y(a):a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.request_type===void 0&&(c.request_type=b("RaisedHandsQueueStateRaisedHandsQueueStateTypes").RaisedHandsQueueParticipantRequestType.cast(0));c.request_id===void 0&&(c.request_id="");return c}function A(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:if(e===b("ThriftTypes").LIST){c.queue=[];d=a.readListBegin();for(var f=0;f<d.size;f++){var g=w(a);c.queue.push(g)}}else a.skip(e);break;case 2:e===b("ThriftTypes").BOOL?c.is_raise_hand_feature_enabled=a.readBool():a.skip(e);break;case 4:if(e===b("ThriftTypes").SET){c.processed_action_uuids=new Set();g=a.readSetBegin();for(f=0;f<g.size;f++){d=a.readString();c.processed_action_uuids.add(d)}}else a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.queue===void 0&&(c.queue=[]);c.is_raise_hand_feature_enabled===void 0&&(c.is_raise_hand_feature_enabled=!1);c.processed_action_uuids===void 0&&(c.processed_action_uuids=new Set());return c}function B(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:if(e===b("ThriftTypes").LIST){c.queue=[];d=a.readListBegin();for(var f=0;f<d.size;f++){var g=w(a);c.queue.push(g)}}else a.skip(e);break;case 2:e===b("ThriftTypes").BOOL?c.is_raise_hand_feature_enabled=a.readBool():a.skip(e);break;case 4:if(e===b("ThriftTypes").SET){c.moderator_uids_if_empty_means_everyone_is_moderator=new Set();g=a.readSetBegin();for(f=0;f<g.size;f++){d=a.readString();c.moderator_uids_if_empty_means_everyone_is_moderator.add(d)}}else a.skip(e);break;case 5:e===b("ThriftTypes").I32?c.call_type=b("RaisedHandsQueueStateRaisedHandsQueueStateTypes").CallType.cast(a.readI32()):a.skip(e);break;case 6:if(e===b("ThriftTypes").MAP){c.participant_id_to_processed_action_uuids={};d=a.readMapBegin();for(f=0;f<d.size;f++){g=a.readString();var h=new Set(),i=a.readSetBegin();for(var j=0;j<i.size;j++){var k=a.readString();h.add(k)}c.participant_id_to_processed_action_uuids[g]=h}}else a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.queue===void 0&&(c.queue=[]);c.is_raise_hand_feature_enabled===void 0&&(c.is_raise_hand_feature_enabled=!1);c.participant_id_to_processed_action_uuids===void 0&&(c.participant_id_to_processed_action_uuids={});return c}function C(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:if(e===b("ThriftTypes").LIST){c.queue=[];d=a.readListBegin();for(var f=0;f<d.size;f++){var g=w(a);c.queue.push(g)}}else a.skip(e);break;case 2:e===b("ThriftTypes").BOOL?c.is_raise_hand_feature_enabled=a.readBool():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.queue===void 0&&(c.queue=[]);c.is_raise_hand_feature_enabled===void 0&&(c.is_raise_hand_feature_enabled=!1);return c}f.RaisedHandsActionInfo$DefaultConstructor=a;f.RaisedHandsQueuerStateInfo$DefaultConstructor=c;f.RaisedHandsQueuer$DefaultConstructor=d;f.RaisedHandsQueueParticipantInputState$DefaultConstructor=e;f.E2EERaisedHandsQueueStateCloneRequestParams$DefaultConstructor=g;f.E2EERaisedHandsQueueParticipantPayload$DefaultConstructor=h;f.RaisedHandsQueueParticipantOutputState$DefaultConstructor=i;f.RaisedHandsQueueConferenceOutputState$DefaultConstructor=j;f.RaisedHandsQueueExtensionOutputState$DefaultConstructor=k;f.serializeRaisedHandsActionInfo=l;f.serializeRaisedHandsQueuerStateInfo=m;f.serializeRaisedHandsQueuer=n;f.serializeRaisedHandsQueueParticipantInputState=o;f.serializeE2EERaisedHandsQueueStateCloneRequestParams=p;f.serializeE2EERaisedHandsQueueParticipantPayload=q;f.serializeRaisedHandsQueueParticipantOutputState=r;f.serializeRaisedHandsQueueConferenceOutputState=s;f.serializeRaisedHandsQueueExtensionOutputState=t;f.deserializeRaisedHandsActionInfo=u;f.deserializeRaisedHandsQueuerStateInfo=v;f.deserializeRaisedHandsQueuer=w;f.deserializeRaisedHandsQueueParticipantInputState=x;f.deserializeE2EERaisedHandsQueueStateCloneRequestParams=y;f.deserializeE2EERaisedHandsQueueParticipantPayload=z;f.deserializeRaisedHandsQueueParticipantOutputState=A;f.deserializeRaisedHandsQueueConferenceOutputState=B;f.deserializeRaisedHandsQueueExtensionOutputState=C}),66);
__d("RoomsNotesRoomsNotesStateSerializers",["ThriftTypes"],(function(a,b,c,d,e,f){"use strict";function a(){return{note_id:""}}function c(){return{note_id:""}}function d(a,c){c.writeStructBegin("RoomsNotesInputState");c.writeFieldBegin({fname:"note_id",ftype:b("ThriftTypes").STRING,fid:1});if(a.note_id!=null)c.writeString(a.note_id);else{a="";c.writeString(a)}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function e(a,c){c.writeStructBegin("RoomsNotesOutputState");c.writeFieldBegin({fname:"note_id",ftype:b("ThriftTypes").STRING,fid:1});if(a.note_id!=null)c.writeString(a.note_id);else{a="";c.writeString(a)}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function g(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").STRING?c.note_id=a.readString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.note_id===void 0&&(c.note_id="");return c}function h(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").STRING?c.note_id=a.readString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.note_id===void 0&&(c.note_id="");return c}f.RoomsNotesInputState$DefaultConstructor=a;f.RoomsNotesOutputState$DefaultConstructor=c;f.serializeRoomsNotesInputState=d;f.serializeRoomsNotesOutputState=e;f.deserializeRoomsNotesInputState=g;f.deserializeRoomsNotesOutputState=h}),66);
__d("ScreenshareFloorControlStateScreenshareFloorControlStateTypes",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({NONE:0,REQUEST_FLOOR:1,RELEASE_FLOOR:2});c=b("$InternalEnum")({DEFAULT_STREAM:0,SCREEN_SHARE:1});d=b("$InternalEnum")({SHARE_SCREEN:0,PIN_STREAM:1});e.exports={FloorControlAction:a,FloorControlIntent:d,FloorControlStream:c}}),null);
__d("ScreenshareFloorControlStateScreenshareFloorControlStateSerializers",["ScreenshareFloorControlStateScreenshareFloorControlStateTypes","ThriftTypes","jsbi"],(function(a,b,c,d,e,f){"use strict";function a(){return{fbid:"",floorControlStream:b("ScreenshareFloorControlStateScreenshareFloorControlStateTypes").FloorControlStream.cast(1),floorControlIntent:b("ScreenshareFloorControlStateScreenshareFloorControlStateTypes").FloorControlIntent.cast(0)}}function c(){return{floorControlAction:b("ScreenshareFloorControlStateScreenshareFloorControlStateTypes").FloorControlAction.cast(0),floorControlStream:b("ScreenshareFloorControlStateScreenshareFloorControlStateTypes").FloorControlStream.cast(1),floorControlIntent:b("ScreenshareFloorControlStateScreenshareFloorControlStateTypes").FloorControlIntent.cast(0)}}function d(){return{floorParticipants:[]}}function g(a,c){c.writeStructBegin("FloorParticipant");c.writeFieldBegin({fname:"fbid",ftype:b("ThriftTypes").STRING,fid:1});if(a.fbid!=null)c.writeString(a.fbid);else{var d="";c.writeString(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"floorControlStream",ftype:b("ThriftTypes").I32,fid:2});if(a.floorControlStream!=null){c.writeI32((d=a.floorControlStream)!=null?d:0)}else{d=b("ScreenshareFloorControlStateScreenshareFloorControlStateTypes").FloorControlStream.cast(1);c.writeI32((d=d)!=null?d:0)}c.writeFieldEnd();c.writeFieldBegin({fname:"floorControlIntent",ftype:b("ThriftTypes").I32,fid:3});if(a.floorControlIntent!=null){c.writeI32((d=a.floorControlIntent)!=null?d:0)}else{d=b("ScreenshareFloorControlStateScreenshareFloorControlStateTypes").FloorControlIntent.cast(0);c.writeI32((d=d)!=null?d:0)}c.writeFieldEnd();a.clientEndpointId!=null&&(c.writeFieldBegin({fname:"clientEndpointId",ftype:b("ThriftTypes").STRING,fid:4}),c.writeString(a.clientEndpointId),c.writeFieldEnd());c.writeFieldStop();c.writeStructEnd()}function e(a,c){c.writeStructBegin("ScreenshareFloorControlInputState");c.writeFieldBegin({fname:"floorControlAction",ftype:b("ThriftTypes").I32,fid:1});if(a.floorControlAction!=null){var d;c.writeI32((d=a.floorControlAction)!=null?d:0)}else{d=b("ScreenshareFloorControlStateScreenshareFloorControlStateTypes").FloorControlAction.cast(0);c.writeI32((d=d)!=null?d:0)}c.writeFieldEnd();c.writeFieldBegin({fname:"floorControlStream",ftype:b("ThriftTypes").I32,fid:2});if(a.floorControlStream!=null){c.writeI32((d=a.floorControlStream)!=null?d:0)}else{d=b("ScreenshareFloorControlStateScreenshareFloorControlStateTypes").FloorControlStream.cast(1);c.writeI32((d=d)!=null?d:0)}c.writeFieldEnd();c.writeFieldBegin({fname:"floorControlIntent",ftype:b("ThriftTypes").I32,fid:3});if(a.floorControlIntent!=null){c.writeI32((d=a.floorControlIntent)!=null?d:0)}else{d=b("ScreenshareFloorControlStateScreenshareFloorControlStateTypes").FloorControlIntent.cast(0);c.writeI32((d=d)!=null?d:0)}c.writeFieldEnd();a.session_id!=null&&(c.writeFieldBegin({fname:"session_id",ftype:b("ThriftTypes").STRING,fid:4}),c.writeString(a.session_id),c.writeFieldEnd());a.clientEndpointId!=null&&(c.writeFieldBegin({fname:"clientEndpointId",ftype:b("ThriftTypes").STRING,fid:5}),c.writeString(a.clientEndpointId),c.writeFieldEnd());c.writeFieldStop();c.writeStructEnd()}function h(a,c){c.writeStructBegin("ScreenshareFloorControlOutputState");c.writeFieldBegin({fname:"floorParticipants",ftype:b("ThriftTypes").LIST,fid:1});if(a.floorParticipants!=null){c.writeListBegin({etype:b("ThriftTypes").STRUCT,size:a.floorParticipants.length});for(var d=a.floorParticipants,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(e){if(f>=d.length)break;h=d[f++]}else{f=d.next();if(f.done)break;h=f.value}h=h;g(h,c)}c.writeListEnd()}else{h=[];c.writeListBegin({etype:b("ThriftTypes").STRUCT,size:h.length});for(f=0;f<h.length;f++){e=h[f];g(e,c)}c.writeListEnd()}c.writeFieldEnd();a.session_id!=null&&(c.writeFieldBegin({fname:"session_id",ftype:b("ThriftTypes").STRING,fid:2}),c.writeString(a.session_id),c.writeFieldEnd());a.session_start_time_ms!=null&&(c.writeFieldBegin({fname:"session_start_time_ms",ftype:b("ThriftTypes").I64,fid:3}),c.writeI64(b("jsbi").BigInt(a.session_start_time_ms)),c.writeFieldEnd());c.writeFieldStop();c.writeStructEnd()}function i(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").STRING?c.fbid=a.readString():a.skip(e);break;case 2:e===b("ThriftTypes").I32?c.floorControlStream=b("ScreenshareFloorControlStateScreenshareFloorControlStateTypes").FloorControlStream.cast(a.readI32()):a.skip(e);break;case 3:e===b("ThriftTypes").I32?c.floorControlIntent=b("ScreenshareFloorControlStateScreenshareFloorControlStateTypes").FloorControlIntent.cast(a.readI32()):a.skip(e);break;case 4:e===b("ThriftTypes").STRING?c.clientEndpointId=a.readString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.fbid===void 0&&(c.fbid="");c.floorControlStream===void 0&&(c.floorControlStream=b("ScreenshareFloorControlStateScreenshareFloorControlStateTypes").FloorControlStream.cast(1));c.floorControlIntent===void 0&&(c.floorControlIntent=b("ScreenshareFloorControlStateScreenshareFloorControlStateTypes").FloorControlIntent.cast(0));return c}function j(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").I32?c.floorControlAction=b("ScreenshareFloorControlStateScreenshareFloorControlStateTypes").FloorControlAction.cast(a.readI32()):a.skip(e);break;case 2:e===b("ThriftTypes").I32?c.floorControlStream=b("ScreenshareFloorControlStateScreenshareFloorControlStateTypes").FloorControlStream.cast(a.readI32()):a.skip(e);break;case 3:e===b("ThriftTypes").I32?c.floorControlIntent=b("ScreenshareFloorControlStateScreenshareFloorControlStateTypes").FloorControlIntent.cast(a.readI32()):a.skip(e);break;case 4:e===b("ThriftTypes").STRING?c.session_id=a.readString():a.skip(e);break;case 5:e===b("ThriftTypes").STRING?c.clientEndpointId=a.readString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.floorControlAction===void 0&&(c.floorControlAction=b("ScreenshareFloorControlStateScreenshareFloorControlStateTypes").FloorControlAction.cast(0));c.floorControlStream===void 0&&(c.floorControlStream=b("ScreenshareFloorControlStateScreenshareFloorControlStateTypes").FloorControlStream.cast(1));c.floorControlIntent===void 0&&(c.floorControlIntent=b("ScreenshareFloorControlStateScreenshareFloorControlStateTypes").FloorControlIntent.cast(0));return c}function k(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:if(e===b("ThriftTypes").LIST){c.floorParticipants=[];d=a.readListBegin();for(var f=0;f<d.size;f++){var g=i(a);c.floorParticipants.push(g)}}else a.skip(e);break;case 2:e===b("ThriftTypes").STRING?c.session_id=a.readString():a.skip(e);break;case 3:e===b("ThriftTypes").I64?c.session_start_time_ms=a.readI64().toString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.floorParticipants===void 0&&(c.floorParticipants=[]);return c}f.FloorParticipant$DefaultConstructor=a;f.ScreenshareFloorControlInputState$DefaultConstructor=c;f.ScreenshareFloorControlOutputState$DefaultConstructor=d;f.serializeFloorParticipant=g;f.serializeScreenshareFloorControlInputState=e;f.serializeScreenshareFloorControlOutputState=h;f.deserializeFloorParticipant=i;f.deserializeScreenshareFloorControlInputState=j;f.deserializeScreenshareFloorControlOutputState=k}),66);
__d("SctpNegotiationStateSctpNegotiationStateTypes",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({UNKNOWN:0,OFFER:1,ANSWER:2,PARTICIPANTS_UPDATED:3});c=b("$InternalEnum")({UNKNOWN:0,SFU:1,P2P:2,SERVER_DETERMINED:3});e.exports={SctpMediaPath:c,SctpMessageTypeEnum:a}}),null);
__d("SctpNegotiationStateSctpNegotiationStateSerializers",["SctpNegotiationStateSctpNegotiationStateTypes","ThriftTypes","jsbi"],(function(a,b,c,d,e,f){"use strict";function a(){return{sdp:h(),msgType:b("SctpNegotiationStateSctpNegotiationStateTypes").SctpMessageTypeEnum.cast(0),mediaPath:b("SctpNegotiationStateSctpNegotiationStateTypes").SctpMediaPath.cast(0)}}function g(){return{sdp:h(),msgType:b("SctpNegotiationStateSctpNegotiationStateTypes").SctpMessageTypeEnum.cast(0),mediaPath:b("SctpNegotiationStateSctpNegotiationStateTypes").SctpMediaPath.cast(0)}}function h(){return{}}function c(){return{outputOffer:g(),senderUserId:""}}function d(){return{}}function e(a,c){c.writeStructBegin("SCTPNegotiationParticipantInputState");c.writeFieldBegin({fname:"sdp",ftype:b("ThriftTypes").STRUCT,fid:1});if(a.sdp!=null)j(a.sdp,c);else{var d=h();j(d,c)}c.writeFieldEnd();c.writeFieldBegin({fname:"msgType",ftype:b("ThriftTypes").I32,fid:2});if(a.msgType!=null){c.writeI32((d=a.msgType)!=null?d:0)}else{d=b("SctpNegotiationStateSctpNegotiationStateTypes").SctpMessageTypeEnum.cast(0);c.writeI32((d=d)!=null?d:0)}c.writeFieldEnd();c.writeFieldBegin({fname:"mediaPath",ftype:b("ThriftTypes").I32,fid:3});if(a.mediaPath!=null){c.writeI32((d=a.mediaPath)!=null?d:0)}else{a=b("SctpNegotiationStateSctpNegotiationStateTypes").SctpMediaPath.cast(0);c.writeI32((d=a)!=null?d:0)}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function i(a,c){c.writeStructBegin("SCTPNegotiationParticipantOutputState");c.writeFieldBegin({fname:"sdp",ftype:b("ThriftTypes").STRUCT,fid:1});if(a.sdp!=null)j(a.sdp,c);else{var d=h();j(d,c)}c.writeFieldEnd();c.writeFieldBegin({fname:"msgType",ftype:b("ThriftTypes").I32,fid:2});if(a.msgType!=null){c.writeI32((d=a.msgType)!=null?d:0)}else{d=b("SctpNegotiationStateSctpNegotiationStateTypes").SctpMessageTypeEnum.cast(0);c.writeI32((d=d)!=null?d:0)}c.writeFieldEnd();c.writeFieldBegin({fname:"mediaPath",ftype:b("ThriftTypes").I32,fid:3});if(a.mediaPath!=null){c.writeI32((d=a.mediaPath)!=null?d:0)}else{d=b("SctpNegotiationStateSctpNegotiationStateTypes").SctpMediaPath.cast(0);c.writeI32((d=d)!=null?d:0)}c.writeFieldEnd();if(a.userIdToNodeIdMap!=null){c.writeFieldBegin({fname:"userIdToNodeIdMap",ftype:b("ThriftTypes").MAP,fid:4});c.writeMapBegin({ktype:b("ThriftTypes").STRING,vtype:b("ThriftTypes").I64,size:a.userIdToNodeIdMap.size});for(var d=a.userIdToNodeIdMap.entries(),a=Array.isArray(d),e=0,d=a?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(a){if(e>=d.length)break;f=d[e++]}else{e=d.next();if(e.done)break;f=e.value}f=f;var g=f[0];f=f[1];c.writeString(g);c.writeI64(b("jsbi").BigInt(f))}c.writeMapEnd();c.writeFieldEnd()}c.writeFieldStop();c.writeStructEnd()}function j(a,c){c.writeStructBegin("SctpSessionDescription"),a.sdpString!=null&&(c.writeFieldBegin({fname:"sdpString",ftype:b("ThriftTypes").STRING,fid:1}),c.writeString(a.sdpString),c.writeFieldEnd()),c.writeFieldStop(),c.writeStructEnd()}function k(a,c){c.writeStructBegin("PendingSdpOffer");c.writeFieldBegin({fname:"outputOffer",ftype:b("ThriftTypes").STRUCT,fid:1});if(a.outputOffer!=null)i(a.outputOffer,c);else{var d=g();i(d,c)}c.writeFieldEnd();c.writeFieldBegin({fname:"senderUserId",ftype:b("ThriftTypes").STRING,fid:2});if(a.senderUserId!=null)c.writeString(a.senderUserId);else{d="";c.writeString(d)}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function l(a,c){c.writeStructBegin("SCTPNegotiationConferenceOutputState");a.pendingSdpOffer!=null&&(c.writeFieldBegin({fname:"pendingSdpOffer",ftype:b("ThriftTypes").STRUCT,fid:2}),k(a.pendingSdpOffer,c),c.writeFieldEnd());if(a.userIdToNodeIdMap!=null){c.writeFieldBegin({fname:"userIdToNodeIdMap",ftype:b("ThriftTypes").MAP,fid:3});c.writeMapBegin({ktype:b("ThriftTypes").STRING,vtype:b("ThriftTypes").I64,size:a.userIdToNodeIdMap.size});for(var a=a.userIdToNodeIdMap.entries(),d=Array.isArray(a),e=0,a=d?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=a.length)break;f=a[e++]}else{e=a.next();if(e.done)break;f=e.value}f=f;var g=f[0];f=f[1];c.writeString(g);c.writeI64(b("jsbi").BigInt(f))}c.writeMapEnd();c.writeFieldEnd()}c.writeFieldStop();c.writeStructEnd()}function m(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").STRUCT?c.sdp=o(a):a.skip(e);break;case 2:e===b("ThriftTypes").I32?c.msgType=b("SctpNegotiationStateSctpNegotiationStateTypes").SctpMessageTypeEnum.cast(a.readI32()):a.skip(e);break;case 3:e===b("ThriftTypes").I32?c.mediaPath=b("SctpNegotiationStateSctpNegotiationStateTypes").SctpMediaPath.cast(a.readI32()):a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.sdp===void 0&&(c.sdp=h());c.msgType===void 0&&(c.msgType=b("SctpNegotiationStateSctpNegotiationStateTypes").SctpMessageTypeEnum.cast(0));c.mediaPath===void 0&&(c.mediaPath=b("SctpNegotiationStateSctpNegotiationStateTypes").SctpMediaPath.cast(0));return c}function n(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").STRUCT?c.sdp=o(a):a.skip(e);break;case 2:e===b("ThriftTypes").I32?c.msgType=b("SctpNegotiationStateSctpNegotiationStateTypes").SctpMessageTypeEnum.cast(a.readI32()):a.skip(e);break;case 3:e===b("ThriftTypes").I32?c.mediaPath=b("SctpNegotiationStateSctpNegotiationStateTypes").SctpMediaPath.cast(a.readI32()):a.skip(e);break;case 4:if(e===b("ThriftTypes").MAP){c.userIdToNodeIdMap=new Map();d=a.readMapBegin();for(var f=0;f<d.size;f++){var g=a.readString(),i=Number(a.readI64());c.userIdToNodeIdMap.set(g,i)}}else a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.sdp===void 0&&(c.sdp=h());c.msgType===void 0&&(c.msgType=b("SctpNegotiationStateSctpNegotiationStateTypes").SctpMessageTypeEnum.cast(0));c.mediaPath===void 0&&(c.mediaPath=b("SctpNegotiationStateSctpNegotiationStateTypes").SctpMediaPath.cast(0));return c}function o(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").STRING?c.sdpString=a.readString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();return c}function p(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").STRUCT?c.outputOffer=n(a):a.skip(e);break;case 2:e===b("ThriftTypes").STRING?c.senderUserId=a.readString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.outputOffer===void 0&&(c.outputOffer=g());c.senderUserId===void 0&&(c.senderUserId="");return c}function q(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 2:e===b("ThriftTypes").STRUCT?c.pendingSdpOffer=p(a):a.skip(e);break;case 3:if(e===b("ThriftTypes").MAP){c.userIdToNodeIdMap=new Map();d=a.readMapBegin();for(var f=0;f<d.size;f++){var g=a.readString(),h=Number(a.readI64());c.userIdToNodeIdMap.set(g,h)}}else a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();return c}f.SCTPNegotiationParticipantInputState$DefaultConstructor=a;f.SCTPNegotiationParticipantOutputState$DefaultConstructor=g;f.SctpSessionDescription$DefaultConstructor=h;f.PendingSdpOffer$DefaultConstructor=c;f.SCTPNegotiationConferenceOutputState$DefaultConstructor=d;f.serializeSCTPNegotiationParticipantInputState=e;f.serializeSCTPNegotiationParticipantOutputState=i;f.serializeSctpSessionDescription=j;f.serializePendingSdpOffer=k;f.serializeSCTPNegotiationConferenceOutputState=l;f.deserializeSCTPNegotiationParticipantInputState=m;f.deserializeSCTPNegotiationParticipantOutputState=n;f.deserializeSctpSessionDescription=o;f.deserializePendingSdpOffer=p;f.deserializeSCTPNegotiationConferenceOutputState=q}),66);
__d("SidebandStateSidebandStateTypes",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";c=(a=b("$InternalEnum"))({UNKNOWN:0,CREATE_CONVERSATION:1,LEAVE_CONVERSATION:2,SEND_AC_WAVE:3,CANCEL_AC_WAVE:4,ACCEPT_AC_WAVE:5,REJECT_AC_WAVE:6,UPDATE_AVAILABILITY:7,JOIN_EXISTING_AC:8,RESPOND_TO_AC_WAVE:9,CREATE_SOLO_CONVERSATION:10,SET_CONVERSATION_CONTEXT:11});d=a({UNKNOWN:0,AVAILABLE:1,NOT_AVAILABLE:2,IN_A_MEETING:3});f=a({UNKNOWN:0,QUICK_QUESTION:1,LETS_CHAT:2});b=a({UNKNOWN:0,NEED_A_MINUTE:1});a=a({UNKNOWN:0,REJECTED:1});e.exports={SidebandActionType:c,SidebandUserAvailability:d,SidebandWaveResponderMessage:b,SidebandWaveSenderMessage:f,SidebandWaveStatus:a}}),null);
__d("SidebandStateSidebandStateSerializers",["SidebandStateSidebandStateTypes","ThriftTypes","jsbi"],(function(a,b,c,d,e,f){"use strict";function a(){return{sender:"",recipient:""}}function c(){return{id:"",participant_ids:[]}}function d(){return{id:"",availability:b("SidebandStateSidebandStateTypes").SidebandUserAvailability.cast(0)}}function e(){return{sideband_type:b("SidebandStateSidebandStateTypes").SidebandActionType.cast(0)}}function g(){return{sideband_active_conversations:[],waves:[],users_info:[]}}function h(){return{sideband_active_conversations:[],waves:[],users_info:[]}}function i(a,c){c.writeStructBegin("ActiveConversationWave");c.writeFieldBegin({fname:"sender",ftype:b("ThriftTypes").STRING,fid:1});if(a.sender!=null)c.writeString(a.sender);else{var d="";c.writeString(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"recipient",ftype:b("ThriftTypes").STRING,fid:2});if(a.recipient!=null)c.writeString(a.recipient);else{d="";c.writeString(d)}c.writeFieldEnd();if(a.sender_message!=null){c.writeFieldBegin({fname:"sender_message",ftype:b("ThriftTypes").I32,fid:3});c.writeI32((d=a.sender_message)!=null?d:0);c.writeFieldEnd()}if(a.responder_message!=null){c.writeFieldBegin({fname:"responder_message",ftype:b("ThriftTypes").I32,fid:4});c.writeI32((d=a.responder_message)!=null?d:0);c.writeFieldEnd()}if(a.status!=null){c.writeFieldBegin({fname:"status",ftype:b("ThriftTypes").I32,fid:5});c.writeI32((d=a.status)!=null?d:0);c.writeFieldEnd()}a.expiration_timestamp_seconds!=null&&(c.writeFieldBegin({fname:"expiration_timestamp_seconds",ftype:b("ThriftTypes").I64,fid:6}),c.writeI64(b("jsbi").BigInt(a.expiration_timestamp_seconds)),c.writeFieldEnd());c.writeFieldStop();c.writeStructEnd()}function j(a,c){c.writeStructBegin("ActiveConversation");c.writeFieldBegin({fname:"id",ftype:b("ThriftTypes").STRING,fid:1});if(a.id!=null)c.writeString(a.id);else{var d="";c.writeString(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"participant_ids",ftype:b("ThriftTypes").LIST,fid:2});if(a.participant_ids!=null){c.writeListBegin({etype:b("ThriftTypes").STRING,size:a.participant_ids.length});for(var d=a.participant_ids,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=d.length)break;g=d[f++]}else{f=d.next();if(f.done)break;g=f.value}g=g;c.writeString(g)}c.writeListEnd()}else{g=[];c.writeListBegin({etype:b("ThriftTypes").STRING,size:g.length});for(f=0;f<g.length;f++){e=g[f];c.writeString(e)}c.writeListEnd()}c.writeFieldEnd();a.conversation_context!=null&&(c.writeFieldBegin({fname:"conversation_context",ftype:b("ThriftTypes").STRING,fid:3}),c.writeString(a.conversation_context),c.writeFieldEnd());a.call_conference_name!=null&&(c.writeFieldBegin({fname:"call_conference_name",ftype:b("ThriftTypes").STRING,fid:4}),c.writeString(a.call_conference_name),c.writeFieldEnd());a.call_url!=null&&(c.writeFieldBegin({fname:"call_url",ftype:b("ThriftTypes").STRING,fid:5}),c.writeString(a.call_url),c.writeFieldEnd());c.writeFieldStop();c.writeStructEnd()}function k(a,c){c.writeStructBegin("SidebandUserInfo");c.writeFieldBegin({fname:"id",ftype:b("ThriftTypes").STRING,fid:1});if(a.id!=null)c.writeString(a.id);else{var d="";c.writeString(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"availability",ftype:b("ThriftTypes").I32,fid:2});if(a.availability!=null){c.writeI32((d=a.availability)!=null?d:0)}else{a=b("SidebandStateSidebandStateTypes").SidebandUserAvailability.cast(0);c.writeI32((d=a)!=null?d:0)}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function l(a,c){c.writeStructBegin("SidebandInputState");c.writeFieldBegin({fname:"sideband_type",ftype:b("ThriftTypes").I32,fid:1});if(a.sideband_type!=null){var d;c.writeI32((d=a.sideband_type)!=null?d:0)}else{d=b("SidebandStateSidebandStateTypes").SidebandActionType.cast(0);c.writeI32((d=d)!=null?d:0)}c.writeFieldEnd();if(a.participant_ids!=null){c.writeFieldBegin({fname:"participant_ids",ftype:b("ThriftTypes").LIST,fid:2});c.writeListBegin({etype:b("ThriftTypes").STRING,size:a.participant_ids.length});for(var d=a.participant_ids,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=d.length)break;g=d[f++]}else{f=d.next();if(f.done)break;g=f.value}g=g;c.writeString(g)}c.writeListEnd();c.writeFieldEnd()}a.wave!=null&&(c.writeFieldBegin({fname:"wave",ftype:b("ThriftTypes").STRUCT,fid:3}),i(a.wave,c),c.writeFieldEnd());if(a.availability!=null){c.writeFieldBegin({fname:"availability",ftype:b("ThriftTypes").I32,fid:4});c.writeI32((g=a.availability)!=null?g:0);c.writeFieldEnd()}a.active_conversation_id!=null&&(c.writeFieldBegin({fname:"active_conversation_id",ftype:b("ThriftTypes").STRING,fid:5}),c.writeString(a.active_conversation_id),c.writeFieldEnd());a.conversation_context!=null&&(c.writeFieldBegin({fname:"conversation_context",ftype:b("ThriftTypes").STRING,fid:6}),c.writeString(a.conversation_context),c.writeFieldEnd());c.writeFieldStop();c.writeStructEnd()}function m(a,c){c.writeStructBegin("SidebandOutputState");c.writeFieldBegin({fname:"sideband_active_conversations",ftype:b("ThriftTypes").LIST,fid:1});if(a.sideband_active_conversations!=null){c.writeListBegin({etype:b("ThriftTypes").STRUCT,size:a.sideband_active_conversations.length});for(var d=a.sideband_active_conversations,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=d.length)break;g=d[f++]}else{f=d.next();if(f.done)break;g=f.value}g=g;j(g,c)}c.writeListEnd()}else{g=[];c.writeListBegin({etype:b("ThriftTypes").STRUCT,size:g.length});for(f=0;f<g.length;f++){e=g[f];j(e,c)}c.writeListEnd()}c.writeFieldEnd();c.writeFieldBegin({fname:"waves",ftype:b("ThriftTypes").LIST,fid:2});if(a.waves!=null){c.writeListBegin({etype:b("ThriftTypes").STRUCT,size:a.waves.length});for(d=a.waves,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(e){if(f>=d.length)break;g=d[f++]}else{f=d.next();if(f.done)break;g=f.value}g=g;i(g,c)}c.writeListEnd()}else{g=[];c.writeListBegin({etype:b("ThriftTypes").STRUCT,size:g.length});for(f=0;f<g.length;f++){e=g[f];i(e,c)}c.writeListEnd()}c.writeFieldEnd();c.writeFieldBegin({fname:"users_info",ftype:b("ThriftTypes").LIST,fid:3});if(a.users_info!=null){c.writeListBegin({etype:b("ThriftTypes").STRUCT,size:a.users_info.length});for(d=a.users_info,e=Array.isArray(d),g=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(e){if(g>=d.length)break;f=d[g++]}else{g=d.next();if(g.done)break;f=g.value}a=f;k(a,c)}c.writeListEnd()}else{f=[];c.writeListBegin({etype:b("ThriftTypes").STRUCT,size:f.length});for(a=0;a<f.length;a++){g=f[a];k(g,c)}c.writeListEnd()}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function n(a,c){c.writeStructBegin("SidebandConferenceOutputState");c.writeFieldBegin({fname:"sideband_active_conversations",ftype:b("ThriftTypes").LIST,fid:1});if(a.sideband_active_conversations!=null){c.writeListBegin({etype:b("ThriftTypes").STRUCT,size:a.sideband_active_conversations.length});for(var d=a.sideband_active_conversations,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=d.length)break;g=d[f++]}else{f=d.next();if(f.done)break;g=f.value}g=g;j(g,c)}c.writeListEnd()}else{g=[];c.writeListBegin({etype:b("ThriftTypes").STRUCT,size:g.length});for(f=0;f<g.length;f++){e=g[f];j(e,c)}c.writeListEnd()}c.writeFieldEnd();c.writeFieldBegin({fname:"waves",ftype:b("ThriftTypes").LIST,fid:2});if(a.waves!=null){c.writeListBegin({etype:b("ThriftTypes").STRUCT,size:a.waves.length});for(d=a.waves,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(e){if(f>=d.length)break;g=d[f++]}else{f=d.next();if(f.done)break;g=f.value}g=g;i(g,c)}c.writeListEnd()}else{g=[];c.writeListBegin({etype:b("ThriftTypes").STRUCT,size:g.length});for(f=0;f<g.length;f++){e=g[f];i(e,c)}c.writeListEnd()}c.writeFieldEnd();c.writeFieldBegin({fname:"users_info",ftype:b("ThriftTypes").LIST,fid:3});if(a.users_info!=null){c.writeListBegin({etype:b("ThriftTypes").STRUCT,size:a.users_info.length});for(d=a.users_info,e=Array.isArray(d),g=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(e){if(g>=d.length)break;f=d[g++]}else{g=d.next();if(g.done)break;f=g.value}a=f;k(a,c)}c.writeListEnd()}else{f=[];c.writeListBegin({etype:b("ThriftTypes").STRUCT,size:f.length});for(a=0;a<f.length;a++){g=f[a];k(g,c)}c.writeListEnd()}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function o(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").STRING?c.sender=a.readString():a.skip(e);break;case 2:e===b("ThriftTypes").STRING?c.recipient=a.readString():a.skip(e);break;case 3:e===b("ThriftTypes").I32?c.sender_message=b("SidebandStateSidebandStateTypes").SidebandWaveSenderMessage.cast(a.readI32()):a.skip(e);break;case 4:e===b("ThriftTypes").I32?c.responder_message=b("SidebandStateSidebandStateTypes").SidebandWaveResponderMessage.cast(a.readI32()):a.skip(e);break;case 5:e===b("ThriftTypes").I32?c.status=b("SidebandStateSidebandStateTypes").SidebandWaveStatus.cast(a.readI32()):a.skip(e);break;case 6:e===b("ThriftTypes").I64?c.expiration_timestamp_seconds=a.readI64().toString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.sender===void 0&&(c.sender="");c.recipient===void 0&&(c.recipient="");return c}function p(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").STRING?c.id=a.readString():a.skip(e);break;case 2:if(e===b("ThriftTypes").LIST){c.participant_ids=[];d=a.readListBegin();for(var f=0;f<d.size;f++){var g=a.readString();c.participant_ids.push(g)}}else a.skip(e);break;case 3:e===b("ThriftTypes").STRING?c.conversation_context=a.readString():a.skip(e);break;case 4:e===b("ThriftTypes").STRING?c.call_conference_name=a.readString():a.skip(e);break;case 5:e===b("ThriftTypes").STRING?c.call_url=a.readString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.id===void 0&&(c.id="");c.participant_ids===void 0&&(c.participant_ids=[]);return c}function q(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").STRING?c.id=a.readString():a.skip(e);break;case 2:e===b("ThriftTypes").I32?c.availability=b("SidebandStateSidebandStateTypes").SidebandUserAvailability.cast(a.readI32()):a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.id===void 0&&(c.id="");c.availability===void 0&&(c.availability=b("SidebandStateSidebandStateTypes").SidebandUserAvailability.cast(0));return c}function r(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").I32?c.sideband_type=b("SidebandStateSidebandStateTypes").SidebandActionType.cast(a.readI32()):a.skip(e);break;case 2:if(e===b("ThriftTypes").LIST){c.participant_ids=[];d=a.readListBegin();for(var f=0;f<d.size;f++){var g=a.readString();c.participant_ids.push(g)}}else a.skip(e);break;case 3:e===b("ThriftTypes").STRUCT?c.wave=o(a):a.skip(e);break;case 4:e===b("ThriftTypes").I32?c.availability=b("SidebandStateSidebandStateTypes").SidebandUserAvailability.cast(a.readI32()):a.skip(e);break;case 5:e===b("ThriftTypes").STRING?c.active_conversation_id=a.readString():a.skip(e);break;case 6:e===b("ThriftTypes").STRING?c.conversation_context=a.readString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.sideband_type===void 0&&(c.sideband_type=b("SidebandStateSidebandStateTypes").SidebandActionType.cast(0));return c}function s(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:if(e===b("ThriftTypes").LIST){c.sideband_active_conversations=[];d=a.readListBegin();for(var f=0;f<d.size;f++){var g=p(a);c.sideband_active_conversations.push(g)}}else a.skip(e);break;case 2:if(e===b("ThriftTypes").LIST){c.waves=[];g=a.readListBegin();for(f=0;f<g.size;f++){d=o(a);c.waves.push(d)}}else a.skip(e);break;case 3:if(e===b("ThriftTypes").LIST){c.users_info=[];d=a.readListBegin();for(f=0;f<d.size;f++){g=q(a);c.users_info.push(g)}}else a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.sideband_active_conversations===void 0&&(c.sideband_active_conversations=[]);c.waves===void 0&&(c.waves=[]);c.users_info===void 0&&(c.users_info=[]);return c}function t(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:if(e===b("ThriftTypes").LIST){c.sideband_active_conversations=[];d=a.readListBegin();for(var f=0;f<d.size;f++){var g=p(a);c.sideband_active_conversations.push(g)}}else a.skip(e);break;case 2:if(e===b("ThriftTypes").LIST){c.waves=[];g=a.readListBegin();for(f=0;f<g.size;f++){d=o(a);c.waves.push(d)}}else a.skip(e);break;case 3:if(e===b("ThriftTypes").LIST){c.users_info=[];d=a.readListBegin();for(f=0;f<d.size;f++){g=q(a);c.users_info.push(g)}}else a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.sideband_active_conversations===void 0&&(c.sideband_active_conversations=[]);c.waves===void 0&&(c.waves=[]);c.users_info===void 0&&(c.users_info=[]);return c}f.ActiveConversationWave$DefaultConstructor=a;f.ActiveConversation$DefaultConstructor=c;f.SidebandUserInfo$DefaultConstructor=d;f.SidebandInputState$DefaultConstructor=e;f.SidebandOutputState$DefaultConstructor=g;f.SidebandConferenceOutputState$DefaultConstructor=h;f.serializeActiveConversationWave=i;f.serializeActiveConversation=j;f.serializeSidebandUserInfo=k;f.serializeSidebandInputState=l;f.serializeSidebandOutputState=m;f.serializeSidebandConferenceOutputState=n;f.deserializeActiveConversationWave=o;f.deserializeActiveConversation=p;f.deserializeSidebandUserInfo=q;f.deserializeSidebandInputState=r;f.deserializeSidebandOutputState=s;f.deserializeSidebandConferenceOutputState=t}),66);
__d("SimpleStateSimpleStateSerializers",["ThriftTypes"],(function(a,b,c,d,e,f){"use strict";function a(){return{number:0}}function c(){return{max:0}}function d(a,c){c.writeStructBegin("SimpleInputState");c.writeFieldBegin({fname:"number",ftype:b("ThriftTypes").I32,fid:1});if(a.number!=null)c.writeI32(a.number);else{a=0;c.writeI32(a)}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function e(a,c){c.writeStructBegin("SimpleOutputState");c.writeFieldBegin({fname:"max",ftype:b("ThriftTypes").I32,fid:1});if(a.max!=null)c.writeI32(a.max);else{a=0;c.writeI32(a)}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function g(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").I32?c.number=a.readI32():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.number===void 0&&(c.number=0);return c}function h(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").I32?c.max=a.readI32():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.max===void 0&&(c.max=0);return c}f.SimpleInputState$DefaultConstructor=a;f.SimpleOutputState$DefaultConstructor=c;f.serializeSimpleInputState=d;f.serializeSimpleOutputState=e;f.deserializeSimpleInputState=g;f.deserializeSimpleOutputState=h}),66);
__d("StateSyncSerializers",["ThriftTypes"],(function(a,b,c,d,e,f){"use strict";function a(){return{version:0}}function c(){return{stateStore:{}}}function g(a,c){c.writeStructBegin("State");c.writeFieldBegin({fname:"version",ftype:b("ThriftTypes").I32,fid:1});if(a.version!=null)c.writeI32(a.version);else{var d=0;c.writeI32(d)}c.writeFieldEnd();a.data!=null&&(c.writeFieldBegin({fname:"data",ftype:b("ThriftTypes").STRING,fid:2}),c.writeBinary(a.data),c.writeFieldEnd());c.writeFieldStop();c.writeStructEnd()}function d(a,c){c.writeStructBegin("Snapshot");c.writeFieldBegin({fname:"stateStore",ftype:b("ThriftTypes").MAP,fid:1});if(a.stateStore!=null){c.writeMapBegin({ktype:b("ThriftTypes").STRING,vtype:b("ThriftTypes").STRUCT,size:Object.keys(a.stateStore).length});a=Object.entries(a.stateStore);for(var d=0;d<a.length;d++){var e=a[d],f=e[0];e=e[1];c.writeString(f);g(e,c)}c.writeMapEnd()}else{f={};c.writeMapBegin({ktype:b("ThriftTypes").STRING,vtype:b("ThriftTypes").STRUCT,size:Object.keys(f).length});e=Object.entries(f);for(a=0;a<e.length;a++){d=e[a];f=d[0];d=d[1];c.writeString(f);g(d,c)}c.writeMapEnd()}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function h(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").I32?c.version=a.readI32():a.skip(e);break;case 2:e===b("ThriftTypes").STRING?c.data=a.readBinary():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.version===void 0&&(c.version=0);return c}function e(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:if(e===b("ThriftTypes").MAP){c.stateStore={};d=a.readMapBegin();for(var f=0;f<d.size;f++){var g=a.readString(),i=h(a);c.stateStore[g]=i}}else a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.stateStore===void 0&&(c.stateStore={});return c}f.State$DefaultConstructor=a;f.Snapshot$DefaultConstructor=c;f.serializeState=g;f.serializeSnapshot=d;f.deserializeState=h;f.deserializeSnapshot=e}),66);
__d("WhiteboardMessengerStateWhiteboardMessengerStateSerializers",["ThriftTypes"],(function(a,b,c,d,e,f){"use strict";function a(){return{}}function c(){return{is_feature_enabled:!1}}function d(){return{is_feature_enabled:!1}}function e(a,b){b.writeStructBegin("WhiteboardMessengerInputState"),b.writeFieldStop(),b.writeStructEnd()}function g(a,c){c.writeStructBegin("WhiteboardMessengerOutputState");c.writeFieldBegin({fname:"is_feature_enabled",ftype:b("ThriftTypes").BOOL,fid:1});if(a.is_feature_enabled!=null)c.writeBool(a.is_feature_enabled);else{var d=!1;c.writeBool(d)}c.writeFieldEnd();a.session_id!=null&&(c.writeFieldBegin({fname:"session_id",ftype:b("ThriftTypes").STRING,fid:2}),c.writeString(a.session_id),c.writeFieldEnd());a.is_feature_enabled_on_desktop!=null&&(c.writeFieldBegin({fname:"is_feature_enabled_on_desktop",ftype:b("ThriftTypes").BOOL,fid:3}),c.writeBool(a.is_feature_enabled_on_desktop),c.writeFieldEnd());c.writeFieldStop();c.writeStructEnd()}function h(a,c){c.writeStructBegin("WhiteboardMessengerConferenceOutputState");c.writeFieldBegin({fname:"is_feature_enabled",ftype:b("ThriftTypes").BOOL,fid:1});if(a.is_feature_enabled!=null)c.writeBool(a.is_feature_enabled);else{var d=!1;c.writeBool(d)}c.writeFieldEnd();a.is_feature_enabled_on_desktop!=null&&(c.writeFieldBegin({fname:"is_feature_enabled_on_desktop",ftype:b("ThriftTypes").BOOL,fid:2}),c.writeBool(a.is_feature_enabled_on_desktop),c.writeFieldEnd());c.writeFieldStop();c.writeStructEnd()}function i(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();return c}function j(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").BOOL?c.is_feature_enabled=a.readBool():a.skip(e);break;case 2:e===b("ThriftTypes").STRING?c.session_id=a.readString():a.skip(e);break;case 3:e===b("ThriftTypes").BOOL?c.is_feature_enabled_on_desktop=a.readBool():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.is_feature_enabled===void 0&&(c.is_feature_enabled=!1);return c}function k(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").BOOL?c.is_feature_enabled=a.readBool():a.skip(e);break;case 2:e===b("ThriftTypes").BOOL?c.is_feature_enabled_on_desktop=a.readBool():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.is_feature_enabled===void 0&&(c.is_feature_enabled=!1);return c}f.WhiteboardMessengerInputState$DefaultConstructor=a;f.WhiteboardMessengerOutputState$DefaultConstructor=c;f.WhiteboardMessengerConferenceOutputState$DefaultConstructor=d;f.serializeWhiteboardMessengerInputState=e;f.serializeWhiteboardMessengerOutputState=g;f.serializeWhiteboardMessengerConferenceOutputState=h;f.deserializeWhiteboardMessengerInputState=i;f.deserializeWhiteboardMessengerOutputState=j;f.deserializeWhiteboardMessengerConferenceOutputState=k}),66);
__d("WhiteboardStateWhiteboardStateTypes",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({NONE:0,GET_SESSION:1});e.exports={WhiteboardAction:a}}),null);
__d("WhiteboardStateWhiteboardStateSerializers",["ThriftTypes","WhiteboardStateWhiteboardStateTypes"],(function(a,b,c,d,e,f){"use strict";function a(){return{whiteboardAction:b("WhiteboardStateWhiteboardStateTypes").WhiteboardAction.cast(0)}}function c(){return{excalidraw_url:"",excalidraw_generated_by:""}}function d(a,c){c.writeStructBegin("WhiteboardInputState");c.writeFieldBegin({fname:"whiteboardAction",ftype:b("ThriftTypes").I32,fid:1});if(a.whiteboardAction!=null){c.writeI32((a=a.whiteboardAction)!=null?a:0)}else{a=b("WhiteboardStateWhiteboardStateTypes").WhiteboardAction.cast(0);c.writeI32((a=a)!=null?a:0)}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function e(a,c){c.writeStructBegin("WhiteboardOutputState");c.writeFieldBegin({fname:"excalidraw_url",ftype:b("ThriftTypes").STRING,fid:1});if(a.excalidraw_url!=null)c.writeString(a.excalidraw_url);else{var d="";c.writeString(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"excalidraw_generated_by",ftype:b("ThriftTypes").STRING,fid:2});if(a.excalidraw_generated_by!=null)c.writeString(a.excalidraw_generated_by);else{d="";c.writeString(d)}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function g(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").I32?c.whiteboardAction=b("WhiteboardStateWhiteboardStateTypes").WhiteboardAction.cast(a.readI32()):a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.whiteboardAction===void 0&&(c.whiteboardAction=b("WhiteboardStateWhiteboardStateTypes").WhiteboardAction.cast(0));return c}function h(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").STRING?c.excalidraw_url=a.readString():a.skip(e);break;case 2:e===b("ThriftTypes").STRING?c.excalidraw_generated_by=a.readString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.excalidraw_url===void 0&&(c.excalidraw_url="");c.excalidraw_generated_by===void 0&&(c.excalidraw_generated_by="");return c}f.WhiteboardInputState$DefaultConstructor=a;f.WhiteboardOutputState$DefaultConstructor=c;f.serializeWhiteboardInputState=d;f.serializeWhiteboardOutputState=e;f.deserializeWhiteboardInputState=g;f.deserializeWhiteboardOutputState=h}),66);
__d("WorkroomsAskEveroneToOpenStateWorkroomsAskEveryoneToOpenStateTypes",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({NONE:0,ASSET:1,WHITEBOARD:2});c=b("$InternalEnum")({OPEN:0});d=b("$InternalEnum")({Asset:"asset"});e.exports={WorkroomsResource$Types:d,WorkroomsResourceIntent:c,WorkroomsResourceType:a}}),null);
__d("WorkroomsAskEveroneToOpenStateWorkroomsAskEveryoneToOpenStateSerializers",["ThriftTypes","WorkroomsAskEveroneToOpenStateWorkroomsAskEveryoneToOpenStateTypes"],(function(a,b,c,d,e,f){"use strict";function g(){return{userID:"",userName:""}}function h(){return{asset_name:"",encrypted_asset_id:"",asset_url:""}}function a(){return{participant:g(),asset_url:"",asset:h(),type:b("WorkroomsAskEveroneToOpenStateWorkroomsAskEveryoneToOpenStateTypes").WorkroomsResourceType.cast(0),intent:b("WorkroomsAskEveroneToOpenStateWorkroomsAskEveryoneToOpenStateTypes").WorkroomsResourceIntent.cast(0),resource:i()}}function c(){return{participant:g(),asset_url:"",asset:h(),timestamp_utc:"",type:b("WorkroomsAskEveroneToOpenStateWorkroomsAskEveryoneToOpenStateTypes").WorkroomsResourceType.cast(0),intent:b("WorkroomsAskEveroneToOpenStateWorkroomsAskEveryoneToOpenStateTypes").WorkroomsResourceIntent.cast(0),resource:i()}}function i(){return{}}function j(a,c){c.writeStructBegin("MeetingParticipant");c.writeFieldBegin({fname:"userID",ftype:b("ThriftTypes").STRING,fid:1});if(a.userID!=null)c.writeString(a.userID);else{var d="";c.writeString(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"userName",ftype:b("ThriftTypes").STRING,fid:2});if(a.userName!=null)c.writeString(a.userName);else{d="";c.writeString(d)}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function k(a,c){c.writeStructBegin("WorkroomsAsset");c.writeFieldBegin({fname:"asset_name",ftype:b("ThriftTypes").STRING,fid:1});if(a.asset_name!=null)c.writeString(a.asset_name);else{var d="";c.writeString(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"encrypted_asset_id",ftype:b("ThriftTypes").STRING,fid:2});if(a.encrypted_asset_id!=null)c.writeString(a.encrypted_asset_id);else{d="";c.writeString(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"asset_url",ftype:b("ThriftTypes").STRING,fid:3});if(a.asset_url!=null)c.writeString(a.asset_url);else{d="";c.writeString(d)}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function d(a,c){c.writeStructBegin("WorkroomsAskEveryoneToOpenInputState");c.writeFieldBegin({fname:"participant",ftype:b("ThriftTypes").STRUCT,fid:1});if(a.participant!=null)j(a.participant,c);else{var d=g();j(d,c)}c.writeFieldEnd();c.writeFieldBegin({fname:"asset_url",ftype:b("ThriftTypes").STRING,fid:2});if(a.asset_url!=null)c.writeString(a.asset_url);else{d="";c.writeString(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"asset",ftype:b("ThriftTypes").STRUCT,fid:3});if(a.asset!=null)k(a.asset,c);else{d=h();k(d,c)}c.writeFieldEnd();c.writeFieldBegin({fname:"type",ftype:b("ThriftTypes").I32,fid:4});if(a.type!=null){c.writeI32((d=a.type)!=null?d:0)}else{d=b("WorkroomsAskEveroneToOpenStateWorkroomsAskEveryoneToOpenStateTypes").WorkroomsResourceType.cast(0);c.writeI32((d=d)!=null?d:0)}c.writeFieldEnd();c.writeFieldBegin({fname:"intent",ftype:b("ThriftTypes").I32,fid:5});if(a.intent!=null){c.writeI32((d=a.intent)!=null?d:0)}else{d=b("WorkroomsAskEveroneToOpenStateWorkroomsAskEveryoneToOpenStateTypes").WorkroomsResourceIntent.cast(0);c.writeI32((d=d)!=null?d:0)}c.writeFieldEnd();c.writeFieldBegin({fname:"resource",ftype:b("ThriftTypes").STRUCT,fid:6});if(a.resource!=null)l(a.resource,c);else{d=i();l(d,c)}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function e(a,c){c.writeStructBegin("WorkroomsAskEveryoneToOpenOutputState");c.writeFieldBegin({fname:"participant",ftype:b("ThriftTypes").STRUCT,fid:1});if(a.participant!=null)j(a.participant,c);else{var d=g();j(d,c)}c.writeFieldEnd();c.writeFieldBegin({fname:"asset_url",ftype:b("ThriftTypes").STRING,fid:2});if(a.asset_url!=null)c.writeString(a.asset_url);else{d="";c.writeString(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"asset",ftype:b("ThriftTypes").STRUCT,fid:3});if(a.asset!=null)k(a.asset,c);else{d=h();k(d,c)}c.writeFieldEnd();c.writeFieldBegin({fname:"timestamp_utc",ftype:b("ThriftTypes").STRING,fid:4});if(a.timestamp_utc!=null)c.writeString(a.timestamp_utc);else{d="";c.writeString(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"type",ftype:b("ThriftTypes").I32,fid:5});if(a.type!=null){c.writeI32((d=a.type)!=null?d:0)}else{d=b("WorkroomsAskEveroneToOpenStateWorkroomsAskEveryoneToOpenStateTypes").WorkroomsResourceType.cast(0);c.writeI32((d=d)!=null?d:0)}c.writeFieldEnd();c.writeFieldBegin({fname:"intent",ftype:b("ThriftTypes").I32,fid:6});if(a.intent!=null){c.writeI32((d=a.intent)!=null?d:0)}else{d=b("WorkroomsAskEveroneToOpenStateWorkroomsAskEveryoneToOpenStateTypes").WorkroomsResourceIntent.cast(0);c.writeI32((d=d)!=null?d:0)}c.writeFieldEnd();c.writeFieldBegin({fname:"resource",ftype:b("ThriftTypes").STRUCT,fid:7});if(a.resource!=null)l(a.resource,c);else{d=i();l(d,c)}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function l(a,c){c.writeStructBegin("WorkroomsResource");if(a.asset!=null){c.writeFieldBegin({fname:"asset",ftype:b("ThriftTypes").STRUCT,fid:1});k(a.asset,c);c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd();return}c.writeFieldStop();c.writeStructEnd()}function m(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").STRING?c.userID=a.readString():a.skip(e);break;case 2:e===b("ThriftTypes").STRING?c.userName=a.readString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.userID===void 0&&(c.userID="");c.userName===void 0&&(c.userName="");return c}function n(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").STRING?c.asset_name=a.readString():a.skip(e);break;case 2:e===b("ThriftTypes").STRING?c.encrypted_asset_id=a.readString():a.skip(e);break;case 3:e===b("ThriftTypes").STRING?c.asset_url=a.readString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.asset_name===void 0&&(c.asset_name="");c.encrypted_asset_id===void 0&&(c.encrypted_asset_id="");c.asset_url===void 0&&(c.asset_url="");return c}function o(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").STRUCT?c.participant=m(a):a.skip(e);break;case 2:e===b("ThriftTypes").STRING?c.asset_url=a.readString():a.skip(e);break;case 3:e===b("ThriftTypes").STRUCT?c.asset=n(a):a.skip(e);break;case 4:e===b("ThriftTypes").I32?c.type=b("WorkroomsAskEveroneToOpenStateWorkroomsAskEveryoneToOpenStateTypes").WorkroomsResourceType.cast(a.readI32()):a.skip(e);break;case 5:e===b("ThriftTypes").I32?c.intent=b("WorkroomsAskEveroneToOpenStateWorkroomsAskEveryoneToOpenStateTypes").WorkroomsResourceIntent.cast(a.readI32()):a.skip(e);break;case 6:e===b("ThriftTypes").STRUCT?c.resource=q(a):a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.participant===void 0&&(c.participant=g());c.asset_url===void 0&&(c.asset_url="");c.asset===void 0&&(c.asset=h());c.type===void 0&&(c.type=b("WorkroomsAskEveroneToOpenStateWorkroomsAskEveryoneToOpenStateTypes").WorkroomsResourceType.cast(0));c.intent===void 0&&(c.intent=b("WorkroomsAskEveroneToOpenStateWorkroomsAskEveryoneToOpenStateTypes").WorkroomsResourceIntent.cast(0));c.resource===void 0&&(c.resource=i());return c}function p(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").STRUCT?c.participant=m(a):a.skip(e);break;case 2:e===b("ThriftTypes").STRING?c.asset_url=a.readString():a.skip(e);break;case 3:e===b("ThriftTypes").STRUCT?c.asset=n(a):a.skip(e);break;case 4:e===b("ThriftTypes").STRING?c.timestamp_utc=a.readString():a.skip(e);break;case 5:e===b("ThriftTypes").I32?c.type=b("WorkroomsAskEveroneToOpenStateWorkroomsAskEveryoneToOpenStateTypes").WorkroomsResourceType.cast(a.readI32()):a.skip(e);break;case 6:e===b("ThriftTypes").I32?c.intent=b("WorkroomsAskEveroneToOpenStateWorkroomsAskEveryoneToOpenStateTypes").WorkroomsResourceIntent.cast(a.readI32()):a.skip(e);break;case 7:e===b("ThriftTypes").STRUCT?c.resource=q(a):a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.participant===void 0&&(c.participant=g());c.asset_url===void 0&&(c.asset_url="");c.asset===void 0&&(c.asset=h());c.timestamp_utc===void 0&&(c.timestamp_utc="");c.type===void 0&&(c.type=b("WorkroomsAskEveroneToOpenStateWorkroomsAskEveryoneToOpenStateTypes").WorkroomsResourceType.cast(0));c.intent===void 0&&(c.intent=b("WorkroomsAskEveroneToOpenStateWorkroomsAskEveryoneToOpenStateTypes").WorkroomsResourceIntent.cast(0));c.resource===void 0&&(c.resource=i());return c}function q(a){var c,d={};a.readStructBegin();while(!0){var e=a.readFieldBegin(),f=e.ftype;e=e.fid;if(f===b("ThriftTypes").STOP)break;switch(e){case 1:if(f===b("ThriftTypes").STRUCT)if(c==null)d.asset=n(a),c="asset";else throw new Error("more than one field have been deserialized in union type: WorkroomsResource; current field: asset, previous deserialized field: "+c);else a.skip(f);break;default:a.skip(f)}a.readFieldEnd()}a.readStructEnd();return d}f.MeetingParticipant$DefaultConstructor=g;f.WorkroomsAsset$DefaultConstructor=h;f.WorkroomsAskEveryoneToOpenInputState$DefaultConstructor=a;f.WorkroomsAskEveryoneToOpenOutputState$DefaultConstructor=c;f.WorkroomsResource$DefaultConstructor=i;f.serializeMeetingParticipant=j;f.serializeWorkroomsAsset=k;f.serializeWorkroomsAskEveryoneToOpenInputState=d;f.serializeWorkroomsAskEveryoneToOpenOutputState=e;f.serializeWorkroomsResource=l;f.deserializeMeetingParticipant=m;f.deserializeWorkroomsAsset=n;f.deserializeWorkroomsAskEveryoneToOpenInputState=o;f.deserializeWorkroomsAskEveryoneToOpenOutputState=p;f.deserializeWorkroomsResource=q}),66);
__d("WorkroomsStateWorkroomStateTypes",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({UNKNOWN:0,JOIN_CONVERSATION:1,CREATE_CONVERSATION:2,LEAVE_CONVERSATION:3});e.exports={ActionType:a}}),null);
__d("WorkroomsStateWorkroomStateSerializers",["ThriftTypes","WorkroomsStateWorkroomStateTypes"],(function(a,b,c,d,e,f){"use strict";function a(){return{type:b("WorkroomsStateWorkroomStateTypes").ActionType.cast(0)}}function c(){return{participant_ids:[]}}function d(){return{active_conversations:{}}}function e(){return{active_conversations:{}}}function g(a,c){c.writeStructBegin("WorkroomInputState");c.writeFieldBegin({fname:"type",ftype:b("ThriftTypes").I32,fid:1});if(a.type!=null){var d;c.writeI32((d=a.type)!=null?d:0)}else{d=b("WorkroomsStateWorkroomStateTypes").ActionType.cast(0);c.writeI32((d=d)!=null?d:0)}c.writeFieldEnd();a.conversation_id!=null&&(c.writeFieldBegin({fname:"conversation_id",ftype:b("ThriftTypes").STRING,fid:2}),c.writeString(a.conversation_id),c.writeFieldEnd());if(a.participant_ids!=null){c.writeFieldBegin({fname:"participant_ids",ftype:b("ThriftTypes").LIST,fid:3});c.writeListBegin({etype:b("ThriftTypes").STRING,size:a.participant_ids.length});for(var d=a.participant_ids,a=Array.isArray(d),e=0,d=a?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(a){if(e>=d.length)break;f=d[e++]}else{e=d.next();if(e.done)break;f=e.value}f=f;c.writeString(f)}c.writeListEnd();c.writeFieldEnd()}c.writeFieldStop();c.writeStructEnd()}function h(a,c){c.writeStructBegin("ActiveConversation");c.writeFieldBegin({fname:"participant_ids",ftype:b("ThriftTypes").LIST,fid:1});if(a.participant_ids!=null){c.writeListBegin({etype:b("ThriftTypes").STRING,size:a.participant_ids.length});for(var a=a.participant_ids,d=Array.isArray(a),e=0,a=d?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=a.length)break;f=a[e++]}else{e=a.next();if(e.done)break;f=e.value}f=f;c.writeString(f)}c.writeListEnd()}else{f=[];c.writeListBegin({etype:b("ThriftTypes").STRING,size:f.length});for(e=0;e<f.length;e++){d=f[e];c.writeString(d)}c.writeListEnd()}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function i(a,c){c.writeStructBegin("WorkroomOutputState");c.writeFieldBegin({fname:"active_conversations",ftype:b("ThriftTypes").MAP,fid:1});if(a.active_conversations!=null){c.writeMapBegin({ktype:b("ThriftTypes").STRING,vtype:b("ThriftTypes").STRUCT,size:Object.keys(a.active_conversations).length});a=Object.entries(a.active_conversations);for(var d=0;d<a.length;d++){var e=a[d],f=e[0];e=e[1];c.writeString(f);h(e,c)}c.writeMapEnd()}else{f={};c.writeMapBegin({ktype:b("ThriftTypes").STRING,vtype:b("ThriftTypes").STRUCT,size:Object.keys(f).length});e=Object.entries(f);for(a=0;a<e.length;a++){d=e[a];f=d[0];d=d[1];c.writeString(f);h(d,c)}c.writeMapEnd()}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function j(a,c){c.writeStructBegin("WorkroomConferenceOutputState");c.writeFieldBegin({fname:"active_conversations",ftype:b("ThriftTypes").MAP,fid:1});if(a.active_conversations!=null){c.writeMapBegin({ktype:b("ThriftTypes").STRING,vtype:b("ThriftTypes").STRUCT,size:Object.keys(a.active_conversations).length});a=Object.entries(a.active_conversations);for(var d=0;d<a.length;d++){var e=a[d],f=e[0];e=e[1];c.writeString(f);h(e,c)}c.writeMapEnd()}else{f={};c.writeMapBegin({ktype:b("ThriftTypes").STRING,vtype:b("ThriftTypes").STRUCT,size:Object.keys(f).length});e=Object.entries(f);for(a=0;a<e.length;a++){d=e[a];f=d[0];d=d[1];c.writeString(f);h(d,c)}c.writeMapEnd()}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function k(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").I32?c.type=b("WorkroomsStateWorkroomStateTypes").ActionType.cast(a.readI32()):a.skip(e);break;case 2:e===b("ThriftTypes").STRING?c.conversation_id=a.readString():a.skip(e);break;case 3:if(e===b("ThriftTypes").LIST){c.participant_ids=[];d=a.readListBegin();for(var f=0;f<d.size;f++){var g=a.readString();c.participant_ids.push(g)}}else a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.type===void 0&&(c.type=b("WorkroomsStateWorkroomStateTypes").ActionType.cast(0));return c}function l(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:if(e===b("ThriftTypes").LIST){c.participant_ids=[];d=a.readListBegin();for(var f=0;f<d.size;f++){var g=a.readString();c.participant_ids.push(g)}}else a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.participant_ids===void 0&&(c.participant_ids=[]);return c}function m(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:if(e===b("ThriftTypes").MAP){c.active_conversations={};d=a.readMapBegin();for(var f=0;f<d.size;f++){var g=a.readString(),h=l(a);c.active_conversations[g]=h}}else a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.active_conversations===void 0&&(c.active_conversations={});return c}function n(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:if(e===b("ThriftTypes").MAP){c.active_conversations={};d=a.readMapBegin();for(var f=0;f<d.size;f++){var g=a.readString(),h=l(a);c.active_conversations[g]=h}}else a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.active_conversations===void 0&&(c.active_conversations={});return c}f.WorkroomInputState$DefaultConstructor=a;f.ActiveConversation$DefaultConstructor=c;f.WorkroomOutputState$DefaultConstructor=d;f.WorkroomConferenceOutputState$DefaultConstructor=e;f.serializeWorkroomInputState=g;f.serializeActiveConversation=h;f.serializeWorkroomOutputState=i;f.serializeWorkroomConferenceOutputState=j;f.deserializeWorkroomInputState=k;f.deserializeActiveConversation=l;f.deserializeWorkroomOutputState=m;f.deserializeWorkroomConferenceOutputState=n}),66);
__d("WorkroomsVrStateWorkroomsVRStateSerializers",["ThriftTypes"],(function(a,b,c,d,e,f){"use strict";function g(){return{zoneUUID:"",isBridge:!1}}function a(){return{participant:g()}}function c(){return{participants:{}}}function h(a,c){c.writeStructBegin("VRParticipant");c.writeFieldBegin({fname:"zoneUUID",ftype:b("ThriftTypes").STRING,fid:1});if(a.zoneUUID!=null)c.writeString(a.zoneUUID);else{var d="";c.writeString(d)}c.writeFieldEnd();c.writeFieldBegin({fname:"isBridge",ftype:b("ThriftTypes").BOOL,fid:2});if(a.isBridge!=null)c.writeBool(a.isBridge);else{d=!1;c.writeBool(d)}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function d(a,c){c.writeStructBegin("WorkroomsVRInputState");c.writeFieldBegin({fname:"participant",ftype:b("ThriftTypes").STRUCT,fid:1});if(a.participant!=null)h(a.participant,c);else{a=g();h(a,c)}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function e(a,c){c.writeStructBegin("WorkroomsVROutputState");c.writeFieldBegin({fname:"participants",ftype:b("ThriftTypes").MAP,fid:1});if(a.participants!=null){c.writeMapBegin({ktype:b("ThriftTypes").STRING,vtype:b("ThriftTypes").STRUCT,size:Object.keys(a.participants).length});a=Object.entries(a.participants);for(var d=0;d<a.length;d++){var e=a[d],f=e[0];e=e[1];c.writeString(f);h(e,c)}c.writeMapEnd()}else{f={};c.writeMapBegin({ktype:b("ThriftTypes").STRING,vtype:b("ThriftTypes").STRUCT,size:Object.keys(f).length});e=Object.entries(f);for(a=0;a<e.length;a++){d=e[a];f=d[0];d=d[1];c.writeString(f);h(d,c)}c.writeMapEnd()}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function i(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").STRING?c.zoneUUID=a.readString():a.skip(e);break;case 2:e===b("ThriftTypes").BOOL?c.isBridge=a.readBool():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.zoneUUID===void 0&&(c.zoneUUID="");c.isBridge===void 0&&(c.isBridge=!1);return c}function j(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").STRUCT?c.participant=i(a):a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.participant===void 0&&(c.participant=g());return c}function k(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:if(e===b("ThriftTypes").MAP){c.participants={};d=a.readMapBegin();for(var f=0;f<d.size;f++){var g=a.readString(),h=i(a);c.participants[g]=h}}else a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.participants===void 0&&(c.participants={});return c}f.VRParticipant$DefaultConstructor=g;f.WorkroomsVRInputState$DefaultConstructor=a;f.WorkroomsVROutputState$DefaultConstructor=c;f.serializeVRParticipant=h;f.serializeWorkroomsVRInputState=d;f.serializeWorkroomsVROutputState=e;f.deserializeVRParticipant=i;f.deserializeWorkroomsVRInputState=j;f.deserializeWorkroomsVROutputState=k}),66);
__d("ZenonStateSyncSerializer",["BreakoutStateBreakoutStateSerializers","CanYouSeeMyScreenStateCanYouSeeMyScreenStateSerializers","CompactSerializerPolyfill","CompanionStateCompanionStateSerializers","ConfigEngineStateConfigEngineStateSerializers","CoplayStateCoplayStateSerializers","CountdownTimerStateCountdownTimerStateSerializers","CoviewStateCoviewStateSerializers","DecryptedE2eeDataSerializers","E2eeStateSerializers","EmojiReactionsStateEmojiReactionsStateSerializers","IntenticonsStateIntenticonsStateSerializers","LiveStreamStateLiveStreamStateSerializers","MediaInformationStateMediaInformationStateSerializers","MediaSyncAutoplayStateMediaSyncAutoplayStateSerializers","MediaSyncStateMediaSyncStateSerializers","MeetingAssistantStateMeetingAssistantStateSerializers","ModeratorControlsStateModeratorControlsStateSerializers","NumberOfPeopleStateNumberOfPeopleStateSerializers","PollsStatePollsStateSerializers","RaisedHandsQueueStateRaisedHandsQueueStateSerializers","RoomsNotesRoomsNotesStateSerializers","ScreenshareFloorControlStateScreenshareFloorControlStateSerializers","SctpNegotiationStateSctpNegotiationStateSerializers","SidebandStateSidebandStateSerializers","SimpleStateSimpleStateSerializers","StateSyncSerializers","WhiteboardMessengerStateWhiteboardMessengerStateSerializers","WhiteboardStateWhiteboardStateSerializers","WorkroomsAskEveroneToOpenStateWorkroomsAskEveryoneToOpenStateSerializers","WorkroomsStateWorkroomStateSerializers","WorkroomsVrStateWorkroomsVRStateSerializers","ZenonAppProvider","ZenonDataUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=d("StateSyncSerializers").deserializeSnapshot;return a!=null?d("CompactSerializerPolyfill").deserialize(a,b):null}function b(a){var b=d("StateSyncSerializers").serializeSnapshot;return d("ZenonDataUtils").uint8ArrayToBase64(d("CompactSerializerPolyfill").serialize(a,b))}function c(a){var b=d("DecryptedE2eeDataSerializers").deserializeDecryptedE2eeData;if(a!=null){a=d("ZenonAppProvider").isInstagramApp()?d("ZenonDataUtils").stringToUint8Array(a):d("ZenonDataUtils").base64ToUint8Array(a);return d("CompactSerializerPolyfill").deserialize(a,b)}return null}function e(a,b){var c=null;switch(a){case"countdown_timer":c=d("CountdownTimerStateCountdownTimerStateSerializers").deserializeCountdownTimerOutputState;break;case"polls":c=d("PollsStatePollsStateSerializers").deserializePollsParticipantOutputState;break;case"emoji_reactions":c=d("EmojiReactionsStateEmojiReactionsStateSerializers").deserializeEmojiReactionsOutputState;break;case"raised_hands_queue_e2ee":case"emoji_reactions_e2ee":case"polls_e2ee":case"countdown_timer_e2ee":c=d("DecryptedE2eeDataSerializers").deserializeDecryptedE2eeData;break;case"raised_hands_queue":c=d("RaisedHandsQueueStateRaisedHandsQueueStateSerializers").deserializeRaisedHandsQueueParticipantOutputState;break;case"simple_internal":case"simple_external":c=d("SimpleStateSimpleStateSerializers").deserializeSimpleOutputState;break;case"live_stream":c=d("LiveStreamStateLiveStreamStateSerializers").deserializeLiveStreamClientOutputState;break;case"moderator_controls":c=d("ModeratorControlsStateModeratorControlsStateSerializers").deserializeModeratorControlsOutputState;break;case"media_information":c=d("MediaInformationStateMediaInformationStateSerializers").deserializeMediaInformationOutputState;break;case"media_sync":c=d("MediaSyncStateMediaSyncStateSerializers").deserializeMediaSyncOutputState;break;case"media_sync_autoplay":c=d("MediaSyncAutoplayStateMediaSyncAutoplayStateSerializers").deserializeParticipantOutputState;break;case"coplay":c=d("CoplayStateCoplayStateSerializers").deserializeCoplayOutputState;break;case"workroom":c=d("WorkroomsStateWorkroomStateSerializers").deserializeWorkroomOutputState;break;case"screenshare_floor_control":c=d("ScreenshareFloorControlStateScreenshareFloorControlStateSerializers").deserializeScreenshareFloorControlOutputState;break;case"meeting_assistant":c=d("MeetingAssistantStateMeetingAssistantStateSerializers").deserializeParticipantOutputState;break;case"whiteboard":c=d("WhiteboardStateWhiteboardStateSerializers").deserializeWhiteboardOutputState;break;case"sideband":c=d("SidebandStateSidebandStateSerializers").deserializeSidebandOutputState;break;case"breakout":c=d("BreakoutStateBreakoutStateSerializers").deserializeBreakoutOutputState;break;case"rooms_notes":c=d("RoomsNotesRoomsNotesStateSerializers").deserializeRoomsNotesOutputState;break;case"workrooms_vr":c=d("WorkroomsVrStateWorkroomsVRStateSerializers").deserializeWorkroomsVROutputState;break;case"coview":c=d("CoviewStateCoviewStateSerializers").deserializeCoviewOutputState;break;case"can_you_see_my_screen":c=d("CanYouSeeMyScreenStateCanYouSeeMyScreenStateSerializers").deserializeCanYouSeeMyScreenParticipantOutputState;break;case"intenticons":c=d("IntenticonsStateIntenticonsStateSerializers").deserializeIntenticonParticipantOutputState;break;case"whiteboard_messenger":c=d("WhiteboardMessengerStateWhiteboardMessengerStateSerializers").deserializeWhiteboardMessengerOutputState;break;case"number_of_people":c=d("NumberOfPeopleStateNumberOfPeopleStateSerializers").deserializeNumberOfPeopleOutputState;break;case"E2eeState":if(b!=null)return{data:d("ZenonAppProvider").isInstagramApp()?d("ZenonDataUtils").stringToUint8Array(b):d("ZenonDataUtils").base64ToUint8Array(b)};break;case"sctp_negotiation":c=d("SctpNegotiationStateSctpNegotiationStateSerializers").deserializeSCTPNegotiationParticipantOutputState;break;case"companion":c=d("CompanionStateCompanionStateSerializers").deserializeCompanionOutputState;break;case"workrooms_ask_everyone_to_open":c=d("WorkroomsAskEveroneToOpenStateWorkroomsAskEveryoneToOpenStateSerializers").deserializeWorkroomsAskEveryoneToOpenOutputState;break;case"config_engine":c=d("ConfigEngineStateConfigEngineStateSerializers").deserializeConfigEngineClientOutputState;break;default:break}if(b!=null&&c!=null){a=d("ZenonAppProvider").isInstagramApp()?d("ZenonDataUtils").stringToUint8Array(b):d("ZenonDataUtils").base64ToUint8Array(b);return d("CompactSerializerPolyfill").deserialize(a,c)}return null}function f(a,b){var c=null;switch(a){case"countdown_timer":c=d("CountdownTimerStateCountdownTimerStateSerializers").serializeCountdownTimerInputState;break;case"polls":c=d("PollsStatePollsStateSerializers").serializePollsParticipantInputState;break;case"polls_e2ee":c=d("PollsStatePollsStateSerializers").serializeE2EEPollsParticipantPayload;break;case"emoji_reactions":c=d("EmojiReactionsStateEmojiReactionsStateSerializers").serializeEmojiReactionsInputState;break;case"raised_hands_queue_e2ee":c=d("RaisedHandsQueueStateRaisedHandsQueueStateSerializers").serializeE2EERaisedHandsQueueParticipantPayload;break;case"emoji_reactions_e2ee":c=d("EmojiReactionsStateEmojiReactionsStateSerializers").serializeE2EEEmojiReactionsParticipantPayload;break;case"countdown_timer_e2ee":c=d("CountdownTimerStateCountdownTimerStateSerializers").serializeE2EECountdownTimerParticipantPayload;break;case"raised_hands_queue":c=d("RaisedHandsQueueStateRaisedHandsQueueStateSerializers").serializeRaisedHandsQueueParticipantInputState;break;case"simple_internal":case"simple_external":c=d("SimpleStateSimpleStateSerializers").serializeSimpleInputState;break;case"live_stream":c=d("LiveStreamStateLiveStreamStateSerializers").serializeLiveStreamClientInputState;break;case"moderator_controls":c=d("ModeratorControlsStateModeratorControlsStateSerializers").serializeModeratorControlsInputState;break;case"media_information":c=d("MediaInformationStateMediaInformationStateSerializers").serializeMediaInformationInputState;break;case"media_sync":c=d("MediaSyncStateMediaSyncStateSerializers").serializeMediaSyncInputState;break;case"media_sync_autoplay":c=d("MediaSyncAutoplayStateMediaSyncAutoplayStateSerializers").serializeParticipantInputState;break;case"coplay":c=d("CoplayStateCoplayStateSerializers").serializeCoplayMatchInputState;break;case"workroom":c=d("WorkroomsStateWorkroomStateSerializers").serializeWorkroomInputState;break;case"screenshare_floor_control":c=d("ScreenshareFloorControlStateScreenshareFloorControlStateSerializers").serializeScreenshareFloorControlInputState;break;case"meeting_assistant":c=d("MeetingAssistantStateMeetingAssistantStateSerializers").serializeParticipantInputState;break;case"whiteboard":c=d("WhiteboardStateWhiteboardStateSerializers").serializeWhiteboardInputState;break;case"sideband":c=d("SidebandStateSidebandStateSerializers").serializeSidebandInputState;break;case"breakout":c=d("BreakoutStateBreakoutStateSerializers").serializeBreakoutInputState;break;case"rooms_notes":c=d("RoomsNotesRoomsNotesStateSerializers").serializeRoomsNotesInputState;break;case"workrooms_vr":c=d("WorkroomsVrStateWorkroomsVRStateSerializers").serializeWorkroomsVRInputState;break;case"coview":c=d("CoviewStateCoviewStateSerializers").serializeCoviewInputState;break;case"intenticons":c=d("IntenticonsStateIntenticonsStateSerializers").serializeIntenticonParticipantInputState;break;case"E2eeState":c=d("E2eeStateSerializers").serializeE2eeClientState;break;case"can_you_see_my_screen":c=d("CanYouSeeMyScreenStateCanYouSeeMyScreenStateSerializers").serializeCanYouSeeMyScreenParticipantInputState;break;case"config_engine":c=d("ConfigEngineStateConfigEngineStateSerializers").serializeConfigEngineClientInputState;break;case"whiteboard_messenger":c=d("WhiteboardMessengerStateWhiteboardMessengerStateSerializers").serializeWhiteboardMessengerInputState;break;case"number_of_people":c=d("NumberOfPeopleStateNumberOfPeopleStateSerializers").serializeNumberOfPeopleInputState;break;case"sctp_negotiation":c=d("SctpNegotiationStateSctpNegotiationStateSerializers").serializeSCTPNegotiationParticipantInputState;break;case"companion":c=d("CompanionStateCompanionStateSerializers").serializeCompanionInputState;break;case"workrooms_ask_everyone_to_open":c=d("WorkroomsAskEveroneToOpenStateWorkroomsAskEveryoneToOpenStateSerializers").serializeWorkroomsAskEveryoneToOpenInputState;break;default:break}return b!=null&&c!=null?d("ZenonDataUtils").uint8ArrayToBase64(d("CompactSerializerPolyfill").serialize(b,c)):null}g.deserializeStateSyncSnapshot=a;g.serializeStateSyncSnapshot=b;g.deserializeE2eeData=c;g.deserializeOutputState=e;g.serializeInputState=f}),98);
__d("ZenonStateSyncStore",["ZenonDataUtils","ZenonInfraActionsLogger","ZenonStateSyncSerializer","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){this.$1=new Map(),this.$2=new Map(),this.$3=new Set(),this.$4=new Map()}var e=a.prototype;e.addTopicHandler=function(a,b){this.$3.add(a);var c=this.getTopicHandlers(a);this.$4.set(a,c.add(b))};e.getTopicHandlers=function(a){return(a=this.$4.get(a))!=null?a:new Set()};e.getInputStates=function(){return this.$1};e.getOutputStates=function(){return this.$2};e.$5=function(a){var b={stateStore:{}};b=d("ZenonStateSyncSerializer").serializeStateSyncSnapshot(b);return{data:b,version:a}};e.updateInputState=function(a,b){var e;this.$3.add(a);e=((e=(e=this.$1.get(a))==null?void 0:e.version)!=null?e:0)+1;if(a==="e2ee_v2_msg")return this.$5(e);this.$1.set(a,{data:b,version:e});b=d("ZenonStateSyncSerializer").serializeInputState(a,b);a==="live_stream"&&c("ZenonInfraActionsLogger").logCheckpointEmployeesTestUsersOnly({checkpoint:"Update state sync "+a+" and serialized input data "+JSON.stringify(b)});return b!==null?{data:b,version:e}:{version:e}};e.$6=function(a,c,e){var f;if(!this.$3.has(a))return;f=(f=(f=this.$2.get(a))==null?void 0:f.version)!=null?f:-1;if(e<=f)return;var g=d("ZenonStateSyncSerializer").deserializeOutputState(a,c);this.$2.set(a,{data:g,version:e});f=this.getTopicHandlers(a);f&&f.forEach(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){yield a(g)});return function(b){return a.apply(this,arguments)}}())};e.$7=function(a){var b=this;a=d("ZenonStateSyncSerializer").deserializeE2eeData(a.data);if(a==null)return;var c=d("ZenonStateSyncSerializer").deserializeStateSyncSnapshot(a.data);if(c==null)return;Object.keys(c.stateStore).forEach(function(a){var e=c.stateStore[a];if(e.data==null||e.data.length===0)return;b.$6(a,d("ZenonDataUtils").uint8ArrayToString(e.data),e.version)})};e.updateOutputState=function(a,b){if(a==="e2ee_v2_msg"){this.$7(b);return}this.$6(a,b.data,b.version)};e.unsubscribe=function(a){var b;this.$3["delete"](a);b=((b=(b=this.$1.get(a))==null?void 0:b.version)!=null?b:0)+1;this.$1.set(a,{data:null,version:b});return{version:b}};return a}();g["default"]=a}),98);
__d("ZenonSignalingModel",["ZenonMediaModeManager","ZenonStateSyncStore"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b,e,f,g,h,i){this.$9=new(c("ZenonStateSyncStore"))(),this.$11=new(d("ZenonMediaModeManager").ZenonMediaModeManager)(),this.$1=i,this.$2=a,this.$3=b,this.$4=e,this.$5=f,this.$6=g,this.$7=h}var b=a.prototype;b.getActorID=function(){return this.$1};b.setActorID=function(a){this.$1=a};b.getSignalingID=function(){return this.$2};b.updateRemoteSignalingID=function(a){this.$3=a};b.getRemoteSignalingID=function(){return this.$3};b.getUserInfo=function(){return this.$4};b.getRemoteInfo=function(){return this.$5};b.getRoomInfo=function(){return this.$6};b.updateRoomInfo=function(a){this.$6=a};b.getProtocol=function(){return this.$7};b.getMediaModeManager=function(){return this.$11};b.getStateSyncStore=function(){return this.$9};b.updateOverlayConfigServerLayer=function(a){this.$8=a};b.getOverlayConfigServerLayer=function(){return this.$8};b.setNotifyCallback=function(a){this.$10=a};b.notify=function(){this.$10&&this.$10()};return a}();g["default"]=a}),98);
__d("ZenonSignalingClientManager",["ZenonActorHooks","ZenonProtocolConfiguration","ZenonSignalingModel","immutable","randomInt"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b,e,f){f===void 0&&(f=null),this.$7=null,this.$1=c("immutable").Map(),this.$2={userID:d("ZenonActorHooks").ZenonActor.getID()},this.$3=b,this.$4=new Set(),this.$5=a,this.$6=e,this.$7=f}var b=a.prototype;b.getSignalingClient=function(a){return this.$1.get(a)};b.getSignalingClientsWithRemoteSignalingID=function(a){return this.$1.filter(function(b){return b.getSignalingModel().getRemoteSignalingID()===a&&!b.isTerminated()}).toArray()};b.createSignalingClient=function(a,b,e,f,g,h,i){var j=this;if(a!=null&&this.$1.has(a))return this.$1.get(a);a=a==null||a===""||a==="null"?String(c("randomInt")(0,4294967294)+1):a;e=new(c("ZenonSignalingModel"))(a,e,{userID:i},b,g,f,h);i=d("ZenonProtocolConfiguration").getConfiguration(e,this.$6);b=i.eventAggregator;g=i.messageSender;f=i.transactionManager;h=new this.$5(e,f,b,this.$3,this.$7);g.setMessageReceiver(function(a){return j.receiveMessage(a)});this.$1=this.$1.set(a,h);return h};b.receiveMessage=function(a){var b=a.getHeader(),c=this.$8(a);if(c==null)return;else a.setSignalingID(c);var d=this.getSignalingClient(c);if(d!=null)d.receiveMessage(a);else{d=this.createSignalingClient(c,b.remoteInfo,b.remoteSignalingID,b.protocol,b.roomInfo,b.actorID,b.userInfo.userID);d.getSignalingModel().updateRemoteSignalingID(b.remoteSignalingID);d.receiveMessage(a)}};b.$8=function(a){var b=a.getHeader(),d=b.signalingID;if(d!=null)return d;if(!this.$9(b.messageID))return null;b=b.remoteSignalingID;if(a.getEvents().some(function(a){return a.eventName==="terminateRequest"})&&b!=null){a=this.getSignalingClientsWithRemoteSignalingID(b);a.length>0&&(d=a[0].getSignalingModel().getSignalingID())}if(d==null){b=c("randomInt")(0,4294967294)+1;d=String(b)}return d};b.$9=function(a){if(this.$4.has(a))return!1;this.$4.add(a);return!0};return a}();g["default"]=a}),98);
__d("ZenonSimulcastUtils",["UserAgent","ZenonSimulcastManager","gkx"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a;return(a=c("gkx")("527"))!=null?a:!1}function a(){return i()&&h()}function i(){return c("UserAgent").isBrowser("Chrome >= 88")}function b(){return c("gkx")("527")?d("ZenonSimulcastManager").NUM_LAYERS:1}function e(){return d("ZenonSimulcastManager").MAX_NUM_ACTIVE_LAYERS}g.shouldUseChromeSimulcast=h;g.shouldUseSimulcast=a;g.isCurrentBrowserCompatibleWithSimulcast=i;g.getNumLayers=b;g.getMaxNumLayers=e}),98);
__d("ZenonTransportEventEmitter",["EventEmitter"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.emitJoinReady=function(a){this.emit("transportPlatformEvent",{messageType:"joinReady",mwRingRequest:a})};c.emitParentWindowConnectionTimeout=function(){this.emit("transportPlatformEvent",{messageType:"parentWindowConnectionTimeout",mwRingRequest:null})};return b}(c("EventEmitter"));b=new a();d=b;g["default"]=d}),98);
__d("XVideoCallTurnDiscoveryController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/videocall/turndiscovery/",{version:{type:"Int",required:!0},call_id:{type:"String"}})}),null);
__d("ZenonUtils",["AsyncRequest","AsyncResponse","emptyFunction"],(function(a,b,c,d,e,f,g){"use strict";var h=6e3;function a(a,b,d,e,f,g){b===void 0&&(b=c("emptyFunction"));d===void 0&&(d=c("emptyFunction"));e===void 0&&(e=!1);f===void 0&&(f=h);g===void 0&&(g={});a=new(c("AsyncRequest"))().setURI(a).setData(g).setAllowCrossPageTransition(!0).setHandler(b).setErrorHandler(d).setTimeoutHandler(f,function(a){d(new(c("AsyncResponse"))(a,{}))});a.setMethod("POST");e&&a.setOption("asynchronous_DEPRECATED",!1);a.send()}g.sendServerRequest=a}),98);
__d("ZenonTurnDiscovery",["Promise","XVideoCallTurnDiscoveryController","ZenonDebugLogger","ZenonInfraActionsLogger","ZenonUtils","err"],(function(a,b,c,d,e,f,g){"use strict";var h=3,i=null;function a(a,e,f){f===void 0&&(f=h);var g=i;if(g!=null){c("ZenonInfraActionsLogger").logCheckpointEmployeesTestUsersOnly({callType:"mw",checkpoint:"[ZP] returning cached TURN credentials"});return g}g=1;var j=c("XVideoCallTurnDiscoveryController").getURIBuilder().setInt("version",g).setString("call_id",a).getURI();c("ZenonInfraActionsLogger").logCheckpointEmployeesTestUsersOnly({callType:"mw",checkpoint:"[ZP] sending TURN server request to url "+j.toString()});i=new(b("Promise"))(function(b,g){h(f);function h(f){d("ZenonUtils").sendServerRequest(j,function(a){a=a.payload;return b(a)},function(){f>0?(c("ZenonDebugLogger").getFBLogger({peerID:e,signalingID:a}).warn("Failed turn; going to retry"),h(f-1)):g(c("err")("failed"))})}});return i}g.requestTurnCreds=a}),98);
__d("ZenonCallsManager",["invariant","FBLogger","OverlayConfigManagerWithServerLayer","PersistedQueue","Promise","SCTPSignalingListener","ZenonActorHooks","ZenonAuditedCheckpointLogId","ZenonBrowsers","ZenonCallLogger","ZenonChildQPLLogProcessor","ZenonCollisionContext","ZenonConnectionStateManager","ZenonDebugLogger","ZenonDismissReason","ZenonE2ee","ZenonEncryptionKeysManagerState","ZenonGraphQLMWMessageSender","ZenonInfraActionsLogger","ZenonLSCallStartEventLogProcessor","ZenonLSCallSummaryLogProcessor","ZenonLSE2EEStatsLogProcessor","ZenonLSPeerConnectionSummaryLogProcessor","ZenonLSStarRatingsLogProcessor","ZenonLoggingEventTypes","ZenonMWMessageReliabilityLogger","ZenonMWMessageTranslator","ZenonMediaActionLogger","ZenonMediaStatsUtil","ZenonMessageSenderChain","ZenonMqttMWMessageSender","ZenonMqttUtil","ZenonPeerConnectionConfig","ZenonRTWebBrowserFeatureSupport","ZenonRenderResolutionTracker","ZenonRequestedMediaType","ZenonSDKRateLimiter","ZenonSctpMWMessageSender","ZenonSctpMWMessageSenderHelper","ZenonSignalingChildTransport","ZenonSignalingClient","ZenonSignalingClientManager","ZenonSignalingConstants","ZenonSignalingProtocol","ZenonSimulcastUtils","ZenonTransportEventEmitter","ZenonTransportType","ZenonTurnDiscovery","asyncToGeneratorRuntime","cr:5672","gkx","immutable","justknobx","performanceNow","promiseDone","qex","unrecoverableViolation","uuidv4"],(function(a,b,c,d,e,f,g,h){"use strict";a=function(){function a(a){var b=this;this.$4=new Map();this.$5=null;this.$7=null;this.$8=new(c("ZenonSctpMWMessageSenderHelper"))();this.$9=new(c("ZenonRenderResolutionTracker"))();var e=a.getRelayEnvironment();this.$7=new(c("ZenonSDKRateLimiter"))();this.$1=c("immutable").Map();this.$2=a;e=new(c("ZenonMessageSenderChain"))([new(c("ZenonMqttMWMessageSender"))()].concat(e?[new(c("ZenonGraphQLMWMessageSender"))(e)]:[],[new(c("ZenonSctpMWMessageSender"))(this.$8)]));this.$3=new(c("ZenonSignalingClientManager"))(c("ZenonSignalingClient"),function(a,c,d){return b.onInviteReceived(a,c,d)},e,a);this.$6=this.$10();var f=c("performanceNow")(),g=0,h=c("ZenonDebugLogger").getInstance();e=d("ZenonMqttUtil").getMqttChannel();e.getConnectionState()==="Connected"&&(h.logMQTTConnectStats(0,0),f=null,g++);e.subscribeChannelEvents({onMQTTStateChanged:function(a){var b=f;if((a==="Disconnected"||a==="Connecting")&&b==null)f=c("performanceNow")();else if(a==="Connected"&&b!=null){b=Math.round(c("performanceNow")()-b);h.logMQTTConnectStats(b,g);g++;f=null}h.logMQTTStateChange(a)}})}var e=a.prototype;e.$10=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){c("ZenonInfraActionsLogger").logCheckpointEmployeesTestUsersOnly({callType:"mw",checkpoint:"[ZP] starting TURN discovery"});var a=Date.now();try{var b=(yield d("ZenonTurnDiscovery").requestTurnCreds("ZenonPlatform","MW_PEER_ID"));c("ZenonPeerConnectionConfig").setTurnCredentials(b);if(c("gkx")("2890")){b={ip:b.ip,ip_6:b.ip_6,ssl_tcp_port:b.ssl_tcp_port,tcp_port:b.tcp_port,udp_port:b.udp_port};c("ZenonInfraActionsLogger").logCheckpoint({callType:"mw",checkpoint:"[ZP] successfully acquired TURN credentials: "+JSON.stringify(b)+". Took "+(Date.now()-a)+" ms."})}else c("ZenonInfraActionsLogger").logCheckpoint({callType:"mw",checkpoint:"[ZP] successfully acquired TURN credentials. Took "+(Date.now()-a)+" ms."})}catch(b){c("ZenonInfraActionsLogger").logError({auditId:c("ZenonAuditedCheckpointLogId").RP_ROOMS_INFRA_WWW__ERROR,callType:"mw",checkpoint:"[ZP] failed to get TURN credentials. Took "+(Date.now()-a)+" ms. Error message: "+b,errorDomain:"ZenonCallsManager_fetchTurnCredentials"})}});function e(){return a.apply(this,arguments)}return e}();e.getLogProcessors=function(){var a=[d("ZenonLSCallSummaryLogProcessor").ZenonLSCallSummaryLogProcessorConfig,d("ZenonChildQPLLogProcessor").ZenonChildQPLLogProcessorConfig,d("ZenonLSPeerConnectionSummaryLogProcessor").ZenonLSPeerConnectionSummaryLogProcessorConfig,d("ZenonLSCallStartEventLogProcessor").ZenonLSCallStartEventLogProcessorConfig,d("ZenonLSE2EEStatsLogProcessor").ZenonLSE2EEStatsLogProcessorConfig,d("ZenonLSStarRatingsLogProcessor").ZenonLSStarRatingsLogProcessorConfig];b("cr:5672")&&a.push(b("cr:5672").ZenonSCTPQPLLogProcessorConfig);return a};e.onInviteReceived=function(a,b,e){b=this.$2.getConfigManager().getZenonMultiCallSupportConfig().getMaxConnectedCalls();var f=this.$1.filter(function(a){return a.getConnectionState()!=="terminated"}),g=f.filter(function(b){return b.getRemoteSignalingID()===((b=a.roomInfo.context)==null?void 0:b.serverInfoData)});if(g.size>0){c("promiseDone")(e.respondToInvite("OK"));return}g=f.some(function(a){return a.getRemoteSignalingID()==null});if(f.size>=b){f.size>b&&c("FBLogger")("rtc_www").warn("We have more than supported number of calls occurring");c("promiseDone")(e.respondToInvite("IN_ANOTHER_CALL"));g||c("promiseDone")(e.sendDismiss(d("ZenonDismissReason").ZenonDismissReason.InAnotherCall));return}c("justknobx")._("1334")&&c("promiseDone")(e.respondToInvite("OK"))};e.join=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b,e=this;c("PersistedQueue").eventEmitter.emit("active",null);var f=a.peerID;f!=null||h(0,18600);a.roomID!=null||!d("ZenonCollisionContext").isCollisionContextEmpty(a.joiningContext)||h(0,69267);var g={userID:f},i=a.actorID,j=a.callMedia,k=a.callTrigger,l=a.clientCallID,m=a.isE2eeMandated;m=m===void 0?!1:m;var n=a.isSecondaryJoinRole;n=n===void 0?!1:n;var o=a.joiningContext,p=a.mwRingRequest,q=a.roomID;q=q===void 0?null:q;var r=a.setE2eeModel,s=a.signalingID,t=a.usersToRing;n=n?d("ZenonLoggingEventTypes").ZenonJoinMode.Secondary:d("ZenonLoggingEventTypes").ZenonJoinMode.Primary;o={context:babelHelpers["extends"]({},o),name:q};if(p!=null){p.jsonPayload.header.clientSessionId=(q=s)!=null?q:""}if(this.$1.get(l)!=null)throw c("unrecoverableViolation")("Call with id "+l+" already exists. Use a new clientCallID/clientSessionID if rejoining.","rtc_www");this.$11(s,a.serverInfoData);q=null;s!=null&&(q=this.$3.getSignalingClient(s));i=(i=(i=i)!=null?i:p==null?void 0:(i=p.jsonPayload.header.receiver)==null?void 0:i.actorId)!=null?i:null;q==null?q=this.$3.createSignalingClient(s,g,a.serverInfoData,c("ZenonSignalingProtocol").MWPP,o,i,d("ZenonActorHooks").ZenonActor.getID()):q.getSignalingModel().setActorID(i);g=q.getSignalingModel();o=g.getSignalingID();i=p==null;b=(p==null?void 0:(b=p.jsonPayload.body.ringRequest)==null?void 0:(b=b.offer)==null?void 0:b.sdpString)!=null;g.getMediaModeManager().onJoin(i,t.length,b,m);t=this.$4.get(l);if(t==null){j=j===c("ZenonRequestedMediaType").Video||j===c("ZenonRequestedMediaType").Audiovideo;t=new(c("ZenonCallLogger"))({callTrigger:k,conferenceName:a.roomID,disableTsData:m,isCaller:i,isVideo:j,joinMode:n,localCallID:c("uuidv4")(),peerID:f,protocol:c("ZenonSignalingProtocol").MWPP,serverInfoData:a.serverInfoData,signalingID:(k=s)!=null?k:o},this.getLogProcessors(),this.$2.getConfigManager(),m);this.$4.set(l,t);c("ZenonInfraActionsLogger").updateCachedValues({signalingID:o})}j=d("ZenonSimulcastUtils").shouldUseSimulcast();q!=null||h(0,23327);g.getMediaModeManager().getMediaMode()==="p2p"&&(yield this.$6);if(d("ZenonRTWebBrowserFeatureSupport").isInsertableStreamsSupported()&&r!=null){c("ZenonInfraActionsLogger").startTimer("[E2ee] Create E2ee Components");n=function(a){void e.endCall(l,"EndToEndEncryptionInvariantViolated",a)};f=c("gkx")("8523")?function(a,b){void e.sendGenericDataMessage(l,d("ZenonSignalingConstants").E2EE_DATA_MESSAGE_MEDIA_CHANNEL_TOPIC,b,[a],[],d("ZenonTransportType").ZenonTransportType.SCTP)}:null;g=(k=c("qex")._("369"))!=null?k:!1;yield c("ZenonE2ee").createE2eeComponents(m,t,q,r,n,f,g);c("ZenonInfraActionsLogger").stopTimer("[E2ee] Create E2ee Components")}c("ZenonE2ee").isE2eeMandated()&&!c("ZenonE2ee").isE2eeStackReady()&&(!d("ZenonRTWebBrowserFeatureSupport").isInsertableStreamsSupported()?void this.endCall(l,"EndToEndEncryptionInvariantViolated","E2ee is mandated, but Insertable Streams API is not supported"):void this.endCall(l,"EndToEndEncryptionInvariantViolated","E2ee is mandated, but e2ee stack is not initialized"));k=new(c("OverlayConfigManagerWithServerLayer"))(this.$2.getConfigManager());r=new(c("ZenonConnectionStateManager"))(l,q,i?"outgoing":"incoming",k,t,this.$8,j,m,this.$9);t.log({hasOfferInRingRequest:b,isCaller:i,name:"callJoinRequest"});this.$1=this.$1.set(l,r);yield r.start(a);c("ZenonInfraActionsLogger").logCheckpoint({callType:"mw",checkpoint:"[ZP] ZenonCallsManager_join called, starting connectionStateManager",conferenceName:a.roomID,isCaller:i,signalingID:s});if(p){n=d("ZenonMWMessageTranslator").toSignalingMessage(p);this.$3.receiveMessage(n)}if(d("ZenonBrowsers").isDataChannelSupported()){f=new(c("SCTPSignalingListener"))(r);f.subscribe(function(a){return e.$3.receiveMessage(a)})}d("ZenonMediaStatsUtil").shouldUseTSLog({isE2eeMandated:m})?c("ZenonInfraActionsLogger").logCheckpoint({callType:"mw",checkpoint:"[ZP] Eligible for tslog logging",conferenceName:a.roomID,isCaller:i,serverInfoData:a.serverInfoData,signalingID:this.$12(o,l)}):c("ZenonInfraActionsLogger").logCheckpoint({callType:"mw",checkpoint:"[ZP] Not eligible for tslog logging",conferenceName:a.roomID,isCaller:i,serverInfoData:a.serverInfoData,signalingID:this.$12(o,l)})});function e(b){return a.apply(this,arguments)}return e}();e.$12=function(a,b){return(a=a)!=null?a:b};e.addLocalTrack=function(a,c){return(a=this.$13(a,function(a){return a.addLocalTrack(c)}))!=null?a:b("Promise").resolve()};e.removeLocalTrack=function(a,c){return(a=this.$13(a,function(a){return a.removeLocalTrack(c)}))!=null?a:b("Promise").resolve()};e.muteTrack=function(a,c){return!this.$14("muteTrack")?b("Promise").resolve():(a=this.$13(a,function(a){return a.muteTrack(c)}))!=null?a:b("Promise").resolve()};e.unmuteTrack=function(a,c){return!this.$14("unmuteTrack")?b("Promise").resolve():(a=this.$13(a,function(a){return a.unmuteTrack(c)}))!=null?a:b("Promise").resolve()};e.stopLocalTrack=function(a,c){return(a=this.$13(a,function(a){return a.stopLocalTrack(c)}))!=null?a:b("Promise").resolve()};e.initializeLogging=function(a,b){var e=b.callTrigger,f=b.initializeVideo,g=b.isE2eeMandated,h=b.peerID,i=b.roomID;i=i===void 0?null:i;var j=b.serverInfoData;b=b.signalingID;if(b!=null){g&&(c("ZenonInfraActionsLogger").setE2eeIsMandatedForCall(b),d("ZenonMWMessageReliabilityLogger").setE2eeIsMandatedForCall(b),c("ZenonMediaActionLogger").disable());c("ZenonInfraActionsLogger").updateCachedValues({signalingID:String(b)});if(!this.$4.has(a)){e=new(c("ZenonCallLogger"))({callTrigger:e,conferenceName:i,isCaller:!0,isVideo:f,localCallID:c("uuidv4")(),peerID:h,protocol:c("ZenonSignalingProtocol").MWPP,serverInfoData:j,signalingID:String(b)},this.getLogProcessors(),this.$2.getConfigManager(),g);this.$4.set(a,e)}}};e.initializeSignaling=function(a,b,e,f){var g=this,h=this.$2.getSignalingListener();h.subscribe(function(a){return g.$3.receiveMessage(a)},function(a){});h=d("ZenonMqttUtil").getMqttChannel();c("ZenonInfraActionsLogger").logCheckpoint({checkpoint:"[ZP] Subscribed to MQTT channels. MQTT connection state: "+h.getConnectionState()});h=this.$2.getConfigManager().getZenonStartCallImmediatelyConfig().isEnabled();if(h)c("ZenonTransportEventEmitter").emitJoinReady();else if(b!=null){h=this.$2.getConfigManager().getZenonPlatformSupportConfig().getParentWindowConnectionTimeoutMs();this.$5=new(c("ZenonSignalingChildTransport"))(b,a,h,e,f)}else c("ZenonTransportEventEmitter").emitParentWindowConnectionTimeout();this.$5&&c("promiseDone")(this.$5.connect(),function(a){a.state==="join_ready"?c("ZenonTransportEventEmitter").emitJoinReady(a.mwRingRequest):c("ZenonTransportEventEmitter").emitParentWindowConnectionTimeout()})};e.endCall=function(a,e,f){e=d("ZenonDismissReason").endCallToDismissReason(e);var g=this.$1.get(a);if(g)return g.end(e,f);else{g=this.$4.get(a);g!=null?g.log({endCallReason:e,endCallSubreason:f,isRemoteEnded:!1,name:"callEnded"}):c("FBLogger")("rtc_www").warn("ZenonCallLogger missing for endCall")}return b("Promise").resolve()};e.ringParticipants=function(a,c,d){return(a=this.$13(a,function(a){return a.addParticipants(c,d)}))!=null?a:b("Promise").resolve()};e.removeParticipants=function(a,c){return(a=this.$13(a,function(a){return a.removeParticipants(c)}))!=null?a:b("Promise").resolve()};e.replaceLocalTrack=function(a,c,d,e,f){e===void 0;return(e=this.$13(a,function(a){if(f!=null)return a.replaceLocalTrack(c,d,f);else return a.replaceLocalTrack(c,d)}))!=null?e:b("Promise").resolve()};e.forceEncodingEnabled=function(a,c){return(a=this.$13(a,function(a){return a.forceEncodingEnabled(c)}))!=null?a:b("Promise").resolve()};e.submitRating=function(a,b,c,d,e){c===void 0&&(c=null);d===void 0&&(d=null);e===void 0&&(e=null);a=this.$4.get(a);a&&(b!=null&&a.log({name:"callRated",rating:b}),(c!=null||d!=null||e!=null)&&a.log({feedback:c,name:"callSurveySubmitted",surveyChoice:e,surveyIssue:d}))};e.setRatingImpression=function(a,b){};e.getCalls=function(){return this.$1};e.setCalls=function(a){this.$1=a};e.createDataMessageSubscription=function(a,c,d,e){return(a=this.$13(a,function(a){return a.createDataMessageSubscription(c,d,e)}))!=null?a:b("Promise").resolve()};e.removeDataMessageSubscription=function(a,c,d){return(a=this.$13(a,function(a){return a.removeDataMessageSubscription(c,d)}))!=null?a:b("Promise").resolve()};e.sendGenericDataMessage=function(a,c,d,e,f,g){return!this.$14("dataMessage-"+c)?b("Promise").resolve():(a=this.$13(a,function(a){return a.sendGenericDataMessage(c,d,e,f,g)}))!=null?a:b("Promise").resolve()};e.getLogIdentifiers=function(a){return(a=this.$4.get(a))==null?void 0:a.getLogIdentifiers()};e.subscribeToRemoteVideo=function(a,c,d){a=this.$1.get(a);return a!=null?a.subscribeToRemoteVideo(c,d):b("Promise").resolve()};e.updateStateSyncTopic=function(a,c,d){return!this.$14("updateStateSync-"+c)?b("Promise").resolve():(a=this.$13(a,function(a){return a.updateStateSyncTopic(c,d)}))!=null?a:b("Promise").resolve()};e.unsubscribeFromStateSyncTopic=function(a,c){return(a=this.$13(a,function(a){return a.unsubscribeFromStateSyncTopic(c)}))!=null?a:b("Promise").resolve()};e.approveParticipants=function(a,c){return(a=this.$13(a,function(a){return a.approveParticipants(c.toArray())}))!=null?a:b("Promise").resolve()};e.denyParticipants=function(a,c){return(a=this.$13(a,function(a){return a.denyParticipants(c.toArray())}))!=null?a:b("Promise").resolve()};e.getSdpFormat=function(a){return this.$13(a,function(a){return a.getSdpFormat()})};e.getEncryptionKeysManagerState=function(a){a=this.$13(a,function(a){return a.getEncryptionKeysManagerState()});return a===null?d("ZenonEncryptionKeysManagerState").ZenonEncryptionKeysManagerState$DefaultConstructor():a};e.getSignalingProtocol=function(a){var b=this;return this.$13(a,function(a){return(a=b.$3.getSignalingClient(a.getSignalingID()))==null?void 0:a.getSignalingModel().getProtocol()})};e.getMediaMode=function(a){var b=this;return this.$13(a,function(a){return(a=b.$3.getSignalingClient(a.getSignalingID()))==null?void 0:a.getSignalingModel().getMediaModeManager().getMediaMode()})};e.getSCTPDataChannelState=function(a,b){return this.$13(a,function(a){return a.getSCTPDataChannelState(b)})};e.getConferenceName=function(a){var b=this;return this.$13(a,function(a){return(a=b.$3.getSignalingClient(a.getSignalingID()))==null?void 0:a.getSignalingModel().getRoomInfo().name})};e.$14=function(a){if(this.$7&&!this.$7.take(a)){c("FBLogger")("rtc_www").mustfix("[ZP] Dropping %s invocation. This SDK method is being called too rapidly.",a);return!1}return!0};e.$13=function(a,b){a=this.$1.get(a);return a!=null?b(a):null};e.$11=function(a,b){if(a!=null&&b!=null){b=this.$3.getSignalingClientsWithRemoteSignalingID(b);b.forEach(function(b){b.getSignalingModel().getSignalingID()!==a&&c("promiseDone")(b.silentlyTerminate())})}};e.updateRenderedResolutionMap=function(a){this.$9.setRenderResolutionMap(a)};return a}();g["default"]=a}),98);
__d("ZenonClientTslogUploader",["DateConsts","ZenonInfraActionsLogger","justknobx","qex"],(function(a,b,c,d,e,f,g){"use strict";var h=5*d("DateConsts").MS_PER_MIN,i=2e5,j="[ZP] Tslog Uploader";a=function(){function a(a,b){a===void 0&&(a=function(){});this.$1=function(){};this.$3=null;this.$4=1;this.$5=h;this.$6=i;this.$1=a;this.$2=b;this.$5=(a=c("qex")._("911"))!=null?a:h;this.$6=(b=c("qex")._("912"))!=null?b:i}var b=a.prototype;b.$7=function(a){c("ZenonInfraActionsLogger").logCheckpoint({checkpoint:j+" - "+a})};b.$8=function(a,b,d){var e=a.timeSeries;if(e==null||e.length===0){this.$7("TSLog is empty - stop sending");return}var f=e.length;if(b||f>=d){this.$7("TSLog chunk ID: "+this.$4+" with length "+f+" >= "+d+" will be sent and isTerminal: "+(b?"1":"0"));if(c("justknobx")._("856"))return;this.$1({name:"logTSData",serializedTSLog:{format:a.format,isTerminal:b,sequenceNumber:this.$4,timeSeries:e}});this.$2.resetTimeSeries();this.$4+=1}else this.$7("TSLog chunk ID: "+this.$4+" with length "+f+" < "+d+" is not sent")};b.$9=function(a,b){var c=this.$6;this.$8(a,b,c)};b.$10=function(){this.$3!=null&&(this.$7("Ending polling"),window.clearInterval(this.$3),this.$3=null)};b.$11=function(){var a=this;this.$3==null&&(this.$4=1,this.$3=window.setInterval(function(){a.$12()},this.$5))};b.$12=function(){var a=this.$2.timeSeries();a&&this.$9(a,!1)};b.$13=function(){if(c("justknobx")._("856")){this.$7("TSLog collection is stopped by jk - stop sending");return!0}return!1};b.stopTslogUploadInChunks=function(){this.$10();if(this.$13())return;var a=this.$2.timeSeries();a&&this.$9(a,!0)};b.logTslogInChunks=function(){if(this.$13())return;this.$7("Call is sending chunked TSLogs");this.$11()};b.logTslog=function(){if(this.$13())return;var a=this.$2.timeSeries();if(a){if(a.timeSeries==null||a.timeSeries.length===0){this.$7("TSLog is empty - stop sending from logTslog");return}this.$1({name:"logTSData",serializedTSLog:a})}};return a}();g["default"]=a}),98);
__d("ZenonIceConnectionMonitor",["DateConsts","ZenonInfraActionsLogger","ZenonNetworkQualityMonitor","ZenonPeerConnectionConstants","clearTimeout","emptyFunction","performanceNow","qex","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h=30*d("DateConsts").MS_PER_SEC,i=3,j=new Set([d("ZenonNetworkQualityMonitor").ZenonNetworkQuality.Disconnected,d("ZenonNetworkQualityMonitor").ZenonNetworkQuality.Poor]),k=new Set([d("ZenonNetworkQualityMonitor").ZenonNetworkQuality.Excellent,d("ZenonNetworkQualityMonitor").ZenonNetworkQuality.Good,d("ZenonNetworkQualityMonitor").ZenonNetworkQuality.Fair]);a=function(){function a(){var a;this.$1="new";this.$2=d("ZenonNetworkQualityMonitor").ZenonNetworkQuality.Excellent;this.$3=null;this.$4=null;this.$5=0;this.$6=!1;this.$7=0;this.$6=(a=c("qex")._("1263"))!=null?a:!1}var b=a.prototype;b.clearIceRestartTimer=function(){this.$4!=null&&(c("ZenonInfraActionsLogger").logCheckpointEmployeesTestUsersOnly({checkpoint:"Clearing platform ice restart timer"}),c("clearTimeout")(this.$4),this.$4=null)};b.clearIceConnectionTimer=function(){this.$3!=null&&(c("ZenonInfraActionsLogger").logCheckpointEmployeesTestUsersOnly({checkpoint:"Clearing platform connection drop timer"}),c("clearTimeout")(this.$3),this.$3=null)};b.updateIceConnectionState=function(a){this.$1=a,c("ZenonInfraActionsLogger").logCheckpointEmployeesTestUsersOnly({checkpoint:"iceConnectionStateChange: "+a})};b.updateNetworkStatus=function(a){this.$2=a};b.updateIceRestartTimer=function(a,b){if(this.$8())this.clearIceRestartTimer();else if(this.$9()&&this.$4==null&&this.$5<i)this.$7=c("performanceNow")()+b,c("ZenonInfraActionsLogger").logCheckpointEmployeesTestUsersOnly({checkpoint:"Creating an ICE Restart timer"}),this.$10(a,b);else if(this.$9()){var d=this.$7-c("performanceNow")();d>b&&(c("ZenonInfraActionsLogger").logCheckpointEmployeesTestUsersOnly({checkpoint:"Creating a shorter ICE Restart timer"}),this.clearIceRestartTimer(),this.$10(a,b))}};b.$10=function(a,b){var d=this;this.$4=c("setTimeout")(function(){c("ZenonInfraActionsLogger").logCheckpoint({checkpoint:"Issuing an ICE Restart"}),d.$5++,a.processEvent({onError:c("emptyFunction"),onSuccess:c("emptyFunction"),type:"iceRestart"})},b)};b.updateIceConnectionTimer=function(a,b){b===void 0&&(b=h),d("ZenonPeerConnectionConstants").CONNECTED_STATES.has(this.$1)?this.clearIceConnectionTimer():d("ZenonPeerConnectionConstants").DISCONNECTED_STATES.has(this.$1)&&this.$3==null&&(c("ZenonInfraActionsLogger").logCheckpointEmployeesTestUsersOnly({checkpoint:"Setting platform connection drop timer"}),this.$3=c("setTimeout")(function(){c("ZenonInfraActionsLogger").logCheckpointEmployeesTestUsersOnly({checkpoint:"Ending call on platform connection drop timeout"}),a()},b))};b.logIceConnectionState=function(a){this.$11()||a({connected:this.$12(),name:"peerConnectionStateChanged",newState:this.$1}),this.$12()&&a({name:"mediaConnected"}),this.$1==="connected"&&a({name:"iceConnectionStateChangedConnected"}),this.$1==="disconnected"&&a({name:"iceConnectionStateChangedDisconnected"})};b.$8=function(){return this.$6?this.$12()&&k.has(this.$2):this.$12()};b.$9=function(){return this.$6?this.$13()||j.has(this.$2):this.$13()};b.$12=function(){return d("ZenonPeerConnectionConstants").CONNECTED_STATES.has(this.$1)};b.$13=function(){return d("ZenonPeerConnectionConstants").DISCONNECTED_STATES.has(this.$1)};b.$11=function(){return d("ZenonPeerConnectionConstants").INDETERMINANT_STATES.has(this.$1)};return a}();g["default"]=a}),98);
__d("ZenonPeerConnectionDataActions",["promiseDone"],(function(a,b,c,d,e,f,g){"use strict";a=function(a,b){if(b.type==="createDataChannel"){var c=b.payload,d=c.dataChannelLabel,e=c.dataChannelOptions,f=c.onDataChannelMessage,g=c.onDataChannelOpen;c=c.shouldEstablishDataChannel;a.mediaChannelManager.createDataChannel(d,f,g,c,e);b.onSuccess()}};b=function(a,b){if(b.type==="dataChannelMessageReceived"){var d=b.payload,e=d.dataChannelLabel;d=d.dataMessage;c("promiseDone")(a.onDataChannelMessageReceived(e,d),b.onSuccess,b.onError)}};d=function(a,b){if(b.type==="createDataMessageSubscription"){var d=b.payload,e=d.dataChannelLabel;d=d.onSignalingDataMessage;c("promiseDone")(a.onCreateDataMessageSubscription(e,d),b.onSuccess,b.onError)}};e=function(a,b){if(b.type==="removeDataMessageSubscription"){var d=b.payload,e=d.dataChannelLabel;d=d.onSignalingDataMessage;c("promiseDone")(a.onRemoveDataMessageSubscription(e,d),b.onSuccess,b.onError)}};g.onCreateDataChannel=a;g.onDataChannelMessageReceived=b;g.onCreateDataMessageSubscription=d;g.onRemoveDataMessageSubscription=e}),98);
__d("ZenonPeerConnectionIceActions",["ZenonInfraActionsLogger","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h={onIceConnected:function(a){return a.onConnectionEstablished()},onIceConnectionStateChanged:function(a,b){if(b.type==="iceConnectionStateChange"){c("ZenonInfraActionsLogger").logCheckpoint({checkpoint:"iceConnectionStateChange: "+b.payload.iceConnectionState});var d=b.payload.iceConnectionState==="connected"||b.payload.iceConnectionState==="completed",e=b.payload.iceConnectionState==="disconnected"||b.payload.iceConnectionState==="failed";d?c("promiseDone")(h.onIceConnected(a),b.onSuccess,b.onError):e&&c("promiseDone")(a.onConnectionDropped(),b.onSuccess,b.onError);return{iceConnectionState:b.payload.iceConnectionState}}return{}}};a=h;g["default"]=a}),98);
__d("ZenonPeerConnectionMediaActions",["AggregateError","Promise","ZenonAuditedCheckpointLogId","ZenonInfraActionsLogger","ZenonLoggingEventTypes","ZenonRequestedMediaType","asyncToGeneratorRuntime","emptyFunction","err","gkx","promiseDone","qex"],(function(a,b,c,d,e,f,g){"use strict";f=function(a,b){b.type==="applyRemoteIceCandidate"&&b.payload!=null&&c("promiseDone")(a.sdpManager.setRemoteIceCandidate(b.payload),function(){a.logEvent({direction:d("ZenonLoggingEventTypes").ZenonUpdateIceInfoDirection.Receive,name:"updateIceInfo",sdpString:b.payload.candidate}),b.onSuccess()},b.onError)};var h=function(a,b){c("ZenonInfraActionsLogger").logError({auditId:c("ZenonAuditedCheckpointLogId").RP_ROOMS_INFRA_WWW__ERROR,checkpoint:"Failed to add local tracks: "+b.data.toString(),errorDomain:"ZenonPeerConnectionMediaActions_onAddLocalTracks"})},i=function(a,b){c("ZenonInfraActionsLogger").logCheckpointEmployeesTestUsersOnly({checkpoint:"Successfully added local tracks"});return b.data},j=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,d){if(d.type!=="addLocalTracks")return{};var e=d.payload,f=e.callMedia;e=e.tracks;var g=[],h=(yield b("Promise").allSettled(e.map(function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){yield a.mediaChannelManager.addTrack(b,d.payload.mediaMode),z(a,b.trackId,b.enabled)});return function(a){return c.apply(this,arguments)}}())));h.forEach(function(a){a.status==="rejected"&&g.push(c("err")(a.reason))});if(g.length>0){h=new(c("AggregateError"))(g);d.onError(h);throw h}c("gkx")("6816")?((f===c("ZenonRequestedMediaType").Video||f===c("ZenonRequestedMediaType").Audiovideo)&&a.mediaChannelManager.addReceiveOnlyVideoTransceiverIfMissing(),(f===c("ZenonRequestedMediaType").Audio||f===c("ZenonRequestedMediaType").Audiovideo)&&(yield a.mediaChannelManager.addAudioTrackOrRecvOnlyTransceiverIfMissing(d.payload.mediaMode))):(a.mediaChannelManager.addReceiveOnlyVideoTransceiverIfNeeded(d.payload.mediaMode,d.payload.callInitiator),c("gkx")("1829601")&&a.mediaChannelManager.addInactiveAudioTransceiverIfNeeded());c("ZenonInfraActionsLogger").logCheckpointEmployeesTestUsersOnly({checkpoint:"add local tracks"});d.onSuccess();return{localMediaStateVersion:a.localMediaStateVersion+e.length}});return function(b,c){return a.apply(this,arguments)}}(),k=function(a,b){if(b.type!=="forceEncodingEnabled")return;c("promiseDone")(a.mediaChannelManager.forceEncodingEnabled(b.payload.enabled),b.onSuccess,b.onError)},l=function(a,b){b.type==="iceCandidateReady"&&c("promiseDone")(a.onIceCandidateReady(b.payload),b.onSuccess,b.onError)},m=function(a,b){if(b.type!=="localMediaStateUpdateRetry")return{};c("ZenonInfraActionsLogger").logCheckpointEmployeesTestUsersOnly({checkpoint:"local media state update retry with media status only"});a=A(a,b.onSuccess,b.onError);b=a.localMediaStateVersion;return{localMediaStateUpdateRetryTimerId:null,localMediaStateVersion:b}},n=function(a,b){if(b.type==="muteLocalTrack"){a=y(a,b.payload.trackId,!1,b.onSuccess,b.onError);c("ZenonInfraActionsLogger").logCheckpointEmployeesTestUsersOnly({checkpoint:"mute local track"});return a}return{}},o=function(a,b){c("ZenonInfraActionsLogger").logError({auditId:c("ZenonAuditedCheckpointLogId").RP_ROOMS_INFRA_WWW__ERROR,checkpoint:"Failed to remove local track: "+b.data.toString(),errorDomain:"ZenonPeerConnectionMediaActions_onRemoveLocalTracks"})},p=function(a,b){c("ZenonInfraActionsLogger").logCheckpointEmployeesTestUsersOnly({checkpoint:"Successfully removed local track"});return b.data},q=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){if(b.type!=="removeLocalTrack")return{};var d=b.payload.trackId;yield a.mediaChannelManager.removeTrack(d);a=y(a,d,!1,b.onSuccess,b.onError);c("ZenonInfraActionsLogger").logCheckpoint({checkpoint:"remove local track with id "+d});return a});return function(b,c){return a.apply(this,arguments)}}(),r=function(a,b){c("ZenonInfraActionsLogger").logError({auditId:c("ZenonAuditedCheckpointLogId").RP_ROOMS_INFRA_WWW__ERROR,checkpoint:"Failed to replace local tracks: "+b.data.toString(),errorDomain:"ZenonPeerConnectionMediaActions_onReplaceLocalTrack"})},s=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){if(b.type!=="replaceLocalTrack")return{};var d=b.payload,e=d.preserveOriginal,f=d.replacementTrack;d=d.trackIdToReplace;e!=null?yield a.mediaChannelManager.replaceTrack(d,f,e):yield a.mediaChannelManager.replaceTrack(d,f);e=y(a,b.payload.trackIdToReplace,!1,c("emptyFunction"),c("emptyFunction"));e=y(babelHelpers["extends"]({},a,e),b.payload.replacementTrack.trackId,b.payload.replacementTrack.enabled,b.onSuccess,b.onError);c("ZenonInfraActionsLogger").logCheckpointEmployeesTestUsersOnly({checkpoint:"replace local track with id "+d+" by track "+f.trackId});return e});return function(b,c){return a.apply(this,arguments)}}(),t=function(a,b){c("ZenonInfraActionsLogger").logCheckpointEmployeesTestUsersOnly({checkpoint:"Successfully replaced local track"});return b.data},u=function(a,b){if(b.type!=="setLocalMediaStateVersion")return{};b.onSuccess();return{localMediaStateVersion:b.payload.version}},v=function(a,b){if(b.type!=="stopLocalTrack")return;var c=b.payload.trackId;try{a.mediaChannelManager.stopLocalTrack(c),b.onSuccess()}catch(a){b.onError(a)}},w=function(a,b){if(b.type==="unmuteLocalTrack"){a=y(a,b.payload.trackId,!0,b.onSuccess,b.onError);c("ZenonInfraActionsLogger").logCheckpointEmployeesTestUsersOnly({checkpoint:"unmute local track"});return a}return{}};function a(a,b){if(b.type!=="applyMediaUpdate")return;x(a.mediaChannelManager,b.payload.mediaStates);b.onSuccess()}function x(a,b,c){c===void 0&&(c=!0),b&&(a.updateTrackInfos(b),a.updateMuteStates(b),c&&a.removeMissingTracks(b.tracks.map(function(a){return a.trackID})))}function y(a,b,c,d,e){z(a,b,c);return A(a,d,e)}function z(a,b,c){a=a.mediaChannelManager;c?a.unmuteTrack(b):a.muteTrack(b)}function A(a,b,d){var e=a.mediaChannelManager,f=[];e=e.getLocalTracksForMWS();e.forEach(function(a){a={enabled:a.enabled,name:a.name,trackID:a.trackId,type:a.contentType};f.push(a)});e=a.localMediaStateVersion+1;var g={tracks:f,version:e};c("promiseDone")(a.onLocalMediaStateUpdate(g),b,d);return{localMediaStateVersion:e}}function e(a){if(c("qex")._("528")){(a=a.tslogUploader)==null?void 0:a.logTslogInChunks()}}g.applyRemoteIceCandidate=f;g.onAddLocalTracksError=h;g.onAddedLocalTracks=i;g.onAddingLocalTracks=j;g.onForceEncodingEnabled=k;g.onIceCandidateReady=l;g.onLocalMediaStateUpdateRetry=m;g.onMuteLocalTrack=n;g.onRemoveLocalTrackError=o;g.onRemovedLocalTrack=p;g.onRemovingLocalTrack=q;g.onReplaceLocalTrackError=r;g.onReplacingLocalTrack=s;g.onReplacedLocalTrack=t;g.onSetLocalMediaStateVersion=u;g.onStopLocalTrack=v;g.onUnmuteLocalTrack=w;g.onApplyMediaUpdate=a;g.applyMediaStates=x;g.startTslog=e}),98);
__d("ZenonPeerConnectionSMGuards",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){return b.type==="applyRemoteSdp"&&b.payload.sdp.type==="offer"}function b(a,b){return b.type==="applyRemoteSdp"&&(b.payload.sdp.type==="answer"||b.payload.sdp.type==="pranswer")}function c(a,b){return((a=b.data)==null?void 0:a.type)==="pranswer"}function d(a,b){return b.type==="iceConnectionStateChange"&&(b.payload.iceConnectionState==="connected"||b.payload.iceConnectionState==="completed")}function e(a){return a.iceConnectionState==="connected"||a.iceConnectionState==="completed"}function g(a,b){return b.type==="iceConnectionStateChange"&&b.payload.iceConnectionState==="disconnected"}function h(a){return a.iceConnectionState!=="connected"&&a.iceConnectionState!=="completed"}function i(a){return(a=a.outstandingLocalOffer)!=null?a:!1}f.applyRemoteOfferSdpGuard=a;f.applyRemoteAnswerSdpGuard=b;f.prAnswerSetGuard=c;f.iceConnectedEventGuard=d;f.iceConnectedGuard=e;f.iceDisconnectedEventGuard=g;f.iceNotConnectedGuard=h;f.outstandingLocalOfferGuard=i}),66);
/**
 * Released under the MIT license. Copyright (c) 2013 Eirik Albrigtsen.
 *
 * @nolint
 * @preserve-header
 * @preserve-whitespace
 */
__d("sdp-transform-grammar",[],(function $module_sdp_transform_grammar(global,require,requireDynamic,requireLazy,module,exports){

var grammar = module.exports = {
  v: [{
    name: 'version',
    reg: /^(\d*)$/
  }],
  o: [{ //o=- 20518 0 IN IP4 203.0.113.1
    // NB: sessionId will be a String in most cases because it is huge
    name: 'origin',
    reg: /^(\S*) (\d*) (\d*) (\S*) IP(\d) (\S*)/,
    names: ['username', 'sessionId', 'sessionVersion', 'netType', 'ipVer', 'address'],
    format: '%s %s %d %s IP%d %s'
  }],
  // default parsing of these only (though some of these feel outdated)
  s: [{ name: 'name' }],
  i: [{ name: 'description' }],
  u: [{ name: 'uri' }],
  e: [{ name: 'email' }],
  p: [{ name: 'phone' }],
  z: [{ name: 'timezones' }], // TODO: this one can actually be parsed properly..
  r: [{ name: 'repeats' }],   // TODO: this one can also be parsed properly
  //k: [{}], // outdated thing ignored
  t: [{ //t=0 0
    name: 'timing',
    reg: /^(\d*) (\d*)/,
    names: ['start', 'stop'],
    format: '%d %d'
  }],
  c: [{ //c=IN IP4 10.47.197.26
    name: 'connection',
    reg: /^IN IP(\d) (\S*)/,
    names: ['version', 'ip'],
    format: 'IN IP%d %s'
  }],
  b: [{ //b=AS:4000
    push: 'bandwidth',
    reg: /^(TIAS|AS|CT|RR|RS):(\d*)/,
    names: ['type', 'limit'],
    format: '%s:%s'
  }],
  m: [{ //m=video 51744 RTP/AVP 126 97 98 34 31
    // NB: special - pushes to session
    // TODO: rtp/fmtp should be filtered by the payloads found here?
    reg: /^(\w*) (\d*) ([\w\/]*)(?: (.*))?/,
    names: ['type', 'port', 'protocol', 'payloads'],
    format: '%s %d %s %s'
  }],
  a: [
    { //a=rtpmap:110 opus/48000/2
      push: 'rtp',
      reg: /^rtpmap:(\d*) ([\w\-\.]*)(?:\s*\/(\d*)(?:\s*\/(\S*))?)?/,
      names: ['payload', 'codec', 'rate', 'encoding'],
      format: function (o) {
        return (o.encoding) ?
          'rtpmap:%d %s/%s/%s':
          o.rate ?
          'rtpmap:%d %s/%s':
          'rtpmap:%d %s';
      }
    },
    { //a=fmtp:108 profile-level-id=24;object=23;bitrate=64000
      //a=fmtp:111 minptime=10; useinbandfec=1
      push: 'fmtp',
      reg: /^fmtp:(\d*) ([\S| ]*)/,
      names: ['payload', 'config'],
      format: 'fmtp:%d %s'
    },
    { //a=control:streamid=0
      name: 'control',
      reg: /^control:(.*)/,
      format: 'control:%s'
    },
    { //a=rtcp:65179 IN IP4 193.84.77.194
      name: 'rtcp',
      reg: /^rtcp:(\d*)(?: (\S*) IP(\d) (\S*))?/,
      names: ['port', 'netType', 'ipVer', 'address'],
      format: function (o) {
        return (o.address != null) ?
          'rtcp:%d %s IP%d %s':
          'rtcp:%d';
      }
    },
    { //a=rtcp-fb:98 trr-int 100
      push: 'rtcpFbTrrInt',
      reg: /^rtcp-fb:(\*|\d*) trr-int (\d*)/,
      names: ['payload', 'value'],
      format: 'rtcp-fb:%d trr-int %d'
    },
    { //a=rtcp-fb:98 nack rpsi
      push: 'rtcpFb',
      reg: /^rtcp-fb:(\*|\d*) ([\w-_]*)(?: ([\w-_]*))?/,
      names: ['payload', 'type', 'subtype'],
      format: function (o) {
        return (o.subtype != null) ?
          'rtcp-fb:%s %s %s':
          'rtcp-fb:%s %s';
      }
    },
    { //a=extmap:2 urn:ietf:params:rtp-hdrext:toffset
      //a=extmap:1/recvonly URI-gps-string
      push: 'ext',
      reg: /^extmap:(\d+)(?:\/(\w+))? (\S*)(?: (\S*))?/,
      names: ['value', 'direction', 'uri', 'config'],
      format: function (o) {
        return 'extmap:%d' + (o.direction ? '/%s' : '%v') + ' %s' + (o.config ? ' %s' : '');
      }
    },
    { //a=crypto:1 AES_CM_128_HMAC_SHA1_80 inline:PS1uQCVeeCFCanVmcjkpPywjNWhcYD0mXXtxaVBR|2^20|1:32
      push: 'crypto',
      reg: /^crypto:(\d*) ([\w_]*) (\S*)(?: (\S*))?/,
      names: ['id', 'suite', 'config', 'sessionConfig'],
      format: function (o) {
        return (o.sessionConfig != null) ?
          'crypto:%d %s %s %s':
          'crypto:%d %s %s';
      }
    },
    { //a=setup:actpass
      name: 'setup',
      reg: /^setup:(\w*)/,
      format: 'setup:%s'
    },
    { //a=mid:1
      name: 'mid',
      reg: /^mid:([^\s]*)/,
      format: 'mid:%s'
    },
    { //a=msid:0c8b064d-d807-43b4-b434-f92a889d8587 98178685-d409-46e0-8e16-7ef0db0db64a
      name: 'msid',
      reg: /^msid:(.*)/,
      format: 'msid:%s'
    },
    { //a=ptime:20
      name: 'ptime',
      reg: /^ptime:(\d*)/,
      format: 'ptime:%d'
    },
    { //a=maxptime:60
      name: 'maxptime',
      reg: /^maxptime:(\d*)/,
      format: 'maxptime:%d'
    },
    { //a=sendrecv
      name: 'direction',
      reg: /^(sendrecv|recvonly|sendonly|inactive)/
    },
    { //a=ice-lite
      name: 'icelite',
      reg: /^(ice-lite)/
    },
    { //a=ice-ufrag:F7gI
      name: 'iceUfrag',
      reg: /^ice-ufrag:(\S*)/,
      format: 'ice-ufrag:%s'
    },
    { //a=ice-pwd:x9cml/YzichV2+XlhiMu8g
      name: 'icePwd',
      reg: /^ice-pwd:(\S*)/,
      format: 'ice-pwd:%s'
    },
    { //a=fingerprint:SHA-1 00:11:22:33:44:55:66:77:88:99:AA:BB:CC:DD:EE:FF:00:11:22:33
      name: 'fingerprint',
      reg: /^fingerprint:(\S*) (\S*)/,
      names: ['type', 'hash'],
      format: 'fingerprint:%s %s'
    },
    { //a=candidate:0 1 UDP 2113667327 203.0.113.1 54400 typ host
      //a=candidate:1162875081 1 udp 2113937151 192.168.34.75 60017 typ host generation 0 network-id 3 network-cost 10
      //a=candidate:3289912957 2 udp 1845501695 193.84.77.194 60017 typ srflx raddr 192.168.34.75 rport 60017 generation 0 network-id 3 network-cost 10
      //a=candidate:229815620 1 tcp 1518280447 192.168.150.19 60017 typ host tcptype active generation 0 network-id 3 network-cost 10
      //a=candidate:3289912957 2 tcp 1845501695 193.84.77.194 60017 typ srflx raddr 192.168.34.75 rport 60017 tcptype passive generation 0 network-id 3 network-cost 10
      push:'candidates',
      reg: /^candidate:(\S*) (\d*) (\S*) (\d*) (\S*) (\d*) typ (\S*)(?: raddr (\S*) rport (\d*))?(?: tcptype (\S*))?(?: generation (\d*))?(?: network-id (\d*))?(?: network-cost (\d*))?/,
      names: ['foundation', 'component', 'transport', 'priority', 'ip', 'port', 'type', 'raddr', 'rport', 'tcptype', 'generation', 'network-id', 'network-cost'],
      format: function (o) {
        var str = 'candidate:%s %d %s %d %s %d typ %s';

        str += (o.raddr != null) ? ' raddr %s rport %d' : '%v%v';

        // NB: candidate has three optional chunks, so %void middles one if it's missing
        str += (o.tcptype != null) ? ' tcptype %s' : '%v';

        if (o.generation != null) {
          str += ' generation %d';
        }

        str += (o['network-id'] != null) ? ' network-id %d' : '%v';
        str += (o['network-cost'] != null) ? ' network-cost %d' : '%v';
        return str;
      }
    },
    { //a=end-of-candidates (keep after the candidates line for readability)
      name: 'endOfCandidates',
      reg: /^(end-of-candidates)/
    },
    { //a=remote-candidates:1 203.0.113.1 54400 2 203.0.113.1 54401 ...
      name: 'remoteCandidates',
      reg: /^remote-candidates:(.*)/,
      format: 'remote-candidates:%s'
    },
    { //a=ice-options:trickle fb-force-5245
      name: 'iceOptions',
      reg: /^ice-options:(.*)/,
      format: 'ice-options:%s'
    },
    { //a=ssrc:2566107569 cname:t9YU8M1UxTF8Y1A1
      push: 'ssrcs',
      reg: /^ssrc:(\d*) ([\w_]*)(?::(.*))?/,
      names: ['id', 'attribute', 'value'],
      format: function (o) {
        var str = 'ssrc:%d';
        if (o.attribute != null) {
          str += ' %s';
          if (o.value != null) {
            str += ':%s';
          }
        }
        return str;
      }
    },
    { //a=ssrc-group:FEC 1 2
      //a=ssrc-group:FEC-FR 3004364195 1080772241
      push: 'ssrcGroups',
      // token-char = %x21 / %x23-27 / %x2A-2B / %x2D-2E / %x30-39 / %x41-5A / %x5E-7E
      reg: /^ssrc-group:([\x21\x23\x24\x25\x26\x27\x2A\x2B\x2D\x2E\w]*) (.*)/,
      names: ['semantics', 'ssrcs'],
      format: 'ssrc-group:%s %s'
    },
    { //a=msid-semantic: WMS Jvlam5X3SX1OP6pn20zWogvaKJz5Hjf9OnlV
      name: 'msidSemantic',
      reg: /^msid-semantic:\s?(\w*) (\S*)/,
      names: ['semantic', 'token'],
      format: 'msid-semantic: %s %s' // space after ':' is not accidental
    },
    { //a=group:BUNDLE audio video
      push: 'groups',
      reg: /^group:(\w*) (.*)/,
      names: ['type', 'mids'],
      format: 'group:%s %s'
    },
    { //a=rtcp-mux
      name: 'rtcpMux',
      reg: /^(rtcp-mux)/
    },
    { //a=rtcp-rsize
      name: 'rtcpRsize',
      reg: /^(rtcp-rsize)/
    },
    { //a=sctpmap:5000 webrtc-datachannel 1024
      name: 'sctpmap',
      reg: /^sctpmap:([\w_\/]*) (\S*)(?: (\S*))?/,
      names: ['sctpmapNumber', 'app', 'maxMessageSize'],
      format: function (o) {
        return (o.maxMessageSize != null) ?
          'sctpmap:%s %s %s' :
          'sctpmap:%s %s';
      }
    },
    { //a=x-google-flag:conference
      name: 'xGoogleFlag',
      reg: /^x-google-flag:([^\s]*)/,
      format: 'x-google-flag:%s'
    },
    { //a=rid:1 send max-width=1280;max-height=720;max-fps=30;depend=0
      push: 'rids',
      reg: /^rid:([\d\w]+) (\w+)(?: ([\S| ]*))?/,
      names: ['id', 'direction', 'params'],
      format: function (o) {
        return (o.params) ? 'rid:%s %s %s' : 'rid:%s %s';
      }
    },
    { //a=imageattr:97 send [x=800,y=640,sar=1.1,q=0.6] [x=480,y=320] recv [x=330,y=250]
      //a=imageattr:* send [x=800,y=640] recv *
      //a=imageattr:100 recv [x=320,y=240]
      push: 'imageattrs',
      reg: new RegExp(
        //a=imageattr:97
        '^imageattr:(\\d+|\\*)' +
        //send [x=800,y=640,sar=1.1,q=0.6] [x=480,y=320]
        '[\\s\\t]+(send|recv)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*)' +
        //recv [x=330,y=250]
        '(?:[\\s\\t]+(recv|send)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*))?'
      ),
      names: ['pt', 'dir1', 'attrs1', 'dir2', 'attrs2'],
      format: function (o) {
        return 'imageattr:%s %s %s' + (o.dir2 ? ' %s %s' : '');
      }
    },
    { //a=simulcast:send 1,2,3;~4,~5 recv 6;~7,~8
      //a=simulcast:recv 1;4,5 send 6;7
      name: 'simulcast',
      reg: new RegExp(
        //a=simulcast:
        '^simulcast:' +
        //send 1,2,3;~4,~5
        '(send|recv) ([a-zA-Z0-9\\-_~;,]+)' +
        //space + recv 6;~7,~8
        '(?:\\s?(send|recv) ([a-zA-Z0-9\\-_~;,]+))?' +
        //end
        '$'
      ),
      names: ['dir1', 'list1', 'dir2', 'list2'],
      format: function (o) {
        return 'simulcast:%s %s' + (o.dir2 ? ' %s %s' : '');
      }
    },
    { //Old simulcast draft 03 (implemented by Firefox)
      //  https://tools.ietf.org/html/draft-ietf-mmusic-sdp-simulcast-03
      //a=simulcast: recv pt=97;98 send pt=97
      //a=simulcast: send rid=5;6;7 paused=6,7
      name: 'simulcast_03',
      reg: /^simulcast:[\s\t]+([\S+\s\t]+)$/,
      names: ['value'],
      format: 'simulcast: %s'
    },
    {
      //a=framerate:25
      //a=framerate:29.97
      name: 'framerate',
      reg: /^framerate:(\d+(?:$|\.\d+))/,
      format: 'framerate:%s'
    },
    {
      //a=x-dtls-auth:<dtls authentication string>
      name: 'dtlsAuthenticationInfo',
      reg: /^x-dtls-auth:(\S+)/,
      format: 'x-dtls-auth:%s'
    },
    { // any a= that we don't understand is kepts verbatim on media.invalid
      push: 'invalid',
      names: ['value']
    },
  ]
};

// set sensible defaults to avoid polluting the grammar with boring details
Object.keys(grammar).forEach(function (key) {
  var objs = grammar[key];
  objs.forEach(function (obj) {
    if (!obj.reg) {
      obj.reg = /(.*)/;
    }
    if (!obj.format) {
      obj.format = '%s';
    }
  });
});

/*  */}),null);
/**
 * Released under the MIT license. Copyright (c) 2013 Eirik Albrigtsen.
 *
 * @nolint
 * @preserve-header
 * @preserve-whitespace
 */
__d("sdp-transform-parser",["sdp-transform-grammar"],(function $module_sdp_transform_parser(global,require,requireDynamic,requireLazy,module,exports){

var toIntIfInt = function (v) {
  return String(Number(v)) === v ? Number(v) : v;
};

var attachProperties = function (match, location, names, rawName) {
  if (rawName && !names) {
    location[rawName] = toIntIfInt(match[1]);
  }
  else {
    for (var i = 0; i < names.length; i += 1) {
      if (match[i+1] != null) {
        location[names[i]] = toIntIfInt(match[i+1]);
      }
    }
  }
};

var parseReg = function (obj, location, content) {
  var needsBlank = obj.name && obj.names;
  if (obj.push && !location[obj.push]) {
    location[obj.push] = [];
  }
  else if (needsBlank && !location[obj.name]) {
    location[obj.name] = {};
  }
  var keyLocation = obj.push ?
    {} :  // blank object that will be pushed
    needsBlank ? location[obj.name] : location; // otherwise, named location or root

  attachProperties(content.match(obj.reg), keyLocation, obj.names, obj.name);

  if (obj.push) {
    location[obj.push].push(keyLocation);
  }
};

var grammar = require('sdp-transform-grammar');
var validLine = RegExp.prototype.test.bind(/^([a-z])=(.*)/);

exports.parse = function (sdp) {
  var session = {}
    , media = []
    , location = session; // points at where properties go under (one of the above)

  // parse lines we understand
  sdp.split(/(\r\n|\r|\n)/).filter(validLine).forEach(function (l) {
    var type = l[0];
    var content = l.slice(2);
    if (type === 'm') {
      media.push({rtp: [], fmtp: []});
      location = media[media.length-1]; // point at latest media line
    }

    for (var j = 0; j < (grammar[type] || []).length; j += 1) {
      var obj = grammar[type][j];
      if (obj.reg.test(content)) {
        return parseReg(obj, location, content);
      }
    }
  });

  session.media = media; // link it up
  return session;
};

var paramReducer = function (acc, expr) {
  var s = expr.split(/=(.+)/, 2);
  if (s.length === 2) {
    acc[s[0]] = toIntIfInt(s[1]);
  }
  return acc;
};

exports.parseParams = function (str) {
  return str.split(/\;\s?/).reduce(paramReducer, {});
};

// For backward compatibility - alias will be removed in 3.0.0
exports.parseFmtpConfig = exports.parseParams;

exports.parsePayloads = function (str) {
  return str.split(' ').map(Number);
};

exports.parseRemoteCandidates = function (str) {
  var candidates = [];
  var parts = str.split(' ').map(toIntIfInt);
  for (var i = 0; i < parts.length; i += 3) {
    candidates.push({
      component: parts[i],
      ip: parts[i + 1],
      port: parts[i + 2]
    });
  }
  return candidates;
};

exports.parseImageAttributes = function (str) {
  return str.split(' ').map(function (item) {
    return item.substring(1, item.length-1).split(',').reduce(paramReducer, {});
  });
};

exports.parseSimulcastStreamList = function (str) {
  return str.split(';').map(function (stream) {
    return stream.split(',').map(function (format) {
      var scid, paused = false;

      if (format[0] !== '~') {
        scid = toIntIfInt(format);
      } else {
        scid = toIntIfInt(format.substring(1, format.length));
        paused = true;
      }

      return {
        scid: scid,
        paused: paused
      };
    });
  });
};

/*  */}),null);
/**
 * Released under the MIT license. Copyright (c) 2013 Eirik Albrigtsen.
 *
 * @nolint
 * @preserve-header
 * @preserve-whitespace
 */
__d("sdp-transform-writer",["sdp-transform-grammar"],(function $module_sdp_transform_writer(global,require,requireDynamic,requireLazy,module,exports){

var grammar = require('sdp-transform-grammar');

// customized util.format - discards excess arguments and can void middle ones
var formatRegExp = /%[sdv%]/g;
var format = function (formatStr) {
  var i = 1;
  var args = arguments;
  var len = args.length;
  return formatStr.replace(formatRegExp, function (x) {
    if (i >= len) {
      return x; // missing argument
    }
    var arg = args[i];
    i += 1;
    switch (x) {
    case '%%':
      return '%';
    case '%s':
      return String(arg);
    case '%d':
      return Number(arg);
    case '%v':
      return '';
    }
  });
  // NB: we discard excess arguments - they are typically undefined from makeLine
};

var makeLine = function (type, obj, location) {
  var str = obj.format instanceof Function ?
    (obj.format(obj.push ? location : location[obj.name])) :
    obj.format;

  var args = [type + '=' + str];
  if (obj.names) {
    for (var i = 0; i < obj.names.length; i += 1) {
      var n = obj.names[i];
      if (obj.name) {
        args.push(location[obj.name][n]);
      }
      else { // for mLine and push attributes
        args.push(location[obj.names[i]]);
      }
    }
  }
  else {
    args.push(location[obj.name]);
  }
  return format.apply(null, args);
};

// RFC specified order
// TODO: extend this with all the rest
var defaultOuterOrder = [
  'v', 'o', 's', 'i',
  'u', 'e', 'p', 'c',
  'b', 't', 'r', 'z', 'a'
];
var defaultInnerOrder = ['i', 'c', 'b', 'a'];


module.exports = function (session, opts) {
  opts = opts || {};
  // ensure certain properties exist
  if (session.version == null) {
    session.version = 0; // 'v=0' must be there (only defined version atm)
  }
  if (session.name == null) {
    session.name = ' '; // 's= ' must be there if no meaningful name set
  }
  session.media.forEach(function (mLine) {
    if (mLine.payloads == null) {
      mLine.payloads = '';
    }
  });

  var outerOrder = opts.outerOrder || defaultOuterOrder;
  var innerOrder = opts.innerOrder || defaultInnerOrder;
  var sdp = [];

  // loop through outerOrder for matching properties on session
  outerOrder.forEach(function (type) {
    grammar[type].forEach(function (obj) {
      if (obj.name in session && session[obj.name] != null) {
        sdp.push(makeLine(type, obj, session));
      }
      else if (obj.push in session && session[obj.push] != null) {
        session[obj.push].forEach(function (el) {
          sdp.push(makeLine(type, obj, el));
        });
      }
    });
  });

  // then for each media line, follow the innerOrder
  session.media.forEach(function (mLine) {
    sdp.push(makeLine('m', grammar.m[0], mLine));

    innerOrder.forEach(function (type) {
      grammar[type].forEach(function (obj) {
        if (obj.name in mLine && mLine[obj.name] != null) {
          sdp.push(makeLine(type, obj, mLine));
        }
        else if (obj.push in mLine && mLine[obj.push] != null) {
          mLine[obj.push].forEach(function (el) {
            sdp.push(makeLine(type, obj, el));
          });
        }
      });
    });
  });

  return sdp.join('\r\n') + '\r\n';
};

/*  */}),null);
/**
 * Released under the MIT license. Copyright (c) 2013 Eirik Albrigtsen.
 *
 * @nolint
 * @preserve-header
 * @preserve-whitespace
 */
__d("sdp-transform",["sdp-transform-parser","sdp-transform-writer"],(function $module_sdp_transform(global,require,requireDynamic,requireLazy,module,exports){

var parser = require('sdp-transform-parser');
var writer = require('sdp-transform-writer');

exports.write = writer;
exports.parse = parser.parse;
exports.parseFmtpConfig = parser.parseFmtpConfig;
exports.parseParams = parser.parseParams;
exports.parsePayloads = parser.parsePayloads;
exports.parseRemoteCandidates = parser.parseRemoteCandidates;
exports.parseImageAttributes = parser.parseImageAttributes;
exports.parseSimulcastStreamList = parser.parseSimulcastStreamList;

/*  */}),null);
/**
 * Copyright @ 2015 Atlassian Pty Ltd
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * Modified by Meta.
 *
 *  strict-local
 * @format
 * @oncall rp_rooms_infra_www
 * @preserve-header
 * @preserve-whitespace
 */__d("ZenonSDPInteropTransform",["invariant","sdp-transform"],(function $module_ZenonSDPInteropTransform(global,require,importDefault,importNamespace,requireLazy,module,exports,invariant){

"use strict";














exports.write=function(
session,
opts,
options)
{
if(
session!==undefined&&
session.media!==undefined&&
Array.isArray(session.media))
{
session.media.forEach(function(mLine){








var groupedSsrcs=[];
var ungroupedSsrcs=Object.keys(mLine.sources||{});


if(mLine.ssrcGroups!==undefined&&Array.isArray(mLine.ssrcGroups)){
mLine.ssrcGroups.forEach(function(ssrcGroup){
if(ssrcGroup.ssrcs!==undefined&&Array.isArray(ssrcGroup.ssrcs)){
var ssrcsArray=ssrcGroup.ssrcs;

groupedSsrcs=groupedSsrcs.concat(ssrcsArray);
ungroupedSsrcs=ungroupedSsrcs.filter(
function(ssrc){return ssrcsArray.indexOf(ssrc)===-1;});

ssrcGroup.ssrcs=ssrcsArray.join(" ");
}
});
}


if(
mLine.sources!==undefined&&
Object.keys(mLine.sources).length!==0)
{

var mLine_sources=mLine.sources;
mLine_sources!=null||invariant(0,66290);

var alreadyAddedSsrcs=new Set();
var mLine_ssrcs=[];
groupedSsrcs.concat(ungroupedSsrcs).forEach(function(ssrc){
var source=mLine_sources[ssrc];
Object.keys(source).forEach(function(attribute){
var newSsrcKey=[
ssrc,
String(attribute),
String(source[attribute])].
join("|");
if(!alreadyAddedSsrcs.has(newSsrcKey)){
mLine_ssrcs.push({
attribute:String(attribute),
id:parseInt(ssrc,10),
value:String(source[attribute])});

alreadyAddedSsrcs.add(newSsrcKey);
}
});
});
mLine.ssrcs=mLine_ssrcs;
if(options&&options.iceOptions){
mLine.iceOptions=options.iceOptions;
}
delete mLine.sources;
}
});
}


if(
session!==undefined&&
session.groups!==undefined&&
Array.isArray(session.groups))
{
session.groups.forEach(function(g){
if(g.mids!==undefined&&Array.isArray(g.mids)){
g.mids=g.mids.join(" ");
}
});
}

return importDefault("sdp-transform").write(session,opts);
};

exports.parse=function(sdp){
var session=importDefault("sdp-transform").parse(sdp);

if(
session!==undefined&&
session.media!==undefined&&
Array.isArray(session.media))
{
session.media.forEach(function(mLine){

if(mLine.ssrcs!==undefined&&Array.isArray(mLine.ssrcs)){
var mLine_sources={};
mLine.ssrcs.forEach(function(ssrc){
var ssrcId=ssrc.id.toString();
if(!mLine_sources[ssrcId]){
mLine_sources[ssrcId]={};
}

mLine_sources[ssrcId][ssrc.attribute]=ssrc.value;
});
mLine.sources=mLine_sources;

delete mLine.ssrcs;
}


if(mLine.ssrcGroups!==undefined&&Array.isArray(mLine.ssrcGroups)){
mLine.ssrcGroups.forEach(function(ssrcGroup){
if(typeof ssrcGroup.ssrcs==="string"){
ssrcGroup.ssrcs=ssrcGroup.ssrcs.split(" ");
}
});
}
});
}

if(
session!==undefined&&
session.groups!==undefined&&
Array.isArray(session.groups))
{
session.groups.forEach(function(g){
if(typeof g.mids==="string"){
g.mids=g.mids.split(" ");
}
});
}

return session;
};}),34);
__d("ZenonSDP",["ZenonSDPInteropTransform","gkx","nullthrows","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b,c){var e=a.sdp;this.$1=e==null?null:d("ZenonSDPInteropTransform").parse(e);this.$3=a.type;this.$2=b;this.$4=c}var b=a.prototype;b.$5=function(a,b,c){a=a.split(";");var d=a.findIndex(function(a){return a.startsWith(b+"=")});c=b+"="+c;d>=0?a[d]=c:a.push(c);return""+a.join(";")};b.getMedia=function(){var a;a=(a=(a=this.$1)==null?void 0:a.media)!=null?a:[];return a};b.getGroups=function(){var a;return(a=(a=this.$1)==null?void 0:a.groups)!=null?a:null};b.getMsidSemantic=function(){var a;return(a=this.$1)==null?void 0:a.msidSemantic};b.getDtlsAuthenticationInfo=function(){var a;return(a=this.$1)==null?void 0:a.dtlsAuthenticationInfo};b.getMediaCname=function(){var a,b="";a=(a=this.$1)==null?void 0:a.media;a!=null&&a.some(function(a){return a.sources==null?!1:Object.keys(a.sources).some(function(d){if(d!=null&&typeof d==="string"){d=c("nullthrows")(a.sources)[d];if(d!=null&&d.cname!=null){b=d.cname;return!0}}return!1})});return b};b.getTrackIdAndCnameMap=function(){var a,b=this,c=new Map();a=(a=this.$1)==null?void 0:a.media;a==null?void 0:a.forEach(function(a){var d=a.msid;a=a.sources;d=b.$6(d);a=b.$7(a);d!=null&&a!=null&&c.set(d,a)});return c};b.getActiveTrackIDs=function(){var a,b=[];a=(a=this.$1)==null?void 0:a.media;a==null?void 0:a.forEach(function(a){var c=a.msid;if(c!=null){c=c.split(" ");c.length>=2&&c[0]!=="-"&&a.direction!=="inactive"&&b.push(c[1])}});return b};b.$7=function(a){var b=null;a!=null&&Object.keys(a).some(function(d){if(d!=null&&typeof d==="string"){d=c("nullthrows")(a)[d];if(d!=null&&d.cname!=null){b=d.cname;return!0}}return!1});return b};b.$6=function(a){if(a!=null){a=a.split(" ");if(a.length>=2)return a[1]}return null};b.addFmtpConfig=function(a,b,c){var d,e=this;d=(d=this.$1)==null?void 0:d.media;d!=null&&d.forEach(function(d){d.rtp.filter(function(b){return b.codec===a}).forEach(function(a){var f=d.fmtp.find(function(b){return b.payload===a.payload});f==null?d.fmtp.push({config:b+"="+c,payload:a.payload}):f.config=e.$5(f.config,b,c)})})};b.maybeAddPtimeForOpusOnly=function(a){var b;b=(b=this.$1)==null?void 0:b.media;if(b==null)return;b.forEach(function(b){if(b.type!=="audio")return;var c=b.rtp.filter(function(a){return a.codec!=="opus"}).length>=1;if(c)return;c=b.rtp.find(function(a){return a.codec==="opus"});if(c==null)return;if(b.ptime!=null)return;b.ptime=a})};b.addAudioNACK=function(){var a;a=(a=this.$1)==null?void 0:a.media;a!=null&&a.forEach(function(a){if(a.type!=="audio")return;a.rtcpFb==null&&(a.rtcpFb=[]);a.rtp.forEach(function(b){var c;if(!((c=a.rtcpFb)==null?void 0:c.some(function(a){return a.payload===b.payload&&a.type==="nack"}))){(c=a.rtcpFb)==null?void 0:c.push({payload:b.payload,type:"nack"})}})})};b.replaceAudioCname=function(a){var b;b=(b=this.$1)==null?void 0:b.media;b!=null&&b.forEach(function(b){b.type==="audio"&&b.sources!=null&&Object.keys(b.sources).forEach(function(d){if(d!=null&&typeof d==="string"){d=c("nullthrows")(b.sources)[d];d!=null&&d.cname!=null&&(d.cname=a+d.cname)}})})};b.filterExtension=function(a,b){var c;c=(c=this.$1)==null?void 0:c.media;c!=null&&c.forEach(function(c){c.type===b&&c.ext!=null&&(c.ext=c.ext.filter(function(b){return!b.uri.includes(a)}))})};b.useDTLSOverCrypto=function(){var a;a=(a=this.$1)==null?void 0:a.media;a!=null&&a.forEach(function(a){a.fingerprint!=null&&delete a.crypto})};b.updateDtlsAuthenticationInfo=function(a){this.$1!=null&&(this.$1.dtlsAuthenticationInfo=a)};b.addSetupActPass=function(){if(this.$3==="offer"){var a;a=(a=this.$1)==null?void 0:a.media;a!=null&&a.forEach(function(a){a.setup==null&&(a.setup="actpass")})}};b.getSSLRole=function(){var a;return this.$3!=="answer"?null:(a=(a=this.$1)==null?void 0:(a=a.media)==null?void 0:(a=a.find(function(a){return a.setup!=null}))==null?void 0:a.setup)!=null?a:null};b.setSSLRole=function(a){if(this.$3==="answer"){var b;b=(b=this.$1)==null?void 0:b.media;b!=null&&b.forEach(function(b){b.setup==null&&(b.setup=a)})}};b.removeCodec=function(a){var b;b=(b=this.$1)==null?void 0:b.media;b!=null&&b.forEach(function(b){var c=b.rtp.filter(function(b){return b.codec===a}).map(function(a){a=a.payload;return a}),d=b.fmtp.filter(function(a){a=a.config.match(/apt=(\d*)/);return a!=null?c.includes(Number(a[1])):!1}).map(function(a){a=a.payload;return a}),e=c.concat(d);if(e.length<1)return;b.rtp=b.rtp.filter(function(a){return!e.includes(a.payload)});b.fmtp=b.fmtp.filter(function(a){return!e.includes(a.payload)});b.rtcpFb!=null&&(b.rtcpFb=b.rtcpFb.filter(function(a){return!e.includes(a.payload)}));b.rtcpFbTrrInt!=null&&(b.rtcpFbTrrInt=b.rtcpFbTrrInt.filter(function(a){return!e.includes(a.payload)}));d=new RegExp("("+e.join("|")+") ?","g");b.payloads=b.payloads.replace(d,"").trim()})};b.preferCodec=function(a,b){var c=b.preferredCodec,d=b.preferredCodecRate;b=(b=this.$1)==null?void 0:b.media;b!=null&&b.forEach(function(b){if(b.type===a){var e=b.rtp.find(function(a){return a.codec===c&&a.rate===d});e!=null&&(b.payloads=b.payloads.replace(e.payload+" ",""),b.payloads=e.payload+" "+b.payloads)}})};b.mungeInactiveMediaSSRC=function(a){var b=new Map();a!=null&&a.$1!=null&&a.$1.media!=null&&a.$1.media.forEach(function(a){a.sources!=null&&a.mid!=null&&b.set(a.mid,a.sources)});a=(a=this.$1)==null?void 0:a.media;a==null?void 0:a.forEach(function(a){if(a.mid!=null&&a.direction==="inactive"&&a.sources==null){var c=b.get(a.mid);c!=null&&(a.sources=c)}})};b.preferH264Codec=function(a){var b;b=(b=this.$1)==null?void 0:b.media;b!=null&&b.forEach(function(b){if(b.type==="video"){var c=[];b.rtp.forEach(function(a){a.codec==="H264"&&c.push(a.payload)});var d=a.levelAsymmetryAllowed?"1":"0",e=a.packetizationMode?"1":"0",f=new RegExp("level-asymmetry-allowed="+d+";packetization-mode="+e+";profile-level-id="+a.profileLevelId);d=b.fmtp.find(function(a){return a.config.match(f)&&c.includes(a.payload)});d!=null&&(b.payloads=b.payloads.replace(d.payload+" ",""),b.payloads=d.payload+" "+b.payloads)}})};b.removePacketizationMode0H264=function(){var a;a=(a=this.$1)==null?void 0:a.media;a!=null&&a.forEach(function(a){var b=a.fmtp.filter(function(a){return a.config.match(/packetization-mode=0/)}).map(function(a){a=a.payload;return a}),c=a.fmtp.filter(function(a){a=a.config.match(/apt=(\d*)/);return a!=null?b.includes(Number(a[1])):!1}).map(function(a){a=a.payload;return a}),d=b.concat(c);if(d.length<1)return;a.rtp=a.rtp.filter(function(a){return!d.includes(a.payload)});a.fmtp=a.fmtp.filter(function(a){return!d.includes(a.payload)});a.rtcpFb!=null&&(a.rtcpFb=a.rtcpFb.filter(function(a){return!d.includes(a.payload)}));a.rtcpFbTrrInt!=null&&(a.rtcpFbTrrInt=a.rtcpFbTrrInt.filter(function(a){return!d.includes(a.payload)}));c=new RegExp("("+d.join("|")+") ?","g");a.payloads=a.payloads.replace(c,"").trim()})};b.stripDataChannel=function(){var a,b;a=(a=this.$1)==null?void 0:a.media;b=(b=this.$1)==null?void 0:b.groups;var c=null;a!=null&&a.forEach(function(a){a.type==="application"&&a.protocol.includes("RTP")&&(a.port=0,a.protocol="UDP/DTLS/SCTP",c=typeof a.mid==="number"?a.mid.toString():a.mid,a.rtp=[],a.payloads="webrtc-datachannel")});b!=null&&c!==null&&b.forEach(function(a){var b=typeof a.mids==="string"?a.mids.split(" "):a.mids;a.mids=b.filter(function(a){return a!==c})})};b.convertMediaSetupActpass=function(){var a;a=(a=this.$1)==null?void 0:a.media;if(a==null)return;a.forEach(function(a){if(a.type==="application")return;a.setup="actpass"})};b.copyWithTypeAndActpass=function(a){throw c("unrecoverableViolation")("Abstract parent method was called instead of child method","rtc_www")};b.copyWithType=function(a){throw c("unrecoverableViolation")("Abstract parent method was called instead of child method","rtc_www")};b.setVersion=function(a){this.$1!=null&&(this.$1.origin.sessionVersion=a)};b.getSdpFormat=function(){return this.$2};b.getType=function(){return this.$3};b.toDescInit=function(){var a,b=function(a){return a!=null&&a.split(" ").includes("renomination")},e="trickle fb-force-5245";(this.isRemote()?(a=this.$1)==null?void 0:a.media.every(function(a){return b(a.iceOptions)}):c("gkx")("3545"))&&(e+=" renomination");if(this.$1!=null){return{sdp:(a=d("ZenonSDPInteropTransform").write(this.$1,{},{iceOptions:e}))!=null?a:"",type:this.$3}}else return{type:this.$3}};b.toDesc=function(){var a=this.toDescInit(),b=a.sdp;a=a.type;return new RTCSessionDescription({sdp:b,type:a})};b.isRemote=function(){return this.$4==="remote"};b.toLoggingString=function(){var a="\n",b=[" IP4 "," IP6 "],c=this.toDesc().sdp.split(a);c.forEach(function(a,d){a.startsWith("a=crypto:")?c[d]="a=crypto:**-----**":a.startsWith("a=candidate:")?c[d]="a=candidate:**-----**":b.forEach(function(b){var e=a.indexOf(b);e!==-1&&(c[d]=a.slice(0,e+b.length)+"**-----**")})});return c.join(a)};b.enableExtension=function(a,b,c){var d;d=(d=this.$1)==null?void 0:d.media;d==null?void 0:d.forEach(function(d){var e;d.ext==null&&(d.ext=[]);e=(e=(e=d.ext)==null?void 0:e.some(function(b){return b.uri===a}))!=null?e:!1;if(e)return;if(b!==""&&d.type!==b)return;(e=d.ext)==null?void 0:e.push({uri:a,value:c})})};b.updateMSection=function(a,b){var e;b=d("ZenonSDPInteropTransform").parse(b);b=b.media;if(b.length<1)throw c("unrecoverableViolation")("Could not parse body from delta SDP","rtc_www");b=b[0];e=(e=(e=this.$1)==null?void 0:e.media)!=null?e:[];a<e.length?e[a]=b:e.push(b)};b.updateMids=function(a){var b;b=(b=this.$1)==null?void 0:b.groups;var c=b==null?void 0:b.find(function(a){return a.type==="BUNDLE"});if(c){var d;typeof c.mids==="string"?d=c.mids.split(" "):d=c.mids;d=new Set([].concat(d,a));c.mids=Array.from(d)}else b==null?void 0:b.push({mids:a,type:"BUNDLE"}),this.$1!=null&&(this.$1.groups=b)};b.fetchVideoCodec=function(){var a,b=new Map();a=(a=this.$1)==null?void 0:a.media;a!=null&&a.forEach(function(a){if(a.type==="video"){var c,d="";c=(c=a.msid)==null?void 0:c.split(" ");c!=null&&c.length>0&&c[0].length>0&&(d=c.length===2?c[1]:c[0]);var e=[];a.rtp.forEach(function(a){e.push(a.codec)});b.set(d,e)}});return b};b.updateMsidSemantic=function(){var a;a=(a=this.$1)==null?void 0:a.media;var b=new Set();a==null?void 0:a.forEach(function(a){a=(a=a.msid)==null?void 0:a.split(" ");a!=null&&a.length>0&&a[0].length>0&&a[0]!=="-"&&b.add(a[0])});this.$1!=null&&(this.$1.msidSemantic={semantic:"WMS",token:Array.from(b).join(" ")})};return a}();b=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c){return a.call(this,b,c,"local")||this}var c=b.prototype;c.copyWithTypeAndActpass=function(c){c=new b({sdp:this.toDesc().sdp,type:c},a.prototype.$ZenonLocalSDP1);c.convertMediaSetupActpass();return c};return b}(a);e=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c){return a.call(this,b,c,"remote")||this}var c=b.prototype;c.copyWithType=function(c){return new b({sdp:this.toDesc().sdp,type:c},a.prototype.$ZenonRemoteSDP1)};return b}(a);g.ZenonSDP=a;g.ZenonLocalSDP=b;g.ZenonRemoteSDP=e}),98);
__d("ZenonPeerConnectionSdpActions",["ZenonAuditedCheckpointLogId","ZenonBrowsers","ZenonInfraActionsLogger","ZenonPeerConnectionMediaActions","ZenonSDP","asyncToGeneratorRuntime","justknobx","promiseDone","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){c("promiseDone")(a.onRemoteSdpSet())};e=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){if(b.type!=="remoteSdpFailed")return;c("ZenonInfraActionsLogger").logCheckpointEmployeesTestUsersOnly({checkpoint:"trying to rollback to last successful sdp pair",sdpFormat:a.sdpManager.getSdpFormat()});if(d("ZenonBrowsers").supportsRollback())yield a.sdpManager.rollbackSdp();else{if(a.lastSuccessfulSdpPair==null)throw c("unrecoverableViolation")("No last successfully negotiated SDP pair, should never happen here","rtc_www");var e=a.lastSuccessfulSdpPair,f=e.localSdp;e=e.remoteSdp;yield a.sdpManager.setLocalSdp(f);yield a.sdpManager.setRemoteSdp(e,a.logEvent);b.onSuccess()}c("ZenonInfraActionsLogger").logCheckpointEmployeesTestUsersOnly({checkpoint:"successful rollback to last successful sdp pair",sdpFormat:a.sdpManager.getSdpFormat()})});return function(b,c){return a.apply(this,arguments)}}();f=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){if(b.type==="applyLocalSdp"||b.type==="localMediaStateUpdateRetry"||b.type==="iceRestart"){var d=b.type==="iceRestart",e=a.localMediaStateVersion+1;yield a.sdpManager.createAndSetLocalSdp(e,"offer",{iceRestart:d});c("ZenonInfraActionsLogger").logCheckpointEmployeesTestUsersOnly({checkpoint:"apply local SDP",sdpFormat:a.sdpManager.getSdpFormat()});d=b.type==="localMediaStateUpdateRetry"?null:a.localMediaStateUpdateRetryTimerId;b.onSuccess();return{localMediaStateUpdateRetryTimerId:d,localMediaStateVersion:e,outstandingLocalOffer:!0}}return{}});return function(b,c){return a.apply(this,arguments)}}();var h=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){if(b.type==="applyRemoteSdp"){var e=a.mediaChannelManager,f=a.sdpManager,g=b.payload.sdp,h=g.sdp;g=g.type;g==="answer"?(a.logEvent({name:"setRemoteSdpAnswer"}),yield f.setRemoteSdp(new(d("ZenonSDP").ZenonRemoteSDP)({sdp:h,type:g},e.getSdpFormat()),a.logEvent),a.logEvent({name:"endSetRemoteDescription"}),c("ZenonInfraActionsLogger").logCheckpointEmployeesTestUsersOnly({checkpoint:"apply remote answer",sdpFormat:a.sdpManager.getSdpFormat()})):g==="pranswer"&&(a.logEvent({name:"setRemoteSdpPrAnswer"}),yield f.setRemoteSdp(new(d("ZenonSDP").ZenonRemoteSDP)({sdp:h,type:g},e.getSdpFormat()),a.logEvent),a.logEvent({name:"endSetRemoteDescription"}),c("ZenonInfraActionsLogger").logCheckpointEmployeesTestUsersOnly({checkpoint:"apply remote pranswer",sdpFormat:a.sdpManager.getSdpFormat()}));d("ZenonPeerConnectionMediaActions").applyMediaStates(e,b.payload.mediaStates);h=b.payload.renegotiationOffer;if(h!=null){g=h.sdp;h=h.type;yield f.setRemoteSdp(new(d("ZenonSDP").ZenonRemoteSDP)({sdp:g,type:h},e.getSdpFormat()),a.logEvent);f=a.localMediaStateVersion+1;yield a.sdpManager.createAndSetLocalSdp(f,"answer");c("ZenonInfraActionsLogger").logCheckpointEmployeesTestUsersOnly({checkpoint:"Apply renegotiation offer and set local answer",sdpFormat:a.sdpManager.getSdpFormat()})}b.payload.source==="joinResponse"?a.logEvent({name:"inviteResponseProcessed"}):b.payload.source==="serverMediaUpdateRequest"&&b.payload.sdp.type==="answer"&&a.logEvent({name:"smuWithAnswerProcessed"});b.payload.onProcessed&&b.payload.onProcessed();b.onSuccess();return b.payload.sdp}});return function(b,c){return a.apply(this,arguments)}}(),i=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var e=a.mediaChannelManager,f=a.sdpManager;if(b.type==="applyRemoteSdp"){var g=b.payload.sdp;if(g.type==="offer"){a.logEvent({name:"setRemoteSdpOffer"});var h,i=e.getSdpFormat();if(g.update){var j;h=(j=a.sdpManager.getRemoteSdp())!=null?j:new(d("ZenonSDP").ZenonRemoteSDP)({type:g.type},i);j=Object.keys(g.update.media);j.forEach(function(a){var b=g.update.media[a].body;h.updateMSection(parseInt(a,10),b)});h.setVersion(g.version);h.updateMids(j.map(function(a){return g.update.media[a].mid}));h.updateMsidSemantic();e.removeMissingTracks(h.getActiveTrackIDs())}else h=new(d("ZenonSDP").ZenonRemoteSDP)({sdp:g.sdp,type:g.type},i);j=(yield f.setRemoteSdp(h,a.logEvent));c("justknobx")._("873")&&e.setNegotiatedCodecsOnRemoteTracks(j.fetchVideoCodec());d("ZenonPeerConnectionMediaActions").applyMediaStates(e,b.payload.mediaStates,g.update==null);b.payload.onProcessed&&b.payload.onProcessed();i=a.localMediaStateVersion+1;f=(yield a.sdpManager.createAndSetLocalSdp(i,"answer"));c("ZenonInfraActionsLogger").logCheckpointEmployeesTestUsersOnly({checkpoint:"apply remote offer and set local answer",sdpFormat:a.sdpManager.getSdpFormat()});b.onSuccess();return{lastSuccessfulSdpPair:{localSdp:f.copyWithTypeAndActpass("offer"),remoteSdp:j.copyWithType("answer")},localMediaStateVersion:i}}}return{}});return function(b,c){return a.apply(this,arguments)}}(),j=function(a,b){c("ZenonInfraActionsLogger").logError({auditId:c("ZenonAuditedCheckpointLogId").RP_ROOMS_INFRA_WWW__ERROR,checkpoint:"Failed to apply remote offer and set local answer: "+b.data.toString(),errorDomain:"ZenonPeerConnectionSdpActions_onApplyRemoteOfferAndSetLocalAnswer",sdpFormat:a.sdpManager.getSdpFormat()})},k=function(a){var b=a.sdpManager.getLocalSdp();if(b==null)throw c("unrecoverableViolation")("Local sdp should never be null after setting remote answer","rtc_www");a=a.sdpManager.getRemoteSdp();if(a==null)throw c("unrecoverableViolation")("Remote sdp should never be null after setting remote answer","rtc_www");return{lastSuccessfulSdpPair:{localSdp:b,remoteSdp:a},outstandingLocalOffer:!1}},l=function(a){a.logEvent({name:"negotiationComplete"})},m=function(a,b){var d=a.sdpManager.getLocalSdp(),e=b.data.localMediaStateVersion;if(d!==null&&e!=null){var f=d.toDesc(),g=f.sdp;f=f.type;c("promiseDone")(a.onLocalSdpSet({sdp:g,type:f,version:e},a.mediaChannelManager.getLocalTracksForMWS()))}d!==null&&a.mediaChannelManager.onLocalSdpSet(d);return b.data};g.onRemoteSdpSet=a;g.applyingLastSuccessfulSdpPair=e;g.applyLocalSdp=f;g.applyRemoteAnswer=h;g.applyRemoteOfferAndSetLocalAnswer=i;g.onApplyRemoteOfferSetLocalAnswerError=j;g.updateSdpPair=k;g.logNegotiationCompleted=l;g.onLocalSdpSet=m}),98);
__d("ZenonPeerConnectionTerminatedState",[],(function(a,b,c,d,e,f){"use strict";a=function(a){a.sdpManager.restartPeerConnection()};f.restart=a}),66);
__d("ZenonPeerConnectionTerminatingState",["FBLogger","Promise","ZenonInfraActionsLogger","ZenonMediaError","err","promiseDone","qex"],(function(a,b,c,d,e,f,g){"use strict";a=function(a,e){var f;a.mediaChannelManager.stopStatsPolling();(e.type!=="endCall"||e.payload.stopLocalTracks)&&(c("ZenonInfraActionsLogger").logCheckpoint({checkpoint:"stopping local tracks"}),a.mediaChannelManager.stopLocalTracks());switch(e.type){case"endCall":if(((f=e.payload)==null?void 0:f.restart)!==!0){c("promiseDone")(a.onConnectionDestroyed((f=e.payload.error)!=null?f:null))}e.onSuccess();break;case"applyLocalSdp":case"error.platform.applyLocalSdpInvoke":c("promiseDone")(a.onConnectionDestroyed(d("ZenonMediaError").ZenonMediaError.SetLocalSdpFailed));e.onError==null?void 0:e.onError(c("err")(d("ZenonMediaError").ZenonMediaError.SetLocalSdpFailed));break;case"applyRemoteSdp":case"error.platform.applyRemoteSdpInvoke":case"error.platform.renegotiatingInvoke":c("promiseDone")(a.onConnectionDestroyed(d("ZenonMediaError").ZenonMediaError.SetRemoteSdpFailed));e.onError==null?void 0:e.onError(c("err")(d("ZenonMediaError").ZenonMediaError.SetRemoteSdpFailed));break;case"error.platform.rollingSdpBackInvoke":c("promiseDone")(a.onConnectionDestroyed(d("ZenonMediaError").ZenonMediaError.RollbackSdpFailed));e.onError==null?void 0:e.onError(c("err")(d("ZenonMediaError").ZenonMediaError.RollbackSdpFailed));break;default:c("FBLogger")("rtc_www").warn("Event "+e.type+" logged as unknown error. Please add a more specific error for this event type.");c("promiseDone")(a.onConnectionDestroyed(d("ZenonMediaError").ZenonMediaError.UnknownError));e.onError==null?void 0:e.onError(c("err")(d("ZenonMediaError").ZenonMediaError.UnknownError));break}a.sdpManager.closePeerConnection();if(c("qex")._("528")){(f=a.tslogUploader)==null?void 0:f.stopTslogUploadInChunks()}(e=a.tslogUploader)==null?void 0:e.logTslog();return b("Promise").resolve(c("ZenonInfraActionsLogger").logCheckpoint({checkpoint:"cleaning up peer connection"}))};e=function(a,b){};g.cleanUp=a;g.done=e}),98);
__d("ZenonPeerConnectionStateMachine",["ZenonDebugLogger","ZenonInfraActionsLogger","ZenonMWMessageReliabilityLogger","ZenonPeerConnectionDataActions","ZenonPeerConnectionIceActions","ZenonPeerConnectionMediaActions","ZenonPeerConnectionSMGuards","ZenonPeerConnectionSdpActions","ZenonPeerConnectionTerminatedState","ZenonPeerConnectionTerminatingState","ZenonStateMachineBase","err","qpl","xstate"],(function(a,b,c,d,e,f,g){"use strict";var h={iceConnectionState:"new",iceConnectionTimeoutID:null,lastSuccessfulSdpPair:null,localMediaStateUpdateRetryTimerId:null,localMediaStateVersion:1,outstandingLocalOffer:!1,retryCount:0},i={loggingStateName:"peerConnectionState",name:"PeerConnectionStateMachine",shortname:"Peer Connection",timeoutEvent:d("ZenonMWMessageReliabilityLogger").ZenonMWMessageReliabilityEvent.STUCK_IN_PEER_CONNECTION_STATE_MACHINE};function j(a){var b;return((b=a.payload)==null?void 0:b.messageID)!=null?String((b=a.payload)==null?void 0:b.messageID):null}a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,e){var f;e===void 0&&(e="init");f=a.call(this,{base:{guards:d("ZenonPeerConnectionSMGuards"),initState:"init"},logging:babelHelpers["extends"]({},i,{eventToLogTimeoutsOn:"applyRemoteSdp",getTransactionId:j,loggableEvents:["applyRemoteSdp"],loggingId:Date.now()}),machine:{context:babelHelpers["extends"]({},h,b),initialState:e,states:m}})||this;f.sm.onTransition(function(a){f.logTransaction(a.event,d("ZenonMWMessageReliabilityLogger").ZenonMWMessageReliabilityEvent.PROCESSED_SM_EVENT),f.ifDroppedEvent(a,function(a){return a.onError(c("err")("event was dropped: "+a.type))})});f.sm.onTransition(function(a){c("ZenonInfraActionsLogger").updateCachedValues({peerConnectionState:a.value}),f.logTransition(a),a.value==="terminated"&&c("ZenonDebugLogger").getInstance().endQPL(c("qpl")._(64239068,"6172"),f.loggingId)});c("ZenonDebugLogger").getInstance().startQPL(c("qpl")._(64239068,"6172"),f.loggingId);return f}var e=b.prototype;e.getLocalMediaStateVersion=function(){return this.sm.state.context.localMediaStateVersion};return b}(d("ZenonStateMachineBase").ZenonStateMachineBase);b={actions:[d("ZenonPeerConnectionMediaActions").onApplyMediaUpdate]};e={actions:[d("xstate").assign(c("ZenonPeerConnectionIceActions").onIceConnectionStateChanged)]};f={actions:[d("ZenonPeerConnectionDataActions").onDataChannelMessageReceived]};var k={actions:[d("ZenonPeerConnectionMediaActions").onForceEncodingEnabled]},l={actions:[d("ZenonPeerConnectionMediaActions").onIceCandidateReady]},m={init:{exit:[d("ZenonPeerConnectionMediaActions").startTslog],on:{addLocalTracks:{target:"addingLocalTracks"},applyLocalSdp:{target:"applyingLocalSdp"},applyRemoteSdp:{cond:d("ZenonPeerConnectionSMGuards").applyRemoteOfferSdpGuard,target:"renegotiating"},removeLocalTrack:{target:"removingLocalTrack"},replaceLocalTrack:{target:"replacingLocalTrack"},applyMediaUpdate:b,createDataChannel:{actions:[d("ZenonPeerConnectionDataActions").onCreateDataChannel]},createDataMessageSubscription:{actions:[d("ZenonPeerConnectionDataActions").onCreateDataMessageSubscription]},dataChannelMessageReceived:f,iceConnectionStateChange:e,localMediaStateUpdateRetry:{actions:[d("xstate").assign(d("ZenonPeerConnectionMediaActions").onLocalMediaStateUpdateRetry)]},muteLocalTrack:{actions:[d("xstate").assign(d("ZenonPeerConnectionMediaActions").onMuteLocalTrack)]},removeDataMessageSubscription:{actions:[d("ZenonPeerConnectionDataActions").onRemoveDataMessageSubscription]},setLocalMediaStateVersion:{actions:[d("xstate").assign(d("ZenonPeerConnectionMediaActions").onSetLocalMediaStateVersion)]},stopLocalTrack:{actions:[d("ZenonPeerConnectionMediaActions").onStopLocalTrack]},unmuteLocalTrack:{actions:[d("xstate").assign(d("ZenonPeerConnectionMediaActions").onUnmuteLocalTrack)]},applyRemoteIceCandidate:d("ZenonStateMachineBase").defer,forceEncodingEnabled:d("ZenonStateMachineBase").defer,iceCandidateReady:d("ZenonStateMachineBase").defer}},applyingLocalSdp:{invoke:{id:"applyLocalSdpInvoke",onDone:{actions:[d("xstate").assign(d("ZenonPeerConnectionSdpActions").onLocalSdpSet)],target:"hasLocalSdp"},onError:"terminating",src:d("ZenonPeerConnectionSdpActions").applyLocalSdp},on:{endCall:{target:"terminating"},applyMediaUpdate:b,dataChannelMessageReceived:f,iceConnectionStateChange:e,addLocalTracks:d("ZenonStateMachineBase").defer,applyLocalSdp:d("ZenonStateMachineBase").defer,applyRemoteIceCandidate:d("ZenonStateMachineBase").defer,applyRemoteSdp:d("ZenonStateMachineBase").defer,createDataChannel:d("ZenonStateMachineBase").defer,createDataMessageSubscription:d("ZenonStateMachineBase").defer,forceEncodingEnabled:d("ZenonStateMachineBase").defer,iceCandidateReady:d("ZenonStateMachineBase").defer,localMediaStateUpdateRetry:d("ZenonStateMachineBase").defer,muteLocalTrack:d("ZenonStateMachineBase").defer,removeDataMessageSubscription:d("ZenonStateMachineBase").defer,removeLocalTrack:d("ZenonStateMachineBase").defer,replaceLocalTrack:d("ZenonStateMachineBase").defer,stopLocalTrack:d("ZenonStateMachineBase").defer,unmuteLocalTrack:d("ZenonStateMachineBase").defer}},rollingSdpBack:{invoke:{id:"rollingSdpBackInvoke",onDone:{target:"connected"},onError:{target:"terminating"},src:d("ZenonPeerConnectionSdpActions").applyingLastSuccessfulSdpPair},on:{endCall:{target:"terminating"},applyMediaUpdate:b,dataChannelMessageReceived:f,iceCandidateReady:l,iceConnectionStateChange:e,addLocalTracks:d("ZenonStateMachineBase").defer,applyLocalSdp:d("ZenonStateMachineBase").defer,applyRemoteIceCandidate:d("ZenonStateMachineBase").defer,applyRemoteSdp:d("ZenonStateMachineBase").defer,createDataChannel:d("ZenonStateMachineBase").defer,createDataMessageSubscription:d("ZenonStateMachineBase").defer,forceEncodingEnabled:d("ZenonStateMachineBase").defer,localMediaStateUpdateRetry:d("ZenonStateMachineBase").defer,muteLocalTrack:d("ZenonStateMachineBase").defer,remoteSdpFailed:d("ZenonStateMachineBase").defer,removeDataMessageSubscription:d("ZenonStateMachineBase").defer,removeLocalTrack:d("ZenonStateMachineBase").defer,replaceLocalTrack:d("ZenonStateMachineBase").defer,stopLocalTrack:d("ZenonStateMachineBase").defer,unmuteLocalTrack:d("ZenonStateMachineBase").defer}},hasLocalSdp:{entry:[function(a){return a.mediaChannelManager.setSimulcastSingleLayerParams()}],on:{applyRemoteSdp:[{cond:d("ZenonPeerConnectionSMGuards").applyRemoteAnswerSdpGuard,target:"applyingRemoteSdp"},{cond:d("ZenonPeerConnectionSMGuards").applyRemoteOfferSdpGuard,target:"renegotiating"}],remoteSdpFailed:{target:"rollingSdpBack"},endCall:{target:"terminating"},applyMediaUpdate:b,dataChannelMessageReceived:f,iceCandidateReady:l,iceConnectionStateChange:e,addLocalTracks:d("ZenonStateMachineBase").defer,applyRemoteIceCandidate:d("ZenonStateMachineBase").defer,createDataChannel:d("ZenonStateMachineBase").defer,createDataMessageSubscription:d("ZenonStateMachineBase").defer,removeDataMessageSubscription:d("ZenonStateMachineBase").defer,forceEncodingEnabled:d("ZenonStateMachineBase").defer,localMediaStateUpdateRetry:d("ZenonStateMachineBase").defer,muteLocalTrack:d("ZenonStateMachineBase").defer,removeLocalTrack:d("ZenonStateMachineBase").defer,replaceLocalTrack:d("ZenonStateMachineBase").defer,stopLocalTrack:d("ZenonStateMachineBase").defer,unmuteLocalTrack:d("ZenonStateMachineBase").defer}},applyingRemoteSdp:{invoke:[{id:"applyRemoteSdpInvoke",onDone:[{actions:[d("xstate").assign(d("ZenonPeerConnectionSdpActions").updateSdpPair)],cond:d("ZenonPeerConnectionSMGuards").prAnswerSetGuard,target:"prNegotiated"},{actions:[d("xstate").assign(d("ZenonPeerConnectionSdpActions").updateSdpPair),d("ZenonPeerConnectionSdpActions").onRemoteSdpSet],cond:d("ZenonPeerConnectionSMGuards").iceNotConnectedGuard,target:"negotiated"},{actions:[d("xstate").assign(d("ZenonPeerConnectionSdpActions").updateSdpPair),d("ZenonPeerConnectionSdpActions").onRemoteSdpSet],cond:d("ZenonPeerConnectionSMGuards").iceConnectedGuard,target:"connected"}],onError:{target:"terminating"},src:d("ZenonPeerConnectionSdpActions").applyRemoteAnswer}],on:{endCall:{target:"terminating"},iceCandidateReady:l,iceConnectionStateChange:e,addLocalTracks:d("ZenonStateMachineBase").defer,applyMediaUpdate:d("ZenonStateMachineBase").defer,applyLocalSdp:d("ZenonStateMachineBase").defer,applyRemoteIceCandidate:d("ZenonStateMachineBase").defer,applyRemoteSdp:d("ZenonStateMachineBase").defer,createDataChannel:d("ZenonStateMachineBase").defer,createDataMessageSubscription:d("ZenonStateMachineBase").defer,dataChannelMessageReceived:d("ZenonStateMachineBase").defer,forceEncodingEnabled:d("ZenonStateMachineBase").defer,localMediaStateUpdateRetry:d("ZenonStateMachineBase").defer,muteLocalTrack:d("ZenonStateMachineBase").defer,removeDataMessageSubscription:d("ZenonStateMachineBase").defer,removeLocalTrack:d("ZenonStateMachineBase").defer,replaceLocalTrack:d("ZenonStateMachineBase").defer,stopLocalTrack:d("ZenonStateMachineBase").defer,unmuteLocalTrack:d("ZenonStateMachineBase").defer}},negotiated:{entry:[d("ZenonPeerConnectionSdpActions").logNegotiationCompleted],on:{endCall:{target:"terminating"},iceConnectionStateChange:[{actions:[d("xstate").assign(c("ZenonPeerConnectionIceActions").onIceConnectionStateChanged)],cond:d("ZenonPeerConnectionSMGuards").iceConnectedEventGuard,target:"connected"},{actions:[d("xstate").assign(c("ZenonPeerConnectionIceActions").onIceConnectionStateChanged)]}],iceRestart:{target:"applyingLocalSdp"},applyMediaUpdate:b,applyRemoteIceCandidate:{actions:[d("ZenonPeerConnectionMediaActions").applyRemoteIceCandidate]},dataChannelMessageReceived:f,forceEncodingEnabled:k,iceCandidateReady:l,addLocalTracks:d("ZenonStateMachineBase").defer,applyLocalSdp:d("ZenonStateMachineBase").defer,applyRemoteSdp:d("ZenonStateMachineBase").defer,createDataChannel:d("ZenonStateMachineBase").defer,createDataMessageSubscription:d("ZenonStateMachineBase").defer,localMediaStateUpdateRetry:d("ZenonStateMachineBase").defer,muteLocalTrack:d("ZenonStateMachineBase").defer,removeDataMessageSubscription:d("ZenonStateMachineBase").defer,removeLocalTrack:d("ZenonStateMachineBase").defer,replaceLocalTrack:d("ZenonStateMachineBase").defer,stopLocalTrack:d("ZenonStateMachineBase").defer,unmuteLocalTrack:d("ZenonStateMachineBase").defer}},prNegotiated:{on:{endCall:{target:"terminating"},applyRemoteSdp:[{cond:d("ZenonPeerConnectionSMGuards").applyRemoteAnswerSdpGuard,target:"applyingRemoteSdp"}],applyMediaUpdate:b,applyRemoteIceCandidate:{actions:[d("ZenonPeerConnectionMediaActions").applyRemoteIceCandidate]},dataChannelMessageReceived:f,forceEncodingEnabled:k,iceCandidateReady:l,iceConnectionStateChange:e,addLocalTracks:d("ZenonStateMachineBase").defer,applyLocalSdp:d("ZenonStateMachineBase").defer,createDataChannel:d("ZenonStateMachineBase").defer,createDataMessageSubscription:d("ZenonStateMachineBase").defer,iceRestart:d("ZenonStateMachineBase").defer,localMediaStateUpdateRetry:d("ZenonStateMachineBase").defer,muteLocalTrack:d("ZenonStateMachineBase").defer,removeDataMessageSubscription:d("ZenonStateMachineBase").defer,removeLocalTrack:d("ZenonStateMachineBase").defer,replaceLocalTrack:d("ZenonStateMachineBase").defer,stopLocalTrack:d("ZenonStateMachineBase").defer,unmuteLocalTrack:d("ZenonStateMachineBase").defer}},connected:{on:{addLocalTracks:{target:"addingLocalTracks"},applyLocalSdp:{target:"applyingLocalSdp"},applyRemoteSdp:{cond:d("ZenonPeerConnectionSMGuards").applyRemoteOfferSdpGuard,target:"renegotiating"},endCall:{target:"terminating"},iceConnectionStateChange:[{actions:[d("xstate").assign(c("ZenonPeerConnectionIceActions").onIceConnectionStateChanged)],cond:d("ZenonPeerConnectionSMGuards").iceDisconnectedEventGuard,target:"negotiated"},{actions:[d("xstate").assign(c("ZenonPeerConnectionIceActions").onIceConnectionStateChanged)]}],localMediaStateUpdateRetry:[{cond:d("ZenonPeerConnectionSMGuards").outstandingLocalOfferGuard,target:"applyingLocalSdp"},{actions:[d("xstate").assign(d("ZenonPeerConnectionMediaActions").onLocalMediaStateUpdateRetry)]}],removeLocalTrack:{target:"removingLocalTrack"},replaceLocalTrack:{target:"replacingLocalTrack"},applyMediaUpdate:b,applyRemoteIceCandidate:{actions:[d("ZenonPeerConnectionMediaActions").applyRemoteIceCandidate]},createDataChannel:{actions:[d("ZenonPeerConnectionDataActions").onCreateDataChannel]},createDataMessageSubscription:{actions:[d("ZenonPeerConnectionDataActions").onCreateDataMessageSubscription]},dataChannelMessageReceived:f,forceEncodingEnabled:k,iceCandidateReady:l,muteLocalTrack:{actions:[d("xstate").assign(d("ZenonPeerConnectionMediaActions").onMuteLocalTrack)]},removeDataMessageSubscription:{actions:[d("ZenonPeerConnectionDataActions").onRemoveDataMessageSubscription]},stopLocalTrack:{actions:[d("ZenonPeerConnectionMediaActions").onStopLocalTrack]},unmuteLocalTrack:{actions:[d("xstate").assign(d("ZenonPeerConnectionMediaActions").onUnmuteLocalTrack)]}}},addingLocalTracks:{invoke:{id:"addLocalTracksInvoke",onDone:{actions:[d("xstate").assign(d("ZenonPeerConnectionMediaActions").onAddedLocalTracks)],target:"connected"},onError:{actions:[d("ZenonPeerConnectionMediaActions").onAddLocalTracksError],target:"connected"},src:d("ZenonPeerConnectionMediaActions").onAddingLocalTracks},on:{endCall:{target:"terminating"},applyMediaUpdate:b,dataChannelMessageReceived:f,iceConnectionStateChange:e,addLocalTracks:d("ZenonStateMachineBase").defer,applyLocalSdp:d("ZenonStateMachineBase").defer,applyRemoteIceCandidate:d("ZenonStateMachineBase").defer,applyRemoteSdp:d("ZenonStateMachineBase").defer,createDataChannel:d("ZenonStateMachineBase").defer,createDataMessageSubscription:d("ZenonStateMachineBase").defer,forceEncodingEnabled:d("ZenonStateMachineBase").defer,iceCandidateReady:d("ZenonStateMachineBase").defer,localMediaStateUpdateRetry:d("ZenonStateMachineBase").defer,muteLocalTrack:d("ZenonStateMachineBase").defer,removeDataMessageSubscription:d("ZenonStateMachineBase").defer,removeLocalTrack:d("ZenonStateMachineBase").defer,replaceLocalTrack:d("ZenonStateMachineBase").defer,stopLocalTrack:d("ZenonStateMachineBase").defer,unmuteLocalTrack:d("ZenonStateMachineBase").defer}},removingLocalTrack:{invoke:{id:"removeLocalTrackInvoke",onDone:{actions:[d("xstate").assign(d("ZenonPeerConnectionMediaActions").onRemovedLocalTrack)],target:"connected"},onError:{actions:[d("ZenonPeerConnectionMediaActions").onRemoveLocalTrackError],target:"connected"},src:d("ZenonPeerConnectionMediaActions").onRemovingLocalTrack},on:{endCall:{target:"terminating"},dataChannelMessageReceived:f,iceConnectionStateChange:e,addLocalTracks:d("ZenonStateMachineBase").defer,applyLocalSdp:d("ZenonStateMachineBase").defer,applyMediaUpdate:d("ZenonStateMachineBase").defer,applyRemoteIceCandidate:d("ZenonStateMachineBase").defer,applyRemoteSdp:d("ZenonStateMachineBase").defer,createDataChannel:d("ZenonStateMachineBase").defer,createDataMessageSubscription:d("ZenonStateMachineBase").defer,forceEncodingEnabled:d("ZenonStateMachineBase").defer,iceCandidateReady:d("ZenonStateMachineBase").defer,localMediaStateUpdateRetry:d("ZenonStateMachineBase").defer,muteLocalTrack:d("ZenonStateMachineBase").defer,removeDataMessageSubscription:d("ZenonStateMachineBase").defer,removeLocalTrack:d("ZenonStateMachineBase").defer,replaceLocalTrack:d("ZenonStateMachineBase").defer,stopLocalTrack:d("ZenonStateMachineBase").defer,unmuteLocalTrack:d("ZenonStateMachineBase").defer}},replacingLocalTrack:{invoke:{id:"replaceLocalTrackInvoke",onDone:{actions:[d("xstate").assign(d("ZenonPeerConnectionMediaActions").onReplacedLocalTrack)],target:"connected"},onError:{actions:[d("ZenonPeerConnectionMediaActions").onReplaceLocalTrackError],target:"connected"},src:d("ZenonPeerConnectionMediaActions").onReplacingLocalTrack},on:{endCall:{target:"terminating"},dataChannelMessageReceived:f,iceConnectionStateChange:e,addLocalTracks:d("ZenonStateMachineBase").defer,applyLocalSdp:d("ZenonStateMachineBase").defer,applyMediaUpdate:d("ZenonStateMachineBase").defer,applyRemoteIceCandidate:d("ZenonStateMachineBase").defer,applyRemoteSdp:d("ZenonStateMachineBase").defer,createDataChannel:d("ZenonStateMachineBase").defer,createDataMessageSubscription:d("ZenonStateMachineBase").defer,forceEncodingEnabled:d("ZenonStateMachineBase").defer,iceCandidateReady:d("ZenonStateMachineBase").defer,localMediaStateUpdateRetry:d("ZenonStateMachineBase").defer,muteLocalTrack:d("ZenonStateMachineBase").defer,removeDataMessageSubscription:d("ZenonStateMachineBase").defer,removeLocalTrack:d("ZenonStateMachineBase").defer,replaceLocalTrack:d("ZenonStateMachineBase").defer,stopLocalTrack:d("ZenonStateMachineBase").defer,unmuteLocalTrack:d("ZenonStateMachineBase").defer}},renegotiating:{invoke:{id:"renegotiatingInvoke",onDone:[{actions:[d("xstate").assign(d("ZenonPeerConnectionSdpActions").onLocalSdpSet)],cond:d("ZenonPeerConnectionSMGuards").iceNotConnectedGuard,target:"negotiated"},{actions:[d("xstate").assign(d("ZenonPeerConnectionSdpActions").onLocalSdpSet)],cond:d("ZenonPeerConnectionSMGuards").iceConnectedGuard,target:"connected"}],onError:{actions:[d("ZenonPeerConnectionSdpActions").onApplyRemoteOfferSetLocalAnswerError],target:"terminating"},src:d("ZenonPeerConnectionSdpActions").applyRemoteOfferAndSetLocalAnswer},on:{endCall:{target:"terminating"},addLocalTracks:d("ZenonStateMachineBase").defer,applyLocalSdp:d("ZenonStateMachineBase").defer,applyMediaUpdate:d("ZenonStateMachineBase").defer,applyRemoteIceCandidate:d("ZenonStateMachineBase").defer,applyRemoteSdp:d("ZenonStateMachineBase").defer,createDataChannel:d("ZenonStateMachineBase").defer,createDataMessageSubscription:d("ZenonStateMachineBase").defer,dataChannelMessageReceived:d("ZenonStateMachineBase").defer,forceEncodingEnabled:d("ZenonStateMachineBase").defer,iceConnectionStateChange:d("ZenonStateMachineBase").defer,localMediaStateUpdateRetry:d("ZenonStateMachineBase").defer,muteLocalTrack:d("ZenonStateMachineBase").defer,removeDataMessageSubscription:d("ZenonStateMachineBase").defer,removeLocalTrack:d("ZenonStateMachineBase").defer,replaceLocalTrack:d("ZenonStateMachineBase").defer,stopLocalTrack:d("ZenonStateMachineBase").defer,unmuteLocalTrack:d("ZenonStateMachineBase").defer}},terminating:{exit:[d("ZenonPeerConnectionTerminatingState").done],invoke:[{onDone:{target:"terminated"},src:d("ZenonPeerConnectionTerminatingState").cleanUp}],on:{addLocalTracks:d("ZenonStateMachineBase").defer,applyLocalSdp:d("ZenonStateMachineBase").defer,applyMediaUpdate:d("ZenonStateMachineBase").defer,applyRemoteIceCandidate:d("ZenonStateMachineBase").defer,applyRemoteSdp:d("ZenonStateMachineBase").defer,createDataChannel:d("ZenonStateMachineBase").defer,createDataMessageSubscription:d("ZenonStateMachineBase").defer,dataChannelMessageReceived:d("ZenonStateMachineBase").defer,forceEncodingEnabled:d("ZenonStateMachineBase").defer,iceConnectionStateChange:d("ZenonStateMachineBase").defer,localMediaStateUpdateRetry:d("ZenonStateMachineBase").defer,muteLocalTrack:d("ZenonStateMachineBase").defer,removeDataMessageSubscription:d("ZenonStateMachineBase").defer,removeLocalTrack:d("ZenonStateMachineBase").defer,replaceLocalTrack:d("ZenonStateMachineBase").defer,restartPeerConnection:d("ZenonStateMachineBase").defer,stopLocalTrack:d("ZenonStateMachineBase").defer,unmuteLocalTrack:d("ZenonStateMachineBase").defer}},terminated:{on:{restartPeerConnection:{actions:[d("ZenonPeerConnectionTerminatedState").restart],target:"init"},addLocalTracks:d("ZenonStateMachineBase").defer,applyLocalSdp:d("ZenonStateMachineBase").defer,applyMediaUpdate:d("ZenonStateMachineBase").defer,applyRemoteIceCandidate:d("ZenonStateMachineBase").defer,applyRemoteSdp:d("ZenonStateMachineBase").defer,createDataChannel:d("ZenonStateMachineBase").defer,createDataMessageSubscription:d("ZenonStateMachineBase").defer,dataChannelMessageReceived:d("ZenonStateMachineBase").defer,forceEncodingEnabled:d("ZenonStateMachineBase").defer,iceConnectionStateChange:d("ZenonStateMachineBase").defer,localMediaStateUpdateRetry:d("ZenonStateMachineBase").defer,muteLocalTrack:d("ZenonStateMachineBase").defer,removeDataMessageSubscription:d("ZenonStateMachineBase").defer,removeLocalTrack:d("ZenonStateMachineBase").defer,replaceLocalTrack:d("ZenonStateMachineBase").defer,stopLocalTrack:d("ZenonStateMachineBase").defer,unmuteLocalTrack:d("ZenonStateMachineBase").defer}}};g["default"]=a}),98);
__d("SctpSctpDatagramSerializers",["ThriftTypes","jsbi"],(function(a,b,c,d,e,f){"use strict";function a(){return{sender:0,receivers:new Set(),payload:Uint8Array.of()}}function c(a,c){c.writeStructBegin("Datagram");c.writeFieldBegin({fname:"sender",ftype:b("ThriftTypes").I64,fid:1});if(a.sender!=null)c.writeI64(b("jsbi").BigInt(a.sender));else{var d=0;c.writeI64(b("jsbi").BigInt(d))}c.writeFieldEnd();c.writeFieldBegin({fname:"receivers",ftype:b("ThriftTypes").SET,fid:2});if(a.receivers!=null){c.writeSetBegin({etype:b("ThriftTypes").I64,size:a.receivers.size});for(var d=a.receivers,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=d.length)break;g=d[f++]}else{f=d.next();if(f.done)break;g=f.value}g=g;c.writeI64(b("jsbi").BigInt(g))}c.writeSetEnd()}else{g=new Set();c.writeSetBegin({etype:b("ThriftTypes").I64,size:g.size});for(f=g,e=Array.isArray(f),d=0,f=e?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(e){if(d>=f.length)break;g=f[d++]}else{d=f.next();if(d.done)break;g=d.value}g=g;c.writeI64(b("jsbi").BigInt(g))}c.writeSetEnd()}c.writeFieldEnd();c.writeFieldBegin({fname:"payload",ftype:b("ThriftTypes").STRING,fid:3});if(a.payload!=null)c.writeBinary(a.payload);else{g=Uint8Array.of();c.writeBinary(g)}c.writeFieldEnd();c.writeFieldStop();c.writeStructEnd()}function d(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").I64?c.sender=Number(a.readI64()):a.skip(e);break;case 2:if(e===b("ThriftTypes").SET){c.receivers=new Set();d=a.readSetBegin();for(var f=0;f<d.size;f++){var g=Number(a.readI64());c.receivers.add(g)}}else a.skip(e);break;case 3:e===b("ThriftTypes").STRING?c.payload=a.readBinary():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.sender===void 0&&(c.sender=0);c.receivers===void 0&&(c.receivers=new Set());c.payload===void 0&&(c.payload=Uint8Array.of());return c}f.Datagram$DefaultConstructor=a;f.serializeDatagram=c;f.deserializeDatagram=d}),66);
__d("ZenonDataChannelWrapper",["CompactSerializerPolyfill","SctpSctpDatagramSerializers","ZenonAuditedCheckpointLogId","ZenonDataUtils","ZenonE2ee","ZenonInfraActionsLogger","err"],(function(a,b,c,d,e,f,g){"use strict";var h=100;a=function(){function a(a,b,e){var f=this;this.$1=[];this.onMessage=function(a){a=a.data;if(typeof a==="string")f.$12(a,null);else if(a instanceof ArrayBuffer)try{var b=d("CompactSerializerPolyfill").deserialize(new Uint8Array(a),d("SctpSctpDatagramSerializers").deserializeDatagram);if(b.sender===0)throw c("err")("Incorrectly deserialized datagram. Received a node id of 0.");f.$12(d("ZenonDataUtils").uint8ArrayToString(b.payload),b.sender)}catch(b){c("ZenonInfraActionsLogger").logError({auditId:c("ZenonAuditedCheckpointLogId").RP_ROOMS_INFRA_WWW__ERROR,error:"Could not deserialize datagram with error "+b+". Treating as unwrapped payload.",errorDomain:"ZenonDataChannelWrapper onMessage"}),f.$12(d("ZenonDataUtils").uint8ArrayToString(new Uint8Array(a)),null)}};this.onClose=function(){var a;f.$1=[];(a=f.$6)==null?void 0:a.deregisterSctpTopic(f.$3);(a=f.$5)==null?void 0:a.onClosing()};this.onOpen=function(){var a;f.$13();(a=f.$5)==null?void 0:a.onOpen()};this.$2=a;this.$3=this.$2.label;this.$4=b;this.$5=e;this.$2.onclose=this.onClose;this.$2.onmessage=this.onMessage;this.$2.onopen=this.onOpen;this.$6=c("ZenonE2ee").getSecureDataMessageManager();this.$7=this.$8();(a=this.$6)==null?void 0:a.registerSctpTopic(this.$3,this.$7)}var b=a.prototype;b.send=function(a){if(this.getState()!=="open"){this.$9(a);return}this.$10(a)};b.$10=function(a){try{if(!this.$11(a))return;a=this.$4.toSctpDatagram(a);if(a==null){c("ZenonInfraActionsLogger").logError({auditId:c("ZenonAuditedCheckpointLogId").RP_ROOMS_INFRA_WWW__ERROR,error:"Could not convert ZenonDataMessage to Datagram. Not sending message.",errorDomain:"ZenonDataChannelWrapper send"});return}a=d("CompactSerializerPolyfill").serialize(a,d("SctpSctpDatagramSerializers").serializeDatagram);this.$2.send(a)}catch(a){c("ZenonInfraActionsLogger").logError({auditId:c("ZenonAuditedCheckpointLogId").RP_ROOMS_INFRA_WWW__ERROR,error:"Could not convert serialize Datagram with error: "+a+". Not sending message.",errorDomain:"ZenonDataChannelWrapper send"})}};b.$11=function(a){if(this.$6==null)return!0;var b=this.$6.encryptSctpMessage(this.$3,a.message);if(b==null)return!1;a.message=b;return!0};b.close=function(){this.$2.close()};b.getState=function(){return this.$2.readyState};b.setListeners=function(a){this.$5=a};b.$13=function(){while(this.$1.length>0&&this.getState()==="open")this.$10(this.$1.shift())};b.$9=function(a){this.getState()!=="closed"&&this.$1.length<h?this.$1.push(a):c("ZenonInfraActionsLogger").logCheckpointEmployeesTestUsersOnly({checkpoint:"We failed to queue message for"+this.$3+" max queue size of"+h+" current queue size: "+this.$1.length+" current data channel state is "+this.getState()})};b.$8=function(){var a=this;return function(b,c){var d;(d=a.$5)==null?void 0:d.onMessage({message:b,sender:c})}};b.$12=function(a,b){if(b==null){this.$7(a,"");return}var d=this.$4.toUserId(b);if(d==null){c("ZenonInfraActionsLogger").logError({auditId:c("ZenonAuditedCheckpointLogId").RP_ROOMS_INFRA_WWW__ERROR,error:"Could not find associated sender id of node id. "+b,errorDomain:"ZenonDataChannelWrapper _onSctpMessage"});return}if(this.$6==null){this.$7(a,d);return}this.$6.onSctpMessage(this.$3,a,d)};return a}();g["default"]=a}),98);
__d("ZenonEventListenerCache",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1=new Map()}var b=a.prototype;b.add=function(a,b){var c=this.getByType(a);c.push(b);this.$1.set(a,c)};b["delete"]=function(a,b){var c=this.getByType(a);c=c.filter(function(a){return a!==b});c.length<1?this.$1["delete"](a):this.$1.set(a,c)};b.forEachEventListener=function(a){var b=this,c=this.getCachedEventTypes();c.forEach(function(c){var d=b.getByType(c);d.forEach(function(b){a(c,b)})})};b.getByType=function(a){return(a=this.$1.get(a))!=null?a:[]};b.getCachedEventTypes=function(){return Array.from(this.$1.keys())};b.getAll=function(){return this.$1};return a}();f["default"]=a}),66);
__d("ZenonPeerConnectionHelper",["FBLogger"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a.signalingState!=="closed"&&a.close()}function b(){return RTCPeerConnection.generateCertificate({name:"ECDSA",namedCurve:"P-256"})}function d(a,b){b===void 0&&(b={});try{return new RTCPeerConnection(babelHelpers["extends"]({},b))}catch(a){c("FBLogger")("rtc_www").catching(a).warn("Failed to create peer connection");throw a}}g.closePeerConnection=a;g.generateCertificate=b;g.createPeerConnection=d}),98);
__d("ZenonSimulcastSdpUtils",["Random","UserAgent","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h="\r\n";function i(a){a=a.filter(function(a){return a.startsWith("a=ssrc:")}).map(function(a){return a.split(" ")[0].split(":")[1]});return new Set(a)}function j(a,b){var c=new RegExp("^a=ssrc:\\d+ "+b+":");b=a.filter(function(a){return c.test(a)})[0];return b?b.split(" ")[1].split(":")[1]:b}function k(a){a=a.filter(function(a){return a.startsWith("a=ssrc-group:FID")}).map(function(a){return a.split(" ")[2]});return new Set(a)}function l(a){var b=new RegExp("^a=ssrc:\\d+ msid:");a=a.filter(function(a){return b.test(a)})[0];a=a.split(" ");return a.length>2?a[2]:null}function m(a,b){var c=[];for(var e=0;e<a;e++){var f=0;while(f===0||b.has(f.toString()))f=d("Random").uint32();b.add(f.toString());c.push(f.toString())}return c}function a(a,b){if(!c("UserAgent").isBrowser("Chrome >= 88")){c("recoverableViolation")("Attempted to add unified-plan simulcast in unsupported browser","rtc_www");return a}if(b<=1||b>3){c("recoverableViolation")("Unsupported number of layers passed: "+b,"rtc_www");return a}var d=a.trim().split(h),e=i(d),f=d.findIndex(function(a){return/^m=video/.test(a)});if(f===-1)return a;a=f+1;while(a<d.length){if(d[a].startsWith("m="))break;a++}a=d.splice(f,a-f);var g=i(a),n=k(a);g=new Set(Array.from(g).filter(function(a){return!n.has(a)}));if(g.size!==1||n.size>1)return[].concat(d.slice(0,f),a,d.slice(f)).join(h);var o=n.size===1;g=Array.from(g)[0];var p="";o&&(p=Array.from(n)[0]);var q=j(a,"cname"),r=j(a,"msid"),s=l(a);s!=null&&(r+=" "+s);var t=j(a,"mslabel"),u=j(a,"label");s=[g].concat(m(b-1,e));g=[];o&&(s.forEach(function(a){return e.add(a)}),g=[p].concat(m(b-1,e)));var v=[];v.push("a=ssrc-group:SIM "+s.join(" "));for(p=0;p<g.length;p++)v.push("a=ssrc-group:FID "+s[p]+" "+g[p]);b=[];if(o)for(p=0;p<s.length;p++)b.push(s[p]),b.push(g[p]);else b=s;b.forEach(function(a){v.push("a=ssrc:"+a+" cname:"+q),v.push("a=ssrc:"+a+" msid:"+r),t&&v.push("a=ssrc:"+a+" mslabel:"+t),u&&v.push("a=ssrc:"+a+" label:"+u)});a=a.filter(function(a){return!a.startsWith("a=ssrc")});a=[].concat(a,v);return[].concat(d.slice(0,f),a,d.slice(f)).join(h)+h}g.addSimulcastToChromeOffer=a}),98);
__d("ZenonPeerConnectionWrapper",["FBLogger","Promise","ZenonAuditedCheckpointLogId","ZenonBrowsers","ZenonDataChannelWrapper","ZenonEventListenerCache","ZenonInfraActionsLogger","ZenonPeerConnectionHelper","ZenonSDP","ZenonSimulcastSdpUtils","ZenonSimulcastUtils","asyncToGeneratorRuntime","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b,e,f){var g=this;e===void 0&&(e={});f===void 0&&(f=!1);this.$4=new(c("ZenonEventListenerCache"))();this.$9=!1;this.$10=!1;this.$15=function(a){a=a.channel;var b=g.$6.get(a.label);g.$5.set(a.label,new(c("ZenonDataChannelWrapper"))(a,g.$7,b))};this.$2=a;this.$3=e;this.$1=d("ZenonPeerConnectionHelper").createPeerConnection(a,e);this.$5=new Map();this.$6=new Map();this.$7=b;this.$8=f;f&&(this.$9=!0);this.$11=new Map();this.$12=new Map();this.$13=new Map();this.addEventListener("datachannel",this.$15)}var e=a.prototype;e.createOffer=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a===void 0&&(a={});a=(yield this.$16(a));if(this.$9){if(a.sdp!=null)try{a.sdp=d("ZenonSimulcastSdpUtils").addSimulcastToChromeOffer(a.sdp,d("ZenonSimulcastUtils").getNumLayers())}catch(a){c("ZenonInfraActionsLogger").logError({auditId:c("ZenonAuditedCheckpointLogId").RP_ROOMS_INFRA_WWW__ERROR,error:a.toString(),errorDomain:"ZenonPeerConnectionWrapper_createOffer_addSimulcastToChromeOffer"})}this.$9=!1}return new(d("ZenonSDP").ZenonLocalSDP)(a,this.getSdpFormat())});function e(b){return a.apply(this,arguments)}return e}();e.rollbackSdp=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){try{yield this.$1.setLocalDescription({type:"rollback"})}catch(a){c("ZenonInfraActionsLogger").logError({auditId:c("ZenonAuditedCheckpointLogId").RP_ROOMS_INFRA_WWW__ERROR,error:a.toString(),errorDomain:"ZenonPeerConnectionWrapper_rollbackSDP",sdpFormat:this.getSdpFormat()});throw a}});function d(){return a.apply(this,arguments)}return d}();e.setLocalDescription=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){this.$17(a.getMedia(),this.$11);a=a.toDescInit();try{this.getSignalingState()!=="closed"&&(yield this.$1.setLocalDescription(a))}catch(a){c("FBLogger")("rtc_www").catching(a).mustfix("Error processing modern API setLocalDescription in ZenonPeerConnectionWrapper.");throw a}});function d(b){return a.apply(this,arguments)}return d}();e.createAnswer=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield this.$1.createAnswer());a=new(d("ZenonSDP").ZenonLocalSDP)(a,this.getSdpFormat());this.$14=a.getSSLRole();return a});function c(){return a.apply(this,arguments)}return c}();e.setRemoteDescription=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){this.$17(a.getMedia(),this.$12);if(a.getType()==="answer"){var b=a.getSSLRole();if(b!=null&&this.$14==null)this.$14=this.getOppositeSSLRole(b);else if(b==null&&this.$14!=null){b=this.getOppositeSSLRole(this.$14);a.setSSLRole(b)}}b=a.toDescInit();this.$18(b);try{yield this.$1.setRemoteDescription(b)}catch(a){c("FBLogger")("rtc_www").catching(a).mustfix("Error processing modern API setRemoteDescription in ZenonPeerConnectionWrapper.");throw a}});function d(b){return a.apply(this,arguments)}return d}();e.setRemoteIceCandidate=function(a){if(this.$1.remoteDescription===null){c("FBLogger")("rtc_www").mustfix("Remote ICE candidate should not be applied before remote description");return b("Promise").resolve()}return this.$1.addIceCandidate(a)};e.close=function(){this.$5.forEach(function(a){return a.close()}),this.$5.clear(),d("ZenonPeerConnectionHelper").closePeerConnection(this.$1)};e.restart=function(){this.$1=d("ZenonPeerConnectionHelper").createPeerConnection(this.$2,this.$3),this.addCachedEventListenersToPeerConnection()};e.addEventListener=function(a,b){this.$4.add(a,b),this.$1.addEventListener(a,b)};e.createDataChannel=function(a,b,e,f,g){if(!d("ZenonBrowsers").isDataChannelSupportedInMainPeerConnection())return;var h=function(){};h={onClosing:h,onMessage:b,onOpen:e};b=this.$5.get(a);if(b==null)if(f){e=this.$1.createDataChannel(a,this.$19(g));e==null?c("recoverableViolation")("Unable to create requested data channel: "+a,"rtc_www"):this.$5.set(a,new(c("ZenonDataChannelWrapper"))(e,this.$7,h))}else this.$6.set(a,h);else b.setListeners(h)};e.getDataChannelState=function(a){a=this.$5.get(a);return a==null?void 0:a.getState()};e.sendDataMessage=function(a,b){var d=this.$5.get(a);d!=null?d.send(b):c("recoverableViolation")("Unable to send a message on data channel: "+a,"rtc_www")};e.getCnameFromTrackId=function(a){return(a=this.$13.get(a))!=null?a:null};e.getAllEventListeners=function(){return this.$4.getAll()};e.getEventListenersForType=function(a){return(a=this.$4.getByType(a))!=null?a:[]};e.canAcceptRemoteSdp=function(){return this.$1.iceConnectionState!=="closed"&&this.$1.signalingState!=="closed"};e.removeEventListener=function(a,b){this.$4["delete"](a,b),this.$1.removeEventListener(a,b)};e.removeAllEventListeners=function(){var a=this;this.$4.forEachEventListener(function(b,c){a.$1.removeEventListener(b),a.$4["delete"](b,c)})};e.addCachedEventListenersToPeerConnection=function(){var a=this;this.$4.forEachEventListener(function(b,c){a.$1.addEventListener(b,c)})};e.addTrack=function(a,b){return b==null?this.$1.addTrack(a):this.$1.addTrack(a,b)};e.addTransceiver=function(a,b){return this.$1.addTransceiver(a,b)};e.getTransceivers=function(){return typeof this.$1.getTransceivers==="function"?this.$1.getTransceivers():[]};e.getTransceiverFromSender=function(a){return this.getTransceivers().find(function(b){return b.sender===a})};e.getReceivers=function(){return typeof this.$1.getReceivers==="function"?this.$1.getReceivers():[]};e.getSenders=function(){return typeof this.$1.getSenders==="function"?this.$1.getSenders():[]};e.getStats=function(a){return this.$1.getStats(a)};e.getSignalingState=function(){return this.$1.signalingState};e.removeTrack=function(a){var b=!1;for(var d of this.$1.getSenders())d.track===a&&(this.$1.removeTrack(d),b=!0);b||c("ZenonInfraActionsLogger").logCheckpoint({checkpoint:"ZenonPeerConnectionWrapper.removeTrack: Could not find sender for track "+a.id,sdpFormat:this.getSdpFormat()})};e.supportsSimulcast=function(){return this.$8};e.getSimulcastInitialized=function(){return this.$10};e.setSimulcastInitialized=function(a){this.$10=a};e.$16=function(a){return b("Promise").resolve(this.$1.createOffer(a))};e.getSdpFormat=function(){return"unified-plan"};e.$17=function(a,b){var c=this;a.forEach(function(a){if(a.type!=="application"){var d=a.msid;d=c.getTrackIdFromMsid(d);d!=null&&a.mid!=null&&b.set(String(a.mid),d)}})};e.$19=function(a){a===void 0&&(a={});a.negotiated=!1;return a};e.$18=function(a){var b=this,c=a.sdp;a=a.type;c=new(d("ZenonSDP").ZenonRemoteSDP)({sdp:c,type:a},this.getSdpFormat()).getTrackIdAndCnameMap();c.forEach(function(a,c){b.$13.set(c,a)})};e.getTrackIdFromMsid=function(a){if(a!=null){a=a.split(" ");if(a.length>=2)return a[1];else c("FBLogger")("rtc_www").warn("MSID did not have an eligible ID for caching")}return null};e.getLocalMWTrackId=function(a){return a!==null?(a=this.$11.get(a))!=null?a:null:null};e.getRemoteMWTrackId=function(a){return a!==null?(a=this.$12.get(a))!=null?a:null:null};e.getCurrentRemoteDescription=function(){return this.$1.currentRemoteDescription!=null?new(d("ZenonSDP").ZenonRemoteSDP)({sdp:this.$1.currentRemoteDescription.sdp,type:this.$1.currentRemoteDescription.type},this.getSdpFormat()):null};e.getOppositeSSLRole=function(a){return a==="active"?"passive":"active"};e.getDataChannel_TESTONLY=function(a){return this.$5.get(a)};return a}();g["default"]=a}),98);
__d("ZenonSDPRtpHeaderExtensionManager",["ZenonBrowsers","ZenonInfraActionsLogger","ZenonODSLogger"],(function(a,b,c,d,e,f,g){"use strict";var h=[1,2,3,4,5,6,7,8,9,10,11,12,13,14],i="http://www.webrtc.org/experiments/rtp-hdrext/video-layers-allocation00",j="http://www.webrtc.org/experiments/rtp-hdrext/generic-frame-descriptor-00",k=0;a=function(){function a(a){this.$1=[],this.$2=a,this.$3()}var b=a.prototype;b.$3=function(){if(d("ZenonBrowsers").isVideoLayersAllocationSupported()){var a={existingId:k,isRemoteSupported:!0,mediaType:"video",notFoundCounterName:"no_unused_extension_id_found_for_vla",uri:i};this.$1.push(a)}if(this.$2){a={existingId:k,isRemoteSupported:!0,mediaType:"video",notFoundCounterName:"no_unused_extension_id_found_for_gfd",uri:j};this.$1.push(a)}};b.resetRtpHeaderExtensionStatus=function(){this.$1=[],this.$3()};b.setExtensionsSupportedByRemote=function(a){var b=this;this.$1.forEach(function(c){var d=b.$4(a,c.uri);d===k?c.isRemoteSupported=!1:c.existingId===k&&(c.existingId=d)})};b.enableRegisteredExtensions=function(a){var b=this,d=a.getMedia();if(d==null)return;this.$1.forEach(function(e){if(e.isRemoteSupported){var f=e.existingId!==k?e.existingId:b.$5(d,e);if(f===k)return;e.existingId=f;c("ZenonInfraActionsLogger").logCheckpointEmployeesTestUsersOnly({checkpoint:"[ZP] enabling header extension for <uri: "+e.uri+", id: "+f+", media type: "+e.mediaType+", >"});a.enableExtension(e.uri,e.mediaType,f)}})};b.$5=function(a,b){var d=new Set(h),e=0;a.forEach(function(a){if(a.ext==null)return;for(var a=a.ext,c=Array.isArray(a),f=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(c){if(f>=a.length)break;g=a[f++]}else{f=a.next();if(f.done)break;g=f.value}g=g;if(g.uri===b.uri){e=g.value;return}d["delete"](g.value)}});if(e===k&&d.size===0){b.notFoundCounterName!==""&&c("ZenonODSLogger").logCounter(b.notFoundCounterName);return k}return e===k?Array.from(d)[0]:e};b.$4=function(a,b){var c=k;a=a.getMedia();if(a!=null)for(var a=a,d=Array.isArray(a),e=0,a=d?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=a.length)break;f=a[e++]}else{e=a.next();if(e.done)break;f=e.value}f=f;(f=f.ext)==null?void 0:f.forEach(function(a){a.uri===b&&(c=a.value)})}return c};b.getRegisteredRtpHeaderExtensions=function(){return this.$1};return a}();g["default"]=a}),98);
__d("ZenonSDPManager",["FBLogger","ZenonAuditedCheckpointLogId","ZenonBrowsers","ZenonE2ee","ZenonInfraActionsLogger","ZenonODSLogger","ZenonSDPRtpHeaderExtensionManager","asyncToGeneratorRuntime","gkx","justknobx","pako","performanceNow"],(function(a,b,c,d,e,f,g){"use strict";var h="http://www.webrtc.org/experiments/rtp-hdrext/playout-delay",i="urn:3gpp:video-orientation",j="urn:ietf:params:rtp-hdrext:ssrc-audio-level",k="set_local_sdp_error",l="set_remote_sdp_error",m="rollback_sdp_error";a=function(){function a(a,b){this.$2=null,this.$3=null,this.$1=a,this.$4=b.getZenonSdpTransformConfig(),this.$5=new(c("ZenonSDPRtpHeaderExtensionManager"))(c("ZenonE2ee").isE2eeStackReady()||c("ZenonE2ee").isE2eeMandated())}var e=a.prototype;e.getLocalSdp=function(){return this.$2};e.getRemoteSdp=function(){return this.$3};e.getSdpFormat=function(){return this.$1.getSdpFormat()};e.getZenonSDPRtpHeaderExtensionManager=function(){return this.$5};e.shouldPreferH264Multiway=function(){return c("gkx")("1707280")};e.shouldPreferAV1Multiway=function(){return c("gkx")("7719")};e.createLocalSdp=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,d){b=b==="offer"?yield this.$1.createOffer(babelHelpers["extends"]({},d,{preserveH264:this.$4.isPreserveH264()})):yield this.$1.createAnswer();this.shouldPreferH264Multiway()&&(this.$4.isPreferSwH264()?b.preferH264Codec({levelAsymmetryAllowed:!0,packetizationMode:!0,profileLevelId:"42e01f"}):b.preferCodec("video",{preferredCodec:"H264",preferredCodecRate:9e4}));c("justknobx")._("913")&&b.removePacketizationMode0H264();this.$4.isPreserveH264()||b.removeCodec("H264");d=this.shouldPreferAV1Multiway();d&&b.preferCodec("video",{preferredCodec:"AV1",preferredCodecRate:9e4});b.removeCodec("flexfec-03");b.removeCodec("VP9");d||b.removeCodec("AV1");b.removeCodec("red");b.removeCodec("ulpfec");this.$6(b);b.setVersion(a);this.$2=b;return b});function d(b,c,d){return a.apply(this,arguments)}return d}();e.setLocalSdp=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){try{this.$7(a,"local");var b=c("performanceNow")();yield this.$1.setLocalDescription(a);b=c("performanceNow")()-b;c("ZenonInfraActionsLogger").logCheckpointEmployeesTestUsersOnly({checkpoint:"[ZP]["+a.getType()+"] Finished setting local sdp of type in: "+String(b)})}catch(a){c("ZenonODSLogger").logCounter(k);this.$8(a,"Failed to set local sdp","ZenonSDPManager_setLocalSdp");throw a}this.$2=a});function d(b){return a.apply(this,arguments)}return d}();e.rollbackSdp=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){try{yield this.$1.rollbackSdp(),c("ZenonInfraActionsLogger").logCheckpoint({checkpoint:"[ZP] Successfully called rollback sdp"})}catch(a){c("ZenonODSLogger").logCounter(m);this.$8(a,"Failed to set rollback sdp","ZenonSDPManager_rollbackSDP");throw a}});function d(){return a.apply(this,arguments)}return d}();e.createAndSetLocalSdp=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){a=(yield this.createLocalSdp(a,b,c));yield this.setLocalSdp(a);return a});function c(b,c,d){return a.apply(this,arguments)}return c}();e.setRemoteSdp=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a.isRemote()||c("ZenonInfraActionsLogger").logError({auditId:c("ZenonAuditedCheckpointLogId").RP_ROOMS_INFRA_WWW__ERROR,checkpoint:"[ZP] Wrong SDP location",error:"Non-remote SDP passed to setRemoteSdp()",errorDomain:"ZenonSDPManager_setRemoteSdp",sdpFormat:this.$1.getSdpFormat()});if(!this.$1.canAcceptRemoteSdp())return a;b({name:"beginRemoteSdpMunging"});this.$6(a);this.shouldPreferAV1Multiway()||a.removeCodec("AV1");b({name:"endRemoteSdpMunging"});c("gkx")("2255")&&(c("ZenonInfraActionsLogger").logCheckpoint({checkpoint:"[ZP]["+a.getType()+"] Munge inactive media SSRC"}),a.mungeInactiveMediaSSRC(this.$1.getCurrentRemoteDescription()));try{this.$7(a,"remote");b=c("performanceNow")();yield this.$1.setRemoteDescription(a);b=c("performanceNow")()-b;c("ZenonInfraActionsLogger").logCheckpoint({checkpoint:"[ZP]["+a.getType()+"] Finished setting remote sdp in: "+String(b)})}catch(a){c("ZenonODSLogger").logCounter(l);this.$8(a,"Failed to set remote sdp","ZenonSDPManager_setRemoteSdp");throw a}this.$3=a;return a});function d(b,c){return a.apply(this,arguments)}return d}();e.$8=function(a,b,d){b="[ZP] "+b;c("ZenonInfraActionsLogger").logError({auditId:c("ZenonAuditedCheckpointLogId").RP_ROOMS_INFRA_WWW__ERROR,checkpoint:b,error:a.toString(),errorDomain:d,sdpFormat:this.$1.getSdpFormat()})};e.$7=function(a,b){try{var d=btoa(c("pako").deflate(a.toLoggingString(),{to:"string"}));c("ZenonInfraActionsLogger").logCheckpoint({checkpoint:"[ZP]["+a.getType()+"] Set "+b+" description sdp: "+d})}catch(a){c("FBLogger")("rtc_www").catching(a).warn("Failed to log the SDP"),c("ZenonInfraActionsLogger").logError({auditId:c("ZenonAuditedCheckpointLogId").RP_ROOMS_INFRA_WWW__ERROR,checkpoint:"[ZP] Failed to log the SDP",error:a.toString(),errorDomain:"ZenonSDPManager_logSdp",sdpFormat:this.$1.getSdpFormat()})}};e.setRemoteIceCandidate=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){try{yield this.$1.setRemoteIceCandidate(a)}catch(b){c("FBLogger")("rtc_www").catching(b).warn("Failed to setRemoteIceCandidate with ",JSON.stringify(a));c("ZenonInfraActionsLogger").logError({auditId:c("ZenonAuditedCheckpointLogId").RP_ROOMS_INFRA_WWW__ERROR,checkpoint:"[ZP] Failed to set remote ice candidate",error:b.toString(),errorDomain:"ZenonSDPManager_setRemoteIceCandidate",sdpFormat:this.$1.getSdpFormat()});throw b}});function d(b){return a.apply(this,arguments)}return d}();e.closePeerConnection=function(){this.$1.close()};e.restartPeerConnection=function(){this.$5.resetRtpHeaderExtensionStatus(),this.$1.restart()};e.$6=function(a){a.useDTLSOverCrypto();a.stripDataChannel();a.maybeAddPtimeForOpusOnly(60);c("gkx")("1720807")&&a.addFmtpConfig("H264","sps-pps-idr-in-keyframe","1");this.$4.isDisableOpusStereo()&&a.addFmtpConfig("opus","stereo","0");a.addFmtpConfig("opus","useinbandfec",this.$4.isSetOpusUseinbandfec()?"1":"0");a.addFmtpConfig("opus","usedtx",this.$4.isSetOpusUsedtx()?"1":"0");var b=this.$4.getSetOpusMaxaveragebitrate();b>0&&a.addFmtpConfig("opus","maxaveragebitrate",b.toString());b=this.$4.getSetOpusMaxplaybackrate();b>0&&a.addFmtpConfig("opus","maxplaybackrate",b.toString());a.addAudioNACK();a.isRemote()?(this.$5.setExtensionsSupportedByRemote(a),d("ZenonBrowsers").isFirefox()&&a.addSetupActPass()):(a.filterExtension(h,"video"),a.filterExtension(i,"video"),c("ZenonE2ee").isE2eeMandated()&&a.filterExtension(j,"audio"),this.$5.enableRegisteredExtensions(a))};return a}();g["default"]=a}),98);
__d("ZenonSimulcastDataMessageParser",["recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=null,c=0;a.perSsrcTargetBitrateBpsMap!=null&&(b=h(a.perSsrcTargetBitrateBpsMap));if(a.qualityMask!=null){a=parseInt(a.qualityMask,10);isNaN(a)||(c=a)}return{perSsrcTargetBitrateBpsMap:b,qualityMask:c}}function h(a){var b=new Map();Object.keys(a).forEach(function(d){var e=parseInt(a[d],10);if(isNaN(e)){c("recoverableViolation")("Simulcast bitrate string could not be parsed as int","rtc_www");return}b.set(d,e)});return b}g.parseSimulcastControlMessage=a}),98);
__d("ZenonPeerConnectionManager",["DateConsts","FBLogger","Promise","ZenonBrowsers","ZenonClientTslogUploader","ZenonE2ee","ZenonIceConnectionMonitor","ZenonInfraActionsLogger","ZenonLogPromiseRejection","ZenonMediaActionLogger","ZenonMediaChannelManager","ZenonMediaError","ZenonMediaStatsUtil","ZenonPeerConnectionConfig","ZenonPeerConnectionStateMachine","ZenonPeerConnectionWrapper","ZenonSDPManager","ZenonSimulcastDataMessageParser","ZenonSimulcastManager","ZenonSimulcastUtils","emptyFunction","promiseDone","qex"],(function(a,b,c,d,e,f,g){"use strict";var h=2*d("DateConsts").MS_PER_SEC,i=6;a=function(){function a(a){var b=this,e,f;this.$5=null;this.$6=function(){};this.$7=new Set();this.$8=new Map();this.$9=!1;this.$11=new Map();this.$12=!1;this.$17=0;this.$19=function(a){a=a.target;a=a.iceConnectionState;b.$15.updateIceConnectionState(a);b.$15.logIceConnectionState(b.$6);b.$15.updateIceConnectionTimer(function(){return b.$1.processEvent({onError:c("emptyFunction"),onSuccess:c("emptyFunction"),payload:{error:d("ZenonMediaError").ZenonMediaError.IceDisconnected,stopLocalTracks:!0},type:"endCall"})});b.$12&&b.$15.updateIceRestartTimer(b.$1,b.$14);b.$1.processEvent({onError:c("emptyFunction"),onSuccess:c("emptyFunction"),payload:{iceConnectionState:a},type:"iceConnectionStateChange"})};this.$21=function(a){a=a.target;a.signalingState==="closed"&&c("ZenonInfraActionsLogger").logCheckpoint({checkpoint:"Peer connection signaling state changed to closed",sdpFormat:b.$4.getSdpFormat()});if(a.connectionState==="closed"){a=!0;var e=d("ZenonMediaError").ZenonMediaError.ConnectionClosed;c("ZenonInfraActionsLogger").logCheckpoint({checkpoint:"Peer connection state changed to closed"});b.$1.processEvent({onError:c("emptyFunction"),onSuccess:c("emptyFunction"),payload:{error:e,stopLocalTracks:a},type:"endCall"})}};this.$20=function(a){a=a.candidate;a!=null&&b.$1.processEvent({onError:c("emptyFunction"),onSuccess:c("emptyFunction"),payload:a,type:"iceCandidateReady"})};this.$15=new(c("ZenonIceConnectionMonitor"))();this.$13=(e=c("qex")._("1270"))!=null?e:h;this.$14=(e=c("qex")._("663"))!=null?e:h;this.$9=(e=a.shouldUseSimulcast)!=null?e:!1;this.$10=a.configManager.getSimulcastOverSignalingConfig().isSimulcastOverSignalingEnabled();a.loggingEventHandler&&(this.$6=a.loggingEventHandler);this.$5=null;e=c("ZenonPeerConnectionConfig").getConfigZenonPlatform((e=c("ZenonE2ee").isE2eeStackReady())!=null?e:!1);this.$4=new(c("ZenonPeerConnectionWrapper"))(a.configManager,a.dataMessageTranslator,babelHelpers["extends"]({},e),this.$9);e=e.sdpSemantics;this.$6({name:"peerConnectionCreated",sdpFormat:e});e=d("ZenonMediaStatsUtil").shouldUseTSLog({isE2eeMandated:a.isE2eeMandated});this.$2=new(c("ZenonMediaChannelManager"))({areTslogsEnabled:e,isE2eeMandated:(f=a.isE2eeMandated)!=null?f:!1,mediaStats:a.mediaStats,onFirstMediaPacket:function(a){return b.$6({name:"firstMediaPacket",type:a})},onMediaStatUpdate:function(a){return b.$6({mediaStats:a,name:"setMediaStats"})},peerConnection:this.$4});this.$3=new(c("ZenonSDPManager"))(this.$4,a.configManager);this.$1=new(c("ZenonPeerConnectionStateMachine"))(babelHelpers["extends"]({},this.$18(),{logEvent:function(a){return b.$6(a)},mediaChannelManager:this.$2,sdpManager:this.$3,tslogUploader:e?new(c("ZenonClientTslogUploader"))(function(a){return b.$6(a)},this.$2):null}));this.$4.addEventListener("iceconnectionstatechange",this.$19);this.$4.addEventListener("icecandidate",this.$20);this.$4.addEventListener("signalingstatechange",this.$21)}var e=a.prototype;e.subscribeDataChannelOpen=function(a,b){var c;c=(c=this.$11.get(b))!=null?c:[];c.push(a);this.$11.set(b,c)};e.unsubscribeDataChannelOpen=function(a,b){var c;c=(c=this.$11.get(b))!=null?c:[];c=c.filter(function(b){return b!==a});this.$11.set(b,c)};e.onNetworkUpdate=function(a){this.$15.updateNetworkStatus(a.get("local")),this.$12&&this.$15.updateIceRestartTimer(this.$1,this.$13)};e.getLocalMediaStateVersion=function(){return this.$1.getLocalMediaStateVersion()};e.setLocalMediaStateVersion=function(a){var d=this;return c("ZenonLogPromiseRejection")(new(b("Promise"))(function(b,c){d.$1.processEvent({onError:c,onSuccess:b,payload:{version:a},type:"setLocalMediaStateVersion"})}))};e.addLocalTracks=function(a,d,e,f){var g=this;return c("ZenonLogPromiseRejection")(new(b("Promise"))(function(b,c){g.$1.processEvent({onError:c,onSuccess:b,payload:{callInitiator:e,callMedia:f,mediaMode:d,tracks:a},type:"addLocalTracks"})}))};e.removeLocalTrack=function(a){var d=this;return c("ZenonLogPromiseRejection")(new(b("Promise"))(function(b,c){d.$1.processEvent({onError:c,onSuccess:b,payload:{trackId:a},type:"removeLocalTrack"})}))};e.replaceLocalTrack=function(a,d,e){var f=this;return c("ZenonLogPromiseRejection")(new(b("Promise"))(function(b,c){e!=null?f.$1.processEvent({onError:c,onSuccess:b,payload:{preserveOriginal:e,replacementTrack:d,trackIdToReplace:a},type:"replaceLocalTrack"}):f.$1.processEvent({onError:c,onSuccess:b,payload:{replacementTrack:d,trackIdToReplace:a},type:"replaceLocalTrack"})}))};e.createDataChannel=function(a,d){var e=this;this.$16==null&&c("FBLogger")("rtweb").warn("Data channel instantion role not setup properly");return c("ZenonLogPromiseRejection")(new(b("Promise"))(function(b,f){e.$7.add(a);e.$1.processEvent({onError:f,onSuccess:b,payload:{dataChannelLabel:a,dataChannelOptions:d,onDataChannelMessage:function(b){e.$1.processEvent({onError:c("emptyFunction"),onSuccess:c("emptyFunction"),payload:{dataChannelLabel:a,dataMessage:b},type:"dataChannelMessageReceived"}),e.$9&&a==="data"&&e.maybeHandleSimulcastDataMessage(b)},onDataChannelOpen:function(){var b=e.$11.get(a);b==null?void 0:b.forEach(function(a){a()});e.$17++},shouldEstablishDataChannel:(f=e.$16)!=null?f:!0},type:"createDataChannel"})}))};e.onSimulcastSignalingDataMessage=function(a){this.$9&&this.$10&&this.maybeHandleSignalingSimulcastDataMessage(a)};e.createDataMessageSubscription=function(a,d){var e=this;if(!this.$8.has(a)){this.$8.set(a,d);return c("ZenonLogPromiseRejection")(new(b("Promise"))(function(b,c){e.$1.processEvent({onError:c,onSuccess:b,payload:{dataChannelLabel:a,onSignalingDataMessage:d},type:"createDataMessageSubscription"})}))}return b("Promise").resolve()};e.removeDataMessageSubscription=function(a){var d=this;if(this.$8.has(a)){var e,f=(e=this.$8.get(a))!=null?e:function(){};this.$8["delete"](a);return c("ZenonLogPromiseRejection")(new(b("Promise"))(function(b,c){d.$1.processEvent({onError:c,onSuccess:b,payload:{dataChannelLabel:a,onSignalingDataMessage:f},type:"removeDataMessageSubscription"})}))}return b("Promise").resolve()};e.getSdpFormat=function(){return this.$4.getSdpFormat()};e.getDataChannelOpenCount=function(){return this.$17};e.getDataChannelLabels=function(){return this.$7};e.getDataChannelState=function(a){return this.$4.getDataChannelState(a)};e.getDataMessageSubscriptions=function(){return this.$8};e.getSupportsSimulcastOverSignaling=function(){return this.$10};e.setShouldEstablishDataChannel=function(a){this.$16=a};e.setSupportsSimulcastOverSignaling=function(a){this.$10=a};e.setIceRestartEligible=function(a){this.$12=a&&d("ZenonBrowsers").supportsIceRestart(),this.$12||this.$15.clearIceRestartTimer()};e.getIceRestartEnabled=function(){return this.$12};e.localMediaStateUpdateRetry=function(a){var d=this;return c("ZenonLogPromiseRejection")(new(b("Promise"))(function(b,c){var e=d.$1.getContext();e.retryCount<i&&(e.retryCount++,e.localMediaStateUpdateRetryTimerId=window.setTimeout(function(){d.$1.processEvent({onError:c,onSuccess:b,type:"localMediaStateUpdateRetry"})},a))}))};e.clearRetryCount=function(){var a=this.$1.getContext();a.retryCount=0};e.cancelPendingNegotiation=function(){var a=this;return c("ZenonLogPromiseRejection")(new(b("Promise"))(function(b,c){a.$1.processEvent({onError:c,onSuccess:b,type:"remoteSdpFailed"})}))};e.muteLocalTrack=function(a){var d=this;return c("ZenonLogPromiseRejection")(new(b("Promise"))(function(b,c){d.$1.processEvent({onError:c,onSuccess:b,payload:{trackId:a},type:"muteLocalTrack"})}))};e.unmuteLocalTrack=function(a){var d=this;return c("ZenonLogPromiseRejection")(new(b("Promise"))(function(b,c){d.$1.processEvent({onError:c,onSuccess:b,payload:{trackId:a},type:"unmuteLocalTrack"})}))};e.stopLocalTrack=function(a){var d=this;return c("ZenonLogPromiseRejection")(new(b("Promise"))(function(b,c){d.$1.processEvent({onError:c,onSuccess:b,payload:{trackId:a},type:"stopLocalTrack"})}))};e.applyLocalSdp=function(){var a=this;return c("ZenonLogPromiseRejection")(new(b("Promise"))(function(b,c){a.$1.processEvent({onError:c,onSuccess:b,type:"applyLocalSdp"})}))};e.applyMediaUpdate=function(a){var d=this;return c("ZenonLogPromiseRejection")(new(b("Promise"))(function(b,c){d.$1.processEvent({onError:c,onSuccess:b,payload:{mediaStates:a},type:"applyMediaUpdate"})}))};e.applyRemoteSdp=function(a,d,e,f,g,h){var i=this;return c("ZenonLogPromiseRejection")(new(b("Promise"))(function(b,c){i.$1.processEvent({onError:c,onSuccess:b,payload:{mediaStates:d,messageID:h,onProcessed:g,renegotiationOffer:f,sdp:a,source:e},type:"applyRemoteSdp"})}))};e.applyRemoteIceCandidate=function(a){var d=this;return c("ZenonLogPromiseRejection")(new(b("Promise"))(function(b,c){d.$1.processEvent({onError:c,onSuccess:b,payload:a,type:"applyRemoteIceCandidate"})}))};e.forceEncodingEnabled=function(a){var d=this;return c("ZenonLogPromiseRejection")(new(b("Promise"))(function(b,c){d.$1.processEvent({onError:c,onSuccess:b,payload:{enabled:a},type:"forceEncodingEnabled"})}))};e.end=function(a,d){var e=this;return c("ZenonLogPromiseRejection")(new(b("Promise"))(function(b,c){e.$15.clearIceRestartTimer(),e.$1.processEvent({onError:c,onSuccess:b,payload:{restart:d,stopLocalTracks:a},type:"endCall"})}))};e.restart=function(){var a=this;return c("ZenonLogPromiseRejection")(new(b("Promise"))(function(b,d){c("ZenonInfraActionsLogger").logCheckpointEmployeesTestUsersOnly({checkpoint:"Beginning the restart process on peer connection"}),c("promiseDone")(a.end(!1,!0)),a.$2.clearTracks(),a.$1.processEvent({onError:d,onSuccess:b,type:"restartPeerConnection"})}))};e.getTracks=function(){return this.$2.getTracks()};e.getLocalTracksForMWS=function(){return this.$2.getLocalTracksForMWS()};e.getRtpSenders=function(){return this.$4.getSenders()};e.getRtpReceivers=function(){return this.$4.getReceivers()};e.setPeerConnectionEventHandlers=function(a){this.$5=a};e.swapPeerConnectionEventHandlers=function(a){var b=this.$5;this.$5=a.$5;a.$5=b};e.setNetworkStatusListener=function(a){this.$2.setNetworkStatusListener(a)};e.registerTrackListener=function(a){this.$2.registerTrackListener(a)};e.setTrackListenersFromManager=function(a){this.$2.setTrackListenersFromManager(a.$2)};e.setLoggingEventHandler=function(a){this.$6=a};e.sendDataMessage=function(a,b){this.$4.sendDataMessage(a,b)};e.$18=function(){return{onConnectionDestroyed:this.$22("onConnectionDestroyed"),onConnectionDropped:this.$22("onConnectionDropped"),onConnectionEstablished:this.$22("onConnectionEstablished"),onCreateDataMessageSubscription:this.$22("onCreateDataMessageSubscription"),onDataChannelMessageReceived:this.$22("onDataChannelMessageReceived"),onIceCandidateReady:this.$22("onIceCandidateReady"),onLocalMediaStateUpdate:this.$22("onLocalMediaStateUpdate"),onLocalSdpSet:this.$22("onLocalSdpSet"),onRemoteSdpSet:this.$22("onRemoteSdpSet"),onRemoveDataMessageSubscription:this.$22("onRemoveDataMessageSubscription")}};e.$22=function(a){var c=this;return function(){if(c.$5&&c.$5[a]){var d;return(d=c.$5)[a].apply(d,arguments)}return b("Promise").resolve()}};e.maybeHandleSimulcastDataMessage=function(a){try{a=JSON.parse(a.message);a=a.body;a=a.videoUploadRequest;var b=a.perSsrcTargetBitrateBpsMap,e=a.qualityMask;if(a!=null&&(e!=null&&e!==0&&b!=null)){a=d("ZenonSimulcastDataMessageParser").parseSimulcastControlMessage({perSsrcTargetBitrateBpsMap:b,qualityMask:e});this.handleSimulcastUploadRequest(a)}}catch(a){c("FBLogger")("rtc_www").warn("MaybeHandleSimulcastDataMessage failed:",a)}};e.maybeHandleSignalingSimulcastDataMessage=function(a){try{a=JSON.parse(a.message);if(a.qualityMask!=null&&a.qualityMask!==0&&a.perSsrcTargetBitrateBpsMap!=null){a={perSsrcTargetBitrateBpsMap:a.perSsrcTargetBitrateBpsMap,qualityMask:a.qualityMask};a=d("ZenonSimulcastDataMessageParser").parseSimulcastControlMessage(a);this.handleSimulcastUploadRequest(a)}}catch(a){c("FBLogger")("rtc_www").warn("MaybeHandleSignalingSimulcastDataMessage failed:",a)}};e.handleSimulcastUploadRequest=function(a){var b,e;if(!d("ZenonSimulcastUtils").isCurrentBrowserCompatibleWithSimulcast()||!this.$4.supportsSimulcast()||typeof ((b=RTCRtpSender)==null?void 0:b.prototype.getParameters)!=="function"){c("ZenonMediaActionLogger").logCheckpoint("ZenonPeerConnectionManager: handleSimulcastUploadRequest: Simulcast not supported!");return}b=this.$4.getSenders().filter(function(a){return a.track&&a.track.kind==="video"});if(b.length===0){c("ZenonMediaActionLogger").logCheckpoint("ZenonPeerConnectionManager: handleSimulcastUploadRequest: No Senders!");return}b=b[0];if(!("getParameters"in b)||!("setParameters"in b))return;var f=this.$4.getTransceiverFromSender(b);if(!f){c("ZenonMediaActionLogger").logCheckpoint("ZenonPeerConnectionManager: handleSimulcastUploadRequest: Transceiver is null!");return}if(f.stopped)return;f=!1;var g=this.$2.getTracks();if((e=b.track)==null?void 0:e.id){g=g.get((e=b.track)==null?void 0:e.id);f=g&&g.contentType==="screen"}e=this.getTotalVideoParticipants();a=d("ZenonSimulcastManager").getSimulcastEncodingParameters(b.getParameters(),a,e,d("ZenonSimulcastManager").getSimulcastSsrcToLayerMap(((g=this.$3.getLocalSdp())==null?void 0:g.toDesc().sdp)||""),f,d("ZenonSimulcastUtils").getMaxNumLayers(),{height:(e=(a=b.track)==null?void 0:a.getSettings().height)!=null?e:720,width:(f=(g=b.track)==null?void 0:g.getSettings().width)!=null?f:1280},d("ZenonSimulcastManager").ALLOW_SCREENSHARE_SIMULCAST,d("ZenonSimulcastManager").MIN_NUM_ACTIVE_LAYERS);e=a.params;c("promiseDone")(b.setParameters(e))};e.getTotalVideoParticipants=function(){var a=this.$4.getTransceivers(),b=this.$4.getReceivers();if(a!=null&&a.length>0){a=a.filter(function(a){var b;return((b=a.receiver.track)==null?void 0:b.kind)==="video"&&a.currentDirection!=="inactive"&&((b=a.receiver.track)==null?void 0:b.readyState)==="live"});a=a.length}else{b=b.filter(function(a){return((a=a.track)==null?void 0:a.kind)==="video"});a=b.length+1}return a};e.renegotiateNullSenderTransport=function(){for(var a=this.getRtpSenders(),b=Array.isArray(a),d=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(b){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;if(e.transport==null){c("promiseDone")(this.applyLocalSdp());break}}};return a}();g["default"]=a}),98);
__d("ZenonSdkMethod",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum").Mirrored(["ADD_LOCAL_TRACK","REMOVE_LOCAL_TRACK","REPLACE_LOCAL_TRACK","MUTE_TRACK","UNMUTE_TRACK","STOP_LOCAL_TRACK","CREATE_DATA_MESSAGE_SUBSCRIPTION","REMOVE_DATA_MESSAGE_SUBSCRIPTION","SEND_GENERIC_DATA_MESSAGE","SUBSCRIBE_TO_REMOTE_VIDEO","JOIN","UNSUBSCRIBE_FROM_STATESYNC_TOPIC","SUBSCRIBE_TO_STATESYNC_TOPIC","UPDATE_STATESYNC_TOPIC","APPROVE_PARTICIPANTS","DENY_PARTICIPANTS","END_CALL","RING_PARTICIPANTS","REMOVE_PARTICIPANTS","FORCE_ENCODING_ENABLED"]);f.ZenonSdkMethod=a}),66);
__d("ZenonCallInstanceSDK",["QuickPerformanceLogger","Random","ZenonSdkMethod","ZenonTransportType","qpl"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b){this.$2=a,this.$1=b}var b=a.prototype;b.ringParticipants=function(a,b){return this.$3(this.$1.ringParticipants(this.$2,a,b),d("ZenonSdkMethod").ZenonSdkMethod.RING_PARTICIPANTS)};b.removeParticipants=function(a){return this.$3(this.$1.removeParticipants(this.$2,a),d("ZenonSdkMethod").ZenonSdkMethod.REMOVE_PARTICIPANTS)};b.forceEncodingEnabled=function(a){return this.$3(this.$1.forceEncodingEnabled(this.$2,a),d("ZenonSdkMethod").ZenonSdkMethod.FORCE_ENCODING_ENABLED)};b.addLocalTrack=function(a){return this.$3(this.$1.addLocalTrack(this.$2,a),d("ZenonSdkMethod").ZenonSdkMethod.ADD_LOCAL_TRACK,{string:{trackType:a.contentType}})};b.stopLocalTrack=function(a){return this.$3(this.$1.stopLocalTrack(this.$2,a),d("ZenonSdkMethod").ZenonSdkMethod.STOP_LOCAL_TRACK)};b.muteTrack=function(a){return this.$3(this.$1.muteTrack(this.$2,a),d("ZenonSdkMethod").ZenonSdkMethod.MUTE_TRACK)};b.unmuteTrack=function(a){return this.$3(this.$1.unmuteTrack(this.$2,a),d("ZenonSdkMethod").ZenonSdkMethod.UNMUTE_TRACK)};b.subscribeToRemoteVideo=function(a,b){return this.$3(this.$1.subscribeToRemoteVideo(this.$2,a,b),d("ZenonSdkMethod").ZenonSdkMethod.SUBSCRIBE_TO_REMOTE_VIDEO)};b.getLogIdentifiers=function(){return this.$1.getLogIdentifiers(this.$2)};b.unsubscribeFromStateSyncTopic=function(a){return this.$3(this.$1.unsubscribeFromStateSyncTopic(this.$2,a),d("ZenonSdkMethod").ZenonSdkMethod.UNSUBSCRIBE_FROM_STATESYNC_TOPIC)};b.subscribeToStateSyncTopic=function(a){return this.$3(this.$1.updateStateSyncTopic(this.$2,a,null),d("ZenonSdkMethod").ZenonSdkMethod.SUBSCRIBE_TO_STATESYNC_TOPIC)};b.replaceLocalTrack=function(a,b,c,e){c===void 0&&(c=!1);return this.$3(e!=null?this.$1.replaceLocalTrack(this.$2,a,b,c,e):this.$1.replaceLocalTrack(this.$2,a,b,c),d("ZenonSdkMethod").ZenonSdkMethod.REPLACE_LOCAL_TRACK,{string:{trackType:b.contentType}})};b.removeLocalTrack=function(a){return this.$3(this.$1.removeLocalTrack(this.$2,a),d("ZenonSdkMethod").ZenonSdkMethod.REMOVE_LOCAL_TRACK)};b.createDataMessageSubscription=function(a,b,c){return this.$3(this.$1.createDataMessageSubscription(this.$2,a,b,c),d("ZenonSdkMethod").ZenonSdkMethod.CREATE_DATA_MESSAGE_SUBSCRIPTION)};b.removeDataMessageSubscription=function(a,b){return this.$3(this.$1.removeDataMessageSubscription(this.$2,a,b),d("ZenonSdkMethod").ZenonSdkMethod.REMOVE_DATA_MESSAGE_SUBSCRIPTION)};b.sendGenericDataMessage=function(a,b,c,e,f){f===void 0&&(f=d("ZenonTransportType").ZenonTransportType.SIGNALING);return this.$3(this.$1.sendGenericDataMessage(this.$2,a,b,c,e,f),d("ZenonSdkMethod").ZenonSdkMethod.SEND_GENERIC_DATA_MESSAGE)};b.submitRating=function(a,b,c,d){this.$1.submitRating(this.$2,a,b,c,d)};b.getConferenceName=function(){return this.$1.getConferenceName(this.$2)};b.getMediaMode=function(){return this.$1.getMediaMode(this.$2)};b.getSCTPDataChannelState=function(a){return this.$1.getSCTPDataChannelState(this.$2,a)};b.updateStateSyncTopic=function(a,b){return this.$3(this.$1.updateStateSyncTopic(this.$2,a,b),d("ZenonSdkMethod").ZenonSdkMethod.UPDATE_STATESYNC_TOPIC)};b.approveParticipants=function(a){return this.$3(this.$1.approveParticipants(this.$2,a),d("ZenonSdkMethod").ZenonSdkMethod.APPROVE_PARTICIPANTS)};b.denyParticipants=function(a){return this.$3(this.$1.denyParticipants(this.$2,a),d("ZenonSdkMethod").ZenonSdkMethod.DENY_PARTICIPANTS)};b.getSignalingProtocol=function(){return this.$1.getSignalingProtocol(this.$2)};b.getSdpFormat=function(){return this.$1.getSdpFormat(this.$2)};b.getEncryptionKeysManagerState=function(){return this.$1.getEncryptionKeysManagerState(this.$2)};b.endCall=function(a,b){return this.$3(this.$1.endCall(this.$2,a,b),d("ZenonSdkMethod").ZenonSdkMethod.END_CALL)};b.join=function(a){var b=this;return this.$3(this.$1.join(babelHelpers["extends"]({clientCallID:this.$2},a)),d("ZenonSdkMethod").ZenonSdkMethod.JOIN).then(function(){return b})};b.initLogging=function(a){this.$1.initializeLogging(this.$2,a)};b.getClientCallID_DEPRECATED=function(){return this.$2};b.$3=function(a,b,d){d===void 0&&(d={});var e=c("qpl")._(398989351,"1493"),f=c("Random").uint32();d.string?d.string.method=b:d.string={method:b};c("QuickPerformanceLogger").markerStart(e,f);c("QuickPerformanceLogger").markerAnnotate(e,d,{instanceKey:f});return a.then(function(){c("QuickPerformanceLogger").markerEnd(e,2,f)})["catch"](function(){c("QuickPerformanceLogger").markerEnd(e,87,f)})};return a}();g["default"]=a}),98);
__d("OverlayConfigLayer",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,b){this.$1=a,this.$2=b}var b=a.prototype;b.getLayerSource=function(){return this.$1};b.getValue=function(a){return this.$2[a]};b.logExposure=function(a){};return a}();f["default"]=a}),66);
__d("OverlayConfigLayerBuilder",["OverlayConfigConstants","OverlayConfigLayer","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.$1=new Array(b("OverlayConfigConstants").OverlayConfigNumParameters).fill(b("OverlayConfigConstants").OverlayConfigNotPresentFlagValue),this.$2=a}var c=a.prototype;c.build=function(){return new(b("OverlayConfigLayer"))(this.$2,this.$1)};c.$3=function(a,c){a>=b("OverlayConfigConstants").OverlayConfigNumParameters&&b("unrecoverableViolation")("Parameter ID passed in exceeds max parameter id","rtc_www"),this.$1[a]=c};c.$4=function(a,b){this.$3(a,b?1:0)};c.setExampleConfigEnabled=function(a){this.$4(0,a)};c.setExampleConfigSomeBoolean=function(a){this.$4(2,a)};c.setExampleConfigSomeOtherIntegerHasValue=function(a){this.$4(1724,a)};c.setExampleConfigSomeOtherBoolean=function(a){this.$4(2044,a)};c.setExampleConfigSomeInteger=function(a){this.$3(1,a)};c.setExampleConfigSomeOtherInteger=function(a){this.$3(3,a)};c.setExampleConfigSomeDouble=function(a){this.$3(2011,a)};c.setSimulcastOverSignalingConfigSimulcastOverSignalingEnabled=function(a){this.$4(651,a)};c.setZenonSdpTransformConfigPreserveH264=function(a){this.$4(244,a)};c.setZenonSdpTransformConfigPreferH264ForMwCall=function(a){this.$4(420,a)};c.setZenonSdpTransformConfigPreferSwH264=function(a){this.$4(421,a)};c.setZenonSdpTransformConfigAddAudioNack=function(a){this.$4(245,a)};c.setZenonSdpTransformConfigDisableOpusStereo=function(a){this.$4(246,a)};c.setZenonSdpTransformConfigPreferIsacForGroupAudio=function(a){this.$4(248,a)};c.setZenonSdpTransformConfigEnableOpusFmtpMunging=function(a){this.$4(1448,a)};c.setZenonSdpTransformConfigSetOpusUsedtx=function(a){this.$4(1444,a)};c.setZenonSdpTransformConfigSetOpusUseinbandfec=function(a){this.$4(1445,a)};c.setZenonSdpTransformConfigSetOpusMaxplaybackrate=function(a){this.$3(1446,a)};c.setZenonSdpTransformConfigSetOpusMaxaveragebitrate=function(a){this.$3(1447,a)};c.setZenonPeerConnectionConfigRtpDataChannels=function(a){this.$4(302,a)};c.setZenonStartCallImmediatelyConfigEnabled=function(a){this.$4(308,a)};c.setZenonGeneralizedIdentityConfigDuplicatedParticipantsProcessingMode=function(a){this.$3(1891,a)};c.setZenonMultiCallSupportConfigMaxConnectedCalls=function(a){this.$3(309,a)};c.setZenonPlatformSupportConfigSupportsZenonPlatform=function(a){this.$4(316,a)};c.setZenonPlatformSupportConfigStartImmediatelyEnabled=function(a){this.$4(318,a)};c.setZenonPlatformSupportConfigUploadSummaryOnCallEnded=function(a){this.$4(2251,a)};c.setZenonPlatformSupportConfigMultiwayAvEscalationEnabled=function(a){this.$4(1900,a)};c.setZenonPlatformSupportConfigMaxConnectedCalls=function(a){this.$3(317,a)};c.setZenonPlatformSupportConfigParentWindowConnectionTimeoutMs=function(a){this.$3(319,a)};c.setZenonSimulcastConfigSimulcastEnabled=function(a){this.$4(453,a)};c.setDynamicRuleConfigEnabled=function(a){this.$4(1342,a)};c.setDynamicRuleConfigDebugLoggingEnabled=function(a){this.$4(1597,a)};c.setDynamicRuleConfigDisableCallTypeConditional=function(a){this.$4(1821,a)};c.setDynamicRuleConfigDisableAbweSubscriber=function(a){this.$4(1820,a)};c.setDynamicRuleConfigProcessIntervalMs=function(a){this.$3(1359,a)};c.setDynamicRuleConfigNetworkProcessIntervalMs=function(a){this.$3(1510,a)};c.setDynamicRuleConfigDebugLoggingIntervalMs=function(a){this.$3(1612,a)};c.setSignalingPingConfigPingIntervalMs=function(a){this.$3(1470,a)};return a}();e.exports=a}),null);
__d("ChromeOverlayConfigLayer",["OverlayConfigLayerBuilder","OverlayConfigLayerSource","ZenonBrowsers"],(function(a,b,c,d,e,f,g){"use strict";a=function(){var a=new(c("OverlayConfigLayerBuilder"))(c("OverlayConfigLayerSource").BROWSER);a.setZenonSdpTransformConfigDisableOpusStereo(!0);a.setSimulcastOverSignalingConfigSimulcastOverSignalingEnabled(!0);a.setZenonPeerConnectionConfigRtpDataChannels(d("ZenonBrowsers").isDataChannelSupportedInMainPeerConnection());return a.build()}();b=a;g["default"]=b}),98);
__d("EdgeOverlayConfigLayer",["OverlayConfigLayerBuilder","OverlayConfigLayerSource"],(function(a,b,c,d,e,f,g){"use strict";a=function(){var a=new(c("OverlayConfigLayerBuilder"))(c("OverlayConfigLayerSource").BROWSER);a.setZenonSdpTransformConfigDisableOpusStereo(!0);return a.build()}();b=a;g["default"]=b}),98);
__d("FirefoxOverlayConfigLayer",["OverlayConfigLayerBuilder","OverlayConfigLayerSource"],(function(a,b,c,d,e,f,g){"use strict";a=function(){var a=new(c("OverlayConfigLayerBuilder"))(c("OverlayConfigLayerSource").BROWSER);a.setZenonSdpTransformConfigDisableOpusStereo(!0);return a.build()}();b=a;g["default"]=b}),98);
__d("OperaOverlayConfigLayer",["OverlayConfigLayerBuilder","OverlayConfigLayerSource","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=function(){var a=new(c("OverlayConfigLayerBuilder"))(c("OverlayConfigLayerSource").BROWSER);a.setZenonSdpTransformConfigDisableOpusStereo(!0);a.setZenonSdpTransformConfigPreserveH264(c("gkx")("1406693"));return a.build()}();b=a;g["default"]=b}),98);
__d("ZenonOverlayConfigManager",["ChromeOverlayConfigLayer","EdgeOverlayConfigLayer","FirefoxOverlayConfigLayer","OperaOverlayConfigLayer","OverlayConfigManager","RTWebSignalingListener","UserAgentData"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.$1=a;this.$2=new(c("OverlayConfigManager"))();var b={Chrome:c("ChromeOverlayConfigLayer"),"Edge (Chromium Based)":c("EdgeOverlayConfigLayer"),Firefox:c("FirefoxOverlayConfigLayer"),Opera:c("OperaOverlayConfigLayer")};b=b[c("UserAgentData").browserName];b&&this.$2.layerManager.addLayer(b);a.appConfig&&this.$2.layerManager.addLayer(a.appConfig)}var b=a.prototype;b.getRelayEnvironment=function(){return this.$1.relayEnvironment};b.getSignalingListener=function(){var a;return(a=this.$1.signalingListener)!=null?a:new(c("RTWebSignalingListener"))()};b.getConfigManager=function(){return this.$2};return a}();g["default"]=a}),98);
__d("ZenonSignalingIDType",["randomInt"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return a}function b(){return c("randomInt")(0,4294967294)+1}g.convertNumberToZenonSignalingID=a;g.generateZenonSignalingID=b}),98);
__d("ZenonCallSDK",["EventEmitter","ZenonCallInstanceSDK","ZenonCallsManager","ZenonCallsModelEmitter","ZenonOverlayConfigManager","ZenonSignalingIDType","ZenonTransportEventEmitter"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var e;e=a.call(this)||this;b=new(c("ZenonOverlayConfigManager"))(b);e.$ZenonCallSDK1=new(c("ZenonCallsManager"))(b);d("ZenonCallsModelEmitter").CallsModelEmitterInstance.addListener("callsModelUpdate",function(a){e.emit("callsModelUpdate",a)});c("ZenonTransportEventEmitter").addListener("transportPlatformEvent",function(a){e.emit("signalingEvent",a)});return e}var e=b.prototype;e.initSignaling=function(a,b,c,d){this.$ZenonCallSDK1.initializeSignaling(a,b,c,d)};e.createCall=function(){var a=String(d("ZenonSignalingIDType").generateZenonSignalingID());return new(c("ZenonCallInstanceSDK"))(a,this.$ZenonCallSDK1)};e.getCallInstance=function(a){return new(c("ZenonCallInstanceSDK"))(a,this.$ZenonCallSDK1)};e.getCurrentCallsModel=function(){return d("ZenonCallsModelEmitter").CallsModelEmitterInstance.getCallsModel()};e.setRatingImpression_DEPRECATED=function(a,b,c){b===void 0&&(b=!1),c===void 0&&(c=!1),this.$ZenonCallSDK1.setRatingImpression(b,c)};e.updateRenderedResolutionMap=function(a){this.$ZenonCallSDK1.updateRenderedResolutionMap(a)};return b}(c("EventEmitter"));g["default"]=a}),98);
__d("ZenonLocalMediaContext",["react"],(function(a,b,c,d,e,f,g){"use strict";a=d("react");b=a.createContext({audioTrack:null,screenAudioTrack:null,screenVideoTrack:null,videoTrack:null});g["default"]=b}),98);
__d("ZenonAppFeaturesUtils",["UserAgent"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("UserAgent").isBrowser("Firefox >= 60")&&!c("UserAgent").isPlatform("Windows")?!1:!0}g.shouldStopVideoWhenMute=a}),98);
__d("ZenonLocalMediaManagerUtils",["$InternalEnum","FBLogger","ODS","ZenonMediaActionLogger","ZenonMediaLoggingUtils","ZenonMediaUtils","err","qex"],(function(a,b,c,d,e,f,g){"use strict";var h="zenon_local_media_manager_v3",i=b("$InternalEnum")({ENDED:"ended",MUTE:"mute",UNMUTE:"unmute"});b=b("$InternalEnum")({DISPLAY:"display",USER:"user"});function a(a,b,d,e,f){e===void 0&&(e=!1);return a.getTracks().map(function(g){var h={contentHint:g.kind==="audio"?b.contentHint:d.contentHint,isRemote:!1,isUserMuted:!1,stream:a,trackType:e&&g.kind==="video"?"screen":e&&g.kind==="audio"?"screen_audio":void 0};return c("ZenonMediaUtils").convertToZenonImmutableMediaTrack(g,h,null,(g=f)!=null?g:"")})}function e(a){var b=a.aspectRatio,d=a.frameRate,e=a.height;a=a.width;if((d==null?void 0:d.exact)!=null&&((d==null?void 0:d.exact)<0||(d==null?void 0:d.exact)>60)||(d==null?void 0:d.min)!=null&&((d==null?void 0:d.min)<0||(d==null?void 0:d.min)>60)||(d==null?void 0:d.max)!=null&&((d==null?void 0:d.max)<0||(d==null?void 0:d.max)>60)||(d==null?void 0:d.ideal)!=null&&((d==null?void 0:d.ideal)<0||(d==null?void 0:d.ideal)>60))throw c("err")("The frame rate must be between: 0 and 60");if((e==null?void 0:e.exact)!=null&&(e==null?void 0:e.exact)<1||(e==null?void 0:e.min)!=null&&(e==null?void 0:e.min)<1||(e==null?void 0:e.max)!=null&&(e==null?void 0:e.max)<1||(e==null?void 0:e.ideal)!=null&&(e==null?void 0:e.ideal)<1)throw c("err")("The height of the video must be at least 1");if((a==null?void 0:a.exact)!=null&&(a==null?void 0:a.exact)<1||(a==null?void 0:a.min)!=null&&(a==null?void 0:a.min)<1||(a==null?void 0:a.max)!=null&&(a==null?void 0:a.max)<1||(a==null?void 0:a.ideal)!=null&&(a==null?void 0:a.ideal)<1)throw c("err")("The width of the video must be at least 1");if((b==null?void 0:b.exact)!=null&&(b==null?void 0:b.exact)<0||(b==null?void 0:b.min)!=null&&(b==null?void 0:b.min)<0||(b==null?void 0:b.max)!=null&&(b==null?void 0:b.max)<0||(b==null?void 0:b.ideal)!=null&&(b==null?void 0:b.ideal)<1)throw c("err")("The aspect ratio cannot be negative")}function f(a,b,d){b.getTracks().forEach(function(b){var e=b.id,f=b.kind;b.addEventListener(a,function(){c("ZenonMediaActionLogger").logEvent({checkpoint:f+": "+e+" fired "+a+" event for "+d+" media"})})})}function j(a,b,c){o(a),p(a),q(a),n(a,b,c)}function k(a,b,d){c("ZenonMediaActionLogger").logErrorToFbLogger(b,String(d),c("err")("GetUserMedia"),"warn");typeof d==="object"&&((d==null?void 0:d.name)==="Error"||(d==null?void 0:d.name)==="TypeError")&&c("FBLogger")("rtc_www").catching(d).mustfix("TypeError in getUserMedia");a=a==="Audio"?"GetUserMedia_Audio_Error":a==="Video"?"GetUserMedia_Video_Error":"GetUserMedia_No_Media_Error";c("ZenonMediaActionLogger").logErrorToFbLogger(b,String(d),c("err")(a),"warn")}function l(){var a;return(a=c("qex")._("139"))!=null?a:!1}function m(a){var b="Supported capabilities: "+JSON.stringify(a.getCapabilities==null?void 0:a.getCapabilities());a="Applied settings: "+JSON.stringify(a.getSettings==null?void 0:a.getSettings());return[b,a].join(" - ")}function n(a,b,e){a.getTracks().forEach(function(a){c("ZenonMediaActionLogger").logEvent({checkpoint:m(a)});var f=a.getSettings==null?void 0:a.getSettings();if(f==null)return;var g=[];if(a.kind==="audio"&&b!==void 0){if(b.echoCancellation!==void 0&&f.echoCancellation!==b.echoCancellation){var i;g.push("echoCancellation given("+JSON.stringify(b.echoCancellation)+") actual("+JSON.stringify((i=f.echoCancellation)!=null?i:"undefined")+")");d("ODS").bumpEntityKey(4272,h,"non_matching_constraints.audio")}}else if(a.kind==="video"&&e!==void 0){if(f.frameRate!==void 0&&((i=e.frameRate)==null?void 0:i.ideal)!==f.frameRate){g.push("frameRate given("+((i=(a=e.frameRate)==null?void 0:a.ideal)!=null?i:"undefined")+") actual("+f.frameRate+")");d("ODS").bumpEntityKey(4272,h,"non_matching_constraints.video")}if(f.aspectRatio!==void 0&&((a=e.aspectRatio)==null?void 0:a.ideal)!==f.aspectRatio){g.push("aspectRatio given("+((a=(i=e.aspectRatio)==null?void 0:i.ideal)!=null?a:"undefined")+") actual("+f.aspectRatio+")");d("ODS").bumpEntityKey(4272,h,"non_matching_constraints.video")}}g.length&&c("ZenonMediaActionLogger").logCheckpoint("WARNING: Requested and applied constraints do not match for "+g.join("-"))})}function o(a){a.getVideoTracks().some(function(a){return"canvas"in a})&&c("ZenonMediaActionLogger").logEvent({checkpoint:"[ZP] CanvasCaptureMediaStreamTrack is present which indicates an extension"})}function p(a){var b=a.getTracks().map(c("ZenonMediaLoggingUtils").serializeMediaStreamTrack);c("ZenonMediaActionLogger").logEvent({checkpoint:'GetUserMedia returned stream with id "'+a.id+'" and tracks: ['+b.join(", ")+"]",mediaID:a.id})}function q(a){a=a.getVideoTracks();a=a[0];(a==null?void 0:a.muted)===!0&&c("ZenonMediaActionLogger").logErrorToFbLogger('GetUserMedia returned muted video track with id "'+a.id+'"',"MutedVideoTrack",c("err")("MutedVideoTrack"),"warn")}g.LocalMediaEvents=i;g.LocalMediaTypeCheckpoint=b;g.convertToZenonImmutableMediaTrack=a;g.validateVideoConstraints=e;g.addEventListenerForEvent=f;g.logEventsForMediaStream=j;g.logMediaErrors=k;g.shouldUseLocalMediaRefactor=l}),98);
__d("ZenonGetDisplayMediaUtils",["CollabRTCChromeScreenSharing","CollabRTCChromeScreenSharingExtension","Promise","RTCChromeScreenSharingUtils","UserAgent","ZenonMediaActionLogger","err","webrtc-adapter"],(function(a,b,c,d,e,f,g){"use strict";var h=/\{\s*\[native code\]\s*\}/,i="GetDisplayMedia";function j(){return c("UserAgent").isBrowser("Edge >= 17")||c("UserAgent").isBrowser("Firefox >= 33")||c("UserAgent").isBrowser("Opera >= 60")||c("UserAgent").isBrowser("Chrome")||c("UserAgent").isBrowser("Edge (Chromium Based)")||c("UserAgent").isBrowser("Safari >= 13")}function k(){var a;a=(a=navigator)==null?void 0:(a=a.mediaDevices)==null?void 0:a.getDisplayMedia;return typeof a==="function"&&h.test(a.toString())}function l(){var a;a=(a=navigator)==null?void 0:(a=a.mediaDevices)==null?void 0:a.getSupportedConstraints==null?void 0:a.getSupportedConstraints();return a!=null&&typeof a==="object"&&a.mediaSource===!0}function m(){return c("UserAgent").isBrowser("Chrome < 72")}function a(a){if(m()&&!c("CollabRTCChromeScreenSharingExtension").isInstalled()){var d=c("err")("EXTENSION_NOT_FOUND");c("ZenonMediaActionLogger").logErrorToFbLogger("ZenonGetDisplayMediaUtils: Screen sharing extension not found",i,d,"warn");return b("Promise").reject(d)}if(!j()){d=c("err")("SCREEN_SHARING_NOT_SUPPORTED");c("ZenonMediaActionLogger").logErrorToFbLogger("ZenonGetDisplayMediaUtils: Screen sharing not supported",i,d,"warn");return b("Promise").reject(d)}d=navigator.mediaDevices;if(d==null||typeof d.getDisplayMedia!=="function"){var e=c("err")("GET_DISPLAY_MEDIA_NOT_FOUND");c("ZenonMediaActionLogger").logErrorToFbLogger("ZenonGetDisplayMediaUtils: Display media not found",i,e,"warn");return b("Promise").reject(e)}return d.getDisplayMedia(a)["catch"](function(a){c("ZenonMediaActionLogger").logErrorToFbLogger("ZenonGetDisplayMediaUtils: Error while getting display media",i,a,"warn");throw a})}function e(){return k()||l()}function f(){var a;if(typeof (c("webrtc-adapter")==null?void 0:(a=c("webrtc-adapter").browserShim)==null?void 0:a.shimGetDisplayMedia)==="function"){if(c("UserAgent").isBrowser("Firefox")){c("webrtc-adapter").browserShim.shimGetDisplayMedia(window,"screen");return}if(c("UserAgent").isBrowser("Chrome")||c("UserAgent").isBrowser("Edge (Chromium Based)")){c("webrtc-adapter").browserShim.shimGetDisplayMedia(window,function(){return d("CollabRTCChromeScreenSharing").getSourceID(void 0,d("RTCChromeScreenSharingUtils").getMediaRequestSourceAppId())});return}c("webrtc-adapter").browserShim.shimGetDisplayMedia(window)}}g.getUserScreenMedia=a;g.isNativeScreenSharingSupported=e;g.shimGetDisplayMedia=f}),98);
__d("ZenonMediaDevicesUtils",["Promise","RpWebBlockedVirtualAudioDevicesConfig","ZenonMediaActionLogger","err"],(function(a,b,c,d,e,f,g){"use strict";var h="default";function a(){if(navigator.mediaDevices!=null&&typeof navigator.mediaDevices.enumerateDevices==="function"){var a=b("Promise").resolve(navigator.mediaDevices.enumerateDevices());return l(a).then(function(a){c("ZenonMediaActionLogger").logCheckpoint("enumerateDevices - navigator.mediaDevices "+JSON.stringify(a));return a})}return b("Promise").reject(c("err")("enumerateDevices() not supported"))}function e(a){var b=a.find(function(a){return a.id===h}),c=b!=null&&b.groupId!==""&&b.label!=="";return c?a.filter(function(a){return!((b==null?void 0:b.groupId)===a.groupId&&(b==null?void 0:b.id)!==a.id&&(b==null?void 0:b.label.includes(a.label)))}):a}function f(a,b){var c,d=[];c=(c=a.find(function(a){return a.id===b}))!=null?c:null;c!=null&&d.push(c);c=(c=a.find(function(a){return a.id===h&&a.id!==b}))!=null?c:null;c!=null&&d.push(c);c=a.filter(function(a){return a.id!==h&&a.id!==b}).sort(function(a,b){return a.label>b.label?1:-1});d.push.apply(d,c);return d}function i(a,b){var c,d=[];c=(c=a.find(function(a){return a.id===b}))!=null?c:null;c!=null&&d.push(c);var e=(c=a.find(function(a){return a.label.includes("Built-in")&&a.id!==b}))!=null?c:null;e!=null&&d.push(e);c=a.filter(function(a){return a.id!==(e==null?void 0:e.id)&&a.id!==b}).sort(function(a,b){return a.label>b.label?1:-1});d.push.apply(d,c);return d}function j(a,b){var c;c=(c=a.find(function(a){return a.id===h}))!=null?c:null;a=(a=a.find(function(a){return a.id===b}))!=null?a:null;return b!=null&&c!=null&&a!=null&&(c==null?void 0:c.groupId)===(a==null?void 0:a.groupId)&&(c==null?void 0:c.id)!==(a==null?void 0:a.id)&&(c==null?void 0:c.label.includes(a==null?void 0:a.label))?c==null?void 0:c.id:b}function k(a,b,c){return a.filter(function(a){return a.id===h||b!=null&&b!==""&&a.id===b||c!=null&&c!==""&&a.id===c||!d("RpWebBlockedVirtualAudioDevicesConfig").blockedDevices.includes(a.label)})}function l(a){return a.then(function(a){return a.map(function(a){var b=a.deviceId,c=a.groupId,d=a.kind;a=a.label;return{groupId:c,id:b,kind:d,label:a}})})}g.CHROMIUM_BROWSER_DEFAULT_ID=h;g.enumerateDevices=a;g.filterDuplicateDefaultDevices=e;g.sortAudioDevices=f;g.sortVideoDevices=i;g.updateSelectedDeviceWhenMatchesWithDefault=j;g.filterVirtualAudioDevices=k;g.convertToZenonMediaDevice=l}),98);
__d("ZenonWebRTCWrapper",["invariant","BrowserFeatureInstrumentation","FBLogger","asyncToGeneratorRuntime","cr:1284813","performanceNow","webrtc-adapter"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){c("webrtc-adapter")==null&&c("FBLogger")("rtc_www").mustfix("Webrtc-adapter should be loaded");var d=navigator;d=d.mediaDevices;d!=null||h(0,14422);var e=c("performanceNow")();d=(yield d.getUserMedia(a));b("cr:1284813")&&b("cr:1284813").measureModern("getUserMedia",{end:c("performanceNow")(),start:e});c("BrowserFeatureInstrumentation")("microphone","ZenonWebRTCWrapper");c("BrowserFeatureInstrumentation")("camera","ZenonWebRTCWrapper");return d});return i.apply(this,arguments)}g.getUserMedia=a}),98);
__d("ZenonLocalMediaManager",["invariant","$InternalEnum","FBLogger","Log","ODS","Promise","ZenonGetDisplayMediaUtils","ZenonMediaActionLogger","ZenonMediaDevicesUtils","ZenonMediaLoggingUtils","ZenonMediaUtils","ZenonWebRTCWrapper","asyncToGeneratorRuntime","err","gkx","uuidv4"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=b("$InternalEnum")({ENDED:"ended",MUTE:"mute",UNMUTE:"unmute"}),k=b("$InternalEnum")({DISPLAY:"display",USER:"user"}),l={frameRate:{min:5}};typeof ((i=window.OverconstrainedError)==null?void 0:(i=i.prototype)==null?void 0:i.toString)==="function"&&(window.OverconstrainedError.prototype.toString=function(){return this.name+": "+this.message+" - Constraint: "+this.constraint});var m=1,n="zenon_local_media_manager";function o(a){return p.apply(this,arguments)}function p(){p=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=(yield d("ZenonWebRTCWrapper").getUserMedia(a)),e=b.getVideoTracks();e=e[0];if((e==null?void 0:e.muted)===!0){c("ZenonMediaActionLogger").logEvent({checkpoint:'Retry getUserMedia on muted video track: "'+e.id+'"',mediaID:e.id});b.getTracks().forEach(function(a){a.stop()});b=(yield d("ZenonWebRTCWrapper").getUserMedia(a));e=b.getVideoTracks();a=e[0];(a==null?void 0:a.muted)===!0&&c("ZenonMediaActionLogger").logEvent({checkpoint:"Video track is still muted after retrying getUserMedia",mediaID:a.id})}return b});return p.apply(this,arguments)}function q(a,b){return r.apply(this,arguments)}function r(){r=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var d=A(a,b),e=a.requestAudio,f=b.requestVideo,g="GetUserMedia: "+JSON.stringify({audioConstraints:d.audio,tx:c("uuidv4")(),videoConstraints:d.video});c("ZenonMediaActionLogger").logEvent({checkpoint:g});try{var h=(yield o(d));[j.ENDED,j.MUTE,j.UNMUTE].forEach(function(a){E(a,h,k.USER)});F(h,a,b);return D(h,a,b)}catch(a){try{yield L(e,f,d,g,a);throw a}catch(b){throw a}}});return r.apply(this,arguments)}function a(){a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var d=A(a,b),e=a.requestAudio,f=b.requestVideo,g="GetUserMediaApplyConstraints: "+JSON.stringify({audioConstraints:a,tx:c("uuidv4")(),videoConstraints:b});c("ZenonMediaActionLogger").logEvent({checkpoint:g});try{var i=d.video,l=f===!0&&i!==!0,m=l?s(b):b;m=A(a,m);var n=(yield o(m));[j.ENDED,j.MUTE,j.UNMUTE].forEach(function(a){E(a,n,k.USER)});F(n,a,b);if(l){m=n.getVideoTracks();if(m.length<1)c("FBLogger")("rtc_www").mustfix("ZenonLocalMediaManager: The media stream does not contain any video tracks");else try{typeof i==="object"||h(0,23909);l=m[0];m=l.getSettings==null?void 0:l.getSettings();yield l.applyConstraints(i);i=l.getSettings==null?void 0:l.getSettings();N(m,i,g);O(m,i,g)}catch(a){c("ZenonMediaActionLogger").logErrorToFbLogger(g,String(a),c("err")("MediaStreamTrack_ApplyConstraints"),"warn")}}return D(n,a,b)}catch(a){try{yield L(e,f,d,g,a);throw a}catch(b){throw a}}});return a.apply(this,arguments)}function s(a){var b=a.aspectRatio,c=a.deviceId,d=a.facingMode,e=a.requestVideo;a=a.resizeMode;e={requestVideo:e};b!==void 0&&(e.aspectRatio=b);c!==void 0&&(e.deviceId=c);d!==void 0&&(e.facingMode=d);e.resizeMode=a!==void 0?a:{ideal:"none"};return e}function e(a){return t.apply(this,arguments)}function t(){t=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=(yield d("ZenonMediaDevicesUtils").enumerateDevices());b=b.map(function(a){return{groupId:a.groupId,id:a.id,kind:a.kind,label:a.label}});return a!=null?b.filter(function(b){return b.kind===a}):b});return t.apply(this,arguments)}function f(a,b,c){return u.apply(this,arguments)}function u(){u=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e){var f;c("ZenonMediaActionLogger").logEvent({checkpoint:"GetDisplayMedia audioConstraints: "+JSON.stringify(a)+" videoConstraints: "+JSON.stringify(b)});var g=(yield d("ZenonGetDisplayMediaUtils").getUserScreenMedia(A(a,b))),h=g.getVideoTracks();if(c("gkx")("5970")&&typeof ((f=window.MediaStreamTrack)==null?void 0:(f=f.prototype)==null?void 0:f.applyConstraints)==="function"&&h.length)try{yield h[0].applyConstraints(l)}catch(a){c("ZenonMediaActionLogger").logErrorToFbLogger("GetDisplayMediaApplyConstraints "+JSON.stringify(l),String(a),c("err")("GetDisplayMedia_ApplyConstraints"),"warn")}[j.ENDED,j.MUTE,j.UNMUTE].forEach(function(a){E(a,g,k.DISPLAY)});return D(g,a,b,!0,e)});return u.apply(this,arguments)}function v(a,b){return w.apply(this,arguments)}function w(){w=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var e=0;while(e<m)try{return yield q(a,b)}catch(f){d("Log").debug("getUserMediaRetry error: "+String(f));e++;if(f&&f.name==="NotReadableError"&&c("gkx")("1723"))return z(a,b,f)}return q(a,b)});return w.apply(this,arguments)}function x(a,b){return y.apply(this,arguments)}function y(){y=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){try{c("ZenonMediaActionLogger").logEvent({checkpoint:"GetUserMediaWithFallback audioConstraints: "+JSON.stringify(a)+" videoConstraints: "+JSON.stringify(b)});d("ODS").bumpEntityKey(4272,n,"gum_with_fallback.attempt");return yield v(a,b)}catch(c){d("ODS").bumpEntityKey(4272,n,"gum_with_fallback.no_retry_fallback");return z(a,b,c)}});return y.apply(this,arguments)}function z(a,b,d){if(b.requestVideo)if(d.name==="OverconstrainedError"&&Object.keys(b).length>1){c("ZenonMediaActionLogger").logErrorToFbLogger("Removing video constraints: "+JSON.stringify(b),d.toString(),c("err")("GetUserMedia"),"warn");return x(a,{requestVideo:!0})}else if(d.name==="NotReadableError"){c("ZenonMediaActionLogger").logErrorToFbLogger("Fallback can't start video. Removing video constraints: "+JSON.stringify(b),d.toString(),c("err")("GetUserMedia"),"warn");return x(a,{requestVideo:!0})}else if(d.name==="NotFoundError"||d.name==="StreamFailedToStart"){c("ZenonMediaActionLogger").logErrorToFbLogger("Fallback to audio-only",d.toString(),c("err")("GetUserMedia"),"warn");return v(a,{requestVideo:!1})}throw d}function A(a,b){return{audio:B(a),video:C(b)}}function B(a){var b=a.requestAudio;a=babelHelpers.objectWithoutPropertiesLoose(a,["requestAudio"]);return b===!1?!1:Object.keys(a).length>0?a:!0}function C(a){var b=a.requestVideo;a=babelHelpers.objectWithoutPropertiesLoose(a,["requestVideo"]);if(b===!1)return!1;if(Object.keys(a).length===0)return!0;b=a.facingMode;a=babelHelpers.objectWithoutPropertiesLoose(a,["facingMode"]);a=babelHelpers["extends"]({},a);b!=null&&(a.facingMode={ideal:b});return a}function D(a,b,d,e,f){e===void 0&&(e=!1);return a.getTracks().map(function(g){var h={contentHint:g.kind==="audio"?b.contentHint:d.contentHint,isRemote:!1,isUserMuted:!1,stream:a,trackType:e&&g.kind==="video"?"screen":e&&g.kind==="audio"?"screen_audio":void 0};return c("ZenonMediaUtils").convertToZenonImmutableMediaTrack(g,h,null,(g=f)!=null?g:"")})}function E(a,b,d){b.getTracks().forEach(function(b){var e=b.id,f=b.kind;b.addEventListener(a,function(){c("ZenonMediaActionLogger").logEvent({checkpoint:f+": "+e+" fired "+a+" event for "+d+" media"})})})}function F(a,b,c){I(a),J(a),K(a),G(a,b,c)}function G(a,b,e){a.getTracks().forEach(function(a){c("ZenonMediaActionLogger").logEvent({checkpoint:H(a)});var f=a.getSettings==null?void 0:a.getSettings();if(f==null)return;var g=[];if(a.kind==="audio"&&b!==void 0){if(b.echoCancellation!==void 0&&f.echoCancellation!==b.echoCancellation){var h;g.push("echoCancellation given("+JSON.stringify(b.echoCancellation)+") actual("+JSON.stringify((h=f.echoCancellation)!=null?h:"undefined")+")");d("ODS").bumpEntityKey(4272,n,"non_matching_constraints.audio")}}else if(a.kind==="video"&&e!==void 0){if(f.frameRate!==void 0&&((h=e.frameRate)==null?void 0:h.ideal)!==f.frameRate){g.push("frameRate given("+((h=(a=e.frameRate)==null?void 0:a.ideal)!=null?h:"undefined")+") actual("+f.frameRate+")");d("ODS").bumpEntityKey(4272,n,"non_matching_constraints.video")}if(f.aspectRatio!==void 0&&((a=e.aspectRatio)==null?void 0:a.ideal)!==f.aspectRatio){g.push("aspectRatio given("+((a=(h=e.aspectRatio)==null?void 0:h.ideal)!=null?a:"undefined")+") actual("+f.aspectRatio+")");d("ODS").bumpEntityKey(4272,n,"non_matching_constraints.video")}}g.length&&c("ZenonMediaActionLogger").logCheckpoint("WARNING: Requested and applied constraints do not match for "+g.join("-"))})}function H(a){var b="Supported capabilities: "+JSON.stringify(a.getCapabilities==null?void 0:a.getCapabilities());a="Applied settings: "+JSON.stringify(a.getSettings==null?void 0:a.getSettings());return[b,a].join(" - ")}function I(a){a.getVideoTracks().some(function(a){return"canvas"in a})&&c("ZenonMediaActionLogger").logEvent({checkpoint:"[ZP] CanvasCaptureMediaStreamTrack is present which indicates an extension"})}function J(a){var b=a.getTracks().map(c("ZenonMediaLoggingUtils").serializeMediaStreamTrack);c("ZenonMediaActionLogger").logEvent({checkpoint:'GetUserMedia returned stream with id "'+a.id+'" and tracks: ['+b.join(", ")+"]",mediaID:a.id})}function K(a){a=a.getVideoTracks();a=a[0];(a==null?void 0:a.muted)===!0&&c("ZenonMediaActionLogger").logErrorToFbLogger('GetUserMedia returned muted video track with id "'+a.id+'"',"MutedVideoTrack",c("err")("MutedVideoTrack"),"warn")}function L(a,b,c,d,e){return M.apply(this,arguments)}function M(){M=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f,g,h){c("ZenonMediaActionLogger").logErrorToFbLogger(g,String(h),c("err")("GetUserMedia"),"warn");typeof h==="object"&&((h==null?void 0:h.name)==="Error"||(h==null?void 0:h.name)==="TypeError")&&c("FBLogger")("rtc_www").catching(h).mustfix("TypeError in getUserMedia");if(a===!0&&e===!0)try{f=(yield b("Promise").allSettled([d("ZenonWebRTCWrapper").getUserMedia({audio:f.audio,video:!1}),d("ZenonWebRTCWrapper").getUserMedia({audio:!1,video:f.video})]));var i=f[0];f=f[1];i.status==="fulfilled"?i.value.getTracks().forEach(function(a){a.stop()}):c("ZenonMediaActionLogger").logErrorToFbLogger(g,String(i.reason),c("err")("GetUserMedia_Audio_Error"),"warn");f.status==="fulfilled"?f.value.getTracks().forEach(function(a){a.stop()}):c("ZenonMediaActionLogger").logErrorToFbLogger(g,String(f.reason),c("err")("GetUserMedia_Video_Error"),"warn")}catch(a){c("FBLogger")("rtc_www").catching(a).mustfix("Error diagnosing getUserMedia errors in local media manager")}else{i=a===!0?"GetUserMedia_Audio_Error":e===!0?"GetUserMedia_Video_Error":"GetUserMedia_No_Media_Error";c("ZenonMediaActionLogger").logErrorToFbLogger(g,String(h),c("err")(i),"warn")}});return M.apply(this,arguments)}function N(a,b,d){if(a===null||b===null)return;a=a.aspectRatio;b=b.aspectRatio;a!==void 0&&b!==void 0&&a.toFixed(2)!==b.toFixed(2)&&c("ZenonMediaActionLogger").logErrorToFbLogger(d,String(c("err")("Aspect ratio before: "+a+"\nAspect ratio after: "+b)),c("err")("MediaStreamTrack_ApplyConstraints_Aspect_Ratio_MistMatch"),"warn")}function O(a,b,d){if(a===null||b===null)return;a=a.resizeMode;b=b.resizeMode;a!==void 0&&b!==void 0&&b!==a&&c("ZenonMediaActionLogger").logErrorToFbLogger(d,String(c("err")("Resize mode before: "+a+"\nResize mode after: "+b)),c("err")("MediaStreamTrack_ApplyConstraints_Resize_Mode_MistMatch"),"warn")}d("ZenonGetDisplayMediaUtils").shimGetDisplayMedia();g.Events=j;g.getDevices=e;g.getDisplayMedia=f;g.getUserMedia=v;g.getUserMediaWithFallback=x;g.adaptAudioConstraints=B;g.adaptVideoConstraints=C;g.mediaSettingsToString=H}),98);
__d("ZenonLocalMediaSDK",["FBLogger","ZenonLocalMediaManager","ZenonMediaDevicesUtils","asyncToGeneratorRuntime","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h=[];function a(){return h.filter(function(a){return a.webrtcTrack.readyState==="live"})}function i(a){h=h.concat(a)}function e(a,b,c){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){a=(yield d("ZenonLocalMediaManager").getDisplayMedia(a,b,c));i(a);return a});return j.apply(this,arguments)}function f(a,b){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){s(a);a=(yield d("ZenonLocalMediaManager").getUserMedia(a,b));i(a);return a});return k.apply(this,arguments)}function l(a,b){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){s(a);a=(yield d("ZenonLocalMediaManager").getUserMediaWithFallback(a,b));i(a);return a});return m.apply(this,arguments)}function n(a){return d("ZenonLocalMediaManager").getDevices(a)}function o(){return p.apply(this,arguments)}function p(){p=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield d("ZenonMediaDevicesUtils").enumerateDevices());return{canUseAudio:u(a),canUseVideo:t(a)}});return p.apply(this,arguments)}function q(){return r.apply(this,arguments)}function r(){r=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){try{var a;if(typeof ((a=navigator.permissions)==null?void 0:a.query)==="function"){a=(yield navigator.permissions.query({name:"microphone"}));a=a.state;return a==="granted"}}catch(a){c("FBLogger")("rtc_www").catching(a).warn("isMicrophoneAccessGranted")}a=(yield o());a=a.canUseAudio;return a});return r.apply(this,arguments)}function s(a){if(c("gkx")("251")&&a.requestAudio){a=h.filter(function(a){return a.webrtcTrack.readyState==="live"&&a.contentType==="audio"});a.forEach(function(a){return a.webrtcTrack.stop()})}}function t(a){return a.some(function(a){return a.kind==="videoinput"&&a.label.length>0&&a.id.length>0})}function u(a){return a.some(function(a){return a.kind==="audioinput"&&a.label.length>0&&a.id.length>0})}g.getActiveLocalMediaTracks=a;g.getDisplayMedia=e;g.getUserMedia=f;g.getUserMediaWithFallback=l;g.getDevices=n;g.getAvailableMediaPermission=o;g.isMicrophoneAccessGranted=q}),98);
__d("ZenonLocalMediaTypesV3",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a={MUTE_DETECTION_AUDIO:"muteDetectionAudio",PREVIEW_AUDIO:"previewAudio",PRIMARY_AUDIO:"audio"};c={PREVIEW_VIDEO:"previewVideo",PRIMARY_VIDEO:"video"};d={SCREEN:"screen",SCREEN_AUDIO:"screenAudio"};e=babelHelpers["extends"]({},a,c,d);var g=b("$InternalEnum").Mirrored(["None","RelaxConstraints"]);b=b("$InternalEnum").Mirrored(["Strong","Weak"]);f.AudioTrackTypeMap=a;f.VideoTrackTypeMap=c;f.ScreenTrackTypeMap=d;f.TrackType=e;f.ZenonLocalMediaFallbackStrategy=g;f.ZenonLocalMediaOwnershipType=b}),66);
__d("ZenonLocalMediaManagerV3",["CancelablePromise","EventEmitter","Log","ODS","ZenonAppFeaturesUtils","ZenonLocalMediaManagerUtils","ZenonLocalMediaSDK","ZenonLocalMediaTypesV3","ZenonMediaActionLogger","ZenonWebRTCWrapper","asyncToGeneratorRuntime","err","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h=1,i="zenon_local_media_manager_v3";a=function(a){babelHelpers.inheritsLoose(e,a);function e(){var b;b=a.call(this)||this;b.$ZenonLocalMediaManagerV35={audioConstraints:Object.freeze({}),videoConstraints:Object.freeze({})};b.$ZenonLocalMediaManagerV31={};b.$ZenonLocalMediaManagerV32={};b.$ZenonLocalMediaManagerV33={audio:null,muteDetectionAudio:null,previewAudio:null,previewVideo:null,screen:null,screenAudio:null,video:null};b.$ZenonLocalMediaManagerV34={audio:null,muteDetectionAudio:null,previewAudio:null,previewVideo:null,screen:null,screenAudio:null,video:null};b.$ZenonLocalMediaManagerV36={audio:0,previewAudio:0,previewVideo:0,video:0};d("ZenonLocalMediaManagerUtils").shouldUseLocalMediaRefactor()&&c("ZenonMediaActionLogger").logCheckpoint("[ZenonLocalMediaManagerV3] Participant is using refactored local media");return b}var f=e.prototype;f.retain=function(a){a=d("ZenonLocalMediaTypesV3").TrackType[a];this.$ZenonLocalMediaManagerV36[a]++};f.release=function(a){var b=d("ZenonLocalMediaTypesV3").TrackType[a];this.$ZenonLocalMediaManagerV36[b]--;this.$ZenonLocalMediaManagerV36[b]<0&&(c("ZenonMediaActionLogger").logCheckpoint("[ZenonLocalMediaManagerV3] Attempted to decrement retain count on "+b+" more than it was retained. This indicates a bug in our codebase."),this.$ZenonLocalMediaManagerV36[b]=0);this.$ZenonLocalMediaManagerV36[b]===0&&this.$ZenonLocalMediaManagerV37(a)};f.setLocalAudio=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){var e=this;a=d("ZenonLocalMediaTypesV3").TrackType[a];try{var f;f=this.$ZenonLocalMediaManagerV38((f=c)!=null?f:{},{});var g=f.audioConstraints;f=f.videoConstraints;var h;switch(b){case d("ZenonLocalMediaTypesV3").ZenonLocalMediaFallbackStrategy.None:this.$ZenonLocalMediaManagerV39(a);h=(yield this.$ZenonLocalMediaManagerV310(a,this.$ZenonLocalMediaManagerV311(babelHelpers["extends"]({},g,{requestAudio:!0}),babelHelpers["extends"]({},f,{requestVideo:!1})))["catch"](function(a){return e.$ZenonLocalMediaManagerV312(a)}));break;case d("ZenonLocalMediaTypesV3").ZenonLocalMediaFallbackStrategy.RelaxConstraints:this.$ZenonLocalMediaManagerV39(a);h=(yield this.$ZenonLocalMediaManagerV310(a,this.$ZenonLocalMediaManagerV313(babelHelpers["extends"]({},g,{requestAudio:!0}),babelHelpers["extends"]({},f,{requestVideo:!1})))["catch"](function(a){return e.$ZenonLocalMediaManagerV312(a)}));break}f=(b=h)!=null?b:[];b=f[0];if(this.$ZenonLocalMediaManagerV36[a]===0)return this.$ZenonLocalMediaManagerV314(b);this.$ZenonLocalMediaManagerV315(a,b);this.$ZenonLocalMediaManagerV31=(f=c)!=null?f:{};if(a==="audio"){c={constraints:g,contentType:"audio",track:b};this.emit("trackUpdate",c)}return b}catch(a){throw a}finally{this.$ZenonLocalMediaManagerV34[a]=null}});function c(b,c,d){return a.apply(this,arguments)}return c}();f.setLocalVideo=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){var e=this;a=d("ZenonLocalMediaTypesV3").TrackType[a];try{var f;f=this.$ZenonLocalMediaManagerV38({},(f=c)!=null?f:{});var g=f.audioConstraints;f=f.videoConstraints;var h;switch(b){case d("ZenonLocalMediaTypesV3").ZenonLocalMediaFallbackStrategy.None:d("ZenonLocalMediaManagerUtils").validateVideoConstraints(f);this.$ZenonLocalMediaManagerV39(a);h=(yield this.$ZenonLocalMediaManagerV316(a,this.$ZenonLocalMediaManagerV311(babelHelpers["extends"]({},g,{requestAudio:!1}),babelHelpers["extends"]({},f,{requestVideo:!0})))["catch"](function(a){return e.$ZenonLocalMediaManagerV312(a)}));break;case d("ZenonLocalMediaTypesV3").ZenonLocalMediaFallbackStrategy.RelaxConstraints:this.$ZenonLocalMediaManagerV39(a);h=(yield this.$ZenonLocalMediaManagerV316(a,this.$ZenonLocalMediaManagerV313(babelHelpers["extends"]({},g,{requestAudio:!1}),babelHelpers["extends"]({},f,{requestVideo:!0})))["catch"](function(a){return e.$ZenonLocalMediaManagerV312(a)}));break}g=(b=h)!=null?b:[];b=g[0];if(this.$ZenonLocalMediaManagerV36[a]<=0)return this.$ZenonLocalMediaManagerV314(b);this.$ZenonLocalMediaManagerV315(a,b);this.$ZenonLocalMediaManagerV32=(g=c)!=null?g:{};if(a==="video"){c={constraints:f,contentType:"video",track:b};this.emit("trackUpdate",c)}return b}catch(a){throw a}finally{this.$ZenonLocalMediaManagerV34[a]=null}});function c(b,c,d){return a.apply(this,arguments)}return c}();f.setLocalScreen=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e){e===void 0&&(e=!1);this.$ZenonLocalMediaManagerV34.screen!=null&&this.$ZenonLocalMediaManagerV34.screen.cancel();try{b=this.$ZenonLocalMediaManagerV38((a=a)!=null?a:{},(a=b)!=null?a:{});a=b.audioConstraints;b=b.videoConstraints;d("ZenonLocalMediaManagerUtils").validateVideoConstraints(b);this.$ZenonLocalMediaManagerV34.screen=new(c("CancelablePromise"))(this.$ZenonLocalMediaManagerV317(babelHelpers["extends"]({},a,{requestAudio:e}),babelHelpers["extends"]({},b,{requestVideo:!0})));e=(yield this.$ZenonLocalMediaManagerV34.screen.getPromise());var f=e.filter(function(a){return a.contentType==="screen"});f=f[0];var g=e.filter(function(a){return a.contentType==="screen_audio"});this.$ZenonLocalMediaManagerV315("screen",f);var h=null;g.length>0&&this.getLocalScreenAudio()!==g[0]&&(h=g[0],this.$ZenonLocalMediaManagerV315("screenAudio",h));g={constraints:{audioConstraints:a,videoConstraints:b},contentType:"screen",screenAudioTrack:h,screenVideoTrack:f};this.emit("trackUpdate",g);return e}catch(a){throw a}finally{this.$ZenonLocalMediaManagerV34.screen=null}});function e(b,c,d){return a.apply(this,arguments)}return e}();f.setDefaultConstraints=function(a){this.$ZenonLocalMediaManagerV35=a};f.getLocalAudio=function(){return this.$ZenonLocalMediaManagerV33.audio};f.getLocalPreviewAudio=function(){return this.$ZenonLocalMediaManagerV33.previewAudio};f.getLocalMuteDetectionAudio=function(){return this.$ZenonLocalMediaManagerV33.muteDetectionAudio};f.getLocalScreenAudio=function(){return this.$ZenonLocalMediaManagerV33.screenAudio};f.getLocalScreen=function(){return this.$ZenonLocalMediaManagerV33.screen};f.getLocalVideo=function(){return this.$ZenonLocalMediaManagerV33.video};f.getLocalPreviewVideo=function(){return this.$ZenonLocalMediaManagerV33.previewVideo};f.stopAllTracks=function(){for(var a of Object.entries(this.$ZenonLocalMediaManagerV33)){var b,c=a[0];(b=this.$ZenonLocalMediaManagerV33[c])==null?void 0:b.webrtcTrack.stop();this.$ZenonLocalMediaManagerV33[c]=null}};f.disableAudioTrack=function(a){return this.$ZenonLocalMediaManagerV37(a)};f.disableVideoTrack=function(a){return this.$ZenonLocalMediaManagerV37(a)};f.$ZenonLocalMediaManagerV37=function(a){a=d("ZenonLocalMediaTypesV3").TrackType[a];if(!this.$ZenonLocalMediaManagerV33[a])return null;var b=this.$ZenonLocalMediaManagerV314(this.$ZenonLocalMediaManagerV33[a]);if(b&&a==="audio"){var c={constraints:babelHelpers["extends"]({},this.$ZenonLocalMediaManagerV35.audioConstraints,this.$ZenonLocalMediaManagerV31),contentType:"audio",track:b};this.emit("trackUpdate",c)}else if(b&&a==="video"){c={constraints:babelHelpers["extends"]({},this.$ZenonLocalMediaManagerV35.videoConstraints,this.$ZenonLocalMediaManagerV32),contentType:"video",track:b};this.emit("trackUpdate",c)}return b};f.$ZenonLocalMediaManagerV39=function(a){this.$ZenonLocalMediaManagerV34[a]!=null&&this.$ZenonLocalMediaManagerV34[a].cancel()};f.$ZenonLocalMediaManagerV312=function(a){var b=a.isCanceled,c=a.result;c&&Array.isArray(c)&&c[0]&&this.$ZenonLocalMediaManagerV314(c[0]);if(b==null||b===!1)throw a};f.$ZenonLocalMediaManagerV310=function(a,b){this.$ZenonLocalMediaManagerV34[a]=new(c("CancelablePromise"))(b);if(this.$ZenonLocalMediaManagerV34[a]!=null)return this.$ZenonLocalMediaManagerV34[a].getPromise();throw c("err")("could not get audio tracks")};f.$ZenonLocalMediaManagerV316=function(a,b){this.$ZenonLocalMediaManagerV34[a]=new(c("CancelablePromise"))(b);if(this.$ZenonLocalMediaManagerV34[a]!=null)return this.$ZenonLocalMediaManagerV34[a].getPromise();throw c("err")("could not get video tracks")};f.$ZenonLocalMediaManagerV314=function(a){a.contentType==="video"&&d("ZenonAppFeaturesUtils").shouldStopVideoWhenMute()&&a.webrtcTrack.stop();a.webrtcTrack.enabled=!1;return a.set("enabled",!1)};f.$ZenonLocalMediaManagerV317=function(a,b){return d("ZenonLocalMediaSDK").getDisplayMedia(a,b)};f.$ZenonLocalMediaManagerV38=function(a,b){a=babelHelpers["extends"]({},this.$ZenonLocalMediaManagerV35.audioConstraints,a);b=babelHelpers["extends"]({},this.$ZenonLocalMediaManagerV35.videoConstraints,b);return{audioConstraints:a,videoConstraints:b}};f.$ZenonLocalMediaManagerV315=function(a,b){var c;(c=this.$ZenonLocalMediaManagerV33[a])==null?void 0:c.webrtcTrack.stop();this.$ZenonLocalMediaManagerV33[a]=b};f.$ZenonLocalMediaManagerV313=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){try{c("ZenonMediaActionLogger").logEvent({checkpoint:"GetUserMediaWithRelaxConstraintsFallback audioConstraints: "+JSON.stringify(a)+" videoConstraints: "+JSON.stringify(b)});d("ODS").bumpEntityKey(4272,i,"gum_with_fallback.attempt");return yield this.$ZenonLocalMediaManagerV311(a,b)}catch(e){d("ODS").bumpEntityKey(4272,i,"gum_with_fallback.no_retry_fallback");if(b.requestVideo&&(e.name==="OverconstrainedError"&&Object.keys(b).length>1||e.name==="NotReadableError")){c("ZenonMediaActionLogger").logErrorToFbLogger("Removing video constraints: "+JSON.stringify(b),e.toString(),c("err")("GetUserMedia"),"warn");return this.$ZenonLocalMediaManagerV311(a,{requestVideo:!0})}throw e}});function e(b,c){return a.apply(this,arguments)}return e}();f.$ZenonLocalMediaManagerV311=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var c=0;while(c<h)try{return yield this.$ZenonLocalMediaManagerV318(a,b)}catch(a){d("Log").debug("getUserMediaWithRetries error: "+String(a)),c++}return this.$ZenonLocalMediaManagerV318(a,b)});function c(b,c){return a.apply(this,arguments)}return c}();f.$ZenonLocalMediaManagerV318=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var e=this.$ZenonLocalMediaManagerV319(a,b),f="GetUserMedia: "+JSON.stringify({audioConstraints:e.audio,tx:c("uuidv4")(),videoConstraints:e.video});c("ZenonMediaActionLogger").logEvent({checkpoint:f});try{var g=(yield this.$ZenonLocalMediaManagerV320(e));[d("ZenonLocalMediaManagerUtils").LocalMediaEvents.ENDED,d("ZenonLocalMediaManagerUtils").LocalMediaEvents.MUTE,d("ZenonLocalMediaManagerUtils").LocalMediaEvents.UNMUTE].forEach(function(a){d("ZenonLocalMediaManagerUtils").addEventListenerForEvent(a,g,d("ZenonLocalMediaManagerUtils").LocalMediaTypeCheckpoint.USER)});d("ZenonLocalMediaManagerUtils").logEventsForMediaStream(g,a,b);return d("ZenonLocalMediaManagerUtils").convertToZenonImmutableMediaTrack(g,a,b)}catch(b){d("ZenonLocalMediaManagerUtils").logMediaErrors(a.requestAudio?"Audio":"Video",f,b);throw b}});function e(b,c){return a.apply(this,arguments)}return e}();f.$ZenonLocalMediaManagerV320=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=(yield d("ZenonWebRTCWrapper").getUserMedia(a)),e=b.getVideoTracks();e=e[0];if((e==null?void 0:e.muted)===!0){c("ZenonMediaActionLogger").logEvent({checkpoint:'Retry getUserMedia on muted video track: "'+e.id+'"',mediaID:e.id});b.getTracks().forEach(function(a){a.stop()});b=(yield d("ZenonWebRTCWrapper").getUserMedia(a));e=b.getVideoTracks();a=e[0];(a==null?void 0:a.muted)===!0&&c("ZenonMediaActionLogger").logEvent({checkpoint:"Video track is still muted after retrying getUserMedia",mediaID:a.id})}return b});function e(b){return a.apply(this,arguments)}return e}();f.$ZenonLocalMediaManagerV319=function(a,b){return{audio:this.$ZenonLocalMediaManagerV321(a),video:this.$ZenonLocalMediaManagerV322(b)}};f.$ZenonLocalMediaManagerV321=function(a){var b=a.requestAudio;a=babelHelpers.objectWithoutPropertiesLoose(a,["requestAudio"]);return b===!1?!1:Object.keys(a).length>0?a:!0};f.$ZenonLocalMediaManagerV322=function(a){var b=a.requestVideo;a=babelHelpers.objectWithoutPropertiesLoose(a,["requestVideo"]);if(b===!1)return!1;if(Object.keys(a).length===0)return!0;b=a.facingMode;a=babelHelpers.objectWithoutPropertiesLoose(a,["facingMode"]);a=babelHelpers["extends"]({},a);b!=null&&(a.facingMode={ideal:b});return a};return e}(c("EventEmitter"));e=new a();g["default"]=e}),98);
__d("ZenonLocalMediaProvider.react",["ZenonLocalMediaContext","ZenonLocalMediaManagerV3","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useEffect,j=b.useMemo,k=b.useState;function a(a){a=a.children;var b=k(null),d=b[0],e=b[1];b=k(null);var f=b[0],g=b[1];b=k(null);var l=b[0],m=b[1];b=k(null);var n=b[0],o=b[1];i(function(){var a=c("ZenonLocalMediaManagerV3").addListener("trackUpdate",function(a){switch(a.contentType){case"audio":e(a.track);break;case"video":g(a.track);break;case"screen":m(a.screenVideoTrack);o(a.screenAudioTrack);break}});return function(){c("ZenonLocalMediaManagerV3").removeListener(a),c("ZenonLocalMediaManagerV3").stopAllTracks()}},[]);b=j(function(){return{audioTrack:d,screenAudioTrack:n,screenVideoTrack:l,videoTrack:f}},[d,n,l,f]);return h.jsx(c("ZenonLocalMediaContext").Provider,{value:b,children:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("ZenonFunnelLogger",["QPLUserFlow","qpl"],(function(a,b,c,d,e,f,g){"use strict";a={endFunnel:function(a){c("QPLUserFlow").endSuccess(c("qpl")._(880939590,"903"),{annotations:a})},endFunnelOnError:function(a,b,d){c("QPLUserFlow").endFailure(c("qpl")._(880939590,"903"),a,{debugInfo:d,error:b})},logPointTyped:function(a,b){c("QPLUserFlow").addPoint(c("qpl")._(880939590,"903"),a,{data:b})},startFunnel:function(a){c("QPLUserFlow").start(c("qpl")._(880939590,"903"),{annotations:a,cancelOnUnload:!0})}};b=a;g["default"]=b}),98);
__d("ZenonLoggingContext",["react","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";a=d("react");b=a.createContext({annotations:{},callTrigger:"",codebaseVersion:"",deviceID:"",isCaller:null,isCheckpointDomainLogged:function(a){throw c("unrecoverableViolation")("isCheckpointDomainsLogged is not implemented!","rtc_www")},isErrorDomainLogged:function(a){throw c("unrecoverableViolation")("isErrorDomainLogged is not implemented!","rtc_www")},page:"",peerID:null,roomID:"",setCallTrigger:function(a){throw c("unrecoverableViolation")("setCallTrigger is not implemented!","rtc_www")},setCheckpointDomainLogged:function(a){throw c("unrecoverableViolation")("setCheckpointDomainsLogged is not implemented!","rtc_www")},setErrorDomainLogged:function(a){throw c("unrecoverableViolation")("setErrorDomainLogged is not implemented!","rtc_www")},setIsCaller:function(a){throw c("unrecoverableViolation")("setIsCaller is not implemented!","rtc_www")},signalingID:null,startTimer:function(a){throw c("unrecoverableViolation")("startTimer is not implemented!","rtc_www")},stopTimer:function(a){throw c("unrecoverableViolation")("stopTimer is not implemented!","rtc_www")}});e=b;g["default"]=e}),98);
__d("ZenonLoggingSurfaceContext",["react"],(function(a,b,c,d,e,f,g){"use strict";a=d("react");b=a.createContext("call_container");g["default"]=b}),98);
__d("ZenonLoggingHooks",["FBLogger","RtcWebUserActionsDebugFalcoEvent","RtcWebUserActionsFalcoEvent","ZenonCallsContext","ZenonCallsHooks","ZenonCallsModelTypes","ZenonDebugLogger","ZenonLoggingContext","ZenonLoggingSurfaceContext","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=h.useCallback,j=h.useContext,k=h.useEffect,l=h.useRef;function a(){var a=j(c("ZenonLoggingContext"));return i(function(b){a.setIsCaller(b)},[a])}function b(){var a=j(c("ZenonLoggingContext"));return i(function(b){a.setCallTrigger(b)},[a])}function e(a){var b=t();k(function(){b({component:a})},[a,b])}function f(a){var b=t();k(function(){a!=null&&b({component:a})},[a,b])}function m(a,b){var c=u();return i(function(d){c({component:b});return a(d)},[a,b,c])}function n(){var a=v();return i(function(b){return a({checkpoint:b})},[a])}function o(a){var b=j(c("ZenonLoggingContext")),d=b.isErrorDomainLogged,e=b.setErrorDomainLogged,f=s();return i(function(b){d(a)||(e(a),f({errorDomain:a,errorType:b.toString()}),c("FBLogger")("rtc_www").catching(b).warn(a))},[a,d,f,e])}function p(){var a=s();return i(function(b){var d=b.checkpoint,e=b.error;b=b.errorDomain;a({checkpoint:d,errorDomain:b,errorType:e.toString()});e instanceof Error?c("FBLogger")("rtc_www").catching(e).warn(d):c("FBLogger")("rtc_www").warn(d+"_"+e.toString())},[a])}function q(a){var b=j(c("ZenonLoggingContext")),d=b.isCheckpointDomainLogged,e=b.setCheckpointDomainLogged,f=v();return i(function(){d(a)||(e(a),f({checkpoint:a}))},[a,d,f,e])}function r(a,b){var d=j(c("ZenonLoggingContext")),e=d.startTimer,f=d.stopTimer;d=i(function(){return e(a)},[a,e]);var g=v(),h=i(function(){var c;c=(c=b)!=null?c:a;var d=f(a);g({checkpoint:c+"_timerEnd",timeElapsed:d});return d},[b,g,a,f]);return[d,h]}function s(){var a=w();return i(function(b){return a(babelHelpers["extends"]({eventName:"error"},b))},[a])}function t(){var a=w();return i(function(b){return a(babelHelpers["extends"]({eventName:"impression"},b))},[a])}function u(){var a=w();return i(function(b){return a(babelHelpers["extends"]({eventName:"tap"},b))},[a])}function v(){var a=w();return i(function(b){return a(babelHelpers["extends"]({eventName:"checkpoint"},b))},[a])}function w(){var a=x(),b=j(c("ZenonCallsContext")),d=b.isE2eeMandated;return i(function(b){if(d)return;a(b,c("RtcWebUserActionsDebugFalcoEvent"));var e=a(b,c("RtcWebUserActionsFalcoEvent"));y(b.eventName,e)},[d,a])}function x(){var a=j(c("ZenonLoggingSurfaceContext")),b=c("ZenonCallsHooks").useCallState(),d=j(c("ZenonCallsContext")),e=j(c("ZenonLoggingContext")),f=c("ZenonCallsHooks").useIsAudioCall(),g=l(a),h=l(b),k=l(d),m=l(e),n=l(f);g.current=a;h.current=b;k.current=d;m.current=e;n.current=f;return i(function(a,b){var c,d=k.current,e=d.calls;d=d.currentCallInstanceSDK;var f=n.current?"audio":"video",i=m.current.signalingID==null?void 0:String(m.current.signalingID);c=(c=m.current.roomID)!=null?c:d==null?void 0:d.getConferenceName();var j=m.current.isCaller,l=m.current.page,o=m.current.deviceID,p=m.current.callTrigger,q=m.current.codebaseVersion,r=m.current.peerID;d=(e=e.get(d.getClientCallID_DEPRECATED()))==null?void 0:e.collisionContext.serverInfoData;var s={call_id:i,call_trigger:p,call_type:"mw",checkpoint:a.checkpoint,client_time:Date.now().toString(),codebase_version:q,component:a.component,conference_name:c,conference_state:z(h.current),device_id:o,error_domain:a.errorDomain,error_type:a.errorType,event:a.eventName,event_time_elapsed:(e=a.timeElapsed)==null?void 0:e.toString(),is_caller:j,media_type:f,page:A(l),peer_id:r,server_info_data:d,surface:g.current};b.log(function(){return s});return s},[])}function y(a,b){a=a==null?"null":a;c("ZenonDebugLogger").getInstance().getLogHistory().log(a,JSON.stringify(b))}function z(a){switch(a){case d("ZenonCallsModelTypes").ZenonCallState.New:return"NEW";case d("ZenonCallsModelTypes").ZenonCallState.Connecting:return"CONNECTING";case d("ZenonCallsModelTypes").ZenonCallState.Connected:return"CONNECTED";case d("ZenonCallsModelTypes").ZenonCallState.Terminating:return"TERMINATING";case d("ZenonCallsModelTypes").ZenonCallState.Terminated:return"TERMINATED";case d("ZenonCallsModelTypes").ZenonCallState.PendingApproval:return"PENDING_APPROVAL"}}function A(a){switch(a){case"messenger_dot_com":case"facebook":case"mweb":case"workplace":return a;default:return null}}g.useSetIsCaller=a;g.useSetCallTrigger=b;g.useImpressionLogging=e;g.useImpressionLoggingOptional=f;g.useClickLogging=m;g.useCheckpointLogging=n;g.useErrorLoggingOnceForDomain=o;g.useErrorLogging=p;g.useCheckpointLoggingOnceForDomain=q;g.useTimerLogging=r}),98);
__d("ZenonMain.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.content,c=a.footer;a=a.header;return h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"x11md1zd x47corl x10l6tqk x13vifvy xh8yej3",children:a}),h.jsx("div",{className:"x6s0dn4 x78zum5 xdt5ytf xozqiw3 x5yr21d xl56j7k xh8yej3",children:b}),h.jsx("div",{className:"x1ey2m1c x47corl x10l6tqk xh8yej3",children:c})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("ZenonCallViewMainPanel.react",["ZenonMain.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a["aria-label"],d=a.children,e=a.content,f=a.footer,g=a.header;a=a.testid;return h.jsxs("div",{"aria-label":b,"data-testid":void 0,children:[h.jsx("div",{className:"x1ey2m1c x9f619 xds687c x10l6tqk x17qophe x13vifvy",children:h.jsx("div",{className:"x5yr21d xw2csxc x1odjw0f x1n2onr6 xh8yej3",children:h.jsx("div",{className:"x18d0r48 x78zum5 xdt5ytf xozqiw3 x5yr21d x1qughib x6ikm8r x10wlt62 x1n2onr6 x2b8uid xh8yej3 x42x0ya",children:h.jsx(c("ZenonMain.react"),{content:e,footer:f,header:g})})})}),d]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("ZenonAbstractButton.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a,b){var c=a["aria-label"],d=a.children,e=a["data-hover"],f=a.disabled;f=f===void 0?!1:f;var g=a.label,j=a.onClick,k=a.showLabelWhenDisabled;k=k===void 0?!1:k;a=babelHelpers.objectWithoutPropertiesLoose(a,["aria-label","children","data-hover","disabled","label","onClick","showLabelWhenDisabled"]);return h.jsxs("button",babelHelpers["extends"]({"aria-disabled":f,"aria-label":c,"data-hover":f&&!k?"none":e,disabled:f&&!k,onClick:f?i:j,ref:b,type:"button"},a,{children:[d,h.jsx("span",{className:"x1qvwoe0 xjm9jq1 x6ikm8r x10wlt62 x10l6tqk xuxw1ft x1i1rx1s",children:g})]}))}a.displayName=a.name+" [from "+f.id+"]";function i(a){a.preventDefault()}b=h.forwardRef(a);g["default"]=b}),98);
__d("ZenonStyleContext",["$InternalEnum","react"],(function(a,b,c,d,e,f,g){"use strict";a=d("react");e=(c=b("$InternalEnum")).Mirrored(["Large","Medium","SMedium","Small"]);f=c.Mirrored(["Medium","Small"]);d=c.Mirrored(["M3","M4"]);b=c.Mirrored(["Compact","Large","Medium","MiniView","Small"]);c=a.createContext({buttonMargin:f.Medium,buttonSize:e.Medium,font:d.M3,windowStyle:b.Large});g.ButtonSize=e;g.ButtonMargin=f;g.Font=d;g.WindowStyle=b;g.ZenonStyleContext=c}),98);
__d("ZenonStyleHooks",["ZenonStyleContext","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useContext;function a(){var a=h(d("ZenonStyleContext").ZenonStyleContext);a=a.buttonMargin;return a}function b(){var a=h(d("ZenonStyleContext").ZenonStyleContext);a=a.buttonSize;return a}function c(){var a=h(d("ZenonStyleContext").ZenonStyleContext);a=a.font;return a}function e(){var a=h(d("ZenonStyleContext").ZenonStyleContext);a=a.windowStyle;return a}g.useButtonMargin=a;g.useButtonSize=b;g.useFont=c;g.useWindowStyle=e}),98);
__d("ZenonFooterLabeledButton.react",["ZenonAbstractButton.react","ZenonStyleContext","ZenonStyleHooks","joinClasses","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.disabled;b=b===void 0?!1:b;var e=a.label,f=a.labelColor,g=a.themeClassNames;a=babelHelpers.objectWithoutPropertiesLoose(a,["disabled","label","labelColor","themeClassNames"]);var j=d("ZenonStyleHooks").useButtonSize();j=j===d("ZenonStyleContext").ButtonSize.Large?i.large:j===d("ZenonStyleContext").ButtonSize.Small?i.small:i.medium;var k=d("ZenonStyleHooks").useFont();return h.jsxs("div",{className:"x1rg5ohu",children:[h.jsx(c("ZenonAbstractButton.react"),babelHelpers["extends"]({className:c("joinClasses")(g,c("stylex")(i.root,j,b?i.disabled:i.enabled)),"data-hover":"none",disabled:b,label:e},a)),h.jsx("div",{className:c("joinClasses")(f,c("stylex")(i.buttonLabel,k===d("ZenonStyleContext").Font.M4&&i.m4Font)),children:e})]})}a.displayName=a.name+" [from "+f.id+"]";var i={buttonLabel:{marginTop:"xzbgwbi",textAlign:"x2b8uid",$$css:!0},buttonSpace:{display:"x1rg5ohu",$$css:!0},disabled:{cursor:"xt0e3qv",$$css:!0},enabled:{cursor:"x1ypdohk",$$css:!0},large:{height:"xdd8jsf",marginTop:"xdj266r",marginEnd:"x1h5jrl4",marginBottom:"xat24cr",marginStart:"xmn8rco",width:"xvni27",$$css:!0},m4Font:{fontSize:"x6prxxf",lineHeight:"xo0entv",$$css:!0},medium:{height:"xsdox4t",marginTop:"xdj266r",marginEnd:"xq8finb",marginBottom:"xat24cr",marginStart:"x16n37ib",width:"x1useyqa",$$css:!0},root:{borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",borderTopStyle:"x13fuv20",borderEndStyle:"xu3j5b3",borderBottomStyle:"x1q0q8m5",borderStartStyle:"x26u7qi",borderTopWidth:"x178xt8z",borderEndWidth:"xm81vs4",borderBottomWidth:"xso031l",borderStartWidth:"xy80clv",display:"x1rg5ohu",overflowX:"x6ikm8r",overflowY:"x10wlt62",paddingTop:"xexx8yu",paddingEnd:"x4uap5",paddingBottom:"x18d9i69",paddingStart:"xkhd6sd",pointerEvents:"x67bb7w",textDecoration:"x1hl2dhg",transitionDuration:"x1d8287x",transitionProperty:"x15406qy",whiteSpace:"xuxw1ft",willChange:"xvolylx",$$css:!0},small:{height:"xc9qbxq",marginTop:"xdj266r",marginEnd:"x1h5jrl4",marginBottom:"xat24cr",marginStart:"xmn8rco",width:"x14qfxbe",$$css:!0}};g["default"]=a}),98);
__d("ZenonXIcon.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return h.jsx("svg",{className:a.className,viewBox:"0 0 48 48",children:h.jsx("path",{d:"M24 25.4l-4.9 4.9c-.4 .4-1 .4-1.4 0c-.4-.4-.4-1 0-1.4L22.6 24L17.6 19.1c-.4-.4-.4-1 0-1.4c.4-.4 1-.4 1.4 0L24 22.6l4.9-4.9c.4-.4 1-.4 1.4 0c.4 .4 .4 1 0 1.4L25.4 24l4.9 4.9c.4 .4 .4 1 0 1.4c-.4 .4-1 .4-1.4 0L24 25.4z"})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("ZenonCloseWindowFooterButton.react",["fbt","ZenonFooterLabeledButton.react","ZenonLoggingHooks","ZenonXIcon.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){a=a.label;d("ZenonLoggingHooks").useImpressionLogging("close_window");var b=d("ZenonLoggingHooks").useClickLogging(function(){window.close(),window.close()},"close_window");a=(a=a)!=null?a:h._("Close");return i.jsx(c("ZenonFooterLabeledButton.react"),{"data-testid":void 0,disabled:!1,label:a,labelColor:"xvtqozj",onClick:b,themeClassNames:"xh4b7qa x1v8p93f xogb00i x16stqrj x1ftr3km x1f7m26b x1jtwisp",children:i.jsx(c("ZenonXIcon.react"),{className:"x1lliihq x117rol3 x1y332i5 xcwd3tp x1jyxor1 x39eecv x47corl xeutv01"})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("ZenonContent.react",["ZenonLoggingSurfaceContext","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){a=a.children;return h.jsx("div",{className:"x1qjc9v5 x78zum5 xdt5ytf x5yr21d xl56j7k xh8yej3","data-testid":void 0,children:h.jsx(c("ZenonLoggingSurfaceContext").Provider,{value:"call_container",children:a})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("ZenonCenteredWithAside.react",["gkx","react","stylex","useContentRect"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=c("useContentRect")(),d=b[0];b=b[1];var e=c("useContentRect")(),f=e[0];e=e[1];var g="auto";if(a.startAside!==null){var k;k=(k=d==null?void 0:d.width)!=null?k:0;f=(f=f==null?void 0:f.width)!=null?f:0;g=k>f?k:f!==0?f:"auto"}else{g=(k=d==null?void 0:d.width)!=null?k:"auto"}return h.jsxs("div",{className:c("stylex")(i.root,a.align==="bottom"&&i.alignFlexEnd,a.align==="center"&&i.alignFlexCenter),children:[a.startAside!==null?h.jsx(j,{className:"x78zum5 x1nhvcw1",flexBasis:g,ref:e,children:a.startAside}):h.jsx("div",{className:"xs83m0k",style:{flexBasis:g}}),h.jsx("div",{className:"x2lah0s",children:a.children}),h.jsx(j,{className:"x78zum5 x13a6bvl",flexBasis:g,ref:b,children:a.endAside})]})}a.displayName=a.name+" [from "+f.id+"]";var i={alignFlexCenter:{alignItems:"x6s0dn4",$$css:!0},alignFlexEnd:{alignItems:"xuk3077",$$css:!0},asideContentRect:{display:"x1jfb8zj",flexGrow:"x1iyjqo2",justifyContent:"xarpa2k",$$css:!0},center:{flexShrink:"x2lah0s",$$css:!0},endAside:{display:"x78zum5",justifyContent:"x13a6bvl",$$css:!0},root:{display:"x78zum5",justifyContent:"x1qughib",$$css:!0},spacer:{flexShrink:"xs83m0k",$$css:!0},startAside:{display:"x78zum5",justifyContent:"x1nhvcw1",$$css:!0}},j=h.forwardRef(function(a,b){var d=a.className,e=a.flexBasis;return c("gkx")("1117772")?h.jsx("div",{className:d,style:{flexBasis:e},children:h.jsx("div",{className:"x1jfb8zj x1iyjqo2 xarpa2k",ref:b,children:a.children})}):h.jsx("div",{className:d,ref:b,style:{flexBasis:e},children:a.children})});g["default"]=a}),98);
__d("ZenonUserActivityContext",["react"],(function(a,b,c,d,e,f,g){"use strict";a=d("react");b=a.createContext(!1);c=b;g["default"]=c}),98);
__d("ZenonCrossFadeOnIdle.react",["ZenonUserActivityContext","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useContext,j=b.useState;function a(a,b){var d=a.bypass;d=d===void 0?!1:d;var e=a.children,f=a.fallback;f=f===void 0?null:f;var g=a.hideAfterFade;g=g===void 0?!1:g;var l=a.onBlur,m=a.onFocus;a=j(!1);var n=a[0],o=a[1];a=i(c("ZenonUserActivityContext"));a=d||a||n;return h.jsxs("div",{className:"x47corl x1n2onr6 xzyjqiw",children:[h.jsx("div",{className:c("stylex")(k.base,a&&k.visible,!d&&k.animateOpacity,!d&&!a&&g&&k.animateHide,!d&&a&&g&&k.animateShow),onBlur:function(){o(!1),l!=null&&l()},onFocus:function(){o(!0),m!=null&&m()},ref:b,children:e}),f!==null&&h.jsx("div",{className:c("stylex")(k.fallbackRoot,!a&&k.visible,!d&&k.animateOpacity),children:f})]})}a.displayName=a.name+" [from "+f.id+"]";var k={animateHide:{animationDuration:"x1c74tu6",animationFillMode:"x10e4vud",animationName:"x12tgfm8",$$css:!0},animateOpacity:{transitionDuration:"x16fj20d",transitionProperty:"x19991ni",$$css:!0},animateShow:{animationDuration:"x1q3qbx4",animationFillMode:"x10e4vud",animationName:"x128vty6",$$css:!0},base:{opacity:"xg01cxk",$$css:!0},fallbackRoot:{alignItems:"x6s0dn4",display:"x78zum5",justifyContent:"xl56j7k",opacity:"xg01cxk",position:"x10l6tqk",start:"x17qophe",top:"x13vifvy",width:"xh8yej3",$$css:!0},root:{pointerEvents:"x47corl",position:"x1n2onr6",willChange:"xzyjqiw",$$css:!0},visible:{height:"xt7dq6l",opacity:"x1hc1fzr",$$css:!0}};e=h.forwardRef(a);g["default"]=e}),98);
__d("ZenonFadeOnIdle.react",["ZenonUserActivityContext","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useContext,j=b.useEffect,k=b.useState;function a(a,b){var d=a.bypass;d=d===void 0?!1:d;var e=a.children,f=a.hideAfterFade;f=f===void 0?!1:f;var g=a.onBlur,m=a.onFocus,n=a.onVisibilityChanged;a=k(!1);var o=a[0],p=a[1];a=i(c("ZenonUserActivityContext"));var q=d||a||o;j(function(){return n&&n(q?"visible":"hidden")},[q,n]);return h.jsx("div",{className:c("stylex")(l.root,q&&l.visible,!d&&l.animateOpacity,!d&&!q&&f&&l.animateHide,!d&&q&&f&&l.animateShow),onBlur:function(){p(!1),g!=null&&g()},onFocus:function(){p(!0),m!=null&&m()},ref:b,children:e})}a.displayName=a.name+" [from "+f.id+"]";var l={animateHide:{animationDuration:"x1c74tu6",animationFillMode:"x10e4vud",animationName:"x12tgfm8",$$css:!0},animateOpacity:{transitionDuration:"x16fj20d",transitionProperty:"x19991ni",$$css:!0},animateShow:{animationDuration:"x1q3qbx4",animationFillMode:"x10e4vud",animationName:"x128vty6",$$css:!0},root:{opacity:"xg01cxk",pointerEvents:"x47corl",willChange:"xzyjqiw",$$css:!0},visible:{height:"xt7dq6l",opacity:"x1hc1fzr",$$css:!0}};e=h.forwardRef(a);g["default"]=e}),98);
__d("ZenonFooterGradientLayer.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(){return h.jsx("div",{className:"x1vn6bht x1ey2m1c xpyat2d xixxii4 x17qophe xn9wirt xow5mhw"})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("ZenonFooterCenterLayout.react",["ZenonCenteredWithAside.react","ZenonCrossFadeOnIdle.react","ZenonFadeOnIdle.react","ZenonFooterGradientLayer.react","ZenonLoggingSurfaceContext","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.autoHideButtons,d=a.autoHideEndAside,e=a.buttonBarXStyle,f=a.buttons,g=a.endAside,j=a.idleContent;a=a.startAside;a=h.jsx(c("ZenonFadeOnIdle.react"),{bypass:!b,children:a});d=h.jsx(c("ZenonFadeOnIdle.react"),{bypass:!d,children:g});return h.jsx(c("ZenonCenteredWithAside.react"),{align:"bottom",endAside:d,startAside:a,children:h.jsxs(c("ZenonCrossFadeOnIdle.react"),{bypass:!b,fallback:j,children:[h.jsx(c("ZenonFooterGradientLayer.react"),{}),h.jsx("div",{className:c("stylex")([i.buttonBar,e]),"data-testid":void 0,children:h.jsx(c("ZenonLoggingSurfaceContext").Provider,{value:"call_controls",children:f})})]})})}a.displayName=a.name+" [from "+f.id+"]";var i={buttonBar:{display:"x78zum5",marginTop:"xdj266r",marginEnd:"xq8finb",marginBottom:"x1hq5gj4",marginStart:"x16n37ib",$$css:!0}};g["default"]=a}),98);
__d("ZenonFooterLeftLayout.react",["ZenonFadeOnIdle.react","ZenonFooterGradientLayer.react","ZenonLoggingSurfaceContext","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.autoHideButtons,d=a.buttons;a=a.endAside;return h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"x2lah0s",children:h.jsxs(c("ZenonFadeOnIdle.react"),{bypass:!b,children:[h.jsx(c("ZenonFooterGradientLayer.react"),{}),h.jsx("div",{className:"x78zum5 xdj266r xq8finb x1hq5gj4 x16n37ib","data-testid":void 0,children:h.jsx(c("ZenonLoggingSurfaceContext").Provider,{value:"call_controls",children:d})})]})}),a]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("ZenonFooter.react",["BaseContextualLayerAnchorRootContext","ZenonFooterCenterLayout.react","ZenonFooterLeftLayout.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useRef;function a(a){var b=a.autoHideButtons,d=a.autoHideEndAside;d=d===void 0?!1:d;var e=a.buttonBarAlign,f=a.buttons,g=a.endAside,k=a.idleContent;a=a.startAside;var l=i(null);return h.jsxs("div",{className:c("stylex")([j.root,e==="left"?j.flexRoot:null]),"data-testid":void 0,children:[h.jsx(c("BaseContextualLayerAnchorRootContext").Provider,{value:l,children:e==="left"?h.jsx(c("ZenonFooterLeftLayout.react"),{autoHideButtons:b,buttons:f,endAside:g}):h.jsx(c("ZenonFooterCenterLayout.react"),{autoHideButtons:b,autoHideEndAside:d,buttons:f,endAside:g,idleContent:k,startAside:a})}),h.jsx("div",{className:"x67bb7w",ref:l})]})}a.displayName=a.name+" [from "+f.id+"]";var j={anchorRoot:{pointerEvents:"x67bb7w",$$css:!0},flexRoot:{alignItems:"xuk3077",display:"x78zum5",justifyContent:"x1qughib",$$css:!0},root:{position:"x1n2onr6",zIndex:"x1n327nk",$$css:!0}};g["default"]=a}),98);
__d("ZenonCrashedView.react",["fbt","ix","CometColumn.react","CometColumnItem.react","CometIcon.react","CometRow.react","CometRowItem.react","MDSTextPairing.react","ZenonCallViewMainPanel.react","ZenonCloseWindowFooterButton.react","ZenonContent.react","ZenonFooter.react","cr:1795429","fbicon","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");function a(a){var e=a.error;a=a.forceCloseButtonVisibility;return j.jsx(c("ZenonCallViewMainPanel.react"),{content:j.jsx(c("ZenonContent.react"),{children:j.jsx(c("CometRow.react"),{align:"center",children:j.jsx(c("CometRowItem.react"),{children:j.jsxs(c("CometColumn.react"),{align:"center",children:[j.jsx(c("CometColumnItem.react"),{children:j.jsx("div",{className:"x1wm1o4n x1z11no5 xjy5m1g x1mnwbp6 x4pb5v6 xxk0z11 xz9dl7a xn6708d xsag5q8 x1ye3gou xvy4d1p",children:j.jsx(c("CometIcon.react"),{color:"white",icon:d("fbicon")._(i("502063"),24)})})}),j.jsx(c("CometColumnItem.react"),{"aria-atomic":!0,"aria-live":"assertive",paddingTop:16,children:j.jsx(c("MDSTextPairing.react"),{body:h._("Open a new window and try your call again"),bodyColor:"secondary",headline:h._("The call has been disconnected"),headlineColor:"white",isSemanticHeading:!0,level:2,textAlign:"center"})}),e!==void 0&&b("cr:1795429")&&j.jsx(b("cr:1795429"),{error:e})]})})})}),footer:j.jsx(c("ZenonFooter.react"),{autoHideButtons:!1,buttonBarAlign:"center",buttons:((e=a)!=null?e:window.opener)&&j.jsx(c("ZenonCloseWindowFooterButton.react"),{}),endAside:null}),header:null})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("ZenonPanicProvider.react",["ErrorBoundary.react","FBLogger","ZenonCrashedView.react","ZenonFunnelLogger","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useCallback,j=function(a){return h.jsx(c("ZenonCrashedView.react"),{error:a})};function a(a){var b=a.children;a=a.fallback;a=a===void 0?j:a;var d=i(function(a,b){var d;c("FBLogger")("rtc_www").catching(a).mustfix('Caught error in ZenonPanicProvider from module "%s"',b);b="Module: "+b;a.description!=null&&(b+="\n\nDescription: "+a.description);b+="\n\nError Stack:\n"+((d=a.stackTrace)!=null?d:a.stack);a.componentStack!=null&&(b+="\n\nComponentStack:\n"+a.componentStack);c("ZenonFunnelLogger").endFunnelOnError("zenon_panic_provider",a,b)},[]);return h.jsx(c("ErrorBoundary.react"),{fallback:a,onError:d,children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("ZenonDefaultErrorBoundaryProject",[],(function(a,b,c,d,e,f){"use strict";a="EXCEPTIONS_CRASH_THE_ENTIRE_APP";f["default"]=a}),66);
__d("ZenonPluginErrorState",["EventEmitter","Recoil"],(function(a,b,c,d,e,f,g){"use strict";a=d("Recoil").selector({dangerouslyAllowMutability:!0,get:function(){return new(c("EventEmitter"))()},key:"ZenonPluginErrorState_events"});b=d("Recoil").atomFamily({"default":!1,key:"ZenonPluginErrorState_statuses"});g.events=a;g.statuses=b}),98);
__d("MeetupSwitchRoomContext",["react","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";a=d("react");b={meetupRoom:{funnelSessionID:"",linkHash:"",linkURL:"",roomID:null,switchRoomReason:null},setMeetupRoom:function(a){throw c("unrecoverableViolation")("setMeetupRoom is not implemented!","rtc_www")}};e=a.createContext(b);g["default"]=e}),98);
__d("createRelayFBLiveNetwork",["RelayFBResponseCache","createRelayFBNetwork","createRelayFBNetworkFetch","createRelayFBSubscribeFunction"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e){return b("createRelayFBNetwork")(b("createRelayFBNetworkFetch")({queryResponseCache:b("RelayFBResponseCache"),liveQueryFetchWithWWWInitialFn:a,liveQueryFetchFn:c,graphURI:d,wrapObservableFn:e==null?void 0:e.wrapObservableFn}),b("createRelayFBSubscribeFunction")({queryResponseCache:b("RelayFBResponseCache")}))}e.exports=a}),null);
__d("RelayFBLiveNetwork",["createRelayFBLiveNetwork","liveQueryFetch","liveQueryFetchWithWWWInitial"],(function(a,b,c,d,e,f,g){"use strict";a=c("createRelayFBLiveNetwork")(c("liveQueryFetchWithWWWInitial"),c("liveQueryFetch"));b=a;g["default"]=b}),98);
__d("ZenonRelayLiveResolverEnvironment",["RelayFBHandlerProvider","RelayFBLiveNetwork","RelayFBOperationLoader","RelayFBScheduler","cr:1121434","getRelayFBMissingFieldHandlers","relay-runtime","relay-runtime/store/experimental-live-resolvers/LiveResolverStore","relayFBGetDataID","resolveImmediate"],(function(a,b,c,d,e,f,g){"use strict";a=new(d("relay-runtime").RecordSource)();e=new(c("relay-runtime/store/experimental-live-resolvers/LiveResolverStore"))(a,{gcReleaseBufferSize:10,gcScheduler:c("resolveImmediate"),getDataID:c("relayFBGetDataID"),operationLoader:c("RelayFBOperationLoader"),queryCacheExpirationTime:1e3*60*5});f=new(d("relay-runtime").Environment)({configName:"ZenonRelayLiveResolverEnvironment",getDataID:c("relayFBGetDataID"),handlerProvider:c("RelayFBHandlerProvider"),log:b("cr:1121434")!=null?b("cr:1121434")():null,missingFieldHandlers:c("getRelayFBMissingFieldHandlers")(),network:c("RelayFBLiveNetwork"),operationLoader:c("RelayFBOperationLoader"),scheduler:c("RelayFBScheduler"),store:e});a=f;g["default"]=a}),98);
__d("ZenonRelayEnvironment",["RelayHooks","ZenonRelayLiveResolverEnvironment","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useEffect,i=null;function a(){var a=d("RelayHooks").useRelayEnvironment();h(function(){i=a},[a])}function b(){var a;return(a=i)!=null?a:c("ZenonRelayLiveResolverEnvironment")}g.useUpdateZenonRelayEnvironment=a;g.getZenonRelayEnvironment=b}),98);
__d("ZenonFunnelSessionContext.react",["react"],(function(a,b,c,d,e,f,g){"use strict";a=d("react");b={funnelSessionID:null};c=a.createContext(b);g["default"]=c}),98);
__d("ZenonFunnelSessionProvider.react",["ZenonFunnelSessionContext.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useMemo;function a(a){var b=a.children,d=a.funnelSessionID;a=i(function(){return{funnelSessionID:d}},[d]);return h.jsx(c("ZenonFunnelSessionContext.react").Provider,{value:a,children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("ZenonUnifiedCometApp.entrypoint",["JSResourceForInteraction","ZenonUnifiedCometAppQuery$Parameters"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){var b=a.appContext;a=a.scale;return{queries:{queryReference:{options:{fetchPolicy:"store-or-network"},parameters:c("ZenonUnifiedCometAppQuery$Parameters"),variables:{appContext:b,scale:a}}}}},root:c("JSResourceForInteraction")("ZenonUnifiedCometApp.react").__setRef("ZenonUnifiedCometApp.entrypoint")};g["default"]=a}),98);
__d("ZenonAppIntegrationBoundaryName.facebook",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum").Mirrored(["ARMADILLO_STATS_OVERLAY","AUDIENCE_EXPANSION","AUDIO_INDICATORS","AUDIO_STALL_RECOVERY","AUTO_MUTE_VIDEO_IF_DISABLED","AUTO_REJOIN","AV_ESCALATION_BANNER","BACKGROUND_BLUR","BREAKOUT_ROOMS","BUG_NUB","CALL_TRANSFER","CAN_YOU_SEE_MY_SCREEN","COEXPERIENCE_ACTION_ITEMS","COLLABORATION_SPACE","COMPANION","COMPANION_VIEW","COPLAY","COUNTDOWN_TIMER","COVIEW","COWATCH","COWORKING_CONVERSATION_CONTEXT","DUAL_STREAM_SWAP","E2EE_NEW_DEVICE_NOTIFICATIONS","E2E_ENCRYPTION_MENUITEM","EMOJI_REACTIONS","END_CALL_QUICK_PROMOTION","END_CALL_UPSELL","END_CALL_VIEW","END_ROOM_ACTION","EXCEPTIONS_CRASH_THE_ENTIRE_APP","FRX_REPORT_TO_FACEBOOK_OR_GROUPADMIN_MENUITEM","GROUP_ESCALATION_BANNER","GROUP_EXPANSION","HALO_CALL_ADMINS","HALO_SCREEN_SHARING","HOTKEYS","HUDDLE_SPEAKER_EXPERIENCE","INCALL_CHAT","INCALL_FILES_AND_ASSETS","INCALL_HEADER","INCALL_LOBBY","INCALL_MORE_OPTIONS_POPOVER","INCALL_PARTICIPANT_NOTIFICATIONS","INCALL_PLACEHOLDER","INCALL_ROOM_NAME_VIEW","INCALL_ROUTER_TRANSITION","INTERN_ONE_ONE","JOIN_LEAVE_SOUND","JOIN_PERMISSION_NOTIFICATIONS","JOIN_REQUESTS","LOCK_ROOM_ACTION","LOCK_ROOM_NOTIFICATIONS","MEDIA_DEVICE_CHANGE","MEDIA_DEVICE_CHANGE_NOTIFICATIONS","MEDIA_LIBRARY","MEETING_ASSISTANT","MESSAGE_PARTICIPANT","MODERATOR_CONTROLS","MPL_FORCE_ENCODING","MPL_LAYOUT_SWITCH_MENUITEM","MPL_SIDE_PANEL","MUTE_CONTROL","MUTE_DETECTION","MUTE_STATUS_INDICATOR","MW_AV_ESCALATION","NOTIFICATION_LIST","NOTIFY_HOST","NUX","OPEN_FOR_EVERYONE","OPEN_IN_NEW_WINDOW","PARTICIPANT_ITEM","PICTURE_IN_PICTURE","POLLS","POOR_CONNECTION","POOR_NETWORK_INDICATOR","PRECALL_LOBBY","PRIVACY_DISCLAIMER","PRONUNCIATION","QNA","QUIZZES","RAISED_HAND_DETECTION","RAISE_HANDS","REMOTE_VIDEO_GRID_ITEM","REMOVE_PARTICIPANT","REPORT_MISSING_MEDIA","RINGBACK_TONE","ROBOTICS","ROOMS2LIVE","ROOMS_CHAT","ROOMS_NOTES","ROOM_CONNECT_EVENT_LOGGING","SCREENSHARING_MODERATION","SCREENSHARING_NOTIFICATIONS","SCREEN_SHARE_FLOOR_CONTROL","SELF_ACCESSIBILITY_HEADER","SELF_MUTE_INDICATOR","SELF_VIEW","SESSION_LIFECYCLE_LOGGING","SETTINGS_LAYOUT","SETTINGS_REPORTING","SEV_NOTIFICATION","SHAMAN_WARDEN","SHARED_CONTENT","SHARE_LINK_DIALOG_ACTION","SIDE_GARDEN","SINGLE_STEP_LOBBY","SNIPPETS","SPARK_AR","STAGES_ATTENDEE_LOGGING","START_CALL_VIEW","STATE_SYNC_RECOVERY","STATS_OVERLAY","TOGGLE_FULLSCREEN_MENUITEM","TOGGLE_LAYOUT_OVERLAY","TOGGLE_VIDEO_ONLY_MENUITEM","VIDEO_LAYOUT_SWITCH_MENUITEM","VIDEO_STALL_RECOVERY","VIEW_PARTICIPANT_PROFILE","WHITEBOARD","WHITEBOARD_MESSENGER","WORKROOMS_CANVAS","WORKROOMS_IN_CALL_CALENDAR_STATE","WORKROOMS_PRISM_FLOAT_SELF_VIEW","WORKROOMS_PRISM_OPEN_FOR_EVERYONE","WORKROOMS_PRISM_PARTICIPANTS_LIST","WORKROOMS_PRISM_PARTICIPANT_CHICLET_OVERLAY","WORKROOMS_PRISM_PARTICIPANT_OVERLAY","WORKROOMS_PRISM_PRIMARY_SPEAKER_DUAL_STREAM_TOGGLE_HANDLER","WORKROOMS_PRISM_RAISE_HAND_QUEUE","WORKROOMS_PRISM_RELIABILITY_CHECKS","WORKROOMS_REPORT_COPRESENCE","WORKROOMS_VR_ROOM_RENDER_PINNING","WORKROOMS_ZOOM","WORK_CHAT","WORK_MEETUP_CALENDAR","ZERO_MEDIA_JOINER"]);c=a;f["default"]=c}),66);
__d("ZenonLogLongSuspension.react",["ODS","clearTimeout","react","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useEffect;function a(a){var b=a.name;h(function(){return j(b,5)},[b]);h(function(){return j(b,15)},[b]);h(function(){return j(b,60)},[b]);h(function(){return j(b,300)},[b]);return null}var i=/\W/g;function j(a,b){var e=c("setTimeout")(function(){d("ODS").bumpEntityKey(4272,"zenon_product","zenon_integration_boundary."+a.replace(i,"_")+".suspended_"+b.toString(10)+"_sec")},b*1e3);return function(){c("clearTimeout")(e)}}g["default"]=a}),98);
__d("ZenonIntegrationBoundary.react",["ErrorBoundary.react","FBLogger","Recoil","ZenonDefaultErrorBoundaryProject","ZenonLogLongSuspension.react","ZenonPluginErrorState","emptyFunction","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useState;function a(a){var b=a.children,e=a.errorBoundaryProject,f=a.forceResetErrorCount;f=f===void 0?void 0:f;var g=a.localErrorFallback;g=g===void 0?c("emptyFunction").thatReturns(null):g;var j=a.name,k=a.onError,l=k===void 0?c("emptyFunction"):k;k=a.projectErrorFallback;k=k===void 0?null:k;a=a.suspenseFallback;a=a===void 0?null:a;var m=i(!1),n=m[0],o=m[1],p=d("Recoil").useRecoilValue(d("ZenonPluginErrorState").events);m=d("Recoil").useRecoilState(d("ZenonPluginErrorState").statuses(e));var q=m[0],r=m[1];return q&&!n?k:h.jsx(c("ErrorBoundary.react"),{fallback:g,forceResetErrorCount:f,onError:function(a,b){if(l(a,b)===!1)c("FBLogger")("rtc_www","error_propagation_stopped").catching(a).info('ZenonIntegrationBoundary caught an error from "%s" in module "%s" and the caller stopped propagation');else if(e===c("ZenonDefaultErrorBoundaryProject")||e==="EXCEPTIONS_CRASH_THE_ENTIRE_APP"){c("FBLogger")("rtc_www","default_error_boundary_integration_crashed").catching(a).mustfix('ZenonIntegrationBoundary caught an error from "%s" in module "%s" and re-threw it because it is associated with the default error boundary project',j,b);throw a}else c("FBLogger")("rtc_www","error_propagated").catching(a).warn('ZenonIntegrationBoundary caught an error from "%s" of error boundary project "%s" in module "%s"',j,e,b),p.emit(e,j,a),o(!0),r(!0)},children:h.jsx(h.Suspense,{fallback:h.jsxs(h.Fragment,{children:[a,h.jsx(c("ZenonLogLongSuspension.react"),{name:j})]}),children:b})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("ZenonIntegrationMatchContainer.react",["CometRelay","ZenonIntegrationBoundary.react","ZenonIntegrationMatchContainer_match.graphql","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react");function a(a){var e=a.match;a=a.props;var f=d("CometRelay").useFragment(h!==void 0?h:h=b("ZenonIntegrationMatchContainer_match.graphql"),e);return i.jsx(c("ZenonIntegrationBoundary.react"),{errorBoundaryProject:f.integration_boundary_name,name:f.__typename,children:i.jsx(d("CometRelay").MatchContainer,{match:e,props:a})})}g["default"]=a}),98);
__d("ZenonIsUnifiedRoomsAtom",["Recoil"],(function(a,b,c,d,e,f,g){"use strict";a=d("Recoil").atom({"default":!1,key:"ZenonIsUnifiedRoomsAtom"});g["default"]=a}),98);
__d("ZenonJoinCallInteractionContext.react",["emptyFunction","react"],(function(a,b,c,d,e,f,g){"use strict";a=d("react");b={interactionID:null,setInteractionID:c("emptyFunction")};e=a.createContext(b);g["default"]=e}),98);
__d("ZenonJoinCallInteractionProvider.react",["ZenonJoinCallInteractionContext.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useMemo,j=b.useState;function a(a){a=a.children;var b=j(null),d=b[0],e=b[1];b=i(function(){return{interactionID:d,setInteractionID:e}},[d,e]);return h.jsx(c("ZenonJoinCallInteractionContext.react").Provider,{value:b,children:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("ZenonAppContextImpl",["Recoil","ZenonAppContextImplQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h;h!==void 0?h:h=b("ZenonAppContextImplQuery.graphql");a=d("Recoil").atom({"default":{joining_context:{},is_e2ee_mandated:!1},key:"ZenonAppContextImpl"});g["default"]=a}),98);
__d("setZenonAppContextOnAppInitialization",["ZenonAppContextImpl"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){a.set(c("ZenonAppContextImpl"),b)}g["default"]=a}),98);
__d("useZenonMessengerCallInviteLinkChangeSubscription",["CometRelay","RelayHooks","react","useZenonMessengerCallInviteLinkChangeSubscription.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react").useEffect,j=h!==void 0?h:h=b("useZenonMessengerCallInviteLinkChangeSubscription.graphql");function a(a,b){var c=d("RelayHooks").useRelayEnvironment();i(function(){if(a==null)return;var e=d("CometRelay").requestSubscription(c,{subscription:j,updater:null,variables:{input:{ent_id:a},scale:b}});return function(){return e.dispose()}},[c,a,b])}g["default"]=a}),98);
__d("useZenonRoomLinkId",["CometRelay","useZenonRoomLinkId_app.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h!==void 0?h:h=b("useZenonRoomLinkId_app.graphql");function a(a){a=d("CometRelay").useFragment(i,a);return(a=a.door)==null?void 0:a.id}g["default"]=a}),98);
__d("ZenonUnifiedCometApp.react",["Actor","CometKeyCommandSettingsContext","CometRelay","CometTransientDialogProvider.react","MeetupSwitchRoomContext","Recoil","ZenonActorHooks","ZenonFunnelSessionProvider.react","ZenonIntegrationBoundary.react","ZenonIntegrationMatchContainer.react","ZenonIsUnifiedRoomsAtom","ZenonJoinCallInteractionProvider.react","ZenonLocalMediaProvider.react","ZenonRelayEnvironment","ZenonUnifiedCometAppQuery.graphql","cr:1185","react","setZenonAppContextOnAppInitialization","usePrevious","useZenonMessengerCallInviteLinkChangeSubscription","useZenonRoomLinkId"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react");e=d("react");var j=e.useContext,k=e.useEffect,l=e.useMemo,m=(e=b("cr:1185"))!=null?e:null,n=h!==void 0?h:h=b("ZenonUnifiedCometAppQuery.graphql");function a(a){var b=d("Actor").useActor(),c=b[0];k(function(){d("ZenonActorHooks").initZenonActor(c)},[c]);d("ZenonRelayEnvironment").useUpdateZenonRelayEnvironment();b=d("CometRelay").usePreloadedQuery(n,a.queries.queryReference);return m!=null?i.jsx(m,{children:i.jsx(p,babelHelpers["extends"]({},a))}):i.jsx(o,{appContext:a.queries.queryReference.variables.appContext,data:b,otherProps:a.props,scale:a.queries.queryReference.variables.scale})}a.displayName=a.name+" [from "+f.id+"]";function o(a){var b=a.appContext,e=a.data,f=a.otherProps,g=f.appMessages,h=f.clientCallID,k=f.funnelSessionID,m=f.hasVideo,n=f.isE2eeMandated,o=f.nonce,p=f.parentRequestID,q=f.referrerContext,r=f.roomID;f=f.usersToRing;a=a.scale;var s=c("useZenonRoomLinkId")(e.zenon_app);c("useZenonMessengerCallInviteLinkChangeSubscription")(s,a);var t=j(c("CometKeyCommandSettingsContext"));s=l(function(){return babelHelpers["extends"]({},t,{getAreSingleKeysDisabled:function(){return!1}})},[t]);return i.jsx(d("Recoil").RecoilRoot,{initializeState:function(a){c("setZenonAppContextOnAppInitialization")(a,b),a.set(c("ZenonIsUnifiedRoomsAtom"),!0)},children:i.jsx(c("CometTransientDialogProvider.react"),{children:i.jsx(c("CometKeyCommandSettingsContext").Provider,{value:s,children:i.jsxs(c("ZenonFunnelSessionProvider.react"),{funnelSessionID:k,children:[i.jsx(c("ZenonJoinCallInteractionProvider.react"),{children:i.jsx(c("ZenonLocalMediaProvider.react"),{children:i.jsx(c("ZenonIntegrationMatchContainer.react"),{match:e.zenon_app.precall_lobby,props:{appMessages:g,clientCallID:h,clientType:b.client_type,funnelSessionID:k,hasVideo:m,isE2eeMandated:n,nonce:o,parentRequestID:p,referrerContext:q,roomID:r,usersToRing:f}})})}),i.jsx(c("ZenonIntegrationBoundary.react"),{errorBoundaryProject:"EXCEPTIONS_CRASH_THE_ENTIRE_APP",name:"cookie-consent-dialog",children:i.jsx(d("CometRelay").MatchContainer,{match:(a=e.zenon_app.brand)==null?void 0:a.cookie_consent_dialog,props:{}})})]})})})},(s=r)!=null?s:void 0)}o.displayName=o.name+" [from "+f.id+"]";function p(a){var b=j(c("MeetupSwitchRoomContext"));b=b.meetupRoom;var e=b.linkURL;b=b.roomID;var f=c("usePrevious")(e);f=e!==f;var g=d("CometRelay").usePreloadedQuery(n,a.queries.queryReference);return f&&b!==null?i.jsx(i.Suspense,{fallback:null,children:i.jsx(q,babelHelpers["extends"]({linkURL:e,roomID:b},a))}):i.jsx(o,{appContext:a.queries.queryReference.variables.appContext,data:g,otherProps:a.props,scale:a.queries.queryReference.variables.scale})}p.displayName=p.name+" [from "+f.id+"]";function q(a){var b=babelHelpers["extends"]({},a.queries.queryReference.variables.appContext,{call_origin:"BREAKOUT_ROOM_REDIRECTION",joining_context:{link_url:a.linkURL}}),c=d("CometRelay").useLazyLoadQuery(n,{appContext:b,scale:a.queries.queryReference.variables.scale},{fetchPolicy:"store-or-network"});return i.jsx(o,{appContext:b,data:c,otherProps:babelHelpers["extends"]({},a.props,{roomID:a.roomID}),scale:a.queries.queryReference.variables.scale})}q.displayName=q.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("ZenonUnifiedCometFullPageSimpleRouteDispatcher.react",["CometRouterDispatcherContext","goForceFullPageRedirectTo","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useMemo;function j(){var a={go:function(a,b){c("goForceFullPageRedirectTo")(a)},goBack:function(){window.history.back()},goTo:function(a,b){c("goForceFullPageRedirectTo")(a.url)},popPushView:function(){window.history.back()},prefetchRouteDefinition:function(){},prefetchRouteQueries:function(a,b){return{cancel:function(){},usePrefetchedEntrypointForRouting:function(){}}},preloadRouteCode:function(a,b){},withContext:function(){return a}};return a}function a(a){a=a.children;var b=i(function(){return j()},[]);return h.jsx(c("CometRouterDispatcherContext").Provider,{value:b,children:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("ZenonUnifiedCometAppWrapper.react",["CometTheme.react","ErrorBoundary.react","FBLogger","FocusRegion.react","ZenonPanicProvider.react","ZenonUnifiedCometFullPageSimpleRouteDispatcher.react","cr:1938168","focusScopeQueries","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){a=a.children;return h.jsx(c("ZenonUnifiedCometFullPageSimpleRouteDispatcher.react"),{children:h.jsx(d("FocusRegion.react").FocusRegion,{recoverFocusQuery:d("focusScopeQueries").headerFirstTabbableSecondScopeQuery,children:h.jsxs(c("CometTheme.react"),{theme:"dark",children:[h.jsx(c("ZenonPanicProvider.react"),{children:a}),b("cr:1938168")&&h.jsx(c("ErrorBoundary.react"),{onError:function(a){c("FBLogger")("rtc_www").catching(a).warn("Redblock crashed")},children:h.jsx(b("cr:1938168"),{})})]})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("ZenonParticipantMenuQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="6740452175966937"}),null);/*FB_PKG_DELIM*/
/**
 * License: https://www.facebook.com/legal/license/t3hOLs8wlXy/
 */
__d("regenerator-runtime-0.13.5",[],(function(a,b,c,d,e,f){"use strict";b={};var g={exports:b};function h(){var a=function(a){var b=Object.prototype,c=b.hasOwnProperty,d,e=typeof Symbol==="function"?Symbol:{},g=e.iterator||"@@iterator",h=e.asyncIterator||"@@asyncIterator",i=e.toStringTag||"@@toStringTag";function j(a,b,c,d){b=b&&b.prototype instanceof q?b:q;b=Object.create(b.prototype);d=new B(d||[]);b._invoke=x(a,c,d);return b}a.wrap=j;function k(a,b,c){try{return{type:"normal",arg:a.call(b,c)}}catch(a){return{type:"throw",arg:a}}}var l="suspendedStart",m="suspendedYield",n="executing",o="completed",p={};function q(){}function r(){}function s(){}e={};e[g]=function(){return this};var t=Object.getPrototypeOf;t=t&&t(t(C([])));t&&t!==b&&c.call(t,g)&&(e=t);var u=s.prototype=q.prototype=Object.create(e);r.prototype=u.constructor=s;s.constructor=r;s[i]=r.displayName="GeneratorFunction";function v(a){["next","throw","return"].forEach(function(b){a[b]=function(a){return this._invoke(b,a)}})}a.isGeneratorFunction=function(a){a=typeof a==="function"&&a.constructor;return a?a===r||(a.displayName||a.name)==="GeneratorFunction":!1};a.mark=function(a){Object.setPrototypeOf?Object.setPrototypeOf(a,s):(a.__proto__=s,i in a||(a[i]="GeneratorFunction"));a.prototype=Object.create(u);return a};a.awrap=function(a){return{__await:a}};function w(a,b){function d(e,f,g,h){e=k(a[e],a,f);if(e.type==="throw")h(e.arg);else{var i=e.arg;f=i.value;return f&&typeof f==="object"&&c.call(f,"__await")?b.resolve(f.__await).then(function(a){d("next",a,g,h)},function(a){d("throw",a,g,h)}):b.resolve(f).then(function(a){i.value=a,g(i)},function(a){return d("throw",a,g,h)})}}var e;function f(a,c){function f(){return new b(function(b,e){d(a,c,b,e)})}return e=e?e.then(f,f):f()}this._invoke=f}v(w.prototype);w.prototype[h]=function(){return this};a.AsyncIterator=w;a.async=function(b,c,d,e,f){f===void 0&&(f=Promise);var g=new w(j(b,c,d,e),f);return a.isGeneratorFunction(c)?g:g.next().then(function(a){return a.done?a.value:g.next()})};function x(a,b,c){var d=l;return function(e,f){if(d===n)throw new Error("Generator is already running");if(d===o){if(e==="throw")throw f;return D()}c.method=e;c.arg=f;while(!0){e=c.delegate;if(e){f=y(e,c);if(f){if(f===p)continue;return f}}if(c.method==="next")c.sent=c._sent=c.arg;else if(c.method==="throw"){if(d===l){d=o;throw c.arg}c.dispatchException(c.arg)}else c.method==="return"&&c.abrupt("return",c.arg);d=n;e=k(a,b,c);if(e.type==="normal"){d=c.done?o:m;if(e.arg===p)continue;return{value:e.arg,done:c.done}}else e.type==="throw"&&(d=o,c.method="throw",c.arg=e.arg)}}}function y(a,b){var c=a.iterator[b.method];if(c===void 0){b.delegate=null;if(b.method==="throw"){if(a.iterator["return"]){b.method="return";b.arg=void 0;y(a,b);if(b.method==="throw")return p}b.method="throw";b.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}c=k(c,a.iterator,b.arg);if(c.type==="throw"){b.method="throw";b.arg=c.arg;b.delegate=null;return p}c=c.arg;if(!c){b.method="throw";b.arg=new TypeError("iterator result is not an object");b.delegate=null;return p}if(c.done)b[a.resultName]=c.value,b.next=a.nextLoc,b.method!=="return"&&(b.method="next",b.arg=void 0);else return c;b.delegate=null;return p}v(u);u[i]="Generator";u[g]=function(){return this};u.toString=function(){return"[object Generator]"};function z(a){var b={tryLoc:a[0]};1 in a&&(b.catchLoc=a[1]);2 in a&&(b.finallyLoc=a[2],b.afterLoc=a[3]);this.tryEntries.push(b)}function A(a){var b=a.completion||{};b.type="normal";delete b.arg;a.completion=b}function B(a){this.tryEntries=[{tryLoc:"root"}],a.forEach(z,this),this.reset(!0)}a.keys=function(a){var b=[];for(var c in a)b.push(c);b.reverse();return function c(){while(b.length){var d=b.pop();if(d in a){c.value=d;c.done=!1;return c}}c.done=!0;return c}};function C(a){if(a){var b=a[g];if(b)return b.call(a);if(typeof a.next==="function")return a;if(!isNaN(a.length)){var d=-1;b=function b(){while(++d<a.length)if(c.call(a,d)){b.value=a[d];b.done=!1;return b}b.value=void 0;b.done=!0;return b};return b.next=b}}return{next:D}}a.values=C;function D(){return{value:void 0,done:!0}}B.prototype={constructor:B,reset:function(a){this.prev=0;this.next=0;this.sent=this._sent=void 0;this.done=!1;this.delegate=null;this.method="next";this.arg=void 0;this.tryEntries.forEach(A);if(!a)for(a in this)a.charAt(0)==="t"&&c.call(this,a)&&!isNaN(+a.slice(1))&&(this[a]=void 0)},stop:function(){this.done=!0;var a=this.tryEntries[0];a=a.completion;if(a.type==="throw")throw a.arg;return this.rval},dispatchException:function(a){if(this.done)throw a;var b=this;function d(c,d){g.type="throw";g.arg=a;b.next=c;d&&(b.method="next",b.arg=void 0);return!!d}for(var e=this.tryEntries.length-1;e>=0;--e){var f=this.tryEntries[e],g=f.completion;if(f.tryLoc==="root")return d("end");if(f.tryLoc<=this.prev){var h=c.call(f,"catchLoc"),i=c.call(f,"finallyLoc");if(h&&i){if(this.prev<f.catchLoc)return d(f.catchLoc,!0);else if(this.prev<f.finallyLoc)return d(f.finallyLoc)}else if(h){if(this.prev<f.catchLoc)return d(f.catchLoc,!0)}else if(i){if(this.prev<f.finallyLoc)return d(f.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(a,b){for(var d=this.tryEntries.length-1;d>=0;--d){var e=this.tryEntries[d];if(e.tryLoc<=this.prev&&c.call(e,"finallyLoc")&&this.prev<e.finallyLoc){var f=e;break}}f&&(a==="break"||a==="continue")&&f.tryLoc<=b&&b<=f.finallyLoc&&(f=null);e=f?f.completion:{};e.type=a;e.arg=b;if(f){this.method="next";this.next=f.finallyLoc;return p}return this.complete(e)},complete:function(a,b){if(a.type==="throw")throw a.arg;a.type==="break"||a.type==="continue"?this.next=a.arg:a.type==="return"?(this.rval=this.arg=a.arg,this.method="return",this.next="end"):a.type==="normal"&&b&&(this.next=b);return p},finish:function(a){for(var b=this.tryEntries.length-1;b>=0;--b){var c=this.tryEntries[b];if(c.finallyLoc===a){this.complete(c.completion,c.afterLoc);A(c);return p}}},"catch":function(a){for(var b=this.tryEntries.length-1;b>=0;--b){var c=this.tryEntries[b];if(c.tryLoc===a){var d=c.completion;if(d.type==="throw"){var e=d.arg;A(c)}return e}}throw new Error("illegal catch attempt")},delegateYield:function(a,b,c){this.delegate={iterator:C(a),resultName:b,nextLoc:c};this.method==="next"&&(this.arg=void 0);return p}};return a}(typeof g==="object"?g.exports:{});try{regeneratorRuntime=a}catch(b){Function("r","regeneratorRuntime = r")(a)}}var i=!1;function j(){i||(i=!0,h());return g.exports}function a(a){switch(a){case void 0:return j();case"/runtime":return j()}}e.exports=a}),null);
/**
 * License: https://www.facebook.com/legal/license/MDzNl_j9yvg/
 */
__d("babel-runtime-7.14.6",["regenerator-runtime-0.13.5"],(function(a,b,c,d,e,f){"use strict";function a(a){return a&&typeof a==="object"&&"default"in a?a["default"]:a}var g=Ub(),h=a(b("regenerator-runtime-0.13.5"));d={};var i={exports:d};function aa(){function a(a){if(a===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}i.exports=a;i.exports["default"]=i.exports,i.exports.__esModule=!0}var j=!1;function k(){j||(j=!0,aa());return i.exports}f={};var l={exports:f};function ba(){function a(a){var b;typeof Symbol!=="undefined"&&(Symbol.asyncIterator&&(b=a[Symbol.asyncIterator]),b==null&&Symbol.iterator&&(b=a[Symbol.iterator]));b==null&&(b=a["@@asyncIterator"]);b==null&&(b=a["@@iterator"]);if(b==null)throw new TypeError("Object is not async iterable");return b.call(a)}l.exports=a;l.exports["default"]=l.exports,l.exports.__esModule=!0}var m=!1;function ca(){m||(m=!0,ba());return l.exports}a={};var n={exports:a};function da(){function a(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(a){c(a);return}h.done?b(i):Promise.resolve(i).then(d,e)}function b(b){return function(){var c=this,d=arguments;return new Promise(function(e,f){var g=b.apply(c,d);function h(b){a(g,e,f,h,i,"next",b)}function i(b){a(g,e,f,h,i,"throw",b)}h(void 0)})}}n.exports=b;n.exports["default"]=n.exports,n.exports.__esModule=!0}var o=!1;function ea(){o||(o=!0,da());return n.exports}b={};var p={exports:b};function fa(){function a(a){this.wrapped=a}p.exports=a;p.exports["default"]=p.exports,p.exports.__esModule=!0}var ga=!1;function ha(){ga||(ga=!0,fa());return p.exports}d={};var q={exports:d};function ia(){var a=ha();function b(b){return new a(b)}q.exports=b;q.exports["default"]=q.exports,q.exports.__esModule=!0}var ja=!1;function ka(){ja||(ja=!0,ia());return q.exports}f={};var r={exports:f};function la(){function a(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}r.exports=a;r.exports["default"]=r.exports,r.exports.__esModule=!0}var ma=!1;function na(){ma||(ma=!0,la());return r.exports}a={};var s={exports:a};function oa(){function a(b,c){s.exports=a=Object.setPrototypeOf||function(a,b){a.__proto__=b;return a};s.exports["default"]=s.exports,s.exports.__esModule=!0;return a(b,c)}s.exports=a;s.exports["default"]=s.exports,s.exports.__esModule=!0}var pa=!1;function t(){pa||(pa=!0,oa());return s.exports}b={};var u={exports:b};function qa(){function a(){if(typeof Reflect==="undefined"||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(typeof Proxy==="function")return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return!0}catch(a){return!1}}u.exports=a;u.exports["default"]=u.exports,u.exports.__esModule=!0}var ra=!1;function sa(){ra||(ra=!0,qa());return u.exports}d={};var v={exports:d};function ta(){var a=t(),b=sa();function c(d,e,f){b()?(v.exports=c=Reflect.construct,(v.exports["default"]=v.exports,v.exports.__esModule=!0)):(v.exports=c=function(b,c,d){var e=[null];e.push.apply(e,c);c=Function.bind.apply(b,e);b=new c();d&&a(b,d.prototype);return b},(v.exports["default"]=v.exports,v.exports.__esModule=!0));return c.apply(null,arguments)}v.exports=c;v.exports["default"]=v.exports,v.exports.__esModule=!0}var ua=!1;function va(){ua||(ua=!0,ta());return v.exports}f={};var w={exports:f};function wa(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}function b(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}w.exports=b;w.exports["default"]=w.exports,w.exports.__esModule=!0}var xa=!1;function ya(){xa||(xa=!0,wa());return w.exports}a={};var x={exports:a};function za(){function a(a,b,c){b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c;return a}x.exports=a;x.exports["default"]=x.exports,x.exports.__esModule=!0}var Aa=!1;function Ba(){Aa||(Aa=!0,za());return x.exports}b={};var y={exports:b};function Ca(){function a(){y.exports=a=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a};y.exports["default"]=y.exports,y.exports.__esModule=!0;return a.apply(this,arguments)}y.exports=a;y.exports["default"]=y.exports,y.exports.__esModule=!0}var Da=!1;function Ea(){Da||(Da=!0,Ca());return y.exports}d={};var z={exports:d};function Fa(){function a(b){z.exports=a=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)};z.exports["default"]=z.exports,z.exports.__esModule=!0;return a(b)}z.exports=a;z.exports["default"]=z.exports,z.exports.__esModule=!0}var Ga=!1;function A(){Ga||(Ga=!0,Fa());return z.exports}f={};var B={exports:f};function Ha(){var a=A();function b(b,c){while(!Object.prototype.hasOwnProperty.call(b,c)){b=a(b);if(b===null)break}return b}B.exports=b;B.exports["default"]=B.exports,B.exports.__esModule=!0}var Ia=!1;function Ja(){Ia||(Ia=!0,Ha());return B.exports}a={};var C={exports:a};function Ka(){var a=Ja();function b(c,d,e){typeof Reflect!=="undefined"&&Reflect.get?(C.exports=b=Reflect.get,(C.exports["default"]=C.exports,C.exports.__esModule=!0)):(C.exports=b=function(b,c,d){b=a(b,c);if(!b)return;b=Object.getOwnPropertyDescriptor(b,c);return b.get?b.get.call(d):b.value},(C.exports["default"]=C.exports,C.exports.__esModule=!0));return b(c,d,e||c)}C.exports=b;C.exports["default"]=C.exports,C.exports.__esModule=!0}var La=!1;function Ma(){La||(La=!0,Ka());return C.exports}b={};var D={exports:b};function Na(){var a=t();function b(b,c){if(typeof c!=="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");b.prototype=Object.create(c&&c.prototype,{constructor:{value:b,writable:!0,configurable:!0}});c&&a(b,c)}D.exports=b;D.exports["default"]=D.exports,D.exports.__esModule=!0}var Oa=!1;function Pa(){Oa||(Oa=!0,Na());return D.exports}d={};var E={exports:d};function Qa(){var a=t();function b(b,c){b.prototype=Object.create(c.prototype),b.prototype.constructor=b,a(b,c)}E.exports=b;E.exports["default"]=E.exports,E.exports.__esModule=!0}var Ra=!1;function Sa(){Ra||(Ra=!0,Qa());return E.exports}f={};var F={exports:f};function Ta(){function a(a){return a&&a.__esModule?a:{"default":a}}F.exports=a;F.exports["default"]=F.exports,F.exports.__esModule=!0}var Ua=!1;function Va(){Ua||(Ua=!0,Ta());return F.exports}a={};var G={exports:a};function Wa(){var a=g("/helpers/typeof")["default"];function b(a){if(typeof WeakMap!=="function")return null;var c=new WeakMap(),d=new WeakMap();return(b=function(a){return a?d:c})(a)}function c(c,d){if(!d&&c&&c.__esModule)return c;if(c===null||a(c)!=="object"&&typeof c!=="function")return{"default":c};d=b(d);if(d&&d.has(c))return d.get(c);var e={},f=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var g in c)if(g!=="default"&&Object.prototype.hasOwnProperty.call(c,g)){var h=f?Object.getOwnPropertyDescriptor(c,g):null;h&&(h.get||h.set)?Object.defineProperty(e,g,h):e[g]=c[g]}e["default"]=c;d&&d.set(c,e);return e}G.exports=c;G.exports["default"]=G.exports,G.exports.__esModule=!0}var Xa=!1;function Ya(){Xa||(Xa=!0,Wa());return G.exports}b={};var H={exports:b};function Za(){var a=Ba();function b(b){for(var c=1;c<arguments.length;c++){var d=arguments[c]!=null?Object(arguments[c]):{},e=Object.keys(d);typeof Object.getOwnPropertySymbols==="function"&&(e=e.concat(Object.getOwnPropertySymbols(d).filter(function(a){return Object.getOwnPropertyDescriptor(d,a).enumerable})));e.forEach(function(c){a(b,c,d[c])})}return b}H.exports=b;H.exports["default"]=H.exports,H.exports.__esModule=!0}var $a=!1;function ab(){$a||($a=!0,Za());return H.exports}d={};var I={exports:d};function bb(){function a(a,b){if(a==null)return{};var c={},d=Object.keys(a),e,f;for(f=0;f<d.length;f++){e=d[f];if(b.indexOf(e)>=0)continue;c[e]=a[e]}return c}I.exports=a;I.exports["default"]=I.exports,I.exports.__esModule=!0}var cb=!1;function db(){cb||(cb=!0,bb());return I.exports}f={};var J={exports:f};function eb(){var a=db();function b(b,c){if(b==null)return{};var d=a(b,c),e,f;if(Object.getOwnPropertySymbols){var g=Object.getOwnPropertySymbols(b);for(f=0;f<g.length;f++){e=g[f];if(c.indexOf(e)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(b,e))continue;d[e]=b[e]}}return d}J.exports=b;J.exports["default"]=J.exports,J.exports.__esModule=!0}var fb=!1;function gb(){fb||(fb=!0,eb());return J.exports}a={};var K={exports:a};function hb(){var a=g("/helpers/typeof")["default"],b=k();function c(c,d){return d&&(a(d)==="object"||typeof d==="function")?d:b(c)}K.exports=c;K.exports["default"]=K.exports,K.exports.__esModule=!0}var ib=!1;function jb(){ib||(ib=!0,hb());return K.exports}b={};var L={exports:b};function kb(){function a(a){throw new TypeError('"'+a+'" is read-only')}L.exports=a;L.exports["default"]=L.exports,L.exports.__esModule=!0}var lb=!1;function mb(){lb||(lb=!0,kb());return L.exports}d={};var M={exports:d};function nb(){function a(a){if(Array.isArray(a))return a}M.exports=a;M.exports["default"]=M.exports,M.exports.__esModule=!0}var ob=!1;function pb(){ob||(ob=!0,nb());return M.exports}f={};var N={exports:f};function qb(){function a(a,b){var c=a==null?null:typeof Symbol!=="undefined"&&a[Symbol.iterator]||a["@@iterator"];if(c==null)return;var d=[],e=!0,f=!1,g;try{for(c=c.call(a);!(e=(a=c.next()).done);e=!0){d.push(a.value);if(b&&d.length===b)break}}catch(a){f=!0,g=a}finally{try{!e&&c["return"]!=null&&c["return"]()}finally{if(f)throw g}}return d}N.exports=a;N.exports["default"]=N.exports,N.exports.__esModule=!0}var rb=!1;function sb(){rb||(rb=!0,qb());return N.exports}a={};var O={exports:a};function tb(){function a(a,b){(b==null||b>a.length)&&(b=a.length);for(var c=0,d=new Array(b);c<b;c++)d[c]=a[c];return d}O.exports=a;O.exports["default"]=O.exports,O.exports.__esModule=!0}var ub=!1;function vb(){ub||(ub=!0,tb());return O.exports}b={};var P={exports:b};function wb(){var a=vb();function b(b,c){if(!b)return;if(typeof b==="string")return a(b,c);var d=Object.prototype.toString.call(b).slice(8,-1);d==="Object"&&b.constructor&&(d=b.constructor.name);if(d==="Map"||d==="Set")return Array.from(b);if(d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d))return a(b,c)}P.exports=b;P.exports["default"]=P.exports,P.exports.__esModule=!0}var xb=!1;function yb(){xb||(xb=!0,wb());return P.exports}d={};var Q={exports:d};function zb(){function a(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}Q.exports=a;Q.exports["default"]=Q.exports,Q.exports.__esModule=!0}var Ab=!1;function Bb(){Ab||(Ab=!0,zb());return Q.exports}f={};var R={exports:f};function Cb(){var a=pb(),b=sb(),c=yb(),d=Bb();function e(e,f){return a(e)||b(e,f)||c(e,f)||d()}R.exports=e;R.exports["default"]=R.exports,R.exports.__esModule=!0}var Db=!1;function Eb(){Db||(Db=!0,Cb());return R.exports}a={};var S={exports:a};function Fb(){var a=vb();function b(b){if(Array.isArray(b))return a(b)}S.exports=b;S.exports["default"]=S.exports,S.exports.__esModule=!0}var Gb=!1;function Hb(){Gb||(Gb=!0,Fb());return S.exports}b={};var T={exports:b};function Ib(){function a(a){if(typeof Symbol!=="undefined"&&a[Symbol.iterator]!=null||a["@@iterator"]!=null)return Array.from(a)}T.exports=a;T.exports["default"]=T.exports,T.exports.__esModule=!0}var Jb=!1;function Kb(){Jb||(Jb=!0,Ib());return T.exports}d={};var U={exports:d};function Lb(){function a(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}U.exports=a;U.exports["default"]=U.exports,U.exports.__esModule=!0}var Mb=!1;function Nb(){Mb||(Mb=!0,Lb());return U.exports}f={};var V={exports:f};function Ob(){var a=Hb(),b=Kb(),c=yb(),d=Nb();function e(e){return a(e)||b(e)||c(e)||d()}V.exports=e;V.exports["default"]=V.exports,V.exports.__esModule=!0}var Pb=!1;function Qb(){Pb||(Pb=!0,Ob());return V.exports}var Rb={},W={exports:Rb};function Sb(){function a(b){typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?(W.exports=a=function(a){return typeof a},(W.exports["default"]=W.exports,W.exports.__esModule=!0)):(W.exports=a=function(a){return a&&typeof Symbol==="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},(W.exports["default"]=W.exports,W.exports.__esModule=!0));return a(b)}W={exports:Rb};W.exports=a;W.exports["default"]=W.exports,W.exports.__esModule=!0}var Tb=!1;function Ub(){Tb||(Tb=!0,Sb());return W.exports}a={};var X={exports:a};function Vb(){var a=ha();function b(b){var c,d;function e(a,b){return new Promise(function(e,g){e={key:a,arg:b,resolve:e,reject:g,next:null};d?d=d.next=e:(c=d=e,f(a,b))})}function f(c,d){try{var e=b[c](d);d=e.value;var h=d instanceof a;Promise.resolve(h?d.wrapped:d).then(function(a){if(h){f(c==="return"?"return":"next",a);return}g(e.done?"return":"normal",a)},function(a){f("throw",a)})}catch(a){g("throw",a)}}function g(a,b){switch(a){case"return":c.resolve({value:b,done:!0});break;case"throw":c.reject(b);break;default:c.resolve({value:b,done:!1});break}c=c.next;c?f(c.key,c.arg):d=null}this._invoke=e;typeof b["return"]!=="function"&&(this["return"]=void 0)}b.prototype[typeof Symbol==="function"&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this};b.prototype.next=function(a){return this._invoke("next",a)};b.prototype["throw"]=function(a){return this._invoke("throw",a)};b.prototype["return"]=function(a){return this._invoke("return",a)};X.exports=b;X.exports["default"]=X.exports,X.exports.__esModule=!0}var Wb=!1;function Xb(){Wb||(Wb=!0,Vb());return X.exports}b={};var Y={exports:b};function Yb(){var a=Xb();function b(b){return function(){return new a(b.apply(this,arguments))}}Y.exports=b;Y.exports["default"]=Y.exports,Y.exports.__esModule=!0}var Zb=!1;function $b(){Zb||(Zb=!0,Yb());return Y.exports}d={};var Z={exports:d};function ac(){function a(a){return Function.toString.call(a).indexOf("[native code]")!==-1}Z.exports=a;Z.exports["default"]=Z.exports,Z.exports.__esModule=!0}var bc=!1;function cc(){bc||(bc=!0,ac());return Z.exports}f={};var $={exports:f};function dc(){var a=A(),b=t(),c=cc(),d=va();function e(f){var g=typeof Map==="function"?new Map():void 0;$.exports=e=function(e){if(e===null||!c(e))return e;if(typeof e!=="function")throw new TypeError("Super expression must either be null or a function");if(typeof g!=="undefined"){if(g.has(e))return g.get(e);g.set(e,f)}function f(){return d(e,arguments,a(this).constructor)}f.prototype=Object.create(e.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}});return b(f,e)};$.exports["default"]=$.exports,$.exports.__esModule=!0;return e(f)}$.exports=e;$.exports["default"]=$.exports,$.exports.__esModule=!0}var ec=!1;function fc(){ec||(ec=!0,dc());return $.exports}a={};var gc={exports:a};function hc(){gc.exports=h()}var ic=!1;function jc(){ic||(ic=!0,hc());return gc.exports}function c(a){switch(a){case void 0:throw new Error("Cannot require the default exported value from a package listed as excluded");case"/helpers/assertThisInitialized":return k();case"/helpers/asyncIterator":return ca();case"/helpers/asyncToGenerator":return ea();case"/helpers/awaitAsyncGenerator":return ka();case"/helpers/classCallCheck":return na();case"/helpers/construct":return va();case"/helpers/createClass":return ya();case"/helpers/defineProperty":return Ba();case"/helpers/extends":return Ea();case"/helpers/get":return Ma();case"/helpers/getPrototypeOf":return A();case"/helpers/inherits":return Pa();case"/helpers/inheritsLoose":return Sa();case"/helpers/interopRequireDefault":return Va();case"/helpers/interopRequireWildcard":return Ya();case"/helpers/objectSpread":return ab();case"/helpers/objectWithoutProperties":return gb();case"/helpers/objectWithoutPropertiesLoose":return db();case"/helpers/possibleConstructorReturn":return jb();case"/helpers/readOnlyError":return mb();case"/helpers/slicedToArray":return Eb();case"/helpers/toConsumableArray":return Qb();case"/helpers/typeof":return Ub();case"/helpers/wrapAsyncGenerator":return $b();case"/helpers/wrapNativeSuper":return fc();case"/regenerator":return jc()}}e.exports=c}),null);
/**
 * License: https://www.facebook.com/legal/license/t3hOLs8wlXy/
 */
__d("blueimp-canvas-to-blob-3.14.0",[],(function(a,b,c,d,e,f){"use strict";b={};var g={exports:b},h;function i(){(function(a){var b=a.HTMLCanvasElement&&a.HTMLCanvasElement.prototype,c=a.Blob&&function(){try{return Boolean(new Blob())}catch(a){return!1}}(),d=c&&a.Uint8Array&&function(){try{return new Blob([new Uint8Array(100)]).size===100}catch(a){return!1}}(),e=a.BlobBuilder||a.WebKitBlobBuilder||a.MozBlobBuilder||a.MSBlobBuilder,f=/^data:((.*?)(;charset=.*?)?)(;base64)?,/,i=(c||e)&&a.atob&&a.ArrayBuffer&&a.Uint8Array&&function(a){var b,g,h,i;b=a.match(f);if(!b)throw new Error("invalid data URI");g=b[2]?b[1]:"text/plain"+(b[3]||";charset=US-ASCII");h=!!b[4];a=a.slice(b[0].length);h?b=atob(a):b=decodeURIComponent(a);h=new ArrayBuffer(b.length);a=new Uint8Array(h);for(i=0;i<b.length;i+=1)a[i]=b.charCodeAt(i);if(c)return new Blob([d?a:h],{type:g});b=new e();b.append(h);return b.getBlob(g)};a.HTMLCanvasElement&&!b.toBlob&&(b.mozGetAsFile?b.toBlob=function(a,c,d){var e=this;setTimeout(function(){d&&b.toDataURL&&i?a(i(e.toDataURL(c,d))):a(e.mozGetAsFile("blob",c))})}:b.toDataURL&&i&&(b.toBlob=function(a,b,c){var d=this;setTimeout(function(){a(i(d.toDataURL(b,c)))})}));typeof h==="function"&&h.amd?h(function(){return i}):typeof g==="object"&&g.exports?g.exports=i:a.dataURLtoBlob=i})(window)}var j=!1;function k(){j||(j=!0,i());return g.exports}function a(a){switch(a){case void 0:return k()}}e.exports=a}),null);
__d("blueimp-canvas-to-blob",["blueimp-canvas-to-blob-3.14.0"],(function(a,b,c,d,e,f){e.exports=b("blueimp-canvas-to-blob-3.14.0")()}),null);
/**
 * License: https://www.facebook.com/legal/license/yKsQCAUqcFZ/
 */
__d("dexie-4.0.1-alpha.22",[],(function(a,b,c,d,e,f){"use strict";var g={},h={exports:g},i;function j(){(function(b,c){typeof g==="object"&&typeof h!=="undefined"?h.exports=c():typeof i==="function"&&i.amd?i(c):(b=typeof globalThis!=="undefined"?globalThis:b||self,b.Dexie=c())})(this,function(){var b=function(a,c){b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])};return b(a,c)};function c(a,c){if(typeof c!=="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");b(a,c);function d(){this.constructor=a}a.prototype=c===null?Object.create(c):(d.prototype=c.prototype,new d())}var d=function(){d=Object.assign||function(a){for(var b,c=1,d=arguments.length;c<d;c++){b=arguments[c];for(var e in b)Object.prototype.hasOwnProperty.call(b,e)&&(a[e]=b[e])}return a};return d.apply(this,arguments)};function e(a,b,c){if(c||arguments.length===2)for(var d=0,e=b.length,f;d<e;d++)(f||!(d in b))&&(f||(f=Array.prototype.slice.call(b,0,d)),f[d]=b[d]);return a.concat(f||Array.prototype.slice.call(b))}var f=typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:typeof window!=="undefined"?window:a,g=Object.keys,h=Array.isArray;typeof Promise!=="undefined"&&!f.Promise&&(f.Promise=Promise);function i(a,b){if(typeof b!=="object")return a;g(b).forEach(function(c){a[c]=b[c]});return a}var j=Object.getPrototypeOf,k={}.hasOwnProperty;function l(a,b){return k.call(a,b)}function m(a,b){typeof b==="function"&&(b=b(j(a))),(typeof Reflect==="undefined"?g:Reflect.ownKeys)(b).forEach(function(c){o(a,c,b[c])})}var n=Object.defineProperty;function o(a,b,c,d){n(a,b,i(c&&l(c,"get")&&typeof c.get==="function"?{get:c.get,set:c.set,configurable:!0}:{value:c,configurable:!0,writable:!0},d))}function p(a){return{from:function(b){a.prototype=Object.create(b.prototype);o(a.prototype,"constructor",a);return{extend:m.bind(null,a.prototype)}}}}var q=Object.getOwnPropertyDescriptor;function r(a,b){var c=q(a,b);return c||(c=j(a))&&r(c,b)}var s=[].slice;function t(a,b,c){return s.call(a,b,c)}function u(a,b){return b(a)}function v(a){if(!a)throw new Error("Assertion Failed")}function aa(a){f.setImmediate?setImmediate(a):setTimeout(a,0)}function ba(a,b){return a.reduce(function(a,c,d){c=b(c,d);c&&(a[c[0]]=c[1]);return a},{})}function ca(a,b,c){try{a.apply(null,c)}catch(a){b&&b(a)}}function w(a,b){if(l(a,b))return a[b];if(!b)return a;if(typeof b!=="string"){var c=[];for(var d=0,e=b.length;d<e;++d){var f=w(a,b[d]);c.push(f)}return c}f=b.indexOf(".");if(f!==-1){d=a[b.substr(0,f)];return d===void 0?void 0:w(d,b.substr(f+1))}return void 0}function x(a,b,c){if(!a||b===void 0)return;if("isFrozen"in Object&&Object.isFrozen(a))return;if(typeof b!=="string"&&"length"in b){v(typeof c!=="string"&&"length"in c);for(var d=0,e=b.length;d<e;++d)x(a,b[d],c[d])}else{d=b.indexOf(".");if(d!==-1){e=b.substr(0,d);d=b.substr(d+1);if(d==="")c===void 0?h(a)&&!isNaN(parseInt(e))?a.splice(e,1):delete a[e]:a[e]=c;else{var f=a[e];(!f||!l(a,e))&&(f=a[e]={});x(f,d,c)}}else c===void 0?h(a)&&!isNaN(parseInt(b))?a.splice(b,1):delete a[b]:a[b]=c}}function da(a,b){typeof b==="string"?x(a,b,void 0):"length"in b&&[].map.call(b,function(b){x(a,b,void 0)})}function ea(a){var b={};for(var c in a)l(a,c)&&(b[c]=a[c]);return b}var fa=[].concat;function ga(a){return fa.apply([],a)}var y="Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(ga([8,16,32,64].map(function(a){return["Int","Uint","Float"].map(function(b){return b+a+"Array"})}))).filter(function(a){return f[a]}),ha=new Set(y.map(function(a){return f[a]}));function ia(a){var b={};for(var c in a)if(l(a,c)){var d=a[c];b[c]=!d||typeof d!=="object"||ha.has(d.constructor)?d:ia(d)}return b}function ja(a){for(var b in a)if(l(a,b))return!1;return!0}var ka=null;function z(a){ka=new WeakMap();a=la(a);ka=null;return a}function la(a){if(!a||typeof a!=="object")return a;var b=ka.get(a);if(b)return b;if(h(a)){b=[];ka.set(a,b);for(var c=0,d=a.length;c<d;++c)b.push(la(a[c]))}else if(ha.has(a.constructor))b=a;else{c=j(a);b=c===Object.prototype?{}:Object.create(c);ka.set(a,b);for(d in a)l(a,d)&&(b[d]=la(a[d]))}return b}var ma={}.toString;function na(a){return ma.call(a).slice(8,-1)}var oa=typeof Symbol!=="undefined"?Symbol.iterator:"@@iterator",pa=typeof oa==="symbol"?function(a){var b;return a!=null&&(b=a[oa])&&b.apply(a)}:function(){return null};function qa(a,b){b=a.indexOf(b);b>=0&&a.splice(b,1);return b>=0}var ra={};function A(a){var b,c,d,e;if(arguments.length===1){if(h(a))return a.slice();if(this===ra&&typeof a==="string")return[a];if(e=pa(a)){c=[];while(d=e.next(),!d.done)c.push(d.value);return c}if(a==null)return[a];b=a.length;if(typeof b==="number"){c=new Array(b);while(b--)c[b]=a[b];return c}return[a]}b=arguments.length;c=new Array(b);while(b--)c[b]=arguments[b];return c}var sa=typeof Symbol!=="undefined"?function(a){return a[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},B=typeof location!=="undefined"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function ta(a,b){B=a,ua=b}var ua=function(){return!0},va=!new Error("").stack;function wa(){if(va)try{throw new Error()}catch(a){return a}return new Error()}function xa(a,b){var c=a.stack;if(!c)return"";b=b||0;c.indexOf(a.name)===0&&(b+=(a.name+a.message).split("\n").length);return c.split("\n").slice(b).filter(ua).map(function(a){return"\n"+a}).join("")}y=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"];var C=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"];y=y.concat(C);var ya={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function za(a,b){this._e=wa(),this.name=a,this.message=b}p(za).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+xa(this._e,2))}},toString:function(){return this.name+": "+this.message}});function Aa(a,b){return a+". Errors: "+Object.keys(b).map(function(a){return b[a].toString()}).filter(function(a,b,c){return c.indexOf(a)===b}).join("\n")}function Ba(a,b,c,d){this._e=wa(),this.failures=b,this.failedKeys=d,this.successCount=c,this.message=Aa(a,b)}p(Ba).from(za);function Ca(a,b){this._e=wa(),this.name="BulkError",this.failures=Object.keys(b).map(function(a){return b[a]}),this.failuresByPos=b,this.message=Aa(a,this.failures)}p(Ca).from(za);var Da=y.reduce(function(a,b){return a[b]=b+"Error",a},{}),Ea=za,D=y.reduce(function(b,c){var d=c+"Error";function a(a,b){this._e=wa(),this.name=d,!a?(this.message=ya[c]||d,this.inner=null):typeof a==="string"?(this.message="".concat(a).concat(b?"\n "+b:""),this.inner=b||null):typeof a==="object"&&(this.message="".concat(a.name," ").concat(a.message),this.inner=a)}p(a).from(Ea);b[c]=a;return b},{});D.Syntax=SyntaxError;D.Type=TypeError;D.Range=RangeError;var Fa=C.reduce(function(a,b){a[b+"Error"]=D[b];return a},{});function Ga(a,b){if(!a||a instanceof za||a instanceof TypeError||a instanceof SyntaxError||!a.name||!Fa[a.name])return a;b=new Fa[a.name](b||a.message,a);"stack"in a&&o(b,"stack",{get:function(){return this.inner.stack}});return b}C=y.reduce(function(a,b){["Syntax","Type","Range"].indexOf(b)===-1&&(a[b+"Error"]=D[b]);return a},{});C.ModifyError=Ba;C.DexieError=za;C.BulkError=Ca;function E(){}function Ha(a){return a}function Ia(a,b){return a==null||a===Ha?b:function(c){return b(a(c))}}function F(a,b){return function(){a.apply(this,arguments),b.apply(this,arguments)}}function Ja(a,b){return a===E?b:function(){var c=a.apply(this,arguments);c!==void 0&&(arguments[0]=c);var d=this.onsuccess,e=this.onerror;this.onsuccess=null;this.onerror=null;var f=b.apply(this,arguments);d&&(this.onsuccess=this.onsuccess?F(d,this.onsuccess):d);e&&(this.onerror=this.onerror?F(e,this.onerror):e);return f!==void 0?f:c}}function Ka(a,b){return a===E?b:function(){a.apply(this,arguments);var c=this.onsuccess,d=this.onerror;this.onsuccess=this.onerror=null;b.apply(this,arguments);c&&(this.onsuccess=this.onsuccess?F(c,this.onsuccess):c);d&&(this.onerror=this.onerror?F(d,this.onerror):d)}}function La(a,b){return a===E?b:function(c){var d=a.apply(this,arguments);i(c,d);var e=this.onsuccess,f=this.onerror;this.onsuccess=null;this.onerror=null;var g=b.apply(this,arguments);e&&(this.onsuccess=this.onsuccess?F(e,this.onsuccess):e);f&&(this.onerror=this.onerror?F(f,this.onerror):f);return d===void 0?g===void 0?void 0:g:i(d,g)}}function Ma(a,b){return a===E?b:function(){return b.apply(this,arguments)===!1?!1:a.apply(this,arguments)}}function Na(a,b){return a===E?b:function(){var c=a.apply(this,arguments);if(c&&typeof c.then==="function"){var d=this,e=arguments.length,f=new Array(e);while(e--)f[e]=arguments[e];return c.then(function(){return b.apply(d,f)})}return b.apply(this,arguments)}}var Oa={},Pa=100,Qa=20,Ra=100;y=typeof Promise==="undefined"?[]:function(){var a=Promise.resolve();if(typeof crypto==="undefined"||!crypto.subtle)return[a,j(a),a];var b=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[b,j(b),a]}();var Sa=y[0],Ta=y[1],Ua=y[2],Va=Ta&&Ta.then,Wa=Sa&&Sa.constructor,Xa=!!Ua,Ya=!1,Za=Ua?function(){Ua.then(qb)}:f.setImmediate?setImmediate.bind(null,qb):f.MutationObserver?function(){var a=document.createElement("div");new MutationObserver(function(){qb(),a=null}).observe(a,{attributes:!0});a.setAttribute("i","1")}:function(){setTimeout(qb,0)},$a=function(a,b){fb.push([a,b]),bb&&(Za(),bb=!1)},ab=!0,bb=!0,G=[],cb=[],db=null,eb=Ha,H={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:E,pgp:!1,env:{},finalize:E},I=H,fb=[],J=0,gb=[];function K(a){if(typeof this!=="object")throw new TypeError("Promises must be constructed via new");this._listeners=[];this._lib=!1;var b=this._PSD=I;B&&(this._stackHolder=wa(),this._prev=null,this._numPrev=0);if(typeof a!=="function"){if(a!==Oa)throw new TypeError("Not a function");this._state=arguments[1];this._value=arguments[2];this._state===!1&&kb(this,this._value);return}this._state=null;this._value=null;++b.ref;jb(this,a)}var hb={get:function(){var a=I,b=Bb;function c(c,d){var e=this,f=!a.global&&(a!==I||b!==Bb),g=f&&!O(),h=new K(function(b,h){mb(e,new ib(Kb(c,a,f,g),Kb(d,a,f,g),b,h,a))});B&&pb(h,this);return h}c.prototype=Oa;return c},set:function(a){o(this,"then",a&&a.prototype===Oa?hb:{get:function(){return a},set:hb.set})}};m(K.prototype,{then:hb,_then:function(a,b){mb(this,new ib(null,null,a,b,I))},"catch":function(b){if(arguments.length===1)return this.then(null,b);var a=arguments[0],c=arguments[1];return typeof a==="function"?this.then(null,function(b){return b instanceof a?c(b):xb(b)}):this.then(null,function(b){return b&&b.name===a?c(b):xb(b)})},"finally":function(a){return this.then(function(b){a();return b},function(b){a();return xb(b)})},stack:{get:function(){if(this._stack)return this._stack;try{Ya=!0;var a=ob(this,[],Qa);a=a.join("\nFrom previous: ");this._state!==null&&(this._stack=a);return a}finally{Ya=!1}}},timeout:function(a,b){var c=this;return a<Infinity?new K(function(d,e){var f=setTimeout(function(){return e(new D.Timeout(b))},a);c.then(d,e)["finally"](clearTimeout.bind(null,f))}):this}});typeof Symbol!=="undefined"&&Symbol.toStringTag&&o(K.prototype,Symbol.toStringTag,"Dexie.Promise");H.env=Hb();function ib(a,b,c,d,e){this.onFulfilled=typeof a==="function"?a:null,this.onRejected=typeof b==="function"?b:null,this.resolve=c,this.reject=d,this.psd=e}m(K,{all:function(){var a=A.apply(null,arguments).map(Eb);return new K(function(b,c){a.length===0&&b([]);var d=a.length;a.forEach(function(e,f){return K.resolve(e).then(function(c){a[f]=c,--d||b(a)},c)})})},resolve:function(a){if(a instanceof K)return a;if(a&&typeof a.then==="function")return new K(function(b,c){a.then(b,c)});var b=new K(Oa,!0,a);pb(b,db);return b},reject:xb,race:function(){var a=A.apply(null,arguments).map(Eb);return new K(function(b,c){a.map(function(a){return K.resolve(a).then(b,c)})})},PSD:{get:function(){return I},set:function(a){return I=a}},totalEchoes:{get:function(){return Bb}},newPSD:N,usePSD:Ib,scheduler:{get:function(){return $a},set:function(a){$a=a}},rejectionMapper:{get:function(){return eb},set:function(a){eb=a}},follow:function(a,b){return new K(function(c,d){return N(function(b,c){var d=I;d.unhandleds=[];d.onunhandled=c;d.finalize=F(function(){var a=this;ub(function(){a.unhandleds.length===0?b():c(a.unhandleds[0])})},d.finalize);a()},b,c,d)})}});Wa&&(Wa.allSettled&&o(K,"allSettled",function(){var a=A.apply(null,arguments).map(Eb);return new K(function(b){a.length===0&&b([]);var c=a.length,d=new Array(c);a.forEach(function(a,e){return K.resolve(a).then(function(a){return d[e]={status:"fulfilled",value:a}},function(a){return d[e]={status:"rejected",reason:a}}).then(function(){return--c||b(d)})})})}),Wa.any&&typeof AggregateError!=="undefined"&&o(K,"any",function(){var a=A.apply(null,arguments).map(Eb);return new K(function(b,c){a.length===0&&c(new AggregateError([]));var d=a.length,e=new Array(d);a.forEach(function(a,f){return K.resolve(a).then(function(a){return b(a)},function(a){e[f]=a,--d||c(new AggregateError(e))})})})}));function jb(a,b){try{b(function(b){if(a._state!==null)return;if(b===a)throw new TypeError("A promise cannot be resolved with itself.");var c=a._lib&&rb();b&&typeof b.then==="function"?jb(a,function(a,c){b instanceof K?b._then(a,c):b.then(a,c)}):(a._state=!0,a._value=b,lb(a));c&&sb()},kb.bind(null,a))}catch(b){kb(a,b)}}function kb(a,b){cb.push(b);if(a._state!==null)return;var c=a._lib&&rb();b=eb(b);a._state=!1;a._value=b;B&&b!==null&&typeof b==="object"&&!b._promise&&ca(function(){var c=r(b,"stack");b._promise=a;o(b,"stack",{get:function(){return Ya?c&&(c.get?c.get.apply(b):c.value):a.stack}})});vb(a);lb(a);c&&sb()}function lb(a){var b=a._listeners;a._listeners=[];for(var c=0,d=b.length;c<d;++c)mb(a,b[c]);c=a._PSD;--c.ref||c.finalize();J===0&&(++J,$a(function(){--J===0&&tb()},[]))}function mb(a,b){if(a._state===null){a._listeners.push(b);return}var c=a._state?b.onFulfilled:b.onRejected;if(c===null)return(a._state?b.resolve:b.reject)(a._value);++b.psd.ref;++J;$a(nb,[c,a,b])}function nb(a,b,c){try{db=b;var d,e=b._value;b._state?d=a(e):(cb.length&&(cb=[]),d=a(e),cb.indexOf(e)===-1&&wb(b));c.resolve(d)}catch(a){c.reject(a)}finally{db=null,--J===0&&tb(),--c.psd.ref||c.psd.finalize()}}function ob(a,b,c){if(b.length===c)return b;var d="";if(a._state===!1){var e=a._value,f,g;e!=null?(f=e.name||"Error",g=e.message||e,d=xa(e,0)):(f=e,g="");b.push(f+(g?": "+g:"")+d)}B&&(d=xa(a._stackHolder,2),d&&b.indexOf(d)===-1&&b.push(d),a._prev&&ob(a._prev,b,c));return b}function pb(a,b){var c=b?b._numPrev+1:0;c<Pa&&(a._prev=b,a._numPrev=c)}function qb(){rb()&&sb()}function rb(){var a=ab;ab=!1;bb=!1;return a}function sb(){var a,b,c;do while(fb.length>0){a=fb;fb=[];c=a.length;for(b=0;b<c;++b){var d=a[b];d[0].apply(null,d[1])}}while(fb.length>0);ab=!0;bb=!0}function tb(){var a=G;G=[];a.forEach(function(a){a._PSD.onunhandled.call(null,a._value,a)});a=gb.slice(0);var b=a.length;while(b)a[--b]()}function ub(a){function b(){a(),gb.splice(gb.indexOf(b),1)}gb.push(b);++J;$a(function(){--J===0&&tb()},[])}function vb(a){G.some(function(b){return b._value===a._value})||G.push(a)}function wb(a){var b=G.length;while(b)if(G[--b]._value===a._value){G.splice(b,1);return}}function xb(a){return new K(Oa,!1,a)}function L(a,b){var c=I;return function(){var d=rb(),e=I;try{P(c,!0);return a.apply(this,arguments)}catch(a){b&&b(a)}finally{P(e,!1),d&&sb()}}}var M={awaits:0,echoes:0,id:0},yb=0,zb=[],Ab=0,Bb=0,Cb=0;function N(b,a,c,d){var e=I,f=Object.create(e);f.parent=e;f.ref=0;f.global=!1;f.id=++Cb;var g=H.env;f.env=Xa?{Promise:K,PromiseProp:{value:K,configurable:!0,writable:!0},all:K.all,race:K.race,allSettled:K.allSettled,any:K.any,resolve:K.resolve,reject:K.reject,nthen:Lb(g.nthen,f),gthen:Lb(g.gthen,f)}:{};a&&i(f,a);++e.ref;f.finalize=function(){--this.parent.ref||this.parent.finalize()};g=Ib(f,b,c,d);f.ref===0&&f.finalize();return g}function Db(){M.id||(M.id=++yb);++M.awaits;M.echoes+=Ra;return M.id}function O(){if(!M.awaits)return!1;--M.awaits===0&&(M.id=0);M.echoes=M.awaits*Ra;return!0}(""+Va).indexOf("[native code]")===-1&&(Db=O=E);function Eb(a){if(M.echoes&&a&&a.constructor===Wa){Db();return a.then(function(a){O();return a},function(a){O();return Q(a)})}return a}function Fb(a){++Bb,(!M.echoes||--M.echoes===0)&&(M.echoes=M.id=0),zb.push(I),P(a,!0)}function Gb(){var a=zb[zb.length-1];zb.pop();P(a,!1)}function P(a,b){var c=I;(b?M.echoes&&(!Ab++||a!==I):Ab&&(!--Ab||a!==I))&&Jb(b?Fb.bind(null,a):Gb);if(a===I)return;I=a;c===H&&(H.env=Hb());if(Xa){b=H.env.Promise;var d=a.env;Ta.then=d.nthen;b.prototype.then=d.gthen;(c.global||a.global)&&(Object.defineProperty(f,"Promise",d.PromiseProp),b.all=d.all,b.race=d.race,b.resolve=d.resolve,b.reject=d.reject,d.allSettled&&(b.allSettled=d.allSettled),d.any&&(b.any=d.any))}}function Hb(){var a=f.Promise;return Xa?{Promise:a,PromiseProp:Object.getOwnPropertyDescriptor(f,"Promise"),all:a.all,race:a.race,allSettled:a.allSettled,any:a.any,resolve:a.resolve,reject:a.reject,nthen:Ta.then,gthen:a.prototype.then}:{}}function Ib(a,b,c,d,e){var f=I;try{P(a,!0);return b(c,d,e)}finally{P(f,!1)}}function Jb(a){Va.call(Sa,a)}function Kb(a,b,c,d){return typeof a!=="function"?a:function(){var e=I;c&&Db();P(b,!0);try{return a.apply(this,arguments)}finally{P(e,!1),d&&Jb(O)}}}function Lb(a,b){return function(c,d){return a.call(this,Kb(c,b),Kb(d,b))}}var Q=K.reject;function Mb(a,b,c,d){if(!a.idbdb||!a._state.openComplete&&!I.letThrough&&!a._vip){if(a._state.openComplete)return Q(new D.DatabaseClosed(a._state.dbOpenError));if(!a._state.isBeingOpened){if(!a._options.autoOpen)return Q(new D.DatabaseClosed());a.open()["catch"](E)}return a._state.dbReadyPromise.then(function(){return Mb(a,b,c,d)})}else{var e=a._createTransaction(b,c,a._dbSchema);try{e.create(),a._state.PR1398_maxLoop=3}catch(e){if(e.name===Da.InvalidState&&a.isOpen()&&--a._state.PR1398_maxLoop>0){a._close();return a.open().then(function(){return Mb(a,b,c,d)})}return Q(e)}return e._promise(b,function(a,b){return N(function(){I.trans=e;return d(a,b,e)})}).then(function(a){if(b==="readwrite")try{e.idbtrans.commit()}catch(a){}return b==="readonly"?a:e._completion.then(function(){return a})})}}y="4.0.1-alpha.22";var R=String.fromCharCode(65535),Nb=-Infinity,S="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Ob="String expected.",Pb=[],Qb=typeof navigator!=="undefined"&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),Rb=Qb,Sb=Qb,Tb=function(a){return!/(dexie\.js|dexie\.min\.js)/.test(a)},Ub="__dbnames",Vb="readonly",Wb="readwrite";function Xb(a,b){return a?b?function(){return a.apply(this,arguments)&&b.apply(this,arguments)}:a:b}var Yb={type:3,lower:-Infinity,lowerOpen:!1,upper:[[]],upperOpen:!1};function Zb(a){return typeof a==="string"&&!/\./.test(a)?function(b){b[a]===void 0&&a in b&&(b=z(b),delete b[a]);return b}:function(a){return a}}function $b(){throw D.Type()}function T(a,b){try{var c=cc(a),d=cc(b);if(c!==d){if(c==="Array")return 1;if(d==="Array")return-1;if(c==="binary")return 1;if(d==="binary")return-1;if(c==="string")return 1;if(d==="string")return-1;if(c==="Date")return 1;return d!=="Date"?NaN:-1}switch(c){case"number":case"Date":case"string":return a>b?1:a<b?-1:0;case"binary":return bc(dc(a),dc(b));case"Array":return ac(a,b)}}catch(a){}return NaN}function ac(a,b){var c=a.length,d=b.length,e=c<d?c:d;for(var f=0;f<e;++f){var g=T(a[f],b[f]);if(g!==0)return g}return c===d?0:c<d?-1:1}function bc(a,b){var c=a.length,d=b.length,e=c<d?c:d;for(var f=0;f<e;++f)if(a[f]!==b[f])return a[f]<b[f]?-1:1;return c===d?0:c<d?-1:1}function cc(a){var b=typeof a;if(b!=="object")return b;if(ArrayBuffer.isView(a))return"binary";b=na(a);return b==="ArrayBuffer"?"binary":b}function dc(a){if(a instanceof Uint8Array)return a;return ArrayBuffer.isView(a)?new Uint8Array(a.buffer,a.byteOffset,a.byteLength):new Uint8Array(a)}var ec=function(){function a(){}a.prototype._trans=function(a,b,c){var d=this._tx||I.trans,e=this.name;function f(c,d,a){if(!a.schema[e])throw new D.NotFound("Table "+e+" not part of transaction");return b(a.idbtrans,a)}var g=rb();try{return d&&d.db===this.db?d===I.trans?d._promise(a,f,c):N(function(){return d._promise(a,f,c)},{trans:d,transless:I.transless||I}):Mb(this.db,a,[this.name],f)}finally{g&&sb()}};a.prototype.get=function(a,b){var c=this;return a&&a.constructor===Object?this.where(a).first(b):this._trans("readonly",function(b){return c.core.get({trans:b,key:a}).then(function(a){return c.hook.reading.fire(a)})}).then(b)};a.prototype.where=function(a){if(typeof a==="string")return new this.db.WhereClause(this,a);if(h(a))return new this.db.WhereClause(this,"[".concat(a.join("+"),"]"));var b=g(a);if(b.length===1)return this.where(b[0]).equals(a[b[0]]);var c=this.schema.indexes.concat(this.schema.primKey).filter(function(a){if(a.compound&&b.every(function(b){return a.keyPath.indexOf(b)>=0})){for(var c=0;c<b.length;++c)if(b.indexOf(a.keyPath[c])===-1)return!1;return!0}return!1}).sort(function(a,b){return a.keyPath.length-b.keyPath.length})[0];if(c&&this.db._maxKey!==R){var d=c.keyPath.slice(0,b.length);return this.where(d).equals(d.map(function(b){return a[b]}))}!c&&B&&!1;var e=this.schema.idxByName,f=this.db._deps.indexedDB;function i(a,b){return f.cmp(a,b)===0}d=b.reduce(function(b,c){var d=b[0];b=b[1];var f=e[c],g=a[c];return[d||f,d||!f?Xb(b,f&&f.multi?function(a){a=w(a,c);return h(a)&&a.some(function(a){return i(g,a)})}:function(a){return i(g,w(a,c))}):b]},[null,null]);var j=d[0];d=d[1];return j?this.where(j.name).equals(a[j.keyPath]).filter(d):c?this.filter(d):this.where(b).equals("")};a.prototype.filter=function(a){return this.toCollection().and(a)};a.prototype.count=function(a){return this.toCollection().count(a)};a.prototype.offset=function(a){return this.toCollection().offset(a)};a.prototype.limit=function(a){return this.toCollection().limit(a)};a.prototype.each=function(a){return this.toCollection().each(a)};a.prototype.toArray=function(a){return this.toCollection().toArray(a)};a.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))};a.prototype.orderBy=function(a){return new this.db.Collection(new this.db.WhereClause(this,h(a)?"[".concat(a.join("+"),"]"):a))};a.prototype.reverse=function(){return this.toCollection().reverse()};a.prototype.mapToClass=function(a){var b=this,d=b.db,e=b.name;this.schema.mappedClass=a;a.prototype instanceof $b&&(a=function(a){c(b,a);function b(){return a!==null&&a.apply(this,arguments)||this}Object.defineProperty(b.prototype,"db",{get:function(){return d},enumerable:!1,configurable:!0});b.prototype.table=function(){return e};return b}(a));var f=new Set();for(b=a.prototype;b;b=j(b))Object.getOwnPropertyNames(b).forEach(function(a){return f.add(a)});b=function(b){if(!b)return b;var c=Object.create(a.prototype);for(var d in b)if(!f.has(d))try{c[d]=b[d]}catch(a){}return c};this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook);this.schema.readHook=b;this.hook("reading",b);return a};a.prototype.defineClass=function(){function a(a){i(this,a)}return this.mapToClass(a)};a.prototype.add=function(a,b){var c=this,d=this.schema.primKey,e=d.auto,f=d.keyPath,g=a;f&&e&&(g=Zb(f)(a));return this._trans("readwrite",function(a){return c.core.mutate({trans:a,type:"add",keys:b!=null?[b]:null,values:[g]})}).then(function(a){return a.numFailures?K.reject(a.failures[0]):a.lastResult}).then(function(b){if(f)try{x(a,f,b)}catch(a){}return b})};a.prototype.update=function(a,b){if(typeof a==="object"&&!h(a)){var c=w(a,this.schema.primKey.keyPath);return c===void 0?Q(new D.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(c).modify(b)}else return this.where(":id").equals(a).modify(b)};a.prototype.put=function(a,b){var c=this,d=this.schema.primKey,e=d.auto,f=d.keyPath,g=a;f&&e&&(g=Zb(f)(a));return this._trans("readwrite",function(a){return c.core.mutate({trans:a,type:"put",values:[g],keys:b!=null?[b]:null})}).then(function(a){return a.numFailures?K.reject(a.failures[0]):a.lastResult}).then(function(b){if(f)try{x(a,f,b)}catch(a){}return b})};a.prototype["delete"]=function(a){var b=this;return this._trans("readwrite",function(c){return b.core.mutate({trans:c,type:"delete",keys:[a]})}).then(function(a){return a.numFailures?K.reject(a.failures[0]):void 0})};a.prototype.clear=function(){var a=this;return this._trans("readwrite",function(b){return a.core.mutate({trans:b,type:"deleteRange",range:Yb})}).then(function(a){return a.numFailures?K.reject(a.failures[0]):void 0})};a.prototype.bulkGet=function(a){var b=this;return this._trans("readonly",function(c){return b.core.getMany({keys:a,trans:c}).then(function(a){return a.map(function(a){return b.hook.reading.fire(a)})})})};a.prototype.bulkAdd=function(b,c,d){var e=this,a=Array.isArray(c)?c:void 0;d=d||(a?void 0:c);var f=d?d.allKeys:void 0;return this._trans("readwrite",function(c){var d=e.schema.primKey,g=d.auto;d=d.keyPath;if(d&&a)throw new D.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(a&&a.length!==b.length)throw new D.InvalidArgument("Arguments objects and keys must have the same length");var h=b.length;g=d&&g?b.map(Zb(d)):b;return e.core.mutate({trans:c,type:"add",keys:a,values:g,wantResults:f}).then(function(a){var b=a.numFailures,c=a.results,d=a.lastResult;a=a.failures;c=f?c:d;if(b===0)return c;throw new Ca("".concat(e.name,".bulkAdd(): ").concat(b," of ").concat(h," operations failed"),a)})})};a.prototype.bulkPut=function(b,c,d){var e=this,a=Array.isArray(c)?c:void 0;d=d||(a?void 0:c);var f=d?d.allKeys:void 0;return this._trans("readwrite",function(c){var d=e.schema.primKey,g=d.auto;d=d.keyPath;if(d&&a)throw new D.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(a&&a.length!==b.length)throw new D.InvalidArgument("Arguments objects and keys must have the same length");var h=b.length;g=d&&g?b.map(Zb(d)):b;return e.core.mutate({trans:c,type:"put",keys:a,values:g,wantResults:f}).then(function(a){var b=a.numFailures,c=a.results,d=a.lastResult;a=a.failures;c=f?c:d;if(b===0)return c;throw new Ca("".concat(e.name,".bulkPut(): ").concat(b," of ").concat(h," operations failed"),a)})})};a.prototype.bulkUpdate=function(b){var c=this,d=this.core,a=b.map(function(a){return a.key}),e=b.map(function(a){return a.changes}),f=[];return this._trans("readwrite",function(g){return d.getMany({trans:g,keys:a,cache:"clone"}).then(function(h){var i=[],j=[];b.forEach(function(a,b){var d=a.key;a=a.changes;var e=h[b];if(e){for(var g=0,k=Object.keys(a);g<k.length;g++){var l=k[g],m=a[l];if(l===c.schema.primKey.keyPath){if(T(m,d)!==0)throw new D.Constraint("Cannot update primary key in bulkUpdate()")}else x(e,l,m)}f.push(b);i.push(d);j.push(e)}});var k=i.length;return d.mutate({trans:g,type:"put",keys:i,values:j,updates:{keys:a,changeSpecs:e}}).then(function(a){var b=a.numFailures;a=a.failures;if(b===0)return k;for(var d=0,e=Object.keys(a);d<e.length;d++){var g=e[d],h=f[Number(g)];if(h!=null){var i=a[g];delete a[g];a[h]=i}}throw new Ca("".concat(c.name,".bulkUpdate(): ").concat(b," of ").concat(k," operations failed"),a)})})})};a.prototype.bulkDelete=function(a){var b=this,c=a.length;return this._trans("readwrite",function(c){return b.core.mutate({trans:c,type:"delete",keys:a})}).then(function(a){var d=a.numFailures,e=a.lastResult;a=a.failures;if(d===0)return e;throw new Ca("".concat(b.name,".bulkDelete(): ").concat(d," of ").concat(c," operations failed"),a)})};return a}();function fc(a){var b={},c=function(d,e){if(e){var c=arguments.length,f=new Array(c-1);while(--c)f[c-1]=arguments[c];b[d].subscribe.apply(null,f);return a}else if(typeof d==="string")return b[d]};c.addEventType=f;for(var d=1,e=arguments.length;d<e;++d)f(arguments[d]);return c;function f(a,d,e){if(typeof a==="object")return i(a);d||(d=Ma);e||(e=E);var f={subscribers:[],fire:e,subscribe:function(a){f.subscribers.indexOf(a)===-1&&(f.subscribers.push(a),f.fire=d(f.fire,a))},unsubscribe:function(a){f.subscribers=f.subscribers.filter(function(b){return b!==a}),f.fire=f.subscribers.reduce(d,e)}};b[a]=c[a]=f;return f}function i(a){g(a).forEach(function(b){var c=a[b];if(h(c))f(b,a[b][0],a[b][1]);else if(c==="asap")var d=f(b,Ha,function(){var a=arguments.length,b=new Array(a);while(a--)b[a]=arguments[a];d.subscribers.forEach(function(a){aa(function(){a.apply(null,b)})})});else throw new D.InvalidArgument("Invalid event config")})}}function gc(a,b){p(b).from({prototype:a});return b}function hc(a){return gc(ec.prototype,function(b,c,d){this.db=a,this._tx=d,this.name=b,this.schema=c,this.hook=a._allTables[b]?a._allTables[b].hook:fc(null,{creating:[Ja,E],reading:[Ia,Ha],updating:[La,E],deleting:[Ka,E]})})}function ic(a,b){return!(a.filter||a.algorithm||a.or)&&(b?a.justLimit:!a.replayFilter)}function jc(a,b){a.filter=Xb(a.filter,b)}function kc(a,b,c){var d=a.replayFilter;a.replayFilter=d?function(){return Xb(d(),b())}:b;a.justLimit=c&&!d}function lc(a,b){a.isMatch=Xb(a.isMatch,b)}function mc(a,b){if(a.isPrimKey)return b.primaryKey;var c=b.getIndexByKeyPath(a.index);if(!c)throw new D.Schema("KeyPath "+a.index+" on object store "+b.name+" is not indexed");return c}function nc(a,b,c){var d=mc(a,b.schema);return b.openCursor({trans:c,values:!a.keysOnly,reverse:a.dir==="prev",unique:!!a.unique,query:{index:d,range:a.range}})}function oc(a,b,c,d){var e=a.replayFilter?Xb(a.filter,a.replayFilter()):a.filter;if(!a.or)return pc(nc(a,d,c),Xb(a.algorithm,e),b,!a.keysOnly&&a.valueMapper);else{var f={},g=function(a,c,d){if(!e||e(c,d,function(a){return c.stop(a)},function(a){return c.fail(a)})){var g=c.primaryKey,h=""+g;h==="[object ArrayBuffer]"&&(h=""+new Uint8Array(g));l(f,h)||(f[h]=!0,b(a,c,d))}};return Promise.all([a.or._iterate(g,c),pc(nc(a,d,c),a.algorithm,g,!a.keysOnly&&a.valueMapper)])}}function pc(a,b,c,d){var e=d?function(a,b,e){return c(d(a),b,e)}:c,f=L(e);return a.then(function(a){if(a)return a.start(function(){var c=function(){return a["continue"]()};(!b||b(a,function(a){return c=a},function(b){a.stop(b),c=E},function(b){a.fail(b),c=E}))&&f(a.value,a,function(a){return c=a});c()})})}var qc=function(){function a(){}a.prototype._read=function(a,b){var c=this._ctx;return c.error?c.table._trans(null,Q.bind(null,c.error)):c.table._trans("readonly",a).then(b)};a.prototype._write=function(a){var b=this._ctx;return b.error?b.table._trans(null,Q.bind(null,b.error)):b.table._trans("readwrite",a,"locked")};a.prototype._addAlgorithm=function(a){var b=this._ctx;b.algorithm=Xb(b.algorithm,a)};a.prototype._iterate=function(a,b){return oc(this._ctx,a,b,this._ctx.table.core)};a.prototype.clone=function(a){var b=Object.create(this.constructor.prototype),c=Object.create(this._ctx);a&&i(c,a);b._ctx=c;return b};a.prototype.raw=function(){this._ctx.valueMapper=null;return this};a.prototype.each=function(a){var b=this._ctx;return this._read(function(c){return oc(b,a,c,b.table.core)})};a.prototype.count=function(a){var b=this;return this._read(function(a){var c=b._ctx,d=c.table.core;if(ic(c,!0))return d.count({trans:a,query:{index:mc(c,d.schema),range:c.range}}).then(function(a){return Math.min(a,c.limit)});else{var e=0;return oc(c,function(){++e;return!1},a,d).then(function(){return e})}}).then(a)};a.prototype.sortBy=function(a,b){var c=a.split(".").reverse(),d=c[0],e=c.length-1;function f(a,b){return b?f(a[c[b]],b-1):a[d]}var g=this._ctx.dir==="next"?1:-1;function h(a,b){a=f(a,e);b=f(b,e);return a<b?-g:a>b?g:0}return this.toArray(function(a){return a.sort(h)}).then(b)};a.prototype.toArray=function(a){var b=this;return this._read(function(a){var c=b._ctx;if(c.dir==="next"&&ic(c,!0)&&c.limit>0){var d=c.valueMapper,e=mc(c,c.table.core.schema);return c.table.core.query({trans:a,limit:c.limit,values:!0,query:{index:e,range:c.range}}).then(function(a){a=a.result;return d?a.map(d):a})}else{var f=[];return oc(c,function(a){return f.push(a)},a,c.table.core).then(function(){return f})}},a)};a.prototype.offset=function(a){var b=this._ctx;if(a<=0)return this;b.offset+=a;ic(b)?kc(b,function(){var b=a;return function(a,c){if(b===0)return!0;if(b===1){--b;return!1}c(function(){a.advance(b),b=0});return!1}}):kc(b,function(){var b=a;return function(){return--b<0}});return this};a.prototype.limit=function(a){this._ctx.limit=Math.min(this._ctx.limit,a);kc(this._ctx,function(){var b=a;return function(a,c,d){--b<=0&&c(d);return b>=0}},!0);return this};a.prototype.until=function(a,b){jc(this._ctx,function(c,d,e){if(a(c.value)){d(e);return b}else return!0});return this};a.prototype.first=function(a){return this.limit(1).toArray(function(a){return a[0]}).then(a)};a.prototype.last=function(a){return this.reverse().first(a)};a.prototype.filter=function(a){jc(this._ctx,function(b){return a(b.value)});lc(this._ctx,a);return this};a.prototype.and=function(a){return this.filter(a)};a.prototype.or=function(a){return new this.db.WhereClause(this._ctx.table,a,this)};a.prototype.reverse=function(){this._ctx.dir=this._ctx.dir==="prev"?"next":"prev";this._ondirectionchange&&this._ondirectionchange(this._ctx.dir);return this};a.prototype.desc=function(){return this.reverse()};a.prototype.eachKey=function(a){var b=this._ctx;b.keysOnly=!b.isMatch;return this.each(function(b,c){a(c.key,c)})};a.prototype.eachUniqueKey=function(a){this._ctx.unique="unique";return this.eachKey(a)};a.prototype.eachPrimaryKey=function(a){var b=this._ctx;b.keysOnly=!b.isMatch;return this.each(function(b,c){a(c.primaryKey,c)})};a.prototype.keys=function(a){var b=this._ctx;b.keysOnly=!b.isMatch;var c=[];return this.each(function(a,b){c.push(b.key)}).then(function(){return c}).then(a)};a.prototype.primaryKeys=function(a){var b=this._ctx;if(b.dir==="next"&&ic(b,!0)&&b.limit>0)return this._read(function(a){var c=mc(b,b.table.core.schema);return b.table.core.query({trans:a,values:!1,limit:b.limit,query:{index:c,range:b.range}})}).then(function(a){a=a.result;return a}).then(a);b.keysOnly=!b.isMatch;var c=[];return this.each(function(a,b){c.push(b.primaryKey)}).then(function(){return c}).then(a)};a.prototype.uniqueKeys=function(a){this._ctx.unique="unique";return this.keys(a)};a.prototype.firstKey=function(a){return this.limit(1).keys(function(a){return a[0]}).then(a)};a.prototype.lastKey=function(a){return this.reverse().firstKey(a)};a.prototype.distinct=function(){var a=this._ctx;a=a.index&&a.table.schema.idxByName[a.index];if(!a||!a.multi)return this;var b={};jc(this._ctx,function(a){a=a.primaryKey.toString();var c=l(b,a);b[a]=!0;return!c});return this};a.prototype.modify=function(a){var b=this,c=this._ctx;return this._write(function(d){var e;if(typeof a==="function")e=a;else{var f=g(a),h=f.length;e=function(b){var c=!1;for(var d=0;d<h;++d){var e=f[d],g=a[e];w(b,e)!==g&&(x(b,e,g),c=!0)}return c}}var i=c.table.core,j=i.schema.primaryKey,k=j.outbound,l=j.extractKey,m=b.db._options.modifyChunkSize||200,n=[],o=0,p=[],q=function(a,b){var c=b.failures;b=b.numFailures;o+=a-b;for(a=0,b=g(c);a<b.length;a++){var d=b[a];n.push(c[d])}};return b.clone().primaryKeys().then(function(b){var f=function(g){var h=Math.min(m,b.length-g);return i.getMany({trans:d,keys:b.slice(g,g+h),cache:"immutable"}).then(function(j){var n=[],o=[],p=k?[]:null,r=[];for(var s=0;s<h;++s){var t=j[s],u={value:z(t),primKey:b[g+s]};e.call(u,u.value,u)!==!1&&(u.value==null?r.push(b[g+s]):!k&&T(l(t),l(u.value))!==0?(r.push(b[g+s]),n.push(u.value)):(o.push(u.value),k&&p.push(b[g+s])))}var v=ic(c)&&c.limit===Infinity&&(typeof a!=="function"||a===rc)&&{index:c.index,range:c.range};return Promise.resolve(n.length>0&&i.mutate({trans:d,type:"add",values:n}).then(function(a){for(var b in a.failures)r.splice(parseInt(b),1);q(n.length,a)})).then(function(){return(o.length>0||v&&typeof a==="object")&&i.mutate({trans:d,type:"put",keys:p,values:o,criteria:v,changeSpec:typeof a!=="function"&&a}).then(function(a){return q(o.length,a)})}).then(function(){return(r.length>0||v&&a===rc)&&i.mutate({trans:d,type:"delete",keys:r,criteria:v}).then(function(a){return q(r.length,a)})}).then(function(){return b.length>g+h&&f(g+m)})})};return f(0).then(function(){if(n.length>0)throw new Ba("Error modifying one or more objects",n,o,p);return b.length})})})};a.prototype["delete"]=function(){var a=this._ctx,b=a.range;return ic(a)&&(a.isPrimKey&&!Sb||b.type===3)?this._write(function(c){var d=a.table.core.schema.primaryKey,e=b;return a.table.core.count({trans:c,query:{index:d,range:e}}).then(function(b){return a.table.core.mutate({trans:c,type:"deleteRange",range:e}).then(function(a){var c=a.failures;a.lastResult;a.results;a=a.numFailures;if(a)throw new Ba("Could not delete some values",Object.keys(c).map(function(a){return c[a]}),b-a);return b-a})})}):this.modify(rc)};return a}(),rc=function(a,b){return b.value=null};function sc(a){return gc(qc.prototype,function(b,c){this.db=a;var d=Yb,e=null;if(c)try{d=c()}catch(a){e=a}c=b._ctx;b=c.table;var f=b.hook.reading.fire;this._ctx={table:b,index:c.index,isPrimKey:!c.index||b.schema.primKey.keyPath&&c.index===b.schema.primKey.name,range:d,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:Infinity,error:e,or:c.or,valueMapper:f!==Ha?f:null}})}function tc(a,b){return a<b?-1:a===b?0:1}function uc(a,b){return a>b?-1:a===b?0:1}function U(a,b,c){a=a instanceof Bc?new a.Collection(a):a;a._ctx.error=c?new c(b):new TypeError(b);return a}function vc(a){return new a.Collection(a,function(){return Ac("")}).limit(0)}function wc(a){return a==="next"?function(a){return a.toUpperCase()}:function(a){return a.toLowerCase()}}function xc(a){return a==="next"?function(a){return a.toLowerCase()}:function(a){return a.toUpperCase()}}function yc(b,c,d,e,a,f){var g=Math.min(b.length,e.length),h=-1;for(var i=0;i<g;++i){var j=c[i];if(j!==e[i]){if(a(b[i],d[i])<0)return b.substr(0,i)+d[i]+d.substr(i+1);if(a(b[i],e[i])<0)return b.substr(0,i)+e[i]+d.substr(i+1);return h>=0?b.substr(0,h)+c[h]+d.substr(h+1):null}a(b[i],j)<0&&(h=i)}if(g<e.length&&f==="next")return b+d.substr(b.length);return g<b.length&&f==="prev"?b.substr(0,d.length):h<0?null:b.substr(0,h)+e[h]+d.substr(h+1)}function zc(a,b,c,d){var e,f,g,h,i,j,k,l=c.length;if(!c.every(function(a){return typeof a==="string"}))return U(a,Ob);function m(a){e=wc(a);f=xc(a);g=a==="next"?tc:uc;var b=c.map(function(a){return{lower:f(a),upper:e(a)}}).sort(function(a,b){return g(a.lower,b.lower)});h=b.map(function(a){return a.upper});i=b.map(function(a){return a.lower});j=a;k=a==="next"?"":d}m("next");a=new a.Collection(a,function(){return V(h[0],i[l-1]+d)});a._ondirectionchange=function(a){m(a)};var n=0;a._addAlgorithm(function(a,c,d){var e=a.key;if(typeof e!=="string")return!1;var m=f(e);if(b(m,i,n))return!0;else{var o=null;for(var p=n;p<l;++p){var q=yc(e,m,h[p],i[p],g,j);q===null&&o===null?n=p+1:(o===null||g(o,q)>0)&&(o=q)}o!==null?c(function(){a["continue"](o+k)}):c(d);return!1}});return a}function V(a,b,c,d){return{type:2,lower:a,upper:b,lowerOpen:c,upperOpen:d}}function Ac(a){return{type:1,lower:a,upper:a}}var Bc=function(){function a(){}Object.defineProperty(a.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0});a.prototype.between=function(a,b,c,d){c=c!==!1;d=d===!0;try{return this._cmp(a,b)>0||this._cmp(a,b)===0&&(c||d)&&!(c&&d)?vc(this):new this.Collection(this,function(){return V(a,b,!c,!d)})}catch(a){return U(this,S)}};a.prototype.equals=function(a){return a==null?U(this,S):new this.Collection(this,function(){return Ac(a)})};a.prototype.above=function(a){return a==null?U(this,S):new this.Collection(this,function(){return V(a,void 0,!0)})};a.prototype.aboveOrEqual=function(a){return a==null?U(this,S):new this.Collection(this,function(){return V(a,void 0,!1)})};a.prototype.below=function(a){return a==null?U(this,S):new this.Collection(this,function(){return V(void 0,a,!1,!0)})};a.prototype.belowOrEqual=function(a){return a==null?U(this,S):new this.Collection(this,function(){return V(void 0,a)})};a.prototype.startsWith=function(a){return typeof a!=="string"?U(this,Ob):this.between(a,a+R,!0,!0)};a.prototype.startsWithIgnoreCase=function(a){return a===""?this.startsWith(a):zc(this,function(a,b){return a.indexOf(b[0])===0},[a],R)};a.prototype.equalsIgnoreCase=function(a){return zc(this,function(a,b){return a===b[0]},[a],"")};a.prototype.anyOfIgnoreCase=function(){var a=A.apply(ra,arguments);return a.length===0?vc(this):zc(this,function(a,b){return b.indexOf(a)!==-1},a,"")};a.prototype.startsWithAnyOfIgnoreCase=function(){var a=A.apply(ra,arguments);return a.length===0?vc(this):zc(this,function(a,b){return b.some(function(b){return a.indexOf(b)===0})},a,R)};a.prototype.anyOf=function(){var a=this,b=A.apply(ra,arguments),c=this._cmp;try{b.sort(c)}catch(a){return U(this,S)}if(b.length===0)return vc(this);var d=new this.Collection(this,function(){return V(b[0],b[b.length-1])});d._ondirectionchange=function(d){c=d==="next"?a._ascending:a._descending,b.sort(c)};var e=0;d._addAlgorithm(function(a,d,f){var g=a.key;while(c(g,b[e])>0){++e;if(e===b.length){d(f);return!1}}if(c(g,b[e])===0)return!0;else{d(function(){a["continue"](b[e])});return!1}});return d};a.prototype.notEqual=function(a){return this.inAnyRange([[Nb,a],[a,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})};a.prototype.noneOf=function(){var a=A.apply(ra,arguments);if(a.length===0)return new this.Collection(this);try{a.sort(this._ascending)}catch(a){return U(this,S)}var b=a.reduce(function(a,b){return a?a.concat([[a[a.length-1][1],b]]):[[Nb,b]]},null);b.push([a[a.length-1],this.db._maxKey]);return this.inAnyRange(b,{includeLowers:!1,includeUppers:!1})};a.prototype.inAnyRange=function(c,d){var e=this,a=this._cmp,f=this._ascending,g=this._descending,h=this._min,i=this._max;if(c.length===0)return vc(this);if(!c.every(function(a){return a[0]!==void 0&&a[1]!==void 0&&f(a[0],a[1])<=0}))return U(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",D.InvalidArgument);var j=!d||d.includeLowers!==!1,k=d&&d.includeUppers===!0;function b(b,c){var d=0,e=b.length;for(;d<e;++d){var f=b[d];if(a(c[0],f[1])<0&&a(c[1],f[0])>0){f[0]=h(f[0],c[0]);f[1]=i(f[1],c[1]);break}}d===e&&b.push(c);return b}var l=f;function m(a,b){return l(a[0],b[0])}var n;try{n=c.reduce(b,[]),n.sort(m)}catch(a){return U(this,S)}var o=0,p=k?function(a){return f(a,n[o][1])>0}:function(a){return f(a,n[o][1])>=0},q=j?function(a){return g(a,n[o][0])>0}:function(a){return g(a,n[o][0])>=0};function r(a){return!p(a)&&!q(a)}var s=p;d=new this.Collection(this,function(){return V(n[0][0],n[n.length-1][1],!j,!k)});d._ondirectionchange=function(a){a==="next"?(s=p,l=f):(s=q,l=g),n.sort(m)};d._addAlgorithm(function(a,b,c){var d=a.key;while(s(d)){++o;if(o===n.length){b(c);return!1}}if(r(d))return!0;else if(e._cmp(d,n[o][1])===0||e._cmp(d,n[o][0])===0)return!1;else{b(function(){l===f?a["continue"](n[o][0]):a["continue"](n[o][1])});return!1}});return d};a.prototype.startsWithAnyOf=function(){var a=A.apply(ra,arguments);if(!a.every(function(a){return typeof a==="string"}))return U(this,"startsWithAnyOf() only works with strings");return a.length===0?vc(this):this.inAnyRange(a.map(function(a){return[a,a+R]}))};return a}();function Cc(a){return gc(Bc.prototype,function(b,c,d){this.db=a;this._ctx={table:b,index:c===":id"?null:c,or:d};this._cmp=this._ascending=T;this._descending=function(a,b){return T(b,a)};this._max=function(a,b){return T(a,b)>0?a:b};this._min=function(a,b){return T(a,b)<0?a:b};this._IDBKeyRange=a._deps.IDBKeyRange;if(!this._IDBKeyRange)throw new D.MissingAPI()})}function W(a){return L(function(b){Dc(b);a(b.target.error);return!1})}function Dc(a){a.stopPropagation&&a.stopPropagation(),a.preventDefault&&a.preventDefault()}var Ec="storagemutated",X="x-storagemutated-1",Y=fc(null,Ec),Fc=function(){function a(){}a.prototype._lock=function(){v(!I.global);++this._reculock;this._reculock===1&&!I.global&&(I.lockOwnerFor=this);return this};a.prototype._unlock=function(){v(!I.global);if(--this._reculock===0){I.global||(I.lockOwnerFor=null);while(this._blockedFuncs.length>0&&!this._locked()){var a=this._blockedFuncs.shift();try{Ib(a[1],a[0])}catch(a){}}}return this};a.prototype._locked=function(){return this._reculock&&I.lockOwnerFor!==this};a.prototype.create=function(a){var b=this;if(!this.mode)return this;var c=this.db.idbdb,d=this.db._state.dbOpenError;v(!this.idbtrans);if(!a&&!c)switch(d&&d.name){case"DatabaseClosedError":throw new D.DatabaseClosed(d);case"MissingAPIError":throw new D.MissingAPI(d.message,d);default:throw new D.OpenFailed(d)}if(!this.active)throw new D.TransactionInactive();v(this._completion._state===null);a=this.idbtrans=a||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):c.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}));a.onerror=L(function(c){Dc(c),b._reject(a.error)});a.onabort=L(function(c){Dc(c),b.active&&b._reject(new D.Abort(a.error)),b.active=!1,b.on("abort").fire(c)});a.oncomplete=L(function(){b.active=!1,b._resolve(),"mutatedParts"in a&&Y.storagemutated.fire(a.mutatedParts)});return this};a.prototype._promise=function(a,b,c){var d=this;if(a==="readwrite"&&this.mode!=="readwrite")return Q(new D.ReadOnly("Transaction is readonly"));if(!this.active)return Q(new D.TransactionInactive());if(this._locked())return new K(function(e,f){d._blockedFuncs.push([function(){d._promise(a,b,c).then(e,f)},I])});else if(c)return N(function(){var a=new K(function(a,c){d._lock();var e=b(a,c,d);e&&e.then&&e.then(a,c)});a["finally"](function(){return d._unlock()});a._lib=!0;return a});else{var e=new K(function(a,c){var e=b(a,c,d);e&&e.then&&e.then(a,c)});e._lib=!0;return e}};a.prototype._root=function(){return this.parent?this.parent._root():this};a.prototype.waitFor=function(a){var b=this._root(),c=K.resolve(a);if(b._waitingFor)b._waitingFor=b._waitingFor.then(function(){return c});else{b._waitingFor=c;b._waitingQueue=[];var d=b.idbtrans.objectStore(b.storeNames[0]);(function a(){++b._spinCount;while(b._waitingQueue.length)b._waitingQueue.shift()();b._waitingFor&&(d.get(-Infinity).onsuccess=a)})()}var e=b._waitingFor;return new K(function(a,d){c.then(function(c){return b._waitingQueue.push(L(a.bind(null,c)))},function(a){return b._waitingQueue.push(L(d.bind(null,a)))})["finally"](function(){b._waitingFor===e&&(b._waitingFor=null)})})};a.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new D.Abort()))};a.prototype.table=function(a){var b=this._memoizedTables||(this._memoizedTables={});if(l(b,a))return b[a];var c=this.schema[a];if(!c)throw new D.NotFound("Table "+a+" not part of transaction");c=new this.db.Table(a,c,this);c.core=this.db.core.table(a);b[a]=c;return c};return a}();function Gc(a){return gc(Fc.prototype,function(b,c,d,e,f){var g=this;this.db=a;this.mode=b;this.storeNames=c;this.schema=d;this.chromeTransactionDurability=e;this.idbtrans=null;this.on=fc(this,"complete","error","abort");this.parent=f||null;this.active=!0;this._reculock=0;this._blockedFuncs=[];this._resolve=null;this._reject=null;this._waitingFor=null;this._waitingQueue=null;this._spinCount=0;this._completion=new K(function(a,b){g._resolve=a,g._reject=b});this._completion.then(function(){g.active=!1,g.on.complete.fire()},function(a){var b=g.active;g.active=!1;g.on.error.fire(a);g.parent?g.parent._reject(a):b&&g.idbtrans&&g.idbtrans.abort();return Q(a)})})}function Hc(a,b,c,d,e,f,g){return{name:a,keyPath:b,unique:c,multi:d,auto:e,compound:f,src:(c&&!g?"&":"")+(d?"*":"")+(e?"++":"")+Ic(b)}}function Ic(a){return typeof a==="string"?a:a?"["+[].join.call(a,"+")+"]":""}function Jc(a,b,c){return{name:a,primKey:b,indexes:c,mappedClass:null,idxByName:ba(c,function(a){return[a.name,a]})}}function Kc(a){return a.length===1?a[0]:a}var Lc=function(a){try{a.only([[]]);Lc=function(){return[[]]};return[[]]}catch(a){Lc=function(){return R};return R}};function Mc(a){if(a==null)return function(){return void 0};else if(typeof a==="string")return Nc(a);else return function(b){return w(b,a)}}function Nc(a){var b=a.split(".");if(b.length===1)return function(b){return b[a]};else return function(b){return w(b,a)}}function Oc(a){return[].slice.call(a)}var Pc=0;function Qc(a){return a==null?":id":typeof a==="string"?a:"[".concat(a.join("+"),"]")}function Rc(a,b,c){function d(a,b){var c=Oc(a.objectStoreNames);return{schema:{name:a.name,tables:c.map(function(a){return b.objectStore(a)}).map(function(a){var b=a.keyPath,c=a.autoIncrement,d=h(b),e=b==null,f={};e={name:a.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:e,compound:d,keyPath:b,autoIncrement:c,unique:!0,extractKey:Mc(b)},indexes:Oc(a.indexNames).map(function(b){return a.index(b)}).map(function(b){var c=b.name,d=b.unique,e=b.multiEntry;b=b.keyPath;var a=h(b);c={name:c,compound:a,keyPath:b,unique:d,multiEntry:e,extractKey:Mc(b)};f[Qc(b)]=c;return c}),getIndexByKeyPath:function(a){return f[Qc(a)]}};f[":id"]=e.primaryKey;b!=null&&(f[Qc(b)]=e.primaryKey);return e})},hasGetAll:c.length>0&&"getAll"in b.objectStore(c[0])&&!(typeof navigator!=="undefined"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}function e(a){if(a.type===3)return null;if(a.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var c=a.lower,d=a.upper,e=a.lowerOpen;a=a.upperOpen;c=c===void 0?d===void 0?null:b.upperBound(d,!!a):d===void 0?b.lowerBound(c,!!e):b.bound(c,d,!!e,!!a);return c}function f(b){var c=b.name;function d(d){var f=d.trans,b=d.type,a=d.keys,g=d.values,h=d.range;return new Promise(function(d,i){d=L(d);i=f.objectStore(c);var j=i.keyPath==null,k=b==="put"||b==="add";if(!k&&b!=="delete"&&b!=="deleteRange")throw new Error("Invalid operation type: "+b);var l=(a||g||{length:1}).length;if(a&&g&&a.length!==g.length)throw new Error("Given keys array must have same length as given values array.");if(l===0)return d({numFailures:0,failures:{},results:[],lastResult:void 0});var m,n=[],o=[],p=0,q=function(a){++p,Dc(a)};if(b==="deleteRange"){if(h.type===4)return d({numFailures:p,failures:o,results:[],lastResult:void 0});h.type===3?n.push(m=i.clear()):n.push(m=i["delete"](e(h)))}else{j=k?j?[g,a]:[g,null]:[a,null];var r=j[0];j=j[1];if(k)for(k=0;k<l;++k)n.push(m=j&&j[k]!==void 0?i[b](r[k],j[k]):i[b](r[k])),m.onerror=q;else for(k=0;k<l;++k)n.push(m=i[b](r[k])),m.onerror=q}var s=function(c){c=c.target.result;n.forEach(function(a,b){return a.error!=null&&(o[b]=a.error)});d({numFailures:p,failures:o,results:b==="delete"?a:n.map(function(a){return a.result}),lastResult:c})};m.onerror=function(a){q(a),s(a)};m.onsuccess=s})}function a(b){var d=b.trans,f=b.values,a=b.query,g=b.reverse,h=b.unique;return new Promise(function(b,i){b=L(b);var j=a.index,k=a.range,l=d.objectStore(c);l=j.isPrimaryKey?l:l.index(j.name);j=g?h?"prevunique":"prev":h?"nextunique":"next";var m=f||!("openKeyCursor"in l)?l.openCursor(e(k),j):l.openKeyCursor(e(k),j);m.onerror=W(i);m.onsuccess=L(function(a){var c=m.result;if(!c){b(null);return}c.___id=++Pc;c.done=!1;var e=c["continue"].bind(c),f=c.continuePrimaryKey;f&&(f=f.bind(c));var g=c.advance.bind(c);a=function(){throw new Error("Cursor not started")};var h=function(){throw new Error("Cursor not stopped")};c.trans=d;c.stop=c["continue"]=c.continuePrimaryKey=c.advance=a;c.fail=L(i);c.next=function(){var a=this,b=1;return this.start(function(){return b--?a["continue"]():a.stop()}).then(function(){return a})};c.start=function(a){var b=new Promise(function(a,b){a=L(a),m.onerror=W(b),c.fail=b,c.stop=function(b){c.stop=c["continue"]=c.continuePrimaryKey=c.advance=h,a(b)}}),d=function(){if(m.result)try{a()}catch(a){c.fail(a)}else c.done=!0,c.start=function(){throw new Error("Cursor behind last entry")},c.stop()};m.onsuccess=L(function(a){m.onsuccess=d,d()});c["continue"]=e;c.continuePrimaryKey=f;c.advance=g;d();return b};b(c)},i)})}function f(a){return function(b){return new Promise(function(f,g){f=L(f);var h=b.trans,i=b.values,j=b.limit,d=b.query,k=j===Infinity?void 0:j,l=d.index;d=d.range;h=h.objectStore(c);h=l.isPrimaryKey?h:h.index(l.name);l=e(d);if(j===0)return f({result:[]});if(a){d=i?h.getAll(l,k):h.getAllKeys(l,k);d.onsuccess=function(a){return f({result:a.target.result})};d.onerror=W(g)}else{var m=0,n=i||!("openKeyCursor"in h)?h.openCursor(l):h.openKeyCursor(l),o=[];n.onsuccess=function(a){a=n.result;if(!a)return f({result:o});o.push(i?a.value:a.primaryKey);if(++m===j)return f({result:o});a["continue"]()};n.onerror=W(g)}})}}return{name:c,schema:b,mutate:d,getMany:function(b){var d=b.trans,a=b.keys;return new Promise(function(b,e){b=L(b);var f=d.objectStore(c),g=a.length,h=new Array(g),i=0,j=0,k=function(a){a=a.target;(h[a._pos]=a.result)!=null;++j===i&&b(h)};e=W(e);for(var l=0;l<g;++l){var m=a[l];m!=null&&(m=f.get(a[l]),m._pos=l,m.onsuccess=k,m.onerror=e,++i)}i===0&&b(h)})},get:function(a){var b=a.trans,d=a.key;return new Promise(function(a,e){a=L(a);var f=b.objectStore(c);f=f.get(d);f.onsuccess=function(b){return a(b.target.result)};f.onerror=W(e)})},query:f(g),openCursor:a,count:function(b){var a=b.query,d=b.trans,f=a.index,g=a.range;return new Promise(function(a,b){var h=d.objectStore(c);h=f.isPrimaryKey?h:h.index(f.name);var i=e(g);i=i?h.count(i):h.count();i.onsuccess=L(function(b){return a(b.target.result)});i.onerror=W(b)})}}}d=d(a,c);c=d.schema;var g=d.hasGetAll;d=c.tables.map(function(a){return f(a)});var i={};d.forEach(function(a){return i[a.name]=a});return{stack:"dbcore",transaction:a.transaction.bind(a),table:function(a){var b=i[a];if(!b)throw new Error("Table '".concat(a,"' not found"));return i[a]},MIN_KEY:-Infinity,MAX_KEY:Lc(b),schema:c}}function Sc(a,b){return b.reduce(function(a,b){b=b.create;return d(d({},a),b(a))},a)}function Tc(a,b,c,d){var e=c.IDBKeyRange;c.indexedDB;c=Sc(Rc(b,e,d),a.dbcore);return{dbcore:c}}function Uc(a,b){var c=a._novip;a=b.db;a=Tc(c._middlewares,a,c._deps,b);c.core=a.dbcore;c.tables.forEach(function(a){var b=a.name;c.core.schema.tables.some(function(a){return a.name===b})&&(a.core=c.core.table(b),c[b]instanceof c.Table&&(c[b].core=a.core))})}function Vc(a,b,c,d){var e=a._novip;c.forEach(function(a){var c=d[a];b.forEach(function(b){var d=r(b,a);(!d||"value"in d&&d.value===void 0)&&(b===e.Transaction.prototype||b instanceof e.Transaction?o(b,a,{get:function(){return this.table(a)},set:function(b){n(this,a,{value:b,writable:!0,configurable:!0,enumerable:!0})}}):b[a]=new e.Table(a,c))})})}function Wc(a,b){var c=a._novip;b.forEach(function(a){for(var b in a)a[b]instanceof c.Table&&delete a[b]})}function Xc(a,b){return a._cfg.version-b._cfg.version}function Yc(a,b,c,d){var e=a._dbSchema,f=a._createTransaction("readwrite",a._storeNames,e);f.create(c);f._completion["catch"](d);var h=f._reject.bind(f),i=I.transless||I;N(function(){I.trans=f,I.transless=i,b===0?(g(e).forEach(function(a){ad(c,a,e[a].primKey,e[a].indexes)}),Uc(a,c),K.follow(function(){return a.on.populate.fire(f)})["catch"](h)):Zc(a,b,f,c)["catch"](h)})}function Zc(a,b,c,d){var e=a._novip,f=[];a=e._versions;var h=e._dbSchema=ed(e,e.idbdb,d),i=!1;a=a.filter(function(a){return a._cfg.version>=b});a.forEach(function(a){f.push(function(){var f=h,j=a._cfg.dbschema;hd(e,f,d);hd(e,j,d);h=e._dbSchema=j;var k=$c(f,j);k.add.forEach(function(a){ad(d,a[0],a[1].primKey,a[1].indexes)});k.change.forEach(function(a){if(a.recreate)throw new D.Upgrade("Not yet support for changing primary key");else{var b=d.objectStore(a.name);a.add.forEach(function(a){return dd(b,a)});a.change.forEach(function(a){b.deleteIndex(a.name),dd(b,a)});a.del.forEach(function(a){return b.deleteIndex(a)})}});var l=a._cfg.contentUpgrade;if(l&&a._cfg.version>b){Uc(e,d);c._memoizedTables={};i=!0;var m=ea(j);k.del.forEach(function(a){m[a]=f[a]});Wc(e,[e.Transaction.prototype]);Vc(e,[e.Transaction.prototype],g(m),m);c.schema=m;var n=sa(l);n&&Db();var o;j=K.follow(function(){o=l(c);if(o&&n){var a=O.bind(null,null);o.then(a,a)}});return o&&typeof o.then==="function"?K.resolve(o):j.then(function(){return o})}}),f.push(function(b){if(!i||!Rb){var d=a._cfg.dbschema;cd(d,b)}Wc(e,[e.Transaction.prototype]);Vc(e,[e.Transaction.prototype],e._storeNames,e._dbSchema);c.schema=e._dbSchema})});function j(){return f.length?K.resolve(f.shift()(c.idbtrans)).then(j):K.resolve()}return j().then(function(){bd(h,d)})}function $c(a,b){var c={del:[],add:[],change:[]},d;for(d in a)b[d]||c.del.push(d);for(d in b){var e=a[d],f=b[d];if(!e)c.add.push([d,f]);else{var g={name:d,def:f,recreate:!1,del:[],add:[],change:[]};if(""+(e.primKey.keyPath||"")!==""+(f.primKey.keyPath||"")||e.primKey.auto!==f.primKey.auto&&!Qb)g.recreate=!0,c.change.push(g);else{e=e.idxByName;f=f.idxByName;var h;for(h in e)f[h]||g.del.push(h);for(h in f){var i=e[h],j=f[h];!i?g.add.push(j):i.src!==j.src&&g.change.push(j)}(g.del.length>0||g.add.length>0||g.change.length>0)&&c.change.push(g)}}}return c}function ad(a,b,c,d){var e=a.db.createObjectStore(b,c.keyPath?{keyPath:c.keyPath,autoIncrement:c.auto}:{autoIncrement:c.auto});d.forEach(function(a){return dd(e,a)});return e}function bd(a,b){g(a).forEach(function(c){b.db.objectStoreNames.contains(c)||ad(b,c,a[c].primKey,a[c].indexes)})}function cd(a,b){[].slice.call(b.db.objectStoreNames).forEach(function(c){return a[c]==null&&b.db.deleteObjectStore(c)})}function dd(a,b){a.createIndex(b.name,b.keyPath,{unique:b.unique,multiEntry:b.multi})}function ed(a,b,c){var d={};a=t(b.objectStoreNames,0);a.forEach(function(a){var b=c.objectStore(a),e=b.keyPath,f=Hc(Ic(e),e||"",!1,!1,!!b.autoIncrement,e&&typeof e!=="string",!0),g=[];for(var h=0;h<b.indexNames.length;++h){var i=b.index(b.indexNames[h]);e=i.keyPath;i=Hc(i.name,e,!!i.unique,!!i.multiEntry,!1,e&&typeof e!=="string",!1);g.push(i)}d[a]=Jc(a,f,g)});return d}function fd(a,b,c){a=a._novip;a.verno=b.version/10;c=a._dbSchema=ed(a,b,c);a._storeNames=t(b.objectStoreNames,0);Vc(a,[a._allTables],g(c),c)}function gd(a,b){b=ed(a,a.idbdb,b);b=$c(b,a._dbSchema);return!(b.add.length||b.change.some(function(a){return a.add.length||a.change.length}))}function hd(a,b,c){a=a._novip;var d=c.db.objectStoreNames;for(var e=0;e<d.length;++e){var g=d[e],h=c.objectStore(g);a._hasGetAll="getAll"in h;for(var i=0;i<h.indexNames.length;++i){var j=h.indexNames[i],k=h.index(j).keyPath;k=typeof k==="string"?k:"["+t(k).join("+")+"]";if(b[g]){var l=b[g].idxByName[k];l&&(l.name=j,delete b[g].idxByName[k],b[g].idxByName[j]=l)}}}typeof navigator!=="undefined"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&f.WorkerGlobalScope&&f instanceof f.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(a._hasGetAll=!1)}function id(a){return a.split(",").map(function(a,b){a=a.trim();var c=a.replace(/([&*]|\+\+)/g,""),d=/^\[/.test(c)?c.match(/^\[(.*)\]$/)[1].split("+"):c;return Hc(c,d||null,/\&/.test(a),/\*/.test(a),/\+\+/.test(a),h(d),b===0)})}var jd=function(){function a(){}a.prototype._parseStoresSpec=function(a,b){g(a).forEach(function(c){if(a[c]!==null){var d=id(a[c]),e=d.shift();if(e.multi)throw new D.Schema("Primary key cannot be multi-valued");d.forEach(function(a){if(a.auto)throw new D.Schema("Only primary key can be marked as autoIncrement (++)");if(!a.keyPath)throw new D.Schema("Index must have a name and cannot be an empty string")});b[c]=Jc(c,e,d)}})};a.prototype.stores=function(a){var b=this.db;this._cfg.storesSource=this._cfg.storesSource?i(this._cfg.storesSource,a):a;a=b._versions;var c={},d={};a.forEach(function(a){i(c,a._cfg.storesSource),d=a._cfg.dbschema={},a._parseStoresSpec(c,d)});b._dbSchema=d;Wc(b,[b._allTables,b,b.Transaction.prototype]);Vc(b,[b._allTables,b,b.Transaction.prototype,this._cfg.tables],g(d),d);b._storeNames=g(d);return this};a.prototype.upgrade=function(a){this._cfg.contentUpgrade=Na(this._cfg.contentUpgrade||E,a);return this};return a}();function kd(a){return gc(jd.prototype,function(b){this.db=a,this._cfg={version:b,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})}function ld(a,b){var c=a._dbNamesDB;c||(c=a._dbNamesDB=new je(Ub,{addons:[],indexedDB:a,IDBKeyRange:b}),c.version(1).stores({dbnames:"name"}));return c.table("dbnames")}function md(a){return a&&typeof a.databases==="function"}function nd(a){var b=a.indexedDB;a=a.IDBKeyRange;return md(b)?Promise.resolve(b.databases()).then(function(a){return a.map(function(a){return a.name}).filter(function(a){return a!==Ub})}):ld(b,a).toCollection().primaryKeys()}function od(a,b){var c=a.indexedDB;a=a.IDBKeyRange;!md(c)&&b!==Ub&&ld(c,a).put({name:b})["catch"](E)}function pd(a,b){var c=a.indexedDB;a=a.IDBKeyRange;!md(c)&&b!==Ub&&ld(c,a)["delete"](b)["catch"](E)}function qd(a){return N(function(){I.letThrough=!0;return a()})}function rd(){var a=!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent);if(!a||!indexedDB.databases)return Promise.resolve();var b;return new Promise(function(a){var c=function(){return indexedDB.databases()["finally"](a)};b=setInterval(c,100);c()})["finally"](function(){return clearInterval(b)})}function sd(a){var b=a._state,c=a._deps.indexedDB;if(b.isBeingOpened||a.idbdb)return b.dbReadyPromise.then(function(){return b.dbOpenError?Q(b.dbOpenError):a});B&&(b.openCanceller._stackHolder=wa());b.isBeingOpened=!0;b.dbOpenError=null;b.openComplete=!1;var d=b.openCanceller;function e(){if(b.openCanceller!==d)throw new D.DatabaseClosed("db.open() was cancelled")}var f=b.dbReadyResolve,g=null,h=!1;return K.race([d,(typeof navigator==="undefined"?K.resolve():rd()).then(function(){return new K(function(d,f){e();if(!c)throw new D.MissingAPI();var i=a.name,j=b.autoSchema?c.open(i):c.open(i,Math.round(a.verno*10));if(!j)throw new D.MissingAPI();j.onerror=W(f);j.onblocked=L(a._fireOnBlocked);j.onupgradeneeded=L(function(d){g=j.transaction;if(b.autoSchema&&!a._options.allowEmptyDB){j.onerror=Dc;g.abort();j.result.close();var e=c.deleteDatabase(i);e.onsuccess=e.onerror=L(function(){f(new D.NoSuchDatabase("Database ".concat(i," doesnt exist")))})}else{g.onerror=W(f);e=d.oldVersion>Math.pow(2,62)?0:d.oldVersion;h=e<1;a._novip.idbdb=j.result;Yc(a,e/10,g,f)}},f);j.onsuccess=L(function(){g=null;var c=a._novip.idbdb=j.result,e=t(c.objectStoreNames);if(e.length>0)try{e=c.transaction(Kc(e),"readonly");b.autoSchema?fd(a,c,e):(hd(a,a._dbSchema,e),!gd(a,e));Uc(a,e)}catch(a){}Pb.push(a);c.onversionchange=L(function(c){b.vcFired=!0,a.on("versionchange").fire(c)});c.onclose=L(function(b){a.on("close").fire(b)});h&&od(a._deps,i);d()},f)})})]).then(function(){e();b.onReadyBeingFired=[];return K.resolve(qd(function(){return a.on.ready.fire(a.vip)})).then(function c(){if(b.onReadyBeingFired.length>0){var d=b.onReadyBeingFired.reduce(Na,E);b.onReadyBeingFired=[];return K.resolve(qd(function(){return d(a.vip)})).then(c)}})})["finally"](function(){b.onReadyBeingFired=null,b.isBeingOpened=!1}).then(function(){return a})["catch"](function(c){b.dbOpenError=c;try{g&&g.abort()}catch(a){}d===b.openCanceller&&a._close();return Q(c)})["finally"](function(){b.openComplete=!0,f()})}function td(a){var b=function(b){return a.next(b)},c=function(b){return a["throw"](b)},d=f(b),e=f(c);function f(a){return function(b){b=a(b);var c=b.value;return b.done?c:!c||typeof c.then!=="function"?h(c)?Promise.all(c).then(d,e):d(c):c.then(d,e)}}return f(b)()}function ud(a,b,c){var d=arguments.length;if(d<2)throw new D.InvalidArgument("Too few arguments");var e=new Array(d-1);while(--d)e[d-1]=arguments[d];c=e.pop();var f=ga(e);return[a,f,c]}function vd(a,b,c,d,e){return K.resolve().then(function(){var f=I.transless||I,g=a._createTransaction(b,c,a._dbSchema,d);g.explicit=!0;f={trans:g,transless:f};if(d)g.idbtrans=d.idbtrans;else try{g.create(),a._state.PR1398_maxLoop=3}catch(d){if(d.name===Da.InvalidState&&a.isOpen()&&--a._state.PR1398_maxLoop>0){a._close();return a.open().then(function(){return vd(a,b,c,null,e)})}return Q(d)}var h=sa(e);h&&Db();var i;f=K.follow(function(){i=e.call(g,g);if(i)if(h){var a=O.bind(null,null);i.then(a,a)}else typeof i.next==="function"&&typeof i["throw"]==="function"&&(i=td(i))},f);return(i&&typeof i.then==="function"?K.resolve(i).then(function(a){return g.active?a:Q(new D.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):f.then(function(){return i})).then(function(a){d&&g._resolve();return g._completion.then(function(){return a})})["catch"](function(a){g._reject(a);return Q(a)})})}function wd(a,b,c){a=h(a)?a.slice():[a];for(var d=0;d<c;++d)a.push(b);return a}function xd(a){return d(d({},a),{table:function(b){var c=a.table(b);b=c.schema;var e={},f=[];function g(a,b,c){var h=Qc(a),i=e[h]=e[h]||[],j=a==null?0:typeof a==="string"?1:a.length,k=b>0;h=d(d({},c),{name:k?"".concat(h,"(virtual-from:").concat(c.name,")"):c.name,lowLevelIndex:c,isVirtual:k,keyTail:b,keyLength:j,extractKey:Mc(a),unique:!k&&c.unique});i.push(h);h.isPrimaryKey||f.push(h);if(j>1){k=j===2?a[0]:a.slice(0,j-1);g(k,b+1,c)}i.sort(function(a,b){return a.keyTail-b.keyTail});return h}var h=g(b.primaryKey.keyPath,0,b.primaryKey);e[":id"]=[h];for(var i=0,j=b.indexes;i<j.length;i++){var k=j[i];g(k.keyPath,0,k)}function l(a){a=e[Qc(a)];return a&&a[0]}function m(b,c){return{type:b.type===1?2:b.type,lower:wd(b.lower,b.lowerOpen?a.MAX_KEY:a.MIN_KEY,c),lowerOpen:!0,upper:wd(b.upper,b.upperOpen?a.MIN_KEY:a.MAX_KEY,c),upperOpen:!0}}function n(b){var a=b.query.index;return a.isVirtual?d(d({},b),{query:{index:a.lowLevelIndex,range:m(b.query.range,a.keyTail)}}):b}k=d(d({},c),{schema:d(d({},b),{primaryKey:h,indexes:f,getIndexByKeyPath:l}),count:function(a){return c.count(n(a))},query:function(a){return c.query(n(a))},openCursor:function(d){var b=d.query.index,e=b.keyTail,f=b.isVirtual,g=b.keyLength;if(!f)return c.openCursor(d);function h(b){function c(c){c!=null?b["continue"](wd(c,d.reverse?a.MAX_KEY:a.MIN_KEY,e)):d.unique?b["continue"](b.key.slice(0,g).concat(d.reverse?a.MIN_KEY:a.MAX_KEY,e)):b["continue"]()}c=Object.create(b,{"continue":{value:c},continuePrimaryKey:{value:function(d,c){b.continuePrimaryKey(wd(d,a.MAX_KEY,e),c)}},primaryKey:{get:function(){return b.primaryKey}},key:{get:function(){var a=b.key;return g===1?a[0]:a.slice(0,g)}},value:{get:function(){return b.value}}});return c}return c.openCursor(n(d)).then(function(a){return a&&h(a)})}});return k}})}var yd={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:xd};function zd(a,b,c,d){c=c||{};d=d||"";g(a).forEach(function(e){if(!l(b,e))c[d+e]=void 0;else{var f=a[e],g=b[e];if(typeof f==="object"&&typeof g==="object"&&f&&g){var h=na(f),i=na(g);h!==i?c[d+e]=b[e]:h==="Object"?zd(f,g,c,d+e+"."):f!==g&&(c[d+e]=b[e])}else f!==g&&(c[d+e]=b[e])}});g(b).forEach(function(e){l(a,e)||(c[d+e]=b[e])});return c}function Ad(a,b){return b.type==="delete"?b.keys:b.keys||b.values.map(a.extractKey)}var Bd={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(a){return d(d({},a),{table:function(b){var c=a.table(b),f=c.schema.primaryKey,g=d(d({},c),{mutate:function(a){var g=I.trans,h=g.table(b).hook,i=h.deleting,j=h.creating,k=h.updating;switch(a.type){case"add":if(j.fire===E)break;return g._promise("readwrite",function(){return m(a)},!0);case"put":if(j.fire===E&&k.fire===E)break;return g._promise("readwrite",function(){return m(a)},!0);case"delete":if(i.fire===E)break;return g._promise("readwrite",function(){return m(a)},!0);case"deleteRange":if(i.fire===E)break;return g._promise("readwrite",function(){return n(a)},!0)}return c.mutate(a);function m(b){var g=I.trans,a=b.keys||Ad(f,b);if(!a)throw new Error("Keys missing");b=b.type==="add"||b.type==="put"?d(d({},b),{keys:a}):d({},b);b.type!=="delete"&&(b.values=e([],b.values,!0));b.keys&&(b.keys=e([],b.keys,!0));return Cd(c,b,a).then(function(d){var e=a.map(function(a,c){var e=d[c],h={onerror:null,onsuccess:null};if(b.type==="delete")i.fire.call(h,a,e,g);else if(b.type==="add"||e===void 0){var m=j.fire.call(h,a,b.values[c],g);a==null&&m!=null&&(a=m,b.keys[c]=a,f.outbound||x(b.values[c],f.keyPath,a))}else{m=zd(e,b.values[c]);var n=k.fire.call(h,m,a,e,g);if(n){var o=b.values[c];Object.keys(n).forEach(function(a){l(o,a)?o[a]=n[a]:x(o,a,n[a])})}}return h});return c.mutate(b).then(function(c){var f=c.failures,g=c.results,h=c.numFailures;c=c.lastResult;for(var i=0;i<a.length;++i){var j=g?g[i]:a[i],k=e[i];j==null?k.onerror&&k.onerror(f[i]):k.onsuccess&&k.onsuccess(b.type==="put"&&d[i]?b.values[i]:j)}return{failures:f,results:g,numFailures:h,lastResult:c}})["catch"](function(a){e.forEach(function(b){return b.onerror&&b.onerror(a)});return Promise.reject(a)})})}function n(a){return o(a.trans,a.range,1e4)}function o(a,b,e){return c.query({trans:a,values:!1,query:{index:f,range:b},limit:e}).then(function(c){var f=c.result;return m({type:"delete",keys:f,trans:a}).then(function(c){if(c.numFailures>0)return Promise.reject(c.failures[0]);if(f.length<e)return{failures:[],numFailures:0,lastResult:void 0};else return o(a,d(d({},b),{lower:f[f.length-1],lowerOpen:!0}),e)})})}}});return g}})}};function Cd(a,b,c){return b.type==="add"?Promise.resolve([]):a.getMany({trans:b.trans,keys:c,cache:"immutable"})}function Dd(a,b,c){try{if(!b)return null;if(b.keys.length<a.length)return null;var d=[];for(var e=0,f=0;e<b.keys.length&&f<a.length;++e){if(T(b.keys[e],a[f])!==0)continue;d.push(c?z(b.values[e]):b.values[e]);++f}return d.length===a.length?d:null}catch(a){return null}}var Ed={stack:"dbcore",level:-1,create:function(a){return{table:function(b){var c=a.table(b);return d(d({},c),{getMany:function(a){if(!a.cache)return c.getMany(a);var b=Dd(a.keys,a.trans._cache,a.cache==="clone");return b?K.resolve(b):c.getMany(a).then(function(b){a.trans._cache={keys:a.keys,values:a.cache==="clone"?z(b):b};return b})},mutate:function(a){a.type!=="add"&&(a.trans._cache=null);return c.mutate(a)}})}}}};function Fd(a){return!("from"in a)}var Z=function(a,b){if(this)i(this,arguments.length?{d:1,from:a,to:arguments.length>1?b:a}:{d:0});else{var c=new Z();a&&"d"in a&&i(c,a);return c}};m(Z.prototype,(xd={add:function(a){Hd(this,a);return this},addKey:function(a){Gd(this,a,a);return this},addKeys:function(a){var b=this;a.forEach(function(a){return Gd(b,a,a)});return this}},xd[oa]=function(){return Jd(this)},xd));function Gd(a,b,c){var d=T(b,c);if(isNaN(d))return;if(d>0)throw RangeError();if(Fd(a))return i(a,{from:b,to:c,d:1});d=a.l;var e=a.r;if(T(c,a.from)<0){d?Gd(d,b,c):a.l={from:b,to:c,d:1,l:null,r:null};return Kd(a)}if(T(b,a.to)>0){e?Gd(e,b,c):a.r={from:b,to:c,d:1,l:null,r:null};return Kd(a)}T(b,a.from)<0&&(a.from=b,a.l=null,a.d=e?e.d+1:1);T(c,a.to)>0&&(a.to=c,a.r=null,a.d=a.l?a.l.d+1:1);b=!a.r;d&&!a.l&&Hd(a,d);e&&b&&Hd(a,e)}function Hd(a,b){function c(a,b){var d=b.from,e=b.to,f=b.l;b=b.r;Gd(a,d,e);f&&c(a,f);b&&c(a,b)}Fd(b)||c(a,b)}function Id(a,b){b=Jd(b);var c=b.next();if(c.done)return!1;var d=c.value;a=Jd(a);var e=a.next(d.from),f=e.value;while(!c.done&&!e.done){if(T(f.from,d.to)<=0&&T(f.to,d.from)>=0)return!0;T(d.from,f.from)<0?d=(c=b.next(f.from)).value:f=(e=a.next(d.from)).value}return!1}function Jd(a){var b=Fd(a)?null:{s:0,n:a};return{next:function(a){var c=arguments.length>0;while(b)switch(b.s){case 0:b.s=1;if(c)while(b.n.l&&T(a,b.n.from)<0)b={up:b,n:b.n.l,s:1};else while(b.n.l)b={up:b,n:b.n.l,s:1};case 1:b.s=2;if(!c||T(a,b.n.to)<=0)return{value:b.n,done:!1};case 2:if(b.n.r){b.s=3;b={up:b,n:b.n.r,s:0};continue}case 3:b=b.up}return{done:!0}}}}function Kd(a){var b;b=(((b=a.r)===null||b===void 0?void 0:b.d)||0)-(((b=a.l)===null||b===void 0?void 0:b.d)||0);b=b>1?"r":b<-1?"l":"";if(b){var c=b==="r"?"l":"r",e=d({},a),f=a[b];a.from=f.from;a.to=f.to;a[b]=f[b];e[b]=f[c];a[c]=e;e.d=Ld(e)}a.d=Ld(a)}function Ld(a){var b=a.r;a=a.l;return(b?a?Math.max(b.d,a.d):b.d:a?a.d:0)+1}function Md(a,b){return a.trans.mode==="readonly"&&!!a.subscr&&!a.trans.explicit&&a.trans.db._options.cache!=="disabled"&&!b.schema.primaryKey.outbound}function Nd(a,b){switch(a){case"query":return b.values&&!b.unique;case"get":return!1;case"getMany":return!1;case"count":return!1;case"openCursor":return!1}}function Od(a,b){g(b).forEach(function(c){a[c]?Hd(a[c],b[c]):a[c]=ia(b[c])});return a}var Pd={stack:"dbcore",level:0,name:"Observability",create:function(a){var b=a.schema.name,c=new Z(a.MIN_KEY,a.MAX_KEY);return d(d({},a),{transaction:function(b,c,d){if(!I.subscr)return a.transaction(b,c,d);if(c!=="readonly")throw new D.ReadOnly("write transaction not allowed within liveQueries");return a.transaction(b,c,d)},table:function(e){var f=a.table(e),i=f.schema,j=i.primaryKey,k=j.extractKey,l=j.outbound,m=d(d({},f),{mutate:function(g){var k=g.trans,l=g.mutatedParts||(g.mutatedParts={}),m=function(a){a="idb://".concat(b,"/").concat(e,"/").concat(a);return l[a]||(l[a]=new Z())},n=m(""),o=m(":dels"),d=g.type,p=g.type==="deleteRange"?[g.range]:g.type==="delete"?[g.keys]:g.values.length<50?[Ad(j,g).filter(function(a){return a}),g.values]:[],a=p[0];p=p[1];var q=g.trans._cache;if(h(a)){n.addKeys(a);q=d==="delete"||a.length===p.length?Dd(a,q):null;!q&&d!=="add"&&o.addKeys(a);(q||p)&&Qd(m,i,q,p)}else if(a){d={from:a.lower,to:a.upper};o.add(d);n.add(d)}else n.add(c),o.add(c),i.indexes.forEach(function(a){return m(a.name).add(c)});return f.mutate(g).then(function(b){a&&(g.type==="add"||g.type==="put")&&n.addKeys(b.results);k.mutatedParts=Od(k.mutatedParts||{},l);return b})}}),n=function(b){b=b.query;var c=b.index;b=b.range;return[c,new Z((c=b.lower)!==null&&c!==void 0?c:a.MIN_KEY,(c=b.upper)!==null&&c!==void 0?c:a.MAX_KEY)]},o={get:function(a){return[j,new Z(a.key)]},getMany:function(a){return[j,new Z().addKeys(a.keys)]},count:n,query:n,openCursor:n};g(o).forEach(function(a){m[a]=function(g){var h=I.subscr,i=!!h,j=Md(I,f)&&Nd(a,g),m=j?g.obsSet={}:h;if(i){var n=function(a){a="idb://".concat(b,"/").concat(e,"/").concat(a);return m[a]||(m[a]=new Z())},p=n(""),q=n(":dels"),r=o[a](g),s=r[0],t=r[1];n(s.name||"").add(t);if(!s.isPrimaryKey)if(a==="count")q.add(c);else{var u=a==="query"&&l&&g.values&&f.query(d(d({},g),{values:!1}));return f[a].apply(this,arguments).then(function(b){if(a==="query"){if(l&&g.values)return u.then(function(a){a=a.result;p.addKeys(a);return b});var c=g.values?b.result.map(k):b.result;g.values?p.addKeys(c):q.addKeys(c)}else if(a==="openCursor"){var d=b,e=g.values;return d&&Object.create(d,{key:{get:function(){q.addKey(d.primaryKey);return d.key}},primaryKey:{get:function(){var a=d.primaryKey;q.addKey(a);return a}},value:{get:function(){e&&p.addKey(d.primaryKey);return d.value}}})}return b})}}return f[a].apply(this,arguments)}});return m}})}};function Qd(a,b,c,d){function e(b){var e=a(b.name||"");function f(a){return a!=null?b.extractKey(a):null}var g=function(a){return b.multiEntry&&h(a)?a.forEach(function(a){return e.addKey(a)}):e.addKey(a)};(c||d).forEach(function(a,b){a=c&&f(c[b]);b=d&&f(d[b]);T(a,b)!==0&&(a!=null&&g(a),b!=null&&g(b))})}b.indexes.forEach(e)}function Rd(a,b){return b.lower===void 0?!0:b.lowerOpen?T(a,b.lower)>0:T(a,b.lower)>=0}function Sd(a,b){return b.upper===void 0?!0:b.upperOpen?T(a,b.upper)<0:T(a,b.upper)<=0}function Td(a,b){return Rd(a,b)&&Sd(a,b)}function Ud(a,b,c,d,e,f){if(!c||c.length===0)return a;var g=b.query.index;d=d.schema.primaryKey;var h=d.extractKey,i=g.extractKey,j=(g.lowLevelIndex||g).extractKey;d=c.reduce(function(a,c){var d=a,e=c.type==="add"||c.type==="put"?c.values.filter(function(a){return Td(i(a),b.query.range)}).map(function(a){a=z(a);f&&Object.freeze(a);return a}):[];switch(c.type){case"add":d=a.concat(b.values?e:e.map(function(a){return h(a)}));break;case"put":var g=new Z().addKeys(c.values.map(function(a){return h(a)}));d=a.filter(function(a){a=b.values?h(a):a;return!Id(new Z(a),g)}).concat(b.values?e:e.map(function(a){return h(a)}));break;case"delete":var j=new Z().addKeys(c.keys);d=a.filter(function(a){a=b.values?h(a):a;return!Id(new Z(a),j)});break;case"deleteRange":var k=c.range;d=a.filter(function(a){return!Td(h(a),k)});break}return d},a);if(d===a)return a;d.sort(function(a,b){return T(j(a),j(b))||T(h(a),h(b))});b.limit&&b.limit<Infinity&&(d.length>b.limit?d.length=b.limit:a.length===b.limit&&d.length<b.limit&&(e.dirty=!0));return f?Object.freeze(d):d}var Vd={};function Wd(a,b){return T(a.lower,b.lower)===0&&T(a.upper,b.upper)===0&&!!a.lowerOpen===!!b.lowerOpen&&!!a.upperOpen===!!b.upperOpen}function Xd(a,b,c,d){if(a===void 0)return b!==void 0?-1:0;if(b===void 0)return 1;a=T(a,b);if(a===0){if(c&&d)return 0;if(c)return 1;if(d)return-1}return a}function Yd(a,b,c,d){if(a===void 0)return b!==void 0?1:0;if(b===void 0)return-1;a=T(a,b);if(a===0){if(c&&d)return 0;if(c)return-1;if(d)return 1}return a}function Zd(a,b){return Xd(a.lower,b.lower,a.lowerOpen,b.lowerOpen)<=0&&Yd(a.upper,b.upper,a.upperOpen,b.upperOpen)>=0}function $d(b,c,a,d){b=Vd["idb://".concat(b,"/").concat(c)];if(!b)return[];c=b.queries[a];if(!c)return[null,!1,b,null];var e=d.query?d.query.index.name:null;c=c[e||""];if(!c)return[null,!1,b,null];switch(a){case"query":e=c.find(function(a){return a.req.limit===d.limit&&a.req.values===d.values&&Wd(a.req.query.range,d.query.range)});if(e)return[e,!0,b,c];a=c.find(function(a){var b="limit"in a.req?a.req.limit:Infinity;return b>=d.limit&&(d.values?a.req.values:!0)&&Zd(a.req.query.range,d.query.range)});return[a,!1,b,c];case"count":e=c.find(function(a){return Wd(a.req.query.range,d.query.range)});return[e,!!e,b,c]}}function ae(a,b){return Object.keys(a).some(function(c){return b[c]&&Id(b[c],a[c])})}var be={},ce=!1;function de(a){Od(be,a),ce||(ce=!0,queueMicrotask(function(){ce=!1;var a=be;be={};ee(a)}))}function ee(a,b){b===void 0&&(b=!1);var c=new Set();for(var d in a){var e=/^idb\:\/\/(.*)\/(.*)\//.exec(d);if(e){var f=e[1];e=e[2];f=Vd["idb://".concat(f,"/").concat(e)];f&&fe(f,a,c,b)}}c.forEach(function(a){return a()})}function fe(a,b,c,d){var e=d&&[];for(var f=0,g=Object.entries(a.queries.query);f<g.length;f++){var h=g[f],i=h[0];h=h[1];var j=d&&[];for(var k=0,h=h;k<h.length;k++){var l=h[k];l.obsSet&&ae(b,l.obsSet)?l.subscribers.forEach(function(a){return c.add(a)}):d&&j.push(l)}d&&e.push([i,j])}if(d)for(l=0,k=e;l<k.length;l++){h=k[l];var i=h[0],j=h[1];a.queries.query[i]=j}}function ge(a,b,c,d){a.subscribers.add(c),d.addEventListener("abort",function(){a.subscribers["delete"](c),a.subscribers.size===0&&he(a,b)})}function he(a,b){setTimeout(function(){a.subscribers.size===0&&qa(b,a)},3e3)}var ie={stack:"dbcore",level:0,name:"Cache",create:function(a){var b=a.schema.name,c=d(d({},a),{transaction:function(c,d,e){var f=a.transaction(c,d,e);if(d==="readwrite"){var g=new AbortController();e=g.signal;var h=function(e){return function(){g.abort();if(d==="readwrite"){var h=new Set();for(var i=0,j=c;i<j.length;i++){var k=j[i],l=Vd["idb://".concat(b,"/").concat(k)];k=a.table(k);if(l){var m=l.optimisticOps.filter(function(a){return a.trans===f});if(m.length>0){l.optimisticOps=l.optimisticOps.filter(function(a){return a.trans!==f});for(var n=0,l=Object.values(l.queries.query);n<l.length;n++){var o=l[n];for(var p=0,q=o.slice();p<q.length;p++){var r=q[p];if(r.res!=null&&f.mutatedParts)if(e&&!r.dirty){var s=Object.isFrozen(r.res);s=Ud(r.res,r.req,m,k,r,s);r.dirty?(qa(o,r),r.subscribers.forEach(function(a){return h.add(a)})):s!==r.res&&(r.res=s,r.promise=K.resolve({result:s}))}else r.dirty&&qa(o,r),r.subscribers.forEach(function(a){return h.add(a)})}}}}}h.forEach(function(a){return a()})}}};f.addEventListener("abort",h(!1),{signal:e});f.addEventListener("error",h(!1),{signal:e});f.addEventListener("complete",h(!0),{signal:e})}return f},table:function(c){var e=a.table(c),f=e.schema.primaryKey,g=d(d({},e),{mutate:function(a){if(f.outbound||I.trans.db._options.cache==="disabled")return e.mutate(a);var g=Vd["idb://".concat(b,"/").concat(c)];if(!g)return e.mutate(a);var h=e.mutate(a);(a.type==="add"||a.type==="put")&&(a.values.length>=50||Ad(f,a).some(function(a){return a==null}))?h.then(function(b){var c=d(d({},a),{values:a.values.map(function(a,c){a=f.keyPath.includes(".")?z(a):d({},a);x(a,f.keyPath,b.results[c]);return a})});g.optimisticOps.push(c);queueMicrotask(function(){return de(a.mutatedParts)})}):(g.optimisticOps.push(a),de(a.mutatedParts),h["catch"](function(){qa(g.optimisticOps,a),de(a.mutatedParts)}));return h},query:function(a){if(!Md(I,e)||!Nd("query",a))return e.query(a);var d=I.trans.db._options.cache==="immutable",f=I,g=f.requery;f=f.signal;var h=$d(b,c,"query",a),i=h[0],j=h[1],k=h[2],l=h[3];if(i&&j)i.obsSet=a.obsSet;else{h=e.query(a).then(function(a){var b=a.result;i.res=b;if(d){for(var c=0,e=b.length;c<e;++c)Object.freeze(b[c]);Object.freeze(b)}else a.result=z(b);return a})["catch"](function(a){l&&i&&qa(l,i);return Promise.reject(a)});i={obsSet:a.obsSet,promise:h,subscribers:new Set(),type:"query",req:a,dirty:!1};l?l.push(i):(l=[i],k||(k=Vd["idb://".concat(b,"/").concat(c)]={queries:{query:{},count:{}},objs:new Map(),optimisticOps:[],unsignaledParts:{}}),k.queries.query[a.query.index.name||""]=l)}ge(i,l,g,f);return i.promise.then(function(b){return{result:Ud(b.result,a,k===null||k===void 0?void 0:k.optimisticOps,e,i,d)}})}});return g}});return c}},je=function(){function a(b,c){var e=this;this._middlewares={};this.verno=0;var f=a.dependencies;this._options=c=d({addons:a.addons,autoOpen:!0,indexedDB:f.indexedDB,IDBKeyRange:f.IDBKeyRange,cache:"cloned"},c);this._deps={indexedDB:c.indexedDB,IDBKeyRange:c.IDBKeyRange};f=c.addons;this._dbSchema={};this._versions=[];this._storeNames=[];this._allTables={};this.idbdb=null;this._novip=this;var g={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:E,dbReadyPromise:null,cancelOpen:E,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3};g.dbReadyPromise=new K(function(a){g.dbReadyResolve=a});g.openCanceller=new K(function(a,b){g.cancelOpen=b});this._state=g;this.name=b;this.on=fc(this,"populate","blocked","versionchange","close",{ready:[Na,E]});this.on.ready.subscribe=u(this.on.ready.subscribe,function(b){return function(c,d){a.vip(function(){var a=e._state;if(a.openComplete)a.dbOpenError||K.resolve().then(c),d&&b(c);else if(a.onReadyBeingFired)a.onReadyBeingFired.push(c),d&&b(c);else{b(c);var f=e;d||b(function a(){f.on.ready.unsubscribe(c),f.on.ready.unsubscribe(a)})}})}});this.Collection=sc(this);this.Table=hc(this);this.Transaction=Gc(this);this.Version=kd(this);this.WhereClause=Cc(this);this.on("versionchange",function(a){a.newVersion>0?!1:!1,e.close()});this.on("blocked",function(a){!a.newVersion||a.newVersion<a.oldVersion?!1:!1});this._maxKey=Lc(c.IDBKeyRange);this._createTransaction=function(a,b,c,d){return new e.Transaction(a,b,c,e._options.chromeTransactionDurability,d)};this._fireOnBlocked=function(a){e.on("blocked").fire(a),Pb.filter(function(a){return a.name===e.name&&a!==e&&!a._state.vcFired}).map(function(b){return b.on("versionchange").fire(a)})};this.use(Ed);this.use(ie);this.use(Pd);this.use(yd);this.use(Bd);this.vip=Object.create(this,{_vip:{value:!0}});f.forEach(function(a){return a(e)})}a.prototype.version=function(a){if(isNaN(a)||a<.1)throw new D.Type("Given version is not a positive number");a=Math.round(a*10)/10;if(this.idbdb||this._state.isBeingOpened)throw new D.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,a);var b=this._versions,c=b.filter(function(b){return b._cfg.version===a})[0];if(c)return c;c=new this.Version(a);b.push(c);b.sort(Xc);c.stores({});this._state.autoSchema=!1;return c};a.prototype._whenReady=function(a){var b=this;return this.idbdb&&(this._state.openComplete||I.letThrough||this._vip)?a():new K(function(a,c){if(b._state.openComplete)return c(new D.DatabaseClosed(b._state.dbOpenError));if(!b._state.isBeingOpened){if(!b._options.autoOpen){c(new D.DatabaseClosed());return}b.open()["catch"](E)}b._state.dbReadyPromise.then(a,c)}).then(a)};a.prototype.use=function(a){var b=a.stack,c=a.create,d=a.level;a=a.name;a&&this.unuse({stack:b,name:a});var e=this._middlewares[b]||(this._middlewares[b]=[]);e.push({stack:b,create:c,level:d==null?10:d,name:a});e.sort(function(a,b){return a.level-b.level});return this};a.prototype.unuse=function(a){var b=a.stack,c=a.name,d=a.create;b&&this._middlewares[b]&&(this._middlewares[b]=this._middlewares[b].filter(function(a){return d?a.create!==d:c?a.name!==c:!1}));return this};a.prototype.open=function(){var a=this;return Ib(H,function(){return sd(a)})};a.prototype._close=function(){var a=this._state,b=Pb.indexOf(this);b>=0&&Pb.splice(b,1);if(this.idbdb){try{this.idbdb.close()}catch(a){}this._novip.idbdb=null}a.dbReadyPromise=new K(function(b){a.dbReadyResolve=b});a.openCanceller=new K(function(b,c){a.cancelOpen=c})};a.prototype.close=function(){this._close();var a=this._state;this._options.autoOpen=!1;a.dbOpenError=new D.DatabaseClosed();a.isBeingOpened&&a.cancelOpen(a.dbOpenError)};a.prototype["delete"]=function(){var a=this,b=arguments.length>0,c=this._state;return new K(function(d,e){var f=function(){a.close();var b=a._deps.indexedDB.deleteDatabase(a.name);b.onsuccess=L(function(){pd(a._deps,a.name),d()});b.onerror=W(e);b.onblocked=a._fireOnBlocked};if(b)throw new D.InvalidArgument("Arguments not allowed in db.delete()");c.isBeingOpened?c.dbReadyPromise.then(f):f()})};a.prototype.backendDB=function(){return this.idbdb};a.prototype.isOpen=function(){return this.idbdb!==null};a.prototype.hasBeenClosed=function(){var a=this._state.dbOpenError;return a&&a.name==="DatabaseClosed"};a.prototype.hasFailed=function(){return this._state.dbOpenError!==null};a.prototype.dynamicallyOpened=function(){return this._state.autoSchema};Object.defineProperty(a.prototype,"tables",{get:function(){var a=this;return g(this._allTables).map(function(b){return a._allTables[b]})},enumerable:!1,configurable:!0});a.prototype.transaction=function(){var a=ud.apply(this,arguments);return this._transaction.apply(this,a)};a.prototype._transaction=function(a,b,c){var d=this,e=I.trans;(!e||e.db!==this||a.indexOf("!")!==-1)&&(e=null);var f=a.indexOf("?")!==-1;a=a.replace("!","").replace("?","");var g,h;try{h=b.map(function(a){a=a instanceof d.Table?a.name:a;if(typeof a!=="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return a});if(a=="r"||a===Vb)g=Vb;else if(a=="rw"||a==Wb)g=Wb;else throw new D.InvalidArgument("Invalid transaction mode: "+a);if(e){if(e.mode===Vb&&g===Wb)if(f)e=null;else throw new D.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");e&&h.forEach(function(a){if(e&&e.storeNames.indexOf(a)===-1)if(f)e=null;else throw new D.SubTransaction("Table "+a+" not included in parent transaction.")});f&&e&&!e.active&&(e=null)}}catch(a){return e?e._promise(null,function(b,c){c(a)}):Q(a)}var i=vd.bind(null,this,g,h,e,c);return e?e._promise(g,i,"lock"):I.trans?Ib(I.transless,function(){return d._whenReady(i)}):this._whenReady(i)};a.prototype.table=function(a){if(!l(this._allTables,a))throw new D.InvalidTable("Table ".concat(a," does not exist"));return this._allTables[a]};return a}(),ke=typeof Symbol!=="undefined"&&"observable"in Symbol?Symbol.observable:"@@observable",le=function(){function a(a){this._subscribe=a}a.prototype.subscribe=function(a,b,c){return this._subscribe(!a||typeof a==="function"?{next:a,error:b,complete:c}:a)};a.prototype[ke]=function(){return this};return a}(),me;try{me={indexedDB:f.indexedDB||f.mozIndexedDB||f.webkitIndexedDB||f.msIndexedDB,IDBKeyRange:f.IDBKeyRange||f.webkitIDBKeyRange}}catch(a){me={indexedDB:null,IDBKeyRange:null}}function ne(a){var b=!1,c,d=new le(function(d){var e=sa(a);function f(b){e&&Db();b=N(a,b);e&&b["finally"](O);return b}var g=!1,h,i={},j={},k={get closed(){return g},unsubscribe:function(){if(g)return;g=!0;h&&h.abort();l&&Y.storagemutated.unsubscribe(n)}};d.start&&d.start(k);var l=!1;function m(){return ae(j,i)}var n=function(a){Od(i,a),m()&&o()},o=function(){if(g||!me.indexedDB)return;i={};var a={};h&&h.abort();h=new AbortController();var e={subscr:a,signal:h.signal,requery:o,trans:null},k=f(e);Promise.resolve(k).then(function(f){b=!0;c=f;if(g||e.signal.aborted)return;i={};j=a;!ja(j)&&!l&&(Y(Ec,n),l=!0);d.next&&d.next(f)},function(a){b=!1;if(!["DatabaseClosedError","AbortError"].includes(a===null||a===void 0?void 0:a.name)){if(g)return;d.error&&d.error(a)}})};o();return k});d.hasValue=function(){return b};d.getValue=function(){return c};return d}var oe=je;m(oe,d(d({},C),{"delete":function(a){a=new oe(a,{addons:[]});return a["delete"]()},exists:function(a){return new oe(a,{addons:[]}).open().then(function(a){a.close();return!0})["catch"]("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(a){try{return nd(oe.dependencies).then(a)}catch(a){return Q(new D.MissingAPI())}},defineClass:function(){function a(a){i(this,a)}return a},ignoreTransaction:function(a){return I.trans?Ib(I.transless,a):a()},vip:qd,async:function(a){return function(){try{var b=td(a.apply(this,arguments));return!b||typeof b.then!=="function"?K.resolve(b):b}catch(a){return Q(a)}}},spawn:function(a,b,c){try{a=td(a.apply(c,b||[]));return!a||typeof a.then!=="function"?K.resolve(a):a}catch(a){return Q(a)}},currentTransaction:{get:function(){return I.trans||null}},waitFor:function(a,b){a=K.resolve(typeof a==="function"?oe.ignoreTransaction(a):a).timeout(b||6e4);return I.trans?I.trans.waitFor(a):a},Promise:K,debug:{get:function(){return B},set:function(a){ta(a,a==="dexie"?function(){return!0}:Tb)}},derive:p,extend:i,props:m,override:u,Events:fc,on:Y,liveQuery:ne,extendObservabilitySet:Od,getByKeyPath:w,setByKeyPath:x,delByKeyPath:da,shallowClone:ea,deepClone:z,getObjectDiff:zd,cmp:T,asap:aa,minKey:Nb,addons:[],connections:Pb,errnames:Da,dependencies:me,cache:Vd,semVer:y,version:y.split(".").map(function(a){return parseInt(a)}).reduce(function(a,b,c){return a+b/Math.pow(10,c*2)})}));oe.maxKey=Lc(oe.dependencies.IDBKeyRange);typeof dispatchEvent!=="undefined"&&typeof addEventListener!=="undefined"&&(Y(Ec,function(a){if(!$){var b;Qb?(b=document.createEvent("CustomEvent"),b.initCustomEvent(X,!0,!0,a)):b=new CustomEvent(X,{detail:a});$=!0;dispatchEvent(b);$=!1}}),addEventListener(X,function(a){a=a.detail;$||pe(a)}));function pe(a){var b=$;try{$=!0,Y.storagemutated.fire(a),ee(a,!0)}finally{$=b}}var $=!1;if(typeof BroadcastChannel!=="undefined"){var qe=new BroadcastChannel(X);typeof qe.unref==="function"&&qe.unref();Y(Ec,function(a){$||qe.postMessage(a)});qe.onmessage=function(a){a.data&&pe(a.data)}}else if(typeof self!=="undefined"&&typeof navigator!=="undefined"){Y(Ec,function(a){try{$||(typeof localStorage!=="undefined"&&localStorage.setItem(X,JSON.stringify({trig:Math.random(),changedParts:a})),typeof self.clients==="object"&&e([],self.clients.matchAll({includeUncontrolled:!0}),!0).forEach(function(b){return b.postMessage({type:X,changedParts:a})}))}catch(a){}});typeof addEventListener!=="undefined"&&addEventListener("storage",function(a){if(a.key===X){a=JSON.parse(a.newValue);a&&pe(a.changedParts)}});xd=self.document&&navigator.serviceWorker;xd&&xd.addEventListener("message",re)}function re(a){a=a.data;a&&a.type===X&&pe(a.changedParts)}K.rejectionMapper=Ga;ta(B,Tb);C=Object.freeze({__proto__:null,Dexie:je,liveQuery:ne,Entity:$b,cmp:T,"default":je,RangeSet:Z,mergeRanges:Hd,rangesOverlap:Id});d(je,C,{"default":je});return je})}var k=!1;function l(){k||(k=!0,j());return h.exports}function b(a){switch(a){case void 0:return l()}}e.exports=b}),null);
/**
 * License: https://www.facebook.com/legal/license/Hnt8PzozZpk/
 */
__d("quickselect-1.1.1",[],(function(a,b,c,d,e,f){"use strict";var g={},h={exports:g},i;function j(){(function(b,c){typeof g==="object"&&typeof h!=="undefined"?h.exports=c():typeof i==="function"&&i.amd?i(c):b.quickselect=c()})(this,function(){function a(a,c,e,f,g){b(a,c,e||0,f||a.length-1,g||d)}function b(a,d,e,f,g){while(f>e){if(f-e>600){var h=f-e+1,i=d-e+1,j=Math.log(h),k=.5*Math.exp(2*j/3);j=.5*Math.sqrt(j*k*(h-k)/h)*(i-h/2<0?-1:1);var l=Math.max(e,Math.floor(d-i*k/h+j));i=Math.min(f,Math.floor(d+(h-i)*k/h+j));b(a,d,l,i,g)}k=a[d];h=e;j=f;c(a,e,d);g(a[f],k)>0&&c(a,e,f);while(h<j){c(a,h,j);h++;j--;while(g(a[h],k)<0)h++;while(g(a[j],k)>0)j--}g(a[e],k)===0?c(a,e,j):(j++,c(a,j,f));j<=d&&(e=j+1);d<=j&&(f=j-1)}}function c(a,b,c){var d=a[b];a[b]=a[c];a[c]=d}function d(a,b){return a<b?-1:a>b?1:0}return a})}var k=!1;function l(){k||(k=!0,j());return h.exports}function a(a){switch(a){case void 0:return l()}}e.exports=a}),null);
/**
 * License: https://www.facebook.com/legal/license/t3hOLs8wlXy/
 */
__d("rbush-2.0.2",["quickselect-1.1.1"],(function(a,b,c,d,e,f){"use strict";function a(a){return a&&typeof a==="object"&&"default"in a?a["default"]:a}var g=a(b("quickselect-1.1.1"));d={};var h={exports:d};function i(){h.exports=b;h.exports["default"]=b;var a=g();function b(a,c){if(!(this instanceof b))return new b(a,c);this._maxEntries=Math.max(4,a||9);this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4));c&&this._initFormat(c);this.clear()}b.prototype={all:function(){return this._all(this.data,[])},search:function(a){var b=this.data,c=[],d=this.toBBox;if(!p(a,b))return c;var e=[],f,g,h,i;while(b){for(f=0,g=b.children.length;f<g;f++)h=b.children[f],i=b.leaf?d(h):h,p(a,i)&&(b.leaf?c.push(h):o(a,i)?this._all(h,c):e.push(h));b=e.pop()}return c},collides:function(a){var b=this.data,c=this.toBBox;if(!p(a,b))return!1;var d=[],e,f,g,h;while(b){for(e=0,f=b.children.length;e<f;e++){g=b.children[e];h=b.leaf?c(g):g;if(p(a,h)){if(b.leaf||o(a,h))return!0;d.push(g)}}b=d.pop()}return!1},load:function(a){if(!(a&&a.length))return this;if(a.length<this._minEntries){for(var b=0,c=a.length;b<c;b++)this.insert(a[b]);return this}b=this._build(a.slice(),0,a.length-1,0);if(!this.data.children.length)this.data=b;else if(this.data.height===b.height)this._splitRoot(this.data,b);else{if(this.data.height<b.height){c=this.data;this.data=b;b=c}this._insert(b,this.data.height-b.height-1,!0)}return this},insert:function(a){a&&this._insert(a,this.data.height-1);return this},clear:function(){this.data=q([]);return this},remove:function(a,b){if(!a)return this;var d=this.data,e=this.toBBox(a),f=[],g=[],h,i,j,k;while(d||f.length){d||(d=f.pop(),i=f[f.length-1],h=g.pop(),k=!0);if(d.leaf){j=c(a,d.children,b);if(j!==-1){d.children.splice(j,1);f.push(d);this._condense(f);return this}}!k&&!d.leaf&&o(d,e)?(f.push(d),g.push(h),h=0,i=d,d=d.children[0]):i?(h++,d=i.children[h],k=!1):d=null}return this},toBBox:function(a){return a},compareMinX:i,compareMinY:j,toJSON:function(){return this.data},fromJSON:function(a){this.data=a;return this},_all:function(a,b){var c=[];while(a)a.leaf?b.push.apply(b,a.children):c.push.apply(c,a.children),a=c.pop();return b},_build:function(a,b,c,e){var f=c-b+1,g=this._maxEntries,h;if(f<=g){h=q(a.slice(b,c+1));d(h,this.toBBox);return h}e||(e=Math.ceil(Math.log(f)/Math.log(g)),g=Math.ceil(f/Math.pow(g,e-1)));h=q([]);h.leaf=!1;h.height=e;f=Math.ceil(f/g);g=f*Math.ceil(Math.sqrt(g));var i,j,k;r(a,b,c,g,this.compareMinX);for(b=b;b<=c;b+=g){j=Math.min(b+g-1,c);r(a,b,j,f,this.compareMinY);for(i=b;i<=j;i+=f)k=Math.min(i+f-1,j),h.children.push(this._build(a,i,k,e-1))}d(h,this.toBBox);return h},_chooseSubtree:function(a,b,c,d){var e,f,g,h,i,j,l,n;while(!0){d.push(b);if(b.leaf||d.length-1===c)break;l=n=Infinity;for(e=0,f=b.children.length;e<f;e++)g=b.children[e],i=k(g),j=m(a,g)-i,j<n?(n=j,l=i<l?i:l,h=g):j===n&&(i<l&&(l=i,h=g));b=h||b.children[0]}return b},_insert:function(a,b,c){var d=this.toBBox;c=c?a:d(a);d=[];var e=this._chooseSubtree(c,this.data,b,d);e.children.push(a);f(e,c);while(b>=0)if(d[b].children.length>this._maxEntries)this._split(d,b),b--;else break;this._adjustParentBBoxes(c,d,b)},_split:function(a,b){var c=a[b],e=c.children.length,f=this._minEntries;this._chooseSplitAxis(c,f,e);f=this._chooseSplitIndex(c,f,e);e=q(c.children.splice(f,c.children.length-f));e.height=c.height;e.leaf=c.leaf;d(c,this.toBBox);d(e,this.toBBox);b?a[b-1].children.push(e):this._splitRoot(c,e)},_splitRoot:function(a,b){this.data=q([a,b]),this.data.height=a.height+1,this.data.leaf=!1,d(this.data,this.toBBox)},_chooseSplitIndex:function(a,b,c){var d,f,g,h,i,j,l;i=j=Infinity;for(d=b;d<=c-b;d++)f=e(a,0,d,this.toBBox),g=e(a,d,c,this.toBBox),h=n(f,g),f=k(f)+k(g),h<i?(i=h,l=d,j=f<j?f:j):h===i&&(f<j&&(j=f,l=d));return l},_chooseSplitAxis:function(a,b,c){var d=a.leaf?this.compareMinX:i,e=a.leaf?this.compareMinY:j,f=this._allDistMargin(a,b,c,d);b=this._allDistMargin(a,b,c,e);f<b&&a.children.sort(d)},_allDistMargin:function(a,b,c,d){a.children.sort(d);d=this.toBBox;var g=e(a,0,b,d),h=e(a,c-b,c,d),i=l(g)+l(h),j,k;for(j=b;j<c-b;j++)k=a.children[j],f(g,a.leaf?d(k):k),i+=l(g);for(j=c-b-1;j>=b;j--)k=a.children[j],f(h,a.leaf?d(k):k),i+=l(h);return i},_adjustParentBBoxes:function(a,b,c){for(c=c;c>=0;c--)f(b[c],a)},_condense:function(a){for(var b=a.length-1,c;b>=0;b--)a[b].children.length===0?b>0?(c=a[b-1].children,c.splice(c.indexOf(a[b]),1)):this.clear():d(a[b],this.toBBox)},_initFormat:function(a){var b=["return a"," - b",";"];this.compareMinX=new Function("a","b",b.join(a[0]));this.compareMinY=new Function("a","b",b.join(a[1]));this.toBBox=new Function("a","return {minX: a"+a[0]+", minY: a"+a[1]+", maxX: a"+a[2]+", maxY: a"+a[3]+"};")}};function c(a,b,c){if(!c)return b.indexOf(a);for(var d=0;d<b.length;d++)if(c(a,b[d]))return d;return-1}function d(a,b){e(a,0,a.children.length,b,a)}function e(a,b,c,d,e){e||(e=q(null));e.minX=Infinity;e.minY=Infinity;e.maxX=-Infinity;e.maxY=-Infinity;for(var b=b,g;b<c;b++)g=a.children[b],f(e,a.leaf?d(g):g);return e}function f(a,b){a.minX=Math.min(a.minX,b.minX);a.minY=Math.min(a.minY,b.minY);a.maxX=Math.max(a.maxX,b.maxX);a.maxY=Math.max(a.maxY,b.maxY);return a}function i(a,b){return a.minX-b.minX}function j(a,b){return a.minY-b.minY}function k(a){return(a.maxX-a.minX)*(a.maxY-a.minY)}function l(a){return a.maxX-a.minX+(a.maxY-a.minY)}function m(a,b){return(Math.max(b.maxX,a.maxX)-Math.min(b.minX,a.minX))*(Math.max(b.maxY,a.maxY)-Math.min(b.minY,a.minY))}function n(a,b){var c=Math.max(a.minX,b.minX),d=Math.max(a.minY,b.minY),e=Math.min(a.maxX,b.maxX);a=Math.min(a.maxY,b.maxY);return Math.max(0,e-c)*Math.max(0,a-d)}function o(a,b){return a.minX<=b.minX&&a.minY<=b.minY&&b.maxX<=a.maxX&&b.maxY<=a.maxY}function p(a,b){return b.minX<=a.maxX&&b.minY<=a.maxY&&b.maxX>=a.minX&&b.maxY>=a.minY}function q(a){return{children:a,height:1,leaf:!0,minX:Infinity,minY:Infinity,maxX:-Infinity,maxY:-Infinity}}function r(b,c,d,e,f){var g=[c,d],h;while(g.length){d=g.pop();c=g.pop();if(d-c<=e)continue;h=c+Math.ceil((d-c)/e/2)*e;a(b,h,c,d,f);g.push(c,h,h,d)}}}var j=!1;function k(){j||(j=!0,i());return h.exports}function c(a){switch(a){case void 0:return k()}}e.exports=c}),null);
/**
 * License: https://www.facebook.com/legal/license/t3hOLs8wlXy/
 */
__d("turf-helpers-6.1.4",[],(function(a,b,c,d,e,f){"use strict";var g={},h={exports:g};function i(){Object.defineProperty(g,"__esModule",{value:!0});g.earthRadius=6371008.8;g.factors={centimeters:g.earthRadius*100,centimetres:g.earthRadius*100,degrees:g.earthRadius/111325,feet:g.earthRadius*3.28084,inches:g.earthRadius*39.37,kilometers:g.earthRadius/1e3,kilometres:g.earthRadius/1e3,meters:g.earthRadius,metres:g.earthRadius,miles:g.earthRadius/1609.344,millimeters:g.earthRadius*1e3,millimetres:g.earthRadius*1e3,nauticalmiles:g.earthRadius/1852,radians:1,yards:g.earthRadius/1.0936};g.unitsFactors={centimeters:100,centimetres:100,degrees:1/111325,feet:3.28084,inches:39.37,kilometers:1/1e3,kilometres:1/1e3,meters:1,metres:1,miles:1/1609.344,millimeters:1e3,millimetres:1e3,nauticalmiles:1/1852,radians:1/g.earthRadius,yards:1/1.0936};g.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046};function a(a,b,c){c===void 0&&(c={});var d={type:"Feature"};(c.id===0||c.id)&&(d.id=c.id);c.bbox&&(d.bbox=c.bbox);d.properties=b||{};d.geometry=a;return d}g.feature=a;function b(a,b,d){d===void 0&&({});switch(a){case"Point":return c(b).geometry;case"LineString":return h(b).geometry;case"Polygon":return e(b).geometry;case"MultiPoint":return l(b).geometry;case"MultiLineString":return k(b).geometry;case"MultiPolygon":return m(b).geometry;default:throw new Error(a+" is invalid")}}g.geometry=b;function c(b,c,d){d===void 0&&(d={});b={type:"Point",coordinates:b};return a(b,c,d)}g.point=c;function d(a,b,d){d===void 0&&(d={});return j(a.map(function(a){return c(a,b)}),d)}g.points=d;function e(b,c,d){d===void 0&&(d={});for(var e=0,f=b;e<f.length;e++){var g=f[e];if(g.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var h=0;h<g[g.length-1].length;h++)if(g[g.length-1][h]!==g[0][h])throw new Error("First and last Position are not equivalent.")}h={type:"Polygon",coordinates:b};return a(h,c,d)}g.polygon=e;function f(a,b,c){c===void 0&&(c={});return j(a.map(function(a){return e(a,b)}),c)}g.polygons=f;function h(b,c,d){d===void 0&&(d={});if(b.length<2)throw new Error("coordinates must be an array of two or more positions");b={type:"LineString",coordinates:b};return a(b,c,d)}g.lineString=h;function i(a,b,c){c===void 0&&(c={});return j(a.map(function(a){return h(a,b)}),c)}g.lineStrings=i;function j(a,b){b===void 0&&(b={});var c={type:"FeatureCollection"};b.id&&(c.id=b.id);b.bbox&&(c.bbox=b.bbox);c.features=a;return c}g.featureCollection=j;function k(b,c,d){d===void 0&&(d={});b={type:"MultiLineString",coordinates:b};return a(b,c,d)}g.multiLineString=k;function l(b,c,d){d===void 0&&(d={});b={type:"MultiPoint",coordinates:b};return a(b,c,d)}g.multiPoint=l;function m(b,c,d){d===void 0&&(d={});b={type:"MultiPolygon",coordinates:b};return a(b,c,d)}g.multiPolygon=m;function n(b,c,d){d===void 0&&(d={});b={type:"GeometryCollection",geometries:b};return a(b,c,d)}g.geometryCollection=n;function o(a,b){b===void 0&&(b=0);if(b&&!(b>=0))throw new Error("precision must be a positive number");b=Math.pow(10,b||0);return Math.round(a*b)/b}g.round=o;function p(a,b){b===void 0&&(b="kilometers");var c=g.factors[b];if(!c)throw new Error(b+" units is invalid");return a*c}g.radiansToLength=p;function q(a,b){b===void 0&&(b="kilometers");var c=g.factors[b];if(!c)throw new Error(b+" units is invalid");return a/c}g.lengthToRadians=q;function r(a,b){return t(q(a,b))}g.lengthToDegrees=r;function s(a){a=a%360;a<0&&(a+=360);return a}g.bearingToAzimuth=s;function t(a){a=a%(2*Math.PI);return a*180/Math.PI}g.radiansToDegrees=t;function u(a){a=a%360;return a*Math.PI/180}g.degreesToRadians=u;function v(a,b,c){b===void 0&&(b="kilometers");c===void 0&&(c="kilometers");if(!(a>=0))throw new Error("length must be a positive number");return p(q(a,b),c)}g.convertLength=v;function w(a,b,c){b===void 0&&(b="meters");c===void 0&&(c="kilometers");if(!(a>=0))throw new Error("area must be a positive number");b=g.areaFactors[b];if(!b)throw new Error("invalid original units");c=g.areaFactors[c];if(!c)throw new Error("invalid final units");return a/b*c}g.convertArea=w;function x(a){return!isNaN(a)&&a!==null&&!Array.isArray(a)&&!/^\s*$/.test(a)}g.isNumber=x;function y(a){return!!a&&a.constructor===Object}g.isObject=y;function z(a){if(!a)throw new Error("bbox is required");if(!Array.isArray(a))throw new Error("bbox must be an Array");if(a.length!==4&&a.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");a.forEach(function(a){if(!x(a))throw new Error("bbox must only contain numbers")})}g.validateBBox=z;function A(a){if(!a)throw new Error("id is required");if(["string","number"].indexOf(typeof a)===-1)throw new Error("id must be a number or a string")}g.validateId=A;function B(){throw new Error("method has been renamed to `radiansToDegrees`")}g.radians2degrees=B;function C(){throw new Error("method has been renamed to `degreesToRadians`")}g.degrees2radians=C;function D(){throw new Error("method has been renamed to `lengthToDegrees`")}g.distanceToDegrees=D;function E(){throw new Error("method has been renamed to `lengthToRadians`")}g.distanceToRadians=E;function F(){throw new Error("method has been renamed to `radiansToLength`")}g.radiansToDistance=F;function G(){throw new Error("method has been renamed to `bearingToAzimuth`")}g.bearingToAngle=G;function H(){throw new Error("method has been renamed to `convertLength`")}g.convertDistance=H}var j=!1;function k(){j||(j=!0,i());return h.exports}function a(a){switch(a){case void 0:return k()}}e.exports=a}),null);
/**
 * License: https://www.facebook.com/legal/license/t3hOLs8wlXy/
 */
__d("turf-meta-6.0.2",["turf-helpers-6.1.4"],(function(a,b,c,d,e,f){"use strict";function a(a){return a&&typeof a==="object"&&"default"in a?a["default"]:a}var g=a(b("turf-helpers-6.1.4")),h={},i={exports:h};function j(){Object.defineProperty(h,"__esModule",{value:!0});var a=g();function b(a,c,d){if(a===null)return;var e,f,g,h,i,j,k=0,l=0,m,n=a.type,o=n==="FeatureCollection";n=n==="Feature";var p=o?a.features.length:1;for(var q=0;q<p;q++){j=o?a.features[q].geometry:n?a.geometry:a;m=j?j.type==="GeometryCollection":!1;h=m?j.geometries.length:1;for(var r=0;r<h;r++){var s=0,t=0;g=m?j.geometries[r]:j;if(g===null)continue;i=g.coordinates;var u=g.type;k=d&&(u==="Polygon"||u==="MultiPolygon")?1:0;switch(u){case null:break;case"Point":if(c(i,l,q,s,t)===!1)return!1;l++;s++;break;case"LineString":case"MultiPoint":for(e=0;e<i.length;e++){if(c(i[e],l,q,s,t)===!1)return!1;l++;u==="MultiPoint"&&s++}u==="LineString"&&s++;break;case"Polygon":case"MultiLineString":for(e=0;e<i.length;e++){for(f=0;f<i[e].length-k;f++){if(c(i[e][f],l,q,s,t)===!1)return!1;l++}u==="MultiLineString"&&s++;u==="Polygon"&&t++}u==="Polygon"&&s++;break;case"MultiPolygon":for(e=0;e<i.length;e++){t=0;for(f=0;f<i[e].length;f++){for(u=0;u<i[e][f].length-k;u++){if(c(i[e][f][u],l,q,s,t)===!1)return!1;l++}t++}s++}break;case"GeometryCollection":for(e=0;e<g.geometries.length;e++)if(b(g.geometries[e],c,d)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}function c(a,c,d,e){var f=d;b(a,function(a,b,e,g,h){b===0&&d===void 0?f=a:f=c(f,a,b,e,g,h)},e);return f}function d(a,b){var c;switch(a.type){case"FeatureCollection":for(c=0;c<a.features.length;c++)if(b(a.features[c].properties,c)===!1)break;break;case"Feature":b(a.properties,0);break}}function e(a,b,c){var e=c;d(a,function(a,d){d===0&&c===void 0?e=a:e=b(e,a,d)});return e}function f(a,b){if(a.type==="Feature")b(a,0);else if(a.type==="FeatureCollection")for(var c=0;c<a.features.length;c++)if(b(a.features[c],c)===!1)break}function i(a,b,c){var d=c;f(a,function(a,e){e===0&&c===void 0?d=a:d=b(d,a,e)});return d}function j(a){var c=[];b(a,function(a){c.push(a)});return c}function k(a,b){var c,d,e,f,g,h,i,j,k,l,m=0,n=a.type==="FeatureCollection",o=a.type==="Feature",p=n?a.features.length:1;for(c=0;c<p;c++){h=n?a.features[c].geometry:o?a.geometry:a;j=n?a.features[c].properties:o?a.properties:{};k=n?a.features[c].bbox:o?a.bbox:void 0;l=n?a.features[c].id:o?a.id:void 0;i=h?h.type==="GeometryCollection":!1;g=i?h.geometries.length:1;for(e=0;e<g;e++){f=i?h.geometries[e]:h;if(f===null){if(b(null,m,j,k,l)===!1)return!1;continue}switch(f.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(b(f,m,j,k,l)===!1)return!1;break;case"GeometryCollection":for(d=0;d<f.geometries.length;d++)if(b(f.geometries[d],m,j,k,l)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}m++}}function l(a,b,c){var d=c;k(a,function(a,e,f,g,h){e===0&&c===void 0?d=a:d=b(d,a,e,f,g,h)});return d}function m(b,c){k(b,function(b,d,e,f,g){var h=b===null?null:b.type;switch(h){case null:case"Point":case"LineString":case"Polygon":if(c(a.feature(b,e,{bbox:f,id:g}),d,0)===!1)return!1;return}var i;switch(h){case"MultiPoint":i="Point";break;case"MultiLineString":i="LineString";break;case"MultiPolygon":i="Polygon";break}for(f=0;f<b.coordinates.length;f++){g=b.coordinates[f];h={type:i,coordinates:g};if(c(a.feature(h,e),d,f)===!1)return!1}})}function n(a,b,c){var d=c;m(a,function(a,e,f){e===0&&f===0&&c===void 0?d=a:d=b(d,a,e,f)});return d}function o(c,d){m(c,function(c,e,f){var g=0;if(!c.geometry)return;var h=c.geometry.type;if(h==="Point"||h==="MultiPoint")return;var i,j=0,k=0,l=0;if(b(c,function(b,h,m,n,o){if(i===void 0||e>j||n>k||o>l){i=b;j=e;k=n;l=o;g=0;return}h=a.lineString([i,b],c.properties);if(d(h,e,f,o,g)===!1)return!1;g++;i=b})===!1)return!1})}function p(a,b,c){var d=c,e=!1;o(a,function(a,f,g,h,i){e===!1&&c===void 0?d=a:d=b(d,a,f,g,h,i),e=!0});return d}function q(b,c){if(!b)throw new Error("geojson is required");m(b,function(b,d,e){if(b.geometry===null)return;var f=b.geometry.type,g=b.geometry.coordinates;switch(f){case"LineString":if(c(b,d,e,0,0)===!1)return!1;break;case"Polygon":for(f=0;f<g.length;f++)if(c(a.lineString(g[f],b.properties),d,e,f)===!1)return!1;break}})}function r(a,b,c){var d=c;q(a,function(a,e,f,g){e===0&&c===void 0?d=a:d=b(d,a,e,f,g)});return d}function s(b,c){c=c||{};if(!a.isObject(c))throw new Error("options is invalid");var d=c.featureIndex||0,e=c.multiFeatureIndex||0,f=c.geometryIndex||0,g=c.segmentIndex||0,h=c.properties,i;switch(b.type){case"FeatureCollection":d<0&&(d=b.features.length+d);h=h||b.features[d].properties;i=b.features[d].geometry;break;case"Feature":h=h||b.properties;i=b.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":i=b;break;default:throw new Error("geojson is invalid")}if(i===null)return null;d=i.coordinates;switch(i.type){case"Point":case"MultiPoint":return null;case"LineString":g<0&&(g=d.length+g-1);return a.lineString([d[g],d[g+1]],h,c);case"Polygon":f<0&&(f=d.length+f);g<0&&(g=d[f].length+g-1);return a.lineString([d[f][g],d[f][g+1]],h,c);case"MultiLineString":e<0&&(e=d.length+e);g<0&&(g=d[e].length+g-1);return a.lineString([d[e][g],d[e][g+1]],h,c);case"MultiPolygon":e<0&&(e=d.length+e);f<0&&(f=d[e].length+f);g<0&&(g=d[e][f].length-g-1);return a.lineString([d[e][f][g],d[e][f][g+1]],h,c)}throw new Error("geojson is invalid")}function t(b,c){c=c||{};if(!a.isObject(c))throw new Error("options is invalid");var d=c.featureIndex||0,e=c.multiFeatureIndex||0,f=c.geometryIndex||0,g=c.coordIndex||0,h=c.properties,i;switch(b.type){case"FeatureCollection":d<0&&(d=b.features.length+d);h=h||b.features[d].properties;i=b.features[d].geometry;break;case"Feature":h=h||b.properties;i=b.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":i=b;break;default:throw new Error("geojson is invalid")}if(i===null)return null;d=i.coordinates;switch(i.type){case"Point":return a.point(d,h,c);case"MultiPoint":e<0&&(e=d.length+e);return a.point(d[e],h,c);case"LineString":g<0&&(g=d.length+g);return a.point(d[g],h,c);case"Polygon":f<0&&(f=d.length+f);g<0&&(g=d[f].length+g);return a.point(d[f][g],h,c);case"MultiLineString":e<0&&(e=d.length+e);g<0&&(g=d[e].length+g);return a.point(d[e][g],h,c);case"MultiPolygon":e<0&&(e=d.length+e);f<0&&(f=d[e].length+f);g<0&&(g=d[e][f].length-g);return a.point(d[e][f][g],h,c)}throw new Error("geojson is invalid")}h.coordEach=b;h.coordReduce=c;h.propEach=d;h.propReduce=e;h.featureEach=f;h.featureReduce=i;h.coordAll=j;h.geomEach=k;h.geomReduce=l;h.flattenEach=m;h.flattenReduce=n;h.segmentEach=o;h.segmentReduce=p;h.lineEach=q;h.lineReduce=r;h.findSegment=s;h.findPoint=t}var k=!1;function l(){k||(k=!0,j());return i.exports}function c(a){switch(a){case void 0:return l()}}e.exports=c}),null);
/**
 * License: https://www.facebook.com/legal/license/t3hOLs8wlXy/
 */
__d("turf-bbox-6.0.1",["turf-meta-6.0.2"],(function(a,b,c,d,e,f){"use strict";function a(a){return a&&typeof a==="object"&&"default"in a?a["default"]:a}var g=a(b("turf-meta-6.0.2")),h={},i={exports:h};function j(){Object.defineProperty(h,"__esModule",{value:!0});var a=g();function b(b){var c=[Infinity,Infinity,-Infinity,-Infinity];a.coordEach(b,function(a){c[0]>a[0]&&(c[0]=a[0]),c[1]>a[1]&&(c[1]=a[1]),c[2]<a[0]&&(c[2]=a[0]),c[3]<a[1]&&(c[3]=a[1])});return c}h["default"]=b}var k=!1;function l(){k||(k=!0,j());return i.exports}function c(a){switch(a){case void 0:return l()}}e.exports=c}),null);
/**
 * License: https://www.facebook.com/legal/license/t3hOLs8wlXy/
 */
__d("geojson-rbush-3.1.1",["rbush-2.0.2","turf-helpers-6.1.4","turf-meta-6.0.2","turf-bbox-6.0.1"],(function(a,b,c,d,e,f){"use strict";function a(a){return a&&typeof a==="object"&&"default"in a?a["default"]:a}var g=a(b("rbush-2.0.2")),h=a(b("turf-helpers-6.1.4")),i=a(b("turf-meta-6.0.2")),j=a(b("turf-bbox-6.0.1"));d={};var k={exports:d};function l(){var a=g(),b=h(),c=i(),d=j()["default"],e=c.featureEach;c.coordEach;b.polygon;var f=b.featureCollection;function l(b){b=a(b);b.insert=function(b){if(b.type!=="Feature")throw new Error("invalid feature");b.bbox=b.bbox?b.bbox:d(b);return a.prototype.insert.call(this,b)};b.load=function(b){var c=[];Array.isArray(b)?b.forEach(function(a){if(a.type!=="Feature")throw new Error("invalid features");a.bbox=a.bbox?a.bbox:d(a);c.push(a)}):e(b,function(a){if(a.type!=="Feature")throw new Error("invalid features");a.bbox=a.bbox?a.bbox:d(a);c.push(a)});return a.prototype.load.call(this,c)};b.remove=function(b,c){if(b.type!=="Feature")throw new Error("invalid feature");b.bbox=b.bbox?b.bbox:d(b);return a.prototype.remove.call(this,b,c)};b.clear=function(){return a.prototype.clear.call(this)};b.search=function(b){b=a.prototype.search.call(this,this.toBBox(b));return f(b)};b.collides=function(b){return a.prototype.collides.call(this,this.toBBox(b))};b.all=function(){var b=a.prototype.all.call(this);return f(b)};b.toJSON=function(){return a.prototype.toJSON.call(this)};b.fromJSON=function(b){return a.prototype.fromJSON.call(this,b)};b.toBBox=function(a){var b;if(a.bbox)b=a.bbox;else if(Array.isArray(a)&&a.length===4)b=a;else if(Array.isArray(a)&&a.length===6)b=[a[0],a[1],a[3],a[4]];else if(a.type==="Feature")b=d(a);else if(a.type==="FeatureCollection")b=d(a);else throw new Error("invalid geojson");return{minX:b[0],minY:b[1],maxX:b[2],maxY:b[3]}};return b}k.exports=l;k.exports["default"]=l}var m=!1;function n(){m||(m=!0,l());return k.exports}function c(a){switch(a){case void 0:return n()}}e.exports=c}),null);
/**
 * License: https://www.facebook.com/legal/license/cr2jmG-CdKo/
 */
__d("gl-mat3-1.0.0",[],(function(a,b,c,d,e,f){"use strict";b={};var g={exports:b};function h(){g.exports=a;function a(a,b){var c=b[0],d=b[1],e=b[2],f=b[3],g=b[4],h=b[5],i=b[6],j=b[7];b=b[8];a[0]=g*b-h*j;a[1]=e*j-d*b;a[2]=d*h-e*g;a[3]=h*i-f*b;a[4]=c*b-e*i;a[5]=e*f-c*h;a[6]=f*j-g*i;a[7]=d*i-c*j;a[8]=c*g-d*f;return a}}var i=!1;function j(){i||(i=!0,h());return g.exports}c={};var k={exports:c};function l(){k.exports=a;function a(a){var b=new Float32Array(9);b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];b[4]=a[4];b[5]=a[5];b[6]=a[6];b[7]=a[7];b[8]=a[8];return b}}var m=!1;function n(){m||(m=!0,l());return k.exports}d={};var o={exports:d};function p(){o.exports=a;function a(a,b){a[0]=b[0];a[1]=b[1];a[2]=b[2];a[3]=b[3];a[4]=b[4];a[5]=b[5];a[6]=b[6];a[7]=b[7];a[8]=b[8];return a}}var q=!1;function r(){q||(q=!0,p());return o.exports}f={};var s={exports:f};function t(){s.exports=a;function a(){var a=new Float32Array(9);a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=1;a[5]=0;a[6]=0;a[7]=0;a[8]=1;return a}}var u=!1;function v(){u||(u=!0,t());return s.exports}b={};var w={exports:b};function x(){w.exports=a;function a(a){var b=a[0],c=a[1],d=a[2],e=a[3],f=a[4],g=a[5],h=a[6],i=a[7];a=a[8];return b*(a*f-g*i)+c*(g*h-a*e)+d*(i*e-f*h)}}var y=!1;function z(){y||(y=!0,x());return w.exports}c={};var A={exports:c};function aa(){A.exports=a;function a(a){return Math.sqrt(a[0]*a[0]+a[1]*a[1]+a[2]*a[2]+a[3]*a[3]+a[4]*a[4]+a[5]*a[5]+a[6]*a[6]+a[7]*a[7]+a[8]*a[8])}}var B=!1;function ba(){B||(B=!0,aa());return A.exports}d={};var C={exports:d};function ca(){C.exports=a;function a(a,b){a[0]=b[0];a[1]=b[1];a[2]=0;a[3]=b[2];a[4]=b[3];a[5]=0;a[6]=b[4];a[7]=b[5];a[8]=1;return a}}var D=!1;function da(){D||(D=!0,ca());return C.exports}f={};var E={exports:f};function ea(){E.exports=a;function a(a,b){a[0]=b[0];a[1]=b[1];a[2]=b[2];a[3]=b[4];a[4]=b[5];a[5]=b[6];a[6]=b[8];a[7]=b[9];a[8]=b[10];return a}}var F=!1;function fa(){F||(F=!0,ea());return E.exports}b={};var G={exports:b};function ga(){G.exports=a;function a(a,b){var c=b[0],d=b[1],e=b[2];b=b[3];var f=c+c,g=d+d,h=e+e;c=c*f;var i=d*f;d=d*g;var j=e*f,k=e*g;e=e*h;f=b*f;g=b*g;b=b*h;a[0]=1-d-e;a[3]=i-b;a[6]=j+g;a[1]=i+b;a[4]=1-c-e;a[7]=k-f;a[2]=j-g;a[5]=k+f;a[8]=1-c-d;return a}}var H=!1;function ha(){H||(H=!0,ga());return G.exports}c={};var I={exports:c};function ia(){I.exports=a;function a(a){a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=1;a[5]=0;a[6]=0;a[7]=0;a[8]=1;return a}}var J=!1;function ja(){J||(J=!0,ia());return I.exports}d={};var K={exports:d};function ka(){K.exports=a;function a(a,b){var c=b[0],d=b[1],e=b[2],f=b[3],g=b[4],h=b[5],i=b[6],j=b[7];b=b[8];var k=b*g-h*j,l=-b*f+h*i,m=j*f-g*i,n=c*k+d*l+e*m;if(!n)return null;n=1/n;a[0]=k*n;a[1]=(-b*d+e*j)*n;a[2]=(h*d-e*g)*n;a[3]=l*n;a[4]=(b*c-e*i)*n;a[5]=(-h*c+e*f)*n;a[6]=m*n;a[7]=(-j*c+d*i)*n;a[8]=(g*c-d*f)*n;return a}}var L=!1;function la(){L||(L=!0,ka());return K.exports}f={};var M={exports:f};function ma(){M.exports=a;function a(a,b,c){var d=b[0],e=b[1],f=b[2],g=b[3],h=b[4],i=b[5],j=b[6],k=b[7];b=b[8];var l=c[0],m=c[1],n=c[2],o=c[3],p=c[4],q=c[5],r=c[6],s=c[7];c=c[8];a[0]=l*d+m*g+n*j;a[1]=l*e+m*h+n*k;a[2]=l*f+m*i+n*b;a[3]=o*d+p*g+q*j;a[4]=o*e+p*h+q*k;a[5]=o*f+p*i+q*b;a[6]=r*d+s*g+c*j;a[7]=r*e+s*h+c*k;a[8]=r*f+s*i+c*b;return a}}var N=!1;function na(){N||(N=!0,ma());return M.exports}b={};var O={exports:b};function oa(){O.exports=a;function a(a,b){var c=b[0],d=b[1],e=b[2],f=b[3],g=b[4],h=b[5],i=b[6],j=b[7],k=b[8],l=b[9],m=b[10],n=b[11],o=b[12],p=b[13],q=b[14];b=b[15];var r=c*h-d*g,s=c*i-e*g,t=c*j-f*g,u=d*i-e*h,v=d*j-f*h,w=e*j-f*i,x=k*p-l*o,y=k*q-m*o;k=k*b-n*o;var z=l*q-m*p;l=l*b-n*p;m=m*b-n*q;n=r*m-s*l+t*z+u*k-v*y+w*x;if(!n)return null;n=1/n;a[0]=(h*m-i*l+j*z)*n;a[1]=(i*k-g*m-j*y)*n;a[2]=(g*l-h*k+j*x)*n;a[3]=(e*l-d*m-f*z)*n;a[4]=(c*m-e*k+f*y)*n;a[5]=(d*k-c*l-f*x)*n;a[6]=(p*w-q*v+b*u)*n;a[7]=(q*t-o*w-b*s)*n;a[8]=(o*v-p*t+b*r)*n;return a}}var P=!1;function pa(){P||(P=!0,oa());return O.exports}c={};var Q={exports:c};function qa(){Q.exports=a;function a(a,b,c){var d=b[0],e=b[1],f=b[2],g=b[3],h=b[4],i=b[5],j=b[6],k=b[7];b=b[8];var l=Math.sin(c);c=Math.cos(c);a[0]=c*d+l*g;a[1]=c*e+l*h;a[2]=c*f+l*i;a[3]=c*g-l*d;a[4]=c*h-l*e;a[5]=c*i-l*f;a[6]=j;a[7]=k;a[8]=b;return a}}var R=!1;function ra(){R||(R=!0,qa());return Q.exports}d={};var S={exports:d};function sa(){S.exports=a;function a(a,b,c){var d=c[0];c=c[1];a[0]=d*b[0];a[1]=d*b[1];a[2]=d*b[2];a[3]=c*b[3];a[4]=c*b[4];a[5]=c*b[5];a[6]=b[6];a[7]=b[7];a[8]=b[8];return a}}var T=!1;function ta(){T||(T=!0,sa());return S.exports}f={};var U={exports:f};function ua(){U.exports=a;function a(a){return"mat3("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+", "+a[4]+", "+a[5]+", "+a[6]+", "+a[7]+", "+a[8]+")"}}var V=!1;function va(){V||(V=!0,ua());return U.exports}b={};var W={exports:b};function wa(){W.exports=a;function a(a,b,c){var d=b[0],e=b[1],f=b[2],g=b[3],h=b[4],i=b[5],j=b[6],k=b[7];b=b[8];var l=c[0];c=c[1];a[0]=d;a[1]=e;a[2]=f;a[3]=g;a[4]=h;a[5]=i;a[6]=l*d+c*g+j;a[7]=l*e+c*h+k;a[8]=l*f+c*i+b;return a}}var X=!1;function xa(){X||(X=!0,wa());return W.exports}c={};var Y={exports:c};function ya(){Y.exports=a;function a(a,b){if(a===b){var c=b[1],d=b[2],e=b[5];a[1]=b[3];a[2]=b[6];a[3]=c;a[5]=b[7];a[6]=d;a[7]=e}else a[0]=b[0],a[1]=b[3],a[2]=b[6],a[3]=b[1],a[4]=b[4],a[5]=b[7],a[6]=b[2],a[7]=b[5],a[8]=b[8];return a}}var Z=!1;function za(){Z||(Z=!0,ya());return Y.exports}d={};var $={exports:d};function Aa(){$.exports={adjoint:j(),clone:n(),copy:r(),create:v(),determinant:z(),frob:ba(),fromMat2:da(),fromMat4:fa(),fromQuat:ha(),identity:ja(),invert:la(),multiply:na(),normalFromMat4:pa(),rotate:ra(),scale:ta(),str:va(),translate:xa(),transpose:za()}}var Ba=!1;function Ca(){Ba||(Ba=!0,Aa());return $.exports}function a(a){switch(a){case void 0:return Ca();case"/create":return v()}}e.exports=a}),null);
/**
 * License: https://www.facebook.com/legal/license/t3hOLs8wlXy/
 */
__d("gl-matrix-3.0.0",[],(function(a,b,c,d,e,f){"use strict";var g={},h={exports:g};function i(){Object.defineProperty(g,"__esModule",{value:!0});g.setMatrixArrayType=b;g.toRadian=d;g.equals=e;g.RANDOM=g.ARRAY_TYPE=g.EPSILON=void 0;var a=1e-6;g.EPSILON=a;b=typeof Float32Array!=="undefined"?Float32Array:Array;g.ARRAY_TYPE=b;d=Math.random;g.RANDOM=d;function b(a){g.ARRAY_TYPE=a}var c=Math.PI/180;function d(a){return a*c}function e(b,c){return Math.abs(b-c)<=a*Math.max(1,Math.abs(b),Math.abs(c))}}var j=!1;function k(){j||(j=!0,i());return h.exports}var l={},m={exports:l};function n(){Object.defineProperty(l,"__esModule",{value:!0});l.create=c;l.clone=d;l.copy=e;l.identity=f;l.fromValues=g;l.set=h;l.transpose=i;l.invert=j;l.adjoint=m;l.determinant=n;l.multiply=o;l.rotate=p;l.scale=q;l.fromRotation=r;l.fromScaling=s;l.str=t;l.frob=u;l.LDU=v;l.add=w;l.subtract=x;l.exactEquals=y;l.equals=z;l.multiplyScalar=A;l.multiplyScalarAndAdd=B;l.sub=l.mul=void 0;var a=b(k());function b(a){if(a&&a.__esModule)return a;else{var b={};if(a!=null)for(var c in a)if(Object.prototype.hasOwnProperty.call(a,c)){var d=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(a,c):{};d.get||d.set?Object.defineProperty(b,c,d):b[c]=a[c]}b["default"]=a;return b}}function c(){var b=new a.ARRAY_TYPE(4);a.ARRAY_TYPE!=Float32Array&&(b[1]=0,b[2]=0);b[0]=1;b[3]=1;return b}function d(b){var c=new a.ARRAY_TYPE(4);c[0]=b[0];c[1]=b[1];c[2]=b[2];c[3]=b[3];return c}function e(a,b){a[0]=b[0];a[1]=b[1];a[2]=b[2];a[3]=b[3];return a}function f(a){a[0]=1;a[1]=0;a[2]=0;a[3]=1;return a}function g(b,c,d,e){var f=new a.ARRAY_TYPE(4);f[0]=b;f[1]=c;f[2]=d;f[3]=e;return f}function h(a,b,c,d,e){a[0]=b;a[1]=c;a[2]=d;a[3]=e;return a}function i(a,b){if(a===b){var c=b[1];a[1]=b[2];a[2]=c}else a[0]=b[0],a[1]=b[2],a[2]=b[1],a[3]=b[3];return a}function j(a,b){var c=b[0],d=b[1],e=b[2];b=b[3];var f=c*b-e*d;if(!f)return null;f=1/f;a[0]=b*f;a[1]=-d*f;a[2]=-e*f;a[3]=c*f;return a}function m(a,b){var c=b[0];a[0]=b[3];a[1]=-b[1];a[2]=-b[2];a[3]=c;return a}function n(a){return a[0]*a[3]-a[2]*a[1]}function o(a,b,c){var d=b[0],e=b[1],f=b[2];b=b[3];var g=c[0],h=c[1],i=c[2];c=c[3];a[0]=d*g+f*h;a[1]=e*g+b*h;a[2]=d*i+f*c;a[3]=e*i+b*c;return a}function p(a,b,c){var d=b[0],e=b[1],f=b[2];b=b[3];var g=Math.sin(c);c=Math.cos(c);a[0]=d*c+f*g;a[1]=e*c+b*g;a[2]=d*-g+f*c;a[3]=e*-g+b*c;return a}function q(a,b,c){var d=b[0],e=b[1],f=b[2];b=b[3];var g=c[0];c=c[1];a[0]=d*g;a[1]=e*g;a[2]=f*c;a[3]=b*c;return a}function r(a,b){var c=Math.sin(b);b=Math.cos(b);a[0]=b;a[1]=c;a[2]=-c;a[3]=b;return a}function s(a,b){a[0]=b[0];a[1]=0;a[2]=0;a[3]=b[1];return a}function t(a){return"mat2("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+")"}function u(a){return Math.sqrt(Math.pow(a[0],2)+Math.pow(a[1],2)+Math.pow(a[2],2)+Math.pow(a[3],2))}function v(a,b,c,d){a[2]=d[2]/d[0];c[0]=d[0];c[1]=d[1];c[3]=d[3]-a[2]*c[1];return[a,b,c]}function w(a,b,c){a[0]=b[0]+c[0];a[1]=b[1]+c[1];a[2]=b[2]+c[2];a[3]=b[3]+c[3];return a}function x(a,b,c){a[0]=b[0]-c[0];a[1]=b[1]-c[1];a[2]=b[2]-c[2];a[3]=b[3]-c[3];return a}function y(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]&&a[3]===b[3]}function z(b,c){var d=b[0],e=b[1],f=b[2];b=b[3];var g=c[0],h=c[1],i=c[2];c=c[3];return Math.abs(d-g)<=a.EPSILON*Math.max(1,Math.abs(d),Math.abs(g))&&Math.abs(e-h)<=a.EPSILON*Math.max(1,Math.abs(e),Math.abs(h))&&Math.abs(f-i)<=a.EPSILON*Math.max(1,Math.abs(f),Math.abs(i))&&Math.abs(b-c)<=a.EPSILON*Math.max(1,Math.abs(b),Math.abs(c))}function A(a,b,c){a[0]=b[0]*c;a[1]=b[1]*c;a[2]=b[2]*c;a[3]=b[3]*c;return a}function B(b,c,d,a){b[0]=c[0]+d[0]*a;b[1]=c[1]+d[1]*a;b[2]=c[2]+d[2]*a;b[3]=c[3]+d[3]*a;return b}c=o;l.mul=c;d=x;l.sub=d}var o=!1;function p(){o||(o=!0,n());return m.exports}var q={},r={exports:q};function s(){Object.defineProperty(q,"__esModule",{value:!0});q.create=c;q.clone=d;q.copy=e;q.identity=f;q.fromValues=g;q.set=h;q.invert=i;q.determinant=j;q.multiply=l;q.rotate=m;q.scale=n;q.translate=o;q.fromRotation=p;q.fromScaling=r;q.fromTranslation=s;q.str=t;q.frob=u;q.add=v;q.subtract=w;q.multiplyScalar=x;q.multiplyScalarAndAdd=y;q.exactEquals=z;q.equals=A;q.sub=q.mul=void 0;var a=b(k());function b(a){if(a&&a.__esModule)return a;else{var b={};if(a!=null)for(var c in a)if(Object.prototype.hasOwnProperty.call(a,c)){var d=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(a,c):{};d.get||d.set?Object.defineProperty(b,c,d):b[c]=a[c]}b["default"]=a;return b}}function c(){var b=new a.ARRAY_TYPE(6);a.ARRAY_TYPE!=Float32Array&&(b[1]=0,b[2]=0,b[4]=0,b[5]=0);b[0]=1;b[3]=1;return b}function d(b){var c=new a.ARRAY_TYPE(6);c[0]=b[0];c[1]=b[1];c[2]=b[2];c[3]=b[3];c[4]=b[4];c[5]=b[5];return c}function e(a,b){a[0]=b[0];a[1]=b[1];a[2]=b[2];a[3]=b[3];a[4]=b[4];a[5]=b[5];return a}function f(a){a[0]=1;a[1]=0;a[2]=0;a[3]=1;a[4]=0;a[5]=0;return a}function g(b,c,d,e,f,g){var h=new a.ARRAY_TYPE(6);h[0]=b;h[1]=c;h[2]=d;h[3]=e;h[4]=f;h[5]=g;return h}function h(a,b,c,d,e,f,g){a[0]=b;a[1]=c;a[2]=d;a[3]=e;a[4]=f;a[5]=g;return a}function i(a,b){var c=b[0],d=b[1],e=b[2],f=b[3],g=b[4];b=b[5];var h=c*f-d*e;if(!h)return null;h=1/h;a[0]=f*h;a[1]=-d*h;a[2]=-e*h;a[3]=c*h;a[4]=(e*b-f*g)*h;a[5]=(d*g-c*b)*h;return a}function j(a){return a[0]*a[3]-a[1]*a[2]}function l(a,b,c){var d=b[0],e=b[1],f=b[2],g=b[3],h=b[4];b=b[5];var i=c[0],j=c[1],k=c[2],l=c[3],m=c[4];c=c[5];a[0]=d*i+f*j;a[1]=e*i+g*j;a[2]=d*k+f*l;a[3]=e*k+g*l;a[4]=d*m+f*c+h;a[5]=e*m+g*c+b;return a}function m(a,b,c){var d=b[0],e=b[1],f=b[2],g=b[3],h=b[4];b=b[5];var i=Math.sin(c);c=Math.cos(c);a[0]=d*c+f*i;a[1]=e*c+g*i;a[2]=d*-i+f*c;a[3]=e*-i+g*c;a[4]=h;a[5]=b;return a}function n(a,b,c){var d=b[0],e=b[1],f=b[2],g=b[3],h=b[4];b=b[5];var i=c[0];c=c[1];a[0]=d*i;a[1]=e*i;a[2]=f*c;a[3]=g*c;a[4]=h;a[5]=b;return a}function o(a,b,c){var d=b[0],e=b[1],f=b[2],g=b[3],h=b[4];b=b[5];var i=c[0];c=c[1];a[0]=d;a[1]=e;a[2]=f;a[3]=g;a[4]=d*i+f*c+h;a[5]=e*i+g*c+b;return a}function p(a,b){var c=Math.sin(b);b=Math.cos(b);a[0]=b;a[1]=c;a[2]=-c;a[3]=b;a[4]=0;a[5]=0;return a}function r(a,b){a[0]=b[0];a[1]=0;a[2]=0;a[3]=b[1];a[4]=0;a[5]=0;return a}function s(a,b){a[0]=1;a[1]=0;a[2]=0;a[3]=1;a[4]=b[0];a[5]=b[1];return a}function t(a){return"mat2d("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+", "+a[4]+", "+a[5]+")"}function u(a){return Math.sqrt(Math.pow(a[0],2)+Math.pow(a[1],2)+Math.pow(a[2],2)+Math.pow(a[3],2)+Math.pow(a[4],2)+Math.pow(a[5],2)+1)}function v(a,b,c){a[0]=b[0]+c[0];a[1]=b[1]+c[1];a[2]=b[2]+c[2];a[3]=b[3]+c[3];a[4]=b[4]+c[4];a[5]=b[5]+c[5];return a}function w(a,b,c){a[0]=b[0]-c[0];a[1]=b[1]-c[1];a[2]=b[2]-c[2];a[3]=b[3]-c[3];a[4]=b[4]-c[4];a[5]=b[5]-c[5];return a}function x(a,b,c){a[0]=b[0]*c;a[1]=b[1]*c;a[2]=b[2]*c;a[3]=b[3]*c;a[4]=b[4]*c;a[5]=b[5]*c;return a}function y(b,c,d,a){b[0]=c[0]+d[0]*a;b[1]=c[1]+d[1]*a;b[2]=c[2]+d[2]*a;b[3]=c[3]+d[3]*a;b[4]=c[4]+d[4]*a;b[5]=c[5]+d[5]*a;return b}function z(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]&&a[3]===b[3]&&a[4]===b[4]&&a[5]===b[5]}function A(b,c){var d=b[0],e=b[1],f=b[2],g=b[3],h=b[4];b=b[5];var i=c[0],j=c[1],k=c[2],l=c[3],m=c[4];c=c[5];return Math.abs(d-i)<=a.EPSILON*Math.max(1,Math.abs(d),Math.abs(i))&&Math.abs(e-j)<=a.EPSILON*Math.max(1,Math.abs(e),Math.abs(j))&&Math.abs(f-k)<=a.EPSILON*Math.max(1,Math.abs(f),Math.abs(k))&&Math.abs(g-l)<=a.EPSILON*Math.max(1,Math.abs(g),Math.abs(l))&&Math.abs(h-m)<=a.EPSILON*Math.max(1,Math.abs(h),Math.abs(m))&&Math.abs(b-c)<=a.EPSILON*Math.max(1,Math.abs(b),Math.abs(c))}c=l;q.mul=c;d=w;q.sub=d}var t=!1;function u(){t||(t=!0,s());return r.exports}var v={},w={exports:v};function x(){Object.defineProperty(v,"__esModule",{value:!0});v.create=c;v.fromMat4=d;v.clone=e;v.copy=f;v.fromValues=g;v.set=h;v.identity=i;v.transpose=j;v.invert=l;v.adjoint=m;v.determinant=n;v.multiply=o;v.translate=p;v.rotate=q;v.scale=r;v.fromTranslation=s;v.fromRotation=t;v.fromScaling=u;v.fromMat2d=w;v.fromQuat=x;v.normalFromMat4=y;v.projection=z;v.str=A;v.frob=B;v.add=C;v.subtract=D;v.multiplyScalar=E;v.multiplyScalarAndAdd=F;v.exactEquals=G;v.equals=H;v.sub=v.mul=void 0;var a=b(k());function b(a){if(a&&a.__esModule)return a;else{var b={};if(a!=null)for(var c in a)if(Object.prototype.hasOwnProperty.call(a,c)){var d=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(a,c):{};d.get||d.set?Object.defineProperty(b,c,d):b[c]=a[c]}b["default"]=a;return b}}function c(){var b=new a.ARRAY_TYPE(9);a.ARRAY_TYPE!=Float32Array&&(b[1]=0,b[2]=0,b[3]=0,b[5]=0,b[6]=0,b[7]=0);b[0]=1;b[4]=1;b[8]=1;return b}function d(a,b){a[0]=b[0];a[1]=b[1];a[2]=b[2];a[3]=b[4];a[4]=b[5];a[5]=b[6];a[6]=b[8];a[7]=b[9];a[8]=b[10];return a}function e(b){var c=new a.ARRAY_TYPE(9);c[0]=b[0];c[1]=b[1];c[2]=b[2];c[3]=b[3];c[4]=b[4];c[5]=b[5];c[6]=b[6];c[7]=b[7];c[8]=b[8];return c}function f(a,b){a[0]=b[0];a[1]=b[1];a[2]=b[2];a[3]=b[3];a[4]=b[4];a[5]=b[5];a[6]=b[6];a[7]=b[7];a[8]=b[8];return a}function g(b,c,d,e,f,g,h,i,j){var k=new a.ARRAY_TYPE(9);k[0]=b;k[1]=c;k[2]=d;k[3]=e;k[4]=f;k[5]=g;k[6]=h;k[7]=i;k[8]=j;return k}function h(a,b,c,d,e,f,g,h,i,j){a[0]=b;a[1]=c;a[2]=d;a[3]=e;a[4]=f;a[5]=g;a[6]=h;a[7]=i;a[8]=j;return a}function i(a){a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=1;a[5]=0;a[6]=0;a[7]=0;a[8]=1;return a}function j(a,b){if(a===b){var c=b[1],d=b[2],e=b[5];a[1]=b[3];a[2]=b[6];a[3]=c;a[5]=b[7];a[6]=d;a[7]=e}else a[0]=b[0],a[1]=b[3],a[2]=b[6],a[3]=b[1],a[4]=b[4],a[5]=b[7],a[6]=b[2],a[7]=b[5],a[8]=b[8];return a}function l(a,b){var c=b[0],d=b[1],e=b[2],f=b[3],g=b[4],h=b[5],i=b[6],j=b[7];b=b[8];var k=b*g-h*j,l=-b*f+h*i,m=j*f-g*i,n=c*k+d*l+e*m;if(!n)return null;n=1/n;a[0]=k*n;a[1]=(-b*d+e*j)*n;a[2]=(h*d-e*g)*n;a[3]=l*n;a[4]=(b*c-e*i)*n;a[5]=(-h*c+e*f)*n;a[6]=m*n;a[7]=(-j*c+d*i)*n;a[8]=(g*c-d*f)*n;return a}function m(a,b){var c=b[0],d=b[1],e=b[2],f=b[3],g=b[4],h=b[5],i=b[6],j=b[7];b=b[8];a[0]=g*b-h*j;a[1]=e*j-d*b;a[2]=d*h-e*g;a[3]=h*i-f*b;a[4]=c*b-e*i;a[5]=e*f-c*h;a[6]=f*j-g*i;a[7]=d*i-c*j;a[8]=c*g-d*f;return a}function n(a){var b=a[0],c=a[1],d=a[2],e=a[3],f=a[4],g=a[5],h=a[6],i=a[7];a=a[8];return b*(a*f-g*i)+c*(-a*e+g*h)+d*(i*e-f*h)}function o(a,b,c){var d=b[0],e=b[1],f=b[2],g=b[3],h=b[4],i=b[5],j=b[6],k=b[7];b=b[8];var l=c[0],m=c[1],n=c[2],o=c[3],p=c[4],q=c[5],r=c[6],s=c[7];c=c[8];a[0]=l*d+m*g+n*j;a[1]=l*e+m*h+n*k;a[2]=l*f+m*i+n*b;a[3]=o*d+p*g+q*j;a[4]=o*e+p*h+q*k;a[5]=o*f+p*i+q*b;a[6]=r*d+s*g+c*j;a[7]=r*e+s*h+c*k;a[8]=r*f+s*i+c*b;return a}function p(a,b,c){var d=b[0],e=b[1],f=b[2],g=b[3],h=b[4],i=b[5],j=b[6],k=b[7];b=b[8];var l=c[0];c=c[1];a[0]=d;a[1]=e;a[2]=f;a[3]=g;a[4]=h;a[5]=i;a[6]=l*d+c*g+j;a[7]=l*e+c*h+k;a[8]=l*f+c*i+b;return a}function q(a,b,c){var d=b[0],e=b[1],f=b[2],g=b[3],h=b[4],i=b[5],j=b[6],k=b[7];b=b[8];var l=Math.sin(c);c=Math.cos(c);a[0]=c*d+l*g;a[1]=c*e+l*h;a[2]=c*f+l*i;a[3]=c*g-l*d;a[4]=c*h-l*e;a[5]=c*i-l*f;a[6]=j;a[7]=k;a[8]=b;return a}function r(a,b,c){var d=c[0];c=c[1];a[0]=d*b[0];a[1]=d*b[1];a[2]=d*b[2];a[3]=c*b[3];a[4]=c*b[4];a[5]=c*b[5];a[6]=b[6];a[7]=b[7];a[8]=b[8];return a}function s(a,b){a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=1;a[5]=0;a[6]=b[0];a[7]=b[1];a[8]=1;return a}function t(a,b){var c=Math.sin(b);b=Math.cos(b);a[0]=b;a[1]=c;a[2]=0;a[3]=-c;a[4]=b;a[5]=0;a[6]=0;a[7]=0;a[8]=1;return a}function u(a,b){a[0]=b[0];a[1]=0;a[2]=0;a[3]=0;a[4]=b[1];a[5]=0;a[6]=0;a[7]=0;a[8]=1;return a}function w(a,b){a[0]=b[0];a[1]=b[1];a[2]=0;a[3]=b[2];a[4]=b[3];a[5]=0;a[6]=b[4];a[7]=b[5];a[8]=1;return a}function x(a,b){var c=b[0],d=b[1],e=b[2];b=b[3];var f=c+c,g=d+d,h=e+e;c=c*f;var i=d*f;d=d*g;var j=e*f,k=e*g;e=e*h;f=b*f;g=b*g;b=b*h;a[0]=1-d-e;a[3]=i-b;a[6]=j+g;a[1]=i+b;a[4]=1-c-e;a[7]=k-f;a[2]=j-g;a[5]=k+f;a[8]=1-c-d;return a}function y(a,b){var c=b[0],d=b[1],e=b[2],f=b[3],g=b[4],h=b[5],i=b[6],j=b[7],k=b[8],l=b[9],m=b[10],n=b[11],o=b[12],p=b[13],q=b[14];b=b[15];var r=c*h-d*g,s=c*i-e*g,t=c*j-f*g,u=d*i-e*h,v=d*j-f*h,w=e*j-f*i,x=k*p-l*o,y=k*q-m*o;k=k*b-n*o;var z=l*q-m*p;l=l*b-n*p;m=m*b-n*q;n=r*m-s*l+t*z+u*k-v*y+w*x;if(!n)return null;n=1/n;a[0]=(h*m-i*l+j*z)*n;a[1]=(i*k-g*m-j*y)*n;a[2]=(g*l-h*k+j*x)*n;a[3]=(e*l-d*m-f*z)*n;a[4]=(c*m-e*k+f*y)*n;a[5]=(d*k-c*l-f*x)*n;a[6]=(p*w-q*v+b*u)*n;a[7]=(q*t-o*w-b*s)*n;a[8]=(o*v-p*t+b*r)*n;return a}function z(a,b,c){a[0]=2/b;a[1]=0;a[2]=0;a[3]=0;a[4]=-2/c;a[5]=0;a[6]=-1;a[7]=1;a[8]=1;return a}function A(a){return"mat3("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+", "+a[4]+", "+a[5]+", "+a[6]+", "+a[7]+", "+a[8]+")"}function B(a){return Math.sqrt(Math.pow(a[0],2)+Math.pow(a[1],2)+Math.pow(a[2],2)+Math.pow(a[3],2)+Math.pow(a[4],2)+Math.pow(a[5],2)+Math.pow(a[6],2)+Math.pow(a[7],2)+Math.pow(a[8],2))}function C(a,b,c){a[0]=b[0]+c[0];a[1]=b[1]+c[1];a[2]=b[2]+c[2];a[3]=b[3]+c[3];a[4]=b[4]+c[4];a[5]=b[5]+c[5];a[6]=b[6]+c[6];a[7]=b[7]+c[7];a[8]=b[8]+c[8];return a}function D(a,b,c){a[0]=b[0]-c[0];a[1]=b[1]-c[1];a[2]=b[2]-c[2];a[3]=b[3]-c[3];a[4]=b[4]-c[4];a[5]=b[5]-c[5];a[6]=b[6]-c[6];a[7]=b[7]-c[7];a[8]=b[8]-c[8];return a}function E(a,b,c){a[0]=b[0]*c;a[1]=b[1]*c;a[2]=b[2]*c;a[3]=b[3]*c;a[4]=b[4]*c;a[5]=b[5]*c;a[6]=b[6]*c;a[7]=b[7]*c;a[8]=b[8]*c;return a}function F(b,c,d,a){b[0]=c[0]+d[0]*a;b[1]=c[1]+d[1]*a;b[2]=c[2]+d[2]*a;b[3]=c[3]+d[3]*a;b[4]=c[4]+d[4]*a;b[5]=c[5]+d[5]*a;b[6]=c[6]+d[6]*a;b[7]=c[7]+d[7]*a;b[8]=c[8]+d[8]*a;return b}function G(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]&&a[3]===b[3]&&a[4]===b[4]&&a[5]===b[5]&&a[6]===b[6]&&a[7]===b[7]&&a[8]===b[8]}function H(b,c){var d=b[0],e=b[1],f=b[2],g=b[3],h=b[4],i=b[5],j=b[6],k=b[7];b=b[8];var l=c[0],m=c[1],n=c[2],o=c[3],p=c[4],q=c[5],r=c[6],s=c[7];c=c[8];return Math.abs(d-l)<=a.EPSILON*Math.max(1,Math.abs(d),Math.abs(l))&&Math.abs(e-m)<=a.EPSILON*Math.max(1,Math.abs(e),Math.abs(m))&&Math.abs(f-n)<=a.EPSILON*Math.max(1,Math.abs(f),Math.abs(n))&&Math.abs(g-o)<=a.EPSILON*Math.max(1,Math.abs(g),Math.abs(o))&&Math.abs(h-p)<=a.EPSILON*Math.max(1,Math.abs(h),Math.abs(p))&&Math.abs(i-q)<=a.EPSILON*Math.max(1,Math.abs(i),Math.abs(q))&&Math.abs(j-r)<=a.EPSILON*Math.max(1,Math.abs(j),Math.abs(r))&&Math.abs(k-s)<=a.EPSILON*Math.max(1,Math.abs(k),Math.abs(s))&&Math.abs(b-c)<=a.EPSILON*Math.max(1,Math.abs(b),Math.abs(c))}c=o;v.mul=c;d=D;v.sub=d}var y=!1;function z(){y||(y=!0,x());return w.exports}var A={},B={exports:A};function C(){Object.defineProperty(A,"__esModule",{value:!0});A.create=c;A.clone=d;A.copy=e;A.fromValues=f;A.set=g;A.identity=h;A.transpose=i;A.invert=j;A.adjoint=l;A.determinant=m;A.multiply=n;A.translate=o;A.scale=p;A.rotate=q;A.rotateX=r;A.rotateY=s;A.rotateZ=t;A.fromTranslation=u;A.fromScaling=v;A.fromRotation=w;A.fromXRotation=x;A.fromYRotation=y;A.fromZRotation=z;A.fromRotationTranslation=B;A.fromQuat2=C;A.getTranslation=D;A.getScaling=E;A.getRotation=F;A.fromRotationTranslationScale=G;A.fromRotationTranslationScaleOrigin=H;A.fromQuat=I;A.frustum=J;A.perspective=K;A.perspectiveFromFieldOfView=L;A.ortho=M;A.lookAt=N;A.targetTo=O;A.str=P;A.frob=Q;A.add=R;A.subtract=S;A.multiplyScalar=T;A.multiplyScalarAndAdd=U;A.exactEquals=V;A.equals=W;A.sub=A.mul=void 0;var a=b(k());function b(a){if(a&&a.__esModule)return a;else{var b={};if(a!=null)for(var c in a)if(Object.prototype.hasOwnProperty.call(a,c)){var d=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(a,c):{};d.get||d.set?Object.defineProperty(b,c,d):b[c]=a[c]}b["default"]=a;return b}}function c(){var b=new a.ARRAY_TYPE(16);a.ARRAY_TYPE!=Float32Array&&(b[1]=0,b[2]=0,b[3]=0,b[4]=0,b[6]=0,b[7]=0,b[8]=0,b[9]=0,b[11]=0,b[12]=0,b[13]=0,b[14]=0);b[0]=1;b[5]=1;b[10]=1;b[15]=1;return b}function d(b){var c=new a.ARRAY_TYPE(16);c[0]=b[0];c[1]=b[1];c[2]=b[2];c[3]=b[3];c[4]=b[4];c[5]=b[5];c[6]=b[6];c[7]=b[7];c[8]=b[8];c[9]=b[9];c[10]=b[10];c[11]=b[11];c[12]=b[12];c[13]=b[13];c[14]=b[14];c[15]=b[15];return c}function e(a,b){a[0]=b[0];a[1]=b[1];a[2]=b[2];a[3]=b[3];a[4]=b[4];a[5]=b[5];a[6]=b[6];a[7]=b[7];a[8]=b[8];a[9]=b[9];a[10]=b[10];a[11]=b[11];a[12]=b[12];a[13]=b[13];a[14]=b[14];a[15]=b[15];return a}function f(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){var r=new a.ARRAY_TYPE(16);r[0]=b;r[1]=c;r[2]=d;r[3]=e;r[4]=f;r[5]=g;r[6]=h;r[7]=i;r[8]=j;r[9]=k;r[10]=l;r[11]=m;r[12]=n;r[13]=o;r[14]=p;r[15]=q;return r}function g(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){a[0]=b;a[1]=c;a[2]=d;a[3]=e;a[4]=f;a[5]=g;a[6]=h;a[7]=i;a[8]=j;a[9]=k;a[10]=l;a[11]=m;a[12]=n;a[13]=o;a[14]=p;a[15]=q;return a}function h(a){a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=1;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=1;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a}function i(a,b){if(a===b){var c=b[1],d=b[2],e=b[3],f=b[6],g=b[7],h=b[11];a[1]=b[4];a[2]=b[8];a[3]=b[12];a[4]=c;a[6]=b[9];a[7]=b[13];a[8]=d;a[9]=f;a[11]=b[14];a[12]=e;a[13]=g;a[14]=h}else a[0]=b[0],a[1]=b[4],a[2]=b[8],a[3]=b[12],a[4]=b[1],a[5]=b[5],a[6]=b[9],a[7]=b[13],a[8]=b[2],a[9]=b[6],a[10]=b[10],a[11]=b[14],a[12]=b[3],a[13]=b[7],a[14]=b[11],a[15]=b[15];return a}function j(a,b){var c=b[0],d=b[1],e=b[2],f=b[3],g=b[4],h=b[5],i=b[6],j=b[7],k=b[8],l=b[9],m=b[10],n=b[11],o=b[12],p=b[13],q=b[14];b=b[15];var r=c*h-d*g,s=c*i-e*g,t=c*j-f*g,u=d*i-e*h,v=d*j-f*h,w=e*j-f*i,x=k*p-l*o,y=k*q-m*o,z=k*b-n*o,A=l*q-m*p,B=l*b-n*p,C=m*b-n*q,D=r*C-s*B+t*A+u*z-v*y+w*x;if(!D)return null;D=1/D;a[0]=(h*C-i*B+j*A)*D;a[1]=(e*B-d*C-f*A)*D;a[2]=(p*w-q*v+b*u)*D;a[3]=(m*v-l*w-n*u)*D;a[4]=(i*z-g*C-j*y)*D;a[5]=(c*C-e*z+f*y)*D;a[6]=(q*t-o*w-b*s)*D;a[7]=(k*w-m*t+n*s)*D;a[8]=(g*B-h*z+j*x)*D;a[9]=(d*z-c*B-f*x)*D;a[10]=(o*v-p*t+b*r)*D;a[11]=(l*t-k*v-n*r)*D;a[12]=(h*y-g*A-i*x)*D;a[13]=(c*A-d*y+e*x)*D;a[14]=(p*s-o*u-q*r)*D;a[15]=(k*u-l*s+m*r)*D;return a}function l(a,b){var c=b[0],d=b[1],e=b[2],f=b[3],g=b[4],h=b[5],i=b[6],j=b[7],k=b[8],l=b[9],m=b[10],n=b[11],o=b[12],p=b[13],q=b[14];b=b[15];a[0]=h*(m*b-n*q)-l*(i*b-j*q)+p*(i*n-j*m);a[1]=-(d*(m*b-n*q)-l*(e*b-f*q)+p*(e*n-f*m));a[2]=d*(i*b-j*q)-h*(e*b-f*q)+p*(e*j-f*i);a[3]=-(d*(i*n-j*m)-h*(e*n-f*m)+l*(e*j-f*i));a[4]=-(g*(m*b-n*q)-k*(i*b-j*q)+o*(i*n-j*m));a[5]=c*(m*b-n*q)-k*(e*b-f*q)+o*(e*n-f*m);a[6]=-(c*(i*b-j*q)-g*(e*b-f*q)+o*(e*j-f*i));a[7]=c*(i*n-j*m)-g*(e*n-f*m)+k*(e*j-f*i);a[8]=g*(l*b-n*p)-k*(h*b-j*p)+o*(h*n-j*l);a[9]=-(c*(l*b-n*p)-k*(d*b-f*p)+o*(d*n-f*l));a[10]=c*(h*b-j*p)-g*(d*b-f*p)+o*(d*j-f*h);a[11]=-(c*(h*n-j*l)-g*(d*n-f*l)+k*(d*j-f*h));a[12]=-(g*(l*q-m*p)-k*(h*q-i*p)+o*(h*m-i*l));a[13]=c*(l*q-m*p)-k*(d*q-e*p)+o*(d*m-e*l);a[14]=-(c*(h*q-i*p)-g*(d*q-e*p)+o*(d*i-e*h));a[15]=c*(h*m-i*l)-g*(d*m-e*l)+k*(d*i-e*h);return a}function m(a){var b=a[0],c=a[1],d=a[2],e=a[3],f=a[4],g=a[5],h=a[6],i=a[7],j=a[8],k=a[9],l=a[10],m=a[11],n=a[12],o=a[13],p=a[14];a=a[15];var q=b*g-c*f,r=b*h-d*f;b=b*i-e*f;f=c*h-d*g;c=c*i-e*g;g=d*i-e*h;d=j*o-k*n;i=j*p-l*n;e=j*a-m*n;h=k*p-l*o;j=k*a-m*o;n=l*a-m*p;return q*n-r*j+b*h+f*e-c*i+g*d}function n(a,b,c){var d=b[0],e=b[1],f=b[2],g=b[3],h=b[4],i=b[5],j=b[6],k=b[7],l=b[8],m=b[9],n=b[10],o=b[11],p=b[12],q=b[13],r=b[14];b=b[15];var s=c[0],t=c[1],u=c[2],v=c[3];a[0]=s*d+t*h+u*l+v*p;a[1]=s*e+t*i+u*m+v*q;a[2]=s*f+t*j+u*n+v*r;a[3]=s*g+t*k+u*o+v*b;s=c[4];t=c[5];u=c[6];v=c[7];a[4]=s*d+t*h+u*l+v*p;a[5]=s*e+t*i+u*m+v*q;a[6]=s*f+t*j+u*n+v*r;a[7]=s*g+t*k+u*o+v*b;s=c[8];t=c[9];u=c[10];v=c[11];a[8]=s*d+t*h+u*l+v*p;a[9]=s*e+t*i+u*m+v*q;a[10]=s*f+t*j+u*n+v*r;a[11]=s*g+t*k+u*o+v*b;s=c[12];t=c[13];u=c[14];v=c[15];a[12]=s*d+t*h+u*l+v*p;a[13]=s*e+t*i+u*m+v*q;a[14]=s*f+t*j+u*n+v*r;a[15]=s*g+t*k+u*o+v*b;return a}function o(a,b,c){var d=c[0],e=c[1];c=c[2];var f,g,h,i,j,k,l,m,n,o,p,q;b===a?(a[12]=b[0]*d+b[4]*e+b[8]*c+b[12],a[13]=b[1]*d+b[5]*e+b[9]*c+b[13],a[14]=b[2]*d+b[6]*e+b[10]*c+b[14],a[15]=b[3]*d+b[7]*e+b[11]*c+b[15]):(f=b[0],g=b[1],h=b[2],i=b[3],j=b[4],k=b[5],l=b[6],m=b[7],n=b[8],o=b[9],p=b[10],q=b[11],a[0]=f,a[1]=g,a[2]=h,a[3]=i,a[4]=j,a[5]=k,a[6]=l,a[7]=m,a[8]=n,a[9]=o,a[10]=p,a[11]=q,a[12]=f*d+j*e+n*c+b[12],a[13]=g*d+k*e+o*c+b[13],a[14]=h*d+l*e+p*c+b[14],a[15]=i*d+m*e+q*c+b[15]);return a}function p(a,b,c){var d=c[0],e=c[1];c=c[2];a[0]=b[0]*d;a[1]=b[1]*d;a[2]=b[2]*d;a[3]=b[3]*d;a[4]=b[4]*e;a[5]=b[5]*e;a[6]=b[6]*e;a[7]=b[7]*e;a[8]=b[8]*c;a[9]=b[9]*c;a[10]=b[10]*c;a[11]=b[11]*c;a[12]=b[12];a[13]=b[13];a[14]=b[14];a[15]=b[15];return a}function q(b,c,d,e){var f=e[0],g=e[1];e=e[2];var h=Math.sqrt(f*f+g*g+e*e),i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B;if(h<a.EPSILON)return null;h=1/h;f*=h;g*=h;e*=h;h=Math.sin(d);d=Math.cos(d);i=1-d;j=c[0];k=c[1];l=c[2];m=c[3];n=c[4];o=c[5];p=c[6];q=c[7];r=c[8];s=c[9];t=c[10];u=c[11];v=f*f*i+d;w=g*f*i+e*h;x=e*f*i-g*h;y=f*g*i-e*h;z=g*g*i+d;A=e*g*i+f*h;B=f*e*i+g*h;g=g*e*i-f*h;f=e*e*i+d;b[0]=j*v+n*w+r*x;b[1]=k*v+o*w+s*x;b[2]=l*v+p*w+t*x;b[3]=m*v+q*w+u*x;b[4]=j*y+n*z+r*A;b[5]=k*y+o*z+s*A;b[6]=l*y+p*z+t*A;b[7]=m*y+q*z+u*A;b[8]=j*B+n*g+r*f;b[9]=k*B+o*g+s*f;b[10]=l*B+p*g+t*f;b[11]=m*B+q*g+u*f;c!==b&&(b[12]=c[12],b[13]=c[13],b[14]=c[14],b[15]=c[15]);return b}function r(a,b,c){var d=Math.sin(c);c=Math.cos(c);var e=b[4],f=b[5],g=b[6],h=b[7],i=b[8],j=b[9],k=b[10],l=b[11];b!==a&&(a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3],a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15]);a[4]=e*c+i*d;a[5]=f*c+j*d;a[6]=g*c+k*d;a[7]=h*c+l*d;a[8]=i*c-e*d;a[9]=j*c-f*d;a[10]=k*c-g*d;a[11]=l*c-h*d;return a}function s(a,b,c){var d=Math.sin(c);c=Math.cos(c);var e=b[0],f=b[1],g=b[2],h=b[3],i=b[8],j=b[9],k=b[10],l=b[11];b!==a&&(a[4]=b[4],a[5]=b[5],a[6]=b[6],a[7]=b[7],a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15]);a[0]=e*c-i*d;a[1]=f*c-j*d;a[2]=g*c-k*d;a[3]=h*c-l*d;a[8]=e*d+i*c;a[9]=f*d+j*c;a[10]=g*d+k*c;a[11]=h*d+l*c;return a}function t(a,b,c){var d=Math.sin(c);c=Math.cos(c);var e=b[0],f=b[1],g=b[2],h=b[3],i=b[4],j=b[5],k=b[6],l=b[7];b!==a&&(a[8]=b[8],a[9]=b[9],a[10]=b[10],a[11]=b[11],a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15]);a[0]=e*c+i*d;a[1]=f*c+j*d;a[2]=g*c+k*d;a[3]=h*c+l*d;a[4]=i*c-e*d;a[5]=j*c-f*d;a[6]=k*c-g*d;a[7]=l*c-h*d;return a}function u(a,b){a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=1;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=1;a[11]=0;a[12]=b[0];a[13]=b[1];a[14]=b[2];a[15]=1;return a}function v(a,b){a[0]=b[0];a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=b[1];a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=b[2];a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a}function w(b,c,d){var e=d[0],f=d[1];d=d[2];var g=Math.sqrt(e*e+f*f+d*d),h;if(g<a.EPSILON)return null;g=1/g;e*=g;f*=g;d*=g;g=Math.sin(c);c=Math.cos(c);h=1-c;b[0]=e*e*h+c;b[1]=f*e*h+d*g;b[2]=d*e*h-f*g;b[3]=0;b[4]=e*f*h-d*g;b[5]=f*f*h+c;b[6]=d*f*h+e*g;b[7]=0;b[8]=e*d*h+f*g;b[9]=f*d*h-e*g;b[10]=d*d*h+c;b[11]=0;b[12]=0;b[13]=0;b[14]=0;b[15]=1;return b}function x(a,b){var c=Math.sin(b);b=Math.cos(b);a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=b;a[6]=c;a[7]=0;a[8]=0;a[9]=-c;a[10]=b;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a}function y(a,b){var c=Math.sin(b);b=Math.cos(b);a[0]=b;a[1]=0;a[2]=-c;a[3]=0;a[4]=0;a[5]=1;a[6]=0;a[7]=0;a[8]=c;a[9]=0;a[10]=b;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a}function z(a,b){var c=Math.sin(b);b=Math.cos(b);a[0]=b;a[1]=c;a[2]=0;a[3]=0;a[4]=-c;a[5]=b;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=1;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a}function B(a,b,c){var d=b[0],e=b[1],f=b[2];b=b[3];var g=d+d,h=e+e,i=f+f,j=d*g,k=d*h;d=d*i;var l=e*h;e=e*i;f=f*i;g=b*g;h=b*h;b=b*i;a[0]=1-(l+f);a[1]=k+b;a[2]=d-h;a[3]=0;a[4]=k-b;a[5]=1-(j+f);a[6]=e+g;a[7]=0;a[8]=d+h;a[9]=e-g;a[10]=1-(j+l);a[11]=0;a[12]=c[0];a[13]=c[1];a[14]=c[2];a[15]=1;return a}function C(b,c){var d=new a.ARRAY_TYPE(3),e=-c[0],f=-c[1],g=-c[2],h=c[3],i=c[4],j=c[5],k=c[6],l=c[7],m=e*e+f*f+g*g+h*h;m>0?(d[0]=(i*h+l*e+j*g-k*f)*2/m,d[1]=(j*h+l*f+k*e-i*g)*2/m,d[2]=(k*h+l*g+i*f-j*e)*2/m):(d[0]=(i*h+l*e+j*g-k*f)*2,d[1]=(j*h+l*f+k*e-i*g)*2,d[2]=(k*h+l*g+i*f-j*e)*2);B(b,c,d);return b}function D(a,b){a[0]=b[12];a[1]=b[13];a[2]=b[14];return a}function E(a,b){var c=b[0],d=b[1],e=b[2],f=b[4],g=b[5],h=b[6],i=b[8],j=b[9];b=b[10];a[0]=Math.sqrt(c*c+d*d+e*e);a[1]=Math.sqrt(f*f+g*g+h*h);a[2]=Math.sqrt(i*i+j*j+b*b);return a}function F(a,b){var c=b[0]+b[5]+b[10];c>0?(c=Math.sqrt(c+1)*2,a[3]=.25*c,a[0]=(b[6]-b[9])/c,a[1]=(b[8]-b[2])/c,a[2]=(b[1]-b[4])/c):b[0]>b[5]&&b[0]>b[10]?(c=Math.sqrt(1+b[0]-b[5]-b[10])*2,a[3]=(b[6]-b[9])/c,a[0]=.25*c,a[1]=(b[1]+b[4])/c,a[2]=(b[8]+b[2])/c):b[5]>b[10]?(c=Math.sqrt(1+b[5]-b[0]-b[10])*2,a[3]=(b[8]-b[2])/c,a[0]=(b[1]+b[4])/c,a[1]=.25*c,a[2]=(b[6]+b[9])/c):(c=Math.sqrt(1+b[10]-b[0]-b[5])*2,a[3]=(b[1]-b[4])/c,a[0]=(b[8]+b[2])/c,a[1]=(b[6]+b[9])/c,a[2]=.25*c);return a}function G(a,b,c,d){var e=b[0],f=b[1],g=b[2];b=b[3];var h=e+e,i=f+f,j=g+g,k=e*h,l=e*i;e=e*j;var m=f*i;f=f*j;g=g*j;h=b*h;i=b*i;b=b*j;j=d[0];var n=d[1];d=d[2];a[0]=(1-(m+g))*j;a[1]=(l+b)*j;a[2]=(e-i)*j;a[3]=0;a[4]=(l-b)*n;a[5]=(1-(k+g))*n;a[6]=(f+h)*n;a[7]=0;a[8]=(e+i)*d;a[9]=(f-h)*d;a[10]=(1-(k+m))*d;a[11]=0;a[12]=c[0];a[13]=c[1];a[14]=c[2];a[15]=1;return a}function H(a,b,c,d,e){var f=b[0],g=b[1],h=b[2];b=b[3];var i=f+f,j=g+g,k=h+h,l=f*i,m=f*j;f=f*k;var n=g*j;g=g*k;h=h*k;i=b*i;j=b*j;b=b*k;k=d[0];var o=d[1];d=d[2];var p=e[0],q=e[1];e=e[2];var r=(1-(n+h))*k,s=(m+b)*k;k=(f-j)*k;m=(m-b)*o;b=(1-(l+h))*o;h=(g+i)*o;o=(f+j)*d;f=(g-i)*d;j=(1-(l+n))*d;a[0]=r;a[1]=s;a[2]=k;a[3]=0;a[4]=m;a[5]=b;a[6]=h;a[7]=0;a[8]=o;a[9]=f;a[10]=j;a[11]=0;a[12]=c[0]+p-(r*p+m*q+o*e);a[13]=c[1]+q-(s*p+b*q+f*e);a[14]=c[2]+e-(k*p+h*q+j*e);a[15]=1;return a}function I(a,b){var c=b[0],d=b[1],e=b[2];b=b[3];var f=c+c,g=d+d,h=e+e;c=c*f;var i=d*f;d=d*g;var j=e*f,k=e*g;e=e*h;f=b*f;g=b*g;b=b*h;a[0]=1-d-e;a[1]=i+b;a[2]=j-g;a[3]=0;a[4]=i-b;a[5]=1-c-e;a[6]=k+f;a[7]=0;a[8]=j+g;a[9]=k-f;a[10]=1-c-d;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a}function J(a,b,c,d,e,f,g){var h=1/(c-b),i=1/(e-d),j=1/(f-g);a[0]=f*2*h;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=f*2*i;a[6]=0;a[7]=0;a[8]=(c+b)*h;a[9]=(e+d)*i;a[10]=(g+f)*j;a[11]=-1;a[12]=0;a[13]=0;a[14]=g*f*2*j;a[15]=0;return a}function K(a,b,c,d,e){b=1/Math.tan(b/2);a[0]=b/c;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=b;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[11]=-1;a[12]=0;a[13]=0;a[15]=0;e!=null&&e!==Infinity?(c=1/(d-e),a[10]=(e+d)*c,a[14]=2*e*d*c):(a[10]=-1,a[14]=-2*d);return a}function L(a,b,c,d){var e=Math.tan(b.upDegrees*Math.PI/180),f=Math.tan(b.downDegrees*Math.PI/180),g=Math.tan(b.leftDegrees*Math.PI/180);b=Math.tan(b.rightDegrees*Math.PI/180);var h=2/(g+b),i=2/(e+f);a[0]=h;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=i;a[6]=0;a[7]=0;a[8]=-((g-b)*h*.5);a[9]=(e-f)*i*.5;a[10]=d/(c-d);a[11]=-1;a[12]=0;a[13]=0;a[14]=d*c/(c-d);a[15]=0;return a}function M(a,b,c,d,e,f,g){var h=1/(b-c),i=1/(d-e),j=1/(f-g);a[0]=-2*h;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=-2*i;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=2*j;a[11]=0;a[12]=(b+c)*h;a[13]=(e+d)*i;a[14]=(g+f)*j;a[15]=1;return a}function N(b,c,d,e){var f,g,i,j,k=c[0],l=c[1];c=c[2];var m=e[0],n=e[1];e=e[2];var o=d[0],p=d[1];d=d[2];if(Math.abs(k-o)<a.EPSILON&&Math.abs(l-p)<a.EPSILON&&Math.abs(c-d)<a.EPSILON)return h(b);o=k-o;p=l-p;d=c-d;j=1/Math.sqrt(o*o+p*p+d*d);o*=j;p*=j;d*=j;f=n*d-e*p;e=e*o-m*d;m=m*p-n*o;j=Math.sqrt(f*f+e*e+m*m);!j?(f=0,e=0,m=0):(j=1/j,f*=j,e*=j,m*=j);n=p*m-d*e;g=d*f-o*m;i=o*e-p*f;j=Math.sqrt(n*n+g*g+i*i);!j?(n=0,g=0,i=0):(j=1/j,n*=j,g*=j,i*=j);b[0]=f;b[1]=n;b[2]=o;b[3]=0;b[4]=e;b[5]=g;b[6]=p;b[7]=0;b[8]=m;b[9]=i;b[10]=d;b[11]=0;b[12]=-(f*k+e*l+m*c);b[13]=-(n*k+g*l+i*c);b[14]=-(o*k+p*l+d*c);b[15]=1;return b}function O(a,b,c,d){var e=b[0],f=b[1];b=b[2];var g=d[0],h=d[1];d=d[2];var i=e-c[0],j=f-c[1];c=b-c[2];var k=i*i+j*j+c*c;k>0&&(k=1/Math.sqrt(k),i*=k,j*=k,c*=k);var l=h*c-d*j;d=d*i-g*c;g=g*j-h*i;k=l*l+d*d+g*g;k>0&&(k=1/Math.sqrt(k),l*=k,d*=k,g*=k);a[0]=l;a[1]=d;a[2]=g;a[3]=0;a[4]=j*g-c*d;a[5]=c*l-i*g;a[6]=i*d-j*l;a[7]=0;a[8]=i;a[9]=j;a[10]=c;a[11]=0;a[12]=e;a[13]=f;a[14]=b;a[15]=1;return a}function P(a){return"mat4("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+", "+a[4]+", "+a[5]+", "+a[6]+", "+a[7]+", "+a[8]+", "+a[9]+", "+a[10]+", "+a[11]+", "+a[12]+", "+a[13]+", "+a[14]+", "+a[15]+")"}function Q(a){return Math.sqrt(Math.pow(a[0],2)+Math.pow(a[1],2)+Math.pow(a[2],2)+Math.pow(a[3],2)+Math.pow(a[4],2)+Math.pow(a[5],2)+Math.pow(a[6],2)+Math.pow(a[7],2)+Math.pow(a[8],2)+Math.pow(a[9],2)+Math.pow(a[10],2)+Math.pow(a[11],2)+Math.pow(a[12],2)+Math.pow(a[13],2)+Math.pow(a[14],2)+Math.pow(a[15],2))}function R(a,b,c){a[0]=b[0]+c[0];a[1]=b[1]+c[1];a[2]=b[2]+c[2];a[3]=b[3]+c[3];a[4]=b[4]+c[4];a[5]=b[5]+c[5];a[6]=b[6]+c[6];a[7]=b[7]+c[7];a[8]=b[8]+c[8];a[9]=b[9]+c[9];a[10]=b[10]+c[10];a[11]=b[11]+c[11];a[12]=b[12]+c[12];a[13]=b[13]+c[13];a[14]=b[14]+c[14];a[15]=b[15]+c[15];return a}function S(a,b,c){a[0]=b[0]-c[0];a[1]=b[1]-c[1];a[2]=b[2]-c[2];a[3]=b[3]-c[3];a[4]=b[4]-c[4];a[5]=b[5]-c[5];a[6]=b[6]-c[6];a[7]=b[7]-c[7];a[8]=b[8]-c[8];a[9]=b[9]-c[9];a[10]=b[10]-c[10];a[11]=b[11]-c[11];a[12]=b[12]-c[12];a[13]=b[13]-c[13];a[14]=b[14]-c[14];a[15]=b[15]-c[15];return a}function T(a,b,c){a[0]=b[0]*c;a[1]=b[1]*c;a[2]=b[2]*c;a[3]=b[3]*c;a[4]=b[4]*c;a[5]=b[5]*c;a[6]=b[6]*c;a[7]=b[7]*c;a[8]=b[8]*c;a[9]=b[9]*c;a[10]=b[10]*c;a[11]=b[11]*c;a[12]=b[12]*c;a[13]=b[13]*c;a[14]=b[14]*c;a[15]=b[15]*c;return a}function U(b,c,d,a){b[0]=c[0]+d[0]*a;b[1]=c[1]+d[1]*a;b[2]=c[2]+d[2]*a;b[3]=c[3]+d[3]*a;b[4]=c[4]+d[4]*a;b[5]=c[5]+d[5]*a;b[6]=c[6]+d[6]*a;b[7]=c[7]+d[7]*a;b[8]=c[8]+d[8]*a;b[9]=c[9]+d[9]*a;b[10]=c[10]+d[10]*a;b[11]=c[11]+d[11]*a;b[12]=c[12]+d[12]*a;b[13]=c[13]+d[13]*a;b[14]=c[14]+d[14]*a;b[15]=c[15]+d[15]*a;return b}function V(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]&&a[3]===b[3]&&a[4]===b[4]&&a[5]===b[5]&&a[6]===b[6]&&a[7]===b[7]&&a[8]===b[8]&&a[9]===b[9]&&a[10]===b[10]&&a[11]===b[11]&&a[12]===b[12]&&a[13]===b[13]&&a[14]===b[14]&&a[15]===b[15]}function W(b,c){var d=b[0],e=b[1],f=b[2],g=b[3],h=b[4],i=b[5],j=b[6],k=b[7],l=b[8],m=b[9],n=b[10],o=b[11],p=b[12],q=b[13],r=b[14];b=b[15];var s=c[0],t=c[1],u=c[2],v=c[3],w=c[4],x=c[5],y=c[6],z=c[7],A=c[8],B=c[9],C=c[10],D=c[11],E=c[12],F=c[13],G=c[14];c=c[15];return Math.abs(d-s)<=a.EPSILON*Math.max(1,Math.abs(d),Math.abs(s))&&Math.abs(e-t)<=a.EPSILON*Math.max(1,Math.abs(e),Math.abs(t))&&Math.abs(f-u)<=a.EPSILON*Math.max(1,Math.abs(f),Math.abs(u))&&Math.abs(g-v)<=a.EPSILON*Math.max(1,Math.abs(g),Math.abs(v))&&Math.abs(h-w)<=a.EPSILON*Math.max(1,Math.abs(h),Math.abs(w))&&Math.abs(i-x)<=a.EPSILON*Math.max(1,Math.abs(i),Math.abs(x))&&Math.abs(j-y)<=a.EPSILON*Math.max(1,Math.abs(j),Math.abs(y))&&Math.abs(k-z)<=a.EPSILON*Math.max(1,Math.abs(k),Math.abs(z))&&Math.abs(l-A)<=a.EPSILON*Math.max(1,Math.abs(l),Math.abs(A))&&Math.abs(m-B)<=a.EPSILON*Math.max(1,Math.abs(m),Math.abs(B))&&Math.abs(n-C)<=a.EPSILON*Math.max(1,Math.abs(n),Math.abs(C))&&Math.abs(o-D)<=a.EPSILON*Math.max(1,Math.abs(o),Math.abs(D))&&Math.abs(p-E)<=a.EPSILON*Math.max(1,Math.abs(p),Math.abs(E))&&Math.abs(q-F)<=a.EPSILON*Math.max(1,Math.abs(q),Math.abs(F))&&Math.abs(r-G)<=a.EPSILON*Math.max(1,Math.abs(r),Math.abs(G))&&Math.abs(b-c)<=a.EPSILON*Math.max(1,Math.abs(b),Math.abs(c))}c=n;A.mul=c;d=S;A.sub=d}var D=!1;function E(){D||(D=!0,C());return B.exports}var F={},G={exports:F};function H(){Object.defineProperty(F,"__esModule",{value:!0});F.create=c;F.clone=d;F.length=e;F.fromValues=f;F.copy=g;F.set=h;F.add=i;F.subtract=j;F.multiply=l;F.divide=m;F.ceil=n;F.floor=o;F.min=p;F.max=q;F.round=r;F.scale=s;F.scaleAndAdd=t;F.distance=u;F.squaredDistance=v;F.squaredLength=w;F.negate=x;F.inverse=y;F.normalize=z;F.dot=A;F.cross=B;F.lerp=C;F.hermite=D;F.bezier=E;F.random=G;F.transformMat4=H;F.transformMat3=I;F.transformQuat=J;F.rotateX=K;F.rotateY=L;F.rotateZ=M;F.angle=N;F.zero=O;F.str=P;F.exactEquals=Q;F.equals=R;F.forEach=F.sqrLen=F.len=F.sqrDist=F.dist=F.div=F.mul=F.sub=void 0;var a=b(k());function b(a){if(a&&a.__esModule)return a;else{var b={};if(a!=null)for(var c in a)if(Object.prototype.hasOwnProperty.call(a,c)){var d=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(a,c):{};d.get||d.set?Object.defineProperty(b,c,d):b[c]=a[c]}b["default"]=a;return b}}function c(){var b=new a.ARRAY_TYPE(3);a.ARRAY_TYPE!=Float32Array&&(b[0]=0,b[1]=0,b[2]=0);return b}function d(b){var c=new a.ARRAY_TYPE(3);c[0]=b[0];c[1]=b[1];c[2]=b[2];return c}function e(a){var b=a[0],c=a[1];a=a[2];return Math.sqrt(b*b+c*c+a*a)}function f(b,c,d){var e=new a.ARRAY_TYPE(3);e[0]=b;e[1]=c;e[2]=d;return e}function g(a,b){a[0]=b[0];a[1]=b[1];a[2]=b[2];return a}function h(a,b,c,d){a[0]=b;a[1]=c;a[2]=d;return a}function i(a,b,c){a[0]=b[0]+c[0];a[1]=b[1]+c[1];a[2]=b[2]+c[2];return a}function j(a,b,c){a[0]=b[0]-c[0];a[1]=b[1]-c[1];a[2]=b[2]-c[2];return a}function l(a,b,c){a[0]=b[0]*c[0];a[1]=b[1]*c[1];a[2]=b[2]*c[2];return a}function m(a,b,c){a[0]=b[0]/c[0];a[1]=b[1]/c[1];a[2]=b[2]/c[2];return a}function n(a,b){a[0]=Math.ceil(b[0]);a[1]=Math.ceil(b[1]);a[2]=Math.ceil(b[2]);return a}function o(a,b){a[0]=Math.floor(b[0]);a[1]=Math.floor(b[1]);a[2]=Math.floor(b[2]);return a}function p(a,b,c){a[0]=Math.min(b[0],c[0]);a[1]=Math.min(b[1],c[1]);a[2]=Math.min(b[2],c[2]);return a}function q(a,b,c){a[0]=Math.max(b[0],c[0]);a[1]=Math.max(b[1],c[1]);a[2]=Math.max(b[2],c[2]);return a}function r(a,b){a[0]=Math.round(b[0]);a[1]=Math.round(b[1]);a[2]=Math.round(b[2]);return a}function s(a,b,c){a[0]=b[0]*c;a[1]=b[1]*c;a[2]=b[2]*c;return a}function t(b,c,d,a){b[0]=c[0]+d[0]*a;b[1]=c[1]+d[1]*a;b[2]=c[2]+d[2]*a;return b}function u(a,b){var c=b[0]-a[0],d=b[1]-a[1];b=b[2]-a[2];return Math.sqrt(c*c+d*d+b*b)}function v(a,b){var c=b[0]-a[0],d=b[1]-a[1];b=b[2]-a[2];return c*c+d*d+b*b}function w(a){var b=a[0],c=a[1];a=a[2];return b*b+c*c+a*a}function x(a,b){a[0]=-b[0];a[1]=-b[1];a[2]=-b[2];return a}function y(a,b){a[0]=1/b[0];a[1]=1/b[1];a[2]=1/b[2];return a}function z(a,b){var c=b[0],d=b[1],e=b[2];c=c*c+d*d+e*e;c>0&&(c=1/Math.sqrt(c));a[0]=b[0]*c;a[1]=b[1]*c;a[2]=b[2]*c;return a}function A(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]}function B(a,b,c){var d=b[0],e=b[1];b=b[2];var f=c[0],g=c[1];c=c[2];a[0]=e*c-b*g;a[1]=b*f-d*c;a[2]=d*g-e*f;return a}function C(a,b,c,d){var e=b[0],f=b[1];b=b[2];a[0]=e+d*(c[0]-e);a[1]=f+d*(c[1]-f);a[2]=b+d*(c[2]-b);return a}function D(a,b,c,d,e,f){var g=f*f,h=g*(2*f-3)+1,i=g*(f-2)+f,j=g*(f-1);g=g*(3-2*f);a[0]=b[0]*h+c[0]*i+d[0]*j+e[0]*g;a[1]=b[1]*h+c[1]*i+d[1]*j+e[1]*g;a[2]=b[2]*h+c[2]*i+d[2]*j+e[2]*g;return a}function E(a,b,c,d,e,f){var g=1-f,h=g*g,i=f*f,j=h*g;h=3*f*h;g=3*i*g;i=i*f;a[0]=b[0]*j+c[0]*h+d[0]*g+e[0]*i;a[1]=b[1]*j+c[1]*h+d[1]*g+e[1]*i;a[2]=b[2]*j+c[2]*h+d[2]*g+e[2]*i;return a}function G(c,b){b=b||1;var d=a.RANDOM()*2*Math.PI,e=a.RANDOM()*2-1,f=Math.sqrt(1-e*e)*b;c[0]=Math.cos(d)*f;c[1]=Math.sin(d)*f;c[2]=e*b;return c}function H(a,b,c){var d=b[0],e=b[1];b=b[2];var f=c[3]*d+c[7]*e+c[11]*b+c[15];f=f||1;a[0]=(c[0]*d+c[4]*e+c[8]*b+c[12])/f;a[1]=(c[1]*d+c[5]*e+c[9]*b+c[13])/f;a[2]=(c[2]*d+c[6]*e+c[10]*b+c[14])/f;return a}function I(a,b,c){var d=b[0],e=b[1];b=b[2];a[0]=d*c[0]+e*c[3]+b*c[6];a[1]=d*c[1]+e*c[4]+b*c[7];a[2]=d*c[2]+e*c[5]+b*c[8];return a}function J(a,b,c){var d=c[0],e=c[1],f=c[2];c=c[3];var g=b[0],h=b[1];b=b[2];var i=e*b-f*h,j=f*g-d*b,k=d*h-e*g,l=e*k-f*j;f=f*i-d*k;d=d*j-e*i;e=c*2;i*=e;j*=e;k*=e;l*=2;f*=2;d*=2;a[0]=g+i+l;a[1]=h+j+f;a[2]=b+k+d;return a}function K(a,b,c,d){var e=[],f=[];e[0]=b[0]-c[0];e[1]=b[1]-c[1];e[2]=b[2]-c[2];f[0]=e[0];f[1]=e[1]*Math.cos(d)-e[2]*Math.sin(d);f[2]=e[1]*Math.sin(d)+e[2]*Math.cos(d);a[0]=f[0]+c[0];a[1]=f[1]+c[1];a[2]=f[2]+c[2];return a}function L(a,b,c,d){var e=[],f=[];e[0]=b[0]-c[0];e[1]=b[1]-c[1];e[2]=b[2]-c[2];f[0]=e[2]*Math.sin(d)+e[0]*Math.cos(d);f[1]=e[1];f[2]=e[2]*Math.cos(d)-e[0]*Math.sin(d);a[0]=f[0]+c[0];a[1]=f[1]+c[1];a[2]=f[2]+c[2];return a}function M(a,b,c,d){var e=[],f=[];e[0]=b[0]-c[0];e[1]=b[1]-c[1];e[2]=b[2]-c[2];f[0]=e[0]*Math.cos(d)-e[1]*Math.sin(d);f[1]=e[0]*Math.sin(d)+e[1]*Math.cos(d);f[2]=e[2];a[0]=f[0]+c[0];a[1]=f[1]+c[1];a[2]=f[2]+c[2];return a}function N(a,b){a=f(a[0],a[1],a[2]);b=f(b[0],b[1],b[2]);z(a,a);z(b,b);a=A(a,b);if(a>1)return 0;else if(a<-1)return Math.PI;else return Math.acos(a)}function O(a){a[0]=0;a[1]=0;a[2]=0;return a}function P(a){return"vec3("+a[0]+", "+a[1]+", "+a[2]+")"}function Q(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]}function R(b,c){var d=b[0],e=b[1];b=b[2];var f=c[0],g=c[1];c=c[2];return Math.abs(d-f)<=a.EPSILON*Math.max(1,Math.abs(d),Math.abs(f))&&Math.abs(e-g)<=a.EPSILON*Math.max(1,Math.abs(e),Math.abs(g))&&Math.abs(b-c)<=a.EPSILON*Math.max(1,Math.abs(b),Math.abs(c))}d=j;F.sub=d;g=l;F.mul=g;h=m;F.div=h;i=u;F.dist=i;n=v;F.sqrDist=n;o=e;F.len=o;p=w;F.sqrLen=p;q=function(){var a=c();return function(b,c,d,e,f,g){c||(c=3);d||(d=0);e?e=Math.min(e*c+d,b.length):e=b.length;for(d=d;d<e;d+=c)a[0]=b[d],a[1]=b[d+1],a[2]=b[d+2],f(a,a,g),b[d]=a[0],b[d+1]=a[1],b[d+2]=a[2];return b}}();F.forEach=q}var I=!1;function J(){I||(I=!0,H());return G.exports}var K={},L={exports:K};function M(){Object.defineProperty(K,"__esModule",{value:!0});K.create=c;K.clone=d;K.fromValues=e;K.copy=f;K.set=g;K.add=h;K.subtract=i;K.multiply=j;K.divide=l;K.ceil=m;K.floor=n;K.min=o;K.max=p;K.round=q;K.scale=r;K.scaleAndAdd=s;K.distance=t;K.squaredDistance=u;K.length=v;K.squaredLength=w;K.negate=x;K.inverse=y;K.normalize=z;K.dot=A;K.cross=B;K.lerp=C;K.random=D;K.transformMat4=E;K.transformQuat=F;K.zero=G;K.str=H;K.exactEquals=I;K.equals=J;K.forEach=K.sqrLen=K.len=K.sqrDist=K.dist=K.div=K.mul=K.sub=void 0;var a=b(k());function b(a){if(a&&a.__esModule)return a;else{var b={};if(a!=null)for(var c in a)if(Object.prototype.hasOwnProperty.call(a,c)){var d=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(a,c):{};d.get||d.set?Object.defineProperty(b,c,d):b[c]=a[c]}b["default"]=a;return b}}function c(){var b=new a.ARRAY_TYPE(4);a.ARRAY_TYPE!=Float32Array&&(b[0]=0,b[1]=0,b[2]=0,b[3]=0);return b}function d(b){var c=new a.ARRAY_TYPE(4);c[0]=b[0];c[1]=b[1];c[2]=b[2];c[3]=b[3];return c}function e(b,c,d,e){var f=new a.ARRAY_TYPE(4);f[0]=b;f[1]=c;f[2]=d;f[3]=e;return f}function f(a,b){a[0]=b[0];a[1]=b[1];a[2]=b[2];a[3]=b[3];return a}function g(a,b,c,d,e){a[0]=b;a[1]=c;a[2]=d;a[3]=e;return a}function h(a,b,c){a[0]=b[0]+c[0];a[1]=b[1]+c[1];a[2]=b[2]+c[2];a[3]=b[3]+c[3];return a}function i(a,b,c){a[0]=b[0]-c[0];a[1]=b[1]-c[1];a[2]=b[2]-c[2];a[3]=b[3]-c[3];return a}function j(a,b,c){a[0]=b[0]*c[0];a[1]=b[1]*c[1];a[2]=b[2]*c[2];a[3]=b[3]*c[3];return a}function l(a,b,c){a[0]=b[0]/c[0];a[1]=b[1]/c[1];a[2]=b[2]/c[2];a[3]=b[3]/c[3];return a}function m(a,b){a[0]=Math.ceil(b[0]);a[1]=Math.ceil(b[1]);a[2]=Math.ceil(b[2]);a[3]=Math.ceil(b[3]);return a}function n(a,b){a[0]=Math.floor(b[0]);a[1]=Math.floor(b[1]);a[2]=Math.floor(b[2]);a[3]=Math.floor(b[3]);return a}function o(a,b,c){a[0]=Math.min(b[0],c[0]);a[1]=Math.min(b[1],c[1]);a[2]=Math.min(b[2],c[2]);a[3]=Math.min(b[3],c[3]);return a}function p(a,b,c){a[0]=Math.max(b[0],c[0]);a[1]=Math.max(b[1],c[1]);a[2]=Math.max(b[2],c[2]);a[3]=Math.max(b[3],c[3]);return a}function q(a,b){a[0]=Math.round(b[0]);a[1]=Math.round(b[1]);a[2]=Math.round(b[2]);a[3]=Math.round(b[3]);return a}function r(a,b,c){a[0]=b[0]*c;a[1]=b[1]*c;a[2]=b[2]*c;a[3]=b[3]*c;return a}function s(b,c,d,a){b[0]=c[0]+d[0]*a;b[1]=c[1]+d[1]*a;b[2]=c[2]+d[2]*a;b[3]=c[3]+d[3]*a;return b}function t(a,b){var c=b[0]-a[0],d=b[1]-a[1],e=b[2]-a[2];b=b[3]-a[3];return Math.sqrt(c*c+d*d+e*e+b*b)}function u(a,b){var c=b[0]-a[0],d=b[1]-a[1],e=b[2]-a[2];b=b[3]-a[3];return c*c+d*d+e*e+b*b}function v(a){var b=a[0],c=a[1],d=a[2];a=a[3];return Math.sqrt(b*b+c*c+d*d+a*a)}function w(a){var b=a[0],c=a[1],d=a[2];a=a[3];return b*b+c*c+d*d+a*a}function x(a,b){a[0]=-b[0];a[1]=-b[1];a[2]=-b[2];a[3]=-b[3];return a}function y(a,b){a[0]=1/b[0];a[1]=1/b[1];a[2]=1/b[2];a[3]=1/b[3];return a}function z(a,b){var c=b[0],d=b[1],e=b[2];b=b[3];var f=c*c+d*d+e*e+b*b;f>0&&(f=1/Math.sqrt(f));a[0]=c*f;a[1]=d*f;a[2]=e*f;a[3]=b*f;return a}function A(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]+a[3]*b[3]}function B(a,b,c,d){var e=c[0]*d[1]-c[1]*d[0],f=c[0]*d[2]-c[2]*d[0],g=c[0]*d[3]-c[3]*d[0],h=c[1]*d[2]-c[2]*d[1],i=c[1]*d[3]-c[3]*d[1];c=c[2]*d[3]-c[3]*d[2];d=b[0];var j=b[1],k=b[2];b=b[3];a[0]=j*c-k*i+b*h;a[1]=-(d*c)+k*g-b*f;a[2]=d*i-j*g+b*e;a[3]=-(d*h)+j*f-k*e;return a}function C(a,b,c,d){var e=b[0],f=b[1],g=b[2];b=b[3];a[0]=e+d*(c[0]-e);a[1]=f+d*(c[1]-f);a[2]=g+d*(c[2]-g);a[3]=b+d*(c[3]-b);return a}function D(c,b){b=b||1;var d,e,f,g,h,i;do d=a.RANDOM()*2-1,e=a.RANDOM()*2-1,h=d*d+e*e;while(h>=1);do f=a.RANDOM()*2-1,g=a.RANDOM()*2-1,i=f*f+g*g;while(i>=1);h=Math.sqrt((1-h)/i);c[0]=b*d;c[1]=b*e;c[2]=b*f*h;c[3]=b*g*h;return c}function E(a,b,c){var d=b[0],e=b[1],f=b[2];b=b[3];a[0]=c[0]*d+c[4]*e+c[8]*f+c[12]*b;a[1]=c[1]*d+c[5]*e+c[9]*f+c[13]*b;a[2]=c[2]*d+c[6]*e+c[10]*f+c[14]*b;a[3]=c[3]*d+c[7]*e+c[11]*f+c[15]*b;return a}function F(a,b,c){var d=b[0],e=b[1],f=b[2],g=c[0],h=c[1],i=c[2];c=c[3];var j=c*d+h*f-i*e,k=c*e+i*d-g*f,l=c*f+g*e-h*d;d=-g*d-h*e-i*f;a[0]=j*c+d*-g+k*-i-l*-h;a[1]=k*c+d*-h+l*-g-j*-i;a[2]=l*c+d*-i+j*-h-k*-g;a[3]=b[3];return a}function G(a){a[0]=0;a[1]=0;a[2]=0;a[3]=0;return a}function H(a){return"vec4("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+")"}function I(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]&&a[3]===b[3]}function J(b,c){var d=b[0],e=b[1],f=b[2];b=b[3];var g=c[0],h=c[1],i=c[2];c=c[3];return Math.abs(d-g)<=a.EPSILON*Math.max(1,Math.abs(d),Math.abs(g))&&Math.abs(e-h)<=a.EPSILON*Math.max(1,Math.abs(e),Math.abs(h))&&Math.abs(f-i)<=a.EPSILON*Math.max(1,Math.abs(f),Math.abs(i))&&Math.abs(b-c)<=a.EPSILON*Math.max(1,Math.abs(b),Math.abs(c))}d=i;K.sub=d;e=j;K.mul=e;f=l;K.div=f;g=t;K.dist=g;h=u;K.sqrDist=h;m=v;K.len=m;n=w;K.sqrLen=n;o=function(){var a=c();return function(b,c,d,e,f,g){c||(c=4);d||(d=0);e?e=Math.min(e*c+d,b.length):e=b.length;for(d=d;d<e;d+=c)a[0]=b[d],a[1]=b[d+1],a[2]=b[d+2],a[3]=b[d+3],f(a,a,g),b[d]=a[0],b[d+1]=a[1],b[d+2]=a[2],b[d+3]=a[3];return b}}();K.forEach=o}var N=!1;function O(){N||(N=!0,M());return L.exports}var P={},Q={exports:P};function R(){Object.defineProperty(P,"__esModule",{value:!0});P.create=e;P.identity=f;P.setAxisAngle=g;P.getAxisAngle=h;P.multiply=i;P.rotateX=j;P.rotateY=l;P.rotateZ=m;P.calculateW=n;P.slerp=o;P.random=p;P.invert=q;P.conjugate=r;P.fromMat3=s;P.fromEuler=t;P.str=u;P.setAxes=P.sqlerp=P.rotationTo=P.equals=P.exactEquals=P.normalize=P.sqrLen=P.squaredLength=P.len=P.length=P.lerp=P.dot=P.scale=P.mul=P.add=P.set=P.copy=P.fromValues=P.clone=void 0;var a=d(k()),b=d(z()),c=d(J());f=d(O());function d(a){if(a&&a.__esModule)return a;else{var b={};if(a!=null)for(var c in a)if(Object.prototype.hasOwnProperty.call(a,c)){var d=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(a,c):{};d.get||d.set?Object.defineProperty(b,c,d):b[c]=a[c]}b["default"]=a;return b}}function e(){var b=new a.ARRAY_TYPE(4);a.ARRAY_TYPE!=Float32Array&&(b[0]=0,b[1]=0,b[2]=0);b[3]=1;return b}function f(a){a[0]=0;a[1]=0;a[2]=0;a[3]=1;return a}function g(a,b,c){c=c*.5;var d=Math.sin(c);a[0]=d*b[0];a[1]=d*b[1];a[2]=d*b[2];a[3]=Math.cos(c);return a}function h(b,c){var d=Math.acos(c[3])*2,e=Math.sin(d/2);e>a.EPSILON?(b[0]=c[0]/e,b[1]=c[1]/e,b[2]=c[2]/e):(b[0]=1,b[1]=0,b[2]=0);return d}function i(a,b,c){var d=b[0],e=b[1],f=b[2];b=b[3];var g=c[0],h=c[1],i=c[2];c=c[3];a[0]=d*c+b*g+e*i-f*h;a[1]=e*c+b*h+f*g-d*i;a[2]=f*c+b*i+d*h-e*g;a[3]=b*c-d*g-e*h-f*i;return a}function j(a,b,c){c*=.5;var d=b[0],e=b[1],f=b[2];b=b[3];var g=Math.sin(c);c=Math.cos(c);a[0]=d*c+b*g;a[1]=e*c+f*g;a[2]=f*c-e*g;a[3]=b*c-d*g;return a}function l(a,b,c){c*=.5;var d=b[0],e=b[1],f=b[2];b=b[3];var g=Math.sin(c);c=Math.cos(c);a[0]=d*c-f*g;a[1]=e*c+b*g;a[2]=f*c+d*g;a[3]=b*c-e*g;return a}function m(a,b,c){c*=.5;var d=b[0],e=b[1],f=b[2];b=b[3];var g=Math.sin(c);c=Math.cos(c);a[0]=d*c+e*g;a[1]=e*c-d*g;a[2]=f*c+b*g;a[3]=b*c-f*g;return a}function n(a,b){var c=b[0],d=b[1];b=b[2];a[0]=c;a[1]=d;a[2]=b;a[3]=Math.sqrt(Math.abs(1-c*c-d*d-b*b));return a}function o(b,c,d,e){var f=c[0],g=c[1],h=c[2];c=c[3];var i=d[0],j=d[1],k=d[2];d=d[3];var l,m,n;l=f*i+g*j+h*k+c*d;l<0&&(l=-l,i=-i,j=-j,k=-k,d=-d);1-l>a.EPSILON?(l=Math.acos(l),m=Math.sin(l),n=Math.sin((1-e)*l)/m,l=Math.sin(e*l)/m):(n=1-e,l=e);b[0]=n*f+l*i;b[1]=n*g+l*j;b[2]=n*h+l*k;b[3]=n*c+l*d;return b}function p(b){var c=a.RANDOM(),d=a.RANDOM(),e=a.RANDOM(),f=Math.sqrt(1-c);c=Math.sqrt(c);b[0]=f*Math.sin(2*Math.PI*d);b[1]=f*Math.cos(2*Math.PI*d);b[2]=c*Math.sin(2*Math.PI*e);b[3]=c*Math.cos(2*Math.PI*e);return b}function q(a,b){var c=b[0],d=b[1],e=b[2];b=b[3];var f=c*c+d*d+e*e+b*b;f=f?1/f:0;a[0]=-c*f;a[1]=-d*f;a[2]=-e*f;a[3]=b*f;return a}function r(a,b){a[0]=-b[0];a[1]=-b[1];a[2]=-b[2];a[3]=b[3];return a}function s(a,b){var c=b[0]+b[4]+b[8];if(c>0)c=Math.sqrt(c+1),a[3]=.5*c,c=.5/c,a[0]=(b[5]-b[7])*c,a[1]=(b[6]-b[2])*c,a[2]=(b[1]-b[3])*c;else{var d=0;b[4]>b[0]&&(d=1);b[8]>b[d*3+d]&&(d=2);var e=(d+1)%3,f=(d+2)%3;c=Math.sqrt(b[d*3+d]-b[e*3+e]-b[f*3+f]+1);a[d]=.5*c;c=.5/c;a[3]=(b[e*3+f]-b[f*3+e])*c;a[e]=(b[e*3+d]+b[d*3+e])*c;a[f]=(b[f*3+d]+b[d*3+f])*c}return a}function t(a,b,c,d){var e=.5*Math.PI/180;b*=e;c*=e;d*=e;e=Math.sin(b);b=Math.cos(b);var f=Math.sin(c);c=Math.cos(c);var g=Math.sin(d);d=Math.cos(d);a[0]=e*c*d-b*f*g;a[1]=b*f*d+e*c*g;a[2]=b*c*g-e*f*d;a[3]=b*c*d+e*f*g;return a}function u(a){return"quat("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+")"}h=f.clone;P.clone=h;j=f.fromValues;P.fromValues=j;l=f.copy;P.copy=l;m=f.set;P.set=m;n=f.add;P.add=n;p=i;P.mul=p;q=f.scale;P.scale=q;r=f.dot;P.dot=r;t=f.lerp;P.lerp=t;u=f.length;P.length=u;d=u;P.len=d;h=f.squaredLength;P.squaredLength=h;j=h;P.sqrLen=j;var v=f.normalize;P.normalize=v;l=f.exactEquals;P.exactEquals=l;m=f.equals;P.equals=m;n=function(){var a=c.create(),b=c.fromValues(1,0,0),d=c.fromValues(0,1,0);return function(e,f,h){var i=c.dot(f,h);if(i<-.999999){c.cross(a,b,f);c.len(a)<1e-6&&c.cross(a,d,f);c.normalize(a,a);g(e,a,Math.PI);return e}else if(i>.999999){e[0]=0;e[1]=0;e[2]=0;e[3]=1;return e}else{c.cross(a,f,h);e[0]=a[0];e[1]=a[1];e[2]=a[2];e[3]=1+i;return v(e,e)}}}();P.rotationTo=n;i=function(){var a=e(),b=e();return function(c,d,e,f,g,h){o(a,d,g,h);o(b,e,f,h);o(c,a,b,2*h*(1-h));return c}}();P.sqlerp=i;p=function(){var a=b.create();return function(b,c,d,e){a[0]=d[0];a[3]=d[1];a[6]=d[2];a[1]=e[0];a[4]=e[1];a[7]=e[2];a[2]=-c[0];a[5]=-c[1];a[8]=-c[2];return v(b,s(b,a))}}();P.setAxes=p}var S=!1;function T(){S||(S=!0,R());return Q.exports}var U={},V={exports:U};function W(){Object.defineProperty(U,"__esModule",{value:!0});U.create=e;U.clone=f;U.fromValues=g;U.fromRotationTranslationValues=h;U.fromRotationTranslation=i;U.fromTranslation=j;U.fromRotation=l;U.fromMat4=m;U.copy=n;U.identity=o;U.set=p;U.getDual=q;U.setDual=r;U.getTranslation=s;U.translate=t;U.rotateX=u;U.rotateY=v;U.rotateZ=w;U.rotateByQuatAppend=x;U.rotateByQuatPrepend=y;U.rotateAroundAxis=z;U.add=A;U.multiply=B;U.scale=C;U.lerp=F;U.invert=G;U.conjugate=H;U.normalize=J;U.str=K;U.exactEquals=L;U.equals=M;U.sqrLen=U.squaredLength=U.len=U.length=U.dot=U.mul=U.setReal=U.getReal=void 0;var a=d(k()),b=d(T()),c=d(E());function d(a){if(a&&a.__esModule)return a;else{var b={};if(a!=null)for(var c in a)if(Object.prototype.hasOwnProperty.call(a,c)){var d=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(a,c):{};d.get||d.set?Object.defineProperty(b,c,d):b[c]=a[c]}b["default"]=a;return b}}function e(){var b=new a.ARRAY_TYPE(8);a.ARRAY_TYPE!=Float32Array&&(b[0]=0,b[1]=0,b[2]=0,b[4]=0,b[5]=0,b[6]=0,b[7]=0);b[3]=1;return b}function f(b){var c=new a.ARRAY_TYPE(8);c[0]=b[0];c[1]=b[1];c[2]=b[2];c[3]=b[3];c[4]=b[4];c[5]=b[5];c[6]=b[6];c[7]=b[7];return c}function g(b,c,d,e,f,g,h,i){var j=new a.ARRAY_TYPE(8);j[0]=b;j[1]=c;j[2]=d;j[3]=e;j[4]=f;j[5]=g;j[6]=h;j[7]=i;return j}function h(b,c,d,e,f,g,h){var i=new a.ARRAY_TYPE(8);i[0]=b;i[1]=c;i[2]=d;i[3]=e;f=f*.5;g=g*.5;h=h*.5;i[4]=f*e+g*d-h*c;i[5]=g*e+h*b-f*d;i[6]=h*e+f*c-g*b;i[7]=-f*b-g*c-h*d;return i}function i(a,b,c){var d=c[0]*.5,e=c[1]*.5;c=c[2]*.5;var f=b[0],g=b[1],h=b[2];b=b[3];a[0]=f;a[1]=g;a[2]=h;a[3]=b;a[4]=d*b+e*h-c*g;a[5]=e*b+c*f-d*h;a[6]=c*b+d*g-e*f;a[7]=-d*f-e*g-c*h;return a}function j(a,b){a[0]=0;a[1]=0;a[2]=0;a[3]=1;a[4]=b[0]*.5;a[5]=b[1]*.5;a[6]=b[2]*.5;a[7]=0;return a}function l(a,b){a[0]=b[0];a[1]=b[1];a[2]=b[2];a[3]=b[3];a[4]=0;a[5]=0;a[6]=0;a[7]=0;return a}function m(d,e){var f=b.create();c.getRotation(f,e);var g=new a.ARRAY_TYPE(3);c.getTranslation(g,e);i(d,f,g);return d}function n(a,b){a[0]=b[0];a[1]=b[1];a[2]=b[2];a[3]=b[3];a[4]=b[4];a[5]=b[5];a[6]=b[6];a[7]=b[7];return a}function o(a){a[0]=0;a[1]=0;a[2]=0;a[3]=1;a[4]=0;a[5]=0;a[6]=0;a[7]=0;return a}function p(a,b,c,d,e,f,g,h,i){a[0]=b;a[1]=c;a[2]=d;a[3]=e;a[4]=f;a[5]=g;a[6]=h;a[7]=i;return a}e=b.copy;U.getReal=e;function q(a,b){a[0]=b[4];a[1]=b[5];a[2]=b[6];a[3]=b[7];return a}f=b.copy;U.setReal=f;function r(a,b){a[4]=b[0];a[5]=b[1];a[6]=b[2];a[7]=b[3];return a}function s(a,b){var c=b[4],d=b[5],e=b[6],f=b[7],g=-b[0],h=-b[1],i=-b[2];b=b[3];a[0]=(c*b+f*g+d*i-e*h)*2;a[1]=(d*b+f*h+e*g-c*i)*2;a[2]=(e*b+f*i+c*h-d*g)*2;return a}function t(a,b,c){var d=b[0],e=b[1],f=b[2],g=b[3],h=c[0]*.5,i=c[1]*.5;c=c[2]*.5;var j=b[4],k=b[5],l=b[6];b=b[7];a[0]=d;a[1]=e;a[2]=f;a[3]=g;a[4]=g*h+e*c-f*i+j;a[5]=g*i+f*h-d*c+k;a[6]=g*c+d*i-e*h+l;a[7]=-d*h-e*i-f*c+b;return a}function u(a,c,d){var e=-c[0],f=-c[1],g=-c[2],h=c[3],i=c[4],j=c[5],k=c[6],l=c[7],m=i*h+l*e+j*g-k*f,n=j*h+l*f+k*e-i*g,o=k*h+l*g+i*f-j*e;l=l*h-i*e-j*f-k*g;b.rotateX(a,c,d);e=a[0];f=a[1];g=a[2];h=a[3];a[4]=m*h+l*e+n*g-o*f;a[5]=n*h+l*f+o*e-m*g;a[6]=o*h+l*g+m*f-n*e;a[7]=l*h-m*e-n*f-o*g;return a}function v(a,c,d){var e=-c[0],f=-c[1],g=-c[2],h=c[3],i=c[4],j=c[5],k=c[6],l=c[7],m=i*h+l*e+j*g-k*f,n=j*h+l*f+k*e-i*g,o=k*h+l*g+i*f-j*e;l=l*h-i*e-j*f-k*g;b.rotateY(a,c,d);e=a[0];f=a[1];g=a[2];h=a[3];a[4]=m*h+l*e+n*g-o*f;a[5]=n*h+l*f+o*e-m*g;a[6]=o*h+l*g+m*f-n*e;a[7]=l*h-m*e-n*f-o*g;return a}function w(a,c,d){var e=-c[0],f=-c[1],g=-c[2],h=c[3],i=c[4],j=c[5],k=c[6],l=c[7],m=i*h+l*e+j*g-k*f,n=j*h+l*f+k*e-i*g,o=k*h+l*g+i*f-j*e;l=l*h-i*e-j*f-k*g;b.rotateZ(a,c,d);e=a[0];f=a[1];g=a[2];h=a[3];a[4]=m*h+l*e+n*g-o*f;a[5]=n*h+l*f+o*e-m*g;a[6]=o*h+l*g+m*f-n*e;a[7]=l*h-m*e-n*f-o*g;return a}function x(a,b,c){var d=c[0],e=c[1],f=c[2];c=c[3];var g=b[0],h=b[1],i=b[2],j=b[3];a[0]=g*c+j*d+h*f-i*e;a[1]=h*c+j*e+i*d-g*f;a[2]=i*c+j*f+g*e-h*d;a[3]=j*c-g*d-h*e-i*f;g=b[4];h=b[5];i=b[6];j=b[7];a[4]=g*c+j*d+h*f-i*e;a[5]=h*c+j*e+i*d-g*f;a[6]=i*c+j*f+g*e-h*d;a[7]=j*c-g*d-h*e-i*f;return a}function y(a,b,c){var d=b[0],e=b[1],f=b[2];b=b[3];var g=c[0],h=c[1],i=c[2],j=c[3];a[0]=d*j+b*g+e*i-f*h;a[1]=e*j+b*h+f*g-d*i;a[2]=f*j+b*i+d*h-e*g;a[3]=b*j-d*g-e*h-f*i;g=c[4];h=c[5];i=c[6];j=c[7];a[4]=d*j+b*g+e*i-f*h;a[5]=e*j+b*h+f*g-d*i;a[6]=f*j+b*i+d*h-e*g;a[7]=b*j-d*g-e*h-f*i;return a}function z(b,c,d,e){if(Math.abs(e)<a.EPSILON)return n(b,c);var f=Math.sqrt(d[0]*d[0]+d[1]*d[1]+d[2]*d[2]);e=e*.5;var g=Math.sin(e),h=g*d[0]/f,i=g*d[1]/f;g=g*d[2]/f;d=Math.cos(e);f=c[0];e=c[1];var j=c[2],k=c[3];b[0]=f*d+k*h+e*g-j*i;b[1]=e*d+k*i+j*h-f*g;b[2]=j*d+k*g+f*i-e*h;b[3]=k*d-f*h-e*i-j*g;k=c[4];f=c[5];e=c[6];j=c[7];b[4]=k*d+j*h+f*g-e*i;b[5]=f*d+j*i+e*h-k*g;b[6]=e*d+j*g+k*i-f*h;b[7]=j*d-k*h-f*i-e*g;return b}function A(a,b,c){a[0]=b[0]+c[0];a[1]=b[1]+c[1];a[2]=b[2]+c[2];a[3]=b[3]+c[3];a[4]=b[4]+c[4];a[5]=b[5]+c[5];a[6]=b[6]+c[6];a[7]=b[7]+c[7];return a}function B(a,b,c){var d=b[0],e=b[1],f=b[2],g=b[3],h=c[4],i=c[5],j=c[6],k=c[7],l=b[4],m=b[5],n=b[6];b=b[7];var o=c[0],p=c[1],q=c[2];c=c[3];a[0]=d*c+g*o+e*q-f*p;a[1]=e*c+g*p+f*o-d*q;a[2]=f*c+g*q+d*p-e*o;a[3]=g*c-d*o-e*p-f*q;a[4]=d*k+g*h+e*j-f*i+l*c+b*o+m*q-n*p;a[5]=e*k+g*i+f*h-d*j+m*c+b*p+n*o-l*q;a[6]=f*k+g*j+d*i-e*h+n*c+b*q+l*p-m*o;a[7]=g*k-d*h-e*i-f*j+b*c-l*o-m*p-n*q;return a}g=B;U.mul=g;function C(a,b,c){a[0]=b[0]*c;a[1]=b[1]*c;a[2]=b[2]*c;a[3]=b[3]*c;a[4]=b[4]*c;a[5]=b[5]*c;a[6]=b[6]*c;a[7]=b[7]*c;return a}var D=b.dot;U.dot=D;function F(a,b,c,d){var e=1-d;D(b,c)<0&&(d=-d);a[0]=b[0]*e+c[0]*d;a[1]=b[1]*e+c[1]*d;a[2]=b[2]*e+c[2]*d;a[3]=b[3]*e+c[3]*d;a[4]=b[4]*e+c[4]*d;a[5]=b[5]*e+c[5]*d;a[6]=b[6]*e+c[6]*d;a[7]=b[7]*e+c[7]*d;return a}function G(a,b){var c=I(b);a[0]=-b[0]/c;a[1]=-b[1]/c;a[2]=-b[2]/c;a[3]=b[3]/c;a[4]=-b[4]/c;a[5]=-b[5]/c;a[6]=-b[6]/c;a[7]=b[7]/c;return a}function H(a,b){a[0]=-b[0];a[1]=-b[1];a[2]=-b[2];a[3]=b[3];a[4]=-b[4];a[5]=-b[5];a[6]=-b[6];a[7]=b[7];return a}h=b.length;U.length=h;j=h;U.len=j;var I=b.squaredLength;U.squaredLength=I;l=I;U.sqrLen=l;function J(a,b){var c=I(b);if(c>0){c=Math.sqrt(c);var d=b[0]/c,e=b[1]/c,f=b[2]/c,g=b[3]/c,h=b[4],i=b[5],j=b[6];b=b[7];var k=d*h+e*i+f*j+g*b;a[0]=d;a[1]=e;a[2]=f;a[3]=g;a[4]=(h-d*k)/c;a[5]=(i-e*k)/c;a[6]=(j-f*k)/c;a[7]=(b-g*k)/c}return a}function K(a){return"quat2("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+", "+a[4]+", "+a[5]+", "+a[6]+", "+a[7]+")"}function L(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]&&a[3]===b[3]&&a[4]===b[4]&&a[5]===b[5]&&a[6]===b[6]&&a[7]===b[7]}function M(b,c){var d=b[0],e=b[1],f=b[2],g=b[3],h=b[4],i=b[5],j=b[6];b=b[7];var k=c[0],l=c[1],m=c[2],n=c[3],o=c[4],p=c[5],q=c[6];c=c[7];return Math.abs(d-k)<=a.EPSILON*Math.max(1,Math.abs(d),Math.abs(k))&&Math.abs(e-l)<=a.EPSILON*Math.max(1,Math.abs(e),Math.abs(l))&&Math.abs(f-m)<=a.EPSILON*Math.max(1,Math.abs(f),Math.abs(m))&&Math.abs(g-n)<=a.EPSILON*Math.max(1,Math.abs(g),Math.abs(n))&&Math.abs(h-o)<=a.EPSILON*Math.max(1,Math.abs(h),Math.abs(o))&&Math.abs(i-p)<=a.EPSILON*Math.max(1,Math.abs(i),Math.abs(p))&&Math.abs(j-q)<=a.EPSILON*Math.max(1,Math.abs(j),Math.abs(q))&&Math.abs(b-c)<=a.EPSILON*Math.max(1,Math.abs(b),Math.abs(c))}}var X=!1;function aa(){X||(X=!0,W());return V.exports}var Y={},ba={exports:Y};function ca(){Object.defineProperty(Y,"__esModule",{value:!0});Y.create=c;Y.clone=d;Y.fromValues=e;Y.copy=f;Y.set=g;Y.add=h;Y.subtract=i;Y.multiply=j;Y.divide=l;Y.ceil=m;Y.floor=n;Y.min=o;Y.max=p;Y.round=q;Y.scale=r;Y.scaleAndAdd=s;Y.distance=t;Y.squaredDistance=u;Y.length=v;Y.squaredLength=w;Y.negate=x;Y.inverse=y;Y.normalize=z;Y.dot=A;Y.cross=B;Y.lerp=C;Y.random=D;Y.transformMat2=E;Y.transformMat2d=F;Y.transformMat3=G;Y.transformMat4=H;Y.rotate=I;Y.angle=J;Y.zero=K;Y.str=L;Y.exactEquals=M;Y.equals=N;Y.forEach=Y.sqrLen=Y.sqrDist=Y.dist=Y.div=Y.mul=Y.sub=Y.len=void 0;var a=b(k());function b(a){if(a&&a.__esModule)return a;else{var b={};if(a!=null)for(var c in a)if(Object.prototype.hasOwnProperty.call(a,c)){var d=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(a,c):{};d.get||d.set?Object.defineProperty(b,c,d):b[c]=a[c]}b["default"]=a;return b}}function c(){var b=new a.ARRAY_TYPE(2);a.ARRAY_TYPE!=Float32Array&&(b[0]=0,b[1]=0);return b}function d(b){var c=new a.ARRAY_TYPE(2);c[0]=b[0];c[1]=b[1];return c}function e(b,c){var d=new a.ARRAY_TYPE(2);d[0]=b;d[1]=c;return d}function f(a,b){a[0]=b[0];a[1]=b[1];return a}function g(a,b,c){a[0]=b;a[1]=c;return a}function h(a,b,c){a[0]=b[0]+c[0];a[1]=b[1]+c[1];return a}function i(a,b,c){a[0]=b[0]-c[0];a[1]=b[1]-c[1];return a}function j(a,b,c){a[0]=b[0]*c[0];a[1]=b[1]*c[1];return a}function l(a,b,c){a[0]=b[0]/c[0];a[1]=b[1]/c[1];return a}function m(a,b){a[0]=Math.ceil(b[0]);a[1]=Math.ceil(b[1]);return a}function n(a,b){a[0]=Math.floor(b[0]);a[1]=Math.floor(b[1]);return a}function o(a,b,c){a[0]=Math.min(b[0],c[0]);a[1]=Math.min(b[1],c[1]);return a}function p(a,b,c){a[0]=Math.max(b[0],c[0]);a[1]=Math.max(b[1],c[1]);return a}function q(a,b){a[0]=Math.round(b[0]);a[1]=Math.round(b[1]);return a}function r(a,b,c){a[0]=b[0]*c;a[1]=b[1]*c;return a}function s(b,c,d,a){b[0]=c[0]+d[0]*a;b[1]=c[1]+d[1]*a;return b}function t(a,b){var c=b[0]-a[0];b=b[1]-a[1];return Math.sqrt(c*c+b*b)}function u(a,b){var c=b[0]-a[0];b=b[1]-a[1];return c*c+b*b}function v(a){var b=a[0];a=a[1];return Math.sqrt(b*b+a*a)}function w(a){var b=a[0];a=a[1];return b*b+a*a}function x(a,b){a[0]=-b[0];a[1]=-b[1];return a}function y(a,b){a[0]=1/b[0];a[1]=1/b[1];return a}function z(a,b){var c=b[0],d=b[1];c=c*c+d*d;c>0&&(c=1/Math.sqrt(c));a[0]=b[0]*c;a[1]=b[1]*c;return a}function A(a,b){return a[0]*b[0]+a[1]*b[1]}function B(a,b,c){b=b[0]*c[1]-b[1]*c[0];a[0]=a[1]=0;a[2]=b;return a}function C(a,b,c,d){var e=b[0];b=b[1];a[0]=e+d*(c[0]-e);a[1]=b+d*(c[1]-b);return a}function D(c,b){b=b||1;var d=a.RANDOM()*2*Math.PI;c[0]=Math.cos(d)*b;c[1]=Math.sin(d)*b;return c}function E(a,b,c){var d=b[0];b=b[1];a[0]=c[0]*d+c[2]*b;a[1]=c[1]*d+c[3]*b;return a}function F(a,b,c){var d=b[0];b=b[1];a[0]=c[0]*d+c[2]*b+c[4];a[1]=c[1]*d+c[3]*b+c[5];return a}function G(a,b,c){var d=b[0];b=b[1];a[0]=c[0]*d+c[3]*b+c[6];a[1]=c[1]*d+c[4]*b+c[7];return a}function H(a,b,c){var d=b[0];b=b[1];a[0]=c[0]*d+c[4]*b+c[12];a[1]=c[1]*d+c[5]*b+c[13];return a}function I(a,b,c,d){var e=b[0]-c[0];b=b[1]-c[1];var f=Math.sin(d);d=Math.cos(d);a[0]=e*d-b*f+c[0];a[1]=e*f+b*d+c[1];return a}function J(a,b){var c=a[0];a=a[1];var d=b[0];b=b[1];var e=c*c+a*a;e>0&&(e=1/Math.sqrt(e));var f=d*d+b*b;f>0&&(f=1/Math.sqrt(f));c=(c*d+a*b)*e*f;if(c>1)return 0;else if(c<-1)return Math.PI;else return Math.acos(c)}function K(a){a[0]=0;a[1]=0;return a}function L(a){return"vec2("+a[0]+", "+a[1]+")"}function M(a,b){return a[0]===b[0]&&a[1]===b[1]}function N(b,c){var d=b[0];b=b[1];var e=c[0];c=c[1];return Math.abs(d-e)<=a.EPSILON*Math.max(1,Math.abs(d),Math.abs(e))&&Math.abs(b-c)<=a.EPSILON*Math.max(1,Math.abs(b),Math.abs(c))}d=v;Y.len=d;e=i;Y.sub=e;f=j;Y.mul=f;g=l;Y.div=g;h=t;Y.dist=h;m=u;Y.sqrDist=m;n=w;Y.sqrLen=n;o=function(){var a=c();return function(b,c,d,e,f,g){c||(c=2);d||(d=0);e?e=Math.min(e*c+d,b.length):e=b.length;for(d=d;d<e;d+=c)a[0]=b[d],a[1]=b[d+1],f(a,a,g),b[d]=a[0],b[d+1]=a[1];return b}}();Y.forEach=o}var Z=!1;function da(){Z||(Z=!0,ca());return ba.exports}var $={},ea={exports:$};function fa(){Object.defineProperty($,"__esModule",{value:!0});$.vec4=$.vec3=$.vec2=$.quat2=$.quat=$.mat4=$.mat3=$.mat2d=$.mat2=$.glMatrix=void 0;var a=b(k());$.glMatrix=a;a=b(p());$.mat2=a;a=b(u());$.mat2d=a;a=b(z());$.mat3=a;a=b(E());$.mat4=a;a=b(T());$.quat=a;a=b(aa());$.quat2=a;a=b(da());$.vec2=a;a=b(J());$.vec3=a;a=b(O());$.vec4=a;function b(a){if(a&&a.__esModule)return a;else{var b={};if(a!=null)for(var c in a)if(Object.prototype.hasOwnProperty.call(a,c)){var d=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(a,c):{};d.get||d.set?Object.defineProperty(b,c,d):b[c]=a[c]}b["default"]=a;return b}}}var ga=!1;function ha(){ga||(ga=!0,fa());return ea.exports}function a(a){switch(a){case void 0:return ha();case"/mat3":return z();case"/mat4":return E();case"/quat":return T();case"/vec2":return da();case"/vec3":return J();case"/vec4":return O()}}e.exports=a}),null);
__d("gl-matrix",["gl-matrix-3.0.0"],(function(a,b,c,d,e,f){e.exports=b("gl-matrix-3.0.0")()}),null);
/**
 * License: https://www.facebook.com/legal/license/cr2jmG-CdKo/
 */
__d("gl-vec3-1.1.3",[],(function(a,b,c,d,e,f){"use strict";b={};var g={exports:b};function h(){g.exports=1e-6}var i=!1;function j(){i||(i=!0,h());return g.exports}c={};var k={exports:c};function aa(){k.exports=a;function a(){var a=new Float32Array(3);a[0]=0;a[1]=0;a[2]=0;return a}}var l=!1;function m(){l||(l=!0,aa());return k.exports}d={};var n={exports:d};function ba(){n.exports=a;function a(a){var b=new Float32Array(3);b[0]=a[0];b[1]=a[1];b[2]=a[2];return b}}var o=!1;function ca(){o||(o=!0,ba());return n.exports}f={};var p={exports:f};function da(){p.exports=a;function a(a,b,c){var d=new Float32Array(3);d[0]=a;d[1]=b;d[2]=c;return d}}var q=!1;function r(){q||(q=!0,da());return p.exports}b={};var s={exports:b};function ea(){s.exports=a;function a(a,b){var c=b[0],d=b[1],e=b[2];c=c*c+d*d+e*e;c>0&&(c=1/Math.sqrt(c),a[0]=b[0]*c,a[1]=b[1]*c,a[2]=b[2]*c);return a}}var t=!1;function u(){t||(t=!0,ea());return s.exports}c={};var v={exports:c};function fa(){v.exports=a;function a(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]}}var w=!1;function x(){w||(w=!0,fa());return v.exports}d={};var y={exports:d};function ga(){y.exports=d;var a=r(),b=u(),c=x();function d(d,e){d=a(d[0],d[1],d[2]);e=a(e[0],e[1],e[2]);b(d,d);b(e,e);d=c(d,e);if(d>1)return 0;else return Math.acos(d)}}var z=!1;function A(){z||(z=!0,ga());return y.exports}f={};var B={exports:f};function ha(){B.exports=a;function a(a,b){a[0]=b[0];a[1]=b[1];a[2]=b[2];return a}}var C=!1;function ia(){C||(C=!0,ha());return B.exports}b={};var D={exports:b};function ja(){D.exports=a;function a(a,b,c,d){a[0]=b;a[1]=c;a[2]=d;return a}}var E=!1;function ka(){E||(E=!0,ja());return D.exports}c={};var F={exports:c};function la(){F.exports=b;var a=j();function b(b,c){var d=b[0],e=b[1];b=b[2];var f=c[0],g=c[1];c=c[2];return Math.abs(d-f)<=a*Math.max(1,Math.abs(d),Math.abs(f))&&Math.abs(e-g)<=a*Math.max(1,Math.abs(e),Math.abs(g))&&Math.abs(b-c)<=a*Math.max(1,Math.abs(b),Math.abs(c))}}var G=!1;function ma(){G||(G=!0,la());return F.exports}d={};var H={exports:d};function na(){H.exports=a;function a(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]}}var I=!1;function oa(){I||(I=!0,na());return H.exports}f={};var J={exports:f};function pa(){J.exports=a;function a(a,b,c){a[0]=b[0]+c[0];a[1]=b[1]+c[1];a[2]=b[2]+c[2];return a}}var K=!1;function qa(){K||(K=!0,pa());return J.exports}b={};var L={exports:b};function ra(){L.exports=a;function a(a,b,c){a[0]=b[0]-c[0];a[1]=b[1]-c[1];a[2]=b[2]-c[2];return a}}var M=!1;function N(){M||(M=!0,ra());return L.exports}c={};var O={exports:c};function sa(){O.exports=N()}var P=!1;function ta(){P||(P=!0,sa());return O.exports}d={};var Q={exports:d};function ua(){Q.exports=a;function a(a,b,c){a[0]=b[0]*c[0];a[1]=b[1]*c[1];a[2]=b[2]*c[2];return a}}var R=!1;function S(){R||(R=!0,ua());return Q.exports}f={};var T={exports:f};function va(){T.exports=S()}var U=!1;function wa(){U||(U=!0,va());return T.exports}b={};var V={exports:b};function xa(){V.exports=a;function a(a,b,c){a[0]=b[0]/c[0];a[1]=b[1]/c[1];a[2]=b[2]/c[2];return a}}var W=!1;function X(){W||(W=!0,xa());return V.exports}c={};var Y={exports:c};function ya(){Y.exports=X()}var Z=!1;function za(){Z||(Z=!0,ya());return Y.exports}d={};var Aa={exports:d};function Ba(){Aa.exports=a;function a(a,b,c){a[0]=Math.min(b[0],c[0]);a[1]=Math.min(b[1],c[1]);a[2]=Math.min(b[2],c[2]);return a}}var Ca=!1;function Da(){Ca||(Ca=!0,Ba());return Aa.exports}f={};var Ea={exports:f};function Fa(){Ea.exports=a;function a(a,b,c){a[0]=Math.max(b[0],c[0]);a[1]=Math.max(b[1],c[1]);a[2]=Math.max(b[2],c[2]);return a}}var Ga=!1;function Ha(){Ga||(Ga=!0,Fa());return Ea.exports}b={};var Ia={exports:b};function Ja(){Ia.exports=a;function a(a,b){a[0]=Math.floor(b[0]);a[1]=Math.floor(b[1]);a[2]=Math.floor(b[2]);return a}}var Ka=!1;function La(){Ka||(Ka=!0,Ja());return Ia.exports}c={};var Ma={exports:c};function Na(){Ma.exports=a;function a(a,b){a[0]=Math.ceil(b[0]);a[1]=Math.ceil(b[1]);a[2]=Math.ceil(b[2]);return a}}var Oa=!1;function Pa(){Oa||(Oa=!0,Na());return Ma.exports}d={};var Qa={exports:d};function Ra(){Qa.exports=a;function a(a,b){a[0]=Math.round(b[0]);a[1]=Math.round(b[1]);a[2]=Math.round(b[2]);return a}}var Sa=!1;function Ta(){Sa||(Sa=!0,Ra());return Qa.exports}f={};var Ua={exports:f};function Va(){Ua.exports=a;function a(a,b,c){a[0]=b[0]*c;a[1]=b[1]*c;a[2]=b[2]*c;return a}}var Wa=!1;function Xa(){Wa||(Wa=!0,Va());return Ua.exports}b={};var Ya={exports:b};function Za(){Ya.exports=a;function a(a,b,c,d){a[0]=b[0]+c[0]*d;a[1]=b[1]+c[1]*d;a[2]=b[2]+c[2]*d;return a}}var $a=!1;function ab(){$a||($a=!0,Za());return Ya.exports}c={};var bb={exports:c};function cb(){bb.exports=a;function a(a,b){var c=b[0]-a[0],d=b[1]-a[1];b=b[2]-a[2];return Math.sqrt(c*c+d*d+b*b)}}var db=!1;function eb(){db||(db=!0,cb());return bb.exports}d={};var fb={exports:d};function gb(){fb.exports=eb()}var hb=!1;function ib(){hb||(hb=!0,gb());return fb.exports}f={};var jb={exports:f};function kb(){jb.exports=a;function a(a,b){var c=b[0]-a[0],d=b[1]-a[1];b=b[2]-a[2];return c*c+d*d+b*b}}var lb=!1;function mb(){lb||(lb=!0,kb());return jb.exports}b={};var nb={exports:b};function ob(){nb.exports=mb()}var pb=!1;function qb(){pb||(pb=!0,ob());return nb.exports}c={};var rb={exports:c};function sb(){rb.exports=a;function a(a){var b=a[0],c=a[1];a=a[2];return Math.sqrt(b*b+c*c+a*a)}}var tb=!1;function $(){tb||(tb=!0,sb());return rb.exports}d={};var ub={exports:d};function vb(){ub.exports=$()}var wb=!1;function xb(){wb||(wb=!0,vb());return ub.exports}f={};var yb={exports:f};function zb(){yb.exports=a;function a(a){var b=a[0],c=a[1];a=a[2];return b*b+c*c+a*a}}var Ab=!1;function Bb(){Ab||(Ab=!0,zb());return yb.exports}b={};var Cb={exports:b};function Db(){Cb.exports=Bb()}var Eb=!1;function Fb(){Eb||(Eb=!0,Db());return Cb.exports}c={};var Gb={exports:c};function Hb(){Gb.exports=a;function a(a,b){a[0]=-b[0];a[1]=-b[1];a[2]=-b[2];return a}}var Ib=!1;function Jb(){Ib||(Ib=!0,Hb());return Gb.exports}d={};var Kb={exports:d};function Lb(){Kb.exports=a;function a(a,b){a[0]=1/b[0];a[1]=1/b[1];a[2]=1/b[2];return a}}var Mb=!1;function Nb(){Mb||(Mb=!0,Lb());return Kb.exports}f={};var Ob={exports:f};function Pb(){Ob.exports=a;function a(a,b,c){var d=b[0],e=b[1];b=b[2];var f=c[0],g=c[1];c=c[2];a[0]=e*c-b*g;a[1]=b*f-d*c;a[2]=d*g-e*f;return a}}var Qb=!1;function Rb(){Qb||(Qb=!0,Pb());return Ob.exports}b={};var Sb={exports:b};function Tb(){Sb.exports=a;function a(a,b,c,d){var e=b[0],f=b[1];b=b[2];a[0]=e+d*(c[0]-e);a[1]=f+d*(c[1]-f);a[2]=b+d*(c[2]-b);return a}}var Ub=!1;function Vb(){Ub||(Ub=!0,Tb());return Sb.exports}c={};var Wb={exports:c};function Xb(){Wb.exports=a;function a(a,b){b=b||1;var c=Math.random()*2*Math.PI,d=Math.random()*2-1,e=Math.sqrt(1-d*d)*b;a[0]=Math.cos(c)*e;a[1]=Math.sin(c)*e;a[2]=d*b;return a}}var Yb=!1;function Zb(){Yb||(Yb=!0,Xb());return Wb.exports}d={};var $b={exports:d};function ac(){$b.exports=a;function a(a,b,c){var d=b[0],e=b[1];b=b[2];var f=c[3]*d+c[7]*e+c[11]*b+c[15];f=f||1;a[0]=(c[0]*d+c[4]*e+c[8]*b+c[12])/f;a[1]=(c[1]*d+c[5]*e+c[9]*b+c[13])/f;a[2]=(c[2]*d+c[6]*e+c[10]*b+c[14])/f;return a}}var bc=!1;function cc(){bc||(bc=!0,ac());return $b.exports}f={};var dc={exports:f};function ec(){dc.exports=a;function a(a,b,c){var d=b[0],e=b[1];b=b[2];a[0]=d*c[0]+e*c[3]+b*c[6];a[1]=d*c[1]+e*c[4]+b*c[7];a[2]=d*c[2]+e*c[5]+b*c[8];return a}}var fc=!1;function gc(){fc||(fc=!0,ec());return dc.exports}b={};var hc={exports:b};function ic(){hc.exports=a;function a(a,b,c){var d=b[0],e=b[1];b=b[2];var f=c[0],g=c[1],h=c[2];c=c[3];var i=c*d+g*b-h*e,j=c*e+h*d-f*b,k=c*b+f*e-g*d;d=-f*d-g*e-h*b;a[0]=i*c+d*-f+j*-h-k*-g;a[1]=j*c+d*-g+k*-f-i*-h;a[2]=k*c+d*-h+i*-g-j*-f;return a}}var jc=!1;function kc(){jc||(jc=!0,ic());return hc.exports}c={};var lc={exports:c};function mc(){lc.exports=a;function a(a,b,c,d){var e=c[1];c=c[2];var f=b[1]-e,g=b[2]-c,h=Math.sin(d);d=Math.cos(d);a[0]=b[0];a[1]=e+f*d-g*h;a[2]=c+f*h+g*d;return a}}var nc=!1;function oc(){nc||(nc=!0,mc());return lc.exports}d={};var pc={exports:d};function qc(){pc.exports=a;function a(a,b,c,d){var e=c[0];c=c[2];var f=b[0]-e,g=b[2]-c,h=Math.sin(d);d=Math.cos(d);a[0]=e+g*h+f*d;a[1]=b[1];a[2]=c+g*d-f*h;return a}}var rc=!1;function sc(){rc||(rc=!0,qc());return pc.exports}f={};var tc={exports:f};function uc(){tc.exports=a;function a(a,b,c,d){var e=c[0];c=c[1];var f=b[0]-e,g=b[1]-c,h=Math.sin(d);d=Math.cos(d);a[0]=e+f*d-g*h;a[1]=c+f*h+g*d;a[2]=b[2];return a}}var vc=!1;function wc(){vc||(vc=!0,uc());return tc.exports}b={};var xc={exports:b};function yc(){xc.exports=b;var a=m()();function b(b,c,d,e,f,g){c||(c=3);d||(d=0);e?e=Math.min(e*c+d,b.length):e=b.length;for(d=d;d<e;d+=c)a[0]=b[d],a[1]=b[d+1],a[2]=b[d+2],f(a,a,g),b[d]=a[0],b[d+1]=a[1],b[d+2]=a[2];return b}}var zc=!1;function Ac(){zc||(zc=!0,yc());return xc.exports}c={};var Bc={exports:c};function Cc(){Bc.exports={EPSILON:j(),create:m(),clone:ca(),angle:A(),fromValues:r(),copy:ia(),set:ka(),equals:ma(),exactEquals:oa(),add:qa(),subtract:N(),sub:ta(),multiply:S(),mul:wa(),divide:X(),div:za(),min:Da(),max:Ha(),floor:La(),ceil:Pa(),round:Ta(),scale:Xa(),scaleAndAdd:ab(),distance:eb(),dist:ib(),squaredDistance:mb(),sqrDist:qb(),length:$(),len:xb(),squaredLength:Bb(),sqrLen:Fb(),negate:Jb(),inverse:Nb(),normalize:u(),dot:x(),cross:Rb(),lerp:Vb(),random:Zb(),transformMat4:cc(),transformMat3:gc(),transformQuat:kc(),rotateX:oc(),rotateY:sc(),rotateZ:wc(),forEach:Ac()}}var Dc=!1;function Ec(){Dc||(Dc=!0,Cc());return Bc.exports}function a(a){switch(a){case void 0:return Ec();case"/angle":return A();case"/cross":return Rb();case"/dot":return x();case"/length":return $();case"/normalize":return u();case"/rotateX":return oc();case"/rotateY":return sc();case"/rotateZ":return wc();case"/subtract":return N();case"/transformMat4":return cc()}}e.exports=a}),null);
/**
 * License: https://www.facebook.com/legal/license/cr2jmG-CdKo/
 */
__d("gl-vec4-1.0.1",[],(function(a,b,c,d,e,f){"use strict";b={};var g={exports:b};function h(){g.exports=a;function a(){var a=new Float32Array(4);a[0]=0;a[1]=0;a[2]=0;a[3]=0;return a}}var i=!1;function j(){i||(i=!0,h());return g.exports}c={};var k={exports:c};function l(){k.exports=a;function a(a){var b=new Float32Array(4);b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];return b}}var m=!1;function n(){m||(m=!0,l());return k.exports}d={};var o={exports:d};function aa(){o.exports=a;function a(a,b,c,d){var e=new Float32Array(4);e[0]=a;e[1]=b;e[2]=c;e[3]=d;return e}}var p=!1;function q(){p||(p=!0,aa());return o.exports}f={};var r={exports:f};function ba(){r.exports=a;function a(a,b){a[0]=b[0];a[1]=b[1];a[2]=b[2];a[3]=b[3];return a}}var s=!1;function t(){s||(s=!0,ba());return r.exports}b={};var u={exports:b};function ca(){u.exports=a;function a(a,b,c,d,e){a[0]=b;a[1]=c;a[2]=d;a[3]=e;return a}}var v=!1;function w(){v||(v=!0,ca());return u.exports}c={};var x={exports:c};function da(){x.exports=a;function a(a,b,c){a[0]=b[0]+c[0];a[1]=b[1]+c[1];a[2]=b[2]+c[2];a[3]=b[3]+c[3];return a}}var y=!1;function z(){y||(y=!0,da());return x.exports}d={};var A={exports:d};function ea(){A.exports=a;function a(a,b,c){a[0]=b[0]-c[0];a[1]=b[1]-c[1];a[2]=b[2]-c[2];a[3]=b[3]-c[3];return a}}var B=!1;function fa(){B||(B=!0,ea());return A.exports}f={};var C={exports:f};function ga(){C.exports=a;function a(a,b,c){a[0]=b[0]*c[0];a[1]=b[1]*c[1];a[2]=b[2]*c[2];a[3]=b[3]*c[3];return a}}var D=!1;function E(){D||(D=!0,ga());return C.exports}b={};var F={exports:b};function ha(){F.exports=a;function a(a,b,c){a[0]=b[0]/c[0];a[1]=b[1]/c[1];a[2]=b[2]/c[2];a[3]=b[3]/c[3];return a}}var G=!1;function ia(){G||(G=!0,ha());return F.exports}c={};var H={exports:c};function ja(){H.exports=a;function a(a,b,c){a[0]=Math.min(b[0],c[0]);a[1]=Math.min(b[1],c[1]);a[2]=Math.min(b[2],c[2]);a[3]=Math.min(b[3],c[3]);return a}}var I=!1;function ka(){I||(I=!0,ja());return H.exports}d={};var J={exports:d};function la(){J.exports=a;function a(a,b,c){a[0]=Math.max(b[0],c[0]);a[1]=Math.max(b[1],c[1]);a[2]=Math.max(b[2],c[2]);a[3]=Math.max(b[3],c[3]);return a}}var K=!1;function ma(){K||(K=!0,la());return J.exports}f={};var L={exports:f};function na(){L.exports=a;function a(a,b,c){a[0]=b[0]*c;a[1]=b[1]*c;a[2]=b[2]*c;a[3]=b[3]*c;return a}}var M=!1;function N(){M||(M=!0,na());return L.exports}b={};var O={exports:b};function oa(){O.exports=a;function a(a,b,c,d){a[0]=b[0]+c[0]*d;a[1]=b[1]+c[1]*d;a[2]=b[2]+c[2]*d;a[3]=b[3]+c[3]*d;return a}}var P=!1;function pa(){P||(P=!0,oa());return O.exports}c={};var Q={exports:c};function qa(){Q.exports=a;function a(a,b){var c=b[0]-a[0],d=b[1]-a[1],e=b[2]-a[2];b=b[3]-a[3];return Math.sqrt(c*c+d*d+e*e+b*b)}}var R=!1;function ra(){R||(R=!0,qa());return Q.exports}d={};var S={exports:d};function sa(){S.exports=a;function a(a,b){var c=b[0]-a[0],d=b[1]-a[1],e=b[2]-a[2];b=b[3]-a[3];return c*c+d*d+e*e+b*b}}var T=!1;function ta(){T||(T=!0,sa());return S.exports}f={};var U={exports:f};function ua(){U.exports=a;function a(a){var b=a[0],c=a[1],d=a[2];a=a[3];return Math.sqrt(b*b+c*c+d*d+a*a)}}var V=!1;function W(){V||(V=!0,ua());return U.exports}b={};var X={exports:b};function va(){X.exports=a;function a(a){var b=a[0],c=a[1],d=a[2];a=a[3];return b*b+c*c+d*d+a*a}}var Y=!1;function Z(){Y||(Y=!0,va());return X.exports}c={};var wa={exports:c};function xa(){wa.exports=a;function a(a,b){a[0]=-b[0];a[1]=-b[1];a[2]=-b[2];a[3]=-b[3];return a}}var ya=!1;function za(){ya||(ya=!0,xa());return wa.exports}d={};var Aa={exports:d};function Ba(){Aa.exports=a;function a(a,b){a[0]=1/b[0];a[1]=1/b[1];a[2]=1/b[2];a[3]=1/b[3];return a}}var Ca=!1;function Da(){Ca||(Ca=!0,Ba());return Aa.exports}f={};var Ea={exports:f};function Fa(){Ea.exports=a;function a(a,b){var c=b[0],d=b[1],e=b[2];b=b[3];var f=c*c+d*d+e*e+b*b;f>0&&(f=1/Math.sqrt(f),a[0]=c*f,a[1]=d*f,a[2]=e*f,a[3]=b*f);return a}}var Ga=!1;function $(){Ga||(Ga=!0,Fa());return Ea.exports}b={};var Ha={exports:b};function Ia(){Ha.exports=a;function a(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]+a[3]*b[3]}}var Ja=!1;function Ka(){Ja||(Ja=!0,Ia());return Ha.exports}c={};var La={exports:c};function Ma(){La.exports=a;function a(a,b,c,d){var e=b[0],f=b[1],g=b[2];b=b[3];a[0]=e+d*(c[0]-e);a[1]=f+d*(c[1]-f);a[2]=g+d*(c[2]-g);a[3]=b+d*(c[3]-b);return a}}var Na=!1;function Oa(){Na||(Na=!0,Ma());return La.exports}d={};var Pa={exports:d};function Qa(){var a=$(),b=N();Pa.exports=c;function c(c,d){d=d||1;c[0]=Math.random();c[1]=Math.random();c[2]=Math.random();c[3]=Math.random();a(c,c);b(c,c,d);return c}}var Ra=!1;function Sa(){Ra||(Ra=!0,Qa());return Pa.exports}f={};var Ta={exports:f};function Ua(){Ta.exports=a;function a(a,b,c){var d=b[0],e=b[1],f=b[2];b=b[3];a[0]=c[0]*d+c[4]*e+c[8]*f+c[12]*b;a[1]=c[1]*d+c[5]*e+c[9]*f+c[13]*b;a[2]=c[2]*d+c[6]*e+c[10]*f+c[14]*b;a[3]=c[3]*d+c[7]*e+c[11]*f+c[15]*b;return a}}var Va=!1;function Wa(){Va||(Va=!0,Ua());return Ta.exports}b={};var Xa={exports:b};function Ya(){Xa.exports=a;function a(a,b,c){var d=b[0],e=b[1],f=b[2],g=c[0],h=c[1],i=c[2];c=c[3];var j=c*d+h*f-i*e,k=c*e+i*d-g*f,l=c*f+g*e-h*d;d=-g*d-h*e-i*f;a[0]=j*c+d*-g+k*-i-l*-h;a[1]=k*c+d*-h+l*-g-j*-i;a[2]=l*c+d*-i+j*-h-k*-g;a[3]=b[3];return a}}var Za=!1;function $a(){Za||(Za=!0,Ya());return Xa.exports}c={};var ab={exports:c};function bb(){ab.exports={create:j(),clone:n(),fromValues:q(),copy:t(),set:w(),add:z(),subtract:fa(),multiply:E(),divide:ia(),min:ka(),max:ma(),scale:N(),scaleAndAdd:pa(),distance:ra(),squaredDistance:ta(),length:W(),squaredLength:Z(),negate:za(),inverse:Da(),normalize:$(),dot:Ka(),lerp:Oa(),random:Sa(),transformMat4:Wa(),transformQuat:$a()}}var cb=!1;function db(){cb||(cb=!0,bb());return ab.exports}function a(a){switch(a){case void 0:return db();case"/add":return z();case"/clone":return n();case"/copy":return t();case"/dot":return Ka();case"/fromValues":return q();case"/length":return W();case"/lerp":return Oa();case"/multiply":return E();case"/normalize":return $();case"/scale":return N();case"/set":return w();case"/squaredLength":return Z();case"/transformMat4":return Wa()}}e.exports=a}),null);
/**
 * License: https://www.facebook.com/legal/license/cr2jmG-CdKo/
 */
__d("gl-quat-1.0.0",["gl-vec4-1.0.1","gl-vec3-1.1.3","gl-mat3-1.0.0"],(function(a,b,c,d,e,f){"use strict";function a(a){return a&&typeof a==="object"&&"default"in a?a["default"]:a}var g=a(b("gl-vec4-1.0.1")),h=a(b("gl-vec3-1.1.3")),i=a(b("gl-mat3-1.0.0"));d={};var j={exports:d};function k(){j.exports=g("/add")}var l=!1;function m(){l||(l=!0,k());return j.exports}f={};var n={exports:f};function aa(){n.exports=a;function a(a,b){var c=b[0],d=b[1];b=b[2];a[0]=c;a[1]=d;a[2]=b;a[3]=Math.sqrt(Math.abs(1-c*c-d*d-b*b));return a}}var o=!1;function p(){o||(o=!0,aa());return n.exports}a={};var q={exports:a};function ba(){q.exports=g("/clone")}var r=!1;function ca(){r||(r=!0,ba());return q.exports}b={};var s={exports:b};function da(){s.exports=a;function a(a,b){a[0]=-b[0];a[1]=-b[1];a[2]=-b[2];a[3]=b[3];return a}}var t=!1;function u(){t||(t=!0,da());return s.exports}d={};var v={exports:d};function ea(){v.exports=g("/copy")}var w=!1;function fa(){w||(w=!0,ea());return v.exports}f={};var x={exports:f};function ga(){x.exports=a;function a(){var a=new Float32Array(4);a[0]=0;a[1]=0;a[2]=0;a[3]=1;return a}}var y=!1;function ha(){y||(y=!0,ga());return x.exports}a={};var z={exports:a};function ia(){z.exports=g("/dot")}var A=!1;function B(){A||(A=!0,ia());return z.exports}b={};var C={exports:b};function ja(){C.exports=a;function a(a,b){var c=b[0]+b[4]+b[8];if(c>0)c=Math.sqrt(c+1),a[3]=.5*c,c=.5/c,a[0]=(b[5]-b[7])*c,a[1]=(b[6]-b[2])*c,a[2]=(b[1]-b[3])*c;else{var d=0;b[4]>b[0]&&(d=1);b[8]>b[d*3+d]&&(d=2);var e=(d+1)%3,f=(d+2)%3;c=Math.sqrt(b[d*3+d]-b[e*3+e]-b[f*3+f]+1);a[d]=.5*c;c=.5/c;a[3]=(b[e*3+f]-b[f*3+e])*c;a[e]=(b[e*3+d]+b[d*3+e])*c;a[f]=(b[f*3+d]+b[d*3+f])*c}return a}}var D=!1;function E(){D||(D=!0,ja());return C.exports}d={};var F={exports:d};function ka(){F.exports=g("/fromValues")}var G=!1;function la(){G||(G=!0,ka());return F.exports}f={};var H={exports:f};function ma(){H.exports=a;function a(a){a[0]=0;a[1]=0;a[2]=0;a[3]=1;return a}}var I=!1;function J(){I||(I=!0,ma());return H.exports}a={};var K={exports:a};function na(){K.exports=a;function a(a,b){var c=b[0],d=b[1],e=b[2];b=b[3];var f=c*c+d*d+e*e+b*b;f=f?1/f:0;a[0]=-c*f;a[1]=-d*f;a[2]=-e*f;a[3]=b*f;return a}}var L=!1;function M(){L||(L=!0,na());return K.exports}b={};var N={exports:b};function oa(){N.exports=g("/length")}var O=!1;function P(){O||(O=!0,oa());return N.exports}d={};var Q={exports:d};function pa(){Q.exports=g("/lerp")}var R=!1;function S(){R||(R=!0,pa());return Q.exports}f={};var T={exports:f};function qa(){T.exports=a;function a(a,b,c){var d=b[0],e=b[1],f=b[2];b=b[3];var g=c[0],h=c[1],i=c[2];c=c[3];a[0]=d*c+b*g+e*i-f*h;a[1]=e*c+b*h+f*g-d*i;a[2]=f*c+b*i+d*h-e*g;a[3]=b*c-d*g-e*h-f*i;return a}}var U=!1;function V(){U||(U=!0,qa());return T.exports}a={};var W={exports:a};function ra(){W.exports=g("/normalize")}var X=!1;function Y(){X||(X=!0,ra());return W.exports}b={};var sa={exports:b};function ta(){sa.exports=a;function a(a,b,c){c*=.5;var d=b[0],e=b[1],f=b[2];b=b[3];var g=Math.sin(c);c=Math.cos(c);a[0]=d*c+b*g;a[1]=e*c+f*g;a[2]=f*c-e*g;a[3]=b*c-d*g;return a}}var ua=!1;function va(){ua||(ua=!0,ta());return sa.exports}d={};var wa={exports:d};function xa(){wa.exports=a;function a(a,b,c){c*=.5;var d=b[0],e=b[1],f=b[2];b=b[3];var g=Math.sin(c);c=Math.cos(c);a[0]=d*c-f*g;a[1]=e*c+b*g;a[2]=f*c+d*g;a[3]=b*c-e*g;return a}}var ya=!1;function za(){ya||(ya=!0,xa());return wa.exports}f={};var Aa={exports:f};function Ba(){Aa.exports=a;function a(a,b,c){c*=.5;var d=b[0],e=b[1],f=b[2];b=b[3];var g=Math.sin(c);c=Math.cos(c);a[0]=d*c+e*g;a[1]=e*c-d*g;a[2]=f*c+b*g;a[3]=b*c-f*g;return a}}var Ca=!1;function Da(){Ca||(Ca=!0,Ba());return Aa.exports}a={};var Ea={exports:a};function Fa(){Ea.exports=a;function a(a,b,c){c=c*.5;var d=Math.sin(c);a[0]=d*b[0];a[1]=d*b[1];a[2]=d*b[2];a[3]=Math.cos(c);return a}}var Ga=!1;function Z(){Ga||(Ga=!0,Fa());return Ea.exports}b={};var Ha={exports:b};function Ia(){var a=h("/dot"),b=h("/cross"),c=h("/length"),d=h("/normalize"),e=Y(),f=Z();Ha.exports=k;var g=[0,0,0],i=[1,0,0],j=[0,1,0];function k(h,k,l){var m=a(k,l);if(m<-.999999){b(g,i,k);c(g)<1e-6&&b(g,j,k);d(g,g);f(h,g,Math.PI);return h}else if(m>.999999){h[0]=0;h[1]=0;h[2]=0;h[3]=1;return h}else{b(g,k,l);h[0]=g[0];h[1]=g[1];h[2]=g[2];h[3]=1+m;return e(h,h)}}}var Ja=!1;function Ka(){Ja||(Ja=!0,Ia());return Ha.exports}d={};var La={exports:d};function Ma(){La.exports=g("/scale")}var Na=!1;function Oa(){Na||(Na=!0,Ma());return La.exports}f={};var Pa={exports:f};function Qa(){Pa.exports=g("/set")}var Ra=!1;function Sa(){Ra||(Ra=!0,Qa());return Pa.exports}a={};var Ta={exports:a};function Ua(){var a=i("/create"),b=E(),c=Y();Ta.exports=e;var d=a();function e(a,e,f,g){d[0]=f[0];d[3]=f[1];d[6]=f[2];d[1]=g[0];d[4]=g[1];d[7]=g[2];d[2]=-e[0];d[5]=-e[1];d[8]=-e[2];return c(a,b(a,d))}}var Va=!1;function Wa(){Va||(Va=!0,Ua());return Ta.exports}b={};var Xa={exports:b};function Ya(){Xa.exports=a;function a(a,b,c,d){var e=b[0],f=b[1],g=b[2];b=b[3];var h=c[0],i=c[1],j=c[2];c=c[3];var k,l,m;k=e*h+f*i+g*j+b*c;k<0&&(k=-k,h=-h,i=-i,j=-j,c=-c);1-k>1e-6?(k=Math.acos(k),l=Math.sin(k),m=Math.sin((1-d)*k)/l,k=Math.sin(d*k)/l):(m=1-d,k=d);a[0]=m*e+k*h;a[1]=m*f+k*i;a[2]=m*g+k*j;a[3]=m*b+k*c;return a}}var Za=!1;function $(){Za||(Za=!0,Ya());return Xa.exports}d={};var $a={exports:d};function ab(){var a=$();$a.exports=d;var b=[0,0,0,1],c=[0,0,0,1];function d(d,e,f,g,h,i){a(b,e,h,i);a(c,f,g,i);a(d,b,c,2*i*(1-i));return d}}var bb=!1;function cb(){bb||(bb=!0,ab());return $a.exports}f={};var db={exports:f};function eb(){db.exports=g("/squaredLength")}var fb=!1;function gb(){fb||(fb=!0,eb());return db.exports}a={};var hb={exports:a};function ib(){hb.exports={add:m(),calculateW:p(),clone:ca(),conjugate:u(),copy:fa(),create:ha(),dot:B(),fromMat3:E(),fromValues:la(),identity:J(),invert:M(),length:P(),lerp:S(),multiply:V(),normalize:Y(),rotateX:va(),rotateY:za(),rotateZ:Da(),rotationTo:Ka(),scale:Oa(),set:Sa(),setAxes:Wa(),setAxisAngle:Z(),slerp:$(),sqlerp:cb(),squaredLength:gb()}}var jb=!1;function kb(){jb||(jb=!0,ib());return hb.exports}function c(a){switch(a){case void 0:return kb();case"/add":return m();case"/calculateW":return p();case"/conjugate":return u();case"/dot":return B();case"/fromMat3":return E();case"/identity":return J();case"/invert":return M();case"/length":return P();case"/lerp":return S();case"/multiply":return V();case"/normalize":return Y();case"/rotateX":return va();case"/rotateY":return za();case"/rotateZ":return Da();case"/rotationTo":return Ka();case"/scale":return Oa();case"/set":return Sa();case"/setAxisAngle":return Z();case"/slerp":return $();case"/squaredLength":return gb()}}e.exports=c}),null);
__d("gl-quat",["gl-quat-1.0.0"],(function(a,b,c,d,e,f){"use strict";e.exports=b("gl-quat-1.0.0")()}),null);
/**
 * License: https://www.facebook.com/legal/license/cr2jmG-CdKo/
 */
__d("gl-vec2-1.3.0",[],(function(a,b,c,d,e,f){"use strict";b={};var g={exports:b};function aa(){g.exports=1e-6}var h=!1;function i(){h||(h=!0,aa());return g.exports}c={};var j={exports:c};function ba(){j.exports=a;function a(){var a=new Float32Array(2);a[0]=0;a[1]=0;return a}}var k=!1;function l(){k||(k=!0,ba());return j.exports}d={};var m={exports:d};function ca(){m.exports=a;function a(a){var b=new Float32Array(2);b[0]=a[0];b[1]=a[1];return b}}var n=!1;function da(){n||(n=!0,ca());return m.exports}f={};var o={exports:f};function ea(){o.exports=a;function a(a,b){var c=new Float32Array(2);c[0]=a;c[1]=b;return c}}var p=!1;function fa(){p||(p=!0,ea());return o.exports}b={};var q={exports:b};function ga(){q.exports=a;function a(a,b){a[0]=b[0];a[1]=b[1];return a}}var r=!1;function ha(){r||(r=!0,ga());return q.exports}c={};var s={exports:c};function ia(){s.exports=a;function a(a,b,c){a[0]=b;a[1]=c;return a}}var t=!1;function ja(){t||(t=!0,ia());return s.exports}d={};var u={exports:d};function ka(){u.exports=b;var a=i();function b(b,c){var d=b[0];b=b[1];var e=c[0];c=c[1];return Math.abs(d-e)<=a*Math.max(1,Math.abs(d),Math.abs(e))&&Math.abs(b-c)<=a*Math.max(1,Math.abs(b),Math.abs(c))}}var v=!1;function la(){v||(v=!0,ka());return u.exports}f={};var w={exports:f};function ma(){w.exports=a;function a(a,b){return a[0]===b[0]&&a[1]===b[1]}}var x=!1;function na(){x||(x=!0,ma());return w.exports}b={};var y={exports:b};function oa(){y.exports=a;function a(a,b,c){a[0]=b[0]+c[0];a[1]=b[1]+c[1];return a}}var z=!1;function A(){z||(z=!0,oa());return y.exports}c={};var B={exports:c};function pa(){B.exports=a;function a(a,b,c){a[0]=b[0]-c[0];a[1]=b[1]-c[1];return a}}var C=!1;function D(){C||(C=!0,pa());return B.exports}d={};var E={exports:d};function qa(){E.exports=D()}var F=!1;function ra(){F||(F=!0,qa());return E.exports}f={};var G={exports:f};function sa(){G.exports=a;function a(a,b,c){a[0]=b[0]*c[0];a[1]=b[1]*c[1];return a}}var H=!1;function I(){H||(H=!0,sa());return G.exports}b={};var J={exports:b};function ta(){J.exports=I()}var K=!1;function ua(){K||(K=!0,ta());return J.exports}c={};var L={exports:c};function va(){L.exports=a;function a(a,b,c){a[0]=b[0]/c[0];a[1]=b[1]/c[1];return a}}var M=!1;function N(){M||(M=!0,va());return L.exports}d={};var O={exports:d};function wa(){O.exports=N()}var P=!1;function xa(){P||(P=!0,wa());return O.exports}f={};var Q={exports:f};function ya(){Q.exports=a;function a(a,b){a[0]=1/b[0];a[1]=1/b[1];return a}}var R=!1;function za(){R||(R=!0,ya());return Q.exports}b={};var S={exports:b};function Aa(){S.exports=a;function a(a,b,c){a[0]=Math.min(b[0],c[0]);a[1]=Math.min(b[1],c[1]);return a}}var T=!1;function Ba(){T||(T=!0,Aa());return S.exports}c={};var U={exports:c};function Ca(){U.exports=a;function a(a,b,c){a[0]=Math.max(b[0],c[0]);a[1]=Math.max(b[1],c[1]);return a}}var V=!1;function Da(){V||(V=!0,Ca());return U.exports}d={};var W={exports:d};function Ea(){W.exports=a;function a(a,b,c){var d=Math.cos(c);c=Math.sin(c);var e=b[0];b=b[1];a[0]=e*d-b*c;a[1]=e*c+b*d;return a}}var X=!1;function Fa(){X||(X=!0,Ea());return W.exports}f={};var Y={exports:f};function Ga(){Y.exports=a;function a(a,b){a[0]=Math.floor(b[0]);a[1]=Math.floor(b[1]);return a}}var Z=!1;function Ha(){Z||(Z=!0,Ga());return Y.exports}b={};var $={exports:b};function Ia(){$.exports=a;function a(a,b){a[0]=Math.ceil(b[0]);a[1]=Math.ceil(b[1]);return a}}var Ja=!1;function Ka(){Ja||(Ja=!0,Ia());return $.exports}c={};var La={exports:c};function Ma(){La.exports=a;function a(a,b){a[0]=Math.round(b[0]);a[1]=Math.round(b[1]);return a}}var Na=!1;function Oa(){Na||(Na=!0,Ma());return La.exports}d={};var Pa={exports:d};function Qa(){Pa.exports=a;function a(a,b,c){a[0]=b[0]*c;a[1]=b[1]*c;return a}}var Ra=!1;function Sa(){Ra||(Ra=!0,Qa());return Pa.exports}f={};var Ta={exports:f};function Ua(){Ta.exports=a;function a(a,b,c,d){a[0]=b[0]+c[0]*d;a[1]=b[1]+c[1]*d;return a}}var Va=!1;function Wa(){Va||(Va=!0,Ua());return Ta.exports}b={};var Xa={exports:b};function Ya(){Xa.exports=a;function a(a,b){var c=b[0]-a[0];b=b[1]-a[1];return Math.sqrt(c*c+b*b)}}var Za=!1;function $a(){Za||(Za=!0,Ya());return Xa.exports}c={};var ab={exports:c};function bb(){ab.exports=$a()}var cb=!1;function db(){cb||(cb=!0,bb());return ab.exports}d={};var eb={exports:d};function fb(){eb.exports=a;function a(a,b){var c=b[0]-a[0];b=b[1]-a[1];return c*c+b*b}}var gb=!1;function hb(){gb||(gb=!0,fb());return eb.exports}f={};var ib={exports:f};function jb(){ib.exports=hb()}var kb=!1;function lb(){kb||(kb=!0,jb());return ib.exports}b={};var mb={exports:b};function nb(){mb.exports=a;function a(a){var b=a[0];a=a[1];return Math.sqrt(b*b+a*a)}}var ob=!1;function pb(){ob||(ob=!0,nb());return mb.exports}c={};var qb={exports:c};function rb(){qb.exports=pb()}var sb=!1;function tb(){sb||(sb=!0,rb());return qb.exports}d={};var ub={exports:d};function vb(){ub.exports=a;function a(a){var b=a[0];a=a[1];return b*b+a*a}}var wb=!1;function xb(){wb||(wb=!0,vb());return ub.exports}f={};var yb={exports:f};function zb(){yb.exports=xb()}var Ab=!1;function Bb(){Ab||(Ab=!0,zb());return yb.exports}b={};var Cb={exports:b};function Db(){Cb.exports=a;function a(a,b){a[0]=-b[0];a[1]=-b[1];return a}}var Eb=!1;function Fb(){Eb||(Eb=!0,Db());return Cb.exports}c={};var Gb={exports:c};function Hb(){Gb.exports=a;function a(a,b){var c=b[0],d=b[1];c=c*c+d*d;c>0&&(c=1/Math.sqrt(c),a[0]=b[0]*c,a[1]=b[1]*c);return a}}var Ib=!1;function Jb(){Ib||(Ib=!0,Hb());return Gb.exports}d={};var Kb={exports:d};function Lb(){Kb.exports=a;function a(a,b){return a[0]*b[0]+a[1]*b[1]}}var Mb=!1;function Nb(){Mb||(Mb=!0,Lb());return Kb.exports}f={};var Ob={exports:f};function Pb(){Ob.exports=a;function a(a,b,c){b=b[0]*c[1]-b[1]*c[0];a[0]=a[1]=0;a[2]=b;return a}}var Qb=!1;function Rb(){Qb||(Qb=!0,Pb());return Ob.exports}b={};var Sb={exports:b};function Tb(){Sb.exports=a;function a(a,b,c,d){var e=b[0];b=b[1];a[0]=e+d*(c[0]-e);a[1]=b+d*(c[1]-b);return a}}var Ub=!1;function Vb(){Ub||(Ub=!0,Tb());return Sb.exports}c={};var Wb={exports:c};function Xb(){Wb.exports=a;function a(a,b){b=b||1;var c=Math.random()*2*Math.PI;a[0]=Math.cos(c)*b;a[1]=Math.sin(c)*b;return a}}var Yb=!1;function Zb(){Yb||(Yb=!0,Xb());return Wb.exports}d={};var $b={exports:d};function ac(){$b.exports=a;function a(a,b,c){var d=b[0];b=b[1];a[0]=c[0]*d+c[2]*b;a[1]=c[1]*d+c[3]*b;return a}}var bc=!1;function cc(){bc||(bc=!0,ac());return $b.exports}f={};var dc={exports:f};function ec(){dc.exports=a;function a(a,b,c){var d=b[0];b=b[1];a[0]=c[0]*d+c[2]*b+c[4];a[1]=c[1]*d+c[3]*b+c[5];return a}}var fc=!1;function gc(){fc||(fc=!0,ec());return dc.exports}b={};var hc={exports:b};function ic(){hc.exports=a;function a(a,b,c){var d=b[0];b=b[1];a[0]=c[0]*d+c[3]*b+c[6];a[1]=c[1]*d+c[4]*b+c[7];return a}}var jc=!1;function kc(){jc||(jc=!0,ic());return hc.exports}c={};var lc={exports:c};function mc(){lc.exports=a;function a(a,b,c){var d=b[0];b=b[1];a[0]=c[0]*d+c[4]*b+c[12];a[1]=c[1]*d+c[5]*b+c[13];return a}}var nc=!1;function oc(){nc||(nc=!0,mc());return lc.exports}d={};var pc={exports:d};function qc(){pc.exports=b;var a=l()();function b(b,c,d,e,f,g){c||(c=2);d||(d=0);e?e=Math.min(e*c+d,b.length):e=b.length;for(d=d;d<e;d+=c)a[0]=b[d],a[1]=b[d+1],f(a,a,g),b[d]=a[0],b[d+1]=a[1];return b}}var rc=!1;function sc(){rc||(rc=!0,qc());return pc.exports}f={};var tc={exports:f};function uc(){tc.exports=a;function a(a,b,c){var d=b[0]*b[0]+b[1]*b[1];if(d>c*c){d=Math.sqrt(d);a[0]=b[0]/d*c;a[1]=b[1]/d*c}else a[0]=b[0],a[1]=b[1];return a}}var vc=!1;function wc(){vc||(vc=!0,uc());return tc.exports}b={};var xc={exports:b};function yc(){xc.exports={EPSILON:i(),create:l(),clone:da(),fromValues:fa(),copy:ha(),set:ja(),equals:la(),exactEquals:na(),add:A(),subtract:D(),sub:ra(),multiply:I(),mul:ua(),divide:N(),div:xa(),inverse:za(),min:Ba(),max:Da(),rotate:Fa(),floor:Ha(),ceil:Ka(),round:Oa(),scale:Sa(),scaleAndAdd:Wa(),distance:$a(),dist:db(),squaredDistance:hb(),sqrDist:lb(),length:pb(),len:tb(),squaredLength:xb(),sqrLen:Bb(),negate:Fb(),normalize:Jb(),dot:Nb(),cross:Rb(),lerp:Vb(),random:Zb(),transformMat2:cc(),transformMat2d:gc(),transformMat3:kc(),transformMat4:oc(),forEach:sc(),limit:wc()}}var zc=!1;function Ac(){zc||(zc=!0,yc());return xc.exports}function a(a){switch(a){case void 0:return Ac();case"/add":return A();case"/cross":return Rb();case"/lerp":return Vb();case"/negate":return Fb();case"/transformMat4":return oc()}}e.exports=a}),null);
__d("gl-vec2",["gl-vec2-1.3.0"],(function(a,b,c,d,e,f){e.exports=b("gl-vec2-1.3.0")()}),null);
__d("gl-vec3",["gl-vec3-1.1.3"],(function(a,b,c,d,e,f){e.exports=b("gl-vec3-1.1.3")()}),null);
/**
 * License: https://www.facebook.com/legal/license/t3hOLs8wlXy/
 */
__d("react-is-16.9.0",[],(function(a,b,c,d,e,f){"use strict";var g={},h={exports:g};function i(){Object.defineProperty(g,"__esModule",{value:!0});var a="function"===typeof Symbol&&Symbol["for"],b=a?Symbol["for"]("react.element"):60103,c=a?Symbol["for"]("react.portal"):60106,d=a?Symbol["for"]("react.fragment"):60107,e=a?Symbol["for"]("react.strict_mode"):60108,f=a?Symbol["for"]("react.profiler"):60114,h=a?Symbol["for"]("react.provider"):60109,i=a?Symbol["for"]("react.context"):60110,j=a?Symbol["for"]("react.async_mode"):60111,k=a?Symbol["for"]("react.concurrent_mode"):60111,l=a?Symbol["for"]("react.forward_ref"):60112,m=a?Symbol["for"]("react.suspense"):60113,n=a?Symbol["for"]("react.suspense_list"):60120,o=a?Symbol["for"]("react.memo"):60115,p=a?Symbol["for"]("react.lazy"):60116,q=a?Symbol["for"]("react.fundamental"):60117,r=a?Symbol["for"]("react.responder"):60118;function s(a){if("object"===typeof a&&null!==a){var g=a.$$typeof;switch(g){case b:switch(a=a.type,a){case j:case k:case d:case f:case e:case m:return a;default:switch(a=a&&a.$$typeof,a){case i:case l:case h:return a;default:return g}}case p:case o:case c:return g}}}function t(a){return s(a)===k}g.typeOf=s;g.AsyncMode=j;g.ConcurrentMode=k;g.ContextConsumer=i;g.ContextProvider=h;g.Element=b;g.ForwardRef=l;g.Fragment=d;g.Lazy=p;g.Memo=o;g.Portal=c;g.Profiler=f;g.StrictMode=e;g.Suspense=m;g.isValidElementType=function(a){return"string"===typeof a||"function"===typeof a||a===d||a===k||a===f||a===e||a===m||a===n||"object"===typeof a&&null!==a&&(a.$$typeof===p||a.$$typeof===o||a.$$typeof===h||a.$$typeof===i||a.$$typeof===l||a.$$typeof===q||a.$$typeof===r)};g.isAsyncMode=function(a){return t(a)||s(a)===j};g.isConcurrentMode=t;g.isContextConsumer=function(a){return s(a)===i};g.isContextProvider=function(a){return s(a)===h};g.isElement=function(a){return"object"===typeof a&&null!==a&&a.$$typeof===b};g.isForwardRef=function(a){return s(a)===l};g.isFragment=function(a){return s(a)===d};g.isLazy=function(a){return s(a)===p};g.isMemo=function(a){return s(a)===o};g.isPortal=function(a){return s(a)===c};g.isProfiler=function(a){return s(a)===f};g.isStrictMode=function(a){return s(a)===e};g.isSuspense=function(a){return s(a)===m}}var j=!1;function k(){j||(j=!0,i());return h.exports}b={};var l={exports:b};function m(){l.exports=k()}var n=!1;function o(){n||(n=!0,m());return l.exports}function a(a){switch(a){case void 0:return o()}}e.exports=a}),null);
/**
 * License: https://www.facebook.com/legal/license/9cisb7Fe7ih/
 */
__d("hoist-non-react-statics-3.3.2",["react-is-16.9.0"],(function(a,b,c,d,e,f){"use strict";function a(a){return a&&typeof a==="object"&&"default"in a?a["default"]:a}var g=a(b("react-is-16.9.0"));d={};var h={exports:d};function i(){var a=g(),b={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},c={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},d={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},e={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},f={};f[a.ForwardRef]=d;f[a.Memo]=e;function i(c){return a.isMemo(c)?e:f[c.$$typeof]||b}var j=Object.defineProperty,k=Object.getOwnPropertyNames,l=Object.getOwnPropertySymbols,m=Object.getOwnPropertyDescriptor,n=Object.getPrototypeOf,o=Object.prototype;function p(a,b,d){if(typeof b!=="string"){if(o){var e=n(b);e&&e!==o&&p(a,e,d)}e=k(b);l&&(e=e.concat(l(b)));var f=i(a),g=i(b);for(var h=0;h<e.length;++h){var q=e[h];if(!c[q]&&!(d&&d[q])&&!(g&&g[q])&&!(f&&f[q])){var r=m(b,q);try{j(a,q,r)}catch(a){}}}}return a}h.exports=p}var j=!1;function k(){j||(j=!0,i());return h.exports}function c(a){switch(a){case void 0:return k()}}e.exports=c}),null);
/**
 * License: https://www.facebook.com/legal/license/9cisb7Fe7ih/
 */
__d("immutable-3.7.3",[],(function(a,b,c,d,e,f){"use strict";var g={},h={exports:g},i;function j(){(function(b,c){typeof g==="object"&&typeof h!=="undefined"?h.exports=c():typeof i==="function"&&i.amd?i(c):b.Immutable=c()})(this,function(){var a=Array.prototype.slice;function b(a,b){b&&(a.prototype=Object.create(b.prototype)),a.prototype.constructor=a}var c="delete",d=5,e=1<<d,f=e-1,g={},h={value:!1},i={value:!1};function j(a){a.value=!1;return a}function k(a){a&&(a.value=!0)}function l(){}function m(a,b){b=b||0;var c=Math.max(0,a.length-b),d=new Array(c);for(var e=0;e<c;e++)d[e]=a[e+b];return d}function n(a){a.size===void 0&&(a.size=a.__iterate(p));return a.size}function o(a,b){return b>=0?+b:n(a)+ +b}function p(){return!0}function q(a,b,c){return(a===0||c!==void 0&&a<=-c)&&(b===void 0||c!==void 0&&b>=c)}function r(a,b){return aa(a,b,0)}function s(a,b){return aa(a,b,b)}function aa(a,b,c){return a===void 0?c:a<0?Math.max(0,b+a):b===void 0?a:Math.min(b,a)}function t(a){return x(a)?a:F(a)}b(u,t);function u(a){return y(a)?a:G(a)}b(v,t);function v(a){return z(a)?a:H(a)}b(w,t);function w(a){return x(a)&&!ba(a)?a:I(a)}function x(a){return!!(a&&a[da])}function y(a){return!!(a&&a[ea])}function z(a){return!!(a&&a[fa])}function ba(a){return y(a)||z(a)}function ca(a){return!!(a&&a[ga])}t.isIterable=x;t.isKeyed=y;t.isIndexed=z;t.isAssociative=ba;t.isOrdered=ca;t.Keyed=u;t.Indexed=v;t.Set=w;var da="@@__IMMUTABLE_ITERABLE__@@",ea="@@__IMMUTABLE_KEYED__@@",fa="@@__IMMUTABLE_INDEXED__@@",ga="@@__IMMUTABLE_ORDERED__@@",ha=0,A=1,B=2,ia=typeof Symbol==="function"&&Symbol.iterator,ja="@@iterator",ka=ia||ja;function C(a){this.next=a}C.prototype.toString=function(){return"[Iterator]"};C.KEYS=ha;C.VALUES=A;C.ENTRIES=B;C.prototype.inspect=C.prototype.toSource=function(){return this.toString()};C.prototype[ka]=function(){return this};function D(a,b,c,d){a=a===0?b:a===1?c:[b,c];d?d.value=a:d={value:a,done:!1};return d}function E(){return{value:void 0,done:!0}}function la(a){return!!oa(a)}function ma(a){return a&&typeof a.next==="function"}function na(a){var b=oa(a);return b&&b.call(a)}function oa(a){a=a&&(ia&&a[ia]||a[ja]);if(typeof a==="function")return a}function pa(a){return a&&typeof a.length==="number"}b(F,t);function F(a){return a===null||a===void 0?xa():x(a)?a.toSeq():Aa(a)}F.of=function(){return F(arguments)};F.prototype.toSeq=function(){return this};F.prototype.toString=function(){return this.__toString("Seq {","}")};F.prototype.cacheResult=function(){!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length);return this};F.prototype.__iterate=function(a,b){return Ca(this,a,b,!0)};F.prototype.__iterator=function(a,b){return Da(this,a,b,!0)};b(G,F);function G(a){return a===null||a===void 0?xa().toKeyedSeq():x(a)?y(a)?a.toSeq():a.fromEntrySeq():ya(a)}G.prototype.toKeyedSeq=function(){return this};b(H,F);function H(a){return a===null||a===void 0?xa():x(a)?y(a)?a.entrySeq():a.toIndexedSeq():za(a)}H.of=function(){return H(arguments)};H.prototype.toIndexedSeq=function(){return this};H.prototype.toString=function(){return this.__toString("Seq [","]")};H.prototype.__iterate=function(a,b){return Ca(this,a,b,!1)};H.prototype.__iterator=function(a,b){return Da(this,a,b,!1)};b(I,F);function I(a){return(a===null||a===void 0?xa():x(a)?y(a)?a.entrySeq():a:za(a)).toSetSeq()}I.of=function(){return I(arguments)};I.prototype.toSetSeq=function(){return this};F.isSeq=va;F.Keyed=G;F.Set=I;F.Indexed=H;var qa="@@__IMMUTABLE_SEQ__@@";F.prototype[qa]=!0;b(ra,H);function ra(a){this._array=a,this.size=a.length}ra.prototype.get=function(a,b){return this.has(a)?this._array[o(this,a)]:b};ra.prototype.__iterate=function(a,b){var c=this._array,d=c.length-1;for(var e=0;e<=d;e++)if(a(c[b?d-e:e],e,this)===!1)return e+1;return e};ra.prototype.__iterator=function(a,b){var c=this._array,d=c.length-1,e=0;return new C(function(){return e>d?E():D(a,e,c[b?d-e++:e++])})};b(sa,G);function sa(a){var b=Object.keys(a);this._object=a;this._keys=b;this.size=b.length}sa.prototype.get=function(a,b){return b!==void 0&&!this.has(a)?b:this._object[a]};sa.prototype.has=function(a){return this._object.hasOwnProperty(a)};sa.prototype.__iterate=function(a,b){var c=this._object,d=this._keys,e=d.length-1;for(var f=0;f<=e;f++){var g=d[b?e-f:f];if(a(c[g],g,this)===!1)return f+1}return f};sa.prototype.__iterator=function(a,b){var c=this._object,d=this._keys,e=d.length-1,f=0;return new C(function(){var g=d[b?e-f:f];return f++>e?E():D(a,g,c[g])})};sa.prototype[ga]=!0;b(ta,H);function ta(a){this._iterable=a,this.size=a.length||a.size}ta.prototype.__iterateUncached=function(a,b){if(b)return this.cacheResult().__iterate(a,b);b=this._iterable;b=na(b);var c=0;if(ma(b)){var d;while(!(d=b.next()).done)if(a(d.value,c++,this)===!1)break}return c};ta.prototype.__iteratorUncached=function(a,b){if(b)return this.cacheResult().__iterator(a,b);b=this._iterable;var c=na(b);if(!ma(c))return new C(E);var d=0;return new C(function(){var b=c.next();return b.done?b:D(a,d++,b.value)})};b(ua,H);function ua(a){this._iterator=a,this._iteratorCache=[]}ua.prototype.__iterateUncached=function(a,b){if(b)return this.cacheResult().__iterate(a,b);b=this._iterator;var c=this._iteratorCache,d=0;while(d<c.length)if(a(c[d],d++,this)===!1)return d;var e;while(!(e=b.next()).done){e=e.value;c[d]=e;if(a(e,d++,this)===!1)break}return d};ua.prototype.__iteratorUncached=function(a,b){if(b)return this.cacheResult().__iterator(a,b);var c=this._iterator,d=this._iteratorCache,e=0;return new C(function(){if(e>=d.length){var b=c.next();if(b.done)return b;d[e]=b.value}return D(a,e,d[e++])})};function va(a){return!!(a&&a[qa])}var wa;function xa(){return wa||(wa=new ra([]))}function ya(a){var b=Array.isArray(a)?new ra(a).fromEntrySeq():ma(a)?new ua(a).fromEntrySeq():la(a)?new ta(a).fromEntrySeq():typeof a==="object"?new sa(a):void 0;if(!b)throw new TypeError("Expected Array or iterable object of [k, v] entries, or keyed object: "+a);return b}function za(a){var b=Ba(a);if(!b)throw new TypeError("Expected Array or iterable object of values: "+a);return b}function Aa(a){var b=Ba(a)||typeof a==="object"&&new sa(a);if(!b)throw new TypeError("Expected Array or iterable object of values, or keyed object: "+a);return b}function Ba(a){return pa(a)?new ra(a):ma(a)?new ua(a):la(a)?new ta(a):void 0}function Ca(a,b,c,d){var e=a._cache;if(e){var f=e.length-1;for(var g=0;g<=f;g++){var h=e[c?f-g:g];if(b(h[1],d?h[0]:g,a)===!1)return g+1}return g}return a.__iterateUncached(b,c)}function Da(a,b,c,d){var e=a._cache;if(e){var f=e.length-1,g=0;return new C(function(){var a=e[c?f-g:g];return g++>f?E():D(b,d?a[0]:g-1,a[1])})}return a.__iteratorUncached(b,c)}b(Ea,t);function Ea(){throw TypeError("Abstract")}b(Fa,Ea);function Fa(){}b(Ga,Ea);function Ga(){}b(Ha,Ea);function Ha(){}Ea.Keyed=Fa;Ea.Indexed=Ga;Ea.Set=Ha;function J(a,b){if(a===b||a!==a&&b!==b)return!0;if(!a||!b)return!1;if(typeof a.valueOf==="function"&&typeof b.valueOf==="function"){a=a.valueOf();b=b.valueOf();if(a===b||a!==a&&b!==b)return!0;if(!a||!b)return!1}return typeof a.equals==="function"&&typeof b.equals==="function"&&a.equals(b)?!0:!1}function Ia(a,b){return b?Ja(b,a,"",{"":a}):Ka(a)}function Ja(a,b,c,d){if(Array.isArray(b))return a.call(d,c,H(b).map(function(c,d){return Ja(a,c,d,b)}));return La(b)?a.call(d,c,G(b).map(function(c,d){return Ja(a,c,d,b)})):b}function Ka(a){if(Array.isArray(a))return H(a).map(Ka).toList();return La(a)?G(a).map(Ka).toMap():a}function La(a){return a&&(a.constructor===Object||a.constructor===void 0)}var Ma=typeof Math.imul==="function"&&Math.imul(4294967295,2)===-2?Math.imul:function(a,b){a=a|0;b=b|0;var c=a&65535,d=b&65535;return c*d+((a>>>16)*d+c*(b>>>16)<<16>>>0)|0};function Na(a){return a>>>1&1073741824|a&3221225471}function K(a){if(a===!1||a===null||a===void 0)return 0;if(typeof a.valueOf==="function"){a=a.valueOf();if(a===!1||a===null||a===void 0)return 0}if(a===!0)return 1;var b=typeof a;if(b==="number"){var c=a|0;c!==a&&(c^=a*4294967295);while(a>4294967295)a/=4294967295,c^=a;return Na(c)}if(b==="string")return a.length>Ya?Oa(a):Pa(a);return typeof a.hashCode==="function"?a.hashCode():Qa(a)}function Oa(b){var a=ab[b];a===void 0&&(a=Pa(b),$a===Za&&($a=0,ab={}),$a++,ab[b]=a);return a}function Pa(b){var a=0;for(var c=0;c<b.length;c++)a=31*a+b.charCodeAt(c)|0;return Na(a)}function Qa(b){var a;if(Ua){a=Va.get(b);if(a!==void 0)return a}a=b[Xa];if(a!==void 0)return a;if(!Sa){a=b.propertyIsEnumerable&&b.propertyIsEnumerable[Xa];if(a!==void 0)return a;a=Ta(b);if(a!==void 0)return a}a=++Wa;Wa&1073741824&&(Wa=0);if(Ua)Va.set(b,a);else if(Ra!==void 0&&Ra(b)===!1)throw new Error("Non-extensible objects are not allowed as keys.");else if(Sa)Object.defineProperty(b,Xa,{enumerable:!1,configurable:!1,writable:!1,value:a});else if(b.propertyIsEnumerable!==void 0&&b.propertyIsEnumerable===b.constructor.prototype.propertyIsEnumerable)b.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},b.propertyIsEnumerable[Xa]=a;else if(b.nodeType!==void 0)b[Xa]=a;else throw new Error("Unable to set a non-enumerable property on object.");return a}var Ra=Object.isExtensible,Sa=function(){try{Object.defineProperty({},"@",{});return!0}catch(a){return!1}}();function Ta(a){if(a&&a.nodeType>0)switch(a.nodeType){case 1:return a.uniqueID;case 9:return a.documentElement&&a.documentElement.uniqueID}}var Ua=typeof WeakMap==="function",Va;Ua&&(Va=new WeakMap());var Wa=0,Xa="__immutablehash__";typeof Symbol==="function"&&(Xa=Symbol(Xa));var Ya=16,Za=255,$a=0,ab={};function bb(a,b){if(!a)throw new Error(b)}function L(a){bb(a!==Infinity,"Cannot perform this action with an infinite size.")}b(M,G);function M(a,b){this._iter=a,this._useKeys=b,this.size=a.size}M.prototype.get=function(a,b){return this._iter.get(a,b)};M.prototype.has=function(a){return this._iter.has(a)};M.prototype.valueSeq=function(){return this._iter.valueSeq()};M.prototype.reverse=function(){var a=this,b=hb(this,!0);this._useKeys||(b.valueSeq=function(){return a._iter.toSeq().reverse()});return b};M.prototype.map=function(a,b){var c=this,d=gb(this,a,b);this._useKeys||(d.valueSeq=function(){return c._iter.toSeq().map(a,b)});return d};M.prototype.__iterate=function(a,b){var c=this,d;return this._iter.__iterate(this._useKeys?function(b,d){return a(b,d,c)}:(d=b?xb(this):0,function(e){return a(e,b?--d:d++,c)}),b)};M.prototype.__iterator=function(a,b){if(this._useKeys)return this._iter.__iterator(a,b);var c=this._iter.__iterator(A,b),d=b?xb(this):0;return new C(function(){var e=c.next();return e.done?e:D(a,b?--d:d++,e.value,e)})};M.prototype[ga]=!0;b(cb,H);function cb(a){this._iter=a,this.size=a.size}cb.prototype.includes=function(a){return this._iter.includes(a)};cb.prototype.__iterate=function(a,b){var c=this,d=0;return this._iter.__iterate(function(b){return a(b,d++,c)},b)};cb.prototype.__iterator=function(a,b){var c=this._iter.__iterator(A,b),d=0;return new C(function(){var b=c.next();return b.done?b:D(a,d++,b.value,b)})};b(db,I);function db(a){this._iter=a,this.size=a.size}db.prototype.has=function(a){return this._iter.includes(a)};db.prototype.__iterate=function(a,b){var c=this;return this._iter.__iterate(function(b){return a(b,b,c)},b)};db.prototype.__iterator=function(a,b){var c=this._iter.__iterator(A,b);return new C(function(){var b=c.next();return b.done?b:D(a,b.value,b.value,b)})};b(eb,G);function eb(a){this._iter=a,this.size=a.size}eb.prototype.entrySeq=function(){return this._iter.toSeq()};eb.prototype.__iterate=function(a,b){var c=this;return this._iter.__iterate(function(b){if(b){wb(b);var d=x(b);return a(d?b.get(1):b[1],d?b.get(0):b[0],c)}},b)};eb.prototype.__iterator=function(a,b){var c=this._iter.__iterator(A,b);return new C(function(){while(!0){var b=c.next();if(b.done)return b;var d=b.value;if(d){wb(d);var e=x(d);return D(a,e?d.get(0):d[0],e?d.get(1):d[1],b)}}})};cb.prototype.cacheResult=M.prototype.cacheResult=db.prototype.cacheResult=eb.prototype.cacheResult=Ab;function fb(a){var b=zb(a);b._iter=a;b.size=a.size;b.flip=function(){return a};b.reverse=function(){var b=a.reverse.apply(this);b.flip=function(){return a.reverse()};return b};b.has=function(b){return a.includes(b)};b.includes=function(b){return a.has(b)};b.cacheResult=Ab;b.__iterateUncached=function(b,c){var d=this;return a.__iterate(function(a,c){return b(c,a,d)!==!1},c)};b.__iteratorUncached=function(b,c){if(b===B){var d=a.__iterator(b,c);return new C(function(){var a=d.next();if(!a.done){var b=a.value[0];a.value[0]=a.value[1];a.value[1]=b}return a})}return a.__iterator(b===A?ha:A,c)};return b}function gb(a,b,c){var d=zb(a);d.size=a.size;d.has=function(b){return a.has(b)};d.get=function(d,e){var f=a.get(d,g);return f===g?e:b.call(c,f,d,a)};d.__iterateUncached=function(d,e){var f=this;return a.__iterate(function(a,e,g){return d(b.call(c,a,e,g),e,f)!==!1},e)};d.__iteratorUncached=function(d,e){var f=a.__iterator(B,e);return new C(function(){var e=f.next();if(e.done)return e;var g=e.value,h=g[0];return D(d,h,b.call(c,g[1],h,a),e)})};return d}function hb(a,b){var c=zb(a);c._iter=a;c.size=a.size;c.reverse=function(){return a};a.flip&&(c.flip=function(){var b=fb(a);b.reverse=function(){return a.flip()};return b});c.get=function(c,d){return a.get(b?c:-1-c,d)};c.has=function(c){return a.has(b?c:-1-c)};c.includes=function(b){return a.includes(b)};c.cacheResult=Ab;c.__iterate=function(b,c){var d=this;return a.__iterate(function(a,c){return b(a,c,d)},!c)};c.__iterator=function(b,c){return a.__iterator(b,!c)};return c}function ib(a,b,c,d){var e=zb(a);d&&(e.has=function(d){var e=a.get(d,g);return e!==g&&!!b.call(c,e,d,a)},e.get=function(d,e){var f=a.get(d,g);return f!==g&&b.call(c,f,d,a)?f:e});e.__iterateUncached=function(e,f){var g=this,h=0;a.__iterate(function(a,f,i){if(b.call(c,a,f,i)){h++;return e(a,d?f:h-1,g)}},f);return h};e.__iteratorUncached=function(e,f){var g=a.__iterator(B,f),h=0;return new C(function(){while(!0){var f=g.next();if(f.done)return f;var i=f.value,j=i[0];i=i[1];if(b.call(c,i,j,a))return D(e,d?j:h++,i,f)}})};return e}function jb(a,b,c){var d=O().asMutable();a.__iterate(function(e,f){d.update(b.call(c,e,f,a),0,function(a){return a+1})});return d.asImmutable()}function kb(a,b,c){var d=y(a),e=(ca(a)?S():O()).asMutable();a.__iterate(function(f,g){e.update(b.call(c,f,g,a),function(a){return a=a||[],a.push(d?[g,f]:f),a})});var f=yb(a);return e.map(function(b){return N(a,f(b))})}function lb(a,b,c,d){var e=a.size;if(q(b,c,e))return a;var f=r(b,e);e=s(c,e);if(f!==f||e!==e)return lb(a.toSeq().cacheResult(),b,c,d);b=e-f;var g;b===b&&(g=b<0?0:b);c=zb(a);c.size=g;!d&&va(a)&&g>=0&&(c.get=function(b,c){b=o(this,b);return b>=0&&b<g?a.get(b+f,c):c});c.__iterateUncached=function(b,c){var e=this;if(g===0)return 0;if(c)return this.cacheResult().__iterate(b,c);var h=0,i=!0,j=0;a.__iterate(function(a,c){if(!(i&&(i=h++<f))){j++;return b(a,d?c:j-1,e)!==!1&&j!==g}});return j};c.__iteratorUncached=function(b,c){if(g!==0&&c)return this.cacheResult().__iterator(b,c);var e=g!==0&&a.__iterator(b,c),h=0,i=0;return new C(function(){while(h++<f)e.next();if(++i>g)return E();var a=e.next();if(d||b===A)return a;else if(b===ha)return D(b,i-1,void 0,a);else return D(b,i-1,a.value[1],a)})};return c}function mb(a,b,c){var d=zb(a);d.__iterateUncached=function(d,e){var f=this;if(e)return this.cacheResult().__iterate(d,e);var g=0;a.__iterate(function(a,e,h){return b.call(c,a,e,h)&&++g&&d(a,e,f)});return g};d.__iteratorUncached=function(d,e){var f=this;if(e)return this.cacheResult().__iterator(d,e);var g=a.__iterator(B,e),h=!0;return new C(function(){if(!h)return E();var a=g.next();if(a.done)return a;var e=a.value,i=e[0];e=e[1];if(!b.call(c,e,i,f)){h=!1;return E()}return d===B?a:D(d,i,e,a)})};return d}function nb(a,b,c,d){var e=zb(a);e.__iterateUncached=function(e,f){var g=this;if(f)return this.cacheResult().__iterate(e,f);var h=!0,i=0;a.__iterate(function(a,f,j){if(!(h&&(h=b.call(c,a,f,j)))){i++;return e(a,d?f:i-1,g)}});return i};e.__iteratorUncached=function(e,f){var g=this;if(f)return this.cacheResult().__iterator(e,f);var h=a.__iterator(B,f),i=!0,j=0;return new C(function(){var a,f;do{a=h.next();if(a.done)if(d||e===A)return a;else if(e===ha)return D(e,j++,void 0,a);else return D(e,j++,a.value[1],a);var k=a.value;f=k[0];k=k[1];i&&(i=b.call(c,k,f,g))}while(i);return e===B?a:D(e,f,k,a)})};return e}function ob(a,b){var c=y(a);b=[a].concat(b).map(function(a){!x(a)?a=c?ya(a):za(Array.isArray(a)?a:[a]):c&&(a=u(a));return a}).filter(function(a){return a.size!==0});if(b.length===0)return a;if(b.length===1){var d=b[0];if(d===a||c&&y(d)||z(a)&&z(d))return d}d=new ra(b);c?d=d.toKeyedSeq():z(a)||(d=d.toSetSeq());d=d.flatten(!0);d.size=b.reduce(function(a,b){if(a!==void 0){b=b.size;if(b!==void 0)return a+b}},0);return d}function pb(a,b,c){var d=zb(a);d.__iterateUncached=function(d,e){var f=0,g=!1;function h(a,i){var j=this;a.__iterate(function(a,e){(!b||i<b)&&x(a)?h(a,i+1):d(a,c?e:f++,j)===!1&&(g=!0);return!g},e)}h(a,0);return f};d.__iteratorUncached=function(d,e){var f=a.__iterator(d,e),g=[],h=0;return new C(function(){while(f){var a=f.next();if(a.done!==!1){f=g.pop();continue}var i=a.value;d===B&&(i=i[1]);if((!b||g.length<b)&&x(i))g.push(f),f=i.__iterator(d,e);else return c?a:D(d,h++,i,a)}return E()})};return d}function qb(a,b,c){var d=yb(a);return a.toSeq().map(function(e,f){return d(b.call(c,e,f,a))}).flatten(!0)}function rb(a,b){var c=zb(a);c.size=a.size&&a.size*2-1;c.__iterateUncached=function(c,d){var e=this,f=0;a.__iterate(function(a,d){return(!f||c(b,f++,e)!==!1)&&c(a,f++,e)!==!1},d);return f};c.__iteratorUncached=function(c,d){var e=a.__iterator(A,d),f=0,g;return new C(function(){if(!g||f%2){g=e.next();if(g.done)return g}return f%2?D(c,f++,b):D(c,f++,g.value,g)})};return c}function sb(a,b,c){b||(b=Bb);var d=y(a),e=0,f=a.toSeq().map(function(b,d){return[d,b,e++,c?c(b,d,a):b]}).toArray();f.sort(function(a,c){return b(a[3],c[3])||a[2]-c[2]}).forEach(d?function(a,b){f[b].length=2}:function(a,b){f[b]=a[1]});return d?G(f):z(a)?H(f):I(f)}function tb(a,b,c){b||(b=Bb);if(c){var d=a.toSeq().map(function(b,d){return[b,c(b,d,a)]}).reduce(function(a,c){return ub(b,a[1],c[1])?c:a});return d&&d[0]}else return a.reduce(function(a,c){return ub(b,a,c)?c:a})}function ub(a,b,c){a=a(c,b);return a===0&&c!==b&&(c===void 0||c===null||c!==c)||a>0}function vb(a,b,c){a=zb(a);a.size=new ra(c).map(function(a){return a.size}).min();a.__iterate=function(a,b){b=this.__iterator(A,b);var c,d=0;while(!(c=b.next()).done)if(a(c.value,d++,this)===!1)break;return d};a.__iteratorUncached=function(a,d){var e=c.map(function(a){return a=t(a),na(d?a.reverse():a)}),f=0,g=!1;return new C(function(){var c;g||(c=e.map(function(a){return a.next()}),g=c.some(function(a){return a.done}));return g?E():D(a,f++,b.apply(null,c.map(function(a){return a.value})))})};return a}function N(a,b){return va(a)?b:a.constructor(b)}function wb(a){if(a!==Object(a))throw new TypeError("Expected [K, V] tuple: "+a)}function xb(a){L(a.size);return n(a)}function yb(a){return y(a)?u:z(a)?v:w}function zb(a){return Object.create((y(a)?G:z(a)?H:I).prototype)}function Ab(){if(this._iter.cacheResult){this._iter.cacheResult();this.size=this._iter.size;return this}else return F.prototype.cacheResult.call(this)}function Bb(a,b){return a>b?1:a<b?-1:0}function Cb(a){var b=na(a);if(!b){if(!pa(a))throw new TypeError("Expected iterable or array-like: "+a);b=na(t(a))}return b}b(O,Fa);function O(a){return a===null||a===void 0?Pb():Db(a)?a:Pb().withMutations(function(b){var c=u(a);L(c.size);c.forEach(function(a,c){return b.set(c,a)})})}O.prototype.toString=function(){return this.__toString("Map {","}")};O.prototype.get=function(a,b){return this._root?this._root.get(0,void 0,a,b):b};O.prototype.set=function(a,b){return Qb(this,a,b)};O.prototype.setIn=function(a,b){return this.updateIn(a,g,function(){return b})};O.prototype.remove=function(a){return Qb(this,a,g)};O.prototype.deleteIn=function(a){return this.updateIn(a,function(){return g})};O.prototype.update=function(a,b,c){return arguments.length===1?a(this):this.updateIn([a],b,c)};O.prototype.updateIn=function(a,b,c){c||(c=b,b=void 0);a=$b(this,Cb(a),b,c);return a===g?void 0:a};O.prototype.clear=function(){if(this.size===0)return this;if(this.__ownerID){this.size=0;this._root=null;this.__hash=void 0;this.__altered=!0;return this}return Pb()};O.prototype.merge=function(){return Xb(this,void 0,arguments)};O.prototype.mergeWith=function(b){var c=a.call(arguments,1);return Xb(this,b,c)};O.prototype.mergeIn=function(b){var c=a.call(arguments,1);return this.updateIn(b,Pb(),function(a){return typeof a.merge==="function"?a.merge.apply(a,c):c[c.length-1]})};O.prototype.mergeDeep=function(){return Xb(this,Yb(void 0),arguments)};O.prototype.mergeDeepWith=function(b){var c=a.call(arguments,1);return Xb(this,Yb(b),c)};O.prototype.mergeDeepIn=function(b){var c=a.call(arguments,1);return this.updateIn(b,Pb(),function(a){return typeof a.mergeDeep==="function"?a.mergeDeep.apply(a,c):c[c.length-1]})};O.prototype.sort=function(a){return S(sb(this,a))};O.prototype.sortBy=function(a,b){return S(sb(this,b,a))};O.prototype.withMutations=function(a){var b=this.asMutable();a(b);return b.wasAltered()?b.__ensureOwner(this.__ownerID):this};O.prototype.asMutable=function(){return this.__ownerID?this:this.__ensureOwner(new l())};O.prototype.asImmutable=function(){return this.__ensureOwner()};O.prototype.wasAltered=function(){return this.__altered};O.prototype.__iterator=function(a,b){return new Kb(this,a,b)};O.prototype.__iterate=function(a,b){var c=this,d=0;this._root&&this._root.iterate(function(b){d++;return a(b[1],b[0],c)},b);return d};O.prototype.__ensureOwner=function(a){if(a===this.__ownerID)return this;if(!a){this.__ownerID=a;this.__altered=!1;return this}return Nb(this.size,this._root,a,this.__hash)};function Db(a){return!!(a&&a[Eb])}O.isMap=Db;var Eb="@@__IMMUTABLE_MAP__@@",P=O.prototype;P[Eb]=!0;P[c]=P.remove;P.removeIn=P.deleteIn;function Fb(a,b){this.ownerID=a,this.entries=b}Fb.prototype.get=function(a,b,c,d){a=this.entries;for(var b=0,e=a.length;b<e;b++)if(J(c,a[b][0]))return a[b][1];return d};Fb.prototype.update=function(a,b,c,d,e,f,h){b=e===g;c=this.entries;var i=0;for(var j=c.length;i<j;i++)if(J(d,c[i][0]))break;var l=i<j;if(l?c[i][1]===e:b)return this;k(h);(b||!l)&&k(f);if(b&&c.length===1)return;if(!l&&!b&&c.length>=ec)return Ub(a,c,d,e);h=a&&a===this.ownerID;f=h?c:m(c);l?b?i===j-1?f.pop():f[i]=f.pop():f[i]=[d,e]:f.push([d,e]);if(h){this.entries=f;return this}return new Fb(a,f)};function Gb(a,b,c){this.ownerID=a,this.bitmap=b,this.nodes=c}Gb.prototype.get=function(a,b,c,e){b===void 0&&(b=K(c));var g=1<<((a===0?b:b>>>a)&f),h=this.bitmap;return(h&g)===0?e:this.nodes[ac(h&g-1)].get(a+d,b,c,e)};Gb.prototype.update=function(a,b,c,e,h,i,j){c===void 0&&(c=K(e));var k=(b===0?c:c>>>b)&f,l=1<<k,m=this.bitmap,n=(m&l)!==0;if(!n&&h===g)return this;var o=ac(m&l-1),p=this.nodes,q=n?p[o]:void 0;b=Rb(q,a,b+d,c,e,h,i,j);if(b===q)return this;if(!n&&b&&p.length>=fc)return Wb(a,p,m,k,b);if(n&&!b&&p.length===2&&Sb(p[o^1]))return p[o^1];if(n&&b&&p.length===1&&Sb(b))return b;c=a&&a===this.ownerID;e=n?b?m:m^l:m|l;h=n?b?bc(p,o,b,c):dc(p,o,c):cc(p,o,b,c);if(c){this.bitmap=e;this.nodes=h;return this}return new Gb(a,e,h)};function Hb(a,b,c){this.ownerID=a,this.count=b,this.nodes=c}Hb.prototype.get=function(a,b,c,e){b===void 0&&(b=K(c));var g=(a===0?b:b>>>a)&f;g=this.nodes[g];return g?g.get(a+d,b,c,e):e};Hb.prototype.update=function(a,b,c,e,h,i,j){c===void 0&&(c=K(e));var k=(b===0?c:c>>>b)&f,l=h===g,m=this.nodes,n=m[k];if(l&&!n)return this;l=Rb(n,a,b+d,c,e,h,i,j);if(l===n)return this;b=this.count;if(!n)b++;else if(!l){b--;if(b<gc)return Vb(a,m,b,k)}c=a&&a===this.ownerID;e=bc(m,k,l,c);if(c){this.count=b;this.nodes=e;return this}return new Hb(a,b,e)};function Ib(a,b,c){this.ownerID=a,this.keyHash=b,this.entries=c}Ib.prototype.get=function(a,b,c,d){a=this.entries;for(var b=0,e=a.length;b<e;b++)if(J(c,a[b][0]))return a[b][1];return d};Ib.prototype.update=function(a,b,c,d,e,f,h){c===void 0&&(c=K(d));var i=e===g;if(c!==this.keyHash){if(i)return this;k(h);k(f);return Tb(this,a,b,c,[d,e])}b=this.entries;c=0;for(var j=b.length;c<j;c++)if(J(d,b[c][0]))break;var l=c<j;if(l?b[c][1]===e:i)return this;k(h);(i||!l)&&k(f);if(i&&j===2)return new Jb(a,this.keyHash,b[c^1]);h=a&&a===this.ownerID;f=h?b:m(b);l?i?c===j-1?f.pop():f[c]=f.pop():f[c]=[d,e]:f.push([d,e]);if(h){this.entries=f;return this}return new Ib(a,this.keyHash,f)};function Jb(a,b,c){this.ownerID=a,this.keyHash=b,this.entry=c}Jb.prototype.get=function(a,b,c,d){return J(c,this.entry[0])?this.entry[1]:d};Jb.prototype.update=function(a,b,c,d,e,f,h){c=e===g;var i=J(d,this.entry[0]);if(i?e===this.entry[1]:c)return this;k(h);if(c){k(f);return}if(i){if(a&&a===this.ownerID){this.entry[1]=e;return this}return new Jb(a,this.keyHash,[d,e])}k(f);return Tb(this,a,b,K(d),[d,e])};Fb.prototype.iterate=Ib.prototype.iterate=function(a,b){var c=this.entries;for(var d=0,e=c.length-1;d<=e;d++)if(a(c[b?e-d:d])===!1)return!1};Gb.prototype.iterate=Hb.prototype.iterate=function(a,b){var c=this.nodes;for(var d=0,e=c.length-1;d<=e;d++){var f=c[b?e-d:d];if(f&&f.iterate(a,b)===!1)return!1}};Jb.prototype.iterate=function(a,b){return a(this.entry)};b(Kb,C);function Kb(a,b,c){this._type=b,this._reverse=c,this._stack=a._root&&Mb(a._root)}Kb.prototype.next=function(){var a=this._type,b=this._stack;while(b){var c=b.node,d=b.index++,e;if(c.entry){if(d===0)return Lb(a,c.entry)}else if(c.entries){e=c.entries.length-1;if(d<=e)return Lb(a,c.entries[this._reverse?e-d:d])}else{e=c.nodes.length-1;if(d<=e){c=c.nodes[this._reverse?e-d:d];if(c){if(c.entry)return Lb(a,c.entry);b=this._stack=Mb(c,b)}continue}}b=this._stack=this._stack.__prev}return E()};function Lb(a,b){return D(a,b[0],b[1])}function Mb(a,b){return{node:a,index:0,__prev:b}}function Nb(b,c,d,a){var e=Object.create(P);e.size=b;e._root=c;e.__ownerID=d;e.__hash=a;e.__altered=!1;return e}var Ob;function Pb(){return Ob||(Ob=Nb(0))}function Qb(a,b,c){var d,e;if(!a._root){if(c===g)return a;e=1;d=new Fb(a.__ownerID,[[b,c]])}else{var f=j(h),k=j(i);d=Rb(a._root,a.__ownerID,0,void 0,b,c,f,k);if(!k.value)return a;e=a.size+(f.value?c===g?-1:1:0)}if(a.__ownerID){a.size=e;a._root=d;a.__hash=void 0;a.__altered=!0;return a}return d?Nb(e,d):Pb()}function Rb(a,b,c,d,e,f,h,i){if(!a){if(f===g)return a;k(i);k(h);return new Jb(b,d,[e,f])}return a.update(b,c,d,e,f,h,i)}function Sb(a){return a.constructor===Jb||a.constructor===Ib}function Tb(a,b,c,e,g){if(a.keyHash===e)return new Ib(b,e,[a.entry,g]);var h=(c===0?a.keyHash:a.keyHash>>>c)&f,i=(c===0?e:e>>>c)&f;e=h===i?[Tb(a,b,c+d,e,g)]:(c=new Jb(b,e,g),h<i?[a,c]:[c,a]);return new Gb(b,1<<h|1<<i,e)}function Ub(a,b,c,d){a||(a=new l());c=new Jb(a,K(c),[c,d]);for(d=0;d<b.length;d++){var e=b[d];c=c.update(a,0,void 0,e[0],e[1])}return c}function Vb(a,b,c,d){var e=0,f=0;c=new Array(c);for(var g=0,h=1,i=b.length;g<i;g++,h<<=1){var j=b[g];j!==void 0&&g!==d&&(e|=h,c[f++]=j)}return new Gb(a,e,c)}function Wb(a,b,c,d,f){var g=0,h=new Array(e);for(var i=0;c!==0;i++,c>>>=1)h[i]=c&1?b[g++]:void 0;h[d]=f;return new Hb(a,g+1,h)}function Xb(a,b,c){var d=[];for(var e=0;e<c.length;e++){var f=c[e],g=u(f);x(f)||(g=g.map(function(a){return Ia(a)}));d.push(g)}return Zb(a,b,d)}function Yb(a){return function(b,c,d){return b&&b.mergeDeepWith&&x(c)?b.mergeDeepWith(a,c):a?a(b,c,d):c}}function Zb(a,b,c){c=c.filter(function(a){return a.size!==0});if(c.length===0)return a;return a.size===0&&!a.__ownerID&&c.length===1?a.constructor(c[0]):a.withMutations(function(a){var d=b?function(c,d){a.update(d,g,function(a){return a===g?c:b(a,c,d)})}:function(b,c){a.set(c,b)};for(var e=0;e<c.length;e++)c[e].forEach(d)})}function $b(a,b,c,d){var e=a===g,f=b.next();if(f.done){var h=e?c:a,i=d(h);return i===h?a:i}bb(e||a&&a.set,"invalid keyPath");h=f.value;i=e?g:a.get(h,g);f=$b(i,b,c,d);return f===i?a:f===g?a.remove(h):(e?Pb():a).set(h,f)}function ac(a){a=a-(a>>1&1431655765);a=(a&858993459)+(a>>2&858993459);a=a+(a>>4)&252645135;a=a+(a>>8);a=a+(a>>16);return a&127}function bc(a,b,c,d){d=d?a:m(a);d[b]=c;return d}function cc(a,b,c,d){var e=a.length+1;if(d&&b+1===e){a[b]=c;return a}d=new Array(e);var f=0;for(var g=0;g<e;g++)g===b?(d[g]=c,f=-1):d[g]=a[g+f];return d}function dc(a,b,c){var d=a.length-1;if(c&&b===d){a.pop();return a}c=new Array(d);var e=0;for(var f=0;f<d;f++)f===b&&(e=1),c[f]=a[f+e];return c}var ec=e/4,fc=e/2,gc=e/4;b(Q,Ga);function Q(a){var b=oc();if(a===null||a===void 0)return b;if(hc(a))return a;var c=v(a),f=c.size;if(f===0)return b;L(f);return f>0&&f<e?mc(0,f,d,null,new jc(c.toArray())):b.withMutations(function(a){a.setSize(f),c.forEach(function(b,c){return a.set(c,b)})})}Q.of=function(){return this(arguments)};Q.prototype.toString=function(){return this.__toString("List [","]")};Q.prototype.get=function(a,b){a=o(this,a);if(a<0||a>=this.size)return b;a+=this._origin;b=sc(this,a);return b&&b.array[a&f]};Q.prototype.set=function(a,b){return pc(this,a,b)};Q.prototype.remove=function(a){return this.has(a)?a===0?this.shift():a===this.size-1?this.pop():this.splice(a,1):this};Q.prototype.clear=function(){if(this.size===0)return this;if(this.__ownerID){this.size=this._origin=this._capacity=0;this._level=d;this._root=this._tail=null;this.__hash=void 0;this.__altered=!0;return this}return oc()};Q.prototype.push=function(){var a=arguments,b=this.size;return this.withMutations(function(c){tc(c,0,b+a.length);for(var d=0;d<a.length;d++)c.set(b+d,a[d])})};Q.prototype.pop=function(){return tc(this,0,-1)};Q.prototype.unshift=function(){var a=arguments;return this.withMutations(function(b){tc(b,-a.length);for(var c=0;c<a.length;c++)b.set(c,a[c])})};Q.prototype.shift=function(){return tc(this,1)};Q.prototype.merge=function(){return uc(this,void 0,arguments)};Q.prototype.mergeWith=function(b){var c=a.call(arguments,1);return uc(this,b,c)};Q.prototype.mergeDeep=function(){return uc(this,Yb(void 0),arguments)};Q.prototype.mergeDeepWith=function(b){var c=a.call(arguments,1);return uc(this,Yb(b),c)};Q.prototype.setSize=function(a){return tc(this,0,a)};Q.prototype.slice=function(a,b){var c=this.size;return q(a,b,c)?this:tc(this,r(a,c),s(b,c))};Q.prototype.__iterator=function(a,b){var c=0,d=lc(this,b);return new C(function(){var b=d();return b===kc?E():D(a,c++,b)})};Q.prototype.__iterate=function(a,b){var c=0;b=lc(this,b);var d;while((d=b())!==kc)if(a(d,c++,this)===!1)break;return c};Q.prototype.__ensureOwner=function(a){if(a===this.__ownerID)return this;if(!a){this.__ownerID=a;return this}return mc(this._origin,this._capacity,this._level,this._root,this._tail,a,this.__hash)};function hc(a){return!!(a&&a[ic])}Q.isList=hc;var ic="@@__IMMUTABLE_LIST__@@",R=Q.prototype;R[ic]=!0;R[c]=R.remove;R.setIn=P.setIn;R.deleteIn=R.removeIn=P.removeIn;R.update=P.update;R.updateIn=P.updateIn;R.mergeIn=P.mergeIn;R.mergeDeepIn=P.mergeDeepIn;R.withMutations=P.withMutations;R.asMutable=P.asMutable;R.asImmutable=P.asImmutable;R.wasAltered=P.wasAltered;function jc(a,b){this.array=a,this.ownerID=b}jc.prototype.removeBefore=function(a,b,c){if(c===b?1<<b:this.array.length===0)return this;var e=c>>>b&f;if(e>=this.array.length)return new jc([],a);var g=e===0,h;if(b>0){var i=this.array[e];h=i&&i.removeBefore(a,b-d,c);if(h===i&&g)return this}if(g&&!h)return this;b=rc(this,a);if(!g)for(c=0;c<e;c++)b.array[c]=void 0;h&&(b.array[e]=h);return b};jc.prototype.removeAfter=function(a,b,c){if(c===b?1<<b:this.array.length===0)return this;var e=c-1>>>b&f;if(e>=this.array.length)return this;var g=e===this.array.length-1,h;if(b>0){var i=this.array[e];h=i&&i.removeAfter(a,b-d,c);if(h===i&&g)return this}if(g&&!h)return this;b=rc(this,a);g||b.array.pop();h&&(b.array[e]=h);return b};var kc={};function lc(a,b){var c=a._origin,f=a._capacity,g=vc(f),h=a._tail;return i(a._root,a._level,0);function i(a,b,c){return b===0?j(a,c):k(a,b,c)}function j(a,d){var i=d===g?h&&h.array:a&&a.array,j=d>c?0:c-d,k=f-d;k>e&&(k=e);return function(){if(j===k)return kc;var a=b?--k:j++;return i&&i[a]}}function k(a,g,h){var j,k=a&&a.array,l=h>c?0:c-h>>g,m=(f-h>>g)+1;m>e&&(m=e);return function(){do{if(j){var a=j();if(a!==kc)return a;j=null}if(l===m)return kc;a=b?--m:l++;j=i(k&&k[a],g-d,h+(a<<g))}while(!0)}}}function mc(b,c,d,e,f,g,a){var h=Object.create(R);h.size=c-b;h._origin=b;h._capacity=c;h._level=d;h._root=e;h._tail=f;h.__ownerID=g;h.__hash=a;h.__altered=!1;return h}var nc;function oc(){return nc||(nc=mc(0,0,d))}function pc(a,b,c){b=o(a,b);if(b>=a.size||b<0)return a.withMutations(function(a){b<0?tc(a,b).set(0,c):tc(a,0,b+1).set(b,c)});b+=a._origin;var d=a._tail,e=a._root,f=j(i);b>=vc(a._capacity)?d=qc(d,a.__ownerID,0,b,c,f):e=qc(e,a.__ownerID,a._level,b,c,f);if(!f.value)return a;if(a.__ownerID){a._root=e;a._tail=d;a.__hash=void 0;a.__altered=!0;return a}return mc(a._origin,a._capacity,a._level,e,d)}function qc(a,b,c,e,g,h){var i=e>>>c&f,j=a&&i<a.array.length;if(!j&&g===void 0)return a;if(c>0){var l=a&&a.array[i];c=qc(l,b,c-d,e,g,h);if(c===l)return a;e=rc(a,b);e.array[i]=c;return e}if(j&&a.array[i]===g)return a;k(h);e=rc(a,b);g===void 0&&i===e.array.length-1?e.array.pop():e.array[i]=g;return e}function rc(a,b){return b&&a&&b===a.ownerID?a:new jc(a?a.array.slice():[],b)}function sc(a,b){if(b>=vc(a._capacity))return a._tail;if(b<1<<a._level+d){var c=a._root;a=a._level;while(c&&a>0)c=c.array[b>>>a&f],a-=d;return c}}function tc(a,b,c){var e=a.__ownerID||new l(),g=a._origin,h=a._capacity;b=g+b;c=c===void 0?h:c<0?h+c:g+c;if(b===g&&c===h)return a;if(b>=c)return a.clear();var i=a._level,j=a._root,k=0;while(b+k<0)j=new jc(j&&j.array.length?[void 0,j]:[],e),i+=d,k+=1<<i;k&&(b+=k,g+=k,c+=k,h+=k);var m=vc(h),n=vc(c);while(n>=1<<i+d)j=new jc(j&&j.array.length?[j]:[],e),i+=d;var o=a._tail,p=n<m?sc(a,c-1):n>m?new jc([],e):o;if(o&&n>m&&b<h&&o.array.length){j=rc(j,e);var q=j;for(var r=i;r>d;r-=d){var s=m>>>r&f;q=q.array[s]=rc(q.array[s],e)}q.array[m>>>d&f]=o}c<h&&(p=p&&p.removeAfter(e,0,c));if(b>=n)b-=n,c-=n,i=d,j=null,p=p&&p.removeBefore(e,0,b);else if(b>g||n<m){k=0;while(j){s=b>>>i&f;if(s!==n>>>i&f)break;s&&(k+=(1<<i)*s);i-=d;j=j.array[s]}j&&b>g&&(j=j.removeBefore(e,i,b-k));j&&n<m&&(j=j.removeAfter(e,i,n-k));k&&(b-=k,c-=k)}if(a.__ownerID){a.size=c-b;a._origin=b;a._capacity=c;a._level=i;a._root=j;a._tail=p;a.__hash=void 0;a.__altered=!0;return a}return mc(b,c,i,j,p)}function uc(a,b,c){var d=[],e=0;for(var f=0;f<c.length;f++){var g=c[f],h=v(g);h.size>e&&(e=h.size);x(g)||(h=h.map(function(a){return Ia(a)}));d.push(h)}e>a.size&&(a=a.setSize(e));return Zb(a,b,d)}function vc(a){return a<e?0:a-1>>>d<<d}b(S,O);function S(a){return a===null||a===void 0?zc():wc(a)?a:zc().withMutations(function(b){var c=u(a);L(c.size);c.forEach(function(a,c){return b.set(c,a)})})}S.of=function(){return this(arguments)};S.prototype.toString=function(){return this.__toString("OrderedMap {","}")};S.prototype.get=function(a,b){a=this._map.get(a);return a!==void 0?this._list.get(a)[1]:b};S.prototype.clear=function(){if(this.size===0)return this;if(this.__ownerID){this.size=0;this._map.clear();this._list.clear();return this}return zc()};S.prototype.set=function(a,b){return Ac(this,a,b)};S.prototype.remove=function(a){return Ac(this,a,g)};S.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()};S.prototype.__iterate=function(a,b){var c=this;return this._list.__iterate(function(b){return b&&a(b[1],b[0],c)},b)};S.prototype.__iterator=function(a,b){return this._list.fromEntrySeq().__iterator(a,b)};S.prototype.__ensureOwner=function(a){if(a===this.__ownerID)return this;var b=this._map.__ensureOwner(a),c=this._list.__ensureOwner(a);if(!a){this.__ownerID=a;this._map=b;this._list=c;return this}return xc(b,c,a,this.__hash)};function wc(a){return Db(a)&&ca(a)}S.isOrderedMap=wc;S.prototype[ga]=!0;S.prototype[c]=S.prototype.remove;function xc(b,c,d,a){var e=Object.create(S.prototype);e.size=b?b.size:0;e._map=b;e._list=c;e.__ownerID=d;e.__hash=a;return e}var yc;function zc(){return yc||(yc=xc(Pb(),oc()))}function Ac(a,b,c){var d=a._map,f=a._list,h=d.get(b),i=h!==void 0,j,k;if(c===g){if(!i)return a;f.size>=e&&f.size>=d.size*2?(k=f.filter(function(a,b){return a!==void 0&&h!==b}),j=k.toKeyedSeq().map(function(a){return a[0]}).flip().toMap(),a.__ownerID&&(j.__ownerID=k.__ownerID=a.__ownerID)):(j=d.remove(b),k=h===f.size-1?f.pop():f.set(h,void 0))}else if(i){if(c===f.get(h)[1])return a;j=d;k=f.set(h,[b,c])}else j=d.set(b,f.size),k=f.set(f.size,[b,c]);if(a.__ownerID){a.size=j.size;a._map=j;a._list=k;a.__hash=void 0;return a}return xc(j,k)}b(T,Ga);function T(a){return a===null||a===void 0?Gc():Bc(a)?a:Gc().unshiftAll(a)}T.of=function(){return this(arguments)};T.prototype.toString=function(){return this.__toString("Stack [","]")};T.prototype.get=function(a,b){var c=this._head;a=o(this,a);while(c&&a--)c=c.next;return c?c.value:b};T.prototype.peek=function(){return this._head&&this._head.value};T.prototype.push=function(){if(arguments.length===0)return this;var a=this.size+arguments.length,b=this._head;for(var c=arguments.length-1;c>=0;c--)b={value:arguments[c],next:b};if(this.__ownerID){this.size=a;this._head=b;this.__hash=void 0;this.__altered=!0;return this}return Ec(a,b)};T.prototype.pushAll=function(a){a=v(a);if(a.size===0)return this;L(a.size);var b=this.size,c=this._head;a.reverse().forEach(function(a){b++,c={value:a,next:c}});if(this.__ownerID){this.size=b;this._head=c;this.__hash=void 0;this.__altered=!0;return this}return Ec(b,c)};T.prototype.pop=function(){return this.slice(1)};T.prototype.unshift=function(){return this.push.apply(this,arguments)};T.prototype.unshiftAll=function(a){return this.pushAll(a)};T.prototype.shift=function(){return this.pop.apply(this,arguments)};T.prototype.clear=function(){if(this.size===0)return this;if(this.__ownerID){this.size=0;this._head=void 0;this.__hash=void 0;this.__altered=!0;return this}return Gc()};T.prototype.slice=function(a,b){if(q(a,b,this.size))return this;var c=r(a,this.size),d=s(b,this.size);if(d!==this.size)return Ga.prototype.slice.call(this,a,b);d=this.size-c;a=this._head;while(c--)a=a.next;if(this.__ownerID){this.size=d;this._head=a;this.__hash=void 0;this.__altered=!0;return this}return Ec(d,a)};T.prototype.__ensureOwner=function(a){if(a===this.__ownerID)return this;if(!a){this.__ownerID=a;this.__altered=!1;return this}return Ec(this.size,this._head,a,this.__hash)};T.prototype.__iterate=function(a,b){if(b)return this.reverse().__iterate(a);b=0;var c=this._head;while(c){if(a(c.value,b++,this)===!1)break;c=c.next}return b};T.prototype.__iterator=function(a,b){if(b)return this.reverse().__iterator(a);var c=0,d=this._head;return new C(function(){if(d){var b=d.value;d=d.next;return D(a,c++,b)}return E()})};function Bc(a){return!!(a&&a[Cc])}T.isStack=Bc;var Cc="@@__IMMUTABLE_STACK__@@",Dc=T.prototype;Dc[Cc]=!0;Dc.withMutations=P.withMutations;Dc.asMutable=P.asMutable;Dc.asImmutable=P.asImmutable;Dc.wasAltered=P.wasAltered;function Ec(b,c,d,a){var e=Object.create(Dc);e.size=b;e._head=c;e.__ownerID=d;e.__hash=a;e.__altered=!1;return e}var Fc;function Gc(){return Fc||(Fc=Ec(0))}b(U,Ha);function U(a){return a===null||a===void 0?Mc():Hc(a)?a:Mc().withMutations(function(b){var c=w(a);L(c.size);c.forEach(function(a){return b.add(a)})})}U.of=function(){return this(arguments)};U.fromKeys=function(a){return this(u(a).keySeq())};U.prototype.toString=function(){return this.__toString("Set {","}")};U.prototype.has=function(a){return this._map.has(a)};U.prototype.add=function(a){return Jc(this,this._map.set(a,!0))};U.prototype.remove=function(a){return Jc(this,this._map.remove(a))};U.prototype.clear=function(){return Jc(this,this._map.clear())};U.prototype.union=function(){var b=a.call(arguments,0);b=b.filter(function(a){return a.size!==0});if(b.length===0)return this;return this.size===0&&!this.__ownerID&&b.length===1?this.constructor(b[0]):this.withMutations(function(a){for(var c=0;c<b.length;c++)w(b[c]).forEach(function(b){return a.add(b)})})};U.prototype.intersect=function(){var b=a.call(arguments,0);if(b.length===0)return this;b=b.map(function(a){return w(a)});var c=this;return this.withMutations(function(a){c.forEach(function(c){b.every(function(a){return a.includes(c)})||a.remove(c)})})};U.prototype.subtract=function(){var b=a.call(arguments,0);if(b.length===0)return this;b=b.map(function(a){return w(a)});var c=this;return this.withMutations(function(a){c.forEach(function(c){b.some(function(a){return a.includes(c)})&&a.remove(c)})})};U.prototype.merge=function(){return this.union.apply(this,arguments)};U.prototype.mergeWith=function(b){var c=a.call(arguments,1);return this.union.apply(this,c)};U.prototype.sort=function(a){return Nc(sb(this,a))};U.prototype.sortBy=function(a,b){return Nc(sb(this,b,a))};U.prototype.wasAltered=function(){return this._map.wasAltered()};U.prototype.__iterate=function(a,b){var c=this;return this._map.__iterate(function(b,d){return a(d,d,c)},b)};U.prototype.__iterator=function(a,b){return this._map.map(function(a,b){return b}).__iterator(a,b)};U.prototype.__ensureOwner=function(a){if(a===this.__ownerID)return this;var b=this._map.__ensureOwner(a);if(!a){this.__ownerID=a;this._map=b;return this}return this.__make(b,a)};function Hc(a){return!!(a&&a[Ic])}U.isSet=Hc;var Ic="@@__IMMUTABLE_SET__@@",V=U.prototype;V[Ic]=!0;V[c]=V.remove;V.mergeDeep=V.merge;V.mergeDeepWith=V.mergeWith;V.withMutations=P.withMutations;V.asMutable=P.asMutable;V.asImmutable=P.asImmutable;V.__empty=Mc;V.__make=Kc;function Jc(a,b){if(a.__ownerID){a.size=b.size;a._map=b;return a}return b===a._map?a:b.size===0?a.__empty():a.__make(b)}function Kc(a,b){var c=Object.create(V);c.size=a?a.size:0;c._map=a;c.__ownerID=b;return c}var Lc;function Mc(){return Lc||(Lc=Kc(Pb()))}b(Nc,U);function Nc(a){return a===null||a===void 0?Sc():Oc(a)?a:Sc().withMutations(function(b){var c=w(a);L(c.size);c.forEach(function(a){return b.add(a)})})}Nc.of=function(){return this(arguments)};Nc.fromKeys=function(a){return this(u(a).keySeq())};Nc.prototype.toString=function(){return this.__toString("OrderedSet {","}")};function Oc(a){return Hc(a)&&ca(a)}Nc.isOrderedSet=Oc;var Pc=Nc.prototype;Pc[ga]=!0;Pc.__empty=Sc;Pc.__make=Qc;function Qc(a,b){var c=Object.create(Pc);c.size=a?a.size:0;c._map=a;c.__ownerID=b;return c}var Rc;function Sc(){return Rc||(Rc=Qc(zc()))}b(W,Fa);function W(a,b){var c,d=function(f){if(f instanceof d)return f;if(!(this instanceof d))return new d(f);if(!c){c=!0;var g=Object.keys(a);Vc(e,g);e.size=g.length;e._name=b;e._keys=g;e._defaultValues=a}this._map=O(f)},e=d.prototype=Object.create(X);e.constructor=d;return d}W.prototype.toString=function(){return this.__toString(Uc(this)+" {","}")};W.prototype.has=function(a){return this._defaultValues.hasOwnProperty(a)};W.prototype.get=function(a,b){if(!this.has(a))return b;b=this._defaultValues[a];return this._map?this._map.get(a,b):b};W.prototype.clear=function(){if(this.__ownerID){this._map&&this._map.clear();return this}var a=this.constructor;return a._empty||(a._empty=Tc(this,Pb()))};W.prototype.set=function(a,b){if(!this.has(a))throw new Error('Cannot set unknown key "'+a+'" on '+Uc(this));a=this._map&&this._map.set(a,b);return this.__ownerID||a===this._map?this:Tc(this,a)};W.prototype.remove=function(a){if(!this.has(a))return this;a=this._map&&this._map.remove(a);return this.__ownerID||a===this._map?this:Tc(this,a)};W.prototype.wasAltered=function(){return this._map.wasAltered()};W.prototype.__iterator=function(a,b){var c=this;return u(this._defaultValues).map(function(a,b){return c.get(b)}).__iterator(a,b)};W.prototype.__iterate=function(a,b){var c=this;return u(this._defaultValues).map(function(a,b){return c.get(b)}).__iterate(a,b)};W.prototype.__ensureOwner=function(a){if(a===this.__ownerID)return this;var b=this._map&&this._map.__ensureOwner(a);if(!a){this.__ownerID=a;this._map=b;return this}return Tc(this,b,a)};var X=W.prototype;X[c]=X.remove;X.deleteIn=X.removeIn=P.removeIn;X.merge=P.merge;X.mergeWith=P.mergeWith;X.mergeIn=P.mergeIn;X.mergeDeep=P.mergeDeep;X.mergeDeepWith=P.mergeDeepWith;X.mergeDeepIn=P.mergeDeepIn;X.setIn=P.setIn;X.update=P.update;X.updateIn=P.updateIn;X.withMutations=P.withMutations;X.asMutable=P.asMutable;X.asImmutable=P.asImmutable;function Tc(a,b,c){a=Object.create(Object.getPrototypeOf(a));a._map=b;a.__ownerID=c;return a}function Uc(a){return a._name||a.constructor.name||"Record"}function Vc(a,b){try{b.forEach(Wc.bind(void 0,a))}catch(a){}}function Wc(a,b){Object.defineProperty(a,b,{get:function(){return this.get(b)},set:function(a){bb(this.__ownerID,"Cannot set on an immutable record."),this.set(b,a)}})}function Xc(a,b){if(a===b)return!0;if(!x(b)||a.size!==void 0&&b.size!==void 0&&a.size!==b.size||a.__hash!==void 0&&b.__hash!==void 0&&a.__hash!==b.__hash||y(a)!==y(b)||z(a)!==z(b)||ca(a)!==ca(b))return!1;if(a.size===0&&b.size===0)return!0;var c=!ba(a);if(ca(a)){var d=a.entries();return b.every(function(a,b){var e=d.next().value;return e&&J(e[1],a)&&(c||J(e[0],b))})&&d.next().done}var e=!1;if(a.size===void 0)if(b.size===void 0)typeof a.cacheResult==="function"&&a.cacheResult();else{e=!0;var f=a;a=b;b=f}f=!0;b=b.__iterate(function(b,d){if(c?!a.has(b):e?!J(b,a.get(d,g)):!J(a.get(d,g),b)){f=!1;return!1}});return f&&a.size===b}b(Y,H);function Y(a,b,c){if(!(this instanceof Y))return new Y(a,b,c);bb(c!==0,"Cannot step a Range by 0");a=a||0;b===void 0&&(b=Infinity);c=c===void 0?1:Math.abs(c);b<a&&(c=-c);this._start=a;this._end=b;this._step=c;this.size=Math.max(0,Math.ceil((b-a)/c-1)+1);if(this.size===0){if(Yc)return Yc;Yc=this}}Y.prototype.toString=function(){return this.size===0?"Range []":"Range [ "+this._start+"..."+this._end+(this._step>1?" by "+this._step:"")+" ]"};Y.prototype.get=function(a,b){return this.has(a)?this._start+o(this,a)*this._step:b};Y.prototype.includes=function(a){a=(a-this._start)/this._step;return a>=0&&a<this.size&&a===Math.floor(a)};Y.prototype.slice=function(a,b){if(q(a,b,this.size))return this;a=r(a,this.size);b=s(b,this.size);return b<=a?new Y(0,0):new Y(this.get(a,this._end),this.get(b,this._end),this._step)};Y.prototype.indexOf=function(a){a=a-this._start;if(a%this._step===0){a=a/this._step;if(a>=0&&a<this.size)return a}return-1};Y.prototype.lastIndexOf=function(a){return this.indexOf(a)};Y.prototype.__iterate=function(a,b){var c=this.size-1,d=this._step,e=b?this._start+c*d:this._start;for(var f=0;f<=c;f++){if(a(e,f,this)===!1)return f+1;e+=b?-d:d}return f};Y.prototype.__iterator=function(a,b){var c=this.size-1,d=this._step,e=b?this._start+c*d:this._start,f=0;return new C(function(){var g=e;e+=b?-d:d;return f>c?E():D(a,f++,g)})};Y.prototype.equals=function(a){return a instanceof Y?this._start===a._start&&this._end===a._end&&this._step===a._step:Xc(this,a)};var Yc;b(Z,H);function Z(a,b){if(!(this instanceof Z))return new Z(a,b);this._value=a;this.size=b===void 0?Infinity:Math.max(0,b);if(this.size===0){if(Zc)return Zc;Zc=this}}Z.prototype.toString=function(){return this.size===0?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"};Z.prototype.get=function(a,b){return this.has(a)?this._value:b};Z.prototype.includes=function(a){return J(this._value,a)};Z.prototype.slice=function(a,b){var c=this.size;return q(a,b,c)?this:new Z(this._value,s(b,c)-r(a,c))};Z.prototype.reverse=function(){return this};Z.prototype.indexOf=function(a){return J(this._value,a)?0:-1};Z.prototype.lastIndexOf=function(a){return J(this._value,a)?this.size:-1};Z.prototype.__iterate=function(a,b){for(b=0;b<this.size;b++)if(a(this._value,b,this)===!1)return b+1;return b};Z.prototype.__iterator=function(a,b){var c=this,d=0;return new C(function(){return d<c.size?D(a,d++,c._value):E()})};Z.prototype.equals=function(a){return a instanceof Z?J(this._value,a._value):Xc(a)};var Zc;function $c(a,b){var c=function(c){a.prototype[c]=b[c]};Object.keys(b).forEach(c);Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(b).forEach(c);return a}t.Iterator=C;$c(t,{toArray:function(){L(this.size);var a=new Array(this.size||0);this.valueSeq().__iterate(function(b,c){a[c]=b});return a},toIndexedSeq:function(){return new cb(this)},toJS:function(){return this.toSeq().map(function(a){return a&&typeof a.toJS==="function"?a.toJS():a}).__toJS()},toJSON:function(){return this.toSeq().map(function(a){return a&&typeof a.toJSON==="function"?a.toJSON():a}).__toJS()},toKeyedSeq:function(){return new M(this,!0)},toMap:function(){return O(this.toKeyedSeq())},toObject:function(){L(this.size);var a={};this.__iterate(function(b,c){a[c]=b});return a},toOrderedMap:function(){return S(this.toKeyedSeq())},toOrderedSet:function(){return Nc(y(this)?this.valueSeq():this)},toSet:function(){return U(y(this)?this.valueSeq():this)},toSetSeq:function(){return new db(this)},toSeq:function(){return z(this)?this.toIndexedSeq():y(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return T(y(this)?this.valueSeq():this)},toList:function(){return Q(y(this)?this.valueSeq():this)},toString:function(){return"[Iterable]"},__toString:function(a,b){return this.size===0?a+b:a+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+b},concat:function(){var b=a.call(arguments,0);return N(this,ob(this,b))},contains:function(a){return this.includes(a)},includes:function(a){return this.some(function(b){return J(b,a)})},entries:function(){return this.__iterator(B)},every:function(a,b){L(this.size);var c=!0;this.__iterate(function(d,e,f){if(!a.call(b,d,e,f)){c=!1;return!1}});return c},filter:function(a,b){return N(this,ib(this,a,b,!0))},find:function(a,b,c){a=this.findEntry(a,b);return a?a[1]:c},findEntry:function(a,b){var c;this.__iterate(function(d,e,f){if(a.call(b,d,e,f)){c=[e,d];return!1}});return c},findLastEntry:function(a,b){return this.toSeq().reverse().findEntry(a,b)},forEach:function(a,b){L(this.size);return this.__iterate(b?a.bind(b):a)},join:function(a){L(this.size);a=a!==void 0?""+a:",";var b="",c=!0;this.__iterate(function(d){c?c=!1:b+=a,b+=d!==null&&d!==void 0?d.toString():""});return b},keys:function(){return this.__iterator(ha)},map:function(a,b){return N(this,gb(this,a,b))},reduce:function(a,b,c){L(this.size);var d,e;arguments.length<2?e=!0:d=b;this.__iterate(function(b,f,g){e?(e=!1,d=b):d=a.call(c,d,b,f,g)});return d},reduceRight:function(a,b,c){var d=this.toKeyedSeq().reverse();return d.reduce.apply(d,arguments)},reverse:function(){return N(this,hb(this,!0))},slice:function(a,b){return N(this,lb(this,a,b,!0))},some:function(a,b){return!this.every(cd(a),b)},sort:function(a){return N(this,sb(this,a))},values:function(){return this.__iterator(A)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return this.size!==void 0?this.size===0:!this.some(function(){return!0})},count:function(a,b){return n(a?this.toSeq().filter(a,b):this)},countBy:function(a,b){return jb(this,a,b)},equals:function(a){return Xc(this,a)},entrySeq:function(){var a=this;if(a._cache)return new ra(a._cache);var b=a.toSeq().map(bd).toIndexedSeq();b.fromEntrySeq=function(){return a.toSeq()};return b},filterNot:function(a,b){return this.filter(cd(a),b)},findLast:function(a,b,c){return this.toKeyedSeq().reverse().find(a,b,c)},first:function(){return this.find(p)},flatMap:function(a,b){return N(this,qb(this,a,b))},flatten:function(a){return N(this,pb(this,a,!0))},fromEntrySeq:function(){return new eb(this)},get:function(a,b){return this.find(function(b,c){return J(c,a)},void 0,b)},getIn:function(a,b){var c=this;a=Cb(a);var d;while(!(d=a.next()).done){d=d.value;c=c&&c.get?c.get(d,g):g;if(c===g)return b}return c},groupBy:function(a,b){return kb(this,a,b)},has:function(a){return this.get(a,g)!==g},hasIn:function(a){return this.getIn(a,g)!==g},isSubset:function(a){a=typeof a.includes==="function"?a:t(a);return this.every(function(b){return a.includes(b)})},isSuperset:function(a){return a.isSubset(this)},keySeq:function(){return this.toSeq().map(ad).toIndexedSeq()},last:function(){return this.toSeq().reverse().first()},max:function(a){return tb(this,a)},maxBy:function(a,b){return tb(this,b,a)},min:function(a){return tb(this,a?dd(a):gd)},minBy:function(a,b){return tb(this,b?dd(b):gd,a)},rest:function(){return this.slice(1)},skip:function(a){return this.slice(Math.max(0,a))},skipLast:function(a){return N(this,this.toSeq().reverse().skip(a).reverse())},skipWhile:function(a,b){return N(this,nb(this,a,b,!0))},skipUntil:function(a,b){return this.skipWhile(cd(a),b)},sortBy:function(a,b){return N(this,sb(this,b,a))},take:function(a){return this.slice(0,Math.max(0,a))},takeLast:function(a){return N(this,this.toSeq().reverse().take(a).reverse())},takeWhile:function(a,b){return N(this,mb(this,a,b))},takeUntil:function(a,b){return this.takeWhile(cd(a),b)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=hd(this))}});var $=t.prototype;$[da]=!0;$[ka]=$.values;$.__toJS=$.toArray;$.__toStringMapper=ed;$.inspect=$.toSource=function(){return this.toString()};$.chain=$.flatMap;(function(){try{Object.defineProperty($,"length",{get:function(){if(!t.noLengthWarning){var a;try{throw new Error()}catch(b){a=b.stack}if(a.indexOf("_wrapObject")===-1){console&&emptyFunction&&!1;return this.size}}}})}catch(a){}})();$c(u,{flip:function(){return N(this,fb(this))},findKey:function(a,b){a=this.findEntry(a,b);return a&&a[0]},findLastKey:function(a,b){return this.toSeq().reverse().findKey(a,b)},keyOf:function(a){return this.findKey(function(b){return J(b,a)})},lastKeyOf:function(a){return this.findLastKey(function(b){return J(b,a)})},mapEntries:function(a,b){var c=this,d=0;return N(this,this.toSeq().map(function(e,f){return a.call(b,[f,e],d++,c)}).fromEntrySeq())},mapKeys:function(a,b){var c=this;return N(this,this.toSeq().flip().map(function(d,e){return a.call(b,d,e,c)}).flip())}});c=u.prototype;c[ea]=!0;c[ka]=$.entries;c.__toJS=$.toObject;c.__toStringMapper=function(a,b){return JSON.stringify(b)+": "+ed(a)};$c(v,{toKeyedSeq:function(){return new M(this,!1)},filter:function(a,b){return N(this,ib(this,a,b,!1))},findIndex:function(a,b){a=this.findEntry(a,b);return a?a[0]:-1},indexOf:function(a){a=this.toKeyedSeq().keyOf(a);return a===void 0?-1:a},lastIndexOf:function(a){return this.toSeq().reverse().indexOf(a)},reverse:function(){return N(this,hb(this,!1))},slice:function(a,b){return N(this,lb(this,a,b,!1))},splice:function(a,b){var c=arguments.length;b=Math.max(b|0,0);if(c===0||c===2&&!b)return this;a=r(a,this.size);var d=this.slice(0,a);return N(this,c===1?d:d.concat(m(arguments,2),this.slice(a+b)))},findLastIndex:function(a,b){a=this.toKeyedSeq().findLastKey(a,b);return a===void 0?-1:a},first:function(){return this.get(0)},flatten:function(a){return N(this,pb(this,a,!1))},get:function(a,b){a=o(this,a);return a<0||this.size===Infinity||this.size!==void 0&&a>this.size?b:this.find(function(b,c){return c===a},void 0,b)},has:function(a){a=o(this,a);return a>=0&&(this.size!==void 0?this.size===Infinity||a<this.size:this.indexOf(a)!==-1)},interpose:function(a){return N(this,rb(this,a))},interleave:function(){var a=[this].concat(m(arguments)),b=vb(this.toSeq(),H.of,a),c=b.flatten(!0);b.size&&(c.size=b.size*a.length);return N(this,c)},last:function(){return this.get(-1)},skipWhile:function(a,b){return N(this,nb(this,a,b,!1))},zip:function(){var a=[this].concat(m(arguments));return N(this,vb(this,fd,a))},zipWith:function(a){var b=m(arguments);b[0]=this;return N(this,vb(this,a,b))}});v.prototype[fa]=!0;v.prototype[ga]=!0;$c(w,{get:function(a,b){return this.has(a)?a:b},includes:function(a){return this.has(a)},keySeq:function(){return this.valueSeq()}});w.prototype.has=$.includes;$c(G,u.prototype);$c(H,v.prototype);$c(I,w.prototype);$c(Fa,u.prototype);$c(Ga,v.prototype);$c(Ha,w.prototype);function ad(a,b){return b}function bd(a,b){return[b,a]}function cd(a){return function(){return!a.apply(this,arguments)}}function dd(a){return function(){return-a.apply(this,arguments)}}function ed(a){return typeof a==="string"?JSON.stringify(a):a}function fd(){return m(arguments)}function gd(a,b){return a<b?1:a>b?-1:0}function hd(a){if(a.size===Infinity)return 0;var b=ca(a),c=y(a),d=b?1:0;a=a.__iterate(c?b?function(a,b){d=31*d+jd(K(a),K(b))|0}:function(a,b){d=d+jd(K(a),K(b))|0}:b?function(a){d=31*d+K(a)|0}:function(a){d=d+K(a)|0});return id(a,d)}function id(a,b){b=Ma(b,3432918353);b=Ma(b<<15|b>>>-15,461845907);b=Ma(b<<13|b>>>-13,5);b=(b+3864292196|0)^a;b=Ma(b^b>>>16,2246822507);b=Ma(b^b>>>13,3266489909);b=Na(b^b>>>16);return b}function jd(a,b){return a^b+2654435769+(a<<6)+(a>>2)|0}b={Iterable:t,Seq:F,Collection:Ea,Map:O,OrderedMap:S,List:Q,Stack:T,Set:U,OrderedSet:Nc,Record:W,Range:Y,Repeat:Z,is:J,fromJS:Ia};return b})}var k=!1;function l(){k||(k=!0,j());return h.exports}function a(a){switch(a){case void 0:return l()}}e.exports=a}),null);
/**
 * License: https://www.facebook.com/legal/license/MDzNl_j9yvg/
 */
__d("immutable-4.0.0-rc.9",[],(function(a,b,c,d,e,f){"use strict";var g={},h={exports:g},i;function j(){(function(b,c){typeof g==="object"&&typeof h!=="undefined"?c(g):typeof i==="function"&&i.amd?i(["exports"],c):c(b.Immutable={})})(this,function(a){var b="delete",c=5,d=1<<c,e=d-1,g={},h={value:!1},i={value:!1};function j(a){a.value=!1;return a}function k(a){a&&(a.value=!0)}function l(){}function m(a){a.size===void 0&&(a.size=a.__iterate(o));return a.size}function n(a,b){if(typeof b!=="number"){var c=b>>>0;if(""+c!==b||c===4294967295)return NaN;b=c}return b<0?m(a)+b:b}function o(){return!0}function p(a,b,c){return(a===0&&!aa(a)||c!==void 0&&a<=-c)&&(b===void 0||c!==void 0&&b>=c)}function q(a,b){return s(a,b,0)}function r(a,b){return s(a,b,b)}function s(a,b,c){return a===void 0?c:aa(a)?b===Infinity?b:Math.max(0,b+a)|0:b===void 0||b===a?a:Math.min(b,a)|0}function aa(a){return a<0||a===0&&1/a===-Infinity}function t(a){return u(a)||ca(a)}function u(a){return!!(a&&a[ea])}function v(a){return!!(a&&a[fa])}function w(a){return!!(a&&a[ga])}function ba(a){return v(a)||w(a)}function x(a){return!!(a&&a[ha])}function ca(a){return!!(a&&a[ia])}function da(a){return!!(a&&typeof a.equals==="function"&&typeof a.hashCode==="function")}var ea="@@__IMMUTABLE_ITERABLE__@@",fa="@@__IMMUTABLE_KEYED__@@",ga="@@__IMMUTABLE_INDEXED__@@",ha="@@__IMMUTABLE_ORDERED__@@",ia="@@__IMMUTABLE_RECORD__@@",y=function(a){return u(a)?a:G(a)},z=function(a){function b(a){return v(a)?a:H(a)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;return b}(y),ja=function(a){function b(a){return w(a)?a:I(a)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;return b}(y),A=function(a){function b(a){return u(a)&&!ba(a)?a:ua(a)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;return b}(y);y.Keyed=z;y.Indexed=ja;y.Set=A;var ka=0,B=1,C=2,la=typeof Symbol==="function"&&Symbol.iterator,ma="@@iterator",na=la||ma,D=function(a){this.next=a};D.prototype.toString=function(){return"[Iterator]"};D.KEYS=ka;D.VALUES=B;D.ENTRIES=C;D.prototype.inspect=D.prototype.toSource=function(){return this.toString()};D.prototype[na]=function(){return this};function E(a,b,c,d){a=a===0?b:a===1?c:[b,c];d?d.value=a:d={value:a,done:!1};return d}function F(){return{value:void 0,done:!0}}function oa(a){return!!ra(a)}function pa(a){return a&&typeof a.next==="function"}function qa(a){var b=ra(a);return b&&b.call(a)}function ra(a){a=a&&(la&&a[la]||a[ma]);if(typeof a==="function")return a}var sa=Object.prototype.hasOwnProperty;function ta(a){return a&&typeof a.length==="number"}var G=function(b){function a(a){return a===null||a===void 0?Ca():t(a)?a.toSeq():Fa(a)}b&&(a.__proto__=b);a.prototype=Object.create(b&&b.prototype);a.prototype.constructor=a;a.prototype.toSeq=function(){return this};a.prototype.toString=function(){return this.__toString("Seq {","}")};a.prototype.cacheResult=function(){!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length);return this};a.prototype.__iterate=function(a,b){var c=this,d=this._cache;if(d){var e=d.length,f=0;while(f!==e){var g=d[b?e-++f:f++];if(a(g[1],g[0],c)===!1)break}return f}return this.__iterateUncached(a,b)};a.prototype.__iterator=function(a,b){var c=this._cache;if(c){var d=c.length,e=0;return new D(function(){if(e===d)return F();var f=c[b?d-++e:e++];return E(a,f[0],f[1])})}return this.__iteratorUncached(a,b)};return a}(y),H=function(a){function b(a){return a===null||a===void 0?Ca().toKeyedSeq():u(a)?v(a)?a.toSeq():a.fromEntrySeq():ca(a)?a.toSeq():Da(a)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.toKeyedSeq=function(){return this};return b}(G),I=function(a){function b(a){return a===null||a===void 0?Ca():u(a)?v(a)?a.entrySeq():a.toIndexedSeq():ca(a)?a.toSeq().entrySeq():Ea(a)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.of=function(){return b(arguments)};b.prototype.toIndexedSeq=function(){return this};b.prototype.toString=function(){return this.__toString("Seq [","]")};return b}(G),ua=function(a){function b(a){return(u(a)&&!ba(a)?a:I(a)).toSetSeq()}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.of=function(){return b(arguments)};b.prototype.toSetSeq=function(){return this};return b}(G);G.isSeq=Aa;G.Keyed=H;G.Set=ua;G.Indexed=I;var va="@@__IMMUTABLE_SEQ__@@";G.prototype[va]=!0;var wa=function(a){function b(a){this._array=a,this.size=a.length}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.get=function(a,b){return this.has(a)?this._array[n(this,a)]:b};b.prototype.__iterate=function(a,b){var c=this,d=this._array,e=d.length,f=0;while(f!==e){var g=b?e-++f:f++;if(a(d[g],g,c)===!1)break}return f};b.prototype.__iterator=function(a,b){var c=this._array,d=c.length,e=0;return new D(function(){if(e===d)return F();var f=b?d-++e:e++;return E(a,f,c[f])})};return b}(I),xa=function(a){function b(a){var b=Object.keys(a);this._object=a;this._keys=b;this.size=b.length}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.get=function(a,b){return b!==void 0&&!this.has(a)?b:this._object[a]};b.prototype.has=function(a){return sa.call(this._object,a)};b.prototype.__iterate=function(a,b){var c=this,d=this._object,e=this._keys,f=e.length,g=0;while(g!==f){var h=e[b?f-++g:g++];if(a(d[h],h,c)===!1)break}return g};b.prototype.__iterator=function(a,b){var c=this._object,d=this._keys,e=d.length,f=0;return new D(function(){if(f===e)return F();var g=d[b?e-++f:f++];return E(a,g,c[g])})};return b}(H);xa.prototype[ha]=!0;var ya=function(a){function b(a){this._collection=a,this.size=a.length||a.size}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.__iterateUncached=function(a,b){var c=this;if(b)return this.cacheResult().__iterate(a,b);b=this._collection;b=qa(b);var d=0;if(pa(b)){var e;while(!(e=b.next()).done)if(a(e.value,d++,c)===!1)break}return d};b.prototype.__iteratorUncached=function(a,b){if(b)return this.cacheResult().__iterator(a,b);b=this._collection;var c=qa(b);if(!pa(c))return new D(F);var d=0;return new D(function(){var b=c.next();return b.done?b:E(a,d++,b.value)})};return b}(I),za=function(a){function b(a){this._iterator=a,this._iteratorCache=[]}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.__iterateUncached=function(a,b){var c=this;if(b)return this.cacheResult().__iterate(a,b);b=this._iterator;var d=this._iteratorCache,e=0;while(e<d.length)if(a(d[e],e++,c)===!1)return e;var f;while(!(f=b.next()).done){f=f.value;d[e]=f;if(a(f,e++,c)===!1)break}return e};b.prototype.__iteratorUncached=function(a,b){if(b)return this.cacheResult().__iterator(a,b);var c=this._iterator,d=this._iteratorCache,e=0;return new D(function(){if(e>=d.length){var b=c.next();if(b.done)return b;d[e]=b.value}return E(a,e,d[e++])})};return b}(I);function Aa(a){return!!(a&&a[va])}var Ba;function Ca(){return Ba||(Ba=new wa([]))}function Da(a){var b=Array.isArray(a)?new wa(a):pa(a)?new za(a):oa(a)?new ya(a):void 0;if(b)return b.fromEntrySeq();if(typeof a==="object")return new xa(a);throw new TypeError("Expected Array or collection object of [k, v] entries, or keyed object: "+a)}function Ea(a){var b=Ga(a);if(b)return b;throw new TypeError("Expected Array or collection object of values: "+a)}function Fa(a){var b=Ga(a);if(b)return b;if(typeof a==="object")return new xa(a);throw new TypeError("Expected Array or collection object of values, or keyed object: "+a)}function Ga(a){return ta(a)?new wa(a):pa(a)?new za(a):oa(a)?new ya(a):void 0}function J(a,b){if(a===b||a!==a&&b!==b)return!0;if(!a||!b)return!1;if(typeof a.valueOf==="function"&&typeof b.valueOf==="function"){a=a.valueOf();b=b.valueOf();if(a===b||a!==a&&b!==b)return!0;if(!a||!b)return!1}return!!(da(a)&&da(b)&&a.equals(b))}var Ha=typeof Math.imul==="function"&&Math.imul(4294967295,2)===-2?Math.imul:function(a,b){a|=0;b|=0;var c=a&65535,d=b&65535;return c*d+((a>>>16)*d+c*(b>>>16)<<16>>>0)|0};function Ia(a){return a>>>1&1073741824|a&3221225471}function K(a){if(a===!1||a===null||a===void 0)return 0;if(typeof a.valueOf==="function"){a=a.valueOf();if(a===!1||a===null||a===void 0)return 0}if(a===!0)return 1;var b=typeof a;if(b==="number"){if(a!==a||a===Infinity)return 0;var c=a|0;c!==a&&(c^=a*4294967295);while(a>4294967295)a/=4294967295,c^=a;return Ia(c)}if(b==="string")return a.length>Ta?Ja(a):Ka(a);if(typeof a.hashCode==="function")return Ia(a.hashCode());if(b==="object")return La(a);if(typeof a.toString==="function")return Ka(a.toString());throw new Error("Value type "+b+" cannot be hashed.")}function Ja(a){var b=Wa[a];b===void 0&&(b=Ka(a),Va===Ua&&(Va=0,Wa={}),Va++,Wa[a]=b);return b}function Ka(a){var b=0;for(var c=0;c<a.length;c++)b=31*b+a.charCodeAt(c)|0;return Ia(b)}function La(a){var b;if(Pa){b=Qa.get(a);if(b!==void 0)return b}b=a[Sa];if(b!==void 0)return b;if(!Na){b=a.propertyIsEnumerable&&a.propertyIsEnumerable[Sa];if(b!==void 0)return b;b=Oa(a);if(b!==void 0)return b}b=++Ra;Ra&1073741824&&(Ra=0);if(Pa)Qa.set(a,b);else if(Ma!==void 0&&Ma(a)===!1)throw new Error("Non-extensible objects are not allowed as keys.");else if(Na)Object.defineProperty(a,Sa,{enumerable:!1,configurable:!1,writable:!1,value:b});else if(a.propertyIsEnumerable!==void 0&&a.propertyIsEnumerable===a.constructor.prototype.propertyIsEnumerable)a.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},a.propertyIsEnumerable[Sa]=b;else if(a.nodeType!==void 0)a[Sa]=b;else throw new Error("Unable to set a non-enumerable property on object.");return b}var Ma=Object.isExtensible,Na=function(){try{Object.defineProperty({},"@",{});return!0}catch(a){return!1}}();function Oa(a){if(a&&a.nodeType>0)switch(a.nodeType){case 1:return a.uniqueID;case 9:return a.documentElement&&a.documentElement.uniqueID}}var Pa=typeof WeakMap==="function",Qa;Pa&&(Qa=new WeakMap());var Ra=0,Sa="__immutablehash__";typeof Symbol==="function"&&(Sa=Symbol(Sa));var Ta=16,Ua=255,Va=0,Wa={},Xa=function(b){function a(a,b){this._iter=a,this._useKeys=b,this.size=a.size}b&&(a.__proto__=b);a.prototype=Object.create(b&&b.prototype);a.prototype.constructor=a;a.prototype.get=function(a,b){return this._iter.get(a,b)};a.prototype.has=function(a){return this._iter.has(a)};a.prototype.valueSeq=function(){return this._iter.valueSeq()};a.prototype.reverse=function(){var a=this,b=cb(this,!0);this._useKeys||(b.valueSeq=function(){return a._iter.toSeq().reverse()});return b};a.prototype.map=function(a,b){var c=this,d=bb(this,a,b);this._useKeys||(d.valueSeq=function(){return c._iter.toSeq().map(a,b)});return d};a.prototype.__iterate=function(a,b){var c=this;return this._iter.__iterate(function(b,d){return a(b,d,c)},b)};a.prototype.__iterator=function(a,b){return this._iter.__iterator(a,b)};return a}(H);Xa.prototype[ha]=!0;var Ya=function(b){function a(a){this._iter=a,this.size=a.size}b&&(a.__proto__=b);a.prototype=Object.create(b&&b.prototype);a.prototype.constructor=a;a.prototype.includes=function(a){return this._iter.includes(a)};a.prototype.__iterate=function(a,b){var c=this,d=0;b&&m(this);return this._iter.__iterate(function(e){return a(e,b?c.size-++d:d++,c)},b)};a.prototype.__iterator=function(a,b){var c=this,d=this._iter.__iterator(B,b),e=0;b&&m(this);return new D(function(){var f=d.next();return f.done?f:E(a,b?c.size-++e:e++,f.value,f)})};return a}(I),Za=function(b){function a(a){this._iter=a,this.size=a.size}b&&(a.__proto__=b);a.prototype=Object.create(b&&b.prototype);a.prototype.constructor=a;a.prototype.has=function(a){return this._iter.includes(a)};a.prototype.__iterate=function(a,b){var c=this;return this._iter.__iterate(function(b){return a(b,b,c)},b)};a.prototype.__iterator=function(a,b){var c=this._iter.__iterator(B,b);return new D(function(){var b=c.next();return b.done?b:E(a,b.value,b.value,b)})};return a}(ua),$a=function(b){function a(a){this._iter=a,this.size=a.size}b&&(a.__proto__=b);a.prototype=Object.create(b&&b.prototype);a.prototype.constructor=a;a.prototype.entrySeq=function(){return this._iter.toSeq()};a.prototype.__iterate=function(a,b){var c=this;return this._iter.__iterate(function(b){if(b){rb(b);var d=u(b);return a(d?b.get(1):b[1],d?b.get(0):b[0],c)}},b)};a.prototype.__iterator=function(a,b){var c=this._iter.__iterator(B,b);return new D(function(){while(!0){var b=c.next();if(b.done)return b;var d=b.value;if(d){rb(d);var e=u(d);return E(a,e?d.get(0):d[0],e?d.get(1):d[1],b)}}})};return a}(H);Ya.prototype.cacheResult=Xa.prototype.cacheResult=Za.prototype.cacheResult=$a.prototype.cacheResult=tb;function ab(a){var b=M(a);b._iter=a;b.size=a.size;b.flip=function(){return a};b.reverse=function(){var b=a.reverse.apply(this);b.flip=function(){return a.reverse()};return b};b.has=function(b){return a.includes(b)};b.includes=function(b){return a.has(b)};b.cacheResult=tb;b.__iterateUncached=function(b,c){var d=this;return a.__iterate(function(a,c){return b(c,a,d)!==!1},c)};b.__iteratorUncached=function(b,c){if(b===C){var d=a.__iterator(b,c);return new D(function(){var a=d.next();if(!a.done){var b=a.value[0];a.value[0]=a.value[1];a.value[1]=b}return a})}return a.__iterator(b===B?ka:B,c)};return b}function bb(a,b,c){var d=M(a);d.size=a.size;d.has=function(b){return a.has(b)};d.get=function(d,e){var f=a.get(d,g);return f===g?e:b.call(c,f,d,a)};d.__iterateUncached=function(d,e){var f=this;return a.__iterate(function(a,e,g){return d(b.call(c,a,e,g),e,f)!==!1},e)};d.__iteratorUncached=function(d,e){var f=a.__iterator(C,e);return new D(function(){var e=f.next();if(e.done)return e;var g=e.value,h=g[0];return E(d,h,b.call(c,g[1],h,a),e)})};return d}function cb(a,b){var c=this,d=M(a);d._iter=a;d.size=a.size;d.reverse=function(){return a};a.flip&&(d.flip=function(){var b=ab(a);b.reverse=function(){return a.flip()};return b});d.get=function(c,d){return a.get(b?c:-1-c,d)};d.has=function(c){return a.has(b?c:-1-c)};d.includes=function(b){return a.includes(b)};d.cacheResult=tb;d.__iterate=function(d,e){var c=this,f=0;e&&m(a);return a.__iterate(function(a,g){return d(a,b?g:e?c.size-++f:f++,c)},!e)};d.__iterator=function(d,e){var f=0;e&&m(a);var g=a.__iterator(C,!e);return new D(function(){var a=g.next();if(a.done)return a;var h=a.value;return E(d,b?h[0]:e?c.size-++f:f++,h[1],a)})};return d}function db(a,b,c,d){var e=M(a);d&&(e.has=function(d){var e=a.get(d,g);return e!==g&&!!b.call(c,e,d,a)},e.get=function(d,e){var f=a.get(d,g);return f!==g&&b.call(c,f,d,a)?f:e});e.__iterateUncached=function(e,f){var g=this,h=0;a.__iterate(function(a,f,i){if(b.call(c,a,f,i)){h++;return e(a,d?f:h-1,g)}},f);return h};e.__iteratorUncached=function(e,f){var g=a.__iterator(C,f),h=0;return new D(function(){while(!0){var f=g.next();if(f.done)return f;var i=f.value,j=i[0];i=i[1];if(b.call(c,i,j,a))return E(e,d?j:h++,i,f)}})};return e}function eb(a,b,c){var d=ec().asMutable();a.__iterate(function(e,f){d.update(b.call(c,e,f,a),0,function(a){return a+1})});return d.asImmutable()}function fb(a,b,c){var d=v(a),e=(x(a)?U():ec()).asMutable();a.__iterate(function(f,g){e.update(b.call(c,f,g,a),function(a){return a=a||[],a.push(d?[g,f]:f),a})});var f=sb(a);return e.map(function(b){return L(a,f(b))})}function gb(a,b,c,d){var e=a.size;if(p(b,c,e))return a;var f=q(b,e);e=r(c,e);if(f!==f||e!==e)return gb(a.toSeq().cacheResult(),b,c,d);b=e-f;var g;b===b&&(g=b<0?0:b);c=M(a);c.size=g===0?g:a.size&&g||void 0;!d&&Aa(a)&&g>=0&&(c.get=function(b,c){b=n(this,b);return b>=0&&b<g?a.get(b+f,c):c});c.__iterateUncached=function(b,c){var e=this;if(g===0)return 0;if(c)return this.cacheResult().__iterate(b,c);var h=0,i=!0,j=0;a.__iterate(function(a,c){if(!(i&&(i=h++<f))){j++;return b(a,d?c:j-1,e)!==!1&&j!==g}});return j};c.__iteratorUncached=function(b,c){if(g!==0&&c)return this.cacheResult().__iterator(b,c);if(g===0)return new D(F);var e=a.__iterator(b,c),h=0,i=0;return new D(function(){while(h++<f)e.next();if(++i>g)return F();var a=e.next();if(d||b===B||a.done)return a;return b===ka?E(b,i-1,void 0,a):E(b,i-1,a.value[1],a)})};return c}function hb(a,b,c){var d=M(a);d.__iterateUncached=function(d,e){var f=this;if(e)return this.cacheResult().__iterate(d,e);var g=0;a.__iterate(function(a,e,h){return b.call(c,a,e,h)&&++g&&d(a,e,f)});return g};d.__iteratorUncached=function(d,e){var f=this;if(e)return this.cacheResult().__iterator(d,e);var g=a.__iterator(C,e),h=!0;return new D(function(){if(!h)return F();var a=g.next();if(a.done)return a;var e=a.value,i=e[0];e=e[1];if(!b.call(c,e,i,f)){h=!1;return F()}return d===C?a:E(d,i,e,a)})};return d}function ib(a,b,c,d){var e=M(a);e.__iterateUncached=function(e,f){var g=this;if(f)return this.cacheResult().__iterate(e,f);var h=!0,i=0;a.__iterate(function(a,f,j){if(!(h&&(h=b.call(c,a,f,j)))){i++;return e(a,d?f:i-1,g)}});return i};e.__iteratorUncached=function(e,f){var g=this;if(f)return this.cacheResult().__iterator(e,f);var h=a.__iterator(C,f),i=!0,j=0;return new D(function(){var a,f;do{a=h.next();if(a.done){if(d||e===B)return a;return e===ka?E(e,j++,void 0,a):E(e,j++,a.value[1],a)}var k=a.value;f=k[0];k=k[1];i&&(i=b.call(c,k,f,g))}while(i);return e===C?a:E(e,f,k,a)})};return e}function jb(a,b){var c=v(a);b=[a].concat(b).map(function(a){!u(a)?a=c?Da(a):Ea(Array.isArray(a)?a:[a]):c&&(a=z(a));return a}).filter(function(a){return a.size!==0});if(b.length===0)return a;if(b.length===1){var d=b[0];if(d===a||c&&v(d)||w(a)&&w(d))return d}d=new wa(b);c?d=d.toKeyedSeq():w(a)||(d=d.toSetSeq());d=d.flatten(!0);d.size=b.reduce(function(a,b){if(a!==void 0){b=b.size;if(b!==void 0)return a+b}},0);return d}function kb(a,b,c){var d=M(a);d.__iterateUncached=function(e,f){if(f)return this.cacheResult().__iterate(e,f);var g=0,h=!1;function i(a,j){a.__iterate(function(a,f){(!b||j<b)&&u(a)?i(a,j+1):(g++,e(a,c?f:g-1,d)===!1&&(h=!0));return!h},f)}i(a,0);return g};d.__iteratorUncached=function(d,e){if(e)return this.cacheResult().__iterator(d,e);var f=a.__iterator(d,e),g=[],h=0;return new D(function(){while(f){var a=f.next();if(a.done!==!1){f=g.pop();continue}var i=a.value;d===C&&(i=i[1]);if((!b||g.length<b)&&u(i))g.push(f),f=i.__iterator(d,e);else return c?a:E(d,h++,i,a)}return F()})};return d}function lb(a,b,c){var d=sb(a);return a.toSeq().map(function(e,f){return d(b.call(c,e,f,a))}).flatten(!0)}function mb(a,b){var c=M(a);c.size=a.size&&a.size*2-1;c.__iterateUncached=function(c,d){var e=this,f=0;a.__iterate(function(a){return(!f||c(b,f++,e)!==!1)&&c(a,f++,e)!==!1},d);return f};c.__iteratorUncached=function(c,d){var e=a.__iterator(B,d),f=0,g;return new D(function(){if(!g||f%2){g=e.next();if(g.done)return g}return f%2?E(c,f++,b):E(c,f++,g.value,g)})};return c}function nb(a,b,c){b||(b=ub);var d=v(a),e=0,f=a.toSeq().map(function(b,d){return[d,b,e++,c?c(b,d,a):b]}).valueSeq().toArray();f.sort(function(a,c){return b(a[3],c[3])||a[2]-c[2]}).forEach(d?function(a,b){f[b].length=2}:function(a,b){f[b]=a[1]});return d?H(f):w(a)?I(f):ua(f)}function ob(a,b,c){b||(b=ub);if(c){var d=a.toSeq().map(function(b,d){return[b,c(b,d,a)]}).reduce(function(a,c){return pb(b,a[1],c[1])?c:a});return d&&d[0]}return a.reduce(function(a,c){return pb(b,a,c)?c:a})}function pb(a,b,c){a=a(c,b);return a===0&&c!==b&&(c===void 0||c===null||c!==c)||a>0}function qb(a,b,c,d){a=M(a);var e=new wa(c).map(function(a){return a.size});a.size=d?e.max():e.min();a.__iterate=function(a,b){var c=this;b=this.__iterator(B,b);var d,e=0;while(!(d=b.next()).done)if(a(d.value,e++,c)===!1)break;return e};a.__iteratorUncached=function(a,e){var f=c.map(function(a){return a=y(a),qa(e?a.reverse():a)}),g=0,h=!1;return new D(function(){var c;h||(c=f.map(function(a){return a.next()}),h=d?c.every(function(a){return a.done}):c.some(function(a){return a.done}));return h?F():E(a,g++,b.apply(null,c.map(function(a){return a.value})))})};return a}function L(a,b){return a===b?a:Aa(a)?b:a.constructor(b)}function rb(a){if(a!==Object(a))throw new TypeError("Expected [K, V] tuple: "+a)}function sb(a){return v(a)?z:w(a)?ja:A}function M(a){return Object.create((v(a)?H:w(a)?I:ua).prototype)}function tb(){if(this._iter.cacheResult){this._iter.cacheResult();this.size=this._iter.size;return this}return G.prototype.cacheResult.call(this)}function ub(a,b){if(a===void 0&&b===void 0)return 0;if(a===void 0)return 1;return b===void 0?-1:a>b?1:a<b?-1:0}function N(a,b){b=b||0;var c=Math.max(0,a.length-b),d=new Array(c);for(var e=0;e<c;e++)d[e]=a[e+b];return d}function vb(a,b){if(!a)throw new Error(b)}function O(a){vb(a!==Infinity,"Cannot perform this action with an infinite size.")}function wb(a){if(ta(a)&&typeof a!=="string")return a;if(x(a))return a.toArray();throw new TypeError("Invalid keyPath: expected Ordered Collection or Array: "+a)}function xb(a){return a&&(a.constructor===Object||a.constructor===void 0)}function yb(a){return t(a)||Array.isArray(a)||xb(a)}function zb(a){try{return typeof a==="string"?JSON.stringify(a):String(a)}catch(b){return JSON.stringify(a)}}function Ab(a,b){return t(a)?a.has(b):yb(a)&&sa.call(a,b)}function Bb(a,b,c){return t(a)?a.get(b,c):Ab(a,b)?typeof a.get==="function"?a.get(b):a[b]:c}function Cb(a){if(Array.isArray(a))return N(a);var b={};for(var c in a)sa.call(a,c)&&(b[c]=a[c]);return b}function Db(a,b){if(!yb(a))throw new TypeError("Cannot update non-data-structure value: "+a);if(t(a)){if(!a.remove)throw new TypeError("Cannot update immutable value without .remove() method: "+a);return a.remove(b)}if(!sa.call(a,b))return a;a=Cb(a);Array.isArray(a)?a.splice(b,1):delete a[b];return a}function Eb(a,b,c){if(!yb(a))throw new TypeError("Cannot update non-data-structure value: "+a);if(t(a)){if(!a.set)throw new TypeError("Cannot update immutable value without .set() method: "+a);return a.set(b,c)}if(sa.call(a,b)&&c===a[b])return a;a=Cb(a);a[b]=c;return a}function Fb(a,b,c,d){d||(d=c,c=void 0);a=Gb(t(a),a,wb(b),0,c,d);return a===g?c:a}function Gb(a,b,c,d,e,f){var h=b===g;if(d===c.length){var i=h?e:b,j=f(i);return j===i?b:j}if(!h&&!yb(b))throw new TypeError("Cannot update within non-data-structure value in path ["+c.slice(0,d).map(zb)+"]: "+b);i=c[d];j=h?g:Bb(b,i,g);c=Gb(j===g?a:t(j),j,c,d+1,e,f);return c===j?b:c===g?Db(b,i):Eb(h?a?S():{}:b,i,c)}function Hb(a,b,c){return Fb(a,b,g,function(){return c})}function Ib(a,b){return Hb(this,a,b)}function Jb(a,b){return Fb(a,b,function(){return g})}function Kb(a){return Jb(this,a)}function Lb(a,b,c,d){return Fb(a,[b],c,d)}function Mb(a,b,c){return arguments.length===1?a(this):Lb(this,a,b,c)}function Nb(a,b,c){return Fb(this,a,b,c)}function Ob(){var a=[],b=arguments.length;while(b--)a[b]=arguments[b];return Qb(this,a)}function Pb(a){var b=[],c=arguments.length-1;while(c-->0)b[c]=arguments[c+1];return Qb(this,b,a)}function Qb(a,b,c){var d=[];for(var e=0;e<b.length;e++){var f=z(b[e]);f.size!==0&&d.push(f)}if(d.length===0)return a;return a.size===0&&!a.__ownerID&&d.length===1?a.constructor(d[0]):a.withMutations(function(a){var e=c?function(b,d){Lb(a,d,g,function(a){return a===g?b:c(a,b,d)})}:function(b,c){a.set(c,b)};for(var b=0;b<d.length;b++)d[b].forEach(e)})}function Rb(a){var b=[],c=arguments.length-1;while(c-->0)b[c]=arguments[c+1];return Wb(a,b)}function Sb(a,b){var c=[],d=arguments.length-2;while(d-->0)c[d]=arguments[d+2];return Wb(b,c,a)}function Tb(a){var b=[],c=arguments.length-1;while(c-->0)b[c]=arguments[c+1];return Vb(a,b)}function Ub(a,b){var c=[],d=arguments.length-2;while(d-->0)c[d]=arguments[d+2];return Vb(b,c,a)}function Vb(a,b,c){return Wb(a,b,Xb(c))}function Wb(a,b,c){if(!yb(a))throw new TypeError("Cannot merge into non-data-structure value: "+a);if(t(a))return a.mergeWith?a.mergeWith.apply(a,[c].concat(b)):a.concat.apply(a,b);var d=Array.isArray(a),e=a,f=d?ja:z;d=d?function(b){e===a&&(e=Cb(e)),e.push(b)}:function(b,d){var f=sa.call(e,d);b=f&&c?c(e[d],b,d):b;(!f||b!==e[d])&&(e===a&&(e=Cb(e)),e[d]=b)};for(var g=0;g<b.length;g++)f(b[g]).forEach(d);return e}function Xb(a){function b(c,d,e){return yb(c)&&yb(d)?Wb(c,[d],b):a?a(c,d,e):d}return b}function Yb(){var a=[],b=arguments.length;while(b--)a[b]=arguments[b];return Vb(this,a)}function Zb(a){var b=[],c=arguments.length-1;while(c-->0)b[c]=arguments[c+1];return Vb(this,b,a)}function $b(a){var b=[],c=arguments.length-1;while(c-->0)b[c]=arguments[c+1];return Fb(this,a,S(),function(a){return Wb(a,b)})}function ac(a){var b=[],c=arguments.length-1;while(c-->0)b[c]=arguments[c+1];return Fb(this,a,S(),function(a){return Vb(a,b)})}function bc(a){var b=this.asMutable();a(b);return b.wasAltered()?b.__ensureOwner(this.__ownerID):this}function cc(){return this.__ownerID?this:this.__ensureOwner(new l())}function dc(){return this.__ensureOwner()}function P(){return this.__altered}var ec=function(b){function a(a){return a===null||a===void 0?S():fc(a)&&!x(a)?a:S().withMutations(function(c){var d=b(a);O(d.size);d.forEach(function(a,b){return c.set(b,a)})})}b&&(a.__proto__=b);a.prototype=Object.create(b&&b.prototype);a.prototype.constructor=a;a.of=function(){var a=[],b=arguments.length;while(b--)a[b]=arguments[b];return S().withMutations(function(b){for(var c=0;c<a.length;c+=2){if(c+1>=a.length)throw new Error("Missing value for key: "+a[c]);b.set(a[c],a[c+1])}})};a.prototype.toString=function(){return this.__toString("Map {","}")};a.prototype.get=function(a,b){return this._root?this._root.get(0,void 0,a,b):b};a.prototype.set=function(a,b){return qc(this,a,b)};a.prototype.remove=function(a){return qc(this,a,g)};a.prototype.deleteAll=function(a){var b=y(a);return b.size===0?this:this.withMutations(function(a){b.forEach(function(b){return a.remove(b)})})};a.prototype.clear=function(){if(this.size===0)return this;if(this.__ownerID){this.size=0;this._root=null;this.__hash=void 0;this.__altered=!0;return this}return S()};a.prototype.sort=function(a){return U(nb(this,a))};a.prototype.sortBy=function(a,b){return U(nb(this,b,a))};a.prototype.__iterator=function(a,b){return new lc(this,a,b)};a.prototype.__iterate=function(a,b){var c=this,d=0;this._root&&this._root.iterate(function(b){d++;return a(b[1],b[0],c)},b);return d};a.prototype.__ensureOwner=function(a){if(a===this.__ownerID)return this;if(!a){if(this.size===0)return S();this.__ownerID=a;this.__altered=!1;return this}return oc(this.size,this._root,a,this.__hash)};return a}(z);function fc(a){return!!(a&&a[gc])}ec.isMap=fc;var gc="@@__IMMUTABLE_MAP__@@",Q=ec.prototype;Q[gc]=!0;Q[b]=Q.remove;Q.removeAll=Q.deleteAll;Q.concat=Q.merge;Q.setIn=Ib;Q.removeIn=Q.deleteIn=Kb;Q.update=Mb;Q.updateIn=Nb;Q.merge=Ob;Q.mergeWith=Pb;Q.mergeDeep=Yb;Q.mergeDeepWith=Zb;Q.mergeIn=$b;Q.mergeDeepIn=ac;Q.withMutations=bc;Q.wasAltered=P;Q.asImmutable=dc;Q["@@transducer/init"]=Q.asMutable=cc;Q["@@transducer/step"]=function(a,b){return a.set(b[0],b[1])};Q["@@transducer/result"]=function(a){return a.asImmutable()};var hc=function(a,b){this.ownerID=a,this.entries=b};hc.prototype.get=function(a,b,c,d){a=this.entries;for(var b=0,e=a.length;b<e;b++)if(J(c,a[b][0]))return a[b][1];return d};hc.prototype.update=function(a,b,c,d,e,f,h){b=e===g;c=this.entries;var i=0,j=c.length;for(;i<j;i++)if(J(d,c[i][0]))break;var l=i<j;if(l?c[i][1]===e:b)return this;k(h);(b||!l)&&k(f);if(b&&c.length===1)return;if(!l&&!b&&c.length>=Bc)return uc(a,c,d,e);h=a&&a===this.ownerID;f=h?c:N(c);l?b?i===j-1?f.pop():f[i]=f.pop():f[i]=[d,e]:f.push([d,e]);if(h){this.entries=f;return this}return new hc(a,f)};var ic=function(a,b,c){this.ownerID=a,this.bitmap=b,this.nodes=c};ic.prototype.get=function(a,b,d,f){b===void 0&&(b=K(d));var g=1<<((a===0?b:b>>>a)&e),h=this.bitmap;return(h&g)===0?f:this.nodes[xc(h&g-1)].get(a+c,b,d,f)};ic.prototype.update=function(a,b,d,f,h,i,j){d===void 0&&(d=K(f));var k=(b===0?d:d>>>b)&e,l=1<<k,m=this.bitmap,n=(m&l)!==0;if(!n&&h===g)return this;var o=xc(m&l-1),p=this.nodes,q=n?p[o]:void 0;b=rc(q,a,b+c,d,f,h,i,j);if(b===q)return this;if(!n&&b&&p.length>=Cc)return wc(a,p,m,k,b);if(n&&!b&&p.length===2&&sc(p[o^1]))return p[o^1];if(n&&b&&p.length===1&&sc(b))return b;d=a&&a===this.ownerID;f=n?b?m:m^l:m|l;h=n?b?yc(p,o,b,d):Ac(p,o,d):zc(p,o,b,d);if(d){this.bitmap=f;this.nodes=h;return this}return new ic(a,f,h)};var jc=function(a,b,c){this.ownerID=a,this.count=b,this.nodes=c};jc.prototype.get=function(a,b,d,f){b===void 0&&(b=K(d));var g=(a===0?b:b>>>a)&e;g=this.nodes[g];return g?g.get(a+c,b,d,f):f};jc.prototype.update=function(a,b,d,f,h,i,j){d===void 0&&(d=K(f));var k=(b===0?d:d>>>b)&e,l=h===g,m=this.nodes,n=m[k];if(l&&!n)return this;l=rc(n,a,b+c,d,f,h,i,j);if(l===n)return this;b=this.count;if(!n)b++;else if(!l){b--;if(b<Dc)return vc(a,m,b,k)}d=a&&a===this.ownerID;f=yc(m,k,l,d);if(d){this.count=b;this.nodes=f;return this}return new jc(a,b,f)};var kc=function(a,b,c){this.ownerID=a,this.keyHash=b,this.entries=c};kc.prototype.get=function(a,b,c,d){a=this.entries;for(var b=0,e=a.length;b<e;b++)if(J(c,a[b][0]))return a[b][1];return d};kc.prototype.update=function(a,b,c,d,e,f,h){c===void 0&&(c=K(d));var i=e===g;if(c!==this.keyHash){if(i)return this;k(h);k(f);return tc(this,a,b,c,[d,e])}b=this.entries;c=0;var j=b.length;for(;c<j;c++)if(J(d,b[c][0]))break;var l=c<j;if(l?b[c][1]===e:i)return this;k(h);(i||!l)&&k(f);if(i&&j===2)return new R(a,this.keyHash,b[c^1]);h=a&&a===this.ownerID;f=h?b:N(b);l?i?c===j-1?f.pop():f[c]=f.pop():f[c]=[d,e]:f.push([d,e]);if(h){this.entries=f;return this}return new kc(a,this.keyHash,f)};var R=function(a,b,c){this.ownerID=a,this.keyHash=b,this.entry=c};R.prototype.get=function(a,b,c,d){return J(c,this.entry[0])?this.entry[1]:d};R.prototype.update=function(a,b,c,d,e,f,h){c=e===g;var i=J(d,this.entry[0]);if(i?e===this.entry[1]:c)return this;k(h);if(c){k(f);return}if(i){if(a&&a===this.ownerID){this.entry[1]=e;return this}return new R(a,this.keyHash,[d,e])}k(f);return tc(this,a,b,K(d),[d,e])};hc.prototype.iterate=kc.prototype.iterate=function(a,b){var c=this.entries;for(var d=0,e=c.length-1;d<=e;d++)if(a(c[b?e-d:d])===!1)return!1};ic.prototype.iterate=jc.prototype.iterate=function(a,b){var c=this.nodes;for(var d=0,e=c.length-1;d<=e;d++){var f=c[b?e-d:d];if(f&&f.iterate(a,b)===!1)return!1}};R.prototype.iterate=function(a,b){return a(this.entry)};var lc=function(b){function a(a,b,c){this._type=b,this._reverse=c,this._stack=a._root&&nc(a._root)}b&&(a.__proto__=b);a.prototype=Object.create(b&&b.prototype);a.prototype.constructor=a;a.prototype.next=function(){var a=this,b=this._type,c=this._stack;while(c){var d=c.node,e=c.index++,f;if(d.entry){if(e===0)return mc(b,d.entry)}else if(d.entries){f=d.entries.length-1;if(e<=f)return mc(b,d.entries[a._reverse?f-e:e])}else{f=d.nodes.length-1;if(e<=f){d=d.nodes[a._reverse?f-e:e];if(d){if(d.entry)return mc(b,d.entry);c=a._stack=nc(d,c)}continue}}c=a._stack=a._stack.__prev}return F()};return a}(D);function mc(a,b){return E(a,b[0],b[1])}function nc(a,b){return{node:a,index:0,__prev:b}}function oc(a,b,c,d){var e=Object.create(Q);e.size=a;e._root=b;e.__ownerID=c;e.__hash=d;e.__altered=!1;return e}var pc;function S(){return pc||(pc=oc(0))}function qc(a,b,c){var d,e;if(!a._root){if(c===g)return a;e=1;d=new hc(a.__ownerID,[[b,c]])}else{var f=j(h),k=j(i);d=rc(a._root,a.__ownerID,0,void 0,b,c,f,k);if(!k.value)return a;e=a.size+(f.value?c===g?-1:1:0)}if(a.__ownerID){a.size=e;a._root=d;a.__hash=void 0;a.__altered=!0;return a}return d?oc(e,d):S()}function rc(a,b,c,d,e,f,h,i){if(!a){if(f===g)return a;k(i);k(h);return new R(b,d,[e,f])}return a.update(b,c,d,e,f,h,i)}function sc(a){return a.constructor===R||a.constructor===kc}function tc(a,b,d,f,g){if(a.keyHash===f)return new kc(b,f,[a.entry,g]);var h=(d===0?a.keyHash:a.keyHash>>>d)&e,i=(d===0?f:f>>>d)&e;f=h===i?[tc(a,b,d+c,f,g)]:(d=new R(b,f,g),h<i?[a,d]:[d,a]);return new ic(b,1<<h|1<<i,f)}function uc(a,b,c,d){a||(a=new l());c=new R(a,K(c),[c,d]);for(d=0;d<b.length;d++){var e=b[d];c=c.update(a,0,void 0,e[0],e[1])}return c}function vc(a,b,c,d){var e=0,f=0;c=new Array(c);for(var g=0,h=1,i=b.length;g<i;g++,h<<=1){var j=b[g];j!==void 0&&g!==d&&(e|=h,c[f++]=j)}return new ic(a,e,c)}function wc(a,b,c,e,f){var g=0,h=new Array(d);for(var i=0;c!==0;i++,c>>>=1)h[i]=c&1?b[g++]:void 0;h[e]=f;return new jc(a,g+1,h)}function xc(a){a-=a>>1&1431655765;a=(a&858993459)+(a>>2&858993459);a=a+(a>>4)&252645135;a+=a>>8;a+=a>>16;return a&127}function yc(a,b,c,d){d=d?a:N(a);d[b]=c;return d}function zc(a,b,c,d){var e=a.length+1;if(d&&b+1===e){a[b]=c;return a}d=new Array(e);var f=0;for(var g=0;g<e;g++)g===b?(d[g]=c,f=-1):d[g]=a[g+f];return d}function Ac(a,b,c){var d=a.length-1;if(c&&b===d){a.pop();return a}c=new Array(d);var e=0;for(var f=0;f<d;f++)f===b&&(e=1),c[f]=a[f+e];return c}var Bc=d/4,Cc=d/2,Dc=d/4,Ec=function(b){function a(a){var e=Mc();if(a===null||a===void 0)return e;if(Fc(a))return a;var f=b(a),g=f.size;if(g===0)return e;O(g);return g>0&&g<d?Kc(0,g,c,null,new Hc(f.toArray())):e.withMutations(function(a){a.setSize(g),f.forEach(function(b,c){return a.set(c,b)})})}b&&(a.__proto__=b);a.prototype=Object.create(b&&b.prototype);a.prototype.constructor=a;a.of=function(){return this(arguments)};a.prototype.toString=function(){return this.__toString("List [","]")};a.prototype.get=function(a,b){a=n(this,a);if(a>=0&&a<this.size){a+=this._origin;var c=Qc(this,a);return c&&c.array[a&e]}return b};a.prototype.set=function(a,b){return Nc(this,a,b)};a.prototype.remove=function(a){return this.has(a)?a===0?this.shift():a===this.size-1?this.pop():this.splice(a,1):this};a.prototype.insert=function(a,b){return this.splice(a,0,b)};a.prototype.clear=function(){if(this.size===0)return this;if(this.__ownerID){this.size=this._origin=this._capacity=0;this._level=c;this._root=this._tail=null;this.__hash=void 0;this.__altered=!0;return this}return Mc()};a.prototype.push=function(){var a=arguments,b=this.size;return this.withMutations(function(c){Rc(c,0,b+a.length);for(var d=0;d<a.length;d++)c.set(b+d,a[d])})};a.prototype.pop=function(){return Rc(this,0,-1)};a.prototype.unshift=function(){var a=arguments;return this.withMutations(function(b){Rc(b,-a.length);for(var c=0;c<a.length;c++)b.set(c,a[c])})};a.prototype.shift=function(){return Rc(this,1)};a.prototype.concat=function(){var a=arguments,c=[];for(var d=0;d<arguments.length;d++){var e=a[d],f=b(typeof e!=="string"&&oa(e)?e:[e]);f.size!==0&&c.push(f)}if(c.length===0)return this;return this.size===0&&!this.__ownerID&&c.length===1?this.constructor(c[0]):this.withMutations(function(a){c.forEach(function(b){return b.forEach(function(b){return a.push(b)})})})};a.prototype.setSize=function(a){return Rc(this,0,a)};a.prototype.slice=function(a,b){var c=this.size;return p(a,b,c)?this:Rc(this,q(a,c),r(b,c))};a.prototype.__iterator=function(a,b){var c=b?this.size:0,d=Jc(this,b);return new D(function(){var e=d();return e===Ic?F():E(a,b?--c:c++,e)})};a.prototype.__iterate=function(a,b){var c=this,d=b?this.size:0,e=Jc(this,b),f;while((f=e())!==Ic)if(a(f,b?--d:d++,c)===!1)break;return d};a.prototype.__ensureOwner=function(a){if(a===this.__ownerID)return this;if(!a){if(this.size===0)return Mc();this.__ownerID=a;this.__altered=!1;return this}return Kc(this._origin,this._capacity,this._level,this._root,this._tail,a,this.__hash)};return a}(ja);function Fc(a){return!!(a&&a[Gc])}Ec.isList=Fc;var Gc="@@__IMMUTABLE_LIST__@@",T=Ec.prototype;T[Gc]=!0;T[b]=T.remove;T.merge=T.concat;T.setIn=Ib;T.deleteIn=T.removeIn=Kb;T.update=Mb;T.updateIn=Nb;T.mergeIn=$b;T.mergeDeepIn=ac;T.withMutations=bc;T.wasAltered=P;T.asImmutable=dc;T["@@transducer/init"]=T.asMutable=cc;T["@@transducer/step"]=function(a,b){return a.push(b)};T["@@transducer/result"]=function(a){return a.asImmutable()};var Hc=function(a,b){this.array=a,this.ownerID=b};Hc.prototype.removeBefore=function(a,b,d){if(d===b?1<<b:this.array.length===0)return this;var f=d>>>b&e;if(f>=this.array.length)return new Hc([],a);var g=f===0,h;if(b>0){var i=this.array[f];h=i&&i.removeBefore(a,b-c,d);if(h===i&&g)return this}if(g&&!h)return this;b=Pc(this,a);if(!g)for(d=0;d<f;d++)b.array[d]=void 0;h&&(b.array[f]=h);return b};Hc.prototype.removeAfter=function(a,b,d){if(d===(b?1<<b:0)||this.array.length===0)return this;var f=d-1>>>b&e;if(f>=this.array.length)return this;var g;if(b>0){var h=this.array[f];g=h&&h.removeAfter(a,b-c,d);if(g===h&&f===this.array.length-1)return this}b=Pc(this,a);b.array.splice(f+1);g&&(b.array[f]=g);return b};var Ic={};function Jc(a,b){var e=a._origin,f=a._capacity,g=Sc(f),h=a._tail;return i(a._root,a._level,0);function i(a,b,c){return b===0?j(a,c):k(a,b,c)}function j(a,c){var i=c===g?h&&h.array:a&&a.array,j=c>e?0:e-c,k=f-c;k>d&&(k=d);return function(){if(j===k)return Ic;var a=b?--k:j++;return i&&i[a]}}function k(a,g,h){var j,k=a&&a.array,l=h>e?0:e-h>>g,m=(f-h>>g)+1;m>d&&(m=d);return function(){while(!0){if(j){var a=j();if(a!==Ic)return a;j=null}if(l===m)return Ic;a=b?--m:l++;j=i(k&&k[a],g-c,h+(a<<g))}}}}function Kc(b,c,d,e,f,g,a){var h=Object.create(T);h.size=c-b;h._origin=b;h._capacity=c;h._level=d;h._root=e;h._tail=f;h.__ownerID=g;h.__hash=a;h.__altered=!1;return h}var Lc;function Mc(){return Lc||(Lc=Kc(0,0,c))}function Nc(a,b,c){b=n(a,b);if(b!==b)return a;if(b>=a.size||b<0)return a.withMutations(function(a){b<0?Rc(a,b).set(0,c):Rc(a,0,b+1).set(b,c)});b+=a._origin;var d=a._tail,e=a._root,f=j(i);b>=Sc(a._capacity)?d=Oc(d,a.__ownerID,0,b,c,f):e=Oc(e,a.__ownerID,a._level,b,c,f);if(!f.value)return a;if(a.__ownerID){a._root=e;a._tail=d;a.__hash=void 0;a.__altered=!0;return a}return Kc(a._origin,a._capacity,a._level,e,d)}function Oc(a,b,d,f,g,h){var i=f>>>d&e,j=a&&i<a.array.length;if(!j&&g===void 0)return a;if(d>0){var l=a&&a.array[i];d=Oc(l,b,d-c,f,g,h);if(d===l)return a;f=Pc(a,b);f.array[i]=d;return f}if(j&&a.array[i]===g)return a;k(h);f=Pc(a,b);g===void 0&&i===f.array.length-1?f.array.pop():f.array[i]=g;return f}function Pc(a,b){return b&&a&&b===a.ownerID?a:new Hc(a?a.array.slice():[],b)}function Qc(a,b){if(b>=Sc(a._capacity))return a._tail;if(b<1<<a._level+c){var d=a._root;a=a._level;while(d&&a>0)d=d.array[b>>>a&e],a-=c;return d}}function Rc(a,b,d){b!==void 0&&(b|=0);d!==void 0&&(d|=0);var f=a.__ownerID||new l(),g=a._origin,h=a._capacity;b=g+b;d=d===void 0?h:d<0?h+d:g+d;if(b===g&&d===h)return a;if(b>=d)return a.clear();var i=a._level,j=a._root,k=0;while(b+k<0)j=new Hc(j&&j.array.length?[void 0,j]:[],f),i+=c,k+=1<<i;k&&(b+=k,g+=k,d+=k,h+=k);var m=Sc(h),n=Sc(d);while(n>=1<<i+c)j=new Hc(j&&j.array.length?[j]:[],f),i+=c;var o=a._tail,p=n<m?Qc(a,d-1):n>m?new Hc([],f):o;if(o&&n>m&&b<h&&o.array.length){j=Pc(j,f);var q=j;for(var r=i;r>c;r-=c){var s=m>>>r&e;q=q.array[s]=Pc(q.array[s],f)}q.array[m>>>c&e]=o}d<h&&(p=p&&p.removeAfter(f,0,d));if(b>=n)b-=n,d-=n,i=c,j=null,p=p&&p.removeBefore(f,0,b);else if(b>g||n<m){k=0;while(j){s=b>>>i&e;if(s!==n>>>i&e)break;s&&(k+=(1<<i)*s);i-=c;j=j.array[s]}j&&b>g&&(j=j.removeBefore(f,i,b-k));j&&n<m&&(j=j.removeAfter(f,i,n-k));k&&(b-=k,d-=k)}if(a.__ownerID){a.size=d-b;a._origin=b;a._capacity=d;a._level=i;a._root=j;a._tail=p;a.__hash=void 0;a.__altered=!0;return a}return Kc(b,d,i,j,p)}function Sc(a){return a<d?0:a-1>>>c<<c}var U=function(b){function a(a){return a===null||a===void 0?Wc():Tc(a)?a:Wc().withMutations(function(b){var c=z(a);O(c.size);c.forEach(function(a,c){return b.set(c,a)})})}b&&(a.__proto__=b);a.prototype=Object.create(b&&b.prototype);a.prototype.constructor=a;a.of=function(){return this(arguments)};a.prototype.toString=function(){return this.__toString("OrderedMap {","}")};a.prototype.get=function(a,b){a=this._map.get(a);return a!==void 0?this._list.get(a)[1]:b};a.prototype.clear=function(){if(this.size===0)return this;if(this.__ownerID){this.size=0;this._map.clear();this._list.clear();return this}return Wc()};a.prototype.set=function(a,b){return Xc(this,a,b)};a.prototype.remove=function(a){return Xc(this,a,g)};a.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()};a.prototype.__iterate=function(a,b){var c=this;return this._list.__iterate(function(b){return b&&a(b[1],b[0],c)},b)};a.prototype.__iterator=function(a,b){return this._list.fromEntrySeq().__iterator(a,b)};a.prototype.__ensureOwner=function(a){if(a===this.__ownerID)return this;var b=this._map.__ensureOwner(a),c=this._list.__ensureOwner(a);if(!a){if(this.size===0)return Wc();this.__ownerID=a;this._map=b;this._list=c;return this}return Uc(b,c,a,this.__hash)};return a}(ec);function Tc(a){return fc(a)&&x(a)}U.isOrderedMap=Tc;U.prototype[ha]=!0;U.prototype[b]=U.prototype.remove;function Uc(b,c,d,a){var e=Object.create(U.prototype);e.size=b?b.size:0;e._map=b;e._list=c;e.__ownerID=d;e.__hash=a;return e}var Vc;function Wc(){return Vc||(Vc=Uc(S(),Mc()))}function Xc(b,c,e){var f=b._map,h=b._list,i=f.get(c),a=i!==void 0,j,k;if(e===g){if(!a)return b;h.size>=d&&h.size>=f.size*2?(k=h.filter(function(a,b){return a!==void 0&&i!==b}),j=k.toKeyedSeq().map(function(a){return a[0]}).flip().toMap(),b.__ownerID&&(j.__ownerID=k.__ownerID=b.__ownerID)):(j=f.remove(c),k=i===h.size-1?h.pop():h.set(i,void 0))}else if(a){if(e===h.get(i)[1])return b;j=f;k=h.set(i,[c,e])}else j=f.set(c,h.size),k=h.set(h.size,[c,e]);if(b.__ownerID){b.size=j.size;b._map=j;b._list=k;b.__hash=void 0;return b}return Uc(j,k)}var Yc=function(b){function a(a){return a===null||a===void 0?cd():Zc(a)?a:cd().pushAll(a)}b&&(a.__proto__=b);a.prototype=Object.create(b&&b.prototype);a.prototype.constructor=a;a.of=function(){return this(arguments)};a.prototype.toString=function(){return this.__toString("Stack [","]")};a.prototype.get=function(a,b){var c=this._head;a=n(this,a);while(c&&a--)c=c.next;return c?c.value:b};a.prototype.peek=function(){return this._head&&this._head.value};a.prototype.push=function(){var a=arguments;if(arguments.length===0)return this;var b=this.size+arguments.length,c=this._head;for(var d=arguments.length-1;d>=0;d--)c={value:a[d],next:c};if(this.__ownerID){this.size=b;this._head=c;this.__hash=void 0;this.__altered=!0;return this}return ad(b,c)};a.prototype.pushAll=function(a){a=b(a);if(a.size===0)return this;if(this.size===0&&Zc(a))return a;O(a.size);var c=this.size,d=this._head;a.__iterate(function(a){c++,d={value:a,next:d}},!0);if(this.__ownerID){this.size=c;this._head=d;this.__hash=void 0;this.__altered=!0;return this}return ad(c,d)};a.prototype.pop=function(){return this.slice(1)};a.prototype.clear=function(){if(this.size===0)return this;if(this.__ownerID){this.size=0;this._head=void 0;this.__hash=void 0;this.__altered=!0;return this}return cd()};a.prototype.slice=function(a,c){if(p(a,c,this.size))return this;var d=q(a,this.size),e=r(c,this.size);if(e!==this.size)return b.prototype.slice.call(this,a,c);e=this.size-d;a=this._head;while(d--)a=a.next;if(this.__ownerID){this.size=e;this._head=a;this.__hash=void 0;this.__altered=!0;return this}return ad(e,a)};a.prototype.__ensureOwner=function(a){if(a===this.__ownerID)return this;if(!a){if(this.size===0)return cd();this.__ownerID=a;this.__altered=!1;return this}return ad(this.size,this._head,a,this.__hash)};a.prototype.__iterate=function(a,b){var c=this;if(b)return new wa(this.toArray()).__iterate(function(b,d){return a(b,d,c)},b);b=0;var d=this._head;while(d){if(a(d.value,b++,c)===!1)break;d=d.next}return b};a.prototype.__iterator=function(a,b){if(b)return new wa(this.toArray()).__iterator(a,b);var c=0,d=this._head;return new D(function(){if(d){var b=d.value;d=d.next;return E(a,c++,b)}return F()})};return a}(ja);function Zc(a){return!!(a&&a[$c])}Yc.isStack=Zc;var $c="@@__IMMUTABLE_STACK__@@",V=Yc.prototype;V[$c]=!0;V.shift=V.pop;V.unshift=V.push;V.unshiftAll=V.pushAll;V.withMutations=bc;V.wasAltered=P;V.asImmutable=dc;V["@@transducer/init"]=V.asMutable=cc;V["@@transducer/step"]=function(a,b){return a.unshift(b)};V["@@transducer/result"]=function(a){return a.asImmutable()};function ad(b,c,d,a){var e=Object.create(V);e.size=b;e._head=c;e.__ownerID=d;e.__hash=a;e.__altered=!1;return e}var bd;function cd(){return bd||(bd=ad(0))}function dd(a,b){if(a===b)return!0;if(!u(b)||a.size!==void 0&&b.size!==void 0&&a.size!==b.size||a.__hash!==void 0&&b.__hash!==void 0&&a.__hash!==b.__hash||v(a)!==v(b)||w(a)!==w(b)||x(a)!==x(b))return!1;if(a.size===0&&b.size===0)return!0;var c=!ba(a);if(x(a)){var d=a.entries();return b.every(function(a,b){var e=d.next().value;return e&&J(e[1],a)&&(c||J(e[0],b))})&&d.next().done}var e=!1;if(a.size===void 0)if(b.size===void 0)typeof a.cacheResult==="function"&&a.cacheResult();else{e=!0;var f=a;a=b;b=f}f=!0;b=b.__iterate(function(b,d){if(c?!a.has(b):e?!J(b,a.get(d,g)):!J(a.get(d,g),b)){f=!1;return!1}});return f&&a.size===b}function W(a,b){var c=function(c){a.prototype[c]=b[c]};Object.keys(b).forEach(c);Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(b).forEach(c);return a}function ed(a){return yb(a)?G(a).map(ed).toJSON():a}var fd=function(b){function a(a){return a===null||a===void 0?ld():gd(a)&&!x(a)?a:ld().withMutations(function(c){var d=b(a);O(d.size);d.forEach(function(a){return c.add(a)})})}b&&(a.__proto__=b);a.prototype=Object.create(b&&b.prototype);a.prototype.constructor=a;a.of=function(){return this(arguments)};a.fromKeys=function(a){return this(z(a).keySeq())};a.intersect=function(b){b=y(b).toArray();return b.length?X.intersect.apply(a(b.pop()),b):ld()};a.union=function(b){b=y(b).toArray();return b.length?X.union.apply(a(b.pop()),b):ld()};a.prototype.toString=function(){return this.__toString("Set {","}")};a.prototype.has=function(a){return this._map.has(a)};a.prototype.add=function(a){return id(this,this._map.set(a,a))};a.prototype.remove=function(a){return id(this,this._map.remove(a))};a.prototype.clear=function(){return id(this,this._map.clear())};a.prototype.union=function(){var a=[],c=arguments.length;while(c--)a[c]=arguments[c];a=a.filter(function(a){return a.size!==0});if(a.length===0)return this;return this.size===0&&!this.__ownerID&&a.length===1?this.constructor(a[0]):this.withMutations(function(c){for(var d=0;d<a.length;d++)b(a[d]).forEach(function(a){return c.add(a)})})};a.prototype.intersect=function(){var a=[],c=arguments.length;while(c--)a[c]=arguments[c];if(a.length===0)return this;a=a.map(function(a){return b(a)});var d=[];this.forEach(function(b){a.every(function(a){return a.includes(b)})||d.push(b)});return this.withMutations(function(a){d.forEach(function(b){a.remove(b)})})};a.prototype.subtract=function(){var a=[],c=arguments.length;while(c--)a[c]=arguments[c];if(a.length===0)return this;a=a.map(function(a){return b(a)});var d=[];this.forEach(function(b){a.some(function(a){return a.includes(b)})&&d.push(b)});return this.withMutations(function(a){d.forEach(function(b){a.remove(b)})})};a.prototype.sort=function(a){return Bd(nb(this,a))};a.prototype.sortBy=function(a,b){return Bd(nb(this,b,a))};a.prototype.wasAltered=function(){return this._map.wasAltered()};a.prototype.__iterate=function(a,b){var c=this;return this._map.__iterate(function(b){return a(b,b,c)},b)};a.prototype.__iterator=function(a,b){return this._map.__iterator(a,b)};a.prototype.__ensureOwner=function(a){if(a===this.__ownerID)return this;var b=this._map.__ensureOwner(a);if(!a){if(this.size===0)return this.__empty();this.__ownerID=a;this._map=b;return this}return this.__make(b,a)};return a}(A);function gd(a){return!!(a&&a[hd])}fd.isSet=gd;var hd="@@__IMMUTABLE_SET__@@",X=fd.prototype;X[hd]=!0;X[b]=X.remove;X.merge=X.concat=X.union;X.withMutations=bc;X.asImmutable=dc;X["@@transducer/init"]=X.asMutable=cc;X["@@transducer/step"]=function(a,b){return a.add(b)};X["@@transducer/result"]=function(a){return a.asImmutable()};X.__empty=ld;X.__make=jd;function id(a,b){if(a.__ownerID){a.size=b.size;a._map=b;return a}return b===a._map?a:b.size===0?a.__empty():a.__make(b)}function jd(b,c){var a=Object.create(X);a.size=b?b.size:0;a._map=b;a.__ownerID=c;return a}var kd;function ld(){return kd||(kd=jd(S()))}var md=function(b){function a(b,c,d){if(!(this instanceof a))return new a(b,c,d);vb(d!==0,"Cannot step a Range by 0");b=b||0;c===void 0&&(c=Infinity);d=d===void 0?1:Math.abs(d);c<b&&(d=-d);this._start=b;this._end=c;this._step=d;this.size=Math.max(0,Math.ceil((c-b)/d-1)+1);if(this.size===0){if(nd)return nd;nd=this}}b&&(a.__proto__=b);a.prototype=Object.create(b&&b.prototype);a.prototype.constructor=a;a.prototype.toString=function(){return this.size===0?"Range []":"Range [ "+this._start+"..."+this._end+(this._step!==1?" by "+this._step:"")+" ]"};a.prototype.get=function(a,b){return this.has(a)?this._start+n(this,a)*this._step:b};a.prototype.includes=function(a){a=(a-this._start)/this._step;return a>=0&&a<this.size&&a===Math.floor(a)};a.prototype.slice=function(b,c){if(p(b,c,this.size))return this;b=q(b,this.size);c=r(c,this.size);return c<=b?new a(0,0):new a(this.get(b,this._end),this.get(c,this._end),this._step)};a.prototype.indexOf=function(a){a=a-this._start;if(a%this._step===0){a=a/this._step;if(a>=0&&a<this.size)return a}return-1};a.prototype.lastIndexOf=function(a){return this.indexOf(a)};a.prototype.__iterate=function(a,b){var c=this,d=this.size,e=this._step,f=b?this._start+(d-1)*e:this._start,g=0;while(g!==d){if(a(f,b?d-++g:g++,c)===!1)break;f+=b?-e:e}return g};a.prototype.__iterator=function(a,b){var c=this.size,d=this._step,e=b?this._start+(c-1)*d:this._start,f=0;return new D(function(){if(f===c)return F();var g=e;e+=b?-d:d;return E(a,b?c-++f:f++,g)})};a.prototype.equals=function(b){return b instanceof a?this._start===b._start&&this._end===b._end&&this._step===b._step:dd(this,b)};return a}(I),nd;function od(a,b,c){b=wb(b);var d=0;while(d!==b.length){a=Bb(a,b[d++],g);if(a===g)return c}return a}function pd(a,b){return od(this,a,b)}function qd(a,b){return od(a,b,g)!==g}function Y(a){return qd(this,a)}function Z(){O(this.size);var a={};this.__iterate(function(b,c){a[c]=b});return a}y.isIterable=u;y.isKeyed=v;y.isIndexed=w;y.isAssociative=ba;y.isOrdered=x;y.Iterator=D;W(y,{toArray:function(){O(this.size);var a=new Array(this.size||0),b=v(this),c=0;this.__iterate(function(d,e){a[c++]=b?[e,d]:d});return a},toIndexedSeq:function(){return new Ya(this)},toJS:function(){return ed(this)},toKeyedSeq:function(){return new Xa(this,!0)},toMap:function(){return ec(this.toKeyedSeq())},toObject:Z,toOrderedMap:function(){return U(this.toKeyedSeq())},toOrderedSet:function(){return Bd(v(this)?this.valueSeq():this)},toSet:function(){return fd(v(this)?this.valueSeq():this)},toSetSeq:function(){return new Za(this)},toSeq:function(){return w(this)?this.toIndexedSeq():v(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return Yc(v(this)?this.valueSeq():this)},toList:function(){return Ec(v(this)?this.valueSeq():this)},toString:function(){return"[Collection]"},__toString:function(a,b){return this.size===0?a+b:a+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+b},concat:function(){var a=[],b=arguments.length;while(b--)a[b]=arguments[b];return L(this,jb(this,a))},includes:function(a){return this.some(function(b){return J(b,a)})},entries:function(){return this.__iterator(C)},every:function(a,b){O(this.size);var c=!0;this.__iterate(function(d,e,f){if(!a.call(b,d,e,f)){c=!1;return!1}});return c},filter:function(a,b){return L(this,db(this,a,b,!0))},find:function(a,b,c){a=this.findEntry(a,b);return a?a[1]:c},forEach:function(a,b){O(this.size);return this.__iterate(b?a.bind(b):a)},join:function(a){O(this.size);a=a!==void 0?""+a:",";var b="",c=!0;this.__iterate(function(d){c?c=!1:b+=a,b+=d!==null&&d!==void 0?d.toString():""});return b},keys:function(){return this.__iterator(ka)},map:function(a,b){return L(this,bb(this,a,b))},reduce:function(a,b,c){return rd(this,a,b,c,arguments.length<2,!1)},reduceRight:function(a,b,c){return rd(this,a,b,c,arguments.length<2,!0)},reverse:function(){return L(this,cb(this,!0))},slice:function(a,b){return L(this,gb(this,a,b,!0))},some:function(a,b){return!this.every(ud(a),b)},sort:function(a){return L(this,nb(this,a))},values:function(){return this.__iterator(B)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return this.size!==void 0?this.size===0:!this.some(function(){return!0})},count:function(a,b){return m(a?this.toSeq().filter(a,b):this)},countBy:function(a,b){return eb(this,a,b)},equals:function(a){return dd(this,a)},entrySeq:function(){var a=this;if(a._cache)return new wa(a._cache);var b=a.toSeq().map(td).toIndexedSeq();b.fromEntrySeq=function(){return a.toSeq()};return b},filterNot:function(a,b){return this.filter(ud(a),b)},findEntry:function(a,b,c){c=c;this.__iterate(function(d,e,f){if(a.call(b,d,e,f)){c=[e,d];return!1}});return c},findKey:function(a,b){a=this.findEntry(a,b);return a&&a[0]},findLast:function(a,b,c){return this.toKeyedSeq().reverse().find(a,b,c)},findLastEntry:function(a,b,c){return this.toKeyedSeq().reverse().findEntry(a,b,c)},findLastKey:function(a,b){return this.toKeyedSeq().reverse().findKey(a,b)},first:function(){return this.find(o)},flatMap:function(a,b){return L(this,lb(this,a,b))},flatten:function(a){return L(this,kb(this,a,!0))},fromEntrySeq:function(){return new $a(this)},get:function(a,b){return this.find(function(b,c){return J(c,a)},void 0,b)},getIn:pd,groupBy:function(a,b){return fb(this,a,b)},has:function(a){return this.get(a,g)!==g},hasIn:Y,isSubset:function(a){a=typeof a.includes==="function"?a:y(a);return this.every(function(b){return a.includes(b)})},isSuperset:function(a){a=typeof a.isSubset==="function"?a:y(a);return a.isSubset(this)},keyOf:function(a){return this.findKey(function(b){return J(b,a)})},keySeq:function(){return this.toSeq().map(sd).toIndexedSeq()},last:function(){return this.toSeq().reverse().first()},lastKeyOf:function(a){return this.toKeyedSeq().reverse().keyOf(a)},max:function(a){return ob(this,a)},maxBy:function(a,b){return ob(this,b,a)},min:function(a){return ob(this,a?vd(a):xd)},minBy:function(a,b){return ob(this,b?vd(b):xd,a)},rest:function(){return this.slice(1)},skip:function(a){return a===0?this:this.slice(Math.max(0,a))},skipLast:function(a){return a===0?this:this.slice(0,-Math.max(0,a))},skipWhile:function(a,b){return L(this,ib(this,a,b,!0))},skipUntil:function(a,b){return this.skipWhile(ud(a),b)},sortBy:function(a,b){return L(this,nb(this,b,a))},take:function(a){return this.slice(0,Math.max(0,a))},takeLast:function(a){return this.slice(-Math.max(0,a))},takeWhile:function(a,b){return L(this,hb(this,a,b))},takeUntil:function(a,b){return this.takeWhile(ud(a),b)},update:function(a){return a(this)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=yd(this))}});P=y.prototype;P[ea]=!0;P[na]=P.values;P.toJSON=P.toArray;P.__toStringMapper=zb;P.inspect=P.toSource=function(){return this.toString()};P.chain=P.flatMap;P.contains=P.includes;W(z,{flip:function(){return L(this,ab(this))},mapEntries:function(a,b){var c=this,d=0;return L(this,this.toSeq().map(function(e,f){return a.call(b,[f,e],d++,c)}).fromEntrySeq())},mapKeys:function(a,b){var c=this;return L(this,this.toSeq().flip().map(function(d,e){return a.call(b,d,e,c)}).flip())}});Y=z.prototype;Y[fa]=!0;Y[na]=P.entries;Y.toJSON=Z;Y.__toStringMapper=function(a,b){return zb(b)+": "+zb(a)};W(ja,{toKeyedSeq:function(){return new Xa(this,!1)},filter:function(a,b){return L(this,db(this,a,b,!1))},findIndex:function(a,b){a=this.findEntry(a,b);return a?a[0]:-1},indexOf:function(a){a=this.keyOf(a);return a===void 0?-1:a},lastIndexOf:function(a){a=this.lastKeyOf(a);return a===void 0?-1:a},reverse:function(){return L(this,cb(this,!1))},slice:function(a,b){return L(this,gb(this,a,b,!1))},splice:function(a,b){var c=arguments.length;b=Math.max(b||0,0);if(c===0||c===2&&!b)return this;a=q(a,a<0?this.count():this.size);var d=this.slice(0,a);return L(this,c===1?d:d.concat(N(arguments,2),this.slice(a+b)))},findLastIndex:function(a,b){a=this.findLastEntry(a,b);return a?a[0]:-1},first:function(){return this.get(0)},flatten:function(a){return L(this,kb(this,a,!1))},get:function(a,b){a=n(this,a);return a<0||this.size===Infinity||this.size!==void 0&&a>this.size?b:this.find(function(b,c){return c===a},void 0,b)},has:function(a){a=n(this,a);return a>=0&&(this.size!==void 0?this.size===Infinity||a<this.size:this.indexOf(a)!==-1)},interpose:function(a){return L(this,mb(this,a))},interleave:function(){var a=[this].concat(N(arguments)),b=qb(this.toSeq(),I.of,a),c=b.flatten(!0);b.size&&(c.size=b.size*a.length);return L(this,c)},keySeq:function(){return md(0,this.size)},last:function(){return this.get(-1)},skipWhile:function(a,b){return L(this,ib(this,a,b,!1))},zip:function(){var a=[this].concat(N(arguments));return L(this,qb(this,wd,a))},zipAll:function(){var a=[this].concat(N(arguments));return L(this,qb(this,wd,a,!0))},zipWith:function(a){var b=N(arguments);b[0]=this;return L(this,qb(this,a,b))}});Z=ja.prototype;Z[ga]=!0;Z[ha]=!0;W(A,{get:function(a,b){return this.has(a)?a:b},includes:function(a){return this.has(a)},keySeq:function(){return this.valueSeq()}});A.prototype.has=P.includes;A.prototype.contains=A.prototype.includes;W(H,z.prototype);W(I,ja.prototype);W(ua,A.prototype);function rd(a,b,c,d,e,f){O(a.size);a.__iterate(function(a,f,g){e?(e=!1,c=a):c=b.call(d,c,a,f,g)},f);return c}function sd(a,b){return b}function td(a,b){return[b,a]}function ud(a){return function(){return!a.apply(this,arguments)}}function vd(a){return function(){return-a.apply(this,arguments)}}function wd(){return N(arguments)}function xd(a,b){return a<b?1:a>b?-1:0}function yd(a){if(a.size===Infinity)return 0;var b=x(a),c=v(a),d=b?1:0;a=a.__iterate(c?b?function(a,b){d=31*d+Ad(K(a),K(b))|0}:function(a,b){d=d+Ad(K(a),K(b))|0}:b?function(a){d=31*d+K(a)|0}:function(a){d=d+K(a)|0});return zd(a,d)}function zd(a,b){b=Ha(b,3432918353);b=Ha(b<<15|b>>>-15,461845907);b=Ha(b<<13|b>>>-13,5);b=(b+3864292196|0)^a;b=Ha(b^b>>>16,2246822507);b=Ha(b^b>>>13,3266489909);b=Ia(b^b>>>16);return b}function Ad(a,b){return a^b+2654435769+(a<<6)+(a>>2)|0}var Bd=function(b){function a(a){return a===null||a===void 0?Gd():Cd(a)?a:Gd().withMutations(function(b){var c=A(a);O(c.size);c.forEach(function(a){return b.add(a)})})}b&&(a.__proto__=b);a.prototype=Object.create(b&&b.prototype);a.prototype.constructor=a;a.of=function(){return this(arguments)};a.fromKeys=function(a){return this(z(a).keySeq())};a.prototype.toString=function(){return this.__toString("OrderedSet {","}")};return a}(fd);function Cd(a){return gd(a)&&x(a)}Bd.isOrderedSet=Cd;var Dd=Bd.prototype;Dd[ha]=!0;Dd.zip=Z.zip;Dd.zipWith=Z.zipWith;Dd.__empty=Gd;Dd.__make=Ed;function Ed(b,c){var a=Object.create(Dd);a.size=b?b.size:0;a._map=b;a.__ownerID=c;return a}var Fd;function Gd(){return Fd||(Fd=Ed(Wc()))}Y=function(a,b){var c,d=function(f){var g=this;if(f instanceof d)return f;if(!(this instanceof d))return new d(f);if(!c){c=!0;var h=Object.keys(a),i=e._indices={};e._name=b;e._keys=h;e._defaultValues=a;for(var j=0;j<h.length;j++){var k=h[j];i[k]=j;e[k]?typeof console==="object"&&emptyFunction&&!1:Kd(e,k)}}this.__ownerID=void 0;this._values=Ec().withMutations(function(a){a.setSize(g._keys.length),z(f).forEach(function(b,c){a.set(g._indices[c],b===g._defaultValues[c]?void 0:b)})})},e=d.prototype=Object.create($);e.constructor=d;return d};Y.prototype.toString=function(){var a=this,b=Id(this)+" { ",c=this._keys,d;for(var e=0,f=c.length;e!==f;e++)d=c[e],b+=(e?", ":"")+d+": "+zb(a.get(d));return b+" }"};Y.prototype.equals=function(a){return this===a||a&&this._keys===a._keys&&Jd(this).equals(Jd(a))};Y.prototype.hashCode=function(){return Jd(this).hashCode()};Y.prototype.has=function(a){return this._indices.hasOwnProperty(a)};Y.prototype.get=function(a,b){if(!this.has(a))return b;b=this._indices[a];b=this._values.get(b);return b===void 0?this._defaultValues[a]:b};Y.prototype.set=function(a,b){if(this.has(a)){a=this._values.set(this._indices[a],b===this._defaultValues[a]?void 0:b);if(a!==this._values&&!this.__ownerID)return Hd(this,a)}return this};Y.prototype.remove=function(a){return this.set(a)};Y.prototype.clear=function(){var a=this._values.clear().setSize(this._keys.length);return this.__ownerID?this:Hd(this,a)};Y.prototype.wasAltered=function(){return this._values.wasAltered()};Y.prototype.toSeq=function(){return Jd(this)};Y.prototype.toJS=function(){return ed(this)};Y.prototype.entries=function(){return this.__iterator(C)};Y.prototype.__iterator=function(a,b){return Jd(this).__iterator(a,b)};Y.prototype.__iterate=function(a,b){return Jd(this).__iterate(a,b)};Y.prototype.__ensureOwner=function(a){if(a===this.__ownerID)return this;var b=this._values.__ensureOwner(a);if(!a){this.__ownerID=a;this._values=b;return this}return Hd(this,b,a)};Y.isRecord=ca;Y.getDescriptiveName=Id;var $=Y.prototype;$[ia]=!0;$[b]=$.remove;$.deleteIn=$.removeIn=Kb;$.getIn=pd;$.hasIn=P.hasIn;$.merge=Ob;$.mergeWith=Pb;$.mergeIn=$b;$.mergeDeep=Yb;$.mergeDeepWith=Zb;$.mergeDeepIn=ac;$.setIn=Ib;$.update=Mb;$.updateIn=Nb;$.withMutations=bc;$.asMutable=cc;$.asImmutable=dc;$[na]=$.entries;$.toJSON=$.toObject=P.toObject;$.inspect=$.toSource=function(){return this.toString()};function Hd(a,b,c){a=Object.create(Object.getPrototypeOf(a));a._values=b;a.__ownerID=c;return a}function Id(a){return a._name||a.constructor.name||"Record"}function Jd(a){return Da(a._keys.map(function(b){return[b,a.get(b)]}))}function Kd(a,b){try{Object.defineProperty(a,b,{get:function(){return this.get(b)},set:function(a){vb(this.__ownerID,"Cannot set on an immutable record."),this.set(b,a)}})}catch(a){}}W=function(a){function b(a,c){if(!(this instanceof b))return new b(a,c);this._value=a;this.size=c===void 0?Infinity:Math.max(0,c);if(this.size===0){if(Ld)return Ld;Ld=this}}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.toString=function(){return this.size===0?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"};b.prototype.get=function(a,b){return this.has(a)?this._value:b};b.prototype.includes=function(a){return J(this._value,a)};b.prototype.slice=function(a,c){var d=this.size;return p(a,c,d)?this:new b(this._value,r(c,d)-q(a,d))};b.prototype.reverse=function(){return this};b.prototype.indexOf=function(a){return J(this._value,a)?0:-1};b.prototype.lastIndexOf=function(a){return J(this._value,a)?this.size:-1};b.prototype.__iterate=function(a,b){var c=this,d=this.size,e=0;while(e!==d)if(a(c._value,b?d-++e:e++,c)===!1)break;return e};b.prototype.__iterator=function(a,b){var c=this,d=this.size,e=0;return new D(function(){return e===d?F():E(a,b?d-++e:e++,c._value)})};b.prototype.equals=function(a){return a instanceof b?J(this._value,a._value):dd(a)};return b}(I);var Ld;function Md(a,b){return Nd([],b||Od,a,"",b&&b.length>2?[]:void 0,{"":a})}function Nd(a,b,c,d,e,f){var g=Array.isArray(c)?I:xb(c)?H:null;if(g){if(~a.indexOf(c))throw new TypeError("Cannot convert circular structure to Immutable");a.push(c);e&&d!==""&&e.push(d);f=b.call(f,d,g(c).map(function(d,f){return Nd(a,b,d,f,e,c)}),e&&e.slice());a.pop();e&&e.pop();return f}return c}function Od(a,b){return v(b)?b.toMap():b.toList()}Z="4.0.0-rc.9";b={version:Z,Collection:y,Iterable:y,Seq:G,Map:ec,OrderedMap:U,List:Ec,Stack:Yc,Set:fd,OrderedSet:Bd,Record:Y,Range:md,Repeat:W,is:J,fromJS:Md,hash:K,isImmutable:t,isCollection:u,isKeyed:v,isIndexed:w,isAssociative:ba,isOrdered:x,isValueObject:da,get:Bb,getIn:od,has:Ab,hasIn:qd,merge:Rb,mergeDeep:Tb,mergeWith:Sb,mergeDeepWith:Ub,remove:Db,removeIn:Jb,set:Eb,setIn:Hb,update:Lb,updateIn:Fb};Kb=y;a["default"]=b;a.version=Z;a.Collection=y;a.Iterable=Kb;a.Seq=G;a.Map=ec;a.OrderedMap=U;a.List=Ec;a.Stack=Yc;a.Set=fd;a.OrderedSet=Bd;a.Record=Y;a.Range=md;a.Repeat=W;a.is=J;a.fromJS=Md;a.hash=K;a.isImmutable=t;a.isCollection=u;a.isKeyed=v;a.isIndexed=w;a.isAssociative=ba;a.isOrdered=x;a.isValueObject=da;a.get=Bb;a.getIn=od;a.has=Ab;a.hasIn=qd;a.merge=Rb;a.mergeDeep=Tb;a.mergeWith=Sb;a.mergeDeepWith=Ub;a.remove=Db;a.removeIn=Jb;a.set=Eb;a.setIn=Hb;a.update=Lb;a.updateIn=Fb;Object.defineProperty(a,"__esModule",{value:!0})})}var k=!1;function l(){k||(k=!0,j());return h.exports}function a(a){switch(a){case void 0:return l()}}e.exports=a()}),null);
__d("immutable",["immutable-3.7.3"],(function(a,b,c,d,e,f){e.exports=b("immutable-3.7.3")()}),null);
/**
 * License: https://www.facebook.com/legal/license/t3hOLs8wlXy/
 */
__d("jquery-param-0.1.2",[],(function(a,b,c,d,e,f){"use strict";b={};var g={exports:b},h;function i(){(function(b){var c=function(a){var b=function(a,b,c){c=typeof c==="function"?c():c===null?"":c===void 0?"":c,a[a.length]=encodeURIComponent(b)+"="+encodeURIComponent(c)},c=function(a,d,e){var f,g;if(Object.prototype.toString.call(d)==="[object Array]")for(f=0,g=d.length;f<g;f++)c(a+"["+(typeof d[f]==="object"?f:"")+"]",d[f],e);else if(d&&d.toString()==="[object Object]")for(f in d)d.hasOwnProperty(f)&&(a?c(a+"["+f+"]",d[f],e,b):c(f,d[f],e,b));else if(a)b(e,a,d);else for(f in d)b(e,f,d[f]);return e};return c("",a,[]).join("&").replace(/%20/g,"+")};typeof g==="object"&&typeof g.exports==="object"?g.exports=c:typeof h==="function"&&h.amd?h([],function(){return c}):b.param=c})(this)}var j=!1;function k(){j||(j=!0,i());return g.exports}function a(a){switch(a){case void 0:return k()}}e.exports=a}),null);
/**
 * License: https://www.facebook.com/legal/license/7R_-0_GF-gR/
 */
__d("mediapipe-camera_utils-0.3.1640029074",[],(function(b,c,d,e,f,g){"use strict";d={};var h={exports:d};function i(){(function(){function c(b){var c=0;return function(){return c<b.length?{done:!1,value:b[c++]}:{done:!0}}}var d="function"==typeof Object.defineProperties?Object.defineProperty:function(b,c,d){if(b==Array.prototype||b==Object.prototype)return b;b[c]=d.value;return b};function e(c){c=["object"==typeof globalThis&&globalThis,c,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof b&&b];for(var d=0;d<c.length;++d){var e=c[d];if(e&&e.Math==Math)return e}throw Error("Cannot find global object")}var f=e(this);function g(b,c){if(c)a:{var e=f;b=b.split(".");for(var g=0;g<b.length-1;g++){var h=b[g];if(!(h in e))break a;e=e[h]}b=b[b.length-1];g=e[b];c=c(g);c!=g&&null!=c&&d(e,b,{configurable:!0,writable:!0,value:c})}}g("Symbol",function(b){function c(b){if(this instanceof c)throw new TypeError("Symbol is not a constructor");return new e(f+(b||"")+"_"+g++,b)}function e(b,c){this.g=b,d(this,"description",{configurable:!0,writable:!0,value:c})}if(b)return b;e.prototype.toString=function(){return this.g};var f="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",g=0;return c});g("Symbol.iterator",function(b){if(b)return b;b=Symbol("Symbol.iterator");for(var e="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),g=0;g<e.length;g++){var i=f[e[g]];"function"===typeof i&&"function"!=typeof i.prototype[b]&&d(i.prototype,b,{configurable:!0,writable:!0,value:function(){return h(c(this))}})}return b});function h(b){b={next:b};b[Symbol.iterator]=function(){return this};return b}function i(b){var d="undefined"!=typeof Symbol&&Symbol.iterator&&b[Symbol.iterator];return d?d.call(b):{next:c(b)}}function j(){this.i=!1,this.g=null,this.o=void 0,this.j=1,this.m=0,this.h=null}function k(b){if(b.i)throw new TypeError("Generator is already running");b.i=!0}j.prototype.l=function(b){this.o=b};function l(b,c){b.h={F:c,G:!0},b.j=b.m}j.prototype["return"]=function(b){this.h={"return":b},this.j=this.m};function m(b){this.g=new j,this.h=b}function n(b,c){k(b.g);var d=b.g.g;if(d)return o(b,"return"in d?d["return"]:function(b){return{value:b,done:!0}},c,b.g["return"]);b.g["return"](c);return p(b)}function o(b,c,d,e){try{c=c.call(b.g.g,d);if(!(c instanceof Object))throw new TypeError("Iterator result "+c+" is not an object");if(!c.done)return b.g.i=!1,c;var f=c.value}catch(c){return b.g.g=null,l(b.g,c),p(b)}b.g.g=null;e.call(b.g,f);return p(b)}function p(b){for(;b.g.j;)try{var c=b.h(b.g);if(c)return b.g.i=!1,{value:c.value,done:!1}}catch(c){b.g.o=void 0,l(b.g,c)}b.g.i=!1;if(b.g.h){c=b.g.h;b.g.h=null;if(c.G)throw c.F;return{value:c["return"],done:!0}}return{value:void 0,done:!0}}function q(b){this.next=function(c){k(b.g);b.g.g?c=o(b,b.g.g.next,c,b.g.l):(b.g.l(c),c=p(b));return c},this["throw"]=function(c){k(b.g);b.g.g?c=o(b,b.g.g["throw"],c,b.g.l):(l(b.g,c),c=p(b));return c},this["return"]=function(c){return n(b,c)},this[Symbol.iterator]=function(){return this}}function r(b){function c(c){return b.next(c)}function d(c){return b["throw"](c)}return new Promise(function(e,f){function g(b){b.done?e(b.value):Promise.resolve(b.value).then(c,d).then(g,f)}g(b.next())})}g("Promise",function(b){function c(b){this.h=0;this.i=void 0;this.g=[];this.o=!1;var c=this.j();try{b(c.resolve,c.reject)}catch(b){c.reject(b)}}function d(){this.g=null}function e(b){return b instanceof c?b:new c(function(c){c(b)})}if(b)return b;d.prototype.h=function(b){if(null==this.g){this.g=[];var c=this;this.i(function(){c.l()})}this.g.push(b)};var g=f.setTimeout;d.prototype.i=function(b){g(b,0)};d.prototype.l=function(){for(;this.g&&this.g.length;){var b=this.g;this.g=[];for(var c=0;c<b.length;++c){var d=b[c];b[c]=null;try{d()}catch(b){this.j(b)}}}this.g=null};d.prototype.j=function(b){this.i(function(){throw b})};c.prototype.j=function(){function b(b){return function(e){d||(d=!0,b.call(c,e))}}var c=this,d=!1;return{resolve:b(this.A),reject:b(this.l)}};c.prototype.A=function(d){if(d===this)this.l(new TypeError("A Promise cannot resolve to itself"));else if(d instanceof c)this.C(d);else{a:switch(typeof d){case"object":var e=null!=d;break a;case"function":e=!0;break a;default:e=!1}e?this.v(d):this.m(d)}};c.prototype.v=function(b){var c=void 0;try{c=b.then}catch(b){this.l(b);return}"function"==typeof c?this.D(c,b):this.m(b)};c.prototype.l=function(b){this.u(2,b)};c.prototype.m=function(b){this.u(1,b)};c.prototype.u=function(b,c){if(0!=this.h)throw Error("Cannot settle("+b+", "+c+"): Promise already settled in state"+this.h);this.h=b;this.i=c;2===this.h&&this.B();this.H()};c.prototype.B=function(){var b=this;g(function(){if(b.I()){var c=f.console;"undefined"!==typeof c&&c.error(b.i)}},1)};c.prototype.I=function(){if(this.o)return!1;var b=f.CustomEvent,c=f.Event,d=f.dispatchEvent;if("undefined"===typeof d)return!0;"function"===typeof b?b=new b("unhandledrejection",{cancelable:!0}):"function"===typeof c?b=new c("unhandledrejection",{cancelable:!0}):(b=f.document.createEvent("CustomEvent"),b.initCustomEvent("unhandledrejection",!1,!0,b));b.promise=this;b.reason=this.i;return d(b)};c.prototype.H=function(){if(null!=this.g){for(var b=0;b<this.g.length;++b)h.h(this.g[b]);this.g=null}};var h=new d;c.prototype.C=function(b){var c=this.j();b.s(c.resolve,c.reject)};c.prototype.D=function(b,c){var d=this.j();try{b.call(c,d.resolve,d.reject)}catch(b){d.reject(b)}};c.prototype.then=function(b,d){function e(b,c){return"function"==typeof b?function(c){try{f(b(c))}catch(b){g(b)}}:c}var f,g,h=new c(function(b,c){f=b,g=c});this.s(e(b,f),e(d,g));return h};c.prototype["catch"]=function(b){return this.then(void 0,b)};c.prototype.s=function(b,c){function d(){switch(e.h){case 1:b(e.i);break;case 2:c(e.i);break;default:throw Error("Unexpected state: "+e.h)}}var e=this;null==this.g?h.h(d):this.g.push(d);this.o=!0};c.resolve=e;c.reject=function(b){return new c(function(c,d){d(b)})};c.race=function(b){return new c(function(c,d){for(var f=i(b),g=f.next();!g.done;g=f.next())e(g.value).s(c,d)})};c.all=function(b){var d=i(b),f=d.next();return f.done?e([]):new c(function(b,c){function g(c){return function(d){h[c]=d,i--,0==i&&b(h)}}var h=[],i=0;do h.push(void 0),i++,e(f.value).s(g(h.length-1),c),f=d.next();while(!f.done)})};return c});var s="function"==typeof Object.assign?Object.assign:function(b,c){for(var d=1;d<arguments.length;d++){var e=arguments[d];if(e)for(var f in e)Object.prototype.hasOwnProperty.call(e,f)&&(b[f]=e[f])}return b};g("Object.assign",function(b){return b||s});e=this||self;var t={facingMode:"user",width:640,height:480};function u(b,c){this.video=b,this.i=0,this.h=Object.assign(Object.assign({},t),c)}u.prototype.stop=function(){var b=this,c,d,e,f;return r(new q(new m(function(g){if(b.g){c=b.g.getTracks();d=i(c);for(e=d.next();!e.done;e=d.next())f=e.value,f.stop();b.g=void 0}g.j=0})))};u.prototype.start=function(){var b=this,c;return r(new q(new m(function(d){navigator.mediaDevices&&navigator.mediaDevices.getUserMedia||alert("No navigator.mediaDevices.getUserMedia exists.");c=b.h;return d["return"](navigator.mediaDevices.getUserMedia({video:{facingMode:c.facingMode,width:c.width,height:c.height}}).then(function(c){w(b,c)})["catch"](function(b){var c="Failed to acquire camera feed: "+b;alert(c);throw b}))})))};function v(b){window.requestAnimationFrame(function(){x(b)})}function w(b,c){b.g=c,b.video.srcObject=c,b.video.onloadedmetadata=function(){b.video.play(),v(b)}}function x(b){var c=null;b.video.paused||b.video.currentTime===b.i||(b.i=b.video.currentTime,c=b.h.onFrame());c?c.then(function(){v(b)}):v(b)}g=["Camera"];e=e;g[0]in e||"undefined"==typeof e.execScript||e.execScript("var "+g[0]);for(var y;g.length&&(y=g.shift());)g.length||void 0===u?e[y]&&e[y]!==Object.prototype[y]?e=e[y]:e=e[y]={}:e[y]=u}).call(h.exports)}var j=!1;function k(){j||(j=!0,i());return h.exports}function c(b){switch(b){case void 0:return k()}}f.exports=c}),null);
__d("mediapipe-camera_utils",["mediapipe-camera_utils-0.3.1640029074"],(function(a,b,c,d,e,f){e.exports=b("mediapipe-camera_utils-0.3.1640029074")()}),null);
/**
 * License: https://www.facebook.com/legal/license/7R_-0_GF-gR/
 */
__d("mediapipe-drawing_utils-0.3.1620248257",[],(function(b,c,d,e,f,g){"use strict";d={};var h={exports:d};function i(){(function(){function c(b){var c=0;return function(){return c<b.length?{done:!1,value:b[c++]}:{done:!0}}}var d="function"==typeof Object.defineProperties?Object.defineProperty:function(b,c,d){if(b==Array.prototype||b==Object.prototype)return b;b[c]=d.value;return b};function e(c){c=["object"==typeof globalThis&&globalThis,c,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof b&&b];for(var d=0;d<c.length;++d){var e=c[d];if(e&&e.Math==Math)return e}throw Error("Cannot find global object")}var f=e(this);function g(b,c){if(c)a:{var e=f;b=b.split(".");for(var g=0;g<b.length-1;g++){var h=b[g];if(!(h in e))break a;e=e[h]}b=b[b.length-1];g=e[b];c=c(g);c!=g&&null!=c&&d(e,b,{configurable:!0,writable:!0,value:c})}}function h(b){var d="undefined"!=typeof Symbol&&Symbol.iterator&&b[Symbol.iterator];return d?d.call(b):{next:c(b)}}var i="function"==typeof Object.assign?Object.assign:function(b,c){for(var d=1;d<arguments.length;d++){var e=arguments[d];if(e)for(var f in e)Object.prototype.hasOwnProperty.call(e,f)&&(b[f]=e[f])}return b};g("Object.assign",function(b){return b||i});g("Array.prototype.fill",function(b){return b?b:function(b,c,d){var e=this.length||0;0>c&&(c=Math.max(0,e+c));(null==d||d>e)&&(d=e);d=Number(d);0>d&&(d=Math.max(0,e+d));for(c=Number(c||0);c<d;c++)this[c]=b;return this}});function j(b){return b?b:Array.prototype.fill}g("Int8Array.prototype.fill",j);g("Uint8Array.prototype.fill",j);g("Uint8ClampedArray.prototype.fill",j);g("Int16Array.prototype.fill",j);g("Uint16Array.prototype.fill",j);g("Int32Array.prototype.fill",j);g("Uint32Array.prototype.fill",j);g("Float32Array.prototype.fill",j);g("Float64Array.prototype.fill",j);var k=this||self;function l(b,c){b=b.split(".");var d=k;b[0]in d||"undefined"==typeof d.execScript||d.execScript("var "+b[0]);for(var e;b.length&&(e=b.shift());)b.length||void 0===c?d[e]&&d[e]!==Object.prototype[e]?d=d[e]:d=d[e]={}:d[e]=c}var m={color:"white",lineWidth:4,radius:6,visibilityMin:.5};function n(b){b=b||{};return Object.assign(Object.assign(Object.assign({},m),{fillColor:b.color}),b)}function o(b,c){return b instanceof Function?b(c):b}function p(b,c,d){return Math.max(Math.min(c,d),Math.min(Math.max(c,d),b))}l("clamp",p);l("drawLandmarks",function(b,c,d){if(c){d=n(d);b.save();var e=b.canvas,f=0;c=h(c);for(var g=c.next();!g.done;g=c.next())if(g=g.value,void 0!==g&&(void 0===g.visibility||g.visibility>d.visibilityMin)){b.fillStyle=o(d.fillColor,{index:f,from:g});b.strokeStyle=o(d.color,{index:f,from:g});b.lineWidth=o(d.lineWidth,{index:f,from:g});var i=new Path2D;i.arc(g.x*e.width,g.y*e.height,o(d.radius,{index:f,from:g}),0,2*Math.PI);b.fill(i);b.stroke(i);++f}b.restore()}});l("drawConnectors",function(b,c,d,e){if(c&&d){e=n(e);b.save();var f=b.canvas,g=0;d=h(d);for(var i=d.next();!i.done;i=d.next()){var j=i.value;b.beginPath();i=c[j[0]];j=c[j[1]];i&&j&&(void 0===i.visibility||i.visibility>e.visibilityMin)&&(void 0===j.visibility||j.visibility>e.visibilityMin)&&(b.strokeStyle=o(e.color,{index:g,from:i,to:j}),b.lineWidth=o(e.lineWidth,{index:g,from:i,to:j}),b.moveTo(i.x*f.width,i.y*f.height),b.lineTo(j.x*f.width,j.y*f.height));++g;b.stroke()}b.restore()}});l("drawRectangle",function(b,c,d){d=n(d);b.save();var e=b.canvas;b.beginPath();b.lineWidth=o(d.lineWidth,{});b.strokeStyle=o(d.color,{});b.fillStyle=o(d.fillColor,{});b.translate(c.xCenter*e.width,c.yCenter*e.height);b.rotate(c.rotation*Math.PI/180);b.rect(-c.width/2*e.width,-c.height/2*e.height,c.width*e.width,c.height*e.height);b.translate(-c.xCenter*e.width,-c.yCenter*e.height);b.stroke();b.fill();b.restore()});l("lerp",function(b,c,d,e,f){return p(e*(1-(b-c)/(d-c))+f*(1-(d-b)/(d-c)),e,f)})}).call(h.exports)}var j=!1;function k(){j||(j=!0,i());return h.exports}function c(b){switch(b){case void 0:return k()}}f.exports=c}),null);
__d("mediapipe-drawing_utils",["mediapipe-drawing_utils-0.3.1620248257"],(function(a,b,c,d,e,f){e.exports=b("mediapipe-drawing_utils-0.3.1620248257")()}),null);
/**
 * License: https://www.facebook.com/legal/license/7R_-0_GF-gR/
 */
__d("mediapipe-holistic-0.5.1635989137",["TrustedTypesFacebookURIScriptURLPolicy"],(function(b,c,d,e,f,g){"use strict";e={};var h={exports:e},i=c("TrustedTypesFacebookURIScriptURLPolicy");function j(){(function(){var c;function d(b){var c=0;return function(){return c<b.length?{done:!1,value:b[c++]}:{done:!0}}}var e="function"==typeof Object.defineProperties?Object.defineProperty:function(b,c,d){if(b==Array.prototype||b==Object.prototype)return b;b[c]=d.value;return b};function f(c){c=["object"==typeof globalThis&&globalThis,c,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof b&&b];for(var d=0;d<c.length;++d){var e=c[d];if(e&&e.Math==Math)return e}throw Error("Cannot find global object")}var g=f(this);function h(b,c){if(c)a:{var d=g;b=b.split(".");for(var f=0;f<b.length-1;f++){var h=b[f];if(!(h in d))break a;d=d[h]}b=b[b.length-1];f=d[b];c=c(f);c!=f&&null!=c&&e(d,b,{configurable:!0,writable:!0,value:c})}}h("Symbol",function(b){function c(b){if(this instanceof c)throw new TypeError("Symbol is not a constructor");return new d(f+(b||"")+"_"+g++,b)}function d(b,c){this.g=b,e(this,"description",{configurable:!0,writable:!0,value:c})}if(b)return b;d.prototype.toString=function(){return this.g};var f="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",g=0;return c});h("Symbol.iterator",function(b){if(b)return b;b=Symbol("Symbol.iterator");for(var c="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),f=0;f<c.length;f++){var h=g[c[f]];"function"===typeof h&&"function"!=typeof h.prototype[b]&&e(h.prototype,b,{configurable:!0,writable:!0,value:function(){return j(d(this))}})}return b});function j(b){b={next:b};b[Symbol.iterator]=function(){return this};return b}function k(b){var c="undefined"!=typeof Symbol&&Symbol.iterator&&b[Symbol.iterator];return c?c.call(b):{next:d(b)}}function l(b){if(!(b instanceof Array)){b=k(b);for(var c,d=[];!(c=b.next()).done;)d.push(c.value);b=d}return b}var m="function"==typeof Object.create?Object.create:function(b){function c(){}c.prototype=b;return new c};if("function"==typeof Object.setPrototypeOf)f=Object.setPrototypeOf;else{a:{var n={a:!0},o={};try{o.__proto__=n;o.a;break a}catch(b){}n=!1}f=n?function(b,c){b.__proto__=c;if(b.__proto__!==c)throw new TypeError(b+" is not extensible");return b}:null}var p=f;function q(b,c){b.prototype=m(c.prototype);b.prototype.constructor=b;if(p)p(b,c);else for(var d in c)if("prototype"!=d)if(Object.defineProperties){var e=Object.getOwnPropertyDescriptor(c,d);e&&Object.defineProperty(b,d,e)}else b[d]=c[d];b.da=c.prototype}function r(){this.l=!1,this.i=null,this.h=void 0,this.g=1,this.s=this.m=0,this.j=null}function s(b){if(b.l)throw new TypeError("Generator is already running");b.l=!0}r.prototype.o=function(b){this.h=b};function t(b,c){b.j={U:c,V:!0},b.g=b.m||b.s}r.prototype["return"]=function(b){this.j={"return":b},this.g=this.s};function u(b,c,d){b.g=d;return{value:c}}function v(b){this.g=new r,this.h=b}function w(b,c){s(b.g);var d=b.g.i;if(d)return x(b,"return"in d?d["return"]:function(b){return{value:b,done:!0}},c,b.g["return"]);b.g["return"](c);return y(b)}function x(b,c,d,e){try{c=c.call(b.g.i,d);if(!(c instanceof Object))throw new TypeError("Iterator result "+c+" is not an object");if(!c.done)return b.g.l=!1,c;var f=c.value}catch(c){return b.g.i=null,t(b.g,c),y(b)}b.g.i=null;e.call(b.g,f);return y(b)}function y(b){for(;b.g.g;)try{var c=b.h(b.g);if(c)return b.g.l=!1,{value:c.value,done:!1}}catch(c){b.g.h=void 0,t(b.g,c)}b.g.l=!1;if(b.g.j){c=b.g.j;b.g.j=null;if(c.V)throw c.U;return{value:c["return"],done:!0}}return{value:void 0,done:!0}}function z(b){this.next=function(c){s(b.g);b.g.i?c=x(b,b.g.i.next,c,b.g.o):(b.g.o(c),c=y(b));return c},this["throw"]=function(c){s(b.g);b.g.i?c=x(b,b.g.i["throw"],c,b.g.o):(t(b.g,c),c=y(b));return c},this["return"]=function(c){return w(b,c)},this[Symbol.iterator]=function(){return this}}function A(b){function c(c){return b.next(c)}function d(c){return b["throw"](c)}return new Promise(function(e,f){function g(b){b.done?e(b.value):Promise.resolve(b.value).then(c,d).then(g,f)}g(b.next())})}function B(b){return A(new z(new v(b)))}h("Promise",function(b){function c(b){this.h=0;this.i=void 0;this.g=[];this.o=!1;var c=this.j();try{b(c.resolve,c.reject)}catch(b){c.reject(b)}}function d(){this.g=null}function e(b){return b instanceof c?b:new c(function(c){c(b)})}if(b)return b;d.prototype.h=function(b){if(null==this.g){this.g=[];var c=this;this.i(function(){c.l()})}this.g.push(b)};var f=g.setTimeout;d.prototype.i=function(b){f(b,0)};d.prototype.l=function(){for(;this.g&&this.g.length;){var b=this.g;this.g=[];for(var c=0;c<b.length;++c){var d=b[c];b[c]=null;try{d()}catch(b){this.j(b)}}}this.g=null};d.prototype.j=function(b){this.i(function(){throw b})};c.prototype.j=function(){function b(b){return function(e){d||(d=!0,b.call(c,e))}}var c=this,d=!1;return{resolve:b(this.C),reject:b(this.l)}};c.prototype.C=function(d){if(d===this)this.l(new TypeError("A Promise cannot resolve to itself"));else if(d instanceof c)this.F(d);else{a:switch(typeof d){case"object":var e=null!=d;break a;case"function":e=!0;break a;default:e=!1}e?this.v(d):this.m(d)}};c.prototype.v=function(b){var c=void 0;try{c=b.then}catch(b){this.l(b);return}"function"==typeof c?this.G(c,b):this.m(b)};c.prototype.l=function(b){this.s(2,b)};c.prototype.m=function(b){this.s(1,b)};c.prototype.s=function(b,c){if(0!=this.h)throw Error("Cannot settle("+b+", "+c+"): Promise already settled in state"+this.h);this.h=b;this.i=c;2===this.h&&this.D();this.A()};c.prototype.D=function(){var b=this;f(function(){if(b.B()){var c=g.console;"undefined"!==typeof c&&c.error(b.i)}},1)};c.prototype.B=function(){if(this.o)return!1;var b=g.CustomEvent,c=g.Event,d=g.dispatchEvent;if("undefined"===typeof d)return!0;"function"===typeof b?b=new b("unhandledrejection",{cancelable:!0}):"function"===typeof c?b=new c("unhandledrejection",{cancelable:!0}):(b=g.document.createEvent("CustomEvent"),b.initCustomEvent("unhandledrejection",!1,!0,b));b.promise=this;b.reason=this.i;return d(b)};c.prototype.A=function(){if(null!=this.g){for(var b=0;b<this.g.length;++b)h.h(this.g[b]);this.g=null}};var h=new d;c.prototype.F=function(b){var c=this.j();b.J(c.resolve,c.reject)};c.prototype.G=function(b,c){var d=this.j();try{b.call(c,d.resolve,d.reject)}catch(b){d.reject(b)}};c.prototype.then=function(b,d){function e(b,c){return"function"==typeof b?function(c){try{f(b(c))}catch(b){g(b)}}:c}var f,g,h=new c(function(b,c){f=b,g=c});this.J(e(b,f),e(d,g));return h};c.prototype["catch"]=function(b){return this.then(void 0,b)};c.prototype.J=function(b,c){function d(){switch(e.h){case 1:b(e.i);break;case 2:c(e.i);break;default:throw Error("Unexpected state: "+e.h)}}var e=this;null==this.g?h.h(d):this.g.push(d);this.o=!0};c.resolve=e;c.reject=function(b){return new c(function(c,d){d(b)})};c.race=function(b){return new c(function(c,d){for(var f=k(b),g=f.next();!g.done;g=f.next())e(g.value).J(c,d)})};c.all=function(b){var d=k(b),f=d.next();return f.done?e([]):new c(function(b,c){function g(c){return function(d){h[c]=d,i--,0==i&&b(h)}}var h=[],i=0;do h.push(void 0),i++,e(f.value).J(g(h.length-1),c),f=d.next();while(!f.done)})};return c});function ba(b,c){b instanceof String&&(b+="");var d=0,e=!1,f={next:function(){if(!e&&d<b.length){var f=d++;return{value:c(f,b[f]),done:!1}}e=!0;return{done:!0,value:void 0}}};f[Symbol.iterator]=function(){return f};return f}var ca="function"==typeof Object.assign?Object.assign:function(b,c){for(var d=1;d<arguments.length;d++){var e=arguments[d];if(e)for(var f in e)Object.prototype.hasOwnProperty.call(e,f)&&(b[f]=e[f])}return b};h("Object.assign",function(b){return b||ca});h("Object.is",function(b){return b?b:function(b,c){return b===c?0!==b||1/b===1/c:b!==b&&c!==c}});h("Array.prototype.includes",function(b){return b?b:function(b,c){var d=this;d instanceof String&&(d=String(d));var e=d.length;c=c||0;for(0>c&&(c=Math.max(c+e,0));c<e;c++){var f=d[c];if(f===b||Object.is(f,b))return!0}return!1}});h("String.prototype.includes",function(b){return b?b:function(b,c){if(null==this)throw new TypeError("The 'this' value for String.prototype.includes must not be null or undefined");if(b instanceof RegExp)throw new TypeError("First argument to String.prototype.includes must not be a regular expression");return-1!==this.indexOf(b,c||0)}});h("Array.prototype.keys",function(b){return b?b:function(){return ba(this,function(b){return b})}});var da=this||self;function C(b,c){b=b.split(".");var d=da;b[0]in d||"undefined"==typeof d.execScript||d.execScript("var "+b[0]);for(var e;b.length&&(e=b.shift());)b.length||void 0===c?d[e]&&d[e]!==Object.prototype[e]?d=d[e]:d=d[e]={}:d[e]=c}function ea(b){da.setTimeout(function(){throw b},0)}function D(b){ea(b);return;throw Error("invalid error level: 1")}function fa(b,c){D(Error("Invalid wire type: "+b+" (at position "+c+")"))}function ga(){D(Error("Failed to read varint, encoding is invalid."))}function ha(b,c){c=String.fromCharCode.apply(null,c);return null==b?c:b+c}var ia,ja="undefined"!==typeof TextDecoder,ka,la="undefined"!==typeof TextEncoder;function ma(b){if(la)b=(ka||(ka=new TextEncoder)).encode(b);else{var c=void 0;c=void 0===c?!1:c;for(var d=0,e=new Uint8Array(3*b.length),f=0;f<b.length;f++){var g=b.charCodeAt(f);if(128>g)e[d++]=g;else{if(2048>g)e[d++]=g>>6|192;else{if(55296<=g&&57343>=g){if(56319>=g&&f<b.length){var h=b.charCodeAt(++f);if(56320<=h&&57343>=h){g=1024*(g-55296)+h-56320+65536;e[d++]=g>>18|240;e[d++]=g>>12&63|128;e[d++]=g>>6&63|128;e[d++]=g&63|128;continue}else f--}if(c)throw Error("Found an unpaired surrogate");g=65533}e[d++]=g>>12|224;e[d++]=g>>6&63|128}e[d++]=g&63|128}}b=e.subarray(0,d)}return b}var na={},E=null;function oa(b){var c;void 0===c&&(c=0);ra();c=na[c];for(var d=Array(Math.floor(b.length/3)),e=c[64]||"",f=0,g=0;f<b.length-2;f+=3){var h=b[f],i=b[f+1],j=b[f+2],k=c[h>>2];h=c[(h&3)<<4|i>>4];i=c[(i&15)<<2|j>>6];j=c[j&63];d[g++]=k+h+i+j}k=0;j=e;switch(b.length-f){case 2:k=b[f+1],j=c[(k&15)<<2]||e;case 1:b=b[f],d[g]=c[b>>2]+c[(b&3)<<4|k>>4]+j+e}return d.join("")}function pa(b){var c=b.length,d=3*c/4;d%3?d=Math.floor(d):-1!="=.".indexOf(b[c-1])&&(d=-1!="=.".indexOf(b[c-2])?d-2:d-1);var e=new Uint8Array(d),f=0;qa(b,function(b){e[f++]=b});return e.subarray(0,f)}function qa(b,c){function d(c){for(;e<b.length;){var d=b.charAt(e++),f=E[d];if(null!=f)return f;if(!/^[\s\xa0]*$/.test(d))throw Error("Unknown base64 encoding at char: "+d)}return c}ra();for(var e=0;;){var f=d(-1),g=d(0),h=d(64),i=d(64);if(64===i&&-1===f)break;c(f<<2|g>>4);64!=h&&(c(g<<4&240|h>>2),64!=i&&c(h<<6&192|i))}}function ra(){if(!E){E={};for(var b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),c=["+/=","+/","-_=","-_.","-_"],d=0;5>d;d++){var e=b.concat(c[d].split(""));na[d]=e;for(var f=0;f<e.length;f++){var g=e[f];void 0===E[g]&&(E[g]=f)}}}}var sa="function"===typeof Uint8Array,F;function ta(b){this.g=b;if(null!==b&&0===b.length)throw Error("ByteString should be constructed with non-empty values")}ta.prototype.toJSON=function(){if(null==this.g)var b="";else b=this.g,b=this.g=null==b||"string"===typeof b?b:sa&&b instanceof Uint8Array?oa(b):null;return b};var ua="function"===typeof Uint8Array.prototype.slice;function va(b,c,d){return c===d?F||(F=new Uint8Array(0)):ua?b.slice(c,d):new Uint8Array(b.subarray(c,d))}var G,wa;function xa(b){if(b.constructor===Uint8Array)return b;if(b.constructor===ArrayBuffer)return new Uint8Array(b);if(b.constructor===Array)return new Uint8Array(b);if(b.constructor===String)return pa(b);if(b.constructor===ta){if(null==b.g)var c=F||(F=new Uint8Array(0));else{c=Uint8Array;var d=b.g;d=null==d||sa&&null!=d&&d instanceof Uint8Array?d:"string"===typeof d?pa(d):null;b=b.g=d;c=new c(b)}return c}if(b instanceof Uint8Array)return new Uint8Array(b.buffer,b.byteOffset,b.byteLength);throw Error("Type not convertible to a Uint8Array, expected a Uint8Array, an ArrayBuffer, a base64 encoded string, or Array of numbers")}function H(b,c){c=void 0===c?{}:c,c=void 0===c.u?!1:c.u,this.h=null,this.g=this.i=this.m=0,this.l=!1,this.u=c,b&&ya(this,b)}function ya(b,c){b.h=xa(c),b.m=0,b.i=b.h.length,b.g=b.m}H.prototype.reset=function(){this.g=this.m};function za(b){for(var c=128,d=0,e=0,f=0;4>f&&128<=c;f++)c=b.h[b.g++],d|=(c&127)<<7*f;128<=c&&(c=b.h[b.g++],d|=(c&127)<<28,e|=(c&127)>>4);if(128<=c)for(f=0;5>f&&128<=c;f++)c=b.h[b.g++],e|=(c&127)<<7*f+3;if(128>c){b=d>>>0;c=e>>>0;(e=c&2147483648)&&(b=~b+1>>>0,c=~c>>>0,0==b&&(c=c+1>>>0));b=4294967296*c+(b>>>0);return e?-b:b}b.l=!0;ga()}function I(b){b.g>b.i&&(b.l=!0,D(Error("Tried to read past the end of the data "+b.g+" > "+b.i)))}H.prototype.j=function(){var b=this.h,c=b[this.g],d=c&127;if(128>c)return this.g+=1,I(this),d;c=b[this.g+1];d|=(c&127)<<7;if(128>c)return this.g+=2,I(this),d;c=b[this.g+2];d|=(c&127)<<14;if(128>c)return this.g+=3,I(this),d;c=b[this.g+3];d|=(c&127)<<21;if(128>c)return this.g+=4,I(this),d;c=b[this.g+4];d|=(c&15)<<28;if(128>c)return this.g+=5,I(this),d>>>0;this.g+=5;if(128<=b[this.g++]&&128<=b[this.g++]&&128<=b[this.g++]&&128<=b[this.g++]&&128<=b[this.g++])return this.l=!0,ga(),d;I(this);return d};H.prototype.o=function(){var b=this.h[this.g],c=this.h[this.g+1],d=this.h[this.g+2],e=this.h[this.g+3];this.g+=4;I(this);d=(b<<0|c<<8|d<<16|e<<24)>>>0;b=2*(d>>31)+1;c=d>>>23&255;d&=8388607;return 255==c?d?NaN:Infinity*b:0==c?b*Math.pow(2,-149)*d:b*Math.pow(2,c-150)*(d+Math.pow(2,23))};var Aa=[];function Ba(){this.g=new Uint8Array(64),this.h=0}function J(b,c){if(!(b.h+1<b.g.length)){var d=b.g;b.g=new Uint8Array(Math.ceil(1+2*b.g.length));b.g.set(d)}b.g[b.h++]=c}Ba.prototype.length=function(){return this.h};Ba.prototype.end=function(){var b=this.g,c=this.h;this.h=0;return va(b,0,c)};function K(b,c){for(;127<c;)J(b,c&127|128),c>>>=7;J(b,c)}function Ca(b){var c={},d=void 0===c.N?!1:c.N;this.m={u:void 0===c.u?!1:c.u};this.N=d;c=this.m;Aa.length?(d=Aa.pop(),c&&(d.u=c.u),b&&ya(d,b),b=d):b=new H(b,c);this.g=b;this.l=this.g.g;this.h=this.i=-1;this.j=!1}Ca.prototype.reset=function(){this.g.reset(),this.h=this.i=-1};function Da(b){var c=b.g;(c=c.g==c.i)||(c=b.j)||(c=b.g,c=c.l||0>c.g||c.g>c.i);if(c)return!1;b.l=b.g.g;var d=b.g.j();c=d>>>3;d&=7;if(!(0<=d&&5>=d))return b.j=!0,fa(d,b.l),!1;b.i=c;b.h=d;return!0}function L(b){switch(b.h){case 0:if(0!=b.h)L(b);else a:{b=b.g;for(var c=b.g,d=0;10>d;d++){if(0===(b.h[c]&128)){b.g=c+1;I(b);break a}c++}b.l=!0;ga()}break;case 1:b=b.g;b.g+=8;I(b);break;case 2:2!=b.h?L(b):(c=b.g.j(),b=b.g,b.g+=c,I(b));break;case 5:b=b.g;b.g+=4;I(b);break;case 3:c=b.i;do{if(!Da(b)){b.j=!0;D(Error("Unmatched start-group tag: stream EOF"));break}if(4==b.h){b.i!=c&&(b.j=!0,D(Error("Unmatched end-group tag")));break}L(b)}while(1);break;default:b.j=!0,fa(b.h,b.l)}}function Ea(b,c,d){b.N||(b=va(b.g.h,d,b.g.g),(d=c.o)?d.push(b):c.o=[b])}function Fa(b,c,d){var e=b.g.i,f=b.g.j(),g=b.g.g+f;b.g.i=g;d(c,b);d=g-b.g.g;if(0!==d)throw Error("Message parsing ended unexpectedly. Expected to read "+(f+" bytes, instead read "+(f-d)+" bytes, either the data ended unexpectedly or the message misreported its own length"));b.g.g=g;b.g.i=e;return c}function Ga(b,c,d){var e=b.g.j();for(e=b.g.g+e;b.g.g<e;)d.push(c.call(b.g))}var M=[];function Ha(){this.h=[],this.i=0,this.g=new Ba}function Ia(b,c){0!==c.length&&(b.h.push(c),b.i+=c.length)}function Ja(b,c,d){K(b.g,8*c+2),K(b.g,d.length),Ia(b,b.g.end()),Ia(b,d)}var Ka="function"===typeof Symbol&&"symbol"===typeof Symbol()?Symbol(void 0):void 0;function La(b,c){Object.isFrozen(b)||(Ka?b[Ka]|=c:void 0!==b.g?b.g|=c:Object.defineProperties(b,{g:{value:c,configurable:!0,writable:!0,enumerable:!1}}))}function Ma(b){if(!b)return 0;var c;Ka?c=b[Ka]:c=b.g;return null==c?0:c}function N(b){if(!Array.isArray(b))return b;La(b,1);return b}function Na(b){if(!Array.isArray(b))throw Error("cannot mark non-array as immutable");La(b,2)}function Oa(b){return null!==b&&"object"===typeof b&&b.constructor===Object}function Pa(b){switch(typeof b){case"number":return isFinite(b)?b:String(b);case"object":return sa&&null!=b&&b instanceof Uint8Array?oa(b):b;default:return b}}function Qa(b,c){if(null!=b)return Array.isArray(b)||Oa(b)?Ra(b,c):c(b)}function Ra(b,c){if(Array.isArray(b)){for(var d=Array(b.length),e=0;e<b.length;e++)d[e]=Qa(b[e],c);Ma(b)&1&&N(d);return d}d={};for(e in b)d[e]=Qa(b[e],c);return d}var Sa;function O(b,c,d){var e=Sa;Sa=null;b||(b=e);e=this.constructor.ba;b||(b=e?[e]:[]);this.j=(e?0:-1)-(this.constructor.$||0);this.m=this.g=null;this.h=b;a:{e=this.h.length;b=e-1;if(e&&(e=this.h[b],Oa(e))){this.l=b-this.j;this.i=e;break a}void 0!==c&&-1<c?(this.l=Math.max(c,b+1-this.j),this.i=null):this.l=Number.MAX_VALUE}if(d)for(c=0;c<d.length;c++)b=d[c],b<this.l?(b+=this.j,(e=this.h[b])?N(e):this.h[b]=Ta):(Ua(this),(e=this.i[b])?N(e):this.i[b]=Ta)}var Ta=Object.freeze(N([]));function Ua(b){var c=b.l+b.j;b.h[c]||(b.i=b.h[c]={})}function P(b,c,d){return-1===c?null:(void 0===d?0:d)||c>=b.l?b.i?b.i[c]:void 0:b.h[c+b.j]}function Q(b,c,d){d=void 0===d?!0:d;var e=void 0===e?!1:e,f=P(b,c,e);null==f&&(f=Ta);f===Ta?(f=N([]),T(b,c,f,e)):d&&Array.isArray(f)&&Ma(f)&2&&(f=f.slice(),T(b,c,f,e));return f}function Va(b){var c=Q(b,3,!1);b.m||(b.m={});if(!b.m[3]){for(var d=0;d<c.length;d++)c[d]=+c[d];b.m[3]=!0}return c}function R(b,c,d){b=P(b,c);return null==b?d:b}function S(b,c,d){b=P(b,c);b=null==b?b:+b;return null==b?void 0===d?0:d:b}function T(b,c,d,e){(void 0===e?0:e)||c>=b.l?(Ua(b),b.i[c]=d):b.h[c+b.j]=d}function Wa(b,c,d){if(-1===d)return null;b.g||(b.g={});var e=b.g[d];if(e)return e;var f=P(b,d,!1);if(null==f)return e;c=new c(f);return b.g[d]=c}function Xa(b,c,d){b.g||(b.g={});var e=b.g[d];if(!e){var f=Q(b,d,!1);e=[];for(var g=Array.isArray(f)?!!(Ma(f)&2):!1,h=0;h<f.length;h++)e[h]=new c(f[h]),g&&Na(e[h].h);g&&(Na(e),Object.freeze(e));b.g[d]=e}return e}function Ya(b,c,d,e,f){var g=Xa(b,e,c);d=d?d:new e;b=Q(b,c);void 0!=f?(g.splice(f,0,d),b.splice(f,0,U(d))):(g.push(d),b.push(U(d)))}O.prototype.toJSON=function(){var b=U(this);return Ra(b,Pa)};function U(b){if(b.g)for(var c in b.g){var d=b.g[c];if(Array.isArray(d))for(var e=0;e<d.length;e++)d[e]&&U(d[e]);else d&&U(d)}return b.h}O.prototype.toString=function(){return U(this).toString()};function Za(b,c){if(b=b.o){Ia(c,c.g.end());for(var d=0;d<b.length;d++)Ia(c,b[d])}}function $a(b){var c=b[0];switch(b.length){case 2:var d=b[1];return function(b,e,f){return c(b,e,f,d)};case 3:var e=b[1],f=b[2];return function(b,d,g){return c(b,d,g,e,f)};case 4:var g=b[1],h=b[2],i=b[3];return function(b,d,e){return c(b,d,e,g,h,i)};default:throw Error("unsupported number of parameters, expected [2-4], got "+b.length)}}function V(b,c,d){for(;Da(c)&&4!=c.h;){var e=c.i,f=d[e];if(f){if(Array.isArray(f)&&(f=d[e]=$a(f)),!f(c,b,e)){e=c;f=b;var g=e.l;L(e);Ea(e,f,g)}}else e=c,f=b,g=e.l,L(e),Ea(e,f,g)}return b}function ab(b,c){var d=new Ha;c(b,d);b=d.i+d.g.length();if(0===b)d=new Uint8Array(0);else{b=new Uint8Array(b);for(var e=d.h,f=e.length,g=c=0;g<f;g++){var h=e[g];0!==h.length&&(b.set(h,c),c+=h.length)}e=d.g;f=e.h;0!==f&&(b.set(e.g.subarray(0,f),c),e.h=0);d.h=[b];d=b}return d}function bb(b,c,d){if(M.length){var e=M.pop();b&&(ya(e.g,b),e.i=-1,e.h=-1);b=e}else b=new Ca(b);try{return d(new c,b)}finally{c=b.g,c.h=null,c.m=0,c.i=0,c.g=0,c.l=!1,c.u=!1,b.i=-1,b.h=-1,b.j=!1,100>M.length&&M.push(b)}}function W(b,c,d){c=P(c,d);if(null!=c){K(b.g,8*d+5);b=b.g;var e=c;e=(d=0>e?1:0)?-e:e;0===e?0<1/e?G=0:G=2147483648:isNaN(e)?G=2147483647:34028234663852886e22<e?G=(d<<31|2139095040)>>>0:11754943508222875e-54>e?(e=Math.round(e/Math.pow(2,-149)),G=(d<<31|e)>>>0):(c=Math.floor(Math.log(e)/Math.LN2),e*=Math.pow(2,-c),e=Math.round(8388608*e),16777216<=e&&++c,G=(d<<31|c+127<<23|e&8388607)>>>0);d=G;J(b,d>>>0&255);J(b,d>>>8&255);J(b,d>>>16&255);J(b,d>>>24&255)}}function X(b,c,d){if(5!==b.h)return!1;T(c,d,b.g.o());return!0}function cb(b,c,d){if(5!==b.h&&2!==b.h)return!1;c=Q(c,d);2==b.h?Ga(b,H.prototype.o,c):c.push(b.g.o());return!0}function db(b,c,d){if(0!==b.h)return!1;T(c,d,za(b.g));return!0}function eb(b,c,d){if(0!==b.h)return!1;T(c,d,b.g.j());return!0}function fb(b,c,d){if(2!==b.h)return!1;var e=b.g.j();b=b.g;var f=b.g;b.g+=e;I(b);b=b.h;var g;if(ja)(g=ia)||(g=ia=new TextDecoder("utf-8",{fatal:!1})),g=g.decode(b.subarray(f,f+e));else{e=f+e;for(var h=[],i=null,j,k,l;f<e;)j=b[f++],128>j?h.push(j):224>j?f>=e?h.push(65533):(k=b[f++],194>j||128!==(k&192)?(f--,h.push(65533)):h.push((j&31)<<6|k&63)):240>j?f>=e-1?h.push(65533):(k=b[f++],128!==(k&192)||224===j&&160>k||237===j&&160<=k||128!==((g=b[f++])&192)?(f--,h.push(65533)):h.push((j&15)<<12|(k&63)<<6|g&63)):244>=j?f>=e-2?h.push(65533):(k=b[f++],128!==(k&192)||0!==(j<<28)+(k-144)>>30||128!==((g=b[f++])&192)||128!==((l=b[f++])&192)?(f--,h.push(65533)):(j=(j&7)<<18|(k&63)<<12|(g&63)<<6|l&63,j-=65536,h.push((j>>10&1023)+55296,(j&1023)+56320))):h.push(65533),8192<=h.length&&(i=ha(i,h),h.length=0);g=ha(i,h)}T(c,d,g);return!0}function gb(b,c,d,e,f){if(2!==b.h)return!1;b=Fa(b,new e,f);var g=void 0===g?!1:g;c.g||(c.g={});e=b?U(b):b;c.g[d]=b;T(c,d,e,g);return!0}function hb(b,c,d,e,f){if(2!==b.h)return!1;b=Fa(b,new e,f);Ya(c,d,b,e,void 0);return!0}function ib(b,c,d){if(0!==b.h&&2!==b.h)return!1;c=Q(c,d);2==b.h?Ga(b,H.prototype.j,c):c.push(b.g.j());return!0}function jb(b,c,d){if(0!==b.h)return!1;T(c,d,za(b.g));return!0}function Y(b){O.call(this,b,-1,mb)}var kb;q(Y,O);Y.prototype.getRows=function(){return P(this,1)};Y.prototype.getCols=function(){return P(this,2)};Y.prototype.getPackedDataList=function(){return Va(this)};Y.prototype.getLayout=function(){return R(this,4,0)};function lb(b,c){return V(b,c,kb||(kb={1:eb,2:eb,3:cb,4:jb}))}var mb=[3];function Z(b){O.call(this,b)}var nb;q(Z,O);function ob(b,c){var d=P(b,1);if(null!=d&&null!=d){K(c.g,8);var e=c.g;if(0<=d)K(e,d);else{for(var f=0;9>f;f++)J(e,d&127|128),d>>=7;J(e,1)}}W(c,b,2);e=P(b,3);null!=e&&Ja(c,3,ma(e));e=P(b,4);null!=e&&Ja(c,4,ma(e));Za(b,c)}function pb(b,c){return V(b,c,nb||(nb={1:eb,2:X,3:fb,4:fb}))}function qb(b){O.call(this,b,-1,tb)}var rb;q(qb,O);qb.prototype.addClassification=function(b,c){Ya(this,1,b,Z,c);return this};function sb(b,c){return V(b,c,rb||(rb={1:[hb,Z,pb]}))}var tb=[1];function ub(b){O.call(this,b)}var vb;q(ub,O);function wb(b,c){W(c,b,1),W(c,b,2),W(c,b,3),W(c,b,4),W(c,b,5),Za(b,c)}function xb(b,c){return V(b,c,vb||(vb={1:X,2:X,3:X,4:X,5:X}))}function yb(b){O.call(this,b,-1,Bb)}var zb;q(yb,O);function Ab(b,c){return V(b,c,zb||(zb={1:[hb,ub,xb]}))}var Bb=[1];function Cb(b){O.call(this,b)}var Db;q(Cb,O);function Eb(b,c){W(c,b,1);W(c,b,2);W(c,b,3);W(c,b,4);W(c,b,5);var d=P(b,6);if(null!=d&&null!=d){K(c.g,48);var e=c.g,f=d;d=0>f;f=Math.abs(f);var g=f>>>0;f=Math.floor((f-g)/4294967296);f>>>=0;d&&(f=~f>>>0,g=(~g>>>0)+1,4294967295<g&&(g=0,f++,4294967295<f&&(f=0)));G=g;wa=f;d=G;for(g=wa;0<g||127<d;)J(e,d&127|128),d=(d>>>7|g<<25)>>>0,g>>>=7;J(e,d)}Za(b,c)}function Fb(b,c){return V(b,c,Db||(Db={1:X,2:X,3:X,4:X,5:X,6:db}))}function $(b){O.call(this,b,-1,Ib)}var Gb;q($,O);$.prototype.getVertexType=function(){return R(this,1,0)};$.prototype.getPrimitiveType=function(){return R(this,2,0)};$.prototype.getVertexBufferList=function(){return Va(this)};$.prototype.getIndexBufferList=function(){return Q(this,4)};function Hb(b,c){return V(b,c,Gb||(Gb={1:jb,2:jb,3:cb,4:ib}))}var Ib=[3,4];function Jb(b){O.call(this,b)}var Kb;q(Jb,O);Jb.prototype.getMesh=function(){return Wa(this,$,1)};Jb.prototype.getPoseTransformMatrix=function(){return Wa(this,Y,2)};function Lb(b,c){return V(b,c,Kb||(Kb={1:[gb,$,Hb],2:[gb,Y,lb]}))}o=[[61,146],[146,91],[91,181],[181,84],[84,17],[17,314],[314,405],[405,321],[321,375],[375,291],[61,185],[185,40],[40,39],[39,37],[37,0],[0,267],[267,269],[269,270],[270,409],[409,291],[78,95],[95,88],[88,178],[178,87],[87,14],[14,317],[317,402],[402,318],[318,324],[324,308],[78,191],[191,80],[80,81],[81,82],[82,13],[13,312],[312,311],[311,310],[310,415],[415,308]];n=[[263,249],[249,390],[390,373],[373,374],[374,380],[380,381],[381,382],[382,362],[263,466],[466,388],[388,387],[387,386],[386,385],[385,384],[384,398],[398,362]];f=[[276,283],[283,282],[282,295],[295,285],[300,293],[293,334],[334,296],[296,336]];h=[[33,7],[7,163],[163,144],[144,145],[145,153],[153,154],[154,155],[155,133],[33,246],[246,161],[161,160],[160,159],[159,158],[158,157],[157,173],[173,133]];q=[[46,53],[53,52],[52,65],[65,55],[70,63],[63,105],[105,66],[66,107]];var Mb=[[10,338],[338,297],[297,332],[332,284],[284,251],[251,389],[389,356],[356,454],[454,323],[323,361],[361,288],[288,397],[397,365],[365,379],[379,378],[378,400],[400,377],[377,152],[152,148],[148,176],[176,149],[149,150],[150,136],[136,172],[172,58],[58,132],[132,93],[93,234],[234,127],[127,162],[162,21],[21,54],[54,103],[103,67],[67,109],[109,10]],Nb=[].concat(l(o),l(n),l(f),l(h),l(q),l(Mb));function Ob(b,c,d){d=b.createShader(0===d?b.VERTEX_SHADER:b.FRAGMENT_SHADER);b.shaderSource(d,c);b.compileShader(d);if(!b.getShaderParameter(d,b.COMPILE_STATUS))throw Error("Could not compile WebGL shader.\n\n"+b.getShaderInfoLog(d));return d}function Pb(b){return Xa(b,Z,1).map(function(b){return{index:R(b,1,0),score:S(b,2),label:null!=P(b,3)?R(b,3,""):void 0,displayName:null!=P(b,4)?R(b,4,""):void 0}})}function Qb(b){return{x:S(b,1),y:S(b,2),z:S(b,3),visibility:null!=P(b,4)?S(b,4):void 0}}function aa(b){return Xa(bb(b,yb,Ab),ub,1).map(Qb)}function Rb(b,c){this.h=b,this.g=c,this.l=0}function Sb(b,c,d){Tb(b,c);if("function"===typeof b.g.canvas.transferToImageBitmap)return Promise.resolve(b.g.canvas.transferToImageBitmap());if(d)return Promise.resolve(b.g.canvas);if("function"===typeof createImageBitmap)return createImageBitmap(b.g.canvas);void 0===b.i&&(b.i=document.createElement("canvas"));return new Promise(function(c){b.i.height=b.g.canvas.height,b.i.width=b.g.canvas.width,b.i.getContext("2d",{}).drawImage(b.g.canvas,0,0,b.g.canvas.width,b.g.canvas.height),c(b.i)})}function Tb(b,c){var d=b.g;if(void 0===b.m){var e=Ob(d,"\n  attribute vec2 aVertex;\n  attribute vec2 aTex;\n  varying vec2 vTex;\n  void main(void) {\n    gl_Position = vec4(aVertex, 0.0, 1.0);\n    vTex = aTex;\n  }",0),f=Ob(d,"\n  precision mediump float;\n  varying vec2 vTex;\n  uniform sampler2D sampler0;\n  void main(){\n    gl_FragColor = texture2D(sampler0, vTex);\n  }",1),g=d.createProgram();d.attachShader(g,e);d.attachShader(g,f);d.linkProgram(g);if(!d.getProgramParameter(g,d.LINK_STATUS))throw Error("Could not compile WebGL program.\n\n"+d.getProgramInfoLog(g));e=b.m=g;d.useProgram(e);f=d.getUniformLocation(e,"sampler0");b.j={I:d.getAttribLocation(e,"aVertex"),H:d.getAttribLocation(e,"aTex"),ca:f};b.s=d.createBuffer();d.bindBuffer(d.ARRAY_BUFFER,b.s);d.enableVertexAttribArray(b.j.I);d.vertexAttribPointer(b.j.I,2,d.FLOAT,!1,0,0);d.bufferData(d.ARRAY_BUFFER,new Float32Array([-1,-1,-1,1,1,1,1,-1]),d.STATIC_DRAW);d.bindBuffer(d.ARRAY_BUFFER,null);b.o=d.createBuffer();d.bindBuffer(d.ARRAY_BUFFER,b.o);d.enableVertexAttribArray(b.j.H);d.vertexAttribPointer(b.j.H,2,d.FLOAT,!1,0,0);d.bufferData(d.ARRAY_BUFFER,new Float32Array([0,1,0,0,1,0,1,1]),d.STATIC_DRAW);d.bindBuffer(d.ARRAY_BUFFER,null);d.uniform1i(f,0)}e=b.j;d.useProgram(b.m);d.canvas.width=c.width;d.canvas.height=c.height;d.viewport(0,0,c.width,c.height);d.activeTexture(d.TEXTURE0);b.h.bindTexture2d(c.glName);d.enableVertexAttribArray(e.I);d.bindBuffer(d.ARRAY_BUFFER,b.s);d.vertexAttribPointer(e.I,2,d.FLOAT,!1,0,0);d.enableVertexAttribArray(e.H);d.bindBuffer(d.ARRAY_BUFFER,b.o);d.vertexAttribPointer(e.H,2,d.FLOAT,!1,0,0);d.bindFramebuffer(d.DRAW_FRAMEBUFFER?d.DRAW_FRAMEBUFFER:d.FRAMEBUFFER,null);d.clearColor(0,0,0,0);d.clear(d.COLOR_BUFFER_BIT);d.colorMask(!0,!0,!0,!0);d.drawArrays(d.TRIANGLE_FAN,0,4);d.disableVertexAttribArray(e.I);d.disableVertexAttribArray(e.H);d.bindBuffer(d.ARRAY_BUFFER,null);b.h.bindTexture2d(0)}function Ub(b){this.g=b}var Vb=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,9,1,7,0,65,0,253,15,26,11]);function Wb(b,c){return c+b}function Xb(b,c){window[b]=c}function Yb(b){var c=document.createElement("script");c.setAttribute("src",i.createScriptURL(b));c.setAttribute("crossorigin","anonymous");return new Promise(function(b){c.addEventListener("load",function(){b()},!1),c.addEventListener("error",function(){b()},!1),document.body.appendChild(c)})}function Zb(){return B(function(b){switch(b.g){case 1:return b.m=2,u(b,WebAssembly.instantiate(Vb),4);case 4:b.g=3;b.m=0;break;case 2:return b.m=0,b.j=null,b["return"](!1);case 3:return b["return"](!0)}})}function $b(b){this.g=b;this.listeners={};this.j={};this.F={};this.m={};this.s={};this.G=this.o=this.R=!0;this.C=Promise.resolve();this.P="";this.B={};this.locateFile=b&&b.locateFile||Wb;if("object"===typeof window)var c=window.location.pathname.toString().substring(0,window.location.pathname.toString().lastIndexOf("/"))+"/";else if("undefined"!==typeof location)c=location.pathname.toString().substring(0,location.pathname.toString().lastIndexOf("/"))+"/";else throw Error("solutions can only be loaded on a web page or in a web worker");this.S=c;if(b.options){c=k(Object.keys(b.options));for(var d=c.next();!d.done;d=c.next()){d=d.value;var e=b.options[d]["default"];void 0!==e&&(this.j[d]="function"===typeof e?e():e)}}}c=$b.prototype;c.close=function(){this.i&&this.i["delete"]();return Promise.resolve()};function ac(b){var c,d,e,f,g,h,i,j,k,m,n;return B(function(o){switch(o.g){case 1:if(!b.R)return o["return"]();c=void 0===b.g.files?[]:"function"===typeof b.g.files?b.g.files(b.j):b.g.files;return u(o,Zb(),2);case 2:d=o.h;if("object"===typeof window)return Xb("createMediapipeSolutionsWasm",{locateFile:b.locateFile}),Xb("createMediapipeSolutionsPackedAssets",{locateFile:b.locateFile}),h=c.filter(function(b){return void 0!==b.data}),i=c.filter(function(b){return void 0===b.data}),j=Promise.all(h.map(function(c){var d=dc(b,c.url);if(void 0!==c.path){var e=c.path;d=d.then(function(c){b.overrideFile(e,c);return Promise.resolve(c)})}return d})),k=Promise.all(i.map(function(c){return void 0===c.simd||c.simd&&d||!c.simd&&!d?Yb(b.locateFile(c.url,b.S)):Promise.resolve()})).then(function(){var c,d,e;return B(function(f){if(1==f.g)return c=window.createMediapipeSolutionsWasm,d=window.createMediapipeSolutionsPackedAssets,e=b,u(f,c(d),2);e.h=f.h;f.g=0})}),m=function(){return B(function(c){b.g.graph&&b.g.graph.url?c=u(c,dc(b,b.g.graph.url),0):(c.g=0,c=void 0);return c})}(),u(o,Promise.all([k,j,m]),7);if("function"!==typeof importScripts)throw Error("solutions can only be loaded on a web page or in a web worker");e=c.filter(function(b){return void 0===b.simd||b.simd&&d||!b.simd&&!d}).map(function(c){return b.locateFile(c.url,b.S)});importScripts.apply(null,l(e));f=b;return u(o,createMediapipeSolutionsWasm(Module),6);case 6:f.h=o.h;b.l=new OffscreenCanvas(1,1);b.h.canvas=b.l;g=b.h.GL.createContext(b.l,{antialias:!1,alpha:!1,aa:"undefined"!==typeof WebGL2RenderingContext?2:1});b.h.GL.makeContextCurrent(g);o.g=4;break;case 7:b.l=document.createElement("canvas");n=b.l.getContext("webgl2",{});if(!n&&(n=b.l.getContext("webgl",{}),!n))return alert("Failed to create WebGL canvas context when passing video frame."),o["return"]();b.D=n;b.h.canvas=b.l;b.h.createContext(b.l,!0,!0,{});case 4:b.i=new b.h.SolutionWasm,b.R=!1,o.g=0}})}function bc(b){var c,d,e,f,g,h,i,j;return B(function(l){if(1==l.g){if(b.g.graph&&b.g.graph.url&&b.P===b.g.graph.url)return l["return"]();b.o=!0;if(!b.g.graph||!b.g.graph.url){l.g=2;return}b.P=b.g.graph.url;return u(l,dc(b,b.g.graph.url),3)}2!=l.g&&(c=l.h,b.i.loadGraph(c));d=k(Object.keys(b.B));for(e=d.next();!e.done;e=d.next())f=e.value,b.i.overrideFile(f,b.B[f]);b.B={};if(b.g.listeners)for(g=k(b.g.listeners),h=g.next();!h.done;h=g.next())i=h.value,gc(b,i);j=b.j;b.j={};b.setOptions(j);l.g=0})}c.reset=function(){var b=this;return B(function(c){b.i&&(b.i.reset(),b.m={},b.s={}),c.g=0})};c.setOptions=function(b,c){var d=this;if(c=c||this.g.options){for(var e=[],f=[],g={},h=k(Object.keys(b)),i=h.next();!i.done;g={K:g.K,L:g.L},i=h.next()){var j=i.value;j in this.j&&this.j[j]===b[j]||(this.j[j]=b[j],i=c[j],void 0!==i&&(i.onChange&&(g.K=i.onChange,g.L=b[j],e.push(function(b){return function(){var c;return B(function(e){if(1==e.g)return u(e,b.K(b.L),2);c=e.h;!0===c&&(d.o=!0);e.g=0})}}(g))),i.graphOptionXref&&(j={valueNumber:1===i.type?b[j]:0,valueBoolean:0===i.type?b[j]:!1,valueString:2===i.type?b[j]:""},i=Object.assign(Object.assign(Object.assign({},{calculatorName:"",calculatorIndex:0}),i.graphOptionXref),j),f.push(i))))}(0!==e.length||0!==f.length)&&(this.o=!0,this.A=(void 0===this.A?[]:this.A).concat(f),this.v=(void 0===this.v?[]:this.v).concat(e))}};function cc(b){var c,d,e,f,g,h,i;return B(function(j){switch(j.g){case 1:if(!b.o)return j["return"]();if(!b.v){j.g=2;break}c=k(b.v);d=c.next();case 3:if(d.done){j.g=5;break}e=d.value;return u(j,e(),4);case 4:d=c.next();j.g=3;break;case 5:b.v=void 0;case 2:if(b.A){f=new b.h.GraphOptionChangeRequestList;g=k(b.A);for(h=g.next();!h.done;h=g.next())i=h.value,f.push_back(i);b.i.changeOptions(f);f["delete"]();b.A=void 0}b.o=!1;j.g=0}})}c.initialize=function(){var b=this;return B(function(c){return 1==c.g?u(c,ac(b),2):3!=c.g?u(c,bc(b),3):u(c,cc(b),0)})};function dc(b,c){var d,e;return B(function(f){if(c in b.F)return f["return"](b.F[c]);d=b.locateFile(c,"");e=fetch(d).then(function(b){return b.arrayBuffer()});b.F[c]=e;return f["return"](e)})}c.overrideFile=function(b,c){this.i?this.i.overrideFile(b,c):this.B[b]=c};c.clearOverriddenFiles=function(){this.B={},this.i&&this.i.clearOverriddenFiles()};c.send=function(b,c){var d=this,e,f,g,h,i,j,l,m,n;return B(function(o){switch(o.g){case 1:if(!d.g.inputs)return o["return"]();e=1e3*(void 0===c||null===c?performance.now():c);return u(o,d.C,2);case 2:return u(o,d.initialize(),3);case 3:f=new d.h.PacketDataList;g=k(Object.keys(b));for(h=g.next();!h.done;h=g.next())if(i=h.value,j=d.g.inputs[i]){a:{var p=b[i];switch(j.type){case"video":var q=d.m[j.stream];q||(q=new Rb(d.h,d.D),d.m[j.stream]=q);0===q.l&&(q.l=q.h.createTexture());if("undefined"!==typeof HTMLVideoElement&&p instanceof HTMLVideoElement)var r=p.videoWidth,s=p.videoHeight;else"undefined"!==typeof HTMLImageElement&&p instanceof HTMLImageElement?(r=p.naturalWidth,s=p.naturalHeight):(r=p.width,s=p.height);s={glName:q.l,width:r,height:s};r=q.g;r.canvas.width=s.width;r.canvas.height=s.height;r.activeTexture(r.TEXTURE0);q.h.bindTexture2d(q.l);r.texImage2D(r.TEXTURE_2D,0,r.RGBA,r.RGBA,r.UNSIGNED_BYTE,p);q.h.bindTexture2d(0);q=s;break a;case"detections":q=d.m[j.stream];q||(q=new Ub(d.h),d.m[j.stream]=q);q.data||(q.data=new q.g.DetectionListData);q.data.reset(p.length);for(s=0;s<p.length;++s){r=p[s];var t=q.data,v=t.setBoundingBox,w=s,x=r.T,y=new Cb;T(y,1,x.X);T(y,2,x.Y);T(y,3,x.height);T(y,4,x.width);T(y,5,x.rotation);T(y,6,x.W);x=ab(y,Eb);v.call(t,w,x);if(r.O)for(t=0;t<r.O.length;++t){y=r.O[t];var z=y.visibility?!0:!1;v=q.data;w=v.addNormalizedLandmark;x=s;y=Object.assign(Object.assign({},y),{visibility:z?y.visibility:0});z=new ub;T(z,1,y.x);T(z,2,y.y);T(z,3,y.z);y.visibility&&T(z,4,y.visibility);y=ab(z,wb);w.call(v,x,y)}if(r.M)for(t=0;t<r.M.length;++t)v=q.data,w=v.addClassification,x=s,y=r.M[t],z=new Z,T(z,2,y.score),y.index&&T(z,1,y.index),y.label&&T(z,3,y.label),y.displayName&&T(z,4,y.displayName),y=ab(z,ob),w.call(v,x,y)}q=q.data;break a;default:q={}}}l=q;m=j.stream;switch(j.type){case"video":f.pushTexture2d(Object.assign(Object.assign({},l),{stream:m,timestamp:e}));break;case"detections":n=l;n.stream=m;n.timestamp=e;f.pushDetectionList(n);break;default:throw Error("Unknown input config type: '"+j.type+"'")}}d.i.send(f);return u(o,d.C,4);case 4:f["delete"](),o.g=0}})};function ec(b,c,d){var e,f,g,h,i,j,l,m,n,o,p,q,r,s;return B(function(t){switch(t.g){case 1:if(!d)return t["return"](c);e={};f=0;g=k(Object.keys(d));for(h=g.next();!h.done;h=g.next())i=h.value,j=d[i],"string"!==typeof j&&"texture"===j.type&&void 0!==c[j.stream]&&++f;1<f&&(b.G=!1);l=k(Object.keys(d));h=l.next();case 2:if(h.done){t.g=4;break}m=h.value;n=d[m];if("string"===typeof n)return r=e,s=m,u(t,fc(b,m,c[n]),14);o=c[n.stream];if("detection_list"===n.type){if(o){var v=o.getRectList();for(var w=o.getLandmarksList(),x=o.getClassificationsList(),y=[],z=0;z<v.size();++z){var A=bb(v.get(z),Cb,Fb);A={T:{X:S(A,1),Y:S(A,2),height:S(A,3),width:S(A,4),rotation:S(A,5,0),W:R(A,6,0)},O:aa(w.get(z)),M:Pb(bb(x.get(z),qb,sb))};y.push(A)}v=y}else v=[];e[m]=v;t.g=7;break}if("proto_list"===n.type){if(o){v=Array(o.size());for(w=0;w<o.size();w++)v[w]=o.get(w);o["delete"]()}else v=[];e[m]=v;t.g=7;break}if(void 0===o){t.g=3;break}if("float_list"===n.type){e[m]=o;t.g=7;break}if("proto"===n.type){e[m]=o;t.g=7;break}if("texture"!==n.type)throw Error("Unknown output config type: '"+n.type+"'");p=b.s[m];p||(p=new Rb(b.h,b.D),b.s[m]=p);return u(t,Sb(p,o,b.G),13);case 13:q=t.h,e[m]=q;case 7:n.transform&&e[m]&&(e[m]=n.transform(e[m]));t.g=3;break;case 14:r[s]=t.h;case 3:h=l.next();t.g=2;break;case 4:return t["return"](e)}})}function fc(b,c,d){var e;return B(function(f){return"number"===typeof d||d instanceof Uint8Array||d instanceof b.h.Uint8BlobList?f["return"](d):d instanceof b.h.Texture2dDataOut?(e=b.s[c],e||(e=new Rb(b.h,b.D),b.s[c]=e),f["return"](Sb(e,d,b.G))):f["return"](void 0)})}function gc(b,c){for(var d=c.name||"$",e=[].concat(l(c.wants)),f=new b.h.StringList,g=k(c.wants),h=g.next();!h.done;h=g.next())f.push_back(h.value);g=b.h.PacketListener.implement({onResults:function(f){for(var g={},h=0;h<c.wants.length;++h)g[e[h]]=f.get(h);var i=b.listeners[d];i&&(b.C=ec(b,g,c.outs).then(function(d){d=i(d);for(var f=0;f<c.wants.length;++f){var h=g[e[f]];"object"===typeof h&&h.hasOwnProperty&&h.hasOwnProperty("delete")&&h["delete"]()}d&&(b.C=d)}))}});b.i.attachMultiListener(f,g);f["delete"]()}c.onResults=function(b,c){this.listeners[c||"$"]=b};C("Solution",$b);C("OptionType",{BOOL:0,NUMBER:1,Z:2,0:"BOOL",1:"NUMBER",2:"STRING"});function hc(b){return b.map(ic)}function ic(b){b=bb(b,Jb,Lb);var c=b.getMesh();if(!c)return b;var d=new Float32Array(c.getVertexBufferList());c.getVertexBufferList=function(){return d};var e=new Uint32Array(c.getIndexBufferList());c.getIndexBufferList=function(){return e};return b}function jc(b){var c=this;b=b||{};this.g=new $b({locateFile:b.locateFile,files:[{url:"holistic_solution_packed_assets_loader.js"},{simd:!1,url:"holistic_solution_wasm_bin.js"},{simd:!0,url:"holistic_solution_simd_wasm_bin.js"}],graph:{url:"holistic.binarypb"},inputs:{image:{type:"video",stream:"input_frames_gpu"}},listeners:[{wants:"left_hand_landmarks right_hand_landmarks face_landmarks pose_landmarks world_landmarks segmentation_mask image_transformed multi_face_geometry".split(" "),outs:{image:{type:"texture",stream:"image_transformed"},leftHandLandmarks:{type:"proto",stream:"left_hand_landmarks",transform:aa},rightHandLandmarks:{type:"proto",stream:"right_hand_landmarks",transform:aa},faceLandmarks:{type:"proto",stream:"face_landmarks",transform:aa},poseLandmarks:{type:"proto",stream:"pose_landmarks",transform:aa},ea:{type:"proto",stream:"world_landmarks",transform:aa},segmentationMask:{type:"texture",stream:"segmentation_mask"},multiFaceGeometry:{type:"proto_list",stream:"multi_face_geometry",transform:hc}}}],options:{useCpuInference:{type:0,graphOptionXref:{calculatorType:"InferenceCalculator",fieldName:"use_cpu_inference"},"default":"iPad Simulator;iPhone Simulator;iPod Simulator;iPad;iPhone;iPod".split(";").includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document},enableFaceGeometry:{type:0,graphOptionXref:{calculatorName:"EnableFaceGeometryConstant",calculatorType:"ConstantSidePacketCalculator",fieldName:"bool_value"}},selfieMode:{type:0,graphOptionXref:{calculatorType:"GlScalerCalculator",calculatorIndex:1,fieldName:"flip_horizontal"}},modelComplexity:{type:1,"default":1,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculatorModelComplexity",fieldName:"int_value"},onChange:function(b){var d,e,f,g;return B(function(h){if(1==h.g){d="";switch(b){case 1:d="pose_landmark_full.tflite";break;case 2:d="pose_landmark_heavy.tflite";break;default:d="pose_landmark_lite.tflite"}e="third_party/mediapipe/modules/pose_landmark/"+d;f=c.g.locateFile(d,"");return u(h,fetch(f),3)}if(2!=h.g)return u(h,h.h.arrayBuffer(),2);g=h.h;c.g.overrideFile(e,g);return u(h,c.g.reset(),0)})}},smoothLandmarks:{type:0,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculatorSmoothLandmarks",fieldName:"bool_value"}},enableSegmentation:{type:0,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculatorEnableSegmentation",fieldName:"bool_value"}},smoothSegmentation:{type:0,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculatorSmoothSegmentation",fieldName:"bool_value"}},refineFaceLandmarks:{type:0,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculatorRefineFaceLandmarks",fieldName:"bool_value"}},minDetectionConfidence:{type:1,graphOptionXref:{calculatorType:"TensorsToDetectionsCalculator",calculatorName:"holisticlandmarkgpu__poselandmarkgpu__posedetectiongpu__TensorsToDetectionsCalculator",fieldName:"min_score_thresh"}},minTrackingConfidence:{type:1,graphOptionXref:{calculatorType:"ThresholdingCalculator",calculatorName:"holisticlandmarkgpu__poselandmarkgpu__poselandmarkbyroigpu__tensorstoposelandmarksandsegmentation__ThresholdingCalculator",fieldName:"threshold"}},cameraNear:{type:1,graphOptionXref:{calculatorType:"FaceGeometryEnvGeneratorCalculator",fieldName:"near"}},cameraFar:{type:1,graphOptionXref:{calculatorType:"FaceGeometryEnvGeneratorCalculator",fieldName:"far"}},cameraVerticalFovDegrees:{type:1,graphOptionXref:{calculatorType:"FaceGeometryEnvGeneratorCalculator",fieldName:"vertical_fov_degrees"}}}})}c=jc.prototype;c.close=function(){this.g.close();return Promise.resolve()};c.onResults=function(b){this.g.onResults(b)};c.initialize=function(){var b=this;return B(function(c){return u(c,b.g.initialize(),0)})};c.reset=function(){this.g.reset()};c.send=function(b){var c=this;return B(function(d){return u(d,c.g.send(b),0)})};c.setOptions=function(b){this.g.setOptions(b)};C("Holistic",jc);C("FACE_GEOMETRY",{Layout:{COLUMN_MAJOR:0,ROW_MAJOR:1,0:"COLUMN_MAJOR",1:"ROW_MAJOR"},PrimitiveType:{TRIANGLE:0,0:"TRIANGLE"},VertexType:{VERTEX_PT:0,0:"VERTEX_PT"},DEFAULT_CAMERA_PARAMS:{verticalFovDegrees:63,near:1,far:1e4}});C("FACEMESH_LIPS",o);C("FACEMESH_LEFT_EYE",n);C("FACEMESH_LEFT_EYEBROW",f);C("FACEMESH_LEFT_IRIS",[[474,475],[475,476],[476,477],[477,474]]);C("FACEMESH_RIGHT_EYE",h);C("FACEMESH_RIGHT_EYEBROW",q);C("FACEMESH_RIGHT_IRIS",[[469,470],[470,471],[471,472],[472,469]]);C("FACEMESH_FACE_OVAL",Mb);C("FACEMESH_CONTOURS",Nb);C("FACEMESH_TESSELATION",[[127,34],[34,139],[139,127],[11,0],[0,37],[37,11],[232,231],[231,120],[120,232],[72,37],[37,39],[39,72],[128,121],[121,47],[47,128],[232,121],[121,128],[128,232],[104,69],[69,67],[67,104],[175,171],[171,148],[148,175],[118,50],[50,101],[101,118],[73,39],[39,40],[40,73],[9,151],[151,108],[108,9],[48,115],[115,131],[131,48],[194,204],[204,211],[211,194],[74,40],[40,185],[185,74],[80,42],[42,183],[183,80],[40,92],[92,186],[186,40],[230,229],[229,118],[118,230],[202,212],[212,214],[214,202],[83,18],[18,17],[17,83],[76,61],[61,146],[146,76],[160,29],[29,30],[30,160],[56,157],[157,173],[173,56],[106,204],[204,194],[194,106],[135,214],[214,192],[192,135],[203,165],[165,98],[98,203],[21,71],[71,68],[68,21],[51,45],[45,4],[4,51],[144,24],[24,23],[23,144],[77,146],[146,91],[91,77],[205,50],[50,187],[187,205],[201,200],[200,18],[18,201],[91,106],[106,182],[182,91],[90,91],[91,181],[181,90],[85,84],[84,17],[17,85],[206,203],[203,36],[36,206],[148,171],[171,140],[140,148],[92,40],[40,39],[39,92],[193,189],[189,244],[244,193],[159,158],[158,28],[28,159],[247,246],[246,161],[161,247],[236,3],[3,196],[196,236],[54,68],[68,104],[104,54],[193,168],[168,8],[8,193],[117,228],[228,31],[31,117],[189,193],[193,55],[55,189],[98,97],[97,99],[99,98],[126,47],[47,100],[100,126],[166,79],[79,218],[218,166],[155,154],[154,26],[26,155],[209,49],[49,131],[131,209],[135,136],[136,150],[150,135],[47,126],[126,217],[217,47],[223,52],[52,53],[53,223],[45,51],[51,134],[134,45],[211,170],[170,140],[140,211],[67,69],[69,108],[108,67],[43,106],[106,91],[91,43],[230,119],[119,120],[120,230],[226,130],[130,247],[247,226],[63,53],[53,52],[52,63],[238,20],[20,242],[242,238],[46,70],[70,156],[156,46],[78,62],[62,96],[96,78],[46,53],[53,63],[63,46],[143,34],[34,227],[227,143],[123,117],[117,111],[111,123],[44,125],[125,19],[19,44],[236,134],[134,51],[51,236],[216,206],[206,205],[205,216],[154,153],[153,22],[22,154],[39,37],[37,167],[167,39],[200,201],[201,208],[208,200],[36,142],[142,100],[100,36],[57,212],[212,202],[202,57],[20,60],[60,99],[99,20],[28,158],[158,157],[157,28],[35,226],[226,113],[113,35],[160,159],[159,27],[27,160],[204,202],[202,210],[210,204],[113,225],[225,46],[46,113],[43,202],[202,204],[204,43],[62,76],[76,77],[77,62],[137,123],[123,116],[116,137],[41,38],[38,72],[72,41],[203,129],[129,142],[142,203],[64,98],[98,240],[240,64],[49,102],[102,64],[64,49],[41,73],[73,74],[74,41],[212,216],[216,207],[207,212],[42,74],[74,184],[184,42],[169,170],[170,211],[211,169],[170,149],[149,176],[176,170],[105,66],[66,69],[69,105],[122,6],[6,168],[168,122],[123,147],[147,187],[187,123],[96,77],[77,90],[90,96],[65,55],[55,107],[107,65],[89,90],[90,180],[180,89],[101,100],[100,120],[120,101],[63,105],[105,104],[104,63],[93,137],[137,227],[227,93],[15,86],[86,85],[85,15],[129,102],[102,49],[49,129],[14,87],[87,86],[86,14],[55,8],[8,9],[9,55],[100,47],[47,121],[121,100],[145,23],[23,22],[22,145],[88,89],[89,179],[179,88],[6,122],[122,196],[196,6],[88,95],[95,96],[96,88],[138,172],[172,136],[136,138],[215,58],[58,172],[172,215],[115,48],[48,219],[219,115],[42,80],[80,81],[81,42],[195,3],[3,51],[51,195],[43,146],[146,61],[61,43],[171,175],[175,199],[199,171],[81,82],[82,38],[38,81],[53,46],[46,225],[225,53],[144,163],[163,110],[110,144],[52,65],[65,66],[66,52],[229,228],[228,117],[117,229],[34,127],[127,234],[234,34],[107,108],[108,69],[69,107],[109,108],[108,151],[151,109],[48,64],[64,235],[235,48],[62,78],[78,191],[191,62],[129,209],[209,126],[126,129],[111,35],[35,143],[143,111],[117,123],[123,50],[50,117],[222,65],[65,52],[52,222],[19,125],[125,141],[141,19],[221,55],[55,65],[65,221],[3,195],[195,197],[197,3],[25,7],[7,33],[33,25],[220,237],[237,44],[44,220],[70,71],[71,139],[139,70],[122,193],[193,245],[245,122],[247,130],[130,33],[33,247],[71,21],[21,162],[162,71],[170,169],[169,150],[150,170],[188,174],[174,196],[196,188],[216,186],[186,92],[92,216],[2,97],[97,167],[167,2],[141,125],[125,241],[241,141],[164,167],[167,37],[37,164],[72,38],[38,12],[12,72],[38,82],[82,13],[13,38],[63,68],[68,71],[71,63],[226,35],[35,111],[111,226],[101,50],[50,205],[205,101],[206,92],[92,165],[165,206],[209,198],[198,217],[217,209],[165,167],[167,97],[97,165],[220,115],[115,218],[218,220],[133,112],[112,243],[243,133],[239,238],[238,241],[241,239],[214,135],[135,169],[169,214],[190,173],[173,133],[133,190],[171,208],[208,32],[32,171],[125,44],[44,237],[237,125],[86,87],[87,178],[178,86],[85,86],[86,179],[179,85],[84,85],[85,180],[180,84],[83,84],[84,181],[181,83],[201,83],[83,182],[182,201],[137,93],[93,132],[132,137],[76,62],[62,183],[183,76],[61,76],[76,184],[184,61],[57,61],[61,185],[185,57],[212,57],[57,186],[186,212],[214,207],[207,187],[187,214],[34,143],[143,156],[156,34],[79,239],[239,237],[237,79],[123,137],[137,177],[177,123],[44,1],[1,4],[4,44],[201,194],[194,32],[32,201],[64,102],[102,129],[129,64],[213,215],[215,138],[138,213],[59,166],[166,219],[219,59],[242,99],[99,97],[97,242],[2,94],[94,141],[141,2],[75,59],[59,235],[235,75],[24,110],[110,228],[228,24],[25,130],[130,226],[226,25],[23,24],[24,229],[229,23],[22,23],[23,230],[230,22],[26,22],[22,231],[231,26],[112,26],[26,232],[232,112],[189,190],[190,243],[243,189],[221,56],[56,190],[190,221],[28,56],[56,221],[221,28],[27,28],[28,222],[222,27],[29,27],[27,223],[223,29],[30,29],[29,224],[224,30],[247,30],[30,225],[225,247],[238,79],[79,20],[20,238],[166,59],[59,75],[75,166],[60,75],[75,240],[240,60],[147,177],[177,215],[215,147],[20,79],[79,166],[166,20],[187,147],[147,213],[213,187],[112,233],[233,244],[244,112],[233,128],[128,245],[245,233],[128,114],[114,188],[188,128],[114,217],[217,174],[174,114],[131,115],[115,220],[220,131],[217,198],[198,236],[236,217],[198,131],[131,134],[134,198],[177,132],[132,58],[58,177],[143,35],[35,124],[124,143],[110,163],[163,7],[7,110],[228,110],[110,25],[25,228],[356,389],[389,368],[368,356],[11,302],[302,267],[267,11],[452,350],[350,349],[349,452],[302,303],[303,269],[269,302],[357,343],[343,277],[277,357],[452,453],[453,357],[357,452],[333,332],[332,297],[297,333],[175,152],[152,377],[377,175],[347,348],[348,330],[330,347],[303,304],[304,270],[270,303],[9,336],[336,337],[337,9],[278,279],[279,360],[360,278],[418,262],[262,431],[431,418],[304,408],[408,409],[409,304],[310,415],[415,407],[407,310],[270,409],[409,410],[410,270],[450,348],[348,347],[347,450],[422,430],[430,434],[434,422],[313,314],[314,17],[17,313],[306,307],[307,375],[375,306],[387,388],[388,260],[260,387],[286,414],[414,398],[398,286],[335,406],[406,418],[418,335],[364,367],[367,416],[416,364],[423,358],[358,327],[327,423],[251,284],[284,298],[298,251],[281,5],[5,4],[4,281],[373,374],[374,253],[253,373],[307,320],[320,321],[321,307],[425,427],[427,411],[411,425],[421,313],[313,18],[18,421],[321,405],[405,406],[406,321],[320,404],[404,405],[405,320],[315,16],[16,17],[17,315],[426,425],[425,266],[266,426],[377,400],[400,369],[369,377],[322,391],[391,269],[269,322],[417,465],[465,464],[464,417],[386,257],[257,258],[258,386],[466,260],[260,388],[388,466],[456,399],[399,419],[419,456],[284,332],[332,333],[333,284],[417,285],[285,8],[8,417],[346,340],[340,261],[261,346],[413,441],[441,285],[285,413],[327,460],[460,328],[328,327],[355,371],[371,329],[329,355],[392,439],[439,438],[438,392],[382,341],[341,256],[256,382],[429,420],[420,360],[360,429],[364,394],[394,379],[379,364],[277,343],[343,437],[437,277],[443,444],[444,283],[283,443],[275,440],[440,363],[363,275],[431,262],[262,369],[369,431],[297,338],[338,337],[337,297],[273,375],[375,321],[321,273],[450,451],[451,349],[349,450],[446,342],[342,467],[467,446],[293,334],[334,282],[282,293],[458,461],[461,462],[462,458],[276,353],[353,383],[383,276],[308,324],[324,325],[325,308],[276,300],[300,293],[293,276],[372,345],[345,447],[447,372],[352,345],[345,340],[340,352],[274,1],[1,19],[19,274],[456,248],[248,281],[281,456],[436,427],[427,425],[425,436],[381,256],[256,252],[252,381],[269,391],[391,393],[393,269],[200,199],[199,428],[428,200],[266,330],[330,329],[329,266],[287,273],[273,422],[422,287],[250,462],[462,328],[328,250],[258,286],[286,384],[384,258],[265,353],[353,342],[342,265],[387,259],[259,257],[257,387],[424,431],[431,430],[430,424],[342,353],[353,276],[276,342],[273,335],[335,424],[424,273],[292,325],[325,307],[307,292],[366,447],[447,345],[345,366],[271,303],[303,302],[302,271],[423,266],[266,371],[371,423],[294,455],[455,460],[460,294],[279,278],[278,294],[294,279],[271,272],[272,304],[304,271],[432,434],[434,427],[427,432],[272,407],[407,408],[408,272],[394,430],[430,431],[431,394],[395,369],[369,400],[400,395],[334,333],[333,299],[299,334],[351,417],[417,168],[168,351],[352,280],[280,411],[411,352],[325,319],[319,320],[320,325],[295,296],[296,336],[336,295],[319,403],[403,404],[404,319],[330,348],[348,349],[349,330],[293,298],[298,333],[333,293],[323,454],[454,447],[447,323],[15,16],[16,315],[315,15],[358,429],[429,279],[279,358],[14,15],[15,316],[316,14],[285,336],[336,9],[9,285],[329,349],[349,350],[350,329],[374,380],[380,252],[252,374],[318,402],[402,403],[403,318],[6,197],[197,419],[419,6],[318,319],[319,325],[325,318],[367,364],[364,365],[365,367],[435,367],[367,397],[397,435],[344,438],[438,439],[439,344],[272,271],[271,311],[311,272],[195,5],[5,281],[281,195],[273,287],[287,291],[291,273],[396,428],[428,199],[199,396],[311,271],[271,268],[268,311],[283,444],[444,445],[445,283],[373,254],[254,339],[339,373],[282,334],[334,296],[296,282],[449,347],[347,346],[346,449],[264,447],[447,454],[454,264],[336,296],[296,299],[299,336],[338,10],[10,151],[151,338],[278,439],[439,455],[455,278],[292,407],[407,415],[415,292],[358,371],[371,355],[355,358],[340,345],[345,372],[372,340],[346,347],[347,280],[280,346],[442,443],[443,282],[282,442],[19,94],[94,370],[370,19],[441,442],[442,295],[295,441],[248,419],[419,197],[197,248],[263,255],[255,359],[359,263],[440,275],[275,274],[274,440],[300,383],[383,368],[368,300],[351,412],[412,465],[465,351],[263,467],[467,466],[466,263],[301,368],[368,389],[389,301],[395,378],[378,379],[379,395],[412,351],[351,419],[419,412],[436,426],[426,322],[322,436],[2,164],[164,393],[393,2],[370,462],[462,461],[461,370],[164,0],[0,267],[267,164],[302,11],[11,12],[12,302],[268,12],[12,13],[13,268],[293,300],[300,301],[301,293],[446,261],[261,340],[340,446],[330,266],[266,425],[425,330],[426,423],[423,391],[391,426],[429,355],[355,437],[437,429],[391,327],[327,326],[326,391],[440,457],[457,438],[438,440],[341,382],[382,362],[362,341],[459,457],[457,461],[461,459],[434,430],[430,394],[394,434],[414,463],[463,362],[362,414],[396,369],[369,262],[262,396],[354,461],[461,457],[457,354],[316,403],[403,402],[402,316],[315,404],[404,403],[403,315],[314,405],[405,404],[404,314],[313,406],[406,405],[405,313],[421,418],[418,406],[406,421],[366,401],[401,361],[361,366],[306,408],[408,407],[407,306],[291,409],[409,408],[408,291],[287,410],[410,409],[409,287],[432,436],[436,410],[410,432],[434,416],[416,411],[411,434],[264,368],[368,383],[383,264],[309,438],[438,457],[457,309],[352,376],[376,401],[401,352],[274,275],[275,4],[4,274],[421,428],[428,262],[262,421],[294,327],[327,358],[358,294],[433,416],[416,367],[367,433],[289,455],[455,439],[439,289],[462,370],[370,326],[326,462],[2,326],[326,370],[370,2],[305,460],[460,455],[455,305],[254,449],[449,448],[448,254],[255,261],[261,446],[446,255],[253,450],[450,449],[449,253],[252,451],[451,450],[450,252],[256,452],[452,451],[451,256],[341,453],[453,452],[452,341],[413,464],[464,463],[463,413],[441,413],[413,414],[414,441],[258,442],[442,441],[441,258],[257,443],[443,442],[442,257],[259,444],[444,443],[443,259],[260,445],[445,444],[444,260],[467,342],[342,445],[445,467],[459,458],[458,250],[250,459],[289,392],[392,290],[290,289],[290,328],[328,460],[460,290],[376,433],[433,435],[435,376],[250,290],[290,392],[392,250],[411,416],[416,433],[433,411],[341,463],[463,464],[464,341],[453,464],[464,465],[465,453],[357,465],[465,412],[412,357],[343,412],[412,399],[399,343],[360,363],[363,440],[440,360],[437,399],[399,456],[456,437],[420,456],[456,363],[363,420],[401,435],[435,288],[288,401],[372,383],[383,353],[353,372],[339,255],[255,249],[249,339],[448,261],[261,255],[255,448],[133,243],[243,190],[190,133],[133,155],[155,112],[112,133],[33,246],[246,247],[247,33],[33,130],[130,25],[25,33],[398,384],[384,286],[286,398],[362,398],[398,414],[414,362],[362,463],[463,341],[341,362],[263,359],[359,467],[467,263],[263,249],[249,255],[255,263],[466,467],[467,260],[260,466],[75,60],[60,166],[166,75],[238,239],[239,79],[79,238],[162,127],[127,139],[139,162],[72,11],[11,37],[37,72],[121,232],[232,120],[120,121],[73,72],[72,39],[39,73],[114,128],[128,47],[47,114],[233,232],[232,128],[128,233],[103,104],[104,67],[67,103],[152,175],[175,148],[148,152],[119,118],[118,101],[101,119],[74,73],[73,40],[40,74],[107,9],[9,108],[108,107],[49,48],[48,131],[131,49],[32,194],[194,211],[211,32],[184,74],[74,185],[185,184],[191,80],[80,183],[183,191],[185,40],[40,186],[186,185],[119,230],[230,118],[118,119],[210,202],[202,214],[214,210],[84,83],[83,17],[17,84],[77,76],[76,146],[146,77],[161,160],[160,30],[30,161],[190,56],[56,173],[173,190],[182,106],[106,194],[194,182],[138,135],[135,192],[192,138],[129,203],[203,98],[98,129],[54,21],[21,68],[68,54],[5,51],[51,4],[4,5],[145,144],[144,23],[23,145],[90,77],[77,91],[91,90],[207,205],[205,187],[187,207],[83,201],[201,18],[18,83],[181,91],[91,182],[182,181],[180,90],[90,181],[181,180],[16,85],[85,17],[17,16],[205,206],[206,36],[36,205],[176,148],[148,140],[140,176],[165,92],[92,39],[39,165],[245,193],[193,244],[244,245],[27,159],[159,28],[28,27],[30,247],[247,161],[161,30],[174,236],[236,196],[196,174],[103,54],[54,104],[104,103],[55,193],[193,8],[8,55],[111,117],[117,31],[31,111],[221,189],[189,55],[55,221],[240,98],[98,99],[99,240],[142,126],[126,100],[100,142],[219,166],[166,218],[218,219],[112,155],[155,26],[26,112],[198,209],[209,131],[131,198],[169,135],[135,150],[150,169],[114,47],[47,217],[217,114],[224,223],[223,53],[53,224],[220,45],[45,134],[134,220],[32,211],[211,140],[140,32],[109,67],[67,108],[108,109],[146,43],[43,91],[91,146],[231,230],[230,120],[120,231],[113,226],[226,247],[247,113],[105,63],[63,52],[52,105],[241,238],[238,242],[242,241],[124,46],[46,156],[156,124],[95,78],[78,96],[96,95],[70,46],[46,63],[63,70],[116,143],[143,227],[227,116],[116,123],[123,111],[111,116],[1,44],[44,19],[19,1],[3,236],[236,51],[51,3],[207,216],[216,205],[205,207],[26,154],[154,22],[22,26],[165,39],[39,167],[167,165],[199,200],[200,208],[208,199],[101,36],[36,100],[100,101],[43,57],[57,202],[202,43],[242,20],[20,99],[99,242],[56,28],[28,157],[157,56],[124,35],[35,113],[113,124],[29,160],[160,27],[27,29],[211,204],[204,210],[210,211],[124,113],[113,46],[46,124],[106,43],[43,204],[204,106],[96,62],[62,77],[77,96],[227,137],[137,116],[116,227],[73,41],[41,72],[72,73],[36,203],[203,142],[142,36],[235,64],[64,240],[240,235],[48,49],[49,64],[64,48],[42,41],[41,74],[74,42],[214,212],[212,207],[207,214],[183,42],[42,184],[184,183],[210,169],[169,211],[211,210],[140,170],[170,176],[176,140],[104,105],[105,69],[69,104],[193,122],[122,168],[168,193],[50,123],[123,187],[187,50],[89,96],[96,90],[90,89],[66,65],[65,107],[107,66],[179,89],[89,180],[180,179],[119,101],[101,120],[120,119],[68,63],[63,104],[104,68],[234,93],[93,227],[227,234],[16,15],[15,85],[85,16],[209,129],[129,49],[49,209],[15,14],[14,86],[86,15],[107,55],[55,9],[9,107],[120,100],[100,121],[121,120],[153,145],[145,22],[22,153],[178,88],[88,179],[179,178],[197,6],[6,196],[196,197],[89,88],[88,96],[96,89],[135,138],[138,136],[136,135],[138,215],[215,172],[172,138],[218,115],[115,219],[219,218],[41,42],[42,81],[81,41],[5,195],[195,51],[51,5],[57,43],[43,61],[61,57],[208,171],[171,199],[199,208],[41,81],[81,38],[38,41],[224,53],[53,225],[225,224],[24,144],[144,110],[110,24],[105,52],[52,66],[66,105],[118,229],[229,117],[117,118],[227,34],[34,234],[234,227],[66,107],[107,69],[69,66],[10,109],[109,151],[151,10],[219,48],[48,235],[235,219],[183,62],[62,191],[191,183],[142,129],[129,126],[126,142],[116,111],[111,143],[143,116],[118,117],[117,50],[50,118],[223,222],[222,52],[52,223],[94,19],[19,141],[141,94],[222,221],[221,65],[65,222],[196,3],[3,197],[197,196],[45,220],[220,44],[44,45],[156,70],[70,139],[139,156],[188,122],[122,245],[245,188],[139,71],[71,162],[162,139],[149,170],[170,150],[150,149],[122,188],[188,196],[196,122],[206,216],[216,92],[92,206],[164,2],[2,167],[167,164],[242,141],[141,241],[241,242],[0,164],[164,37],[37,0],[11,72],[72,12],[12,11],[12,38],[38,13],[13,12],[70,63],[63,71],[71,70],[31,226],[226,111],[111,31],[36,101],[101,205],[205,36],[203,206],[206,165],[165,203],[126,209],[209,217],[217,126],[98,165],[165,97],[97,98],[237,220],[220,218],[218,237],[237,239],[239,241],[241,237],[210,214],[214,169],[169,210],[140,171],[171,32],[32,140],[241,125],[125,237],[237,241],[179,86],[86,178],[178,179],[180,85],[85,179],[179,180],[181,84],[84,180],[180,181],[182,83],[83,181],[181,182],[194,201],[201,182],[182,194],[177,137],[137,132],[132,177],[184,76],[76,183],[183,184],[185,61],[61,184],[184,185],[186,57],[57,185],[185,186],[216,212],[212,186],[186,216],[192,214],[214,187],[187,192],[139,34],[34,156],[156,139],[218,79],[79,237],[237,218],[147,123],[123,177],[177,147],[45,44],[44,4],[4,45],[208,201],[201,32],[32,208],[98,64],[64,129],[129,98],[192,213],[213,138],[138,192],[235,59],[59,219],[219,235],[141,242],[242,97],[97,141],[97,2],[2,141],[141,97],[240,75],[75,235],[235,240],[229,24],[24,228],[228,229],[31,25],[25,226],[226,31],[230,23],[23,229],[229,230],[231,22],[22,230],[230,231],[232,26],[26,231],[231,232],[233,112],[112,232],[232,233],[244,189],[189,243],[243,244],[189,221],[221,190],[190,189],[222,28],[28,221],[221,222],[223,27],[27,222],[222,223],[224,29],[29,223],[223,224],[225,30],[30,224],[224,225],[113,247],[247,225],[225,113],[99,60],[60,240],[240,99],[213,147],[147,215],[215,213],[60,20],[20,166],[166,60],[192,187],[187,213],[213,192],[243,112],[112,244],[244,243],[244,233],[233,245],[245,244],[245,128],[128,188],[188,245],[188,114],[114,174],[174,188],[134,131],[131,220],[220,134],[174,217],[217,236],[236,174],[236,198],[198,134],[134,236],[215,177],[177,58],[58,215],[156,143],[143,124],[124,156],[25,110],[110,7],[7,25],[31,228],[228,25],[25,31],[264,356],[356,368],[368,264],[0,11],[11,267],[267,0],[451,452],[452,349],[349,451],[267,302],[302,269],[269,267],[350,357],[357,277],[277,350],[350,452],[452,357],[357,350],[299,333],[333,297],[297,299],[396,175],[175,377],[377,396],[280,347],[347,330],[330,280],[269,303],[303,270],[270,269],[151,9],[9,337],[337,151],[344,278],[278,360],[360,344],[424,418],[418,431],[431,424],[270,304],[304,409],[409,270],[272,310],[310,407],[407,272],[322,270],[270,410],[410,322],[449,450],[450,347],[347,449],[432,422],[422,434],[434,432],[18,313],[313,17],[17,18],[291,306],[306,375],[375,291],[259,387],[387,260],[260,259],[424,335],[335,418],[418,424],[434,364],[364,416],[416,434],[391,423],[423,327],[327,391],[301,251],[251,298],[298,301],[275,281],[281,4],[4,275],[254,373],[373,253],[253,254],[375,307],[307,321],[321,375],[280,425],[425,411],[411,280],[200,421],[421,18],[18,200],[335,321],[321,406],[406,335],[321,320],[320,405],[405,321],[314,315],[315,17],[17,314],[423,426],[426,266],[266,423],[396,377],[377,369],[369,396],[270,322],[322,269],[269,270],[413,417],[417,464],[464,413],[385,386],[386,258],[258,385],[248,456],[456,419],[419,248],[298,284],[284,333],[333,298],[168,417],[417,8],[8,168],[448,346],[346,261],[261,448],[417,413],[413,285],[285,417],[326,327],[327,328],[328,326],[277,355],[355,329],[329,277],[309,392],[392,438],[438,309],[381,382],[382,256],[256,381],[279,429],[429,360],[360,279],[365,364],[364,379],[379,365],[355,277],[277,437],[437,355],[282,443],[443,283],[283,282],[281,275],[275,363],[363,281],[395,431],[431,369],[369,395],[299,297],[297,337],[337,299],[335,273],[273,321],[321,335],[348,450],[450,349],[349,348],[359,446],[446,467],[467,359],[283,293],[293,282],[282,283],[250,458],[458,462],[462,250],[300,276],[276,383],[383,300],[292,308],[308,325],[325,292],[283,276],[276,293],[293,283],[264,372],[372,447],[447,264],[346,352],[352,340],[340,346],[354,274],[274,19],[19,354],[363,456],[456,281],[281,363],[426,436],[436,425],[425,426],[380,381],[381,252],[252,380],[267,269],[269,393],[393,267],[421,200],[200,428],[428,421],[371,266],[266,329],[329,371],[432,287],[287,422],[422,432],[290,250],[250,328],[328,290],[385,258],[258,384],[384,385],[446,265],[265,342],[342,446],[386,387],[387,257],[257,386],[422,424],[424,430],[430,422],[445,342],[342,276],[276,445],[422,273],[273,424],[424,422],[306,292],[292,307],[307,306],[352,366],[366,345],[345,352],[268,271],[271,302],[302,268],[358,423],[423,371],[371,358],[327,294],[294,460],[460,327],[331,279],[279,294],[294,331],[303,271],[271,304],[304,303],[436,432],[432,427],[427,436],[304,272],[272,408],[408,304],[395,394],[394,431],[431,395],[378,395],[395,400],[400,378],[296,334],[334,299],[299,296],[6,351],[351,168],[168,6],[376,352],[352,411],[411,376],[307,325],[325,320],[320,307],[285,295],[295,336],[336,285],[320,319],[319,404],[404,320],[329,330],[330,349],[349,329],[334,293],[293,333],[333,334],[366,323],[323,447],[447,366],[316,15],[15,315],[315,316],[331,358],[358,279],[279,331],[317,14],[14,316],[316,317],[8,285],[285,9],[9,8],[277,329],[329,350],[350,277],[253,374],[374,252],[252,253],[319,318],[318,403],[403,319],[351,6],[6,419],[419,351],[324,318],[318,325],[325,324],[397,367],[367,365],[365,397],[288,435],[435,397],[397,288],[278,344],[344,439],[439,278],[310,272],[272,311],[311,310],[248,195],[195,281],[281,248],[375,273],[273,291],[291,375],[175,396],[396,199],[199,175],[312,311],[311,268],[268,312],[276,283],[283,445],[445,276],[390,373],[373,339],[339,390],[295,282],[282,296],[296,295],[448,449],[449,346],[346,448],[356,264],[264,454],[454,356],[337,336],[336,299],[299,337],[337,338],[338,151],[151,337],[294,278],[278,455],[455,294],[308,292],[292,415],[415,308],[429,358],[358,355],[355,429],[265,340],[340,372],[372,265],[352,346],[346,280],[280,352],[295,442],[442,282],[282,295],[354,19],[19,370],[370,354],[285,441],[441,295],[295,285],[195,248],[248,197],[197,195],[457,440],[440,274],[274,457],[301,300],[300,368],[368,301],[417,351],[351,465],[465,417],[251,301],[301,389],[389,251],[394,395],[395,379],[379,394],[399,412],[412,419],[419,399],[410,436],[436,322],[322,410],[326,2],[2,393],[393,326],[354,370],[370,461],[461,354],[393,164],[164,267],[267,393],[268,302],[302,12],[12,268],[312,268],[268,13],[13,312],[298,293],[293,301],[301,298],[265,446],[446,340],[340,265],[280,330],[330,425],[425,280],[322,426],[426,391],[391,322],[420,429],[429,437],[437,420],[393,391],[391,326],[326,393],[344,440],[440,438],[438,344],[458,459],[459,461],[461,458],[364,434],[434,394],[394,364],[428,396],[396,262],[262,428],[274,354],[354,457],[457,274],[317,316],[316,402],[402,317],[316,315],[315,403],[403,316],[315,314],[314,404],[404,315],[314,313],[313,405],[405,314],[313,421],[421,406],[406,313],[323,366],[366,361],[361,323],[292,306],[306,407],[407,292],[306,291],[291,408],[408,306],[291,287],[287,409],[409,291],[287,432],[432,410],[410,287],[427,434],[434,411],[411,427],[372,264],[264,383],[383,372],[459,309],[309,457],[457,459],[366,352],[352,401],[401,366],[1,274],[274,4],[4,1],[418,421],[421,262],[262,418],[331,294],[294,358],[358,331],[435,433],[433,367],[367,435],[392,289],[289,439],[439,392],[328,462],[462,326],[326,328],[94,2],[2,370],[370,94],[289,305],[305,455],[455,289],[339,254],[254,448],[448,339],[359,255],[255,446],[446,359],[254,253],[253,449],[449,254],[253,252],[252,450],[450,253],[252,256],[256,451],[451,252],[256,341],[341,452],[452,256],[414,413],[413,463],[463,414],[286,441],[441,414],[414,286],[286,258],[258,441],[441,286],[258,257],[257,442],[442,258],[257,259],[259,443],[443,257],[259,260],[260,444],[444,259],[260,467],[467,445],[445,260],[309,459],[459,250],[250,309],[305,289],[289,290],[290,305],[305,290],[290,460],[460,305],[401,376],[376,435],[435,401],[309,250],[250,392],[392,309],[376,411],[411,433],[433,376],[453,341],[341,464],[464,453],[357,453],[453,465],[465,357],[343,357],[357,412],[412,343],[437,343],[343,399],[399,437],[344,360],[360,440],[440,344],[420,437],[437,456],[456,420],[360,420],[420,363],[363,360],[361,401],[401,288],[288,361],[265,372],[372,353],[353,265],[390,339],[339,249],[249,390],[339,448],[448,255],[255,339]]);C("HAND_CONNECTIONS",[[0,1],[1,2],[2,3],[3,4],[0,5],[5,6],[6,7],[7,8],[5,9],[9,10],[10,11],[11,12],[9,13],[13,14],[14,15],[15,16],[13,17],[0,17],[17,18],[18,19],[19,20]]);C("POSE_CONNECTIONS",[[0,1],[1,2],[2,3],[3,7],[0,4],[4,5],[5,6],[6,8],[9,10],[11,12],[11,13],[13,15],[15,17],[15,19],[15,21],[17,19],[12,14],[14,16],[16,18],[16,20],[16,22],[18,20],[11,23],[12,24],[23,24],[23,25],[24,26],[25,27],[26,28],[27,29],[28,30],[29,31],[30,32],[27,31],[28,32]]);C("POSE_LANDMARKS",{NOSE:0,LEFT_EYE_INNER:1,LEFT_EYE:2,LEFT_EYE_OUTER:3,RIGHT_EYE_INNER:4,RIGHT_EYE:5,RIGHT_EYE_OUTER:6,LEFT_EAR:7,RIGHT_EAR:8,LEFT_RIGHT:9,RIGHT_LEFT:10,LEFT_SHOULDER:11,RIGHT_SHOULDER:12,LEFT_ELBOW:13,RIGHT_ELBOW:14,LEFT_WRIST:15,RIGHT_WRIST:16,LEFT_PINKY:17,RIGHT_PINKY:18,LEFT_INDEX:19,RIGHT_INDEX:20,LEFT_THUMB:21,RIGHT_THUMB:22,LEFT_HIP:23,RIGHT_HIP:24,LEFT_KNEE:25,RIGHT_KNEE:26,LEFT_ANKLE:27,RIGHT_ANKLE:28,LEFT_HEEL:29,RIGHT_HEEL:30,LEFT_FOOT_INDEX:31,RIGHT_FOOT_INDEX:32});C("POSE_LANDMARKS_LEFT",{LEFT_EYE_INNER:1,LEFT_EYE:2,LEFT_EYE_OUTER:3,LEFT_EAR:7,LEFT_RIGHT:9,LEFT_SHOULDER:11,LEFT_ELBOW:13,LEFT_WRIST:15,LEFT_PINKY:17,LEFT_INDEX:19,LEFT_THUMB:21,LEFT_HIP:23,LEFT_KNEE:25,LEFT_ANKLE:27,LEFT_HEEL:29,LEFT_FOOT_INDEX:31});C("POSE_LANDMARKS_RIGHT",{RIGHT_EYE_INNER:4,RIGHT_EYE:5,RIGHT_EYE_OUTER:6,RIGHT_EAR:8,RIGHT_LEFT:10,RIGHT_SHOULDER:12,RIGHT_ELBOW:14,RIGHT_WRIST:16,RIGHT_PINKY:18,RIGHT_INDEX:20,RIGHT_THUMB:22,RIGHT_HIP:24,RIGHT_KNEE:26,RIGHT_ANKLE:28,RIGHT_HEEL:30,RIGHT_FOOT_INDEX:32});C("POSE_LANDMARKS_NEUTRAL",{NOSE:0});C("matrixDataToMatrix",function(b){for(var c=b.getCols(),d=b.getRows(),e=b.getPackedDataList(),f=[],g=0;g<d;g++)f.push(Array(c));for(g=0;g<d;g++)for(var h=0;h<c;h++){var i=1===b.getLayout()?g*c+h:h*d+g;f[g][h]=e[i]}return f});C("VERSION","0.5.1635989137")}).call(h.exports)}var k=!1;function l(){k||(k=!0,j());return h.exports}function d(b){switch(b){case void 0:return l()}}f.exports=d}),null);
__d("mediapipe-holistic",["mediapipe-holistic-0.5.1635989137"],(function(a,b,c,d,e,f){e.exports=b("mediapipe-holistic-0.5.1635989137")()}),null);
/**
 * License: https://www.facebook.com/legal/license/t3hOLs8wlXy/
 */
__d("object-assign-4.1.1",[],(function(a,b,c,d,e,f){"use strict";b={};var g={exports:b};function h(){var a=Object.getOwnPropertySymbols,b=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable;function d(a){if(a===null||a===void 0)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(a)}function e(){try{if(!Object.assign)return!1;var a=new String("abc");a[5]="de";if(Object.getOwnPropertyNames(a)[0]==="5")return!1;var b={};for(a=0;a<10;a++)b["_"+String.fromCharCode(a)]=a;a=Object.getOwnPropertyNames(b).map(function(a){return b[a]});if(a.join("")!=="0123456789")return!1;var c={};"abcdefghijklmnopqrst".split("").forEach(function(a){c[a]=a});return Object.keys(Object.assign({},c)).join("")!=="abcdefghijklmnopqrst"?!1:!0}catch(a){return!1}}g.exports=e()?Object.assign:function(e,f){var g,h=d(e),i;for(var j=1;j<arguments.length;j++){g=Object(arguments[j]);for(var k in g)b.call(g,k)&&(h[k]=g[k]);if(a){i=a(g);for(var l=0;l<i.length;l++)c.call(g,i[l])&&(h[i[l]]=g[i[l]])}}return h}}var i=!1;function j(){i||(i=!0,h());return g.exports}function a(a){switch(a){case void 0:return j()}}e.exports=a}),null);
/**
 * License: https://www.facebook.com/legal/license/cr2jmG-CdKo/
 */
__d("pinkyswear-2.2.3",[],(function(a,b,c,d,e,f){"use strict";b={};var g={exports:b},h;function i(){(function(a,b){typeof h==="function"&&h.amd?h([],b):typeof g==="object"&&g.exports?g.exports=b():a.pinkySwear=b()})(this,function(){var a;function b(a){return typeof a=="function"}function c(a){return typeof a=="object"}function d(a){typeof setImmediate!="undefined"?setImmediate(a):typeof process!="undefined"&&process.nextTick?process.nextTick(a):setTimeout(a,0)}return function e(f){var g,h=[],i=[],j=function(a,b){g==null&&a!=null&&(g=a,h=b,i.length&&d(function(){for(var a=0;a<i.length;a++)i[a]()}));return g};j.then=function(j,k){var l=e(f),m=function(){try{var d=g?j:k;if(b(d)){function e(d){var f,g=0;try{if(d&&(c(d)||b(d))&&b(f=d.then)){if(d===l)throw new TypeError();f.call(d,function(){g++||e.apply(a,arguments)},function(a){g++||l(!1,[a])})}else l(!0,arguments)}catch(a){g++||l(!1,[a])}}e(d.apply(a,h||[]))}else l(g,h)}catch(a){l(!1,[a])}};g!=null?d(m):i.push(m);return l};f&&(j=f(j));return j}})}var j=!1;function k(){j||(j=!0,i());return g.exports}function a(a){switch(a){case void 0:return k()}}e.exports=a}),null);
/**
 * License: https://www.facebook.com/legal/license/t3hOLs8wlXy/
 */
__d("react-is-16.8.6",[],(function(a,b,c,d,e,f){"use strict";var g={},h={exports:g};function i(){Object.defineProperty(g,"__esModule",{value:!0});var a="function"===typeof Symbol&&Symbol["for"],b=a?Symbol["for"]("react.element"):60103,c=a?Symbol["for"]("react.portal"):60106,d=a?Symbol["for"]("react.fragment"):60107,e=a?Symbol["for"]("react.strict_mode"):60108,f=a?Symbol["for"]("react.profiler"):60114,h=a?Symbol["for"]("react.provider"):60109,i=a?Symbol["for"]("react.context"):60110,j=a?Symbol["for"]("react.async_mode"):60111,k=a?Symbol["for"]("react.concurrent_mode"):60111,l=a?Symbol["for"]("react.forward_ref"):60112,m=a?Symbol["for"]("react.suspense"):60113,n=a?Symbol["for"]("react.memo"):60115,o=a?Symbol["for"]("react.lazy"):60116;function p(a){if("object"===typeof a&&null!==a){var g=a.$$typeof;switch(g){case b:switch(a=a.type,a){case j:case k:case d:case f:case e:case m:return a;default:switch(a=a&&a.$$typeof,a){case i:case l:case h:return a;default:return g}}case o:case n:case c:return g}}}function q(a){return p(a)===k}g.typeOf=p;g.AsyncMode=j;g.ConcurrentMode=k;g.ContextConsumer=i;g.ContextProvider=h;g.Element=b;g.ForwardRef=l;g.Fragment=d;g.Lazy=o;g.Memo=n;g.Portal=c;g.Profiler=f;g.StrictMode=e;g.Suspense=m;g.isValidElementType=function(a){return"string"===typeof a||"function"===typeof a||a===d||a===k||a===f||a===e||a===m||"object"===typeof a&&null!==a&&(a.$$typeof===o||a.$$typeof===n||a.$$typeof===h||a.$$typeof===i||a.$$typeof===l)};g.isAsyncMode=function(a){return q(a)||p(a)===j};g.isConcurrentMode=q;g.isContextConsumer=function(a){return p(a)===i};g.isContextProvider=function(a){return p(a)===h};g.isElement=function(a){return"object"===typeof a&&null!==a&&a.$$typeof===b};g.isForwardRef=function(a){return p(a)===l};g.isFragment=function(a){return p(a)===d};g.isLazy=function(a){return p(a)===o};g.isMemo=function(a){return p(a)===n};g.isPortal=function(a){return p(a)===c};g.isProfiler=function(a){return p(a)===f};g.isStrictMode=function(a){return p(a)===e};g.isSuspense=function(a){return p(a)===m}}var j=!1;function k(){j||(j=!0,i());return h.exports}b={};var l={exports:b};function m(){l.exports=k()}var n=!1;function o(){n||(n=!0,m());return l.exports}function a(a){switch(a){case void 0:return o()}}e.exports=a}),null);
/**
 * License: https://www.facebook.com/legal/license/t3hOLs8wlXy/
 */
__d("prop-types-15.7.2",["react-is-16.8.6","object-assign-4.1.1"],(function(a,b,c,d,e,f){"use strict";b("react-is-16.8.6");b("object-assign-4.1.1");c={};var g={exports:c};function h(){var a="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";g.exports=a}var i=!1;function j(){i||(i=!0,h());return g.exports}d={};var k={exports:d};function l(){function a(a,b,c,d,e){}a.resetWarningCache=function(){};k.exports=a}var m=!1;function n(){m||(m=!0,l());return k.exports}f={};var o={exports:f};function p(){var a=j();function b(){}function c(){}c.resetWarningCache=b;o.exports=function(){function d(b,c,d,e,f,g){if(g===a)return;b=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");b.name="Invariant Violation";throw b}d.isRequired=d;function e(){return d}e={array:d,bool:d,func:d,number:d,object:d,string:d,symbol:d,any:d,arrayOf:e,element:d,elementType:d,instanceOf:e,node:d,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:c,resetWarningCache:b};e.PropTypes=e;return e}}var q=!1;function r(){q||(q=!0,p());return o.exports}b={};var s={exports:b};function t(){s.exports=r()()}var u=!1;function v(){u||(u=!0,t());return s.exports}function a(a){switch(a){case void 0:return v();case"/checkPropTypes":return n()}}e.exports=a}),null);
/**
 * License: https://www.facebook.com/legal/license/9cisb7Fe7ih/
 */
__d("qs-6.5.2",[],(function(a,b,c,d,e,f){"use strict";b={};var g={exports:b};function h(){var a=Object.prototype.hasOwnProperty,b=function(){var a=[];for(var b=0;b<256;++b)a.push("%"+((b<16?"0":"")+b.toString(16)).toUpperCase());return a}(),c=function(a){var b;while(a.length){var c=a.pop();b=c.obj[c.prop];if(Array.isArray(b)){var d=[];for(var e=0;e<b.length;++e)typeof b[e]!=="undefined"&&d.push(b[e]);c.obj[c.prop]=d}}return b},d=function(a,b){b=b&&b.plainObjects?Object.create(null):{};for(var c=0;c<a.length;++c)typeof a[c]!=="undefined"&&(b[c]=a[c]);return b},e=function b(c,e,f){if(!e)return c;if(typeof e!=="object"){if(Array.isArray(c))c.push(e);else if(typeof c==="object")(f.plainObjects||f.allowPrototypes||!a.call(Object.prototype,e))&&(c[e]=!0);else return[c,e];return c}if(typeof c!=="object")return[c].concat(e);var g=c;Array.isArray(c)&&!Array.isArray(e)&&(g=d(c,f));if(Array.isArray(c)&&Array.isArray(e)){e.forEach(function(d,e){a.call(c,e)?c[e]&&typeof c[e]==="object"?c[e]=b(c[e],d,f):c.push(d):c[e]=d});return c}return Object.keys(e).reduce(function(c,d){var g=e[d];a.call(c,d)?c[d]=b(c[d],g,f):c[d]=g;return c},g)},f=function(a,b){return Object.keys(b).reduce(function(a,c){a[c]=b[c];return a},a)},h=function(a){try{return decodeURIComponent(a.replace(/\+/g," "))}catch(b){return a}},i=function(a){if(a.length===0)return a;a=typeof a==="string"?a:String(a);var c="";for(var d=0;d<a.length;++d){var e=a.charCodeAt(d);if(e===45||e===46||e===95||e===126||e>=48&&e<=57||e>=65&&e<=90||e>=97&&e<=122){c+=a.charAt(d);continue}if(e<128){c=c+b[e];continue}if(e<2048){c=c+(b[192|e>>6]+b[128|e&63]);continue}if(e<55296||e>=57344){c=c+(b[224|e>>12]+b[128|e>>6&63]+b[128|e&63]);continue}d+=1;e=65536+((e&1023)<<10|a.charCodeAt(d)&1023);c+=b[240|e>>18]+b[128|e>>12&63]+b[128|e>>6&63]+b[128|e&63]}return c},j=function(a){a=[{obj:{o:a},prop:"o"}];var b=[];for(var d=0;d<a.length;++d){var e=a[d];e=e.obj[e.prop];var f=Object.keys(e);for(var g=0;g<f.length;++g){var h=f[g],i=e[h];typeof i==="object"&&i!==null&&b.indexOf(i)===-1&&(a.push({obj:e,prop:h}),b.push(i))}}return c(a)},k=function(a){return Object.prototype.toString.call(a)==="[object RegExp]"},l=function(a){return a===null||typeof a==="undefined"?!1:!!(a.constructor&&a.constructor.isBuffer&&a.constructor.isBuffer(a))};g.exports={arrayToObject:d,assign:f,compact:j,decode:h,encode:i,isBuffer:l,isRegExp:k,merge:e}}var i=!1;function j(){i||(i=!0,h());return g.exports}c={};var k={exports:c};function l(){var a=String.prototype.replace,b=/%20/g;k.exports={"default":"RFC3986",formatters:{RFC1738:function(c){return a.call(c,b,"+")},RFC3986:function(a){return a}},RFC1738:"RFC1738",RFC3986:"RFC3986"}}var m=!1;function n(){m||(m=!0,l());return k.exports}d={};var o={exports:d};function p(){var a=j(),b=n(),c={brackets:function(a){return a+"[]"},indices:function(a,b){return a+"["+b+"]"},repeat:function(a){return a}},d=Date.prototype.toISOString,e={delimiter:"&",encode:!0,encoder:a.encode,encodeValuesOnly:!1,serializeDate:function(a){return d.call(a)},skipNulls:!1,strictNullHandling:!1},f=function b(c,d,f,g,h,i,j,k,l,m,n,o){c=c;if(typeof j==="function")c=j(d,c);else if(c instanceof Date)c=m(c);else if(c===null){if(g)return i&&!o?i(d,e.encoder):d;c=""}if(typeof c==="string"||typeof c==="number"||typeof c==="boolean"||a.isBuffer(c)){if(i){var p=o?d:i(d,e.encoder);return[n(p)+"="+n(i(c,e.encoder))]}return[n(d)+"="+n(String(c))]}p=[];if(typeof c==="undefined")return p;var q;if(Array.isArray(j))q=j;else{var r=Object.keys(c);q=k?r.sort(k):r}for(r=0;r<q.length;++r){var s=q[r];if(h&&c[s]===null)continue;Array.isArray(c)?p=p.concat(b(c[s],f(d,s),f,g,h,i,j,k,l,m,n,o)):p=p.concat(b(c[s],d+(l?"."+s:"["+s+"]"),f,g,h,i,j,k,l,m,n,o))}return p};o.exports=function(d,g){d=d;g=g?a.assign({},g):{};if(g.encoder!==null&&g.encoder!==void 0&&typeof g.encoder!=="function")throw new TypeError("Encoder has to be a function.");var h=typeof g.delimiter==="undefined"?e.delimiter:g.delimiter,i=typeof g.strictNullHandling==="boolean"?g.strictNullHandling:e.strictNullHandling,j=typeof g.skipNulls==="boolean"?g.skipNulls:e.skipNulls,k=typeof g.encode==="boolean"?g.encode:e.encode,l=typeof g.encoder==="function"?g.encoder:e.encoder,m=typeof g.sort==="function"?g.sort:null,n=typeof g.allowDots==="undefined"?!1:g.allowDots,o=typeof g.serializeDate==="function"?g.serializeDate:e.serializeDate,p=typeof g.encodeValuesOnly==="boolean"?g.encodeValuesOnly:e.encodeValuesOnly;if(typeof g.format==="undefined")g.format=b["default"];else if(!Object.prototype.hasOwnProperty.call(b.formatters,g.format))throw new TypeError("Unknown format option provided.");var q=b.formatters[g.format],r,s;typeof g.filter==="function"?(s=g.filter,d=s("",d)):Array.isArray(g.filter)&&(s=g.filter,r=s);var t=[];if(typeof d!=="object"||d===null)return"";var u;g.arrayFormat in c?u=g.arrayFormat:"indices"in g?u=g.indices?"indices":"repeat":u="indices";u=c[u];r||(r=Object.keys(d));m&&r.sort(m);for(var v=0;v<r.length;++v){var w=r[v];if(j&&d[w]===null)continue;t=t.concat(f(d[w],w,u,i,j,k?l:null,s,m,n,o,q,p))}w=t.join(h);n=g.addQueryPrefix===!0?"?":"";return w.length>0?n+w:""}}var q=!1;function r(){q||(q=!0,p());return o.exports}f={};var s={exports:f};function t(){var a=j(),b=Object.prototype.hasOwnProperty,c={allowDots:!1,allowPrototypes:!1,arrayLimit:20,decoder:a.decode,delimiter:"&",depth:5,parameterLimit:1e3,plainObjects:!1,strictNullHandling:!1},d=function(a,d){var e={};a=d.ignoreQueryPrefix?a.replace(/^\?/,""):a;var f=d.parameterLimit===Infinity?void 0:d.parameterLimit;a=a.split(d.delimiter,f);for(f=0;f<a.length;++f){var g=a[f],h=g.indexOf("]=");h=h===-1?g.indexOf("="):h+1;var i,j;h===-1?(i=d.decoder(g,c.decoder),j=d.strictNullHandling?null:""):(i=d.decoder(g.slice(0,h),c.decoder),j=d.decoder(g.slice(h+1),c.decoder));b.call(e,i)?e[i]=[].concat(e[i]).concat(j):e[i]=j}return e},e=function(a,b,c){b=b;for(var d=a.length-1;d>=0;--d){var e,f=a[d];if(f==="[]")e=[],e=e.concat(b);else{e=c.plainObjects?Object.create(null):{};var g=f.charAt(0)==="["&&f.charAt(f.length-1)==="]"?f.slice(1,-1):f,h=parseInt(g,10);!isNaN(h)&&f!==g&&String(h)===g&&h>=0&&c.parseArrays&&h<=c.arrayLimit?(e=[],e[h]=b):e[g]=b}b=e}return b},f=function(a,c,d){if(!a)return;a=d.allowDots?a.replace(/\.([^.[]+)/g,"[$1]"):a;var f=/(\[[^[\]]*])/,g=/(\[[^[\]]*])/g;f=f.exec(a);var h=f?a.slice(0,f.index):a,i=[];if(h){if(!d.plainObjects&&b.call(Object.prototype,h)&&!d.allowPrototypes)return;i.push(h)}h=0;while((f=g.exec(a))!==null&&h<d.depth){h+=1;if(!d.plainObjects&&b.call(Object.prototype,f[1].slice(1,-1))&&!d.allowPrototypes)return;i.push(f[1])}f&&i.push("["+a.slice(f.index)+"]");return e(i,c,d)};s.exports=function(b,e){e=e?a.assign({},e):{};if(e.decoder!==null&&e.decoder!==void 0&&typeof e.decoder!=="function")throw new TypeError("Decoder has to be a function.");e.ignoreQueryPrefix=e.ignoreQueryPrefix===!0;e.delimiter=typeof e.delimiter==="string"||a.isRegExp(e.delimiter)?e.delimiter:c.delimiter;e.depth=typeof e.depth==="number"?e.depth:c.depth;e.arrayLimit=typeof e.arrayLimit==="number"?e.arrayLimit:c.arrayLimit;e.parseArrays=e.parseArrays!==!1;e.decoder=typeof e.decoder==="function"?e.decoder:c.decoder;e.allowDots=typeof e.allowDots==="boolean"?e.allowDots:c.allowDots;e.plainObjects=typeof e.plainObjects==="boolean"?e.plainObjects:c.plainObjects;e.allowPrototypes=typeof e.allowPrototypes==="boolean"?e.allowPrototypes:c.allowPrototypes;e.parameterLimit=typeof e.parameterLimit==="number"?e.parameterLimit:c.parameterLimit;e.strictNullHandling=typeof e.strictNullHandling==="boolean"?e.strictNullHandling:c.strictNullHandling;if(b===""||b===null||typeof b==="undefined")return e.plainObjects?Object.create(null):{};b=typeof b==="string"?d(b,e):b;var g=e.plainObjects?Object.create(null):{},h=Object.keys(b);for(var i=0;i<h.length;++i){var j=h[i];j=f(j,b[j],e);g=a.merge(g,j,e)}return a.compact(g)}}var u=!1;function v(){u||(u=!0,t());return s.exports}b={};var w={exports:b};function x(){var a=r(),b=v(),c=n();w.exports={formats:c,parse:b,stringify:a}}var y=!1;function z(){y||(y=!0,x());return w.exports}function a(a){switch(a){case void 0:return z()}}e.exports=a}),null);
__d("qs",["qs-6.5.2"],(function(a,b,c,d,e,f){e.exports=b("qs-6.5.2")()}),null);
/**
 * License: https://www.facebook.com/legal/license/t3hOLs8wlXy/
 */
__d("qwest-4.4.5",["pinkyswear-2.2.3","jquery-param-0.1.2"],(function(a,b,c,d,e,f){"use strict";function a(a){return a&&typeof a==="object"&&"default"in a?a["default"]:a}var g=a(b("pinkyswear-2.2.3")),h=a(b("jquery-param-0.1.2"));d={};var i={exports:d};function j(){i.exports=function(){var b=typeof window!="undefined"?window:self,c=g(),d=h(),e={},f="json",i="post",j=null,k=0,l=[],m=b.XMLHttpRequest?function(){return new b.XMLHttpRequest()}:function(){return new ActiveXObject("Microsoft.XMLHTTP")},n=m().responseType==="",o=function(a,g,h,o,p){a=a.toUpperCase();h=h||null;o=o||{};for(var q in e)if(!(q in o))if(typeof e[q]=="object"&&typeof o[q]=="object")for(var r in e[q])o[q][r]=e[q][r];else o[q]=e[q];var s=!1,t,u,v=!1,w,x=!1,y=0,z={},A={text:"*/*",xml:"text/xml",json:"application/json",post:"application/x-www-form-urlencoded",document:"text/html"};r={text:"*/*",xml:"application/xml; q=1.0, text/xml; q=0.8, */*; q=0.1",json:"application/json; q=1.0, text/*; q=0.8, */*; q=0.1"};var B,C=!1,D=c(function(c){c.abort=function(){x||(u&&u.readyState!=4&&u.abort(),C&&(--k,C=!1),x=!0)};c.send=function(){if(C)return;if(k==j){l.push(c);return}if(x){l.length&&l.shift().send();return}++k;C=!0;u=m();t&&(!("withCredentials"in u)&&b.XDomainRequest&&(u=new XDomainRequest(),v=!0,a!="GET"&&a!="POST"&&(a="POST")));v?u.open(a,g):(u.open(a,g,o.async,o.user,o.password),n&&o.async&&(u.withCredentials=o.withCredentials));if(!v)for(var d in z)z[d]&&u.setRequestHeader(d,z[d]);if(n&&o.responseType!="auto")try{u.responseType=o.responseType,s=u.responseType==o.responseType}catch(a){}n||v?(u.onload=E,u.onerror=F,v&&(u.onprogress=function(){})):u.onreadystatechange=function(){u.readyState==4&&E()};o.async?"timeout"in u?(u.timeout=o.timeout,u.ontimeout=G):w=setTimeout(G,o.timeout):v&&(u.ontimeout=function(){});o.responseType!="auto"&&"overrideMimeType"in u&&u.overrideMimeType(A[o.responseType]);p&&p(u);v?setTimeout(function(){u.send(a!="GET"?h:null)},0):u.send(a!="GET"?h:null)};return c}),E=function(){var a;C=!1;clearTimeout(w);l.length&&l.shift().send();if(x)return;--k;try{if(s){if("response"in u&&u.response===null)throw"The request response is empty";B=u.response}else{a=o.responseType;if(a=="auto")if(v)a=f;else{var c=u.getResponseHeader("Content-Type")||"";c.indexOf(A.json)>-1?a="json":c.indexOf(A.xml)>-1?a="xml":a="text"}switch(a){case"json":if(u.responseText.length)try{"JSON"in b?B=JSON.parse(u.responseText):B=new Function("return ("+u.responseText+")")()}catch(a){throw"Error while parsing JSON body : "+a}break;case"xml":try{b.DOMParser?B=new DOMParser().parseFromString(u.responseText,"text/xml"):(B=new ActiveXObject("Microsoft.XMLDOM"),B.async="false",B.loadXML(u.responseText))}catch(a){B=void 0}if(!B||!B.documentElement||B.getElementsByTagName("parsererror").length)throw"Invalid XML";break;default:B=u.responseText}}if("status"in u&&!/^2|1223/.test(u.status))throw u.status+" ("+u.statusText+")";D(!0,[u,B])}catch(a){D(!1,[a,u,B])}},F=function(a){x||(a=typeof a=="string"?a:"Connection aborted",D.abort(),D(!1,[new Error(a),u,null]))},G=function(){x||(!o.attempts||++y!=o.attempts?(u.abort(),C=!1,D.send()):F("Timeout ("+g+")"))};o.async="async"in o?!!o.async:!0;o.cache="cache"in o?!!o.cache:!1;o.dataType="dataType"in o?o.dataType.toLowerCase():i;o.responseType="responseType"in o?o.responseType.toLowerCase():"auto";o.user=o.user||"";o.password=o.password||"";o.withCredentials=!!o.withCredentials;o.timeout="timeout"in o?parseInt(o.timeout,10):3e4;o.attempts="attempts"in o?parseInt(o.attempts,10):1;q=g.match(/\/\/(.+?)\//);t=q&&(q[1]?q[1]!=location.host:!1);"ArrayBuffer"in b&&h instanceof ArrayBuffer?o.dataType="arraybuffer":"Blob"in b&&h instanceof Blob?o.dataType="blob":"Document"in b&&h instanceof Document?o.dataType="document":"FormData"in b&&h instanceof FormData&&(o.dataType="formdata");if(h!==null)switch(o.dataType){case"json":h=JSON.stringify(h);break;case"post":h=d(h)}if(o.headers){var H=function(a,b,c){return b+c.toUpperCase()};for(q in o.headers)z[q.replace(/(^|-)([^-])/g,H)]=o.headers[q]}!("Content-Type"in z)&&a!="GET"&&(o.dataType in A&&(A[o.dataType]&&(z["Content-Type"]=A[o.dataType])));z.Accept||(z.Accept=o.responseType in r?r[o.responseType]:"*/*");!t&&!("X-Requested-With"in z)&&(z["X-Requested-With"]="XMLHttpRequest");!o.cache&&!("Cache-Control"in z)&&(z["Cache-Control"]="no-cache");a=="GET"&&h&&typeof h=="string"&&(g+=(/\?/.test(g)?"&":"?")+h);o.async&&D.send();return D},p=function(a){var b=[],d=0,e=[];return c(function(c){var f=-1,g=function(a){return function(g,h,i,j){var k=++f;++d;b.push(o(a,c.base+g,h,i,j).then(function(a,b){e[k]=arguments,--d||c(!0,e.length==1?e[0]:[e])},function(){c(!1,arguments)}));return c}};c.get=g("GET");c.post=g("POST");c.put=g("PUT");c["delete"]=g("DELETE");c["catch"]=function(a){return c.then(null,a)};c.complete=function(a){var b=function(){a()};return c.then(b,b)};c.map=function(a,b,c,d,e){return g(a.toUpperCase()).call(this,b,c,d,e)};for(var h in a)h in c||(c[h]=a[h]);c.send=function(){for(var a=0,d=b.length;a<d;++a)b[a].send();return c};c.abort=function(){for(var a=0,d=b.length;a<d;++a)b[a].abort();return c};return c})},q={base:"",get:function(){return p(q).get.apply(this,arguments)},post:function(){return p(q).post.apply(this,arguments)},put:function(){return p(q).put.apply(this,arguments)},"delete":function(){return p(q)["delete"].apply(this,arguments)},map:function(){return p(q).map.apply(this,arguments)},xhr2:n,limit:function(a){j=a;return q},setDefaultOptions:function(a){e=a;return q},setDefaultXdrResponseType:function(a){f=a.toLowerCase();return q},setDefaultDataType:function(a){i=a.toLowerCase();return q},getOpenRequests:function(){return k}};return q}()}var k=!1;function l(){k||(k=!0,j());return i.exports}function c(a){switch(a){case void 0:return l()}}e.exports=c}),null);
__d("qwest",["qwest-4.4.5"],(function(a,b,c,d,e,f){e.exports=b("qwest-4.4.5")()}),null);
/**
 * License: https://www.facebook.com/legal/license/t3hOLs8wlXy/
 */
__d("react-is-16.13.1",[],(function(a,b,c,d,e,f){"use strict";var g={},h={exports:g};function i(){var a="function"===typeof Symbol&&Symbol["for"],b=a?Symbol["for"]("react.element"):60103,c=a?Symbol["for"]("react.portal"):60106,d=a?Symbol["for"]("react.fragment"):60107,e=a?Symbol["for"]("react.strict_mode"):60108,f=a?Symbol["for"]("react.profiler"):60114,h=a?Symbol["for"]("react.provider"):60109,i=a?Symbol["for"]("react.context"):60110,j=a?Symbol["for"]("react.async_mode"):60111,k=a?Symbol["for"]("react.concurrent_mode"):60111,l=a?Symbol["for"]("react.forward_ref"):60112,m=a?Symbol["for"]("react.suspense"):60113,n=a?Symbol["for"]("react.suspense_list"):60120,o=a?Symbol["for"]("react.memo"):60115,p=a?Symbol["for"]("react.lazy"):60116,q=a?Symbol["for"]("react.block"):60121,r=a?Symbol["for"]("react.fundamental"):60117,s=a?Symbol["for"]("react.responder"):60118,t=a?Symbol["for"]("react.scope"):60119;function u(a){if("object"===typeof a&&null!==a){var g=a.$$typeof;switch(g){case b:switch(a=a.type,a){case j:case k:case d:case f:case e:case m:return a;default:switch(a=a&&a.$$typeof,a){case i:case l:case p:case o:case h:return a;default:return g}}case c:return g}}}function v(a){return u(a)===k}g.AsyncMode=j;g.ConcurrentMode=k;g.ContextConsumer=i;g.ContextProvider=h;g.Element=b;g.ForwardRef=l;g.Fragment=d;g.Lazy=p;g.Memo=o;g.Portal=c;g.Profiler=f;g.StrictMode=e;g.Suspense=m;g.isAsyncMode=function(a){return v(a)||u(a)===j};g.isConcurrentMode=v;g.isContextConsumer=function(a){return u(a)===i};g.isContextProvider=function(a){return u(a)===h};g.isElement=function(a){return"object"===typeof a&&null!==a&&a.$$typeof===b};g.isForwardRef=function(a){return u(a)===l};g.isFragment=function(a){return u(a)===d};g.isLazy=function(a){return u(a)===p};g.isMemo=function(a){return u(a)===o};g.isPortal=function(a){return u(a)===c};g.isProfiler=function(a){return u(a)===f};g.isStrictMode=function(a){return u(a)===e};g.isSuspense=function(a){return u(a)===m};g.isValidElementType=function(a){return"string"===typeof a||"function"===typeof a||a===d||a===k||a===f||a===e||a===m||a===n||"object"===typeof a&&null!==a&&(a.$$typeof===p||a.$$typeof===o||a.$$typeof===h||a.$$typeof===i||a.$$typeof===l||a.$$typeof===r||a.$$typeof===s||a.$$typeof===t||a.$$typeof===q)};g.typeOf=u}var j=!1;function k(){j||(j=!0,i());return h.exports}b={};var l={exports:b};function m(){l.exports=k()}var n=!1;function o(){n||(n=!0,m());return l.exports}function a(a){switch(a){case void 0:return o()}}e.exports=a}),null);
/**
 * License: https://www.facebook.com/legal/license/t3hOLs8wlXy/
 */
__d("react-redux-8.0.1",["babel-runtime-7.14.6","react-0.0.0","prop-types-15.7.2","hoist-non-react-statics-3.3.2","react-is-16.13.1","react-dom-0.0.0"],(function(a,b,c,d,e,f){"use strict";function a(a){return a&&typeof a==="object"&&"default"in a?a["default"]:a}var g=a(b("babel-runtime-7.14.6")),h=a(b("react-0.0.0")),i=a(b("prop-types-15.7.2")),j=a(b("hoist-non-react-statics-3.3.2")),k=a(b("react-is-16.13.1")),l=a(b("react-dom-0.0.0")),m={},n={exports:m};function o(){var a=g("/helpers/interopRequireDefault");m.__esModule=!0;m["default"]=m.ReactReduxContext=void 0;a=a(h());a=a["default"].createContext(null);m.ReactReduxContext=a;a=a;m["default"]=a}var p=!1;function q(){p||(p=!0,o());return n.exports}var r={},s={exports:r};function t(){r.__esModule=!0;r.getBatch=r.setBatch=void 0;function a(a){a()}var b=a;a=function(a){return b=a};r.setBatch=a;a=function(){return b};r.getBatch=a}var u=!1;function v(){u||(u=!0,t());return s.exports}var w={},x={exports:w};function y(){w.__esModule=!0;w.createSubscription=d;var a=v();function b(){var b=a.getBatch(),c=null,d=null;return{clear:function(){c=null,d=null},notify:function(){b(function(){var a=c;while(a)a.callback(),a=a.next})},get:function(){var a=[],b=c;while(b)a.push(b),b=b.next;return a},subscribe:function(a){var b=!0,e=d={callback:a,next:null,prev:d};e.prev?e.prev.next=e:c=e;return function(){if(!b||c===null)return;b=!1;e.next?e.next.prev=e.prev:d=e.prev;e.prev?e.prev.next=e.next:c=e.next}}}}var c={notify:function(){},get:function(){return[]}};function d(a,d){var e,f=c;function g(a){k();return f.subscribe(a)}function h(){f.notify()}function i(){m.onStateChange&&m.onStateChange()}function j(){return Boolean(e)}function k(){e||(e=d?d.addNestedSub(i):a.subscribe(i),f=b())}function l(){e&&(e(),e=void 0,f.clear(),f=c)}var m={addNestedSub:g,notifyNestedSubs:h,handleChangeWrapper:i,isSubscribed:j,trySubscribe:k,tryUnsubscribe:l,getListeners:function(){return f}};return m}}var z=!1;function A(){z||(z=!0,y());return x.exports}var B={},C={exports:B};function D(){B.__esModule=!0;B.useIsomorphicLayoutEffect=void 0;var a=h();a=typeof window!=="undefined"&&typeof window.document!=="undefined"&&typeof window.document.createElement!=="undefined"?a.useLayoutEffect:a.useEffect;B.useIsomorphicLayoutEffect=a}var E=!1;function F(){E||(E=!0,D());return C.exports}var G={},H={exports:G};function I(){var a=g("/helpers/interopRequireDefault");G.__esModule=!0;G["default"]=void 0;var b=j(h());a(i());var c=q(),d=A(),e=F();function f(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),c=new WeakMap();return(f=function(a){return a?c:b})(a)}function j(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=f(b);if(b&&b.has(a))return b.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var e in a)if(e!=="default"&&Object.prototype.hasOwnProperty.call(a,e)){var g=d?Object.getOwnPropertyDescriptor(a,e):null;g&&(g.get||g.set)?Object.defineProperty(c,e,g):c[e]=a[e]}c["default"]=a;b&&b.set(a,c);return c}function k(a){var f=a.store,g=a.context;a=a.children;var h=b.useMemo(function(){var a=d.createSubscription(f);a.onStateChange=a.notifyNestedSubs;return{store:f,subscription:a}},[f]),i=b.useMemo(function(){return f.getState()},[f]);e.useIsomorphicLayoutEffect(function(){var a=h.subscription;a.trySubscribe();i!==f.getState()&&a.notifyNestedSubs();return function(){a.tryUnsubscribe(),a.onStateChange=null}},[h,i]);g=g||c.ReactReduxContext;return b["default"].createElement(g.Provider,{value:h},a)}j=k;G["default"]=j}var J=!1;function K(){J||(J=!0,I());return H.exports}var L={},aa={exports:L};function ba(){var a=g("/helpers/interopRequireDefault");L.__esModule=!0;L["default"]=z;var b=a(g("/helpers/extends")),c=a(g("/helpers/objectWithoutPropertiesLoose")),d=a(j()),e=r(h()),f=k(),i=A(),l=F(),m=q(),n=["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"],o=["reactReduxForwardedRef"];function p(a){if(typeof WeakMap!=="function")return null;var b=new WeakMap(),c=new WeakMap();return(p=function(a){return a?c:b})(a)}function r(a,b){if(!b&&a&&a.__esModule)return a;if(a===null||typeof a!=="object"&&typeof a!=="function")return{"default":a};b=p(b);if(b&&b.has(a))return b.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var e in a)if(e!=="default"&&Object.prototype.hasOwnProperty.call(a,e)){var f=d?Object.getOwnPropertyDescriptor(a,e):null;f&&(f.get||f.set)?Object.defineProperty(c,e,f):c[e]=a[e]}c["default"]=a;b&&b.set(a,c);return c}var s=[],t=[null,null];function u(a,b){a=a[1];return[b.payload,a+1]}function v(a,b,c){l.useIsomorphicLayoutEffect(function(){return a.apply(void 0,b)},c)}function w(a,b,c,d,e,f,g){a.current=d,b.current=e,c.current=!1,f.current&&(f.current=null,g())}function x(a,b,c,d,e,f,g,h,i,j){if(!a)return;var k=!1,l=null;a=function(){if(k)return;var a=b.getState(),c,m;try{c=d(a,e.current)}catch(a){m=a,l=a}m||(l=null);c===f.current?g.current||i():(f.current=c,h.current=c,g.current=!0,j({type:"STORE_UPDATED",payload:{error:m}}))};c.onStateChange=a;c.trySubscribe();a();a=function(){k=!0;c.tryUnsubscribe();c.onStateChange=null;if(l)throw l};return a}var y=function(){return[null,0]};function z(a,g){g===void 0&&(g={});g=g;var h=g.getDisplayName,j=h===void 0?function(a){return"ConnectAdvanced("+a+")"}:h;h=g.methodName;var k=h===void 0?"connectAdvanced":h;h=g.renderCountProp;var l=h===void 0?void 0:h;h=g.shouldHandleStateChanges;var p=h===void 0?!0:h;h=g.storeKey;var q=h===void 0?"store":h;g.withRef;h=g.forwardRef;var r=h===void 0?!1:h;h=g.context;h=h===void 0?m.ReactReduxContext:h;var z=c["default"](g,n),A=h;return function(g){var h=g.displayName||g.name||"Component",m=j(h),n=b["default"]({},z,{getDisplayName:j,methodName:k,renderCountProp:l,shouldHandleStateChanges:p,storeKey:q,displayName:m,wrappedComponentName:h,WrappedComponent:g});h=z.pure;function B(b){return a(b.dispatch,n)}var C=h?e.useMemo:function(a){return a()};function D(a){var d=e.useMemo(function(){var b=a.reactReduxForwardedRef,d=c["default"](a,o);return[a.context,b,d]},[a]),h=d[0],j=d[1],k=d[2],l=e.useMemo(function(){return h&&h.Consumer&&f.isContextConsumer(e["default"].createElement(h.Consumer,null))?h:A},[h,A]),m=e.useContext(l),n=Boolean(a.store)&&Boolean(a.store.getState)&&Boolean(a.store.dispatch);Boolean(m)&&Boolean(m.store);var q=n?a.store:m.store,r=e.useMemo(function(){return B(q)},[q]);d=e.useMemo(function(){if(!p)return t;var a=i.createSubscription(q,n?null:m.subscription),b=a.notifyNestedSubs.bind(a);return[a,b]},[q,n,m]);var z=d[0];d=d[1];var D=e.useMemo(function(){return n?m:b["default"]({},m,{subscription:z})},[n,m,z]),E=e.useReducer(u,s,y),F=E[0];F=F[0];E=E[1];if(F&&F.error)throw F.error;var G=e.useRef(),H=e.useRef(k),I=e.useRef(),J=e.useRef(!1),K=C(function(){return I.current&&k===H.current?I.current:r(q.getState(),k)},[q,F,k]);v(w,[H,G,J,k,K,I,d]);v(x,[p,q,z,r,H,G,J,I,d,E],[q,z,r]);var L=e.useMemo(function(){return e["default"].createElement(g,b["default"]({},K,{ref:j}))},[j,g,K]);F=e.useMemo(function(){return p?e["default"].createElement(l.Provider,{value:D},L):L},[l,L,D]);return F}var E=h?e["default"].memo(D):D;E.WrappedComponent=g;E.displayName=D.displayName=m;if(r){h=e["default"].forwardRef(function(a,c){return e["default"].createElement(E,b["default"]({},a,{reactReduxForwardedRef:c}))});h.displayName=m;h.WrappedComponent=g;return d["default"](h,g)}return d["default"](E,g)}}}var ca=!1;function da(){ca||(ca=!0,ba());return aa.exports}var M={},ea={exports:M};function fa(){M.__esModule=!0;M["default"]=b;function a(a,b){if(a===b)return a!==0||b!==0||1/a===1/b;else return a!==a&&b!==b}function b(b,c){if(a(b,c))return!0;if(typeof b!=="object"||b===null||typeof c!=="object"||c===null)return!1;var d=Object.keys(b),e=Object.keys(c);if(d.length!==e.length)return!1;for(e=0;e<d.length;e++)if(!Object.prototype.hasOwnProperty.call(c,d[e])||!a(b[d[e]],c[d[e]]))return!1;return!0}}var ga=!1;function ha(){ga||(ga=!0,fa());return ea.exports}var N={},ia={exports:N};function ja(){N.__esModule=!0;N["default"]=a;function a(a,b){var c={},d=function(d){var e=a[d];typeof e==="function"&&(c[d]=function(){return b(e.apply(void 0,arguments))})};for(var e in a)d(e);return c}}var ka=!1;function la(){ka||(ka=!0,ja());return ia.exports}var O={},ma={exports:O};function na(){O.__esModule=!0;O["default"]=a;function a(a){if(typeof a!=="object"||a===null)return!1;a=Object.getPrototypeOf(a);if(a===null)return!0;var b=a;while(Object.getPrototypeOf(b)!==null)b=Object.getPrototypeOf(b);return a===b}}var oa=!1;function pa(){oa||(oa=!0,na());return ma.exports}var qa={},ra={exports:qa};function sa(){qa.__esModule=!0;qa["default"]=a;function a(a){typeof console!=="undefined"&&typeof emptyFunction==="function";try{throw new Error(a)}catch(a){}}}var ta=!1;function ua(){ta||(ta=!0,sa());return ra.exports}var va={},wa={exports:va};function xa(){var a=g("/helpers/interopRequireDefault");va.__esModule=!0;va["default"]=d;var b=a(pa()),c=a(ua());function d(a,d,e){b["default"](a)||c["default"](e+"() in "+d+" must return a plain object. Instead received "+a+".")}}var ya=!1;function za(){ya||(ya=!0,xa());return wa.exports}var P={},Aa={exports:P};function Ba(){var a=g("/helpers/interopRequireDefault");P.__esModule=!0;P.wrapMapToPropsConstant=b;P.getDependsOnOwnProps=c;P.wrapMapToPropsFunc=d;a(za());function b(a){return function(b,c){var d=a(b,c);function e(){return d}e.dependsOnOwnProps=!1;return e}}function c(a){return a.dependsOnOwnProps!==null&&a.dependsOnOwnProps!==void 0?Boolean(a.dependsOnOwnProps):a.length!==1}function d(a,b){return function(b,d){d.displayName;var e=function(a,b){return e.dependsOnOwnProps?e.mapToProps(a,b):e.mapToProps(a)};e.dependsOnOwnProps=!0;e.mapToProps=function(b,d){e.mapToProps=a;e.dependsOnOwnProps=c(a);var f=e(b,d);typeof f==="function"&&(e.mapToProps=f,e.dependsOnOwnProps=c(f),f=e(b,d));return f};return e}}}var Ca=!1;function Da(){Ca||(Ca=!0,Ba());return Aa.exports}var Q={},Ea={exports:Q};function Fa(){var a=g("/helpers/interopRequireDefault");Q.__esModule=!0;Q.whenMapDispatchToPropsIsFunction=d;Q.whenMapDispatchToPropsIsMissing=e;Q.whenMapDispatchToPropsIsObject=f;Q["default"]=void 0;var b=a(la()),c=Da();function d(a){return typeof a==="function"?c.wrapMapToPropsFunc(a,"mapDispatchToProps"):void 0}function e(a){return a?void 0:c.wrapMapToPropsConstant(function(a){return{dispatch:a}})}function f(a){return a&&typeof a==="object"?c.wrapMapToPropsConstant(function(c){return b["default"](a,c)}):void 0}a=[d,e,f];Q["default"]=a}var Ga=!1;function Ha(){Ga||(Ga=!0,Fa());return Ea.exports}var R={},Ia={exports:R};function Ja(){R.__esModule=!0;R.whenMapStateToPropsIsFunction=b;R.whenMapStateToPropsIsMissing=c;R["default"]=void 0;var a=Da();function b(b){return typeof b==="function"?a.wrapMapToPropsFunc(b,"mapStateToProps"):void 0}function c(b){return b?void 0:a.wrapMapToPropsConstant(function(){return{}})}b=[b,c];R["default"]=b}var Ka=!1;function La(){Ka||(Ka=!0,Ja());return Ia.exports}var S={},Ma={exports:S};function Na(){var a=g("/helpers/interopRequireDefault");S.__esModule=!0;S.defaultMergeProps=c;S.wrapMergePropsFunc=d;S.whenMergePropsIsFunction=e;S.whenMergePropsIsOmitted=f;S["default"]=void 0;var b=a(g("/helpers/extends"));a(za());function c(a,c,d){return b["default"]({},d,a,c)}function d(a){return function(b,c){c.displayName;var d=c.pure,e=c.areMergedPropsEqual,f=!1,g;return function(b,c,h){b=a(b,c,h);f?(!d||!e(b,g))&&(g=b):(f=!0,g=b);return g}}}function e(a){return typeof a==="function"?d(a):void 0}function f(a){return a?void 0:function(){return c}}a=[e,f];S["default"]=a}var Oa=!1;function Pa(){Oa||(Oa=!0,Na());return Ma.exports}var Qa={},Ra={exports:Qa};function Sa(){var a=g("/helpers/interopRequireDefault");Qa.__esModule=!0;Qa["default"]=d;var b=a(ua());function c(a,c,d){if(!a)throw new Error("Unexpected value for "+c+" in "+d+".");else(c==="mapStateToProps"||c==="mapDispatchToProps")&&(Object.prototype.hasOwnProperty.call(a,"dependsOnOwnProps")||b["default"]("The selector for "+c+" of "+d+" did not specify a value for dependsOnOwnProps."))}function d(a,b,d,e){c(a,"mapStateToProps",e),c(b,"mapDispatchToProps",e),c(d,"mergeProps",e)}}var Ta=!1;function Ua(){Ta||(Ta=!0,Sa());return Ra.exports}var T={},Va={exports:T};function Wa(){var a=g("/helpers/interopRequireDefault");T.__esModule=!0;T.impureFinalPropsSelectorFactory=d;T.pureFinalPropsSelectorFactory=e;T["default"]=f;var b=a(g("/helpers/objectWithoutPropertiesLoose"));a(Ua());var c=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function d(a,b,c,d){return function(e,f){return c(a(e,f),b(d,f),f)}}function e(a,b,c,d,e){var f=e.areStatesEqual,g=e.areOwnPropsEqual,h=e.areStatePropsEqual,i=!1,j,k,l,m,n;function o(e,f){j=e;k=f;l=a(j,k);m=b(d,k);n=c(l,m,k);i=!0;return n}function p(){l=a(j,k);b.dependsOnOwnProps&&(m=b(d,k));n=c(l,m,k);return n}function q(){a.dependsOnOwnProps&&(l=a(j,k));b.dependsOnOwnProps&&(m=b(d,k));n=c(l,m,k);return n}function r(){var b=a(j,k),d=!h(b,l);l=b;d&&(n=c(l,m,k));return n}function s(a,b){var c=!g(b,k),d=!f(a,j);j=a;k=b;if(c&&d)return p();if(c)return q();return d?r():n}return function(a,b){return i?s(a,b):o(a,b)}}function f(a,f){var g=f.initMapStateToProps,h=f.initMapDispatchToProps,i=f.initMergeProps;f=b["default"](f,c);g=g(a,f);h=h(a,f);i=i(a,f);var j=f.pure?e:d;return j(g,h,i,a,f)}}var Xa=!1;function Ya(){Xa||(Xa=!0,Wa());return Va.exports}var U={},Za={exports:U};function $a(){var a=g("/helpers/interopRequireDefault");U.__esModule=!0;U.createConnect=n;U["default"]=void 0;var b=a(g("/helpers/extends")),c=a(g("/helpers/objectWithoutPropertiesLoose")),d=a(da()),e=a(ha()),f=a(Ha()),h=a(La()),i=a(Pa()),j=a(Ya()),k=["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"];function l(a,b,c){for(var d=b.length-1;d>=0;d--){var e=b[d](a);if(e)return e}return function(b,d){throw new Error("Invalid value of type "+typeof a+" for "+c+" argument when connecting component "+d.wrappedComponentName+".")}}function m(a,b){return a===b}function n(a){a=a===void 0?{}:a;var g=a.connectHOC,n=g===void 0?d["default"]:g;g=a.mapStateToPropsFactories;var o=g===void 0?h["default"]:g;g=a.mapDispatchToPropsFactories;var p=g===void 0?f["default"]:g;g=a.mergePropsFactories;var q=g===void 0?i["default"]:g;g=a.selectorFactory;var r=g===void 0?j["default"]:g;return function(a,d,f,g){g===void 0&&(g={});g=g;var h=g.pure;h=h===void 0?!0:h;var i=g.areStatesEqual;i=i===void 0?m:i;var j=g.areOwnPropsEqual;j=j===void 0?e["default"]:j;var s=g.areStatePropsEqual;s=s===void 0?e["default"]:s;var t=g.areMergedPropsEqual;t=t===void 0?e["default"]:t;g=c["default"](g,k);var u=l(a,o,"mapStateToProps");d=l(d,p,"mapDispatchToProps");f=l(f,q,"mergeProps");return n(r,b["default"]({methodName:"connect",getDisplayName:function(a){return"Connect("+a+")"},shouldHandleStateChanges:Boolean(a),initMapStateToProps:u,initMapDispatchToProps:d,initMergeProps:f,pure:h,areStatesEqual:i,areOwnPropsEqual:j,areStatePropsEqual:s,areMergedPropsEqual:t},g))}}a=n();U["default"]=a}var ab=!1;function bb(){ab||(ab=!0,$a());return Za.exports}var cb={},db={exports:cb};function eb(){cb.__esModule=!0;cb.useReduxContext=c;var a=h(),b=q();function c(){var c=a.useContext(b.ReactReduxContext);return c}}var fb=!1;function gb(){fb||(fb=!0,eb());return db.exports}var V={},hb={exports:V};function ib(){V.__esModule=!0;V.createStoreHook=d;V.useStore=void 0;var a=h(),b=q(),c=gb();function d(d){d===void 0&&(d=b.ReactReduxContext);var e=d===b.ReactReduxContext?c.useReduxContext:function(){return a.useContext(d)};return function(){var a=e();a=a.store;return a}}d=d();V.useStore=d}var jb=!1;function kb(){jb||(jb=!0,ib());return hb.exports}var W={},lb={exports:W};function mb(){W.__esModule=!0;W.createDispatchHook=c;W.useDispatch=void 0;var a=q(),b=kb();function c(c){c===void 0&&(c=a.ReactReduxContext);var d=c===a.ReactReduxContext?b.useStore:b.createStoreHook(c);return function(){var a=d();return a.dispatch}}c=c();W.useDispatch=c}var nb=!1;function ob(){nb||(nb=!0,mb());return lb.exports}var X={},pb={exports:X};function qb(){X.__esModule=!0;X.createSelectorHook=i;X.useSelector=void 0;var a=h(),b=gb(),c=A(),d=F(),e=q(),f=function(a,b){return a===b};function g(b,e,f,g){var h=a.useReducer(function(a){return a+1},0),i=h[1],j=a.useMemo(function(){return c.createSubscription(f,g)},[f,g]),k=a.useRef(),l=a.useRef(),m=a.useRef(),n=a.useRef(),o=f.getState(),p;try{if(b!==l.current||o!==m.current||k.current){h=b(o);n.current===void 0||!e(h,n.current)?p=h:p=n.current}else p=n.current}catch(a){k.current&&(a.message+="\nThe error may be correlated with this previous error:\n"+k.current.stack+"\n\n");throw a}d.useIsomorphicLayoutEffect(function(){l.current=b,m.current=o,n.current=p,k.current=void 0});d.useIsomorphicLayoutEffect(function(){function a(){try{var a=f.getState();if(a===m.current)return;var b=l.current(a);if(e(b,n.current))return;n.current=b;m.current=a}catch(a){k.current=a}i()}j.onStateChange=a;j.trySubscribe();a();return function(){return j.tryUnsubscribe()}},[f,j]);return p}function i(c){c===void 0&&(c=e.ReactReduxContext);var d=c===e.ReactReduxContext?b.useReduxContext:function(){return a.useContext(c)};return function(b,c){c===void 0&&(c=f);var e=d(),h=e.store;e=e.subscription;b=g(b,c,h,e);a.useDebugValue(b);return b}}i=i();X.useSelector=i}var rb=!1;function sb(){rb||(rb=!0,qb());return pb.exports}var Y={},tb={exports:Y};function ub(){var a=g("/helpers/interopRequireDefault");Y.__esModule=!0;var b=a(K());Y.Provider=b["default"];b=a(da());Y.connectAdvanced=b["default"];b=q();Y.ReactReduxContext=b.ReactReduxContext;b=a(bb());Y.connect=b["default"];b=ob();Y.useDispatch=b.useDispatch;Y.createDispatchHook=b.createDispatchHook;b=sb();Y.useSelector=b.useSelector;Y.createSelectorHook=b.createSelectorHook;b=kb();Y.useStore=b.useStore;Y.createStoreHook=b.createStoreHook;b=a(ha());Y.shallowEqual=b["default"]}var vb=!1;function wb(){vb||(vb=!0,ub());return tb.exports}var Z={},xb={exports:Z};function yb(){Z.__esModule=!0;Z.unstable_batchedUpdates=void 0;var a=l();Z.unstable_batchedUpdates=a.unstable_batchedUpdates}var zb=!1;function Ab(){zb||(zb=!0,yb());return xb.exports}var $={},Bb={exports:$};function Cb(){$.__esModule=!0;var a={batch:!0},b=wb();Object.keys(b).forEach(function(c){if(c==="default"||c==="__esModule")return;if(Object.prototype.hasOwnProperty.call(a,c))return;if(c in $&&$[c]===b[c])return;$[c]=b[c]});var c=Ab();$.batch=c.unstable_batchedUpdates;var d=v();d.setBatch(c.unstable_batchedUpdates)}var Db=!1;function Eb(){Db||(Db=!0,Cb());return Bb.exports}function c(a){switch(a){case void 0:return Eb()}}e.exports=c}),null);
/**
 * License: https://www.facebook.com/legal/license/t3hOLs8wlXy/
 */
__d("symbol-observable-1.2.0",[],(function(a,b,c,d,e,f){"use strict";var g={},h={exports:g};function i(){Object.defineProperty(g,"__esModule",{value:!0});g["default"]=a;function a(a){var b;a=a.Symbol;typeof a==="function"?a.observable?b=a.observable:(b=a("observable"),a.observable=b):b="@@observable";return b}}var j=!1;function k(){j||(j=!0,i());return h.exports}var l={},m={exports:l};function n(){Object.defineProperty(l,"__esModule",{value:!0});var b=k();c=c(b);function c(a){return a&&a.__esModule?a:{"default":a}}typeof self!=="undefined"?b=self:typeof window!=="undefined"?b=window:typeof a!=="undefined"?b=a:typeof m!=="undefined"?b=m:b=Function("return this")();c=c["default"](b);l["default"]=c}var o=!1;function p(){o||(o=!0,n());return m.exports}function b(a){switch(a){case void 0:return p()}}e.exports=b}),null);
/**
 * License: https://www.facebook.com/legal/license/t3hOLs8wlXy/
 */
__d("redux-4.0.4",["symbol-observable-1.2.0"],(function(a,b,c,d,e,f){"use strict";function a(a){return a&&typeof a==="object"&&"default"in a?a["default"]:a}var g=a(b("symbol-observable-1.2.0")),h={},i={exports:h};function j(){Object.defineProperty(h,"__esModule",{value:!0});function a(a){return a&&typeof a==="object"&&"default"in a?a["default"]:a}var b=a(g()),c=function(){return Math.random().toString(36).substring(7).split("").join(".")},d={INIT:"@@redux/INIT"+c(),REPLACE:"@@redux/REPLACE"+c(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+c()}};function e(a){if(typeof a!=="object"||a===null)return!1;var b=a;while(Object.getPrototypeOf(b)!==null)b=Object.getPrototypeOf(b);return Object.getPrototypeOf(a)===b}function f(a,c,g){var h;if(typeof c==="function"&&typeof g==="function"||typeof g==="function"&&typeof arguments[3]==="function")throw new Error("It looks like you are passing several store enhancers to createStore(). This is not supported. Instead, compose them together to a single function.");typeof c==="function"&&typeof g==="undefined"&&(g=c,c=void 0);if(typeof g!=="undefined"){if(typeof g!=="function")throw new Error("Expected the enhancer to be a function.");return g(f)(a,c)}if(typeof a!=="function")throw new Error("Expected the reducer to be a function.");var i=a,j=c,k=[],l=k,m=!1;function n(){l===k&&(l=k.slice())}function o(){if(m)throw new Error("You may not call store.getState() while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store.");return j}function p(a){if(typeof a!=="function")throw new Error("Expected the listener to be a function.");if(m)throw new Error("You may not call store.subscribe() while the reducer is executing. If you would like to be notified after the store has been updated, subscribe from a component and invoke store.getState() in the callback to access the latest state. See https://redux.js.org/api-reference/store#subscribe(listener) for more details.");var b=!0;n();l.push(a);return function(){if(!b)return;if(m)throw new Error("You may not unsubscribe from a store listener while the reducer is executing. See https://redux.js.org/api-reference/store#subscribe(listener) for more details.");b=!1;n();var c=l.indexOf(a);l.splice(c,1)}}function q(a){if(!e(a))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(typeof a.type==="undefined")throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(m)throw new Error("Reducers may not dispatch actions.");try{m=!0,j=i(j,a)}finally{m=!1}var b=k=l;for(var c=0;c<b.length;c++){var d=b[c];d()}return a}function r(a){if(typeof a!=="function")throw new Error("Expected the nextReducer to be a function.");i=a;q({type:d.REPLACE})}function s(){var a,c=p;return a={subscribe:function(a){if(typeof a!=="object"||a===null)throw new TypeError("Expected the observer to be an object.");function b(){a.next&&a.next(o())}b();b=c(b);return{unsubscribe:b}}},a[b]=function(){return this},a}q({type:d.INIT});return h={dispatch:q,subscribe:p,getState:o,replaceReducer:r},h[b]=s,h}function i(a,b){b=b&&b.type;b=b&&'action "'+String(b)+'"'||"an action";return"Given "+b+', reducer "'+a+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function j(a){Object.keys(a).forEach(function(b){var c=a[b],e=c(void 0,{type:d.INIT});if(typeof e==="undefined")throw new Error('Reducer "'+b+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if(typeof c(void 0,{type:d.PROBE_UNKNOWN_ACTION()})==="undefined")throw new Error('Reducer "'+b+'" returned undefined when probed with a random type. '+("Don't try to handle "+d.INIT+' or other actions in "redux/*" ')+"namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.")})}function k(a){var b=Object.keys(a),c={};for(var d=0;d<b.length;d++){var e=b[d];typeof a[e]==="function"&&(c[e]=a[e])}var f=Object.keys(c),g;try{j(c)}catch(a){g=a}return function(a,b){a===void 0&&(a={});if(g)throw g;var d=!1,e={};for(var h=0;h<f.length;h++){var j=f[h],k=c[j],l=a[j];k=k(l,b);if(typeof k==="undefined"){var m=i(j,b);throw new Error(m)}e[j]=k;d=d||k!==l}return d?e:a}}function l(a,b){return function(){return b(a.apply(this,arguments))}}function m(a,b){if(typeof a==="function")return l(a,b);if(typeof a!=="object"||a===null)throw new Error("bindActionCreators expected an object or a function, instead received "+(a===null?"null":typeof a)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');var c={};for(var d in a){var e=a[d];typeof e==="function"&&(c[d]=l(e,b))}return c}function n(a,b,c){b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c;return a}function o(a,b){var c=Object.keys(a);Object.getOwnPropertySymbols&&c.push.apply(c,Object.getOwnPropertySymbols(a));b&&(c=c.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable}));return c}function p(a){for(var b=1;b<arguments.length;b++){var c=arguments[b]!=null?arguments[b]:{};b%2?o(c,!0).forEach(function(b){n(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):o(c).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function q(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];if(b.length===0)return function(a){return a};return b.length===1?b[0]:b.reduce(function(a,b){return function(){return a(b.apply(void 0,arguments))}})}function r(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return function(a){return function(){var c=a.apply(void 0,arguments),d=function(){throw new Error("Dispatching while constructing your middleware is not allowed. Other middleware would not be applied to this dispatch.")},e={getState:c.getState,dispatch:function(){return d.apply(void 0,arguments)}},f=b.map(function(a){return a(e)});d=q.apply(void 0,f)(c.dispatch);return p({},c,{dispatch:d})}}}h.__DO_NOT_USE__ActionTypes=d;h.applyMiddleware=r;h.bindActionCreators=m;h.combineReducers=k;h.compose=q;h.createStore=f}var k=!1;function l(){k||(k=!0,j());return i.exports}function c(a){switch(a){case void 0:return l()}}e.exports=c}),null);
/**
 * License: https://www.facebook.com/legal/license/t3hOLs8wlXy/
 */
__d("reselect-3.0.1",[],(function(a,b,c,d,e,f){"use strict";var g={},h={exports:g};function i(){g.__esModule=!0;g.defaultMemoize=c;g.createSelectorCreator=e;g.createStructuredSelector=h;function a(a,b){return a===b}function b(a,b,c){if(b===null||c===null||b.length!==c.length)return!1;var d=b.length;for(var e=0;e<d;e++)if(!a(b[e],c[e]))return!1;return!0}function c(c){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:a,e=null,f=null;return function(){b(d,e,arguments)||(f=c.apply(null,arguments));e=arguments;return f}}function d(a){a=Array.isArray(a[0])?a[0]:a;if(!a.every(function(a){return typeof a==="function"})){var b=a.map(function(a){return typeof a}).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, "+("instead received the following types: ["+b+"]"))}return a}function e(a){for(var b=arguments.length,e=Array(b>1?b-1:0),f=1;f<b;f++)e[f-1]=arguments[f];return function(){for(var b=arguments.length,f=Array(b),g=0;g<b;g++)f[g]=arguments[g];var h=0,i=f.pop(),j=d(f),k=a.apply(void 0,[function(){h++;return i.apply(null,arguments)}].concat(e)),l=c(function(){var a=[],b=j.length;for(var c=0;c<b;c++)a.push(j[c].apply(null,arguments));return k.apply(null,a)});l.resultFunc=i;l.recomputations=function(){return h};l.resetRecomputations=function(){return h=0};return l}}var f=g.createSelector=e(c);function h(a){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:f;if(typeof a!=="object")throw new Error("createStructuredSelector expects first argument to be an object where each property is a selector, instead received a "+typeof a);var c=Object.keys(a);return b(c.map(function(b){return a[b]}),function(){for(var a=arguments.length,b=Array(a),d=0;d<a;d++)b[d]=arguments[d];return b.reduce(function(a,b,d){a[c[d]]=b;return a},{})})}}var j=!1;function k(){j||(j=!0,i());return h.exports}function a(a){switch(a){case void 0:return k()}}e.exports=a}),null);
__d("reselect",["reselect-3.0.1"],(function(a,b,c,d,e,f){e.exports=b("reselect-3.0.1")()}),null);
/**
 * License: https://www.facebook.com/legal/license/Hnt8PzozZpk/
 */
__d("strxml-0.0.0",[],(function(a,b,c,d,e,f){"use strict";b={};var g={exports:b};function h(){g.exports.attr=a;g.exports.tagClose=b;g.exports.tag=c;g.exports.encode=d;function a(a){return a&&a.length?" "+a.map(function(a){return a[0]+'="'+a[1]+'"'}).join(" "):""}function b(b,c){return"<"+b+a(c)+"/>"}function c(b,c,d){return"<"+b+a(d)+">"+c+"</"+b+">"}function d(a){return(a===null?"":a.toString()).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}}var i=!1;function j(){i||(i=!0,h());return g.exports}function a(a){switch(a){case void 0:return j()}}e.exports=a}),null);
/**
 * License: https://www.facebook.com/legal/license/KRXTwBoPvVj/
 */
__d("tokml-0.4.0",["strxml-0.0.0"],(function(a,b,c,d,e,f){"use strict";function a(a){return a&&typeof a==="object"&&"default"in a?a["default"]:a}var g=a(b("strxml-0.0.0"));d={};var h={exports:d};function i(){var a=g(),b=a.tag,c=a.encode;h.exports=function(a,c){c=c||{documentName:void 0,documentDescription:void 0,name:"name",description:"description",simplestyle:!1,timestamp:"timestamp"};return'<?xml version="1.0" encoding="UTF-8"?>'+b("kml",b("Document",f(c)+i(c)+e(a,c)),[["xmlns","http://www.opengis.net/kml/2.2"]])};function d(a,c){return function(d){if(!d.properties||!m.valid(d.geometry))return"";var e=m.any(d.geometry);if(!e)return"";var f="",g="";if(a.simplestyle){var h=w(d.properties);h&&(m.isPoint(d.geometry)&&q(d.properties)?(c.indexOf(h)===-1&&(f=r(d.properties,h),c.push(h)),g=b("styleUrl","#"+h)):(m.isPolygon(d.geometry)||m.isLine(d.geometry))&&u(d.properties)&&(c.indexOf(h)===-1&&(f=v(d.properties,h),c.push(h)),g=b("styleUrl","#"+h)))}return f+b("Placemark",j(d.properties,a)+k(d.properties,a)+o(d.properties)+l(d.properties,a)+e+g)}}function e(a,b){if(!a.type)return"";var c=[];switch(a.type){case"FeatureCollection":return!a.features?"":a.features.map(d(b,c)).join("");case"Feature":return d(b,c)(a);default:return d(b,c)({type:"Feature",geometry:a,properties:{}})}}function f(a){return a.documentName!==void 0?b("name",a.documentName):""}function i(a){return a.documentDescription!==void 0?b("description",a.documentDescription):""}function j(a,d){return a[d.name]?b("name",c(a[d.name])):""}function k(a,d){return a[d.description]?b("description",c(a[d.description])):""}function l(a,d){return a[d.timestamp]?b("TimeStamp",b("when",c(a[d.timestamp]))):""}var m={Point:function(a){return b("Point",b("coordinates",a.coordinates.join(",")))},LineString:function(a){return b("LineString",b("coordinates",n(a.coordinates)))},Polygon:function(a){if(!a.coordinates.length)return"";var c=a.coordinates[0];a=a.coordinates.slice(1);c=b("outerBoundaryIs",b("LinearRing",b("coordinates",n(c))));a=a.map(function(a){return b("innerBoundaryIs",b("LinearRing",b("coordinates",n(a))))}).join("");return b("Polygon",c+a)},MultiPoint:function(a){return!a.coordinates.length?"":b("MultiGeometry",a.coordinates.map(function(a){return m.Point({coordinates:a})}).join(""))},MultiPolygon:function(a){return!a.coordinates.length?"":b("MultiGeometry",a.coordinates.map(function(a){return m.Polygon({coordinates:a})}).join(""))},MultiLineString:function(a){return!a.coordinates.length?"":b("MultiGeometry",a.coordinates.map(function(a){return m.LineString({coordinates:a})}).join(""))},GeometryCollection:function(a){return b("MultiGeometry",a.geometries.map(m.any).join(""))},valid:function(a){return a&&a.type&&(a.coordinates||a.type==="GeometryCollection"&&a.geometries&&a.geometries.every(m.valid))},any:function(a){if(m[a.type])return m[a.type](a);else return""},isPoint:function(a){return a.type==="Point"||a.type==="MultiPoint"},isPolygon:function(a){return a.type==="Polygon"||a.type==="MultiPolygon"},isLine:function(a){return a.type==="LineString"||a.type==="MultiLineString"}};function n(a){return a.map(function(a){return a.join(",")}).join(" ")}function o(a){return b("ExtendedData",y(a).map(p).join(""))}function p(a){return b("Data",b("value",c(a[1])),[["name",c(a[0])]])}function q(a){return!!(a["marker-size"]||a["marker-symbol"]||a["marker-color"])}function r(a,c){return b("Style",b("IconStyle",b("Icon",b("href",s(a))))+t(a),[["id",c]])}function s(a){var b=a["marker-size"]||"medium",c=a["marker-symbol"]?"-"+a["marker-symbol"]:"";a=(a["marker-color"]||"7e7e7e").replace("#","");return"https://api.tiles.mapbox.com/v3/marker/pin-"+b.charAt(0)+c+"+"+a+".png"}function t(a){return b("hotSpot","",[["xunits","fraction"],["yunits","fraction"],["x",.5],["y",.5]])}function u(a){for(a in a)if({stroke:!0,"stroke-opacity":!0,"stroke-width":!0,fill:!0,"fill-opacity":!0}[a])return!0}function v(a,c){var d=b("LineStyle",[b("color",x(a.stroke,a["stroke-opacity"])||"ff555555")+b("width",a["stroke-width"]===void 0?2:a["stroke-width"])]),e="";(a.fill||a["fill-opacity"])&&(e=b("PolyStyle",[b("color",x(a.fill,a["fill-opacity"])||"88555555")]));return b("Style",d+e,[["id",c]])}function w(a){var b="";a["marker-symbol"]&&(b=b+"ms"+a["marker-symbol"]);a["marker-color"]&&(b=b+"mc"+a["marker-color"].replace("#",""));a["marker-size"]&&(b=b+"ms"+a["marker-size"]);a.stroke&&(b=b+"s"+a.stroke.replace("#",""));a["stroke-width"]&&(b=b+"sw"+a["stroke-width"].toString().replace(".",""));a["stroke-opacity"]&&(b=b+"mo"+a["stroke-opacity"].toString().replace(".",""));a.fill&&(b=b+"f"+a.fill.replace("#",""));a["fill-opacity"]&&(b=b+"fo"+a["fill-opacity"].toString().replace(".",""));return b}function x(a,b){if(typeof a!=="string")return"";a=a.replace("#","").toLowerCase();if(a.length===3)a=a[0]+a[0]+a[1]+a[1]+a[2]+a[2];else if(a.length!==6)return"";var c=a[0]+a[1],d=a[2]+a[3];a=a[4]+a[5];var e="ff";typeof b==="number"&&b>=0&&b<=1&&(e=(b*255).toString(16),e.indexOf(".")>-1&&(e=e.substr(0,e.indexOf("."))),e.length<2&&(e="0"+e));return e+a+d+c}function y(a){var b=[];for(var c in a)b.push([c,a[c]]);return b}}var j=!1;function k(){j||(j=!0,i());return h.exports}function c(a){switch(a){case void 0:return k()}}e.exports=c}),null);
__d("tokml",["tokml-0.4.0"],(function(a,b,c,d,e,f){e.exports=b("tokml-0.4.0")()}),null);
/**
 * License: https://www.facebook.com/legal/license/t3hOLs8wlXy/
 */
__d("turf-helpers-5.1.5",[],(function(a,b,c,d,e,f){"use strict";var g={},h={exports:g};function i(){Object.defineProperty(g,"__esModule",{value:!0});var a=6371008.8,b={meters:a,metres:a,millimeters:a*1e3,millimetres:a*1e3,centimeters:a*100,centimetres:a*100,kilometers:a/1e3,kilometres:a/1e3,miles:a/1609.344,nauticalmiles:a/1852,inches:a*39.37,yards:a/1.0936,feet:a*3.28084,radians:1,degrees:a/111325},c={meters:1,metres:1,millimeters:1e3,millimetres:1e3,centimeters:100,centimetres:100,kilometers:1/1e3,kilometres:1/1e3,miles:1/1609.344,nauticalmiles:1/1852,inches:39.37,yards:1/1.0936,feet:3.28084,radians:1/a,degrees:1/111325},d={meters:1,metres:1,millimeters:1e6,millimetres:1e6,centimeters:1e4,centimetres:1e4,kilometers:1e-6,kilometres:1e-6,acres:247105e-9,miles:386e-9,yards:1.195990046,feet:10.763910417,inches:1550.003100006};function e(a,b,c){c=c||{};if(!C(c))throw new Error("options is invalid");var d=c.bbox;c=c.id;if(a===void 0)throw new Error("geometry is required");if(b&&b.constructor!==Object)throw new Error("properties must be an Object");d&&D(d);c&&E(c);var e={type:"Feature"};c&&(e.id=c);d&&(e.bbox=d);e.properties=b||{};e.geometry=a;return e}function f(a,b,c){c=c||{};if(!C(c))throw new Error("options is invalid");c=c.bbox;if(!a)throw new Error("type is required");if(!b)throw new Error("coordinates is required");if(!Array.isArray(b))throw new Error("coordinates must be an Array");c&&D(c);var d;switch(a){case"Point":d=h(b).geometry;break;case"LineString":d=l(b).geometry;break;case"Polygon":d=j(b).geometry;break;case"MultiPoint":d=p(b).geometry;break;case"MultiLineString":d=o(b).geometry;break;case"MultiPolygon":d=q(b).geometry;break;default:throw new Error(a+" is invalid")}c&&(d.bbox=c);return d}function h(a,b,c){if(!a)throw new Error("coordinates is required");if(!Array.isArray(a))throw new Error("coordinates must be an Array");if(a.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!B(a[0])||!B(a[1]))throw new Error("coordinates must contain numbers");return e({type:"Point",coordinates:a},b,c)}function i(a,b,c){if(!a)throw new Error("coordinates is required");if(!Array.isArray(a))throw new Error("coordinates must be an Array");return n(a.map(function(a){return h(a,b)}),c)}function j(a,b,c){if(!a)throw new Error("coordinates is required");for(var d=0;d<a.length;d++){var f=a[d];if(f.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var g=0;g<f[f.length-1].length;g++){if(d===0&&g===0&&!B(f[0][0])||!B(f[0][1]))throw new Error("coordinates must contain numbers");if(f[f.length-1][g]!==f[0][g])throw new Error("First and last Position are not equivalent.")}}return e({type:"Polygon",coordinates:a},b,c)}function k(a,b,c){if(!a)throw new Error("coordinates is required");if(!Array.isArray(a))throw new Error("coordinates must be an Array");return n(a.map(function(a){return j(a,b)}),c)}function l(a,b,c){if(!a)throw new Error("coordinates is required");if(a.length<2)throw new Error("coordinates must be an array of two or more positions");if(!B(a[0][1])||!B(a[0][1]))throw new Error("coordinates must contain numbers");return e({type:"LineString",coordinates:a},b,c)}function m(a,b,c){if(!a)throw new Error("coordinates is required");if(!Array.isArray(a))throw new Error("coordinates must be an Array");return n(a.map(function(a){return l(a,b)}),c)}function n(a,b){b=b||{};if(!C(b))throw new Error("options is invalid");var c=b.bbox;b=b.id;if(!a)throw new Error("No features passed");if(!Array.isArray(a))throw new Error("features must be an Array");c&&D(c);b&&E(b);var d={type:"FeatureCollection"};b&&(d.id=b);c&&(d.bbox=c);d.features=a;return d}function o(a,b,c){if(!a)throw new Error("coordinates is required");return e({type:"MultiLineString",coordinates:a},b,c)}function p(a,b,c){if(!a)throw new Error("coordinates is required");return e({type:"MultiPoint",coordinates:a},b,c)}function q(a,b,c){if(!a)throw new Error("coordinates is required");return e({type:"MultiPolygon",coordinates:a},b,c)}function r(a,b,c){if(!a)throw new Error("geometries is required");if(!Array.isArray(a))throw new Error("geometries must be an Array");return e({type:"GeometryCollection",geometries:a},b,c)}function s(a,b){if(a===void 0||a===null||isNaN(a))throw new Error("num is required");if(b&&!(b>=0))throw new Error("precision must be a positive number");b=Math.pow(10,b||0);return Math.round(a*b)/b}function t(a,c){if(a===void 0||a===null)throw new Error("radians is required");if(c&&typeof c!=="string")throw new Error("units must be a string");var d=b[c||"kilometers"];if(!d)throw new Error(c+" units is invalid");return a*d}function u(a,c){if(a===void 0||a===null)throw new Error("distance is required");if(c&&typeof c!=="string")throw new Error("units must be a string");var d=b[c||"kilometers"];if(!d)throw new Error(c+" units is invalid");return a/d}function v(a,b){return x(u(a,b))}function w(a){if(a===null||a===void 0)throw new Error("bearing is required");a=a%360;a<0&&(a+=360);return a}function x(a){if(a===null||a===void 0)throw new Error("radians is required");a=a%(2*Math.PI);return a*180/Math.PI}function y(a){if(a===null||a===void 0)throw new Error("degrees is required");a=a%360;return a*Math.PI/180}function z(a,b,c){if(a===null||a===void 0)throw new Error("length is required");if(!(a>=0))throw new Error("length must be a positive number");return t(u(a,b),c||"kilometers")}function A(a,b,c){if(a===null||a===void 0)throw new Error("area is required");if(!(a>=0))throw new Error("area must be a positive number");b=d[b||"meters"];if(!b)throw new Error("invalid original units");c=d[c||"kilometers"];if(!c)throw new Error("invalid final units");return a/b*c}function B(a){return!isNaN(a)&&a!==null&&!Array.isArray(a)}function C(a){return!!a&&a.constructor===Object}function D(a){if(!a)throw new Error("bbox is required");if(!Array.isArray(a))throw new Error("bbox must be an Array");if(a.length!==4&&a.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");a.forEach(function(a){if(!B(a))throw new Error("bbox must only contain numbers")})}function E(a){if(!a)throw new Error("id is required");if(["string","number"].indexOf(typeof a)===-1)throw new Error("id must be a number or a string")}function F(){throw new Error("method has been renamed to `radiansToDegrees`")}function G(){throw new Error("method has been renamed to `degreesToRadians`")}function H(){throw new Error("method has been renamed to `lengthToDegrees`")}function I(){throw new Error("method has been renamed to `lengthToRadians`")}function J(){throw new Error("method has been renamed to `radiansToLength`")}function K(){throw new Error("method has been renamed to `bearingToAzimuth`")}function L(){throw new Error("method has been renamed to `convertLength`")}g.earthRadius=a;g.factors=b;g.unitsFactors=c;g.areaFactors=d;g.feature=e;g.geometry=f;g.point=h;g.points=i;g.polygon=j;g.polygons=k;g.lineString=l;g.lineStrings=m;g.featureCollection=n;g.multiLineString=o;g.multiPoint=p;g.multiPolygon=q;g.geometryCollection=r;g.round=s;g.radiansToLength=t;g.lengthToRadians=u;g.lengthToDegrees=v;g.bearingToAzimuth=w;g.radiansToDegrees=x;g.degreesToRadians=y;g.convertLength=z;g.convertArea=A;g.isNumber=B;g.isObject=C;g.validateBBox=D;g.validateId=E;g.radians2degrees=F;g.degrees2radians=G;g.distanceToDegrees=H;g.distanceToRadians=I;g.radiansToDistance=J;g.bearingToAngle=K;g.convertDistance=L}var j=!1;function k(){j||(j=!0,i());return h.exports}function a(a){switch(a){case void 0:return k()}}e.exports=a}),null);
/**
 * License: https://www.facebook.com/legal/license/t3hOLs8wlXy/
 */
__d("turf-meta-5.2.0",["turf-helpers-5.1.5"],(function(a,b,c,d,e,f){"use strict";function a(a){return a&&typeof a==="object"&&"default"in a?a["default"]:a}var g=a(b("turf-helpers-5.1.5")),h={},i={exports:h};function j(){Object.defineProperty(h,"__esModule",{value:!0});var a=g();function b(a,c,d){if(a===null)return;var e,f,g,h,i,j,k,l=0,m=0,n,o=a.type,p=o==="FeatureCollection";o=o==="Feature";var q=p?a.features.length:1;for(var r=0;r<q;r++){k=p?a.features[r].geometry:o?a.geometry:a;n=k?k.type==="GeometryCollection":!1;i=n?k.geometries.length:1;for(var s=0;s<i;s++){var t=0,u=0;h=n?k.geometries[s]:k;if(h===null)continue;j=h.coordinates;var v=h.type;l=d&&(v==="Polygon"||v==="MultiPolygon")?1:0;switch(v){case null:break;case"Point":if(c(j,m,r,t,u)===!1)return!1;m++;t++;break;case"LineString":case"MultiPoint":for(e=0;e<j.length;e++){if(c(j[e],m,r,t,u)===!1)return!1;m++;v==="MultiPoint"&&t++}v==="LineString"&&t++;break;case"Polygon":case"MultiLineString":for(e=0;e<j.length;e++){for(f=0;f<j[e].length-l;f++){if(c(j[e][f],m,r,t,u)===!1)return!1;m++}v==="MultiLineString"&&t++;v==="Polygon"&&u++}v==="Polygon"&&t++;break;case"MultiPolygon":for(e=0;e<j.length;e++){v==="MultiPolygon"&&(u=0);for(f=0;f<j[e].length;f++){for(g=0;g<j[e][f].length-l;g++){if(c(j[e][f][g],m,r,t,u)===!1)return!1;m++}u++}t++}break;case"GeometryCollection":for(e=0;e<h.geometries.length;e++)if(b(h.geometries[e],c,d)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}function c(a,c,d,e){var f=d;b(a,function(a,b,e,g,h){b===0&&d===void 0?f=a:f=c(f,a,b,e,g,h)},e);return f}function d(a,b){var c;switch(a.type){case"FeatureCollection":for(c=0;c<a.features.length;c++)if(b(a.features[c].properties,c)===!1)break;break;case"Feature":b(a.properties,0);break}}function e(a,b,c){var e=c;d(a,function(a,d){d===0&&c===void 0?e=a:e=b(e,a,d)});return e}function f(a,b){if(a.type==="Feature")b(a,0);else if(a.type==="FeatureCollection")for(var c=0;c<a.features.length;c++)if(b(a.features[c],c)===!1)break}function i(a,b,c){var d=c;f(a,function(a,e){e===0&&c===void 0?d=a:d=b(d,a,e)});return d}function j(a){var c=[];b(a,function(a){c.push(a)});return c}function k(a,b){var c,d,e,f,g,h,i,j,k,l,m=0,n=a.type==="FeatureCollection",o=a.type==="Feature",p=n?a.features.length:1;for(c=0;c<p;c++){h=n?a.features[c].geometry:o?a.geometry:a;j=n?a.features[c].properties:o?a.properties:{};k=n?a.features[c].bbox:o?a.bbox:void 0;l=n?a.features[c].id:o?a.id:void 0;i=h?h.type==="GeometryCollection":!1;g=i?h.geometries.length:1;for(e=0;e<g;e++){f=i?h.geometries[e]:h;if(f===null){if(b(null,m,j,k,l)===!1)return!1;continue}switch(f.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(b(f,m,j,k,l)===!1)return!1;break;case"GeometryCollection":for(d=0;d<f.geometries.length;d++)if(b(f.geometries[d],m,j,k,l)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}m++}}function l(a,b,c){var d=c;k(a,function(a,e,f,g,h){e===0&&c===void 0?d=a:d=b(d,a,e,f,g,h)});return d}function m(b,c){k(b,function(b,d,e,f,g){var h=b===null?null:b.type;switch(h){case null:case"Point":case"LineString":case"Polygon":if(c(a.feature(b,e,{bbox:f,id:g}),d,0)===!1)return!1;return}var i;switch(h){case"MultiPoint":i="Point";break;case"MultiLineString":i="LineString";break;case"MultiPolygon":i="Polygon";break}for(f=0;f<b.coordinates.length;f++){g=b.coordinates[f];h={type:i,coordinates:g};if(c(a.feature(h,e),d,f)===!1)return!1}})}function n(a,b,c){var d=c;m(a,function(a,e,f){e===0&&f===0&&c===void 0?d=a:d=b(d,a,e,f)});return d}function o(c,d){m(c,function(c,e,f){var g=0;if(!c.geometry)return;var h=c.geometry.type;if(h==="Point"||h==="MultiPoint")return;var i;if(b(c,function(b,h,j,k,l){if(i===void 0){i=b;return}h=a.lineString([i,b],c.properties);if(d(h,e,f,l,g)===!1)return!1;g++;i=b})===!1)return!1})}function p(a,b,c){var d=c,e=!1;o(a,function(a,f,g,h,i){e===!1&&c===void 0?d=a:d=b(d,a,f,g,h,i),e=!0});return d}function q(b,c){if(!b)throw new Error("geojson is required");m(b,function(b,d,e){if(b.geometry===null)return;var f=b.geometry.type,g=b.geometry.coordinates;switch(f){case"LineString":if(c(b,d,e,0,0)===!1)return!1;break;case"Polygon":for(f=0;f<g.length;f++)if(c(a.lineString(g[f],b.properties),d,e,f)===!1)return!1;break}})}function r(a,b,c){var d=c;q(a,function(a,e,f,g){e===0&&c===void 0?d=a:d=b(d,a,e,f,g)});return d}function s(b,c){c=c||{};if(!a.isObject(c))throw new Error("options is invalid");var d=c.featureIndex||0,e=c.multiFeatureIndex||0,f=c.geometryIndex||0,g=c.segmentIndex||0,h=c.properties,i;switch(b.type){case"FeatureCollection":d<0&&(d=b.features.length+d);h=h||b.features[d].properties;i=b.features[d].geometry;break;case"Feature":h=h||b.properties;i=b.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":i=b;break;default:throw new Error("geojson is invalid")}if(i===null)return null;d=i.coordinates;switch(i.type){case"Point":case"MultiPoint":return null;case"LineString":g<0&&(g=d.length+g-1);return a.lineString([d[g],d[g+1]],h,c);case"Polygon":f<0&&(f=d.length+f);g<0&&(g=d[f].length+g-1);return a.lineString([d[f][g],d[f][g+1]],h,c);case"MultiLineString":e<0&&(e=d.length+e);g<0&&(g=d[e].length+g-1);return a.lineString([d[e][g],d[e][g+1]],h,c);case"MultiPolygon":e<0&&(e=d.length+e);f<0&&(f=d[e].length+f);g<0&&(g=d[e][f].length-g-1);return a.lineString([d[e][f][g],d[e][f][g+1]],h,c)}throw new Error("geojson is invalid")}function t(b,c){c=c||{};if(!a.isObject(c))throw new Error("options is invalid");var d=c.featureIndex||0,e=c.multiFeatureIndex||0,f=c.geometryIndex||0,g=c.coordIndex||0,h=c.properties,i;switch(b.type){case"FeatureCollection":d<0&&(d=b.features.length+d);h=h||b.features[d].properties;i=b.features[d].geometry;break;case"Feature":h=h||b.properties;i=b.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":i=b;break;default:throw new Error("geojson is invalid")}if(i===null)return null;d=i.coordinates;switch(i.type){case"Point":return a.point(d,h,c);case"MultiPoint":e<0&&(e=d.length+e);return a.point(d[e],h,c);case"LineString":g<0&&(g=d.length+g);return a.point(d[g],h,c);case"Polygon":f<0&&(f=d.length+f);g<0&&(g=d[f].length+g);return a.point(d[f][g],h,c);case"MultiLineString":e<0&&(e=d.length+e);g<0&&(g=d[e].length+g);return a.point(d[e][g],h,c);case"MultiPolygon":e<0&&(e=d.length+e);f<0&&(f=d[e].length+f);g<0&&(g=d[e][f].length-g);return a.point(d[e][f][g],h,c)}throw new Error("geojson is invalid")}h.coordEach=b;h.coordReduce=c;h.propEach=d;h.propReduce=e;h.featureEach=f;h.featureReduce=i;h.coordAll=j;h.geomEach=k;h.geomReduce=l;h.flattenEach=m;h.flattenReduce=n;h.segmentEach=o;h.segmentReduce=p;h.lineEach=q;h.lineReduce=r;h.findSegment=s;h.findPoint=t}var k=!1;function l(){k||(k=!0,j());return i.exports}function c(a){switch(a){case void 0:return l()}}e.exports=c}),null);
/**
 * License: https://www.facebook.com/legal/license/t3hOLs8wlXy/
 */
__d("turf-bbox-5.1.5",["turf-meta-5.2.0"],(function(a,b,c,d,e,f){"use strict";function a(a){return a&&typeof a==="object"&&"default"in a?a["default"]:a}var g=a(b("turf-meta-5.2.0"));d={};var h={exports:d};function i(){var a=g();function b(b){var c=[Infinity,Infinity,-Infinity,-Infinity];a.coordEach(b,function(a){c[0]>a[0]&&(c[0]=a[0]),c[1]>a[1]&&(c[1]=a[1]),c[2]<a[0]&&(c[2]=a[0]),c[3]<a[1]&&(c[3]=a[1])});return c}h.exports=b;h.exports["default"]=b}var j=!1;function k(){j||(j=!0,i());return h.exports}function c(a){switch(a){case void 0:return k()}}e.exports=c}),null);
/**
 * License: https://www.facebook.com/legal/license/t3hOLs8wlXy/
 */
__d("turf-bbox-polygon-5.1.5",["turf-helpers-5.1.5"],(function(a,b,c,d,e,f){"use strict";function a(a){return a&&typeof a==="object"&&"default"in a?a["default"]:a}var g=a(b("turf-helpers-5.1.5"));d={};var h={exports:d};function i(){var a=g();function b(b){a.validateBBox(b);var c=Number(b[0]),d=Number(b[1]),e=Number(b[2]),f=Number(b[3]);if(b.length===6)throw new Error("@turf/bbox-polygon does not support BBox with 6 positions");b=[c,d];c=[c,f];f=[e,f];e=[e,d];return a.polygon([[b,e,f,c,b]])}h.exports=b;h.exports["default"]=b}var j=!1;function k(){j||(j=!0,i());return h.exports}function c(a){switch(a){case void 0:return k()}}e.exports=c}),null);
__d("turf-bbox",["turf-bbox-6.0.1"],(function(a,b,c,d,e,f){e.exports=b("turf-bbox-6.0.1")()}),null);
/**
 * License: https://www.facebook.com/legal/license/t3hOLs8wlXy/
 */
__d("turf-invariant-6.1.2",["turf-helpers-6.1.4"],(function(a,b,c,d,e,f){"use strict";function a(a){return a&&typeof a==="object"&&"default"in a?a["default"]:a}var g=a(b("turf-helpers-6.1.4")),h={},i={exports:h};function j(){Object.defineProperty(h,"__esModule",{value:!0});var a=g();function b(a){if(!a)throw new Error("coord is required");if(!Array.isArray(a)){if(a.type==="Feature"&&a.geometry!==null&&a.geometry.type==="Point")return a.geometry.coordinates;if(a.type==="Point")return a.coordinates}if(Array.isArray(a)&&a.length>=2&&!Array.isArray(a[0])&&!Array.isArray(a[1]))return a;throw new Error("coord must be GeoJSON Point or an Array of numbers")}h.getCoord=b;function c(a){if(Array.isArray(a))return a;if(a.type==="Feature"){if(a.geometry!==null)return a.geometry.coordinates}else if(a.coordinates)return a.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}h.getCoords=c;function d(b){if(b.length>1&&a.isNumber(b[0])&&a.isNumber(b[1]))return!0;if(Array.isArray(b[0])&&b[0].length)return d(b[0]);throw new Error("coordinates must only contain numbers")}h.containsNumber=d;function e(a,b,c){if(!b||!c)throw new Error("type and name required");if(!a||a.type!==b)throw new Error("Invalid input to "+c+": must be a "+b+", given "+a.type)}h.geojsonType=e;function f(a,b,c){if(!a)throw new Error("No feature passed");if(!c)throw new Error(".featureOf() requires a name");if(!a||a.type!=="Feature"||!a.geometry)throw new Error("Invalid input to "+c+", Feature with geometry required");if(!a.geometry||a.geometry.type!==b)throw new Error("Invalid input to "+c+": must be a "+b+", given "+a.geometry.type)}h.featureOf=f;function i(a,b,c){if(!a)throw new Error("No featureCollection passed");if(!c)throw new Error(".collectionOf() requires a name");if(!a||a.type!=="FeatureCollection")throw new Error("Invalid input to "+c+", FeatureCollection required");for(var d=0,a=a.features;d<a.length;d++){var e=a[d];if(!e||e.type!=="Feature"||!e.geometry)throw new Error("Invalid input to "+c+", Feature with geometry required");if(!e.geometry||e.geometry.type!==b)throw new Error("Invalid input to "+c+": must be a "+b+", given "+e.geometry.type)}}h.collectionOf=i;function j(a){return a.type==="Feature"?a.geometry:a}h.getGeom=j;function k(a,b){if(a.type==="FeatureCollection")return"FeatureCollection";if(a.type==="GeometryCollection")return"GeometryCollection";return a.type==="Feature"&&a.geometry!==null?a.geometry.type:a.type}h.getType=k}var k=!1;function l(){k||(k=!0,j());return i.exports}function c(a){switch(a){case void 0:return l()}}e.exports=c}),null);
/**
 * License: https://www.facebook.com/legal/license/t3hOLs8wlXy/
 */
__d("turf-boolean-point-in-polygon-6.0.1",["turf-invariant-6.1.2"],(function(a,b,c,d,e,f){"use strict";function a(a){return a&&typeof a==="object"&&"default"in a?a["default"]:a}var g=a(b("turf-invariant-6.1.2")),h={},i={exports:h};function j(){Object.defineProperty(h,"__esModule",{value:!0});var a=g();function b(b,e,f){f===void 0&&(f={});if(!b)throw new Error("point is required");if(!e)throw new Error("polygon is required");b=a.getCoord(b);var g=a.getGeom(e),h=g.type;e=e.bbox;g=g.coordinates;if(e&&d(b,e)===!1)return!1;h==="Polygon"&&(g=[g]);e=!1;for(h=0;h<g.length&&!e;h++)if(c(b,g[h][0],f.ignoreBoundary)){var i=!1,j=1;while(j<g[h].length&&!i)c(b,g[h][j],!f.ignoreBoundary)&&(i=!0),j++;i||(e=!0)}return e}h["default"]=b;function c(a,b,c){var d=!1;b[0][0]===b[b.length-1][0]&&b[0][1]===b[b.length-1][1]&&(b=b.slice(0,b.length-1));for(var e=0,f=b.length-1;e<b.length;f=e++){var g=b[e][0],h=b[e][1],i=b[f][0],j=b[f][1],k=a[1]*(g-i)+h*(i-a[0])+j*(a[0]-g)===0&&(g-a[0])*(i-a[0])<=0&&(h-a[1])*(j-a[1])<=0;if(k)return!c;k=h>a[1]!==j>a[1]&&a[0]<(i-g)*(a[1]-h)/(j-h)+g;k&&(d=!d)}return d}function d(a,b){return b[0]<=a[0]&&b[1]<=a[1]&&b[2]>=a[0]&&b[3]>=a[1]}}var k=!1;function l(){k||(k=!0,j());return i.exports}function c(a){switch(a){case void 0:return l()}}e.exports=c}),null);
/**
 * License: https://www.facebook.com/legal/license/t3hOLs8wlXy/
 */
__d("turf-line-segment-6.0.2",["turf-helpers-6.1.4","turf-invariant-6.1.2","turf-meta-6.0.2"],(function(a,b,c,d,e,f){"use strict";function a(a){return a&&typeof a==="object"&&"default"in a?a["default"]:a}var g=a(b("turf-helpers-6.1.4")),h=a(b("turf-invariant-6.1.2")),i=a(b("turf-meta-6.0.2")),j={},k={exports:j};function l(){Object.defineProperty(j,"__esModule",{value:!0});var a=g(),b=h(),c=i();function d(b){if(!b)throw new Error("geojson is required");var d=[];c.flattenEach(b,function(a){e(a,d)});return a.featureCollection(d)}function e(a,c){var d=[],e=a.geometry;if(e!==null){switch(e.type){case"Polygon":d=b.getCoords(e);break;case"LineString":d=[b.getCoords(e)]}d.forEach(function(b){b=f(b,a.properties);b.forEach(function(a){a.id=c.length,c.push(a)})})}}function f(b,c){var d=[];b.reduce(function(b,e){var f=a.lineString([b,e],c);f.bbox=k(b,e);d.push(f);return e});return d}function k(a,b){var c=a[0];a=a[1];var d=b[0];b=b[1];var e=c<d?c:d,f=a<b?a:b;c=c>d?c:d;d=a>b?a:b;return[e,f,c,d]}j["default"]=d}var m=!1;function n(){m||(m=!0,l());return k.exports}function c(a){switch(a){case void 0:return n()}}e.exports=c}),null);
/**
 * License: https://www.facebook.com/legal/license/t3hOLs8wlXy/
 */
__d("turf-line-intersect-6.0.2",["turf-helpers-6.1.4","turf-invariant-6.1.2","turf-line-segment-6.0.2","turf-meta-6.0.2","geojson-rbush-3.1.1"],(function(a,b,c,d,e,f){"use strict";function a(a){return a&&typeof a==="object"&&"default"in a?a["default"]:a}var g=a(b("turf-helpers-6.1.4")),h=a(b("turf-invariant-6.1.2")),i=a(b("turf-line-segment-6.0.2")),j=a(b("turf-meta-6.0.2")),k=a(b("geojson-rbush-3.1.1")),l={},m={exports:l};function n(){var a=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{"default":a}};Object.defineProperty(l,"__esModule",{value:!0});var b=g(),c=h(),d=a(i()),e=j(),f=a(k());function m(a,g){var h={},i=[];a.type==="LineString"&&(a=b.feature(a));g.type==="LineString"&&(g=b.feature(g));if(a.type==="Feature"&&g.type==="Feature"&&a.geometry!==null&&g.geometry!==null&&a.geometry.type==="LineString"&&g.geometry.type==="LineString"&&a.geometry.coordinates.length===2&&g.geometry.coordinates.length===2){var j=n(a,g);j&&i.push(j);return b.featureCollection(i)}var k=f["default"]();k.load(d["default"](g));e.featureEach(d["default"](a),function(a){e.featureEach(k.search(a),function(b){b=n(a,b);if(b){var d=c.getCoords(b).join(",");h[d]||(h[d]=!0,i.push(b))}})});return b.featureCollection(i)}function n(a,d){a=c.getCoords(a);d=c.getCoords(d);if(a.length!==2)throw new Error("<intersects> line1 must only contain 2 coordinates");if(d.length!==2)throw new Error("<intersects> line2 must only contain 2 coordinates");var e=a[0][0],f=a[0][1],g=a[1][0];a=a[1][1];var h=d[0][0],i=d[0][1],j=d[1][0];d=d[1][1];var k=(d-i)*(g-e)-(j-h)*(a-f);j=(j-h)*(f-i)-(d-i)*(e-h);d=(g-e)*(f-i)-(a-f)*(e-h);if(k===0)return j===0&&d===0?null:null;i=j/k;h=d/k;if(i>=0&&i<=1&&h>=0&&h<=1){j=e+i*(g-e);d=f+i*(a-f);return b.point([j,d])}return null}l["default"]=m}var o=!1;function p(){o||(o=!0,n());return m.exports}function c(a){switch(a){case void 0:return p()}}e.exports=c}),null);
/**
 * License: https://www.facebook.com/legal/license/t3hOLs8wlXy/
 */
__d("turf-polygon-to-line-6.0.3",["turf-helpers-6.1.4","turf-invariant-6.1.2"],(function(a,b,c,d,e,f){"use strict";function a(a){return a&&typeof a==="object"&&"default"in a?a["default"]:a}var g=a(b("turf-helpers-6.1.4")),h=a(b("turf-invariant-6.1.2")),i={},j={exports:i};function k(){Object.defineProperty(i,"__esModule",{value:!0});var a=g(),b=h();function c(a,c){c===void 0&&(c={});var f=b.getGeom(a);!c.properties&&a.type==="Feature"&&(c.properties=a.properties);switch(f.type){case"Polygon":return d(f,c);case"MultiPolygon":return e(f,c);default:throw new Error("invalid poly")}}i["default"]=c;function d(a,c){c===void 0&&(c={});var d=b.getGeom(a);d.type;d=d.coordinates;c=c.properties?c.properties:a.type==="Feature"?a.properties:{};return f(d,c)}i.polygonToLine=d;function e(c,d){d===void 0&&(d={});var e=b.getGeom(c);e.type;e=e.coordinates;var g=d.properties?d.properties:c.type==="Feature"?c.properties:{},h=[];e.forEach(function(a){h.push(f(a,g))});return a.featureCollection(h)}i.multiPolygonToLine=e;function f(b,c){return b.length>1?a.multiLineString(b,c):a.lineString(b[0],c)}i.coordsToLine=f}var l=!1;function m(){l||(l=!0,k());return j.exports}function c(a){switch(a){case void 0:return m()}}e.exports=c}),null);
/**
 * License: https://www.facebook.com/legal/license/t3hOLs8wlXy/
 */
__d("turf-boolean-disjoint-6.0.2",["turf-boolean-point-in-polygon-6.0.1","turf-line-intersect-6.0.2","turf-meta-6.0.2","turf-polygon-to-line-6.0.3"],(function(a,b,c,d,e,f){"use strict";function a(a){return a&&typeof a==="object"&&"default"in a?a["default"]:a}var g=a(b("turf-boolean-point-in-polygon-6.0.1")),h=a(b("turf-line-intersect-6.0.2")),i=a(b("turf-meta-6.0.2")),j=a(b("turf-polygon-to-line-6.0.3")),k={},l={exports:k};function m(){var a=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{"default":a}};Object.defineProperty(k,"__esModule",{value:!0});var b=a(g()),c=a(h()),d=i(),e=a(j());function f(a,b){var c=!0;d.flattenEach(a,function(a){d.flattenEach(b,function(b){if(c===!1)return!1;c=l(a.geometry,b.geometry)})});return c}function l(a,c){switch(a.type){case"Point":switch(c.type){case"Point":return!r(a.coordinates,c.coordinates);case"LineString":return!m(c,a);case"Polygon":return!b["default"](a,c)}break;case"LineString":switch(c.type){case"Point":return!m(a,c);case"LineString":return!n(a,c);case"Polygon":return!o(c,a)}break;case"Polygon":switch(c.type){case"Point":return!b["default"](c,a);case"LineString":return!o(a,c);case"Polygon":return!p(c,a)}}return!1}function m(a,b){for(var c=0;c<a.coordinates.length-1;c++)if(q(a.coordinates[c],a.coordinates[c+1],b.coordinates))return!0;return!1}function n(a,b){a=c["default"](a,b);return a.features.length>0?!0:!1}function o(a,d){for(var f=0,g=d.coordinates;f<g.length;f++){var h=g[f];if(b["default"](h,a))return!0}h=c["default"](d,e["default"](a));return h.features.length>0?!0:!1}function p(a,d){for(var f=0,g=a.coordinates[0];f<g.length;f++){var h=g[f];if(b["default"](h,d))return!0}for(h=0,g=d.coordinates[0];h<g.length;h++){f=g[h];if(b["default"](f,a))return!0}f=c["default"](e["default"](a),e["default"](d));return f.features.length>0?!0:!1}function q(a,b,c){var d=c[0]-a[0],e=c[1]-a[1],f=b[0]-a[0],g=b[1]-a[1];d=d*g-e*f;if(d!==0)return!1;if(Math.abs(f)>=Math.abs(g))if(f>0)return a[0]<=c[0]&&c[0]<=b[0];else return b[0]<=c[0]&&c[0]<=a[0];else if(g>0)return a[1]<=c[1]&&c[1]<=b[1];else return b[1]<=c[1]&&c[1]<=a[1]}function r(a,b){return a[0]===b[0]&&a[1]===b[1]}k["default"]=f}var n=!1;function o(){n||(n=!0,m());return l.exports}function c(a){switch(a){case void 0:return o()}}e.exports=c}),null);
/**
 * License: https://www.facebook.com/legal/license/t3hOLs8wlXy/
 */
__d("turf-boolean-intersects-6.0.2",["turf-boolean-disjoint-6.0.2","turf-meta-6.0.2"],(function(a,b,c,d,e,f){"use strict";function a(a){return a&&typeof a==="object"&&"default"in a?a["default"]:a}var g=a(b("turf-boolean-disjoint-6.0.2")),h=a(b("turf-meta-6.0.2")),i={},j={exports:i};function k(){var a=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{"default":a}};Object.defineProperty(i,"__esModule",{value:!0});var b=a(g()),c=h();function d(a,d){var e=!1;c.flattenEach(a,function(a){c.flattenEach(d,function(c){if(e===!0)return!0;e=!b["default"](a.geometry,c.geometry)})});return e}i["default"]=d}var l=!1;function m(){l||(l=!0,k());return j.exports}function c(a){switch(a){case void 0:return m()}}e.exports=c}),null);
/**
 * License: https://www.facebook.com/legal/license/t3hOLs8wlXy/
 */
__d("turf-destination-6.0.1",["turf-helpers-6.1.4","turf-invariant-6.1.2"],(function(a,b,c,d,e,f){"use strict";function a(a){return a&&typeof a==="object"&&"default"in a?a["default"]:a}var g=a(b("turf-helpers-6.1.4")),h=a(b("turf-invariant-6.1.2")),i={},j={exports:i};function k(){Object.defineProperty(i,"__esModule",{value:!0});var a=g(),b=h();function c(c,d,e,f){f===void 0&&(f={});c=b.getCoord(c);var g=a.degreesToRadians(c[0]);c=a.degreesToRadians(c[1]);e=a.degreesToRadians(e);d=a.lengthToRadians(d,f.units);var h=Math.asin(Math.sin(c)*Math.cos(d)+Math.cos(c)*Math.sin(d)*Math.cos(e));g=g+Math.atan2(Math.sin(e)*Math.sin(d)*Math.cos(c),Math.cos(d)-Math.sin(c)*Math.sin(h));e=a.radiansToDegrees(g);d=a.radiansToDegrees(h);return a.point([e,d],f.properties)}i["default"]=c}var l=!1;function m(){l||(l=!0,k());return j.exports}function c(a){switch(a){case void 0:return m()}}e.exports=c}),null);
/**
 * License: https://www.facebook.com/legal/license/t3hOLs8wlXy/
 */
__d("turf-circle-6.0.1",["turf-destination-6.0.1","turf-helpers-6.1.4"],(function(a,b,c,d,e,f){"use strict";function a(a){return a&&typeof a==="object"&&"default"in a?a["default"]:a}var g=a(b("turf-destination-6.0.1")),h=a(b("turf-helpers-6.1.4")),i={},j={exports:i};function k(){Object.defineProperty(i,"__esModule",{value:!0});var a=g(),b=h();function c(c,d,e){e===void 0&&(e={});var f=e.steps||64,g=e.properties?e.properties:!Array.isArray(c)&&c.type==="Feature"&&c.properties?c.properties:{},h=[];for(var i=0;i<f;i++)h.push(a["default"](c,d,i*-360/f,e).geometry.coordinates);h.push(h[0]);return b.polygon([h],g)}i["default"]=c}var l=!1;function m(){l||(l=!0,k());return j.exports}function c(a){switch(a){case void 0:return m()}}e.exports=c}),null);
__d("turf-circle",["turf-circle-6.0.1"],(function(a,b,c,d,e,f){e.exports=b("turf-circle-6.0.1")()}),null);
/**
 * License: https://www.facebook.com/legal/license/t3hOLs8wlXy/
 */
__d("turf-distance-6.0.1",["turf-invariant-6.1.2","turf-helpers-6.1.4"],(function(a,b,c,d,e,f){"use strict";function a(a){return a&&typeof a==="object"&&"default"in a?a["default"]:a}var g=a(b("turf-invariant-6.1.2")),h=a(b("turf-helpers-6.1.4")),i={},j={exports:i};function k(){Object.defineProperty(i,"__esModule",{value:!0});var a=g(),b=h();function c(c,d,e){e===void 0&&(e={});c=a.getCoord(c);d=a.getCoord(d);var f=b.degreesToRadians(d[1]-c[1]),g=b.degreesToRadians(d[0]-c[0]);c=b.degreesToRadians(c[1]);d=b.degreesToRadians(d[1]);f=Math.pow(Math.sin(f/2),2)+Math.pow(Math.sin(g/2),2)*Math.cos(c)*Math.cos(d);return b.radiansToLength(2*Math.atan2(Math.sqrt(f),Math.sqrt(1-f)),e.units)}i["default"]=c}var l=!1;function m(){l||(l=!0,k());return j.exports}function c(a){switch(a){case void 0:return m()}}e.exports=c}),null);
/**
 * License: https://www.facebook.com/legal/license/t3hOLs8wlXy/
 */
__d("turf-envelope-5.1.5",["turf-bbox-5.1.5","turf-bbox-polygon-5.1.5"],(function(a,b,c,d,e,f){"use strict";function a(a){return a&&typeof a==="object"&&"default"in a?a["default"]:a}var g=a(b("turf-bbox-5.1.5")),h=a(b("turf-bbox-polygon-5.1.5"));d={};var i={exports:d};function j(){function a(a){return a&&typeof a==="object"&&"default"in a?a["default"]:a}var b=a(g()),c=a(h());function d(a){return c(b(a))}i.exports=d;i.exports["default"]=d}var k=!1;function l(){k||(k=!0,j());return i.exports}function c(a){switch(a){case void 0:return l()}}e.exports=c}),null);
__d("turf-envelope",["turf-envelope-5.1.5"],(function(a,b,c,d,e,f){e.exports=b("turf-envelope-5.1.5")()}),null);
/**
 * License: https://www.facebook.com/legal/license/t3hOLs8wlXy/
 */
__d("turf-square-grid-6.0.2",["turf-boolean-intersects-6.0.2","turf-distance-6.0.1","turf-helpers-6.1.4"],(function(a,b,c,d,e,f){"use strict";function a(a){return a&&typeof a==="object"&&"default"in a?a["default"]:a}var g=a(b("turf-boolean-intersects-6.0.2")),h=a(b("turf-distance-6.0.1")),i=a(b("turf-helpers-6.1.4")),j={},k={exports:j};function l(){var a=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{"default":a}};Object.defineProperty(j,"__esModule",{value:!0});var b=a(g()),c=a(h()),d=i();function e(a,e,f){f===void 0&&(f={});var g=[],h=a[0],i=a[1],j=a[2];a=a[3];var k=e/c["default"]([h,i],[j,i],f);k=k*(j-h);e=e/c["default"]([h,i],[h,a],f);e=e*(a-i);j=j-h;a=a-i;var l=Math.floor(j/k),m=Math.floor(a/e);j=(j-l*k)/2;a=(a-m*e)/2;h=h+j;for(j=0;j<l;j++){var n=i+a;for(var o=0;o<m;o++){var p=d.polygon([[[h,n],[h,n+e],[h+k,n+e],[h+k,n],[h,n]]],f.properties);f.mask?b["default"](f.mask,p)&&g.push(p):g.push(p);n+=e}h+=k}return d.featureCollection(g)}j["default"]=e}var m=!1;function n(){m||(m=!0,l());return k.exports}function c(a){switch(a){case void 0:return n()}}e.exports=c}),null);
__d("turf-square-grid",["turf-square-grid-6.0.2"],(function(a,b,c,d,e,f){e.exports=b("turf-square-grid-6.0.2")()}),null);/*FB_PKG_DELIM*/
__d("PluginLoggedOutUserTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(a){b("GeneratedLoggerUtils").log("logger:PluginLoggedOutUserLoggerConfig",this.$1,b("Banzai").BASIC,a)};c.logVital=function(a){b("GeneratedLoggerUtils").log("logger:PluginLoggedOutUserLoggerConfig",this.$1,b("Banzai").VITAL,a)};c.logImmediately=function(a){b("GeneratedLoggerUtils").log("logger:PluginLoggedOutUserLoggerConfig",this.$1,{signal:!0},a)};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setHref=function(a){this.$1.href=a;return this};c.setIsSDK=function(a){this.$1.is_sdk=a;return this};c.setPluginAppID=function(a){this.$1.plugin_app_id=a;return this};c.setPluginName=function(a){this.$1.plugin_name=a;return this};c.setRefererURL=function(a){this.$1.referer_url=a;return this};c.updateExtraData=function(a){a=b("nullthrows")(b("GeneratedLoggerUtils").serializeMap(a));b("GeneratedLoggerUtils").checkExtraDataFieldNames(a,g);this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.addToExtraData=function(a,b){var c={};c[a]=b;return this.updateExtraData(c)};return a}();var g={href:!0,is_sdk:!0,plugin_app_id:!0,plugin_name:!0,referer_url:!0};f["default"]=a}),66);
__d("OxsightsPredictionTopSegmentsChartQuery.graphql",["cr:5221"],(function(a,b,c,d,e,f){"use strict";e.exports=b("cr:5221")}),null);
__d("ChatPluginSetupFlowDetailContainerQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="4534777516646698"}),null);
__d("ChatPluginSetupFlowDetailContainerQuery.graphql",["ChatPluginSetupFlowDetailContainerQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"nuxID"},c={defaultValue:null,kind:"LocalArgument",name:"pageID"},d={defaultValue:null,kind:"LocalArgument",name:"userID"},e=[{kind:"Variable",name:"id",variableName:"userID"}],f={alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null},g=[{kind:"Variable",name:"id",variableName:"pageID"}],h={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"verification_status",storageKey:null},j={alias:null,args:null,kind:"ScalarField",name:"profile_pic_uri",storageKey:null},k={alias:null,args:null,kind:"ScalarField",name:"websites",storageKey:null},l={alias:null,args:null,concreteType:"TChatPluginAutomationConfigData",kind:"LinkedField",name:"messenger_chat_plugin_automation_config",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_autopopulated",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"enabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"greeting_message",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"faq_enabled",storageKey:null},{alias:null,args:null,concreteType:"TChatPluginAutomationFAQEntry",kind:"LinkedField",name:"faq_list",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"question",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"response_body",storageKey:null}],storageKey:null}],storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"alignment",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"away_greeting",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"away_hours_enabled",storageKey:null},p={alias:null,args:null,kind:"ScalarField",name:"default_locale",storageKey:null},q={alias:null,args:null,kind:"ScalarField",name:"desktop_bottom_spacing",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"desktop_side_spacing",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"desktop_entry_point_size",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"mobile_entry_point_size",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"desktop_window_size",storageKey:null},v={alias:null,args:null,kind:"ScalarField",name:"entry_point_icon",storageKey:null},w={alias:null,args:null,kind:"ScalarField",name:"entry_point_label",storageKey:null},x={alias:null,args:null,kind:"ScalarField",name:"greeting_dialog_display",storageKey:null},y={alias:null,args:null,kind:"ScalarField",name:"guest_mode_enabled",storageKey:null},z={alias:null,args:null,kind:"ScalarField",name:"logged_in_greeting",storageKey:null},A={alias:null,args:null,kind:"ScalarField",name:"logged_out_greeting",storageKey:null},B={alias:null,args:null,kind:"ScalarField",name:"mobile_bottom_spacing",storageKey:null},C={alias:null,args:null,kind:"ScalarField",name:"mobile_optin",storageKey:null},D={alias:null,args:null,kind:"ScalarField",name:"mobile_side_spacing",storageKey:null},E={alias:null,args:null,kind:"ScalarField",name:"theme_color",storageKey:null},F={alias:null,args:null,kind:"ScalarField",name:"whitelisted_domains",storageKey:null},G={alias:null,args:null,concreteType:"TChatPluginReEngagementConfigData",kind:"LinkedField",name:"messenger_chat_plugin_reengagement_config",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"opt_in_message_enabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"collapsed_opt_in_message_title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"expanded_opt_in_message_title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"collapsed_opt_in_message_text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"expanded_opt_in_message_text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cadence",storageKey:null}],storageKey:null},H={alias:null,args:null,concreteType:"PagesAdminMessagingSettingsPageMessagingPlugin",kind:"LinkedField",name:"page_comet_admin_messaging_settings",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"response_time",storageKey:null}],storageKey:null},I=[{kind:"Variable",name:"nux_id",variableName:"nuxID"}],J={kind:"InlineFragment",selections:[{args:null,documentName:"ChatPluginSetupFlowDetailContainerQuery",fragmentName:"ChatPluginSetupFlowFBNuxTour_nux",fragmentPropName:"nux",kind:"ModuleImport"}],type:"DefaultNUX",abstractKey:null},K={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{fragment:{argumentDefinitions:[a,c,d],kind:"Fragment",metadata:null,name:"ChatPluginSetupFlowDetailContainerQuery",selections:[{alias:null,args:e,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[f],storageKey:null},{alias:null,args:g,concreteType:"Page",kind:"LinkedField",name:"page",plural:!1,selections:[h,i,j,k,l,{alias:null,args:null,concreteType:"LiveChatCustomizationConfig",kind:"LinkedField",name:"messenger_live_chat_customization_config",plural:!1,selections:[m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F],storageKey:null},G,H],storageKey:null},{alias:"chatPluginSetupFlowNux",args:I,concreteType:null,kind:"LinkedField",name:"nux",plural:!1,selections:[J],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[c,d,a],kind:"Operation",name:"ChatPluginSetupFlowDetailContainerQuery",selections:[{alias:null,args:e,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[f,K],storageKey:null},{alias:null,args:g,concreteType:"Page",kind:"LinkedField",name:"page",plural:!1,selections:[h,i,j,k,l,{alias:null,args:null,concreteType:"LiveChatCustomizationConfig",kind:"LinkedField",name:"messenger_live_chat_customization_config",plural:!1,selections:[m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,K],storageKey:null},G,H,K],storageKey:null},{alias:"chatPluginSetupFlowNux",args:I,concreteType:null,kind:"LinkedField",name:"nux",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},J,K],storageKey:null}]},params:{id:b("ChatPluginSetupFlowDetailContainerQuery_facebookRelayOperation"),metadata:{live:{config_id:"relay_web_business_inbox_lead_email_thread_detail"}},name:"ChatPluginSetupFlowDetailContainerQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("ChatPluginSetupFlowAutomationMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5582485465111184"}),null);
__d("ChatPluginSetupFlowAutomationMutation.graphql",["ChatPluginSetupFlowAutomationMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],c=[{kind:"Variable",name:"data",variableName:"input"}],d={alias:null,args:null,kind:"ScalarField",name:"enabled",storageKey:null},e={alias:null,args:null,kind:"ScalarField",name:"greeting_message",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"faq_enabled",storageKey:null},g={alias:null,args:null,concreteType:"TChatPluginAutomationFAQEntry",kind:"LinkedField",name:"faq_list",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"question",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"response_body",storageKey:null}],storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"ChatPluginSetupFlowAutomationMutation",selections:[{alias:null,args:c,concreteType:"UpsertChatPluginAutomationConfigWithErrorLoggingResponsePayload",kind:"LinkedField",name:"upsert_chat_plugin_automation_config_with_error_logging",plural:!1,selections:[{alias:null,args:null,concreteType:"ChatPluginAutomationConfig",kind:"LinkedField",name:"chat_plugin_automation_config",plural:!1,selections:[d,e,f,g],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"ChatPluginSetupFlowAutomationMutation",selections:[{alias:null,args:c,concreteType:"UpsertChatPluginAutomationConfigWithErrorLoggingResponsePayload",kind:"LinkedField",name:"upsert_chat_plugin_automation_config_with_error_logging",plural:!1,selections:[{alias:null,args:null,concreteType:"ChatPluginAutomationConfig",kind:"LinkedField",name:"chat_plugin_automation_config",plural:!1,selections:[d,e,f,g,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:b("ChatPluginSetupFlowAutomationMutation_facebookRelayOperation"),metadata:{},name:"ChatPluginSetupFlowAutomationMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("ChatPluginSetupFlowReengagementMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5109259452466031"}),null);
__d("ChatPluginSetupFlowReengagementMutation.graphql",["ChatPluginSetupFlowReengagementMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],c=[{kind:"Variable",name:"data",variableName:"input"}],d={alias:null,args:null,kind:"ScalarField",name:"opt_in_message_enabled",storageKey:null},e={alias:null,args:null,kind:"ScalarField",name:"collapsed_opt_in_message_title",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"expanded_opt_in_message_title",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"collapsed_opt_in_message_text",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"expanded_opt_in_message_text",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"cadence",storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"ChatPluginSetupFlowReengagementMutation",selections:[{alias:null,args:c,concreteType:"UpsertChatPluginReengagementConfigResponsePayload",kind:"LinkedField",name:"upsert_chat_plugin_reengagement_config",plural:!1,selections:[{alias:null,args:null,concreteType:"ChatPluginReengagementConfig",kind:"LinkedField",name:"chat_plugin_reengagement_config",plural:!1,selections:[d,e,f,g,h,i],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"ChatPluginSetupFlowReengagementMutation",selections:[{alias:null,args:c,concreteType:"UpsertChatPluginReengagementConfigResponsePayload",kind:"LinkedField",name:"upsert_chat_plugin_reengagement_config",plural:!1,selections:[{alias:null,args:null,concreteType:"ChatPluginReengagementConfig",kind:"LinkedField",name:"chat_plugin_reengagement_config",plural:!1,selections:[d,e,f,g,h,i,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:b("ChatPluginSetupFlowReengagementMutation_facebookRelayOperation"),metadata:{},name:"ChatPluginSetupFlowReengagementMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("AdsUEditorComponentScopes",["keyMirror"],(function(a,b,c,d,e,f,g){"use strict";a=c("keyMirror")({EDITOR:null,FIELD:null,SECTION:null});b=a;g["default"]=b}),98);
__d("AdsUEditorErrorBoundaryContext",["ErrorMetadata","react"],(function(a,b,c,d,e,f,g){"use strict";a=d("react");b={metadata:new(c("ErrorMetadata"))(),pluginKey:"",scope:void 0};e=a.createContext(b);g["default"]=e}),98);
__d("ScenarioContext",["emptyFunction","react"],(function(a,b,c,d,e,f,g){"use strict";a=d("react");b={fail:c("emptyFunction")};e=a.createContext(b);g["default"]=e}),98);
__d("adsDraftIsUsingLoginAs",["AdsCurrentUser"],(function(a,b,c,d,e,f,g){"use strict";function a(){return!!c("AdsCurrentUser").employeeID}g["default"]=a}),98);
__d("AdsErrorBoundary.react",["AdsFluxContextInstrumentation","AdsInterfacesLoggerUtils","AdsUEditorComponentScopes","AdsUEditorErrorBoundaryContext","CurrentUser","ErrorBoundary.react","ScenarioContext","adsDraftIsUsingLoginAs","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function i(a,b,c){d("AdsInterfacesLoggerUtils").logCriticalException(a,{action_type_on_error:d("AdsFluxContextInstrumentation").getLastAction(),error_type:b,module_name:c})}var j=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}var d=a.prototype;d.onHandleError=function(a,b){var c;b=(c=(c=this.props.moduleName)!=null?c:b)!=null?c:"unknown module name";this.context.scope!=null?i(a,"UEDITOR_ERROR_BOUNDARY",b):i(a,"ERROR_BOUNDARY",b);this.props.onError!=null&&this.props.onError(a,b)};d.render=function(){var a,b=this,d=(a=this.props.fallbackComponent)!=null?a:k,e={};a=(a=this.props.moduleName)!=null?a:"unknown module name";this.context.scope!=null?(e.metadata=this.context.metadata,this.context.scope===c("AdsUEditorComponentScopes").EDITOR?(e.messageFormat="AdsErrorBoundary from %s rendered by %s",e.messageParams=[a,this.context.moduleName]):(e.messageFormat="AdsErrorBoundary from %s rendered by the plugin %s",e.messageParams=[a,this.context.pluginKey])):(e.metadata=this.props.metadata,e.messageFormat="AdsErrorBoundary from %s",e.messageParams=[a]);return h.jsx(c("ScenarioContext").Consumer,{children:function(a){return h.jsx(c("ErrorBoundary.react"),{context:e,fallback:function(a,b){return h.jsx(d,{error:a,moduleName:b})},forceResetErrorCount:b.props.forceResetErrorCount,onError:function(d,c){b.onHandleError(d,c),a.fail()},children:b.props.children})}})};return a}(h.Component);j.contextType=c("AdsUEditorErrorBoundaryContext");j.withAdsErrorBoundary=a;function k(a){var b=a.error;a=a.moduleName;return c("CurrentUser").isEmployee()||c("adsDraftIsUsingLoginAs")()?a+" failed to load with error: "+b.toString():null}function a(a,b,c){return function(d){return h.jsx(j,{forceResetErrorCount:b,moduleName:c,children:h.jsx(a,babelHelpers["extends"]({},d))})}}g["default"]=j}),98);
__d("AHGUtils",["CurrentBusinessUser","URI","isTruthy"],(function(a,b,c,d,e,f,g){"use strict";var h="https://www.facebook.com/business/help/";function a(a,b){a=new(c("URI"))(h+a);if(c("isTruthy")(b))for(var b=b,e=Array.isArray(b),f=0,b=e?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=b.length)break;g=b[f++]}else{f=b.next();if(f.done)break;g=f.value}g=g;var i=g[0];g=g[1];a.addQueryData(i,g)}d("CurrentBusinessUser").isFacebookWorkAccount&&a.setSubdomain("business");return a}g.getHelpCenterURI=a}),98);
__d("AdsUniqueMetricsID",[],(function(a,b,c,d,e,f){"use strict";a="283579896000936";b="1738164643098669";c="1575448755848995";d="460276478298895";e="310485426154135";var g="282701548912119",h="299600627522144",i="1313814228748488",j="2396060560411130",k="239549606692303",l="565438227338844",m="1553812854758861",n="785320518788795",o="2406430152931515",p="139128364684349",q="611432918970668",r="1695754927158071",s="172764286113080",t="151451521590943",u="235457266642587",v="1619591734742116",w="146070805942156",x="153514848493595",y="1730527393892983",z="417293491972212",A="451202588606868",B="355670007911605",C="742478679120153",D="296463804090290",E="1082085278508457",F="279369167153556",G="621956575422138",H="439197323479039",I="397103717129942",J="153514848493595",K="620275848114281",L="144576119557578",M="378093516274697",N="1132465490107046",O="458681590974355",P="183277585892925",Q="120325381656392",R="1533285223454011",S="2343035149322466",T="3171236526530970",U="865384580786591",V="1720288338140238",W="1016122818401732",X="517601898571657",Y="574057082992105",Z="162567804385118",$="1792720544284355",aa="205614130852988",ba="782660422528806",ca="3171236526530970",da="558063628079184",ea="131439120265224",fa="181058782494426",ga="447934475640650",ha="397103717129942",ia="721422165168355",ja="331612538028890",ka="337196340694086",la="480968138771025";f.AdsUniqueMetricsHelpID=a;f.ABOUT_AB_TEST=b;f.ABOUT_HOLDOUT_TEST=c;f.ABOUT_ATTRIBUTION_SETTING=d;f.ABOUT_BRAND_IMPACT_TEST=e;f.ABOUT_NEW_ADS_MANAGER=g;f.ABOUT_OPTIMAL_STRATEGY_CBO_TEST=h;f.BRAND_LIFT_RESULTS=i;f.BRAND_LIFT_TEST_BEST_PRACTICES=j;f.CONVERSION_LIFT_BAYESIAN_HPD_INTERVAL=k;f.CREATING_AB_TEST_WITH_HOLDOUT=l;f.CREATING_BRAND_LIFT=m;f.EPD_UPDATE=n;f.ESTIMATED_METRIC=o;f.IOS_14_UPDATES=p;f.RESULTS=q;f.STUDY_GUIDANCE_OLD_REPORTS=r;f.TURN_AD_ON_OR_OFF=s;f.CURRENCY_HELP_ID=t;f.APP_EVENT_CMS_ID=u;f.BID_AMOUNT_CMS_ID=v;f.BILLING_EVENT_CMSID=w;f.CAMPAIGN_GROUP_BUDGET=x;f.CONVERSION_WINDOW_CMSID=y;f.LPV_CMS_ID=z;f.MESSAGE_REPLIES_CMS_IS=A;f.OPTIMIZATION_GOAL_CMSID=B;f.TURN_ON_PIXEL_TRACKING_CMSID=C;f.ROAS_CMS_ID=D;f.TRAFFIC_LINK_CLICKS_TO_CONVERSION_CMS_ID=E;f.LEAD_GEN_DELIVERY_OPTIMIZATION_CMS_ID=F;f.CAMPAIGN_CREATION_ARTICLE_ID=G;f.ABOUT_CUSTOM_METRIC_CMS_ID=H;f.DYNAMIC_ADS_CMS_ID=I;f.ABOUT_CAMPAIGN_BUDGET_OPTIMIZATION_CMS_ID=J;f.CREATE_CATALOG_SET_CMS_ID=K;f.CREATE_RETARGETING_CAMPAIGN_CMS_ID=L;f.BROAD_AUDIACE_FOR_DYNAMIC_ADS_CMS_ID=M;f.CREATE_DYNAMIC_AD_CMS_ID=N;f.ABOUT_ACTIONS_ATTRIBUTED_TO_ADD_CMS_ID=O;f.PAGE_REQUEST_PENDING_HELP_ARTICLE_ID=P;f.DATA_FEED_FIELDS_CMS_ID=Q;f.ABOUT_TRIP_CONSIDERATION_CMS_ID=R;f.ABOUT_FACEBOOK_SHOPS_CMS_ID=S;f.ABOUT_SAIP_CMS_ID=T;f.ABOUT_TWO_FACTOR_AUTH_CMS_ID=U;f.ABOUT_DYNAMIC_EXPERIENCES_CMS_ID=V;f.ADD_URL_PARAMS_CMS_ID=W;f.CUSTOMIZE_DYNAMIC_AD_CREATIVE_CMS_ID=X;f.TRAVEL_ADS_CMS_ID=Y;f.IN_DEVELOPMENT_CMS_ID=Z;f.ABOUT_ABOUT_VIDEO_ADS_METRIC_CMS_ID=$;f.MBS_CMS_ID=aa;f.NEW_PAGES_EXPERIENCE_CMS_ID=ba;f.PROMOTE_SHOP_ADS=ca;f.ABOUT_DISTRIBUTION_SCORE_CMS_ID=da;f.COUPON_AD_CREDIT_ID=ea;f.ESTIMATED_IN_DEVELOPMENT_METRIC_CMS_ID=fa;f.CREATE_CTWA_ADS_IN_AM_CMS_ID=ga;f.ABOUT_ADVANTAGE_PLUS_CATALOG=ha;f.AGGREGATED_EVENT_MEASUREMENT=ia;f.AGGREGATED_EVENT_MEASUREMENT_AND_SKAN=ja;f.EVENT_COUNT_DIFFERENCE_IN_ADS_AND_EVENT_MANAGER=ka;f.AUDIENCE_COUNT_AND_META_PIXEL_DIFFERENCES=la}),66);
__d("AdsUniqueMetricsHelpID",["AHGUtils","AdsUniqueMetricsID"],(function(a,b,c,d,e,f,g){"use strict";function a(){return d("AHGUtils").getHelpCenterURI(d("AdsUniqueMetricsID").AdsUniqueMetricsHelpID).toString()}g.getUniqueMetricsHelpURL=a}),98);
__d("AdsUtils",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useRef;function i(a){return a===Object(a)}function a(a){return Array.isArray(a)||typeof a==="string"?a.length:i(a)?Object.keys(a).length:0}function b(a,b,c){var d={};for(var e=0;e<a.length;++e)d[a[e][b]]=c===void 0?a[e]:a[e][c];return d}function j(a){var b=a;Array.isArray(a)?b=a.map(j):i(a)&&(b={},Object.keys(a).forEach(function(c){return b[c]=j(a[c])}));return b}function k(a){return a.replace(/([a-z])([A-Z])/g,"$1_$2").toLowerCase()}function l(a){return a.replace(/_[a-z]/g,function(a){return a.charAt(1).toUpperCase()})}function m(a,b,c){var d={},e=Object.keys(babelHelpers["extends"]({},a,b));for(var f=0;f<e.length;f++){var g=e[f],h=c(Object.prototype.hasOwnProperty.call(a,g),Object.prototype.hasOwnProperty.call(b,g));h<0?d[g]=a[g]:h>0&&(d[g]=b[g])}return d}function c(a,b){return m(a,b,function(a,b){return a&&b?-1:0})}function n(a,b){if(Array.isArray(a)&&Array.isArray(b)){if(a.length!==b.length)return!1;for(var c=0;c<a.length;++c)if(!n(a[c],b[c]))return!1;return!0}if(i(a)&&i(b)){c=Object.keys(a);for(var d=0;d<c.length;d++){var e=c[d];if(!Object.prototype.hasOwnProperty.call(b,e))return!1;if(!n(a[e],b[e]))return!1}return!0}return a==b}function e(a){var b={};Object.keys(a).forEach(function(c){var d=l(c);b[d]=a[c]});return b}function f(a){var b={};Object.keys(a).forEach(function(c){var d=k(c);b[d]=a[c]});return b}function o(a){var b=h(!1);if(b.current)return;a();b.current=!0}g.isObject=i;g.count=a;g.indexedMap=b;g.clone=j;g.underscoreKey=k;g.camelCaseKey=l;g.mapIntersectKey=c;g.isEqualWeak=n;g.underscoreToCamelCaseKeys=e;g.camelCaseToUnderscoreKeys=f;g.useExecuteOnceBeforeRender=o}),98);
__d("XWebLanguageControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/language/",Object.freeze({page_style:1}),void 0);b=a;g["default"]=b}),98);
__d("UFACMsiteBottomMenu.react",["fbt","ix","TetraList.react","TetraListCell.react","UFACLogoutContext","XDYICheckpointControllerRouteBuilder","XWebLanguageControllerRouteBuilder","fbicon","getRequestConstUri","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");function a(a){var b;a=a.canShowDYI;var e=d("UFACLogoutContext").useUFACLogout();b=(b=c("XWebLanguageControllerRouteBuilder").buildUri({}).setDomain(c("getRequestConstUri")().getDomain()))==null?void 0:(b=b.setSubDomain("m"))==null?void 0:b.setProtocol("https");return j.jsx("div",{className:"xamitd3 xdt5ytf x14vqqas x14lw9ws xlbn5yj",children:j.jsxs(c("TetraList.react"),{children:[b?j.jsx(c("TetraListCell.react"),{addOnPrimary:{icon:d("fbicon")._(i("487622"),20),size:36,type:"contained-icon"},bodyColor:"secondary",headline:h._("Change Language"),level:3,linkProps:{replace:!1,url:b.toString()},selected:!1}):null,a?j.jsx(c("TetraListCell.react"),{addOnPrimary:{icon:d("fbicon")._(i("489713"),20),size:36,type:"contained-icon"},bodyColor:"secondary",headline:h._("Download your information"),level:3,linkProps:{url:c("XDYICheckpointControllerRouteBuilder").buildURL({referrer:"disabled_checkpoint"})},selected:!1}):null,j.jsx(c("TetraListCell.react"),{addOnPrimary:{icon:d("fbicon")._(i("951888"),20),size:36,type:"contained-icon"},bodyColor:"secondary",headline:h._("Log Out"),level:3,onPress:function(){return e()},selected:!1})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PrivacyCenterGating",["gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("gkx")("7908")}g.getShouldRedirectPrivacyBasicsToPrivacyCenter=a}),98);
__d("Newline.react",[],(function(a,b,c,d,e,f){"use strict";a="br";f["default"]=a}),66);
__d("GeoPrivateHighlighted.react",["isStringNullOrEmpty","react","stylex","useGeoTheme"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useMemo;function a(a){var b=a["data-testid"],d=a.children,e=a.query,f=d.toString(),g=j();return i(function(){if(c("isStringNullOrEmpty")(e))return f;var a=f.toLowerCase().indexOf(e.toLowerCase());if(a===-1)return f;var b=a+e.length-1,d=f.slice(0,a);a=f.slice(a,b+1);b=f.slice(b+1);return h.jsxs(h.Fragment,{children:[d,h.jsx("span",{className:c("stylex")(g),"data-testid":void 0,children:a}),b]})},[e,f,b,g])}function j(){var a=c("useGeoTheme")(),b=a.selectBorderRadius,d=a.selectStaticBackgroundColor;a=a.selectTextColor;return[b({context:"addon"}),d({surface:"info"}),a({color:"inverted"})]}g["default"]=a}),98);
__d("GeoPrivateWebARIAComboboxProvider",["emptyFunction","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useMemo,j=b.useState,k=h.createContext({activeDescendant:null,setActiveDescendant:c("emptyFunction")});function a(a){a=a.children;var b=j(null),c=b[0],d=b[1];b=i(function(){return{activeDescendant:c,setActiveDescendant:d}},[c]);return h.jsx(k.Provider,{value:b,children:a})}a.displayName=a.name+" [from "+f.id+"]";g.WebARIAComboboxContext=k;g.WebARIAComboboxProvider=a}),98);
__d("useGeoPrivateWebARIAComboboxOption",["GeoPrivateWebARIAComboboxProvider","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useContext;function a(a){var b=h(d("GeoPrivateWebARIAComboboxProvider").WebARIAComboboxContext);b=b.activeDescendant;var c=a;return{accessibilityProps:{id:c,role:"option"},isActiveDescendant:a===b}}g["default"]=a}),98);
__d("GeoBaseSearchableSelectorItem.react",["BUIPrivateDisabledFocusContext","GeoMediaItem.react","GeoPrivateBaseSelectorOption.react","GeoPrivateHighlighted.react","GeoPrivateMakeComponent","GeoPrivateSearchableSelectorItemContext","isStringNullOrEmpty","react","useGeoPrivateWebARIAComboboxOption","useGeoSelection"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useContext,j=b.useMemo;function a(a,b){var d=a.description,e=a.fit;e=e===void 0?"cover":e;var f=a.label,g=a.media,k=a.mediaGroup,l=a.ratio,m=a.truncate;m=m===void 0?"both":m;a=babelHelpers.objectWithoutPropertiesLoose(a,["description","fit","label","media","mediaGroup","ratio","truncate"]);var n=i(c("GeoPrivateSearchableSelectorItemContext")),o=n.binaryControlRenderer,p=n.disabledMessage,q=n.isDisabled,r=n.queryString,s=n.searchInclusions,t=n.entry;n=n.ratio;var u=c("useGeoSelection")(t),v=u.isSelected,w=u.setSelection,x=u.toggleSelection;u=u.isSingleSelection;var y=j(function(){return h.jsx(c("GeoPrivateHighlighted.react"),{query:r,children:f})},[f,r]),z=j(function(){if(c("isStringNullOrEmpty")(d==null?void 0:d.toString()))return null;return s==="description"&&d!=null?h.jsx(c("GeoPrivateHighlighted.react"),{query:r,children:d}):d},[r,d,s]);t=c("useGeoPrivateWebARIAComboboxOption")(t.getUniqueID());var A=t.accessibilityProps.id;t=t.isActiveDescendant;return h.jsx(c("BUIPrivateDisabledFocusContext").Provider,{value:!0,children:h.jsx(c("GeoPrivateBaseSelectorOption.react"),babelHelpers["extends"]({containerRef:b,control:o==null?void 0:o({isSelected:v,isDisabled:q}),description:z,disabledMessage:p,id:A,isDisabled:q,isFocusable:!1,isSelected:v,isVisuallyFocused:t||void 0,label:y,media:k!=null&&g==null?k:h.jsx(c("GeoMediaItem.react"),{fit:e,isDisabled:q,media:g,ratio:(o=(b=l)!=null?b:n)!=null?o:"square",size:d==null?24:32}),onSelect:u?w:x,truncate:m},a))})}a.displayName=a.name+" [from "+f.id+"]";e=d("GeoPrivateMakeComponent").makeGeoComponent("GeoBaseSearchableSelectorItem",h.forwardRef(a));g["default"]=e}),98);
__d("GeoSelectorHeader.react",["GeoBaseRowLayout.react","GeoHStack.react","GeoHeading.react","GeoPrivateMakeComponent","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.label;a=a.action;return h.jsx(c("GeoBaseRowLayout.react"),{accessibilityRole:null,density:"dense",children:h.jsxs(c("GeoHStack.react"),{children:[h.jsx(c("GeoHeading.react"),{level:4,xstyle:i.fillRest,children:b}),a]})})}a.displayName=a.name+" [from "+f.id+"]";var i={fillRest:{flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",$$css:!0}};b=d("GeoPrivateMakeComponent").makeGeoComponent("GeoSelectorHeader",a);g["default"]=b}),98);
__d("GeoPrivateSearchableSelectorListRenderer",["GeoBaseSearchableSelectorItem.react","GeoBaseText.react","GeoPrivateBaseSelectorListbox.react","GeoPrivateSearchableSelectorItemContext","GeoSelectorHeader.react","Image.react","SearchableEntry","isTruthy","react","stylex","useGeoTheme"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useMemo;function a(a){var b=a.binaryControlRenderer,d=a.entries,e=a.emptyContent,f=a.getDisabled,g=a.getDisabledMessage,i=a.getVerified,m=a.isSearching,n=a.itemRenderer,o=n===void 0?k:n,p=a.listboxID,q=a.listboxRef,r=a.maxEntries,s=a.query,t=a.virtualListRef,u=a.ratio,v=a.searchInclusions;return r===0?null:function(a){a=a.labelID;var k=d.length===0&&!m;a=h.jsx(c("GeoPrivateBaseSelectorListbox.react"),{containerRef:q,id:p,isVirtualized:!0,itemCount:r!=null?Math.min(d.length,r):d.length,labelledBy:a,shouldUseActiveDescendant:!0,virtualListRef:t,children:function(a){a=a.index;a=d[a];if(!(a instanceof c("SearchableEntry")))return h.jsx(c("GeoSelectorHeader.react"),{label:a},a);var e=a.getUniqueID(),k=f(a),l=g(a),m=i(a);return h.jsx(j,{binaryControlRenderer:b,disabledMessage:l,entry:a,isDisabled:k,isVerified:m,query:s,ratio:u,searchInclusions:v,children:o},e)}});return h.jsx("div",{className:"x5yr21d",children:k?h.jsx(l,{children:e}):a})}}function j(a){var b=a.binaryControlRenderer,d=a.children,e=a.disabledMessage,f=a.entry,g=a.isDisabled,j=a.isVerified,k=a.query,l=a.ratio,m=a.searchInclusions;a=i(function(){var a;return{binaryControlRenderer:b,disabledMessage:e,entry:f,isDisabled:g,isVerified:j,queryString:k,ratio:(a=l)!=null?a:void 0,searchInclusions:m}},[b,e,f,g,j,k,l,m]);return h.jsx(c("GeoPrivateSearchableSelectorItemContext").Provider,{value:a,children:d(f)})}j.displayName=j.name+" [from "+f.id+"]";function k(a){var b=a.getPhoto();b=c("isTruthy")(b)?h.jsx(c("Image.react"),{src:b}):null;return h.jsx(c("GeoBaseSearchableSelectorItem.react"),{description:a.getSubtitle(),label:a.getTitle(),media:b,truncate:"both"})}k.displayName=k.name+" [from "+f.id+"]";function l(a){a=a.children;var b=c("useGeoTheme")();b=b.selectSpacing;b=b({context:"container",bounds:"internal",relation:"component"});return h.jsx(c("GeoBaseText.react"),{color:"placeholder",size:"value",children:h.jsx("div",{className:c("stylex")(b),children:a})})}l.displayName=l.name+" [from "+f.id+"]";g.getGeoSearchableSelectorListRenderer=a}),98);
__d("GeoPrivateActiveDescendantFocusManager",["promiseDone","react","scrollNodeIntoView","useStable"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useEffect,i=b.useMemo,j=b.useRef;function k(a,b,d,e){function f(a){return a.getUniqueID()}function g(a){return document.getElementById(f(a))}function h(d){var e=b().indexOf(d),f=a.current;if(e<0||f==null)return;var h=function(){var a=g(d);a!=null&&c("scrollNodeIntoView")(a)};h();c("promiseDone")(f.scrollToItemIfNeeded(e,{behavior:"instant"}).then(h))}function i(){return-1}function j(a,b){return a.getTitle().toLowerCase().startsWith(b.toLowerCase())}function k(){return d()[0]}function l(a){return e(a)}return{focus:h,getFirstSelectedOption:k,getFocusedIndex:i,getMatchesOption:j,getOptions:b,getUniqueID:f,getIsDisabled:l}}function l(a){var b=j(a),d=c("useStable")(function(){return function(){return b.current}});h(function(){b.current=a},[a]);return d}function a(a,b,c){var d=j(null),e=l(a),f=l(b);a=i(function(){return k(d,e,f,c)},[e,f,c]);return[d,a]}g.createIGWebVirtualListActiveDescendantFocusManager=k;g.useIGWebVirtualListActiveDescendantFocusManager=a}),98);
__d("GeoPrivateSelectAllHeader.react",["fbt","BUIPrivateDisabledFocusContext","GeoBaseCheckboxInput.react","GeoBaseListLayoutContext","GeoBaseListRow.react","GeoDivider.react","GeoPrivateARIAListboxOption.react","GeoPrivateMakeComponent","geoMargin","react","stylex","useGeoTheme"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j={density:"dense",direction:"vertical",isWithinList:!0,shouldAlignRows:!1};function a(a){var b=a["data-testid"],d=a.isAllSelected;b=a.onSelectAll;var e=a.value;a=c("useGeoTheme")();a=a.selectSpacing;return i.jsx(c("BUIPrivateDisabledFocusContext").Provider,{value:!0,children:i.jsxs(c("GeoBaseListLayoutContext").Provider,{value:j,children:[i.jsx("div",{className:c("stylex")(a({bounds:"internal",context:"component",target:"fine"})),children:i.jsx(c("GeoPrivateARIAListboxOption.react"),{onSelect:b,children:function(a){a=a.onSelect;return i.jsx(c("GeoBaseListRow.react"),{accessibilityRole:"checkbox",accessibilityState:{checked:d},align:"center",control:i.jsx(c("GeoBaseCheckboxInput.react"),{value:e}),"data-testid":void 0,isFocusable:!0,isHighlighted:d,isHoverable:!0,label:h._("Select all"),onPress:a})}})}),i.jsx(c("GeoDivider.react"),{xstyle:[c("geoMargin").all0,c("geoMargin").horiz8]})]})})}a.displayName=a.name+" [from "+f.id+"]";b=d("GeoPrivateMakeComponent").makeGeoComponent("GeoPrivateSelectAllHeader",a);g["default"]=b}),98);
__d("GeoBasePressable.react",["BUIPrivateButtonLayoutContext","GeoPrivateAnimationPressableOverlay.react","GeoPrivateButtonLayerActionContext","GeoPrivateLoggingAction","GeoPrivateLoggingClassification","GeoPrivateMakeComponent","GeoPrivatePressable.react","gkx","react","stylex","useGeoExpectationViolation","useGeoPrivateWithLogging","useGeoTheme","useMergeRefs"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useContext,j=b.useMemo,k=b.useRef,l=b.useState,m=c("gkx")("4057");function a(a){var b=a.accessibilityRole;b=b===void 0?"button":b;var d=a["aria-controls"],e=a["aria-describedby"],f=a["aria-pressed"],g=a["aria-haspopup"],n=a["aria-label"],p=a["aria-labelledby"],q=a.children,r=a.containerRef,u=a.context;u=u===void 0?"control":u;var v=a["data-testid"],w=a.density;w=w===void 0?"coarse":w;var x=a.direction,y=a.grow;y=y===void 0?"auto":y;var z=a.hasAnimation;z=z===void 0?!0:z;var A=a.href,B=a.id,C=a.isDisabled;C=C===void 0?!1:C;var D=a.isFocusable;D=D===void 0?!0:D;var E=a.isVisuallyActive;E=E===void 0?!1:E;var F=a.onBlur,G=a.onFocus,H=a.onHoverEnd,I=a.onHoverStart,J=a.onPress,K=a.loggingName;K=K===void 0?"GeoBasePressable":K;var L=a.rel,M=a.target,N=a.variant;N=N===void 0?"default":N;a=a.xstyle;var O=l(!1),P=O[0];O=O[1];var Q=l(!1),R=Q[0];Q=Q[1];var S=l(!1),T=S[0];S=S[1];var U=c("BUIPrivateButtonLayoutContext").useLayoutContext(),V=U[0];U=U[1];var W=k(null);U=c("useMergeRefs")(c("useMergeRefs")(U,W),r);W=i(c("GeoPrivateButtonLayerActionContext"));r=t(N);N=c("useGeoExpectationViolation")();z=m&&z;p==null&&n==null&&N("GeoBasePressable expects either an aria-labelledby or aria-label prop for better accessibility.");var X=c("useGeoPrivateWithLogging")(J,{name:K,action:c("GeoPrivateLoggingAction").CLICK,classification:c("GeoPrivateLoggingClassification").USER_ACTION});N=function(a){X==null?void 0:X(a)};J=P||R;K=E||T;R=o({color:r,context:u,density:w,direction:x,grow:y,isDisabled:C,isFocused:!z&&J,isActive:!z&&K});E=s({isActive:P,color:r,context:u});T=j(function(){return{controls:d,describedby:e,labelledby:p,haspopup:g}},[d,e,g,p]);w=j(function(){return{pressed:f!=null?f:null}},[f]);return h.jsxs(c("GeoPrivatePressable.react"),{accessibilityLabel:n,accessibilityRelationship:T,accessibilityRole:b,accessibilityState:w,className_DEPRECATED:(x=W)!=null?x:void 0,disabled:C,forwardedRef:U,link:A!=null?{url:A.toString(),target:M,rel:L}:null,nativeID:B,onBlur:F,onFocus:G,onFocusVisibleChange:O,onHoverChange:Q,onHoverEnd:H,onHoverStart:I,onPress:X!=null?N:null,onPressChange:S,preventDefault:A==null,style:babelHelpers["extends"]({},V),tabbable:D,testID:v,xstyle:[R,a],children:[z&&h.jsx(c("GeoPrivateAnimationPressableOverlay.react"),{color:r,isActive:K,isFocused:J}),P&&h.jsx("div",{className:c("stylex")(E),style:babelHelpers["extends"]({},V)}),q]})}a.displayName=a.name+" [from "+f.id+"]";var n={root:{position:"x1n2onr6",display:"x3nfvp2",flexDirection:"x1q0g3np",verticalAlign:"xxymvpz",borderTopStyle:"x1ejq31n",borderEndStyle:"xd10rxx",borderBottomStyle:"x1sy0etr",borderStartStyle:"x17r0tee",userSelect:"x87ps6o",outlineStyle:"x1t137rt",MozOsxFontSmoothing:"xlh3980",WebkitFontSmoothing:"xvmahel",textDecoration:"x1hl2dhg",":hover_textDecoration":"x1lku1pv",$$css:!0},grow:{display:"x78zum5",flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",$$css:!0}};function o(a){var b=a.color,d=a.context,e=a.density,f=a.direction;f=f===void 0?null:f;var g=a.grow,h=a.isDisabled;h=h===void 0?!1:h;var i=a.isFocused;i=i===void 0?!1:i;a=a.isActive;a=a===void 0?!1:a;var j=c("useGeoTheme")(),k=j.selectBorderRadius,l=j.selectInteractiveColorPalette;j=j.selectSpacing;f=p(f);return[n.root,g==="fill"&&n.grow,k({context:d}),l({color:b,isDisabled:h,isFocused:i,isActive:a}),e!=="none"&&j({context:"control",bounds:"internal",target:e}),f]}function p(a){if(a==null)return null;if(a==="column")return q.columnDirection;if(a==="row")return q.rowDirection;if(a==="row-reverse")return q.rowReverseDirection;if(a==="column-reverse")return q.columnReverseDirection}var q={columnDirection:{flexDirection:"xdt5ytf",$$css:!0},rowDirection:{flexDirection:"x1q0g3np",$$css:!0},rowReverseDirection:{flexDirection:"x15zctf7",$$css:!0},columnReverseDirection:{flexDirection:"x3ieub6",$$css:!0}},r={root:{position:"x10l6tqk",start:"xzadtn0",end:"x1esfoun",top:"x1pdr0v7",bottom:"xqmqy1e",$$css:!0}};function s(a){var b=a.isActive;b=b===void 0?!1:b;var d=a.color;a=a.context;a=a===void 0?"control":a;var e=c("useGeoTheme")(),f=e.selectBorderRadius;e=e.selectOutline;return[f({context:a}),e({color:d,isActive:b}),r.root]}function t(a){a===void 0&&(a="default");return a==="default"?"wash":a}e=d("GeoPrivateMakeComponent").makeGeoComponent("GeoBasePressable",a);g["default"]=e}),98);
__d("GeoBaseInlinePressable.react",["GeoBasePressable.react","GeoBaseText.react","GeoPrivateMakeComponent","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.children;a=babelHelpers.objectWithoutPropertiesLoose(a,["children"]);return h.jsx(c("GeoBasePressable.react"),babelHelpers["extends"]({},a,{children:h.jsx(c("GeoBaseText.react"),{color:"inherit",size:"value",weight:"inherit",xstyle:i.fullWidth,children:b})}))}a.displayName=a.name+" [from "+f.id+"]";var i={fullWidth:{width:"xh8yej3",$$css:!0}};b=d("GeoPrivateMakeComponent").makeGeoComponent("GeoBaseInlinePressable",a);g["default"]=b}),98);
__d("GeoLoadingStateConstants",[],(function(a,b,c,d,e,f,g){"use strict";a=36;b=a;c={height:{minHeight:"xu0aao5",$$css:!0}};d={height:{height:"xc9qbxq",$$css:!0}};g.BUTTON_HEIGHT=b;g.pageHeaderStyles=c;g.buttonStyles=d}),98);
__d("GeoButtonLoadingState.react",["GeoGlimmer.react","GeoLoadingStateConstants","GeoPrivateMakeComponent","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.width;b=b===void 0?115:b;a=babelHelpers.objectWithoutPropertiesLoose(a,["width"]);return h.jsx(c("GeoGlimmer.react"),babelHelpers["extends"]({height:d("GeoLoadingStateConstants").BUTTON_HEIGHT,width:b},a))}a.displayName=a.name+" [from "+f.id+"]";b=d("GeoPrivateMakeComponent").makeGeoComponent("GeoButtonLoadingState",a);g["default"]=b}),98);
__d("GeoCheckboxList.react",["GeoBaseFormInputLayout.react","GeoBaseInteractiveList.react","GeoPrivateMakeComponent","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.children,d=a.describedBy;a.inputId;var e=a.isLabelHidden;e=e===void 0?!1:e;var f=a.label,g=a.tooltipText,i=a.linkAddon;a=babelHelpers.objectWithoutPropertiesLoose(a,["children","describedBy","inputId","isLabelHidden","label","tooltipText","linkAddon"]);return f==null?h.jsx(c("GeoBaseInteractiveList.react"),{accessibilityRole:"group",shouldAlignRows:!0,children:b}):h.jsx(c("GeoBaseFormInputLayout.react"),babelHelpers["extends"]({addon:i,describedBy:d,isLabelHidden:e,label:f,tooltip:g},a,{children:function(a){var d=a.describedBy,e=a.inputID;a=a.labelledBy;return h.jsx(c("GeoBaseInteractiveList.react"),{accessibilityRole:"group",describedBy:d,id:e,labelledBy:a,shouldAlignRows:!0,children:b})}}))}a.displayName=a.name+" [from "+f.id+"]";b=d("GeoPrivateMakeComponent").makeGeoComponent("GeoCheckboxList",a);g["default"]=b}),98);
__d("GeoInputGroup.react",["BUIMultiElementLayoutContext","BUIPrivateDisabledContext","GeoBaseFormInputLayout.react","GeoPrivateForceLTRContext","GeoPrivateInputGroupLayoutContext","GeoPrivateInputGroupMessageContext","GeoPrivateMakeComponent","Locale","react","useUniqueID"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useMemo,j={root:{display:"x78zum5",width:"xh8yej3",transform:"x3oybdh",":not([stylex-hack]) > *_position":"x1iknuni",":not([stylex-hack]) > *_zIndex":"xw9jwym",":not([stylex-hack]) > *:focus-within_zIndex":"x1e2iszw",":not([stylex-hack]) > * + *_marginStart":"xg0tal0",$$css:!0},first:{borderTopEndRadius:"x13lgxp2",borderBottomEndRadius:"x5pf9jr",$$css:!0},middle:{borderTopStartRadius:"x168nmei",borderTopEndRadius:"x13lgxp2",borderBottomEndRadius:"x5pf9jr",borderBottomStartRadius:"xo71vjh",$$css:!0},last:{borderTopStartRadius:"x168nmei",borderBottomStartRadius:"xo71vjh",$$css:!0}},k=d("Locale").isRTL(),l=k?"Right":"Left",m=k?"Left":"Right";function n(a){var b=k&&a;return function(a){var c=a.isFirst;a=a.isLast;return[!c&&!a&&j.middle,c&&!a&&(b?j.last:j.first),a&&!c&&(b?j.first:j.last)]}}function o(a,b){var c=b-1===a;b=a===0;var d=!b&&!c;return function(){var a={};c||(a["borderTop"+m+"Radius"]=0,a["borderBottom"+m+"Radius"]=0);(c||d)&&(a["borderTop"+l+"Radius"]=0,a["borderBottom"+l+"Radius"]=0);return a}}function p(a,b){return i(function(){var d=h.Children.count(a);return h.Children.map(a,function(a,e){return h.jsx(c("BUIMultiElementLayoutContext").Provider,{value:{groupID:b,getLayout:o(e,d)},children:a})})},[a,b])}function a(a){var b=a.children,d=a.isDisabled,e=a.labelID,f=a.forceLTR;a=babelHelpers.objectWithoutPropertiesLoose(a,["children","isDisabled","labelID","forceLTR"]);var g=c("useUniqueID")();e=(e=e)!=null?e:g;var j=p(b,e),k=f===!0,l=i(function(){return n(k)},[k]);g=i(function(){return{errorMessage:[],warningMessage:[],message:[]}},[]);return h.jsx(c("GeoPrivateForceLTRContext").Provider,{value:k,children:h.jsx(c("BUIPrivateDisabledContext").Provider,{value:d,children:h.jsx(c("GeoPrivateInputGroupMessageContext").Provider,{initialValue:g,children:h.jsx(c("GeoBaseFormInputLayout.react"),babelHelpers["extends"]({},a,{isDisabled:d,labelID:e,children:function(){return h.jsx("div",{className:"x78zum5 xh8yej3 x3oybdh x1iknuni xw9jwym x1e2iszw xg0tal0",children:h.jsx(c("GeoPrivateInputGroupLayoutContext").Provider,{value:l,children:j})})}}))})})})}a.displayName=a.name+" [from "+f.id+"]";b=d("GeoPrivateMakeComponent").makeGeoComponent("GeoInputGroup",a);g["default"]=b}),98);
__d("GeoSplitInput.react",["GeoInputGroup.react","GeoPrivateMakeComponent","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.children,d=a.button;a=babelHelpers.objectWithoutPropertiesLoose(a,["children","button"]);return h.jsxs(c("GeoInputGroup.react"),babelHelpers["extends"]({},a,{children:[b,d]}))}a.displayName=a.name+" [from "+f.id+"]";b=d("GeoPrivateMakeComponent").makeGeoComponent("GeoSplitInput",a);g["default"]=b}),98);
__d("GeoSplitInputButton.react",["BUIPrivateButtonLayoutContext","BUIPrivateDisabledContext","GeoPrivateBaseButton.react","GeoPrivateInputGroupLayoutContext","GeoPrivateMakeComponent","Locale","react","stylex","useGeoTheme","useMergeRefs"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useContext;function a(a){var b=a.isDisabled,d=a.containerRef;a=babelHelpers.objectWithoutPropertiesLoose(a,["isDisabled","containerRef"]);var e=c("GeoPrivateInputGroupLayoutContext").useLayoutContext();e[0];e=e[1];var f=i(c("BUIPrivateDisabledContext"));e=c("useMergeRefs")(e,d);return h.jsx(c("BUIPrivateButtonLayoutContext").Provider,{value:m,children:h.jsxs("div",{className:"x1n2onr6",children:[h.jsx(c("GeoPrivateBaseButton.react"),babelHelpers["extends"]({},a,{containerRef:e,isDisabled:(d=f)!=null?d:b,loggingName:"GeoSplitInputButton"})),h.jsx("div",{className:c("stylex")(j())})]})})}a.displayName=a.name+" [from "+f.id+"]";function j(){var a=c("useGeoTheme")(),b=a.selectBorderColor;a=a.selectBorderRadius;return[b({color:"element",isDisabled:!1}),a({context:"control"}),k.outline]}var k={root:{position:"x1n2onr6",$$css:!0},outline:{borderBottomStartRadius:"xo71vjh",borderTopStyle:"x13fuv20",borderEndStyle:"xu3j5b3",borderBottomStyle:"x1q0q8m5",borderStartStyle:"x26u7qi",borderTopStartRadius:"x168nmei",borderTopWidth:"x178xt8z",borderEndWidth:"xm81vs4",borderBottomWidth:"xso031l",borderStartWidth:"xy80clv",boxSizing:"x9f619",height:"x5yr21d",pointerEvents:"x47corl",position:"x10l6tqk",start:"x17qophe",top:"x13vifvy",width:"xh8yej3",$$css:!0}},l=d("Locale").isRTL();function m(){var a,b=l?"Right":"Left";return a={},a["borderTop"+b+"Radius"]=0,a["borderBottom"+b+"Radius"]=0,a}b=d("GeoPrivateMakeComponent").makeGeoComponent("GeoSplitInputButton",a);g["default"]=b}),98);
__d("groupArray",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){var c={};a.forEach(function(d,e){e=b(d,e,a);c[e]||(c[e]=[]);c[e].push(d)});return c}f["default"]=a}),66);
__d("GeoBaseSearchableSelectorUtils",["fbt","SearchableEntry","emptyFunction","groupArray","isStringNullOrEmpty","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react").useMemo;function a(a,b){return i(function(){if(a==null||a.length===0)return null;if(b!=null)return b([].concat(a));return a.length===1?a[0].getTitle():h._({"*":"{number} options selected","_1":"1 option selected"},[h._plural(a.length,"number")])},[b,a])}function b(a){return i(function(){if(Array.isArray(a)){var b=new Map(a.map(function(a){var b=a.id;a=a.disabledMessage;return[b,a]}));return{getDisabled:function(a){return b.has(a.getUniqueID())},getDisabledMessage:function(a){return b.get(a.getUniqueID())}}}return typeof a==="function"?{getDisabled:function(b){return a(b)!==!1},getDisabledMessage:function(b){b=a(b);return typeof b==="boolean"?null:b}}:{getDisabled:c("emptyFunction").thatReturnsFalse,getDisabledMessage:c("emptyFunction").thatReturnsNull}},[a])}function e(a,b){return i(function(){if(!b)return a;var d=c("groupArray")(a,function(a){a=a.getType();return c("isStringNullOrEmpty")(a)?"":a}),e=[];for(var f in d){var g=d[f];f!=null&&e.push(f);e.push.apply(e,g)}return e},[a,b])}function f(a,b){return i(function(){var d=[];for(var e=a,f=Array.isArray(e),g=0,e=f?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(f){if(g>=e.length)break;h=e[g++]}else{g=e.next();if(g.done)break;h=g.value}h=h;h instanceof c("SearchableEntry")&&!b(h)&&d.push(h)}return d},[a,b])}function j(a){return i(function(){if(Array.isArray(a)){var b=new Set(a.map(function(a){a=a.id;return a}));return{getVerified:function(a){return b.has(a.getUniqueID())}}}return typeof a==="function"?{getVerified:function(b){return a(b)!==!1}}:{getVerified:c("emptyFunction").thatReturnsFalse}},[a])}g.useButtonLabel=a;g.useDisabledEntries=b;g.useCategories=e;g.useEnabledEntries=f;g.useVerifiedEntries=j}),98);
__d("useSearchableEntries",["react","useIsMountedRef"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useCallback,i=b.useEffect,j=b.useRef,k=b.useState;function a(a,b){var d=k(!1),e=d[0],f=d[1];d=k([]);var g=d[0],l=d[1],m=c("useIsMountedRef")(),n=j(0),o=j(null);o.current=b;var p=h(function(a){var b=new Set(),c=[];for(var a=a,d=Array.isArray(a),e=0,a=d?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=a.length)break;f=a[e++]}else{e=a.next();if(e.done)break;f=e.value}f=f;var g=f.getUniqueID();b.has(g)||(b.add(g),c.push(f))}l(c)},[]),q=h(function(a){m.current&&(f(!1),p(a))},[p,m]),r=h(function(a){return function(b,c,d){c=a===n.current;c&&m.current&&(f(d!=null&&d!=="COMPLETE"),p(b),o.current==null?void 0:o.current(b,d))}},[m,p,o]),s=h(function(b,c){n.current+=1,f(!0),a.search(b,r(n.current),c)},[r,a]);d=h(function(){n.current+=1,f(!1)},[]);b=h(function(){f(!0),a.getBootstrappedEntries!=null?a.getBootstrappedEntries(q):s("")},[q,s,a]);var t=j(a);i(function(){},[a]);return{bootstrap:b,entries:g,isSearching:e,search:s,cancel:d}}g["default"]=a}),98);
__d("useGeoPrivateAutocomplete",["react","useSearchableEntries","useShallowEqualMemo"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useLayoutEffect;function a(a){var b=a.query,d=a.searchSource;a=a.searchSourceOptions;d=c("useSearchableEntries")(d);var e=d.search,f=d.bootstrap,g=d.entries;d=d.isSearching;var i=c("useShallowEqualMemo")(a);h(function(){f()},[f]);h(function(){b!=null&&e(b,i)},[b,e,i]);return{bootstrap:f,entries:g,isSearching:d}}g["default"]=a}),98);
__d("GeoPrivateWebARIAPrintableKeyDownShared",[],(function(a,b,c,d,e,f){"use strict";var g=1e3,h=250;function a(a){return a.length===1}function i(a){j(a),window.clearTimeout(a.printableCharacterTimeout.current)}function b(a){var b=a.focusManager,c=a.key,d=a.listboxRef,e=babelHelpers.objectWithoutPropertiesLoose(a,["focusManager","key","listboxRef"]),f;a=e.previousInteractionTime;var l=e.printableCharacterTimeout,m=e.printableFirstCharacterMatchIndex,n=e.printableInput,o=n.current==null?c:n.current+c;c=Date.now();window.clearTimeout(l.current);l.current=window.setTimeout(function(){j(e)},g);if(c-a.current>=h&&(o==null?void 0:o.split("").every(function(a){return a===(o==null?void 0:o.charAt(0))}))){l=m.current==null?0:m.current+1;f=k(b,d,l,o.charAt(0));m.current=l}else f=k(b,d,0,o);n.current=o;a.current=c;f==null&&i(e);return f}function j(a){var b=a.previousInteractionTime,c=a.printableFirstCharacterMatchIndex;a=a.printableInput;a.current=null;c.current=null;b.current=0}function k(a,b,c,d){b=a.getOptions(b);b=d==null?null:b.filter(function(b){return a.getMatchesOption(b,d)});return b==null?void 0:b[c%((c=b==null?void 0:b.length)!=null?c:0)]}f.isPrintableCharacter=a;f.resetPrintableStatesAndClearTimeout=i;f.getOptionToFocusFromPrintableCharacter=b}),66);
__d("getGeoPrivateWebARIAPrivateFocusedOptionIndex",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){return b.getOptions(a).findIndex(function(a){return b.getUniqueID(a)===c})}f["default"]=a}),66);
__d("getGeoPrivateWebARIAComboboxFocusedOption",["getGeoPrivateWebARIAPrivateFocusedOptionIndex"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,d){d=c("getGeoPrivateWebARIAPrivateFocusedOptionIndex")(a,b,d);return b.getOptions(a)[d]}g["default"]=a}),98);
__d("GeoPrivateWebARIAPrivateKeyDownShared",["GeoPrivateWebARIAPrintableKeyDownShared","Keys","clearImmediate","getGeoPrivateWebARIAComboboxFocusedOption","getGeoPrivateWebARIAPrivateFocusedOptionIndex","mod","setImmediate"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b,d,e){var f=b.getOptions(a);a=c("getGeoPrivateWebARIAPrivateFocusedOptionIndex")(a,b,d);if(a===0&&e===-1)return;if(a===f.length-1&&e===1)return;b=c("mod")(a+e,f.length);return f[b]}function a(a){var b=a.activeDescendant,e=a.focusManager,f=a.isExpanded,g=a.listboxRef,j=a.onListboxSelect,k=a.onSelect,l=a.selectDescendant,m=a.setActiveDescendant,n=a.setIsExpanded;return function(o){var p,q=!1;switch(o.keyCode){case c("Keys").UP:o.preventDefault();var r=e.getOptions(g),s=r[r.length-1];!f&&r.length>0?(n(!0),p=s,q=!0):p=b!=null?h(g,e,b,-1):s;break;case c("Keys").DOWN:o.preventDefault();r=e.getOptions(g);s=r[0];!f&&r.length>0?(n(!0),p=s,q=!0):p=b!=null?h(g,e,b,1):s;break;case c("Keys").RETURN:i(a,o);break;case c("Keys").ESC:f&&n(!1);break;case c("Keys").TAB:r=c("getGeoPrivateWebARIAComboboxFocusedOption")(g,e,b);f&&r!=null&&!e.getIsDisabled(r)&&(j(o),k(r,o));m(null);f&&n(!1);break;default:d("GeoPrivateWebARIAPrintableKeyDownShared").isPrintableCharacter(o.key)&&m(null);return}if(q&&p!=null){var t=p,u=c("setImmediate")(function(){return l(t)});return function(){return c("clearImmediate")(u)}}else p!=null&&l(p)}}function i(a,b){var d=a.activeDescendant,e=a.focusManager,f=a.isExpanded,g=a.isMultiSelectable,h=a.listboxRef,i=a.onListboxSelect,j=a.onSelect,k=a.setActiveDescendant;a=a.setIsExpanded;h=c("getGeoPrivateWebARIAComboboxFocusedOption")(h,e,d);f&&h!=null&&!e.getIsDisabled(h)&&(i(b),j(h,b),!g?(a(!1),k(null)):b.keyCode===c("Keys").RETURN&&a(!1))}g.getKeyDownShared=a;g.getKeyDownActivation=i}),98);
__d("useGeoPrivateWebARIAPrivateUseActiveDescendant",["GeoPrivateWebARIAComboboxProvider","GeoPrivateWebARIAListboxContext","isStringNullOrEmpty","react","usePrevious"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useCallback,i=b.useContext,j=b.useEffect,k=b.useMemo,l=b.useRef;function a(a){var b=a.focusManager,e=a.getKeyDown,f=a.isExpanded,g=a.isMultiSelectable,m=a.listboxRef,n=a.onSelect,o=a.setIsExpanded;a=i(d("GeoPrivateWebARIAComboboxProvider").WebARIAComboboxContext);var p=a.activeDescendant,q=a.setActiveDescendant;a=i(c("GeoPrivateWebARIAListboxContext"));var r=a.onSelect,s=l(null),t=h(function(a){b.focus(a,m),q(b.getUniqueID(a))},[b,m,q]),u=h(function(){var a;a=s.current instanceof HTMLInputElement?!c("isStringNullOrEmpty")((a=s.current)==null?void 0:a.value):!0;var d=b.getOptions(m)[0];a&&d!=null&&b.focus(d,m)},[b,m]),v=h(function(){var a;a=s.current instanceof HTMLInputElement?c("isStringNullOrEmpty")((a=s.current)==null?void 0:a.value):!0;var d=b.getFirstSelectedOption(m);a&&d!=null&&b.focus(d,m)},[b,m]),w=l(null),x=l(null),y=l(0),z=l(null),A=c("usePrevious")(f);j(function(){A!==f&&f&&v()},[v,f,A]);var B=l();j(function(){return function(){return B.current==null?void 0:B.current()}},[]);a=k(function(){return function(a){B.current=e({activeDescendant:p,focusManager:b,isMultiSelectable:g,listboxRef:m,onListboxSelect:r,onSelect:n,previousInteractionTime:y,printableCharacterTimeout:z,printableInput:w,printableFirstCharacterMatchIndex:x,selectDescendant:t,setActiveDescendant:q,textboxRef:s,isExpanded:f,setIsExpanded:o})(a)}},[p,b,e,g,r,n,m,t,q,s,f,o]);var C=h(function(){u(),q(null)},[u,q]);return{activeDescendant:p,onChange:C,onKeyDown:a,ref:s,selectDescendant:t}}g["default"]=a}),98);
__d("useGeoPrivateWebARIAComboboxTextbox",["GeoPrivateWebARIAComboboxProvider","GeoPrivateWebARIAPrintableKeyDownShared","GeoPrivateWebARIAPrivateKeyDownShared","Keys","react","useGeoPrivateWebARIAPrivateUseActiveDescendant"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useContext,i=b.useEffect;function a(a){var b=a.autoComplete,e=a.focusManager,f=a.isExpanded,g=a.isMultiSelectable,k=a.listboxID,l=a.listboxRef,m=a.onSelect;a=a.setIsExpanded;var n=h(d("GeoPrivateWebARIAComboboxProvider").WebARIAComboboxContext),o=n.setActiveDescendant;n=c("useGeoPrivateWebARIAPrivateUseActiveDescendant")({listboxRef:l,focusManager:e,getKeyDown:j,onSelect:m,isMultiSelectable:g,isExpanded:f,setIsExpanded:a});l=n.activeDescendant;e=n.onChange;m=n.onKeyDown;g=n.ref;a=n.selectDescendant;i(function(){return function(){return o(null)}},[o]);return{accessibilityProps:{"aria-autocomplete":b,"aria-expanded":f,"aria-haspopup":"listbox","aria-activedescendant":l,"aria-controls":k,role:"combobox"},onChange:e,onKeyDown:m,ref:g,focusDescendant:a}}function j(a){var b=a.activeDescendant,e=a.focusManager,f=a.isExpanded,g=a.isMultiSelectable,h=a.listboxRef,i=a.onListboxSelect,j=a.onSelect,k=a.selectDescendant,l=a.setActiveDescendant,m=a.setIsExpanded,n=a.textboxRef,o=d("GeoPrivateWebARIAPrivateKeyDownShared").getKeyDownShared({activeDescendant:b,focusManager:e,isMultiSelectable:g,listboxRef:h,onListboxSelect:i,onSelect:j,selectDescendant:k,setActiveDescendant:l,isExpanded:f,setIsExpanded:m});return function(a){var b=a.keyCode;if(b===c("Keys").HOME){a.preventDefault();(n==null?void 0:n.current)instanceof HTMLInputElement&&n.current.setSelectionRange(0,0);return}if(b===c("Keys").END){a.preventDefault();if((n==null?void 0:n.current)instanceof HTMLInputElement){b=n.current.value;b!=null&&n.current.setSelectionRange(b.length,b.length)}return}if(d("GeoPrivateWebARIAPrintableKeyDownShared").isPrintableCharacter(a.key)){l(null);return}return o(a)}}g["default"]=a}),98);
__d("GeoBaseSearchableSelector.react",["ix","GeoBaseSearchableSelectorUtils","GeoPrivateActiveDescendantFocusManager","GeoPrivateBaseSelectorLayout.react","GeoPrivateBaseTextInput.react","GeoPrivateInputGroupLayoutContext","GeoPrivateMakeComponent","GeoPrivateSearchableSelectorListRenderer","GeoPrivateWebARIAComboboxProvider","emptyFunction","fbicon","react","useGeoPrivateAutocomplete","useGeoPrivateWebARIAComboboxTextbox","useGeoTheme","useUniqueID"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");var j=b.useCallback,k=b.useMemo,l=b.useRef,m=b.useState;function a(a){var b=a.binaryControlRenderer,e=a.children,f=a.containerRef,g=a["data-option-testid"];g=a.disabledEntries;var h=a.emptySearchResultsContent,k=a.header,o=a.isCategorized;o=o===void 0?!1:o;var p=a.isMultiSelectable;p=p===void 0?!1:p;var q=a.labelledBy,r=a.layerXStyle,s=a.loggingName;a.minMenuWidth;var t=a.onClose,u=a.onOpen,v=a.onQueryChange,w=a.onSelect,x=a.searchInclusions,y=a.searchPlaceholder,z=a.searchSource,A=a.searchSourceOptions,B=a.selectedEntries,C=a.showEntriesOnFocus,D=C===void 0?!1:C;C=a.verifiedEntries;a=babelHelpers.objectWithoutPropertiesLoose(a,["binaryControlRenderer","children","containerRef","data-option-testid","disabledEntries","emptySearchResultsContent","header","isCategorized","isMultiSelectable","labelledBy","layerXStyle","loggingName","minMenuWidth","onClose","onOpen","onQueryChange","onSelect","searchInclusions","searchPlaceholder","searchSource","searchSourceOptions","selectedEntries","showEntriesOnFocus","verifiedEntries"]);var E=m(!1),F=E[0],G=E[1];E=m(null);var H=E[0],I=E[1];E=c("useGeoPrivateAutocomplete")({query:H,searchSource:z,searchSourceOptions:A});var J=E.bootstrap;z=E.entries;A=E.isSearching;E=d("GeoBaseSearchableSelectorUtils").useDisabledEntries(g);g=E.getDisabled;E=E.getDisabledMessage;C=d("GeoBaseSearchableSelectorUtils").useVerifiedEntries(C);C=C.getVerified;z=d("GeoBaseSearchableSelectorUtils").useCategories(z,o);o=d("GeoBaseSearchableSelectorUtils").useEnabledEntries(z,g);B=d("GeoPrivateActiveDescendantFocusManager").useIGWebVirtualListActiveDescendantFocusManager(o,B,g);var K=B[0];B=B[1];var L=c("useUniqueID")(),M=l(null),N=j(function(){I(null),G(!1),t==null?void 0:t()},[t]),O=j(function(){D?I(""):J(),G(!0),u==null?void 0:u()},[J,u,D]);B=i.jsxs(i.Fragment,{children:[i.jsx(n,{"data-testid":void 0,focusManager:B,isExpanded:F,isLoading:A,isMultiSelectable:p,labelledBy:q,listboxID:L,listboxRef:M,onChange:function(a){I(a),v==null?void 0:v(a)},onSelect:w,placeholder:y,value:H}),k&&k(o)]});F=d("GeoPrivateSearchableSelectorListRenderer").getGeoSearchableSelectorListRenderer({binaryControlRenderer:b,entries:z,emptyContent:h,getDisabled:g,getDisabledMessage:E,getVerified:C,isSearching:A,itemRenderer:e,listboxID:L,listboxRef:M,query:H,searchInclusions:x,virtualListRef:K});return i.jsx(d("GeoPrivateWebARIAComboboxProvider").WebARIAComboboxProvider,{children:i.jsx(c("GeoPrivateBaseSelectorLayout.react"),babelHelpers["extends"]({},a,{containerRef:f,header:B,isMultiSelectable:p,labelledBy:q,listboxID:L,loggingName:s,onClose:N,onOpen:O,shouldUseActiveDescendant:!0,xstyle:r,children:F}))})}a.displayName=a.name+" [from "+f.id+"]";function n(a){var b=a["data-testid"];b=a.focusManager;var e=a.labelledBy,f=a.listboxID,g=a.listboxRef,l=a.isLoading,m=a.isMultiSelectable,n=a.onChange,p=a.onSelect,q=a.placeholder,r=a.value;a=a.isExpanded;var s=c("useGeoTheme")(),t=s.selectBorderRadius;s=k(function(){return function(){return[t({context:"layer"}),o.input]}},[t]);var u=j(function(a){p([a])},[p]);b=c("useGeoPrivateWebARIAComboboxTextbox")({autoComplete:"list",focusManager:b,isMultiSelectable:m,listboxID:f,listboxRef:g,onSelect:u,isExpanded:a,setIsExpanded:c("emptyFunction")});m=babelHelpers["extends"]({},b.accessibilityProps);var v=b.onChange;f=b.onKeyDown;g=b.ref;return i.jsx(c("GeoPrivateInputGroupLayoutContext").Provider,{value:s,children:i.jsx(c("GeoPrivateBaseTextInput.react"),babelHelpers["extends"]({},m,{autoComplete:"off",containerRef:g,"data-testid":void 0,icon:d("fbicon")._(h("491285"),16),isLoading:l,labelledBy:e,onChange:function(a){v(),n(a)},onKeyDown:f,placeholder:q,value:r}))})}n.displayName=n.name+" [from "+f.id+"]";var o={input:{borderBottomStartRadius:"xo71vjh",borderBottomEndRadius:"x5pf9jr",$$css:!0}};e=d("GeoPrivateMakeComponent").makeGeoComponent("GeoPrivateBaseSearchableSelector",a);g["default"]=e}),98);
__d("GeoSearchableMultiSelector.react",["GeoBaseFormInputLayout.react","GeoBaseSearchableSelector.react","GeoBaseSearchableSelectorUtils","GeoPrivateCheckboxInputLayout.react","GeoPrivateMakeComponent","GeoPrivateSelectAllHeader.react","GeoPrivateSelectorMediaUtils","GeoSelectionContext","react","useGeoEmptyStringViolation"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useCallback,j=b.useMemo;function a(a){var b=a.buttonLabelRenderer,e=a.children,f=a.containerRef,g=a["data-button-testid"],m=a["data-option-testid"],n=a["data-search-testid"];g=a["data-testid"];g=a.description;var o=a.disabledMessage,p=a.errorMessage,q=a.hasSelectAll,r=q===void 0?!1:q,s=a.isDisabled,t=a.isEdited;q=a.isLabelHidden;var u=a.isOptional,v=a.isValid,w=a.label,x=a.labelID,y=a.media,z=a.onChange,A=a.tooltip,B=a.tooltipText,C=a.warningMessage,D=a.value,E=a.xstyle,F=babelHelpers.objectWithoutPropertiesLoose(a,["buttonLabelRenderer","children","containerRef","data-button-testid","data-option-testid","data-search-testid","data-testid","description","disabledMessage","errorMessage","hasSelectAll","isDisabled","isEdited","isLabelHidden","isOptional","isValid","label","labelID","media","onChange","tooltip","tooltipText","warningMessage","value","xstyle"]);c("useGeoEmptyStringViolation")(w,"GeoSearchableMultiSelector");var G=d("GeoBaseSearchableSelectorUtils").useButtonLabel(D,b),H=j(function(){return d("GeoPrivateSelectorMediaUtils").getSearchableEntriesMedia(D,y)},[y,D]),I=i(function(a){z([].concat(a))},[z]),J=i(function(a){if(a.length===1){var b=D.indexOf(a[0]);if(b===-1)I([].concat(D,a));else{var c=[].concat(D);c.splice(b,1);I(c)}}else I(a)},[I,D]);a=j(function(){return{onSelect:I,isSingleSelection:!1,value:D}},[I,D]);b=c("GeoSelectionContext");return h.jsx(b.Provider,{value:a,children:h.jsx(c("GeoBaseFormInputLayout.react"),{containerRef:f,"data-testid":void 0,description:g,disabledMessage:o,errorMessage:p,isDisabled:s,isEdited:t,isLabelHidden:q,isOptional:u,isValid:v,label:w,labelID:x,tooltip:(b=A)!=null?b:B,warningMessage:C,xstyle:E,children:function(a){var b=a.inputID,d=a.labelledBy,f=a.describedBy;a=a.errorMessageID;return h.jsx(c("GeoBaseSearchableSelector.react"),babelHelpers["extends"]({},F,{binaryControlRenderer:k,"data-layer-testid":m,"data-option-testid":n,"data-testid":void 0,describedBy:f,errorMessageID:a,header:r?function(a){return h.jsx(l,{items:a,onSelect:J,selectedItems:D})}:null,inputID:b,isDisabled:s,isEdited:t,isMultiSelectable:!0,label:G,labelledBy:d,loggingName:"GeoSearchableMultiSelector",media:H,onSelect:J,selectedEntries:D,children:e}))}})})}a.displayName=a.name+" [from "+f.id+"]";function k(a){var b=a.isDisabled;a=a.isSelected;return h.jsx(c("GeoPrivateCheckboxInputLayout.react"),{isDisabled:b,value:a})}k.displayName=k.name+" [from "+f.id+"]";function l(a){var b=a["data-testid"],d=a.items,e=a.onSelect,f=a.selectedItems,g=j(function(){var a=d.length,b=f.length;if(b===0)return!1;else if(b===a)return!0;else return"indeterminate"},[f.length,d.length]);b=i(function(){e(g===!1?[].concat(d):[])},[g,d,e]);return h.jsx(c("GeoPrivateSelectAllHeader.react"),{"data-testid":void 0,isAllSelected:g===!0,onSelectAll:b,value:g})}l.displayName=l.name+" [from "+f.id+"]";e=d("GeoPrivateMakeComponent").makeGeoComponent("GeoSearchableMultiSelector",a);g["default"]=e}),98);
__d("GeoGrid.react",["GeoPrivateMakeComponent","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useMemo;function a(a){var b=a["data-testid"];b=a.alignContent;var d=a.alignItems,e=a.autoColumns,f=a.autoFlow,g=a.autoRows,i=a.children,r=a.columnGap,s=a.containerRef,t=a.display;t=t===void 0?"grid":t;var u=a.element;u=u===void 0?"div":u;var v=a.gap,w=a.justifyItems,x=a.justifyContent,y=a.role,z=a.rowGap,A=a.style,B=a.templateAreas,C=a.templateColumns,D=a.templateRows;a=a.xstyle;b=c("stylex")([j.resetImplicitGridValues,b!=null&&k[b],d!=null&&l[d],f!=null&&m[f],t!=null&&n[t],x!=null&&o[x],w!=null&&p[w],a]);d=q(e,g,r,v,z,B,C,D);return h.jsx(u,{className:b,"data-testid":void 0,ref:s,role:y,style:babelHelpers["extends"]({},d,A),children:i})}a.displayName=a.name+" [from "+f.id+"]";var j={resetImplicitGridValues:{gridAutoColumns:"xt9c220",gridAutoFlow:"x1sdr0u7",gridAutoRows:"x1on1db2",$$css:!0}},k={start:{alignContent:"x10ukxgv",$$css:!0},end:{alignContent:"x4465f1",$$css:!0},center:{alignContent:"xc26acl",$$css:!0},stretch:{alignContent:"xqjyukv",$$css:!0},"space-around":{alignContent:"x1jpljmv",$$css:!0},"space-between":{alignContent:"xcdzlcm",$$css:!0},"space-evenly":{alignContent:"xmsuk3y",$$css:!0}},l={start:{alignItems:"x7a106z",$$css:!0},end:{alignItems:"xpqajaz",$$css:!0},center:{alignItems:"x6s0dn4",$$css:!0},stretch:{alignItems:"x1qjc9v5",$$css:!0}},m={column:{gridAutoFlow:"x1mt1orb",$$css:!0},"column dense":{gridAutoFlow:"xw78oal",$$css:!0},row:{gridAutoFlow:"x1sdr0u7",$$css:!0},"row dense":{gridAutoFlow:"xf2va4h",$$css:!0}},n={grid:{display:"xrvj5dj",$$css:!0},"inline-grid":{display:"xwz0xwf",$$css:!0}},o={start:{justifyContent:"xlqzeqv",$$css:!0},end:{justifyContent:"x7v6yn8",$$css:!0},center:{justifyContent:"xl56j7k",$$css:!0},stretch:{justifyContent:"x1szn6h9",$$css:!0},"space-around":{justifyContent:"x1l1ennw",$$css:!0},"space-between":{justifyContent:"x1qughib",$$css:!0},"space-evenly":{justifyContent:"xaw8158",$$css:!0}},p={start:{justifyItems:"x619ttb",$$css:!0},end:{justifyItems:"x4xo5sw",$$css:!0},center:{justifyItems:"x1o2pa38",$$css:!0},stretch:{justifyItems:"xl4xnwh",$$css:!0}};function q(a,b,c,d,e,f,g,h){return i(function(){var i;return{gridColumnGap:(i=c)!=null?i:d,gridAutoColumns:String(a),gridAutoRows:String(b),gridTemplateAreas:f==="none"?f:String(f==null?void 0:f.getAreas()),gridTemplateColumns:String(g),gridTemplateRows:String(h),gridRowGap:(i=e)!=null?i:d}},[a,b,c,d,e,f,g,h])}b=d("GeoPrivateMakeComponent").makeGeoComponent("GeoGrid",a);g["default"]=b}),98);
__d("GeoGridTypes",[],(function(a,b,c,d,e,f){"use strict";function g(a){var b=[],c=[];if(typeof a==="string"||typeof a==="number")return a.toString();a.forEach(function(d,e){d instanceof l?(c.push(d.getName()),e===a.length-1&&b.push(h(c))):(c.length>0&&(b.push(h(c)),c=[]),b.push(d))});return b.join(" ")}function h(a){return"["+a.join(" ")+"]"}function i(a,b){return"minmax("+a.toString()+", "+b.toString()+")"}function j(a,b){return"repeat("+a+", "+b+")"}function k(a){return typeof a==="string"||typeof a==="number"}a=function(){function a(){}a.flex=function(a){return a+"fr"};a.len=function(a,b){return""+a+b};a.inflexibleMinTrackMax=function(a,b){return i(a,b)};a.fixedMinTrackMax=function(a,b){return i(a,b)};a.inflexibleMinFixedMax=function(a,b){return i(a,b)};a.fitContent=function(a){return"fit-content("+a+")"};return a}();a.auto="auto";a.maxContent="max-content";a.minContent="min-content";var l=function(){function a(a){this.name=a}var b=a.prototype;b.getName=function(){return this.name};return a}(),m=function(){function a(a){this.name=a}var b=a.prototype;b.getName=function(){return this.name};return a}();b=function(){function a(){}a.span=function(a){return"span "+a.toString()};a.columnOrRow=function(a,b){a=a instanceof l?a.getName():a.toString();b=b instanceof l?b.getName():b==null?void 0:b.toString();return b!=null?a+" / "+b:a};return a}();b.auto="auto";c=function(){function a(){var a=this;this.areas=[];for(var b=arguments.length,c=new Array(b),d=0;d<b;d++)c[d]=arguments[d];c.forEach(function(b){b instanceof m?a.addRow(b):a.addRow.apply(a,b)})}var b=a.prototype;b.addRow=function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];b!=null&&this.areas.push(b)};b.getRows=function(){return this.areas.map(function(a){return a instanceof m?a.getName():a.map(function(a){return a.getName()}).join(" ")})};b.getAreas=function(){var a=this.getRows();return'"'+((a=a==null?void 0:a.join('" "'))!=null?a:"")+'"'};return a}();d=function(){function a(){}a.auto=function(a,b){return j(a,b)};a.fixed=function(a,b){return j(a,b)};a.track=function(a,b){return j(a,b)};return a}();e=function(){function a(){}a.autoTrack=function(a){var b,c=typeof a==="string"?null:a==null?void 0:a.beforeTracks,d=typeof a==="string"?null:a==null?void 0:a.afterTracks;b=typeof a==="string"?a:(b=a==null?void 0:a.autoRepeat)!=null?b:a;if(c!=null&&d!=null){a=k(c)?(a=c)!=null?a:"":g(c);c=k(d)?(c=d)!=null?c:"":g(d);return(a+" "+b+" "+c).trim()}return b};a.fixedSize=function(a){return g(a)};a.fixedSizeOrRepeat=function(a){return g(a)};a.trackSize=function(a){return g(a)};a.trackSizeOrRepeat=function(a){return g(a)};return a}();f.GridSize=a;f.GridLine=l;f.GridArea=m;f.GridItem=b;f.GridTemplateAreas=c;f.GridRepeat=d;f.GridList=e}),66);
__d("GeoSelectorFooter.react",["GeoPrivateCardFooter.react"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("GeoPrivateCardFooter.react")}),98);
__d("GeoPrivateTourContext",["emptyFunction","react"],(function(a,b,c,d,e,f,g){"use strict";a=d("react");b={activeConceptID:null,activeConceptIndex:-1,hideOnBlur:!0,hideOnEscape:!0,isTourVisible:!1,liftTourHighlight:!1,conceptCount:0,onComplete:c("emptyFunction"),onError:c("emptyFunction"),onHide:c("emptyFunction"),onNext:c("emptyFunction"),onPrevious:c("emptyFunction"),registerConcept:function(){return function(){}},tourCompletionLabel:"done",wait:0};e=a.createContext(b);f=e;g["default"]=f}),98);
__d("GeoPrivateTourFeatureStepContext",["emptyFunction","react"],(function(a,b,c,d,e,f,g){"use strict";a=d("react");b={activeActionID:null,activeActionIndex:-1,actionCount:0,onComplete:c("emptyFunction"),onHide:c("emptyFunction"),onNext:c("emptyFunction"),onPrevious:c("emptyFunction"),registerAction:function(){return function(){}}};e=a.createContext(b);f=e;g["default"]=f}),98);
__d("GeoPrivateTourHighlight.react",["BaseContextualLayerAnchorRootContext","GeoBaseContextualLayer.react","GeoPrivateLayerPositionContext","GeoPrivateTourContext","react","stylex","useDebounced","useGeoTheme","useMergeRefs","useResizeObserver"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useCallback,j=b.useContext,k=b.useLayoutEffect,l=b.useMemo,m=b.useRef,n=b.useState,o="start",p={root:{paddingTop:"x1nn3v0j",paddingEnd:"xg83lxy",paddingBottom:"x1120s5i",paddingStart:"x1h0ha7o",marginTop:"x1kgmq87",marginEnd:"xwrv7xz",marginBottom:"xmgb6t1",marginStart:"x8182xy",position:"x10l6tqk",start:"x17qophe",top:"x13vifvy",height:"x5yr21d",width:"xh8yej3",$$css:!0},disableContext:{pointerEvents:"x47corl",$$css:!0}};function a(a){var b=a.context,d=a.imperativeRef;a=a.isContextDisabled;a=a===void 0?!1:a;var e=c("useGeoTheme")();e=e.selectOnboardingPulseAnimation;var f=m(null),g=q(b),i=g[0],k=g[1];g=c("useMergeRefs")(f,d);d=j(c("GeoPrivateTourContext"));d=d.liftTourHighlight;var n=j(c("GeoPrivateLayerPositionContext")),r=l(function(){return babelHelpers["extends"]({},n,{position:o})},[n]);s(b,function(){var a;(a=f.current)==null?void 0:a.reposition();k()});var t=m(document.body);b=h.jsx(c("GeoBaseContextualLayer.react"),{align:"stretch",context:b,disableAutoFlip:!0,imperativeRef:g,position:o,children:h.jsx("div",{className:c("stylex")(p.root,e({variant:"base"}),!a&&p.disableContext),style:i})});return h.jsx(c("GeoPrivateLayerPositionContext").Provider,{value:r,children:d?h.jsx(c("BaseContextualLayerAnchorRootContext").Provider,{value:t,children:b}):b})}a.displayName=a.name+" [from "+f.id+"]";function q(a){var b=n(function(){return r(a)}),d=b[0],e=b[1];b=i(function(){return e(r(a))},[a]);b=c("useDebounced")(b,100);return[d,b]}function r(a){if(a instanceof HTMLElement)return{borderRadius:window.getComputedStyle(a).borderRadius,width:a.offsetWidth};if(a instanceof SVGElement){a=a.getBoundingClientRect();var b=a.width;a=a.height;return{width:b,height:a}}return null}function s(a,b){var d=c("useResizeObserver")(b);k(function(){d(a);return function(){d(null)}},[a,d])}g["default"]=a}),98);
__d("GeoPrivateTourIntroContext",["emptyFunction","react"],(function(a,b,c,d,e,f,g){"use strict";a=d("react");b={onHide:c("emptyFunction"),setShowIntro:c("emptyFunction"),showIntro:null};e=a.createContext(b);f=e;g["default"]=f}),98);
__d("GeoPrivateOnboardingThemeProvider",["GeoPrivateThemeContext","react","useGeoTheme"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useMemo;function j(a){return babelHelpers["extends"]({},a,{selectInteractiveColorPalette:function(b){var c=b.color==="primary"?"onboarding":b.color;return a.selectInteractiveColorPalette(babelHelpers["extends"]({},b,{color:c}))},selectOutline:function(b){var c=b.color==="primary"?"onboarding":b.color;return a.selectOutline(babelHelpers["extends"]({},b,{color:c}))}})}function a(a){var b=c("useGeoTheme")(),d=i(function(){return j(b)},[b]);return h.jsx(c("GeoPrivateThemeContext").Provider,{value:d,children:a.children})}a.displayName=a.name+" [from "+f.id+"]";g.GeoPrivateOnboardingThemeProvider=a}),98);
__d("GeoPrivateTourLayerTunnel.react",["BaseScrollableAreaContext","getComputedStyle","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useEffect,j=b.useState;function k(a){return a.parentElement instanceof HTMLElement?a.parentElement:null}function l(a){a=c("getComputedStyle")(a);var b=["auto","scroll"];return a!=null&&(b.includes(a.overflowX)||b.includes(a.overflowY))}function m(a){a=k(a);while(a!=null&&a!==document.body){if(l(a))return a;a=k(a)}return null}function n(a){var b=[];a=a!=null?m(a):null;while(a!=null)b.push(a),a=m(a);return b}function a(a){var b=a.children,d=a.contextRef;a=j([]);var e=a[0],f=a[1];i(function(){f(n(d.current).map(function(a){return{getDOMNode:function(){return a}}}))},[d]);return h.jsx(c("BaseScrollableAreaContext").Provider,{value:e,children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("GeoTourStepHideSources",[],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({BLUR:"blur",ESCAPE:"escape",CLOSE:"close",COMPLETE:"complete"});b=a;f["default"]=b}),66);
__d("GeoPrivateTourLayer.react",["GeoBaseContextualLayer.react","GeoBaseLayerEscapeBehavior.react","GeoBaseSpacingLayout.react","GeoCloseButton.react","GeoHeading.react","GeoPrivateCard.react","GeoPrivateCardFooter.react","GeoPrivateCardLayerContext","GeoPrivateCardLayoutContext","GeoPrivateMakeComponent","GeoPrivateOnboardingThemeProvider","GeoPrivateTourContext","GeoPrivateTourHighlight.react","GeoPrivateTourLayerTunnel.react","GeoSection.react","GeoText.react","GeoTourStepHideSources","observeIntersection","react","stylex","useGeoOnClickOutside"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useCallback,j=b.useContext,k=b.useEffect,l=b.useImperativeHandle,m=b.useLayoutEffect,n=b.useRef,o=b.useState,p={card:{minWidth:"x1s3yuht",maxWidth:"xxc7z9f",$$css:!0},cardHoriz:{marginStart:"xmupa6y",marginEnd:"xqmxbcd",marginTop:"x9otpla",marginBottom:"x1wsgfga",$$css:!0},cardVert:{marginStart:"xp7jhwk",marginEnd:"x1n0m28w",marginTop:"xqui205",marginBottom:"x1hq5gj4",$$css:!0},cardContent:{paddingBottom:"x18d9i69",paddingEnd:"x4uap5",$$css:!0},absoluteCardContent:{paddingBottom:"x18d9i69",$$css:!0},close:{marginTop:"x1xmf6yo",marginEnd:"x1emribx",marginBottom:"x1e56ztr",marginStart:"x1i64zmx",$$css:!0},closeAbsolute:{position:"x10l6tqk",top:"xfr5jun",end:"x1923su1",$$css:!0},image:{display:"x78zum5",alignItems:"x6s0dn4",alignSelf:"xamitd3",flexDirection:"xdt5ytf",marginBottom:"x1e56ztr",overflowX:"x6ikm8r",overflowY:"x10wlt62",":not([stylex-hack]) img_maxWidth":"xc6yx5s",$$css:!0},imageFullbleed:{marginBottom:"xat24cr",$$css:!0},wrapper:{display:"x78zum5",alignItems:"x1qjc9v5",minWidth:"xeuugli",$$css:!0}};function a(a){var b=a.align,e=a.content,f=a.contextRef,g=a.heading,m=a.image,o=a.imageFit;o=o===void 0?"centered":o;a.id;var q=a.isContextDisabled,s=a.isVisible,t=a.onHide,u=a.onShow,w=a.moreButton,x=a.nextButton,y=a.previousButton,z=a.position;z=z===void 0?"below":z;var A=a.stepCount;a=babelHelpers.objectWithoutPropertiesLoose(a,["align","content","contextRef","heading","image","imageFit","id","isContextDisabled","isVisible","onHide","onShow","moreButton","nextButton","previousButton","position","stepCount"]);var B=r(s?f:null);a=j(c("GeoPrivateTourContext"));var C=a.hideOnBlur,D=a.hideOnEscape;a=a.imperativeRef;var E=n(null),F=z==="start"||z==="end",G=F?"middle":"start";b=(b=b)!=null?b:G;G=i(function(){B!=null&&C===!0&&t(c("GeoTourStepHideSources").BLUR)},[B,C,t]);var H=i(function(){D===!0&&t(c("GeoTourStepHideSources").ESCAPE)},[D,t]);k(function(){u&&s&&u()},[s,u]);c("useGeoOnClickOutside")(G,[f,E]);var I=n(null),J=n(null);l(a,function(){return{reposition:function(){var a;(a=I.current)==null?void 0:a.reposition();(a=J.current)==null?void 0:a.reposition()}}},[]);return B!=null?h.jsxs(c("GeoPrivateTourLayerTunnel.react"),{contextRef:f,children:[h.jsx(c("GeoPrivateTourHighlight.react"),{context:B,imperativeRef:J,isContextDisabled:q}),h.jsx(c("GeoPrivateCardLayerContext").Provider,{value:!0,children:h.jsx(c("GeoBaseLayerEscapeBehavior.react"),{onEscape:H,children:h.jsx(c("GeoBaseContextualLayer.react"),{align:b,context:B,"data-testid":void 0,hidden:!s,imperativeRef:I,position:z,children:h.jsx(d("GeoPrivateOnboardingThemeProvider").GeoPrivateOnboardingThemeProvider,{children:h.jsx("div",{className:c("stylex")(p.card,F&&p.cardHoriz,!F&&p.cardVert),children:h.jsx(c("GeoPrivateCard.react"),{containerRef:E,"data-testid":void 0,footer:h.jsx(c("GeoPrivateCardFooter.react"),{primaryButton:x,secondaryButton:w,startContent:h.jsxs(c("GeoBaseSpacingLayout.react"),{grow:"fill",children:[y,A]})}),xstyle:p.card,children:h.jsx(v,{content:e,heading:g,image:m,imageFit:o,onHide:t})})})})})})})]}):null}a.displayName=a.name+" [from "+f.id+"]";function q(a){if(a instanceof HTMLElement)return a.offsetParent;if(a instanceof SVGElement){a=(a=a.ownerSVGElement)==null?void 0:a.parentNode;return a instanceof HTMLElement?a.offsetParent:null}return null}function r(a){var b=j(c("GeoPrivateTourContext")),d=b.onError;b=b.wait;var e=o(a==null?void 0:a.current),f=e[0],g=e[1];e=a!=null&&f==null;var h=i(function(){var b=a==null?void 0:a.current,c=q(b)!=null;g(c?b:null)},[a]),k=i(function(){d("timed out waiting for context ref")},[d]);m(h,[h]);u(e?h:null);t(e?k:null,b);h=i(function(b){return g(b?a==null?void 0:a.current:null)},[a]);s(a==null?void 0:a.current,h);return f}function s(a,b){m(function(){if(a==null)return;var d=c("observeIntersection")(a,function(a){return b(a.intersectionRatio>0)},{root:q(a)});return function(){return d.remove()}},[a,b])}function t(a,b){k(function(){if(a){var c=window.setTimeout(a,b);return function(){return window.clearTimeout(c)}}},[a,b])}function u(a){k(function(){if(a==null)return;var b,c=function c(){a(),b!=null&&(b=window.requestAnimationFrame(c))};b=window.requestAnimationFrame(c);return function(){window.cancelAnimationFrame(b),b=null}},[a])}function v(a){var b=a.content,d=a.heading,e=a.image,f=a.imageFit,g=a.onHide;a=!!(e!=null&&d!==null);e=e!=null&&h.jsx("div",{className:c("stylex")(p.image,f==="fullbleed"&&p.imageFullbleed),children:e});return h.jsxs(c("GeoPrivateCardLayoutContext").Provider,{value:a?x:w,children:[f==="fullbleed"&&e,h.jsxs("div",{className:"x78zum5 x1qjc9v5 xeuugli",children:[h.jsxs(c("GeoSection.react"),{children:[f==="centered"&&e,d!=null&&h.jsx(c("GeoHeading.react"),{level:3,textAlign:"start",children:d}),h.jsx(c("GeoText.react"),{children:b})]}),h.jsx("div",{className:c("stylex")(!a&&p.close,a&&p.closeAbsolute),children:h.jsx(c("GeoCloseButton.react"),{onClick:function(){return g(c("GeoTourStepHideSources").CLOSE)}})})]})]})}v.displayName=v.name+" [from "+f.id+"]";function w(){return p.cardContent}function x(){return p.absoluteCardContent}e=d("GeoPrivateMakeComponent").makeGeoComponent("GeoPrivateTourLayer",a);g["default"]=e}),98);
__d("GeoTour.react",["GeoPrivateMakeComponent","GeoPrivateTourContext","GeoPrivateTourIntroContext","addToSet","react","removeFromSet","useGeoPrivatePopupBlocker","useShallowEqualMemo"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useCallback,j=b.useEffect,k=b.useState;function a(a){var b=a.children,d=a.hideOnBlur;d=d===void 0?!0:d;var e=a.hideOnEscape;e=e===void 0?!0:e;var f=a.imperativeRef,g=a.intro,l=a.isActive,m=a.liftTourHighlight;m=m===void 0?!1:m;var n=a.onComplete,o=a.onError,p=a.onHide,q=a.tourCompletionLabel;q=q===void 0?"done":q;var r=a.wait;r=r===void 0?3e3:r;a=babelHelpers.objectWithoutPropertiesLoose(a,["children","hideOnBlur","hideOnEscape","imperativeRef","intro","isActive","liftTourHighlight","onComplete","onError","onHide","tourCompletionLabel","wait"]);a=k(new Set());var s=a[0],t=a[1];a=k(null);var u=a[0],v=a[1];a=k(null);var w=a[0],x=a[1],y=Array.from(s),z=y.length,A=y.findIndex(function(a){return a===u}),B=c("useGeoPrivatePopupBlocker")(l),C=i(function(){x(null),v(null)},[]),D=i(function(a){p==null?void 0:p(a)},[p]);j(function(){B||C()},[B,C]);j(function(){B&&(g!==null&&w===null&&x(!0),(g==null||w===!1)&&z>0&&u===null&&v(y[0]))},[u,z,y,g,B,w]);a=i(function(a){t(function(b){return c("addToSet")(b,a)});return function(){t(function(b){return c("removeFromSet")(b,a)})}},[]);s=i(function(a){o==null?void 0:o(a)},[o]);var E=i(function(){D("complete"),n==null?void 0:n()},[n,D]);l=i(function(){if(u===null&&y.length>0){v(y[0]);return}A<y.length-1?v(y[A+1]):E()},[A,u,y,E]);var F=i(function(){A>0&&v(y[A-1])},[y,A]);d=c("useShallowEqualMemo")({activeConceptID:u,activeConceptIndex:A,conceptCount:z,hideOnBlur:d,hideOnEscape:e,imperativeRef:f,isTourVisible:B,liftTourHighlight:m,onComplete:E,onError:s,onHide:D,onNext:l,onPrevious:F,registerConcept:a,tourCompletionLabel:q,wait:r});e=c("useShallowEqualMemo")({onHide:D,setShowIntro:x,showIntro:w});return B?h.jsx("span",{"data-testid":void 0,children:h.jsxs(c("GeoPrivateTourContext").Provider,{value:d,children:[h.jsx(c("GeoPrivateTourIntroContext").Provider,{value:e,children:g}),b]})}):null}a.displayName=a.name+" [from "+f.id+"]";e=d("GeoPrivateMakeComponent").makeGeoComponent("GeoTour",a);g["default"]=e}),98);
__d("GeoTourStrings",["fbt"],(function(a,b,c,d,e,f,g,h){"use strict";a=h._("Back");b=h._("Continue");c=h._("Dismiss");d=h._("Done");e=h._("Get Started");f=h._("Next");var i=h._("See How"),j=h._("Show Later"),k=h._("Skip");h=h._("Try it");g.BACK_LABEL=a;g.CONTINUE_LABEL=b;g.DISMISS_LABEL=c;g.DONE_LABEL=d;g.GET_STARTED_LABEL=e;g.NEXT_LABEL=f;g.SEE_HOW_LABEL=i;g.SHOW_LATER_LABEL=j;g.SKIP_LABEL=k;g.TRY_IT_LABEL=h}),98);
__d("GeoTourFeatureStep.react",["GeoButton.react","GeoPrivateMakeComponent","GeoPrivateTourContext","GeoPrivateTourFeatureStepContext","GeoPrivateTourLayer.react","GeoTourStrings","addToSet","react","removeFromSet","useUniqueID"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useCallback,j=b.useContext,k=b.useLayoutEffect,l=b.useMemo,m=b.useState;function a(a){var b=a.children,e=a.contextRef,f=a.onHide,g=a.onMore,n=a.onNext,o=a.onPrevious,p=a.geoOverride_moreLabel,q=a["data-primary-button-testid"];q=a["data-secondary-button-testid"];q=babelHelpers.objectWithoutPropertiesLoose(a,["children","contextRef","onHide","onMore","onNext","onPrevious","geoOverride_moreLabel","data-primary-button-testid","data-secondary-button-testid"]);a=m(new Set());var r=a[0],s=a[1];a=m(null);var t=a[0],u=a[1],v=Array.from(r),w=v.length,x=v.findIndex(function(a){return a===t});a=j(c("GeoPrivateTourContext"));r=a.activeConceptIndex;var y=a.activeConceptID,z=a.conceptCount,A=a.isTourVisible,B=a.onComplete,C=a.onHide,D=a.onNext,E=a.onPrevious,F=a.registerConcept,G=a.tourCompletionLabel,H=c("useUniqueID")();k(function(){return F(H)},[H,F]);var I=i(function(a){s(function(b){return c("addToSet")(b,a)});return function(){s(function(b){return c("removeFromSet")(b,a)})}},[]);a=i(function(a){f==null?void 0:f(a),u(null),C(a)},[f,C]);var J=i(function(){u(null),f==null?void 0:f("complete"),B()},[B,f]),K=i(function(){g==null?void 0:g(),t===null&&v.length>0&&u(v[0])},[v,t,g]),L=i(function(){n==null?void 0:n(),D()},[n,D]),M=i(function(){o==null?void 0:o(),E()},[o,E]),N=function(){switch(G){case"try_it":return d("GeoTourStrings").TRY_IT_LABEL;case"get_started":return d("GeoTourStrings").GET_STARTED_LABEL;default:return d("GeoTourStrings").DONE_LABEL}};z=r<z-1?h.jsx(c("GeoButton.react"),{"data-testid":void 0,label:d("GeoTourStrings").NEXT_LABEL,onClick:L,variant:"primary"}):h.jsx(c("GeoButton.react"),{"data-testid":void 0,label:N(),onClick:J,variant:"primary"});N=r>0?h.jsx(c("GeoButton.react"),{label:d("GeoTourStrings").BACK_LABEL,onClick:M}):void 0;J=v.length>0&&t===null?h.jsx(c("GeoButton.react"),{"data-testid":void 0,label:p!=null?p:d("GeoTourStrings").SEE_HOW_LABEL,onClick:K}):void 0;var O=i(function(a){u(null),C(a)},[C]),P=i(function(){u(null),B()},[B]),Q=i(function(){x<v.length-1?u(v[x+1]):(u(null),L())},[v,x,L]),R=i(function(){x>0?u(v[x-1]):u(null)},[v,x]);r=l(function(){return{activeActionID:t,activeActionIndex:x,actionCount:w,onComplete:P,onHide:O,onNext:Q,onPrevious:R,registerAction:I}},[w,x,t,P,O,Q,R,I]);return h.jsxs(c("GeoPrivateTourFeatureStepContext").Provider,{value:r,children:[h.jsx(c("GeoPrivateTourLayer.react"),babelHelpers["extends"]({contextRef:e,isVisible:A&&H===y&&t===null,moreButton:J,nextButton:z,onHide:a,previousButton:N},q)),b]})}a.displayName=a.name+" [from "+f.id+"]";e=d("GeoPrivateMakeComponent").makeGeoComponent("GeoTourFeatureStep",a);g["default"]=e}),98);
__d("OxsightsPredictionTopSegmentsChartQuery",["OxsightsPredictionTopSegmentsChartQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h!==void 0?h:h=b("OxsightsPredictionTopSegmentsChartQuery.graphql");c=a;g["default"]=c}),98);
__d("MNCommerceLogger",["BanzaiLogger","ODS"],(function(a,b,c,d,e,f,g){"use strict";var h=c("BanzaiLogger").create({signal:!0});function i(a){switch(a){case"devx_upsell_learn_more_clicked":return"devx.upsell.learn_more.clicked";default:return a}}function a(a,b,c){d("ODS").bumpEntityKey(2966,"messenger_commerce",i(a)),h.log("MessengerCommerceLoggerConfig",{brand_app_id:b,user_fbid:c,event:a})}function b(a,b,c,e){h.log("MessengerCommerceLoggerConfig",{brand_app_id:a,page_id:b,user_fbid:c,event:e}),d("ODS").bumpEntityKey(2966,"messenger_commerce","auth."+e+".all")}g.logClick=a;g.logAuthEvent=b}),98);
__d("ChatPluginDiagnosticToolLoggerUtil",["MessengerWebPluginAnonymousTypedLogger"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,d,e,f){new(c("MessengerWebPluginAnonymousTypedLogger"))().setPluginName("messaging_plugin").setPageID(b).setRequestID(d).setNewEventName(a).setEventTimestamp(Date.now()).setDebugData(f).setOtherFields(e).logVital()}g.logDiagnosticToolEvent=a}),98);
__d("ChatPluginReEngagementFirstNotice.react",["AYMTClientSideLogging","BizInboxAYMTTipContext","ChatPluginSetupFlowContext","ChatPluginSetupFlowUtil","GeoButton.react","GeoGuidanceCard.react","GeoGuidanceCardContent.react","GeoGuidanceCardHeader.react","GeoText.react","react","useBizInboxAYMTTipValidator"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.Suspense,j=b.useContext;function a(a){var b=j(c("BizInboxAYMTTipContext")),e=j(c("ChatPluginSetupFlowContext")),f=e.dispatchAction;e=c("useBizInboxAYMTTipValidator")(b,a.tipPosition);if(e==null)return null;var g=e.setShowTip,k=e.tipLoggingData;b=e.tipSpec;e=b.body;var l=b.section,m=b.title;b=b.action_text;function n(){d("AYMTClientSideLogging").logClickNew();a.onExpandClick(d("ChatPluginSetupFlowUtil").MainSection.REENGAGEMENT);f({type:"SET_SHOULD_SHOW_RE_ENGAGEMENT_NOTICE",shouldShowReEngagementNotice:!0});return}var o=function(){g(!1),f({type:"SET_SHOULD_SHOW_RE_ENGAGEMENT_NOTICE",shouldShowReEngagementNotice:!1}),d("AYMTClientSideLogging").logXoutNew(k)};if(l!==a.tipPosition||m==null||e==null)return null;d("AYMTClientSideLogging").logImpressionNew(k);l=b!=null?h.jsx(c("GeoButton.react"),{label:b,onClick:n,grow:"auto"}):null;return h.jsx(i,{fallback:null,children:h.jsx("div",{style:{marginBottom:16},children:h.jsx(c("GeoGuidanceCard.react"),{status:"new-products-and-features",header:h.jsx(c("GeoGuidanceCardHeader.react"),{heading:m,onClose:o}),children:h.jsxs(c("GeoGuidanceCardContent.react"),{children:[h.jsx(c("GeoText.react"),{children:e}),l]})})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("ChatPluginReEngagementSecondNotice.react",["ChatPluginSetupFlowContent","ChatPluginSetupFlowContext","GeoTour.react","GeoTourFeatureStep.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useContext;function a(a){var b=a.isActive;a=a.contextRef;var e=i(c("ChatPluginSetupFlowContext")),f=e.dispatchAction;e=function(){f({type:"SET_SHOULD_SHOW_RE_ENGAGEMENT_NOTICE",shouldShowReEngagementNotice:!1})};return h.jsx(c("GeoTour.react"),{isActive:b,onHide:e,onComplete:e,children:h.jsx(c("GeoTourFeatureStep.react"),{heading:d("ChatPluginSetupFlowContent").RE_ENGAGEMENT_SECOND_NOTICE_TITLE,content:d("ChatPluginSetupFlowContent").RE_ENGAGEMENT_SECOND_NOTICE_CONTENT,contextRef:a,image:h.jsx("span",{}),position:"below",align:"middle"})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("ChatPluginSetupFlowChevron.react",["ix","GeoIcon.react","fbicon","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){a=a.isExpanded;return i.jsx(c("GeoIcon.react"),{icon:a?d("fbicon")._(h("488811"),24):d("fbicon")._(h("488810"),24)})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("ChatPluginSetupFlowAutomationMutation",["ChatPluginSetupFlowAutomationMutation.graphql","Promise","RelayModern"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h!==void 0?h:h=b("ChatPluginSetupFlowAutomationMutation.graphql");function j(a,b,c){var e=b.automationConfig,f=e.isEnabled,g=e.isFaqEnabled,h=e.greetingMessage;e=e.faqList;return d("RelayModern").commitMutation(a,{mutation:i,variables:{input:{page_id:b.pageID,enabled:f,faq_enabled:g,greeting_message:h,faq_list:e.map(function(a){return{question:a.question,response_body:a.response_body}}),entry_point:b.entryPoint}},onCompleted:c.onCompleted,onError:c.onError})}function a(a,c){return new(b("Promise"))(function(b,d){j(a,c,{onCompleted:b,onError:d})})}g.commit=j;g.commitAsync=a}),98);
__d("ChatPluginSetupFlowReengagementMutation",["ChatPluginSetupFlowReengagementMutation.graphql","MNNotificationMessagesFrequencyFields","Promise","RelayModern","getGraphQLEnumSafe"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h!==void 0?h:h=b("ChatPluginSetupFlowReengagementMutation.graphql");function j(a,b,e){var f=b.reengagement,g=f.cadence,h=f.collapsedOptInMessageText,j=f.collapsedOptInMessageTitle,k=f.expandedOptInMessageText,l=f.expandedOptInMessageTitle;f=f.optInMessageEnabled;return d("RelayModern").commitMutation(a,{mutation:i,variables:{input:{page_id:b.pageID,opt_in_message_enabled:f,collapsed_opt_in_message_title:j,expanded_opt_in_message_title:l,collapsed_opt_in_message_text:h,expanded_opt_in_message_text:k,cadence:c("getGraphQLEnumSafe")(c("MNNotificationMessagesFrequencyFields"),g)}},onCompleted:e.onCompleted,onError:e.onError})}function a(a,c){return new(b("Promise"))(function(b,d){j(a,c,{onCompleted:b,onError:d})})}g.commit=j;g.commitAsync=a}),98);
__d("ChatPluginSetupFlowFooter.react",["ChatPluginSetupFlowAutomationMutation","ChatPluginSetupFlowContent","ChatPluginSetupFlowContext","ChatPluginSetupFlowCustomizationMutation","ChatPluginSetupFlowE2ETestUtils","ChatPluginSetupFlowLoggerUtil","ChatPluginSetupFlowPRELoggerUtil","ChatPluginSetupFlowReengagementMutation","ChatPluginSetupFlowSharedContent","ChatPluginSetupFlowTourStepRefs","GeoButton.react","GeoToast.react","Promise","RelayHooks","asyncToGeneratorRuntime","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");e=d("react");var i=e.useContext,j=e.useEffect,k=e.useState,l={SUCCESS:"success",ERROR:"error"},m={wrapper:{display:"x78zum5",justifyContent:"x13a6bvl",height:"x5yr21d",paddingTop:"xz9dl7a",paddingEnd:"xn6708d",paddingBottom:"xsag5q8",paddingStart:"x1ye3gou",boxSizing:"x9f619",position:"x1n2onr6",$$css:!0},cancelButton:{marginRight:"x1wsuqlk",$$css:!0},toasts:{position:"x10l6tqk",top:"xsbl3tl",transitionDuration:"xx6bhzk",transitionProperty:"x19991ni",$$css:!0},toastHidden:{opacity:"xg01cxk",transitionTimingFunction:"x9lcvmn",pointerEvents:"x47corl",$$css:!0},toastShown:{opacity:"x1hc1fzr",transitionTimingFunction:"x1lizcpb",pointerEvents:"x67bb7w",$$css:!0},toastWithDescription:{top:"x1rkhmcy",$$css:!0}},n=130;function a(a){var e=a.onPublish,f=d("RelayHooks").useRelayEnvironment();a=i(c("ChatPluginSetupFlowContext"));var g=a.state,o=a.dispatchAction;a=g.isCurrentConfigValid;var p=g.isCurrentDomainListValid;a=a&&p;p=k(!1);var q=p[0],r=p[1];p=k({visible:!1,heading:"",description:void 0,status:l.SUCCESS});var s=p[0],t=p[1],u=function(){t(babelHelpers["extends"]({},s,{visible:!1}))},v=function(a,b){t({visible:!0,heading:a,description:b,status:l.SUCCESS})},w=function(a,b){t({visible:!0,heading:a,description:b,status:l.ERROR})};j(function(){if(!s.visible)return;var a=window.setTimeout(function(){u()},3e3);return function(){return window.clearTimeout(a)}},[s]);return h.jsxs("div",{className:"x78zum5 x13a6bvl x5yr21d xz9dl7a xn6708d xsag5q8 x1ye3gou x9f619 x1n2onr6",children:[h.jsx("div",{className:c("stylex")(m.toasts,!s.visible&&m.toastHidden,s.visible&&m.toastShown,s.description!=null&&m.toastWithDescription),"data-testid":void 0,children:s.description!=null?h.jsx(c("GeoToast.react"),{onHide:u,heading:s.heading,description:s.description,status:s.status}):h.jsx(c("GeoToast.react"),{onHide:u,heading:s.heading,status:s.status})}),h.jsx("div",{className:"x1wsuqlk",children:h.jsx(c("GeoButton.react"),{minWidth:n,label:d("ChatPluginSetupFlowContent").FOOTER_BUTTON_RESET,isDisabled:q,onClick:function(){o({type:"RESTORE_CONFIG"}),v(d("ChatPluginSetupFlowContent").RESET_SUCCESS_TOAST_HEADER),d("ChatPluginSetupFlowLoggerUtil").log(g,"cancel_clicked")},variant:"default"})}),h.jsx("div",{ref:d("ChatPluginSetupFlowTourStepRefs").stepPublishRef,children:h.jsx(c("GeoButton.react"),{"data-testid":void 0,isLoading:q,minWidth:n,disabledMessage:a?null:d("ChatPluginSetupFlowContent").FOOTER_BUTTON_PUBLISH_TOOLTIP_ERROR,isDisabled:!a||q,label:d("ChatPluginSetupFlowContent").FOOTER_BUTTON_PUBLISH,onClick:function(){d("ChatPluginSetupFlowPRELoggerUtil").logChatPluginSetupFlowSaveStart();r(!0);d("ChatPluginSetupFlowLoggerUtil").log(g,"publish_clicked",JSON.stringify({customization_config:g.customizationConfig,automation_config:g.automationConfig}));var a=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){try{yield d("ChatPluginSetupFlowCustomizationMutation").commitAsync(f,{pageID:g.page.pageID,customization:g.customizationConfig}),o({type:"SET_CUSTOMIZATION_CONFIG_ORIGINAL",customizationConfigOriginal:g.customizationConfig}),d("ChatPluginSetupFlowLoggerUtil").log(g,"mutation_on_completed_customization_publish")}catch(a){d("ChatPluginSetupFlowLoggerUtil").log(g,"mutation_on_error_customization_publish",JSON.stringify(babelHelpers["extends"]({},d("ChatPluginSetupFlowLoggerUtil").getErrorData(a),{customization_config:g.customizationConfig})));throw a}});return function(){return a.apply(this,arguments)}}(),c=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){try{yield d("ChatPluginSetupFlowAutomationMutation").commitAsync(f,{pageID:g.page.pageID,automationConfig:g.automationConfig,entryPoint:g.entryPoint}),o({type:"SET_AUTOMATION_CONFIG_ORIGINAL",automationConfigOriginal:g.automationConfig}),d("ChatPluginSetupFlowLoggerUtil").log(g,"mutation_on_completed_automation_publish")}catch(a){d("ChatPluginSetupFlowLoggerUtil").log(g,"mutation_on_error_automation_publish",JSON.stringify(babelHelpers["extends"]({},d("ChatPluginSetupFlowLoggerUtil").getErrorData(a),{automation_config:g.automationConfig})));throw a}});return function(){return a.apply(this,arguments)}}(),h=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){try{yield d("ChatPluginSetupFlowReengagementMutation").commitAsync(f,{pageID:g.page.pageID,reengagement:g.reengagementConfig}),o({type:"SET_REENGAGEMENT_CONFIG_ORIGINAL",reengagementConfigOriginal:g.reengagementConfig})}catch(a){throw a}});return function(){return a.apply(this,arguments)}}();b("Promise").all([a(),c(),h()]).then(function(){d("ChatPluginSetupFlowPRELoggerUtil").logChatPluginSetupFlowSaveEnd(2),v(d("ChatPluginSetupFlowContent").PUBLISH_SUCCESS_TOAST_HEADER,d("ChatPluginSetupFlowContent").PUBLISH_SUCCESS_TOAST_DESCRIPTION),e==null?void 0:e(g)})["catch"](function(){d("ChatPluginSetupFlowPRELoggerUtil").logChatPluginSetupFlowSaveEnd(3),w(d("ChatPluginSetupFlowSharedContent").PUBLISH_ERROR_TOAST_HEADER,d("ChatPluginSetupFlowSharedContent").PUBLISH_ERROR_TOAST_DESCRIPTION)})["finally"](function(){r(!1)})},variant:"primary"})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("ChatPluginSetupFlow3pMenuContent",["fbt","ChatPluginSetupFlowSharedContent","react"],(function(a,b,c,d,e,f,g,h){"use strict";a=d("react");b=h._("Enable chat on your website in just a few simple steps. We'll guide you through the process.");c=h._("Pick a setup method");e=h._("Choose how you'd like to add {Name of the web chat plugin product} to your website. We offer guided instructions, tailored to your website builder or you can install manually.",[h._param("Name of the web chat plugin product",d("ChatPluginSetupFlowSharedContent").CHAT_PLUGIN_NAME)]);f=h._("Set language");var i=h._("Choose the language for your {Name of the web chat plugin product}. Your default language will appear once setup is complete and is not available in the preview.",[h._param("Name of the web chat plugin product",d("ChatPluginSetupFlowSharedContent").CHAT_PLUGIN_NAME)]),j=h._("Add domain"),k=h._("{=m0}",[h._implicitParam("=m0",a.jsx("strong",{children:h._("Standard")}))]),l=h._("Set up with Shopify, Wix, Squarespace and more, or install manually."),m=h._("Set up {Name of the web chat plugin product}",[h._param("Name of the web chat plugin product",d("ChatPluginSetupFlowSharedContent").CHAT_PLUGIN_NAME)]),n=h._("{=m0}",[h._implicitParam("=m0",a.jsx("strong",{children:h._("Google tag manager")}))]),o=h._("Google tag manager setup"),p=h._("Authorise installation"),q=h._("Want to sign in to a different account?"),r=h._("Authorise"),s=h._("Clicking {the name of the button that launches the authorization window} will open a sign-in window, asking you to choose an account and authorise the installation of Chat Plugin.",[h._param("the name of the button that launches the authorization window",a.jsx("strong",{children:r}))]),t=h._("If you cannot see a sign-in window, check to make sure that you don't have a pop-up blocker on your browser and try {the name of the button that launches the authorization window} again.",[h._param("the name of the button that launches the authorization window",a.jsx("strong",{children:r}))]),u=h._("Launch again"),v=h._("Select container"),w=h._("Select the tag manager account and container where you would like {Name of the web chat plugin product} to appear.",[h._param("Name of the web chat plugin product",d("ChatPluginSetupFlowSharedContent").CHAT_PLUGIN_NAME)]),x=h._("Account"),y=h._("Select account"),z=h._("Container"),A=h._("Select container"),B=h._("Finish Setup"),C=h._("Your {Name of the web chat plugin product} is ready!",[h._param("Name of the web chat plugin product",d("ChatPluginSetupFlowSharedContent").CHAT_PLUGIN_NAME)]),D=h._("You can customise the {Name of the web chat plugin product} or add automated messages by using messaging tools in your Inbox.",[h._param("Name of the web chat plugin product",d("ChatPluginSetupFlowSharedContent").CHAT_PLUGIN_NAME)]),E=h._("Success!"),F=h._("Success! You've signed in to a Google account and provided authorisation. You're ready to continue to the next step."),G=h._("Something went wrong"),H=h._("Check to make sure that you have a valid Google account, or try installing the {Name of the web chat plugin product} manually.",[h._param("Name of the web chat plugin product",d("ChatPluginSetupFlowSharedContent").CHAT_PLUGIN_NAME)]),I=h._("Authorisation was denied"),J=h._("{Name of the web chat plugin product} chat plugin cannot be installed without permission. To authorise setup, click Relaunch and approve permissions for chat plugin installation.",[h._param("Name of the web chat plugin product",d("ChatPluginSetupFlowSharedContent").CHAT_PLUGIN_NAME)]),K=h._("Google Tag Manager account not found"),L=h._("Check to make sure that you have a Google tag manager account. If you don't have an existing account, we recommend manual installation of {Name of the web chat plugin product}.",[h._param("Name of the web chat plugin product",d("ChatPluginSetupFlowSharedContent").CHAT_PLUGIN_NAME)]),M=h._("Authentication closed prematurely"),N=h._("The authentication window was closed before your Google account was able to connect."),O=h._("Authentication blocked"),P=h._("The Google authentication window was blocked from opening. Disable pop-up blockers and try again."),Q=h._("{Name of the web chat plugin product} already published",[h._param("Name of the web chat plugin product",d("ChatPluginSetupFlowSharedContent").CHAT_PLUGIN_NAME)]),R=h._("{Name of the web chat plugin product} could not be published. Check that it doesn't already exist in your Google Tag Manager account.",[h._param("Name of the web chat plugin product",d("ChatPluginSetupFlowSharedContent").CHAT_PLUGIN_NAME)]),S=h._("Customers can now message you from your website, and your messages will be shown in your business Page inbox."),T=h._("{=m0}",[h._implicitParam("=m0",a.jsx("strong",{children:h._("Wordpress")}))]),U=h._("Wordpress setup"),V=h._("Instructions"),W=h._("Follow these instructions to install {name of the chat plugin} on your Wordpress site:",[h._param("name of the chat plugin",d("ChatPluginSetupFlowSharedContent").CHAT_PLUGIN_NAME)]),aa=[h._("Go to your Wordpress home page and go to WP admin."),h._("Go to the {=m1} menu.",[h._implicitParam("=m1",a.jsx("strong",{children:h._("Plugins")}))]),h._("Click {=m1}",[h._implicitParam("=m1",a.jsx("strong",{children:h._("Add New.")}))]),h._("In the search field, type {=m1}.",[h._implicitParam("=m1",a.jsx("strong",{children:h._("Facebook Chat Plugin")}))]),h._("Click {=m1}.",[h._implicitParam("=m1",a.jsx("strong",{children:h._("Search plugins")}))]),h._("Select the {=m1}.",[h._implicitParam("=m1",a.jsx("strong",{children:h._("Facebook Chat Plugin")}))]),h._("Click {=m1}.",[h._implicitParam("=m1",a.jsx("strong",{children:h._("Install now")}))]),h._("Click {=m1}.",[h._implicitParam("=m1",a.jsx("strong",{children:h._("Activate")}))]),h._("You should now see a tab that says {=m1}. Go to the {=m4} section and click {=m7}.",[h._implicitParam("=m1",a.jsx("strong",{children:h._("Customer chat")})),h._implicitParam("=m4",a.jsx("strong",{children:h._("Getting started")})),h._implicitParam("=m7",a.jsx("strong",{children:h._("Edit chat plugin")}))]),h._("Customise your Chat Plugin and complete your setup.")],ba=h._("{=m0}",[h._implicitParam("=m0",a.jsx("strong",{children:h._("Shopify")}))]),ca=h._("Shopify setup"),da=h._("Follow these instructions to install {name of the chat plugin} on your Shopify site:",[h._param("name of the chat plugin",d("ChatPluginSetupFlowSharedContent").CHAT_PLUGIN_NAME)]),X=a.jsx("code",{children:"<body>"}),Y=a.jsx("code",{children:'<body class=\u201ctemplate-{{ request.page_type | handle }}">'}),Z=a.jsx("code",{children:"<!doctype html>"});Z=[h._("Go to the {=m1}",[h._implicitParam("=m1",a.jsx("strong",{children:h._("Admin Panel.")}))]),h._("Go to {=m1}. Under {=m3}, click {=m5} to open the theme page.",[h._implicitParam("=m1",a.jsx("strong",{children:h._("Sales Channels")})),h._implicitParam("=m3",a.jsx("strong",{children:h._("Online Store")})),h._implicitParam("=m5",a.jsx("strong",{children:h._("Themes")}))]),h._("Under the {=m1} section, click {=m4}.",[h._implicitParam("=m1",a.jsx("strong",{children:h._("Current Theme")})),h._implicitParam("=m4",a.jsx("strong",{children:h._("Customize")}))]),h._("You'll see the preview of your store. Click {=m1}.",[h._implicitParam("=m1",a.jsx("strong",{children:h._("Theme actions")}))]),h._("In the pop-up menu, click {=m1}.",[h._implicitParam("=m1",a.jsx("strong",{children:h._("Edit code")}))]),h._("You'll see multiple \"{=m1}\" files. Look for the main theme file, usually named {=m3}. Main theme file content usually starts with {doctype code example}.",[h._param("doctype code example",Z),h._implicitParam("=m1",a.jsx("strong",{children:h._(".liquid")})),h._implicitParam("=m3",a.jsx("strong",{children:h._("theme.liquid")}))]),h._("Scroll through the code on the right-hand side and find the line starting with {body tag code}. For example, it could start with {body tag with template code}.",[h._param("body tag code",X),h._param("body tag with template code",Y)]),h._("On the line below the {body tag code} code, paste the code that you copied during the \"Copy\" step.",[h._param("body tag code",X)]),h._("Click {=m1} at the top to complete.",[h._implicitParam("=m1",a.jsx("strong",{children:h._("Save")}))])];Y=h._("{=m0}",[h._implicitParam("=m0",a.jsx("strong",{children:h._("Wix")}))]);X=h._("Wix setup");var ea=h._("Follow these instructions to install {name of the chat plugin} on your Wix site:",[h._param("name of the chat plugin",d("ChatPluginSetupFlowSharedContent").CHAT_PLUGIN_NAME)]),$=a.jsx("ul",{children:a.jsx("li",{children:h._("{=m0}: Depending on which page you're on, you may need to click {=m2} on the top banner of the page before you go to Settings.",[h._implicitParam("=m0",a.jsx("strong",{children:h._("Note")})),h._implicitParam("=m2",a.jsx("strong",{children:h._("Site")}))])})});$=[h._("Click Settings in your admin panel.{note about the possible need to click the Site button}",[h._param("note about the possible need to click the Site button",$)]),h._("Under the {=m1} section, click {=m4}.",[h._implicitParam("=m1",a.jsx("strong",{children:h._("Advanced")})),h._implicitParam("=m4",a.jsx("strong",{children:h._("Custom Code")}))]),h._("Under the {=m1} section, click {=m3}.",[h._implicitParam("=m1",a.jsx("strong",{children:h._("Head")})),h._implicitParam("=m3",a.jsx("strong",{children:h._("Add Code")}))]),h._("Paste the code in the {=m1} section and insert an easily identifiable name (such as {=m3}) under {=m5}.",[h._implicitParam("=m1",a.jsx("strong",{children:h._("Paste the code snippet here")})),h._implicitParam("=m3",a.jsx("strong",{children:h._("Messenger")})),h._implicitParam("=m5",a.jsx("strong",{children:h._("Add Code to Pages")}))]),h._("Select {=m1}, then {=m3}.",[h._implicitParam("=m1",a.jsx("strong",{children:h._("All pages")})),h._implicitParam("=m3",a.jsx("strong",{children:h._("Load code once")}))]),h._("Under {=m1}, make sure that {=m3} is selected and click {=m5}.",[h._implicitParam("=m1",a.jsx("strong",{children:h._("Place Code in")})),h._implicitParam("=m3",a.jsx("strong",{children:h._("Head")})),h._implicitParam("=m5",a.jsx("strong",{children:h._("Apply")}))]),h._("Click {=m1} at the top of the page.",[h._implicitParam("=m1",a.jsx("strong",{children:h._("Publish")}))])];var fa=h._("{=m0}",[h._implicitParam("=m0",a.jsx("strong",{children:h._("Squarespace")}))]),ga=h._("Squarespace setup"),ha=h._("Follow these instructions to install {name of the chat plugin} on your Squarespace site:",[h._param("name of the chat plugin",d("ChatPluginSetupFlowSharedContent").CHAT_PLUGIN_NAME)]),ia=[h._("Click {=m1} in your admin panel.",[h._implicitParam("=m1",a.jsx("strong",{children:h._("Settings")}))]),h._("Click {=m1}.",[h._implicitParam("=m1",a.jsx("strong",{children:h._("Advanced")}))]),h._("Click {=m1}.",[h._implicitParam("=m1",a.jsx("strong",{children:h._("Code Injection")}))]),h._("Paste the code snippet in the {=m1} section.",[h._implicitParam("=m1",a.jsx("strong",{children:h._("Footer")}))]),h._("Click {=m1}.",[h._implicitParam("=m1",a.jsx("strong",{children:h._("Save")}))])],ja=h._("{=m0}",[h._implicitParam("=m0",a.jsx("strong",{children:h._("ManyChat")}))]),ka=h._("ManyChat setup"),la=h._("Follow these instructions to install {name of the chat plugin} on your ManyChat site:",[h._param("name of the chat plugin",d("ChatPluginSetupFlowSharedContent").CHAT_PLUGIN_NAME)]),ma=[h._("Log in to your ManyChat account."),h._("Click the {=m1} tab.",[h._implicitParam("=m1",a.jsx("strong",{children:h._("Growth Tools")}))]),h._("Click {=m1}.",[h._implicitParam("=m1",a.jsx("strong",{children:h._("+ New Growth Tool")}))]),h._("Choose {=m1} from the list of your widgets.",[h._implicitParam("=m1",a.jsx("strong",{children:h._("Customer Chat")}))]),h._("Click {=m1}.",[h._implicitParam("=m1",a.jsx("strong",{children:h._("Setup")}))]),h._("Click {=m1}.",[h._implicitParam("=m1",a.jsx("strong",{children:h._("Install JavaScript Snippet")}))]),h._("Make sure that your website domain address is included in the authorised list. If not, type out the domain and click {=m1}.",[h._implicitParam("=m1",a.jsx("strong",{children:h._("Add")}))]),h._("Click {=m1}.",[h._implicitParam("=m1",a.jsx("strong",{children:h._("Install ManyChat Snippet")}))]),h._("Click {=m1}.",[h._implicitParam("=m1",a.jsx("strong",{children:h._("Copy Code to Clipboard")}))]),h._("Paste the code on the website where you want the chat bot to appear.")],na=h._("{=m0}",[h._implicitParam("=m0",a.jsx("strong",{children:h._("Webflow")}))]),oa=h._("Webflow setup");d=h._("Follow these instructions to install {name of the chat plugin} on your Webflow site:",[h._param("name of the chat plugin",d("ChatPluginSetupFlowSharedContent").CHAT_PLUGIN_NAME)]);a=[h._("Navigate to {=m1}.",[h._implicitParam("=m1",a.jsx("strong",{children:h._("Project Settings")}))]),h._("Click {=m1}.",[h._implicitParam("=m1",a.jsx("strong",{children:h._("Custom Code")}))]),h._("Paste the code snippet in the {=m1} section.",[h._implicitParam("=m1",a.jsx("strong",{children:h._("Footer")}))]),h._("Click {=m1}.",[h._implicitParam("=m1",a.jsx("strong",{children:h._("Save Changes")}))])];g.META_FOR_CODE_CREATION=b;g.HEADER_FOR_3P_SETUP_OPTIONS=c;g.INSTRUCTION_FOR_3P_MENU=e;g.CHANGE_LOCALE_TITLE=f;g.CHANGE_LOCALE_DESCRIPTION=i;g.ADD_WEBSITE_DOMAIN_TITLE=j;g.MANUAL_SETUP_MENU_LABEL=k;g.MANUAL_SETUP_MENU_DESCRIPTION=l;g.MANUAL_SET_UP_STEPPER_HEADER=m;g.GTM_SETUP_MENU_LABEL=n;g.GTM_STEPPER_HEADER=o;g.GOOGLE_AUTHENTICATION_TITLE=p;g.GOOGLE_AUTHENTICATION_RELAUNCH_DESCRIPTION=q;g.GOOGLE_TAG_MANAGER_LAUNCH_AUTHORIZATION_BUTTON=r;g.GOOGLE_AUTHENTICATION_DESCRIPTION=s;g.GOOGLE_AUTHENTICATION_POP_UP_REMEDIATION_DESCRIPTION=t;g.GOOGLE_TAG_MANAGER_RELAUNCH_LINK=u;g.SELECT_GTM_ACCOUNT_TITLE=v;g.SELECT_GTM_ACCOUNT_DESCRIPTION=w;g.SELECT_GTM_ACCOUNT_ACCOUNT_LABEL=x;g.SELECT_GTM_ACCOUNT_ACCOUNT_PLACEHOLDER=y;g.SELECT_GTM_ACCOUNT_CONTAINER_LABEL=z;g.SELECT_GTM_ACCOUNT_CONTAINER_PLACEHOLDER=A;g.FINISH_SETUP_BUTTON=B;g.FINISH_CARD_HEADING=C;g.FINISH_CARD_DESCRIPTION=D;g.GTM_ACCOUNT_SIGN_IN_SUCCESS_TITLE=E;g.GTM_ACCOUNT_SIGN_IN_SUCCESS_DESCRIPTION=F;g.ERROR_GENERIC_TITLE=G;g.ERROR_GENERIC_DESCRIPTION=H;g.ERROR_ACCESS_DENIED_TITLE=I;g.ERROR_ACCESS_DENIED_DESCRIPTION=J;g.ERROR_NO_ACCOUNT_TITLE=K;g.ERROR_NO_ACCOUNT_DESCRIPTION=L;g.ERROR_POPUP_CLOSED_BY_USER_TITLE=M;g.ERROR_POPUP_CLOSED_BY_USER_DESCRIPTION=N;g.ERROR_POPUP_CLOSED_BY_BROWSER_TITLE=O;g.ERROR_POPUP_CLOSED_BY_BROWSER_DESCRIPTION=P;g.ERROR_ALREADY_PUBLISHED_TITLE=Q;g.ERROR_ALREADY_PUBLISHED_DESCRIPTION=R;g.INSTRUCTIONS_WRAP_UP=S;g.WORDPRESS_SETUP_MENU_LABEL=T;g.WORDPRESS_STEPPER_HEADER=U;g.WORDPRESS_INSTRUCTIONS_TITLE=V;g.WORDPRESS_INSTRUCTIONS_DESCRIPTION=W;g.WORDPRESS_INSTRUCTIONS=aa;g.SHOPIFY_SETUP_MENU_LABEL=ba;g.SHOPIFY_STEPPER_HEADER=ca;g.SHOPIFY_INSTRUCTIONS_DESCRIPTION=da;g.SHOPIFY_INSTRUCTIONS=Z;g.WIX_SETUP_MENU_LABEL=Y;g.WIX_STEPPER_HEADER=X;g.WIX_INSTRUCTIONS_DESCRIPTION=ea;g.WIX_INSTRUCTIONS=$;g.SQUARESPACE_SETUP_MENU_LABEL=fa;g.SQUARESPACE_STEPPER_HEADER=ga;g.SQUARESPACE_INSTRUCTIONS_DESCRIPTION=ha;g.SQUARESPACE_INSTRUCTIONS=ia;g.MANYCHAT_SETUP_MENU_LABEL=ja;g.MANYCHAT_STEPPER_HEADER=ka;g.MANYCHAT_INSTRUCTIONS_DESCRIPTION=la;g.MANYCHAT_INSTRUCTIONS=ma;g.WEBFLOW_SETUP_MENU_LABEL=na;g.WEBFLOW_STEPPER_HEADER=oa;g.WEBFLOW_INSTRUCTIONS_DESCRIPTION=d;g.WEBFLOW_INSTRUCTIONS=a}),98);
__d("ChatPluginSetupFlowAutomationAddFAQButton.react",["AbstractButton.react","ChatPluginSetupFlowContent","ChatPluginSetupFlowContext","ChatPluginSetupFlowE2ETestUtils","GeoTooltip.react","react","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useContext,j={button:{width:"xh8yej3",height:"xc9qbxq",backgroundColor:"x12peec7",borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",$$css:!0},enabledButton:{borderTop:"x3i949e",borderEnd:"x15dlsbp",borderBottom:"x8qqfdj",borderStart:"x11zoo4i",$$css:!0},enabledText:{color:"xtujrur",$$css:!0},disabledButton:{borderTop:"x12k8u0y",borderEnd:"x1xan784",borderBottom:"x1a35i5q",borderStart:"x1xexwaf",$$css:!0},disabledText:{color:"xgp89ll",$$css:!0},tooltip:{width:"xh8yej3",$$css:!0}},k=3;function a(a){var b=a.onAddFaqEntry;a=i(c("ChatPluginSetupFlowContext"));var e=a.dispatchAction;a=a.state;var f=a.automationConfig.faqList;a=h.jsx(c("GeoTooltip.react"),{align:"middle",xstyle:j.tooltip,content:d("ChatPluginSetupFlowContent").AUTOMATION_ADD_FAQ_BUTTON_TOOLTIP,children:h.jsx(c("AbstractButton.react"),{"data-testid":void 0,label:h.jsx("div",{className:"xgp89ll",children:d("ChatPluginSetupFlowContent").AUTOMATION_ADD_FAQ_BUTTON}),className:"x12k8u0y x1xan784 x1a35i5q x1xexwaf xh8yej3 xc9qbxq x12peec7 x1lq5wgf xgqcy7u x30kzoy x9jhf4c",role:"button"})});var g=h.jsx(c("AbstractButton.react"),{"data-testid":void 0,label:h.jsx("div",{className:"xtujrur",children:d("ChatPluginSetupFlowContent").AUTOMATION_ADD_FAQ_BUTTON}),className:"x3i949e x15dlsbp x8qqfdj x11zoo4i xh8yej3 xc9qbxq x12peec7 x1lq5wgf xgqcy7u x30kzoy x9jhf4c",role:"button",onClick:function(a){a={question:"",response_body:"",uuid:c("uuidv4")()};e({type:"SET_AUTOMATION_FAQ_LIST",faqList:[].concat(f,[a])});e({type:"SET_AUTOMATION_IS_FAQ_ENABLED",isFaqEnabled:!0});b(f.length)}});return f.length>=k?a:g}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("ChatPluginSetupFlowEmojiInputButton.react",["fbt","Bootloader","Link.react","createCancelableFunction","joinClasses","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=null;a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=null,c.state={locked:!1,visible:!1,isVariationsShown:!1},c.$5=function(a){a.preventDefault(),a.stopPropagation(),c.props.onClick&&c.props.onClick(),c.setState(function(a){return{locked:!1,visible:a.locked?!1:!a.visible}})},c.$6=function(a){c.setState(function(a){return{locked:a.visible}})},c.$8=function(a){a||c.setState({visible:!1,isVariationsShown:!1})},c.$9=function(a){c.setState({isVariationsShown:a})},b)||babelHelpers.assertThisInitialized(c)}var d=b.prototype;d.componentWillUnmount=function(){this.$1&&this.$1.remove(),this.$1=null,this.$2&&this.$2.cancel(),this.$2=null};d.render=function(){var a=this,b=h._("Insert an emoji"),d=this.state.visible?c("joinClasses")(this.props.iconActiveClassName,this.props.iconClassName):this.props.iconClassName;return i.jsxs(c("Link.react"),{"aria-label":b,className:this.props.buttonClassName,"data-hover":"tooltip","data-tooltip-alignh":"center","data-tooltip-content":b,onClick:this.$5,onDragStart:function(a){return a.preventDefault()},onMouseDown:this.$6,linkRef:function(b){return a.$4=b},role:"button",children:[i.jsx("div",{className:d,ref:function(b){return a.$3=b}}),this.$7()]})};d.$7=function(){var a=this;if(!j){this.state.visible&&(this.$2=c("createCancelableFunction")(function(){a.forceUpdate()}),this.$1=c("Bootloader").loadModules(["EmojiPicker.react"],function(b){j=b,a.$2&&(a.$2(),a.$2=null)},"ChatPluginSetupFlowEmojiInputButton.react"));return null}return!this.state.visible?null:i.jsx(j,{context:this.$4,isVariationsShown:this.state.isVariationsShown,padPicker:this.props.padPicker,onToggle:this.$8,onSelect:this.props.onSelect,onVariationsShown:this.$9,shown:this.state.visible,position:this.props.position})};return b}(i.Component);g["default"]=a}),98);
__d("ChatPluginSetupFlowAutomationEmojiInputArea.react",["cx","ChatPluginSetupFlowContent","ChatPluginSetupFlowEmojiInputButton.react","FBEmojiUtils","FocusWithinHandler.react","GeoBaseFormInputLayout.react","JSResource","isNullish","lazyLoadComponent","react","stylex","useGeoFocusRingStyle"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=d("react").useState,k=c("lazyLoadComponent")(c("JSResource")("GeoStatusIcon.react").__setRef("ChatPluginSetupFlowAutomationEmojiInputArea.react")),l={emojiButton:{marginLeft:"x1tpqehw",$$css:!0},textArea:{borderTop:"x76ihet",borderEnd:"xwmqs3e",borderBottom:"x112ta8",borderStart:"xxxdfa6",flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",flexBasis:"xdl72j9",fontSize:"x1f6kntn",lineHeight:"x1d3mw78",outline:"x1a2a7pz",resize:"xtt52l0",width:"xh8yej3",$$css:!0},textAreaContainer:{position:"x1n2onr6",$$css:!0},textAreaIcon:{marginLeft:"xet2fuk",$$css:!0},textAreaWrapper:{alignItems:"x1cy8zhl",backgroundColor:"x12peec7",borderTop:"xz4l8wp",borderEnd:"x1g4fy3t",borderBottom:"xmyivr5",borderStart:"x1idobzx",borderTopStartRadius:"xhk9q7s",borderTopEndRadius:"x1otrzb0",borderBottomEndRadius:"x1i1ezom",borderBottomStartRadius:"x1o6z2jb",display:"x78zum5",paddingTop:"xz9dl7a",paddingEnd:"xn6708d",paddingBottom:"xsag5q8",paddingStart:"x1ye3gou",$$css:!0},textAreaWrapperError:{borderTopColor:"xv8tjvk",borderEndColor:"x46ukr6",borderBottomColor:"x12nj6vk",borderStartColor:"x1il80n6",$$css:!0},textAreaWrapperWarning:{borderTopColor:"x1g1hny0",borderEndColor:"x1tysnlf",borderBottomColor:"xri9cli",borderStartColor:"x12ba8rp",$$css:!0}};function a(a,b){var e=a.className,f=a.isLabelHidden,g=a.label,h=a.errorMessage,m=a.warningMessage,n=a.text,o=a.rows,p=a.maxLength,q=a.onChange,r=a.onFocus;a=j(!1);var s=a[0],t=a[1];a=j(!1);var u=a[0],v=a[1],w=function(a){q(a.target.value)},x=function(a){a=typeof a!=="string"?d("FBEmojiUtils").codepointsToString(a):a;a=n+a;q(a)},y=null;!c("isNullish")(h)?y="error":c("isNullish")(m)||(y="warning");var z=c("useGeoFocusRingStyle")({isHighlighted:s,isVisible:u,status:y});return i.jsx("div",{className:e,children:i.jsx(c("GeoBaseFormInputLayout.react"),{isLabelHidden:f,label:g,errorMessage:h,warningMessage:m,children:function(a){var e=a.inputID,f=a.describedBy;a=a.errorMessageID;return i.jsx(c("FocusWithinHandler.react"),{onFocusChange:t,children:i.jsxs("div",{className:"x1n2onr6",onMouseEnter:function(){return v(!0)},onMouseLeave:function(){return v(!1)},children:[i.jsxs("div",{className:c("stylex")(l.textAreaWrapper,y==="warning"&&l.textAreaWrapperWarning,y==="error"&&l.textAreaWrapperError),children:[i.jsx("textarea",{"data-testid":void 0,ref:b,maxLength:p,"aria-describedby":f,"aria-errormessage":a,id:e,placeholder:d("ChatPluginSetupFlowContent").AUTOMATION_TEXT_INPUT_PLACEHOLDER,value:n,onChange:w,onFocus:r,className:"x76ihet xwmqs3e x112ta8 xxxdfa6 x1iyjqo2 xs83m0k xdl72j9 x1f6kntn x1d3mw78 x1a2a7pz xtt52l0 xh8yej3",rows:o}),i.jsx(c("ChatPluginSetupFlowEmojiInputButton.react"),{buttonClassName:"x1tpqehw",iconActiveClassName:"_a3oo",iconClassName:"_a3p1",onSelect:x,padPicker:!0,position:"above"}),y!=null&&i.jsx("div",{className:"xet2fuk",children:i.jsx(i.Suspense,{fallback:null,children:i.jsx(k,{status:y==="valid"?"success":y})})})]}),i.jsx("div",{className:c("stylex")(z)})]})})}})})}a.displayName=a.name+" [from "+f.id+"]";b=i.forwardRef(a);g["default"]=b}),98);
__d("ChatPluginSetupFlowAutomationExpandableCard.react",["ix","ChatPluginSetupFlowContent","CometCard.react","GeoButton.react","GeoFlexbox.react","Image.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=d("react").useState;function a(a){var b=a.isExpandedInit,e=a.isCollapsible,f=a.expandedContent,g=a.children,k=a.collapsedContent,l=a.isDeletable,m=a.onDelete,n=a.onToggle;a=e?b:!0;b=j(a);a=b[0];var o=b[1];b=i.jsx("div",{className:"x1x862rh",children:i.jsx(c("GeoButton.react"),{"data-testid":void 0,onClick:function(){e&&(o(!1),n&&n(!1))},icon:i.jsx(c("Image.react"),{src:h("1441305")}),label:d("ChatPluginSetupFlowContent").AUTOMATION_FAQ_COLLAPSE_LABEL,isLabelHidden:!0,variant:"flat"})});var p=i.jsx("div",{className:"x1x862rh",children:i.jsx(c("GeoButton.react"),{"data-testid":void 0,onClick:function(){o(!0),n&&n(!0)},icon:i.jsx(c("Image.react"),{src:h("1443156")}),label:d("ChatPluginSetupFlowContent").AUTOMATION_FAQ_EDIT_LABEL,isLabelHidden:!0,variant:"flat"})}),q=i.jsx(c("GeoButton.react"),{"data-testid":void 0,onClick:m,icon:i.jsx(c("Image.react"),{src:h("1431017")}),label:d("ChatPluginSetupFlowContent").AUTOMATION_FAQ_DELETE_LABEL,isLabelHidden:!0,variant:"flat"});f=i.jsxs(i.Fragment,{children:[i.jsxs(c("GeoFlexbox.react"),{alignItems:"center",justifyContent:"space-between",children:[f,i.jsxs(c("GeoFlexbox.react"),{alignItems:"center",children:[l===!0&&m?q:null,b]})]}),g]});l=i.jsxs(c("GeoFlexbox.react"),{alignItems:"center",justifyContent:"space-between",children:[k,p]});return i.jsx(c("CometCard.react"),{background:"base-wash",children:i.jsx("div",{className:"x889kno x1iji9kk x1a8lsjc x1sln4lm",children:a?f:l})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("ChatPluginSetupFlowAutomationFAQEntry.react",["ChatPluginSetupFlowAutomationEmojiInputArea.react","ChatPluginSetupFlowAutomationExpandableCard.react","ChatPluginSetupFlowContent","ChatPluginSetupFlowContext","ChatPluginSetupFlowE2ETestUtils","ChatPluginSetupFlowLoggerUtil","ChatPluginSetupFlowUtil","GeoText.react","GeoTextInput.react","LineClamp.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useContext,j=b.useEffect,k=b.useRef,l=b.useState,m=4,n=45;function a(a){var b=a.faqIndex;a=a.isNewEntry;var e=i(c("ChatPluginSetupFlowContext")),f=e.dispatchAction,g=e.state;e=g.automationConfig;var o=e.faqList,p=e.isFaqEnabled,q=e.isEnabled,r=g.previewConfig.previewDialogType;e=k(null);var s=k(),t=l(null),u=t[0],v=t[1];t=l(null);var w=t[0],x=t[1];t=l(null);var y=t[0],z=t[1];j(function(){p===!0?(o[b].response_body.length===0?z(d("ChatPluginSetupFlowContent").AUTOMATION_FAQ_ANSWER_ERROR):z(null),o[b].question.length===0?x(d("ChatPluginSetupFlowContent").AUTOMATION_FAQ_QUESTION_ERROR):o[b].question.length>=n?v(d("ChatPluginSetupFlowContent").AUTOMATION_FAQ_QUESTION_WARNING):(v(null),x(null))):(v(null),x(null),z(null))},[b,o,p]);t=b+1;var A=h.jsxs(c("LineClamp.react"),{lines:1,children:[h.jsx(c("GeoText.react"),{children:d("ChatPluginSetupFlowContent").getFAQTitle(t)}),h.jsxs("span",{className:"x117nqv4",children:[": "," "]}),h.jsx(c("GeoText.react"),{children:o[b].question})]}),B=function(a){var c=o.map(function(c,d){if(d===b)return{question:a,response_body:o[b].response_body,uuid:o[b].uuid};else return c});f({type:"SET_AUTOMATION_FAQ_LIST",faqList:c});a.length!==0&&(p||f({type:"SET_AUTOMATION_IS_FAQ_ENABLED",isFaqEnabled:!0}),q||f({type:"SET_AUTOMATION_IS_ENABLED",isEnabled:!0}))},C=function(a){var c=o.map(function(c,d){if(d===b)return{question:o[b].question,response_body:a,uuid:o[b].uuid};else return c});f({type:"SET_AUTOMATION_FAQ_LIST",faqList:c});a.length!==0&&(p||f({type:"SET_AUTOMATION_IS_FAQ_ENABLED",isFaqEnabled:!0}),q||f({type:"SET_AUTOMATION_IS_ENABLED",isEnabled:!0}))},D=function(){r!==d("ChatPluginSetupFlowUtil").PreviewDialogType.AUTOMATION&&f({type:"SET_PREVIEW_DIALOG_TYPE",previewDialogType:d("ChatPluginSetupFlowUtil").PreviewDialogType.AUTOMATION})};e=h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"x1xmf6yo",children:h.jsx(c("GeoTextInput.react"),{"data-testid":void 0,inputRef:e,label:d("ChatPluginSetupFlowContent").getFAQTitle(t),isLabelHidden:!0,placeholder:d("ChatPluginSetupFlowContent").AUTOMATION_TEXT_INPUT_PLACEHOLDER,value:o[b].question,maxLength:n,warningMessage:u,errorMessage:w,onChange:B,onFocus:D})}),h.jsx("div",{className:"x14vqqas",children:d("ChatPluginSetupFlowContent").AUTOMATION_FAQ_RESPONSE_TITLE}),h.jsx("div",{className:"x1xmf6yo",children:h.jsx(c("ChatPluginSetupFlowAutomationEmojiInputArea.react"),{"data-testid":void 0,ref:s,errorMessage:y,isLabelHidden:!0,label:d("ChatPluginSetupFlowContent").AUTOMATION_FAQ_RESPONSE_TITLE,rows:m,maxLength:d("ChatPluginSetupFlowUtil").TEXT_INPUT_MAX_LENGTH,text:o[b].response_body,onChange:C,onFocus:D})})]});var E=function(a){if(a>=o.length)return;var b=o.filter(function(b,c){return c!==a});f({type:"SET_AUTOMATION_FAQ_LIST",faqList:b})};return h.jsx(c("ChatPluginSetupFlowAutomationExpandableCard.react"),{"delete-data-testid":d("ChatPluginSetupFlowE2ETestUtils").AUTOMATION_FAQ_ENTRY_DELETE_BUTTON_TEST_ID_PREFIX+b,"edit-data-testid":d("ChatPluginSetupFlowE2ETestUtils").AUTOMATION_FAQ_ENTRY_EDIT_BUTTON_TEST_ID_PREFIX+b,"collapse-data-testid":d("ChatPluginSetupFlowE2ETestUtils").AUTOMATION_FAQ_ENTRY_COLLAPSE_BUTTON_TEST_ID_PREFIX+b,isExpandedInit:a,isCollapsible:w===null&&y===null,isDeletable:!0,onDelete:function(){E(b),d("ChatPluginSetupFlowLoggerUtil").log(g,"automation_faq_entry_delete",JSON.stringify({index:b}))},expandedContent:d("ChatPluginSetupFlowContent").getFAQTitle(t),collapsedContent:h.jsx("div",{children:A}),onToggle:function(a){d("ChatPluginSetupFlowLoggerUtil").log(g,"automation_faq_entry_clicked",JSON.stringify({index:b,expand:a}))},children:e})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("ChatPluginSetupFlowAutomationAwayHoursCalendarBar.react",["GeoTooltip.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={barPosition:{position:"x1n2onr6",paddingTop:"x1y1aw1k",display:"x1lliihq",":hover_transform":"x6b0lh4",$$css:!0},barSize:{height:"xdk7pt",marginBottom:"x1e56ztr",borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",$$css:!0},awayBar:{backgroundColor:"x6kafv",$$css:!0},availableBar:{backgroundColor:"x1nrw6zg",$$css:!0},tooltip:{display:"x1lliihq",$$css:!0}};function a(a){var b=a.isAway,d=a.width;a=a.tooltipContent;b=b?h.jsx("div",{className:"x6kafv xdk7pt x1e56ztr x1lq5wgf xgqcy7u x30kzoy x9jhf4c"}):h.jsx("div",{className:"x1nrw6zg xdk7pt x1e56ztr x1lq5wgf xgqcy7u x30kzoy x9jhf4c"});return h.jsx("div",{style:{width:d},children:h.jsx("div",{className:"x1n2onr6 x1y1aw1k x1lliihq x6b0lh4",children:h.jsx(c("GeoTooltip.react"),{content:a,align:"middle",xstyle:i.tooltip,children:b})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("ChatPluginSetupFlowAutomationAwayHoursCalendarItem.react",["BizInboxTimeUtils","ChatPluginSetupFlowAutomationAwayHoursCalendarBar.react","ChatPluginSetupFlowContent","ChatPluginSetupFlowContext","DateFormatConfig","DateStrings","GeoText.react","PagesTimeRangeEditorUtilities","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useContext,j=(d("DateFormatConfig").formats["g:ia"]||"").indexOf("a")>=0;function a(a){var b=i(c("ChatPluginSetupFlowContext"));b=b.state;var e=b.awayRanges,f=a.dayOfWeek;b=d("DateStrings").getWeekdayName(f);var g=0,k=24*60*60;a=p();p=[];for(var l=0;l<a.length;l++){var m=a[l],n=(m.to-m.from)/k*100;n=n+"%";var o=f+"-"+m.from+"-"+m.to;n=h.jsx("div",{className:"xjp7ctv",children:h.jsx(c("ChatPluginSetupFlowAutomationAwayHoursCalendarBar.react"),{isAway:m.isAway,width:n,tooltipContent:q(m)})},o);p.push(n)}return h.jsxs("div",{className:"xsag5q8 xh8yej3",children:[h.jsx(c("GeoText.react"),{children:b}),h.jsx("div",{className:"x78zum5",children:p}),h.jsxs("div",{className:"x78zum5 x1qughib x1pvy4qg x1pg5gke",children:[h.jsx("div",{children:d("ChatPluginSetupFlowContent").SCHEDULE_AWAY_HOURS_CALENDAR_LABEL_START_OF_THE_DAY}),h.jsx("div",{children:d("ChatPluginSetupFlowContent").SCHEDULE_AWAY_HOURS_CALENDAR_LABEL_MIDNIGHT})]})]});function p(){var a=[],b=[];if(e!=null){var c=d("BizInboxTimeUtils").getTimeRangesFromJson(e);a=d("PagesTimeRangeEditorUtilities").getAwayTimeBracketsForWeekday(f,c);if(a.size===0){c={from:g,to:k,isAway:!1};b.push(c);return b}for(c=0;c<a.size;c++){var h=a.get(c);if(h.from===0){var i={from:h.from,to:h.to,isAway:!0};b.push(i);continue}i=g;c!==0&&(i=a.get(c-1).to+1);var j=h.from-1;i={from:i,to:j,isAway:!1};b.push(i);b.push({from:h.from,to:h.to,isAway:!0})}if(a.last()&&a.last().to<k){j=a.last();i={from:j.to+1,to:k,isAway:!1};b.push(i)}return b}return[]}function q(a){if(a.from===g&&a.to===k)return d("ChatPluginSetupFlowContent").SCHEDULE_AWAY_HOURS_CALENDAR_TIP_ALL_DAY.toString();var b=Math.floor(a.from/3600),c=Math.floor(a.from%3600/60);b=j?r(b,c):s(b,c);if(a.to===k)return j?d("ChatPluginSetupFlowContent").getAwayHoursCalendarTooltipContentWithMidnight(b).toString():d("ChatPluginSetupFlowContent").getAwayHoursCalendarTooltipContentWithMidnightIn24HourClock(b).toString();else{c=Math.floor(a.to/3600);a=Math.floor(a.to%3600/60);c=j?r(c,a):s(c,a);return j?d("ChatPluginSetupFlowContent").getAwayHoursCalendarTooltipContent(b,c).toString():d("ChatPluginSetupFlowContent").getAwayHoursCalendarTooltipContentIn24HourClock(b,c).toString()}}function r(a,b){var c=!1,d=a;a>=0&&a<12?(a===0&&(d=a+12),c=!0):a>12&&(d=a-12);a=d.toLocaleString(void 0,{minimumIntegerDigits:2});d=b.toLocaleString(void 0,{minimumIntegerDigits:2});b=c?"AM":"PM";return{hour:a,minute:d,abbrevation:b}}function s(a,b){a=a.toLocaleString(void 0,{minimumIntegerDigits:2});b=b.toLocaleString(void 0,{minimumIntegerDigits:2});return{hour:a,minute:b}}}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("ChatPluginSetupFlowAutomationStatusText.react",["ix","ChatPluginSetupFlowContent","ChatPluginSetupFlowUtil","GeoFlexbox.react","GeoText.react","Image.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){a=a.awayStatus;return i.jsxs(c("GeoFlexbox.react"),{alignItems:"center",children:[i.jsx("span",{className:"x1emribx xr1yuqi",children:i.jsx(c("Image.react"),{src:a===d("ChatPluginSetupFlowUtil").AwayStatus.AVAILABLE?h("1766441"):h("1766440")})}),i.jsx(c("GeoText.react"),{children:a===d("ChatPluginSetupFlowUtil").AwayStatus.AVAILABLE?d("ChatPluginSetupFlowContent").AVAILABLE_TAB:d("ChatPluginSetupFlowContent").AWAY_TAB})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("ChatPluginSetupFlowAutomationAwayHoursCalendar.react",["BizInboxTimeUtils","ChatPluginSetupFlowAutomationAwayHoursCalendarItem.react","ChatPluginSetupFlowAutomationStatusText.react","ChatPluginSetupFlowContext","ChatPluginSetupFlowUtil","GeoFlexbox.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useContext;function a(a){a=i(c("ChatPluginSetupFlowContext"));a=a.state;var b=a.awayRanges;a=a.customizationConfig.awayHoursEnabled;if(!a||b==null||d("BizInboxTimeUtils").getTimeRangesFromJson(b).size===0)return null;a=0;b=[];while(a<7){var e=h.jsx("div",{children:h.jsx(c("GeoFlexbox.react"),{alignItems:"center",children:h.jsx(c("ChatPluginSetupFlowAutomationAwayHoursCalendarItem.react"),{dayOfWeek:a})})},a);b.push(e);a++}return h.jsxs("div",{className:"xw7yly9 xyamay9 x1pi30zi x1l90r2v x1swvt13 x13fuv20 xu3j5b3 x1q0q8m5 x26u7qi x178xt8z xm81vs4 xso031l xy80clv xb9moi8 xfth1om x21b0me xmls85d x1lq5wgf xgqcy7u x30kzoy x9jhf4c xh8yej3",children:[b,h.jsxs(c("GeoFlexbox.react"),{alignItems:"center",children:[h.jsx(c("ChatPluginSetupFlowAutomationStatusText.react"),{awayStatus:d("ChatPluginSetupFlowUtil").AwayStatus.AVAILABLE}),h.jsx("div",{className:"xq1n1xh",children:h.jsx(c("ChatPluginSetupFlowAutomationStatusText.react"),{awayStatus:d("ChatPluginSetupFlowUtil").AwayStatus.AWAY})})]})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("ChatPluginSetupFlowAutomationAwayMessageLink.react",["ix","BizInboxNavChannel","ChatPluginSetupFlowContext","ChatPluginSetupFlowE2ETestUtils","ChatPluginSetupFlowLoggerUtil","GeoLink.react","Image.react","react","useBizInboxRouteDispatcher"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=d("react").useContext;function a(a){var b=c("useBizInboxRouteDispatcher")(),e=j(c("ChatPluginSetupFlowContext")),f=e.state,g=a.isAwayMessage?"away_hours_edit_away_message_link_clicked":"away_hours_edit_schedule_link_clicked";e=a.isAwayMessage?d("ChatPluginSetupFlowE2ETestUtils").AUTOMATION_AWAY_MESSAGE_LINK:d("ChatPluginSetupFlowE2ETestUtils").AUTOMATION_SCHEDULE_LINK;return i.jsxs(c("GeoLink.react"),{onClick:function(){b(c("BizInboxNavChannel").AUTOMATED_RESPONSES,{auto_response_trigger:"away_message"}),d("ChatPluginSetupFlowLoggerUtil").log(f,g)},target:"_blank","data-testid":void 0,children:[a.linkText,i.jsx(c("Image.react"),{src:h("1567753"),className:"x1iog12x"})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("ChatPluginSetupFlowAutomationScheduleAwayHoursSection.react",["ChatPluginSetupFlowAutomationAwayHoursCalendar.react","ChatPluginSetupFlowAutomationAwayMessageLink.react","ChatPluginSetupFlowContent","ChatPluginSetupFlowE2ETestUtils","GeoFlexbox.react","GeoText.react","geoMargin","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"x1xlr1w8 x1f6kntn xw7yly9","data-testid":void 0,children:d("ChatPluginSetupFlowContent").SCHEDULE_AWAY_HOURS_TITLE}),h.jsx(c("GeoFlexbox.react"),{alignItems:"center",children:h.jsx(c("GeoText.react"),{children:d("ChatPluginSetupFlowContent").SCHEDULE_AWAY_HOURS_DESCRIPTION})}),h.jsx(c("GeoFlexbox.react"),{alignItems:"center",children:h.jsx(c("ChatPluginSetupFlowAutomationAwayHoursCalendar.react"),{})}),h.jsx(c("GeoFlexbox.react"),{alignItems:"center",xstyle:c("geoMargin").top16,children:h.jsx(c("ChatPluginSetupFlowAutomationAwayMessageLink.react"),{linkText:d("ChatPluginSetupFlowContent").SCHEDULE_AWAY_HOURS_EDIT_LINK,isAwayMessage:!1})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("ChatPluginSetupFlowAutomationTabTextInput.react",["ChatPluginSetupFlowAutomationAwayMessageLink.react","ChatPluginSetupFlowAutomationEmojiInputArea.react","ChatPluginSetupFlowContent","ChatPluginSetupFlowContext","ChatPluginSetupFlowE2ETestUtils","ChatPluginSetupFlowLoggerUtil","ChatPluginSetupFlowUtil","GeoFlexbox.react","GeoTab.react","GeoTabGroup.react","GeoText.react","GeoTextArea.react","emptyFunction","geoMargin","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useContext,j=b.useEffect,k=b.useState;function a(a){var b=a.isAwayHoursEnabled,e=a.textInputType;a=i(c("ChatPluginSetupFlowContext"));var g=a.dispatchAction,l=a.state;a=l.automationConfig;var m=a.isEnabled,n=a.greetingMessage;a=l.customizationConfig;var o=a.awayGreeting,p=a.loggedInGreeting,q=l.previewConfig.previewDialogType;a=k(null);var r=a[0],s=a[1];a=k(null);var t=a[0],u=a[1];a=k(l.availabilityStatus);var v=a[0];a=a[1];var w=e===d("ChatPluginSetupFlowUtil").AutomationTextInputType.GREETING?d("ChatPluginSetupFlowE2ETestUtils").AUTOMATION_AVAILABLE_TAB_GERRTING:d("ChatPluginSetupFlowE2ETestUtils").AUTOMATION_AVAILABLE_TAB_WELCOME_MESSAGE;w=e===d("ChatPluginSetupFlowUtil").AutomationTextInputType.GREETING?d("ChatPluginSetupFlowE2ETestUtils").AUTOMATION_AWAY_TAB_GREETING:d("ChatPluginSetupFlowE2ETestUtils").AUTOMATION_AWAY_TAB_WELCOME_MESSAGE;j(function(){var a=!m||n.length!==0;!a?s(d("ChatPluginSetupFlowContent").AUTOMATION_WELCOME_MESSAGE_ERROR):s(null);var b=p.length!==0&&o.length!==0;!b?u(d("ChatPluginSetupFlowContent").GREETING_INPUT_EMPTY_ERROR):u(null);g({type:"SET_IS_CURRENT_CONFIG_VALID",isCurrentConfigValid:a&&b})},[n.length,m,p.length,g,o.length]);return h.jsxs(h.Fragment,{children:[b&&h.jsxs(c("GeoTabGroup.react"),{onChange:a,value:v,xstyle:c("geoMargin").bottom16,children:[h.jsx(c("GeoTab.react"),{"data-testid":void 0,label:d("ChatPluginSetupFlowContent").AVAILABLE_TAB,value:d("ChatPluginSetupFlowUtil").AwayStatus.AVAILABLE,onActivate:function(){g({type:"SET_AVAILABILITY_STATUS",availabilityStatus:d("ChatPluginSetupFlowUtil").AwayStatus.AVAILABLE}),y()}}),h.jsx(c("GeoTab.react"),{"data-testid":void 0,label:d("ChatPluginSetupFlowContent").AWAY_TAB,value:d("ChatPluginSetupFlowUtil").AwayStatus.AWAY,onActivate:function(){g({type:"SET_AVAILABILITY_STATUS",availabilityStatus:d("ChatPluginSetupFlowUtil").AwayStatus.AWAY}),y(),d("ChatPluginSetupFlowLoggerUtil").log(l,"automation_away_tab_clicked",JSON.stringify({tab_type:e}))}})]}),e===d("ChatPluginSetupFlowUtil").AutomationTextInputType.GREETING?h.jsx(c("GeoTextArea.react"),{"data-testid":void 0,errorMessage:t,isResizable:!1,isLabelHidden:!0,label:d("ChatPluginSetupFlowContent").GREETING_INPUT_LABEL,rows:d("ChatPluginSetupFlowUtil").TEXT_INPUT_MAX_ROWS,maxLength:d("ChatPluginSetupFlowUtil").GREETING_MESSAGE_MAX_LENGTH,value:b&&v===d("ChatPluginSetupFlowUtil").AwayStatus.AWAY?o:p,onChange:function(a){b&&v===d("ChatPluginSetupFlowUtil").AwayStatus.AWAY?g({type:"SET_AWAY_GREETING",awayGreeting:a}):g({type:"SET_LOGGED_IN_GREETING",loggedInGreeting:a}),g({type:"SET_PREVIEW_DIALOG_VISIBLE",previewDialogVisible:!0})},onFocus:function(){q!==d("ChatPluginSetupFlowUtil").PreviewDialogType.WELCOME_PAGE&&g({type:"SET_PREVIEW_DIALOG_TYPE",previewDialogType:d("ChatPluginSetupFlowUtil").PreviewDialogType.WELCOME_PAGE})}}):x()]});function x(){return b&&v===d("ChatPluginSetupFlowUtil").AwayStatus.AWAY?h.jsxs("div",{onClick:function(){q!==d("ChatPluginSetupFlowUtil").PreviewDialogType.AUTOMATION&&g({type:"SET_PREVIEW_DIALOG_TYPE",previewDialogType:d("ChatPluginSetupFlowUtil").PreviewDialogType.AUTOMATION})},role:"none",children:[h.jsx(c("GeoTextArea.react"),{isDisabled:!0,isResizable:!1,isLabelHidden:!0,label:d("ChatPluginSetupFlowContent").AUTOMATION_WELCOME_TITLE,rows:d("ChatPluginSetupFlowUtil").TEXT_INPUT_MAX_ROWS,value:l.awayMessage,onChange:c("emptyFunction")}),h.jsx(c("GeoFlexbox.react"),{children:h.jsx(c("GeoText.react"),{xstyle:c("geoMargin").top16,children:d("ChatPluginSetupFlowContent").AUTOMATION_AWAY_WELCOME_MESSAGE_EDIT_NOTICE})}),h.jsx(c("ChatPluginSetupFlowAutomationAwayMessageLink.react"),{linkText:d("ChatPluginSetupFlowContent").AUTOMATION_AWAY_WELCOME_MESSAGE_EDIT_LINK,isAwayMessage:!0})]}):h.jsx(c("ChatPluginSetupFlowAutomationEmojiInputArea.react"),{errorMessage:r,isLabelHidden:!0,label:d("ChatPluginSetupFlowContent").AUTOMATION_WELCOME_TITLE,rows:d("ChatPluginSetupFlowUtil").TEXT_INPUT_MAX_ROWS,maxLength:d("ChatPluginSetupFlowUtil").TEXT_INPUT_MAX_LENGTH,text:n,"data-testid":void 0,onChange:function(a){g({type:"SET_AUTOMATION_GREETING_MESSAGE",greetingMessage:a});if(a.length===0&&!m)return;else g({type:"SET_AUTOMATION_IS_ENABLED",isEnabled:!0}),g({type:"SET_PREVIEW_DIALOG_VISIBLE",previewDialogVisible:!0})},onFocus:function(){q!==d("ChatPluginSetupFlowUtil").PreviewDialogType.AUTOMATION&&g({type:"SET_PREVIEW_DIALOG_TYPE",previewDialogType:d("ChatPluginSetupFlowUtil").PreviewDialogType.AUTOMATION})}})}x.displayName=x.name+" [from "+f.id+"]";function y(){e===d("ChatPluginSetupFlowUtil").AutomationTextInputType.GREETING?q!==d("ChatPluginSetupFlowUtil").PreviewDialogType.WELCOME_PAGE&&g({type:"SET_PREVIEW_DIALOG_TYPE",previewDialogType:d("ChatPluginSetupFlowUtil").PreviewDialogType.WELCOME_PAGE}):q!==d("ChatPluginSetupFlowUtil").PreviewDialogType.AUTOMATION&&g({type:"SET_PREVIEW_DIALOG_TYPE",previewDialogType:d("ChatPluginSetupFlowUtil").PreviewDialogType.AUTOMATION})}}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("ChatPluginSetupFlowNotifyChanges.react",["ChatPluginSetupFlowContent","GeoNotice.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(){return h.jsx("div",{children:h.jsx(c("GeoNotice.react"),{status:"info",children:d("ChatPluginSetupFlowContent").NOFIFY_CHANGES})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("ChatPluginSetupFlowSettingsSection.react",["ix","GeoBaseText.react","GeoFlexbox.react","GeoHeading.react","GeoTooltip.react","Image.react","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j={wrapper:{marginTop:"xcxhlts",marginBottom:"x1fqp7bg",$$css:!0},lastChildWrapper:{marginTop:"xcxhlts",$$css:!0},tooltip:{marginLeft:"x1iog12x",marginTop:"x7r5mf7",$$css:!0},children:{marginTop:"x14vqqas",$$css:!0},action:{marginLeft:"x1tpqehw",$$css:!0}};function a(a){var b=a.header,d=a.description,e=a.tooltip,f=a.action,g=a.children;a=a.isLastChild;return i.jsxs("div",{className:c("stylex")(a===!0?j.lastChildWrapper:j.wrapper),children:[i.jsxs(c("GeoFlexbox.react"),{alignItems:"center",justifyContent:"space-between",children:[i.jsxs(c("GeoFlexbox.react"),{alignItems:"start",justifyContent:"space-between",direction:"column",children:[i.jsxs(c("GeoFlexbox.react"),{alignItems:"start",justifyContent:"space-between",direction:"row",children:[b!=null?i.jsx(c("GeoHeading.react"),{level:3,children:b}):null,e!=null?i.jsx(c("GeoTooltip.react"),{content:e,"data-testid":void 0,children:i.jsx("div",{className:"x1iog12x x7r5mf7",children:i.jsx(c("Image.react"),{src:h("1462226")})})}):null]}),d!=null?i.jsx(c("GeoBaseText.react"),{color:"headingDescription",size:"value",children:d}):null]}),f!=null?i.jsx("div",{className:"x1tpqehw",children:f}):null]}),g!=null?i.jsxs("div",{className:"x14vqqas",children:[" ",g]}):null]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("ChatPluginSetupFlowAutomationView.react",["ChatPluginSetupFlowAutomationAddFAQButton.react","ChatPluginSetupFlowAutomationEmojiInputArea.react","ChatPluginSetupFlowAutomationFAQEntry.react","ChatPluginSetupFlowAutomationScheduleAwayHoursSection.react","ChatPluginSetupFlowAutomationStatusText.react","ChatPluginSetupFlowAutomationTabTextInput.react","ChatPluginSetupFlowContent","ChatPluginSetupFlowContext","ChatPluginSetupFlowE2ETestUtils","ChatPluginSetupFlowLoggerUtil","ChatPluginSetupFlowNotifyChanges.react","ChatPluginSetupFlowSettingsSection.react","ChatPluginSetupFlowUtil","GeoSwitch.react","react","useBizInboxAwayToggle"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useContext,j=b.useEffect,k=b.useRef,l=b.useState;function a(){var a=i(c("ChatPluginSetupFlowContext")),b=a.dispatchAction,e=a.state,f=e.automationConfig,g=e.automationConfigOriginal,m=f.isEnabled,n=f.isFaqEnabled,o=f.greetingMessage,p=f.faqList;a=e.customizationConfig.awayHoursEnabled;var q=e.previewConfig.previewDialogType,r=l(null),s=r[0],t=r[1];r=l(null);var u=r[0],v=r[1];r=l(!1);var w=r[0],x=r[1];r=k("greetingMessageInputRef");var y=c("useBizInboxAwayToggle")(e.page.pageID);y=y.isAway;j(function(){var a=!m||o.length!==0;!a?t(d("ChatPluginSetupFlowContent").AUTOMATION_WELCOME_MESSAGE_ERROR):t(null);var c=!n||p.every(function(a){return a.question.length>0&&a.response_body.length>0});b({type:"SET_IS_CURRENT_CONFIG_VALID",isCurrentConfigValid:a&&c})},[b,o.length,m,p,n]);j(function(){JSON.stringify(f)!==JSON.stringify(g)?x(!0):x(!1)},[f,g]);h.jsx(c("ChatPluginSetupFlowAutomationEmojiInputArea.react"),{"data-testid":void 0,ref:r,errorMessage:s,className:"x1anpbxc",isLabelHidden:!0,label:"",rows:d("ChatPluginSetupFlowUtil").TEXT_INPUT_MAX_ROWS,maxLength:d("ChatPluginSetupFlowUtil").TEXT_INPUT_MAX_LENGTH,text:o,onChange:function(a){b({type:"SET_AUTOMATION_GREETING_MESSAGE",greetingMessage:a});if(a.length===0&&!m)return;else b({type:"SET_AUTOMATION_IS_ENABLED",isEnabled:!0})},onFocus:function(){q!==d("ChatPluginSetupFlowUtil").PreviewDialogType.AUTOMATION&&b({type:"SET_PREVIEW_DIALOG_TYPE",previewDialogType:d("ChatPluginSetupFlowUtil").PreviewDialogType.AUTOMATION})}});r=p.map(function(a,b){return h.jsx("div",{className:"xod5an3",children:h.jsx(c("ChatPluginSetupFlowAutomationFAQEntry.react"),{faqIndex:b,isNewEntry:b===u},a.uuid)},b)});return h.jsxs("div",{"data-testid":void 0,children:[h.jsxs("div",{className:"xod5an3",children:[w===!0&&h.jsx(c("ChatPluginSetupFlowNotifyChanges.react"),{}),h.jsx(c("ChatPluginSetupFlowSettingsSection.react"),{header:d("ChatPluginSetupFlowContent").AWAY_HOURS_TITLE,description:d("ChatPluginSetupFlowContent").AWAY_HOURS_DESCRIPTION,action:h.jsx(c("GeoSwitch.react"),{label:"",onChange:function(a){b({type:"SET_AWAY_HOURS_ENABLED",awayHoursEnabled:a}),d("ChatPluginSetupFlowLoggerUtil").log(e,"away_hours_toggle_clicked",JSON.stringify({away_hours_enabled:a}))},value:a,"data-testid":void 0}),children:a?h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"x1xlr1w8 x1f6kntn","data-testid":void 0,children:d("ChatPluginSetupFlowContent").AWAY_STATUS_TITLE}),h.jsx(c("ChatPluginSetupFlowAutomationStatusText.react"),{awayStatus:y===!0?d("ChatPluginSetupFlowUtil").AwayStatus.AWAY:d("ChatPluginSetupFlowUtil").AwayStatus.AVAILABLE}),h.jsx(c("ChatPluginSetupFlowAutomationScheduleAwayHoursSection.react"),{})]}):null}),h.jsx(c("ChatPluginSetupFlowSettingsSection.react"),{header:d("ChatPluginSetupFlowContent").GREETING_HEADER,description:d("ChatPluginSetupFlowContent").GREETING_DESCRIPTION_UPDATED,children:h.jsx(c("ChatPluginSetupFlowAutomationTabTextInput.react"),{isAwayHoursEnabled:a,textInputType:d("ChatPluginSetupFlowUtil").AutomationTextInputType.GREETING})}),h.jsx(c("ChatPluginSetupFlowSettingsSection.react"),{header:d("ChatPluginSetupFlowContent").AUTOMATION_WELCOME_TITLE,description:d("ChatPluginSetupFlowContent").AUTOMATION_WELCOME_MESSAGE_DESCRIPTION,action:h.jsx(c("GeoSwitch.react"),{"data-testid":void 0,label:"",onChange:function(a){d("ChatPluginSetupFlowLoggerUtil").log(e,"automation_toggled",JSON.stringify({automation_enabled:a})),b({type:"SET_AUTOMATION_IS_ENABLED",isEnabled:a}),q!==d("ChatPluginSetupFlowUtil").PreviewDialogType.AUTOMATION&&b({type:"SET_PREVIEW_DIALOG_TYPE",previewDialogType:d("ChatPluginSetupFlowUtil").PreviewDialogType.AUTOMATION})},value:m}),children:h.jsx(c("ChatPluginSetupFlowAutomationTabTextInput.react"),{isAwayHoursEnabled:a,textInputType:d("ChatPluginSetupFlowUtil").AutomationTextInputType.WELCOME_MESSAGE})})]}),h.jsx(c("ChatPluginSetupFlowSettingsSection.react"),{isLastChild:!0,header:d("ChatPluginSetupFlowContent").AUTOMATION_FAQ_TITLE,description:d("ChatPluginSetupFlowContent").AUTOMATION_FAQ_DESCRIPTION,tooltip:d("ChatPluginSetupFlowContent").AUTOMATION_FAQ_TOOLTIP,action:h.jsx(c("GeoSwitch.react"),{"data-testid":void 0,disabledMessage:m?void 0:d("ChatPluginSetupFlowContent").AUTOMATION_FAQ_DISABLED_TOOLTIP,isDisabled:!m,label:"",onChange:function(a){d("ChatPluginSetupFlowLoggerUtil").log(e,"automation_faq_toggled",JSON.stringify({automation_faq_enabled:a})),b({type:"SET_AUTOMATION_IS_FAQ_ENABLED",isFaqEnabled:a}),q!==d("ChatPluginSetupFlowUtil").PreviewDialogType.AUTOMATION&&b({type:"SET_PREVIEW_DIALOG_TYPE",previewDialogType:d("ChatPluginSetupFlowUtil").PreviewDialogType.AUTOMATION})},value:n&&m}),children:n&&m?h.jsxs(h.Fragment,{children:[r,h.jsx(c("ChatPluginSetupFlowAutomationAddFAQButton.react"),{onAddFaqEntry:function(a){v(a),d("ChatPluginSetupFlowLoggerUtil").log(e,"automation_faq_entry_add","")}})]}):null})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("ChatPluginGtmApiConstants",[],(function(a,b,c,d,e,f){"use strict";a={name:"All Pages",triggerID:"2147479553"};b="/tagmanager/v2/accounts/";c="/tagmanager/v1/accounts/";d={client_id:"705622458659-oke0fgbkk7q9iki4kfg1g8iug9kfh6b9.apps.googleusercontent.com",key:"AIzaSyDaxp8oOu5qHgz41aEXwhvjK4xg7Jada6A",scopes:"https://www.googleapis.com/auth/tagmanager.edit.containers https://www.googleapis.com/auth/tagmanager.publish https://www.googleapis.com/auth/tagmanager.edit.containerversions"};f.DEFAULT_TRIGGER=a;f.BASE_URI=b;f.BASE_V1_URI=c;f.GOOGLE_API_CONSTANTS=d}),66);
__d("ChatPluginGtmGoogleResponseError",[],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var c,d,e=b.request;b=b.response;d=a.call(this)||this;d.message=((c=b)!=null?(c=c.result)!=null?(c=c.error)!=null?c.message:c:c:c)||"";d.request=e;d.response=b;return d}return b}(babelHelpers.wrapNativeSuper(Error));f["default"]=a}),66);
__d("ChatPluginGtmApiHelperUtils",["ChatPluginGtmApiConstants","ChatPluginGtmGoogleResponseError","ChatPluginSetupFlowContent","DOM","Promise","URI","asyncToGeneratorRuntime","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";var h=null,i=new(b("Promise"))(function(a){return h=a}),j={injectGoogleApiJS:function(){var a=c("DOM").create("script",{async:!0,onload:j._initAuth,src:"//apis.google.com/js/api.js",type:"text/javascript"});c("DOM").appendContent(document.body,a)},_initAuth:function(){window.gapi.load("client:auth2",j._gapiScriptLoad)},_gapiScriptLoad:function(){window.gapi.client.setApiKey(d("ChatPluginGtmApiConstants").GOOGLE_API_CONSTANTS.key),window.gapi.auth2.init({client_id:d("ChatPluginGtmApiConstants").GOOGLE_API_CONSTANTS.client_id,scope:d("ChatPluginGtmApiConstants").GOOGLE_API_CONSTANTS.scopes}),c("nullthrows")(h)()},triggerSignIn:function(a,b,c){i.then(function(){window.gapi.auth2.getAuthInstance().signIn(c).then(a,b)})},getAccounts:function(){return j._execRequest({method:"GET",path:d("ChatPluginGtmApiConstants").BASE_URI})},getContainers:function(a){a=new(c("URI"))(""+d("ChatPluginGtmApiConstants").BASE_URI+a+"/containers/");return j._execRequest({method:"GET",path:a.toString()})},publishChatPluginBaseCode:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f){yield j._execRequest({body:j._getChatPluginTag(e,f),method:"POST",path:new(c("URI"))(""+d("ChatPluginGtmApiConstants").BASE_V1_URI+a+"/containers/"+b+"/tags").toString()});e=(yield j._execRequest({method:"POST",path:new(c("URI"))(""+d("ChatPluginGtmApiConstants").BASE_V1_URI+a+"/containers/"+b+"/versions").toString()}));f=c("nullthrows")(e.result.containerVersion).containerVersionId;return j._execRequest({method:"POST",path:new(c("URI"))(""+d("ChatPluginGtmApiConstants").BASE_V1_URI+a+"/containers/"+b+"/versions/"+f+"/publish").toString()})});function e(b,c,d,e){return a.apply(this,arguments)}return e}(),_execRequest:function(a){return new(b("Promise"))(function(b,d){window.gapi.client.request(a).then(function(a){b(a)},function(b){d(new(c("ChatPluginGtmGoogleResponseError"))({request:a,response:b}))})})},_getChatPluginTag:function(a,b){b=d("ChatPluginSetupFlowContent").getCodeSnippet(b,a,"gtm_setup_tool");return{firingTriggerId:[d("ChatPluginGtmApiConstants").DEFAULT_TRIGGER.triggerID],liveOnly:!1,name:"Facebook Chat Plugin",parameter:[{key:"html",type:"template",value:b},{key:"supportDocumentWrite",type:"boolean",value:"false"}],type:"html"}}};a=j;g["default"]=a}),98);
__d("ChatPluginGtmTypes",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({UNCALLED:1,PENDING:2,SUCCEEDED:3,FAILED:4});f.ChatPluginGtmCallStatus=a}),66);
__d("ChatPluginSetupFlowFinishImage.react",["Image.react","Keyframes.react","bx","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=156;function a(a){a=a.useAnimation;a=a===void 0?!0:a;return a?h.jsx(c("Keyframes.react"),{assetName:"general-success-animated",height:i,projectName:"chat_plugin_setup_flow",source:c("bx").getURL(c("bx")("1922851")),width:i}):h.jsx(c("Image.react"),{height:i,src:"/images/messenger_commerce/chat_plugin/general-success-1_success_small-2x.png",width:i})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("ChatPluginSetupFlowCodeInstallFinishView.react",["ChatPluginSetupFlowFinishImage.react","GeoTextPairing.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={imageContainer:{display:"x78zum5",justifyContent:"xl56j7k",marginTop:"x1gslohp",marginEnd:"x11i5rnm",marginBottom:"xieb3on",marginStart:"x1mh8g0r",$$css:!0},textContainer:{marginTop:"xr1yuqi",marginEnd:"xkrivgy",marginBottom:"x4ii5y1",marginStart:"x1gryazu",width:"x9g0s24",$$css:!0}};function a(a){var b=a.description,d=a.heading;a=a.useAnimation;return h.jsxs("div",{children:[h.jsx("div",{className:"x78zum5 xl56j7k x1gslohp x11i5rnm xieb3on x1mh8g0r",children:h.jsx(c("ChatPluginSetupFlowFinishImage.react"),{useAnimation:a})}),h.jsx(c("GeoTextPairing.react"),{description:b,heading:d,size:"header2",textAlign:"center",xstyle:i.textContainer})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("AbstractSearchSource",["Promise"],(function(a,b,c,d,e,f){a=function(){function a(){}var c=a.prototype;c.bootstrap=function(a){var c=this;this.$1||(this.$1=new(b("Promise"))(function(a){c.bootstrapImpl(a)}));return this.$1.then(a)};c.search=function(a,b,c){this.searchImpl(a,b,c)};c.bootstrapImpl=function(a){a()};c.searchImpl=function(a,b,c){throw new Error("Abstract method #searchImpl is not implemented.")};c.clearBootstrappedData=function(){this.$1=null};return a}();f["default"]=a}),66);
__d("SearchSourceQueryStatus",[],(function(a,b,c,d,e,f){a="ACTIVE";b="COMPLETE";f.ACTIVE=a;f.COMPLETE=b}),66);
__d("SearchSourceCallbackManager",["invariant","SearchSourceQueryStatus","createObjectFrom","nullthrows"],(function(a,b,c,d,e,f,g,h){a=function(){function a(a){this.$9=a.parseFn,typeof this.$9==="function"||h(0,4065),this.$8=a.matchFn,typeof this.$8==="function"||h(0,4066),this.$2=a.alwaysPrefixMatch||!1,this.$6=a.indexFn||i,this.$4=a.exclusions||{},this.reset()}var b=a.prototype;b.search=function(a,b){var c=this.$13(a,b);if(c)return 0;this.$1.push({queryString:a,callback:b});c=this.$1.length-1;this.$10.push(c);return c};b.$13=function(a,b){var c=this,e=this.$14(a),f=!!this.$5[a];if(!e.length){b([],a,f?d("SearchSourceQueryStatus").COMPLETE:d("SearchSourceQueryStatus").ACTIVE);return f}e=e.map(function(a){return c.$3[a]});b(e,a,f?d("SearchSourceQueryStatus").COMPLETE:d("SearchSourceQueryStatus").ACTIVE);return f};b.$15=function(){var a=this.$10;this.$10=[];a.forEach(this.$16,this)};b.$16=function(a){var b=this.$1[a];if(!b)return;b=this.$13(b.queryString,b.callback);if(b){delete this.$1[a];return}this.$10.push(a)};b.reset=function(){this.$3={},this.$12={},this.$7={},this.$11={},this.$5={},this.$10=[],this.$1=[void 0]};b.addLocalEntries=function(a){var b=this;a.forEach(function(a){var c=a.getUniqueID(),d=b.$6(a);b.$3[c]=a;b.$12[c]=d;a=b.$9(d);a.tokens.forEach(function(a){Object.prototype.hasOwnProperty.call(b.$7,a)||(b.$7[a]={}),b.$7[a][c]=!0})});this.$15()};b.addQueryEntries=function(a,b,e){var f=this;e===d("SearchSourceQueryStatus").COMPLETE&&this.setQueryStringAsExhausted(b);e=this.$14(b);var g=this.$9(b).flatValue;this.$11[g]=c("createObjectFrom")(e,!0);a.forEach(function(a){var b=a.getUniqueID();f.$3[b]=a;f.$12[b]=f.$6(a);f.$11[g][b]=!0});this.$15()};b.unsubscribe=function(a){delete this.$1[a]};b.removeEntry=function(a){delete this.$3[a]};b.getAllEntriesMap=function(){return this.$3};b.setQueryStringAsExhausted=function(a){this.$5[a]=!0};b.unsetQueryStringAsExhausted=function(a){delete this.$5[a]};b.$14=function(a){var b=this,c=this.$17(a,this.$18(a));a=this.$17(a,this.$19(a));c=c.concat(a);var d={},e=[];c.forEach(function(a){d[a]==null&&b.$3[a]!=null&&b.$4[a]==null&&(e.push(a),d[a]=!0)});return e};b.$17=function(a,b){var c=this.$20(a,b),d=this.$3;function e(a,b){if(c[a]!==c[b])return c[a]?-1:1;a=d[a];b=d[b];if(a.getOrder()!==b.getOrder())return a.getOrder()-b.getOrder();var e=a.getTitle().length,f=b.getTitle().length;return e!==f?e-f:a.getUniqueID()-b.getUniqueID()}return b.sort(e).slice()};b.$20=function(a,b){var c=this,d={};b.forEach(function(b){d[b]=c.$8(a,c.$12[b])});return d};b.$18=function(a){var b=this,d=this.$9(a,this.$2),e=this.$2?c("nullthrows")(d.sortedTokens):d.tokens,f=e.length,g=d.isPrefixQuery?f-1:null,h={},i={},j={};d=!1;var k={},l=0;e.forEach(function(a,c){if(Object.prototype.hasOwnProperty.call(k,a))return;l++;k[a]=!0;for(var e in b.$7){var f=e===a&&!Object.prototype.hasOwnProperty.call(h,e),m=!1;f||(m=(b.$2||g===c)&&e.indexOf(a)===0);if(!f&&!m){Object.prototype.hasOwnProperty.call(h,e)||(d=!0);continue}e===a?(Object.prototype.hasOwnProperty.call(i,e)&&(d=!0),h[e]=!0):((Object.prototype.hasOwnProperty.call(h,e)||Object.prototype.hasOwnProperty.call(i,e))&&(d=!0),i[e]=!0);for(f in b.$7[e])(c===0||Object.prototype.hasOwnProperty.call(j,f)&&j[f]==l-1)&&(j[f]=l)}});e=Object.keys(j).filter(function(a){return j[a]==l});(d||l<f)&&(e=this.$21(a,e));return e};b.$19=function(a){var b=this.$9(a).flatValue,c=this.$22(b);return Object.prototype.hasOwnProperty.call(this.$11,b)?c:this.$21(a,c)};b.$22=function(a){var b=0,c=null,d=this.$11;Object.keys(d).forEach(function(d){(a.indexOf(d)===0&&d.length>b||d===a)&&(b=d.length,c=d)});return c!=null&&Object.prototype.hasOwnProperty.call(d,c)?Object.keys(d[c]):[]};b.$21=function(a,b){var c=this;return b.filter(function(b){return c.$8(a,c.$12[b])})};return a}();function i(a){return[a.getTitle(),a.getKeywordString()].join(" ")}g["default"]=a}),98);
__d("StaticSearchSource",["AbstractSearchSource","SearchSourceCallbackManager","TokenizeUtil"],(function(a,b,c,d,e,f,g){a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,d,e,f){var g;e===void 0&&(e=!0);f===void 0&&(f=!0);g=a.call(this)||this;g.$StaticSearchSource2=b;g.$StaticSearchSource3=e;g.$StaticSearchSource4=f;g.$StaticSearchSource1=new(c("SearchSourceCallbackManager"))({parseFn:c("TokenizeUtil").parse,matchFn:c("TokenizeUtil").isQueryMatch,indexFn:d});g.$StaticSearchSource1.addLocalEntries(g.$StaticSearchSource2);return g}var d=b.prototype;d.searchImpl=function(a,b,c){!a?b(this.$StaticSearchSource4?this.$StaticSearchSource2:[],a):(this.$StaticSearchSource3&&this.$StaticSearchSource1.setQueryStringAsExhausted(a),this.$StaticSearchSource1.search(a,b))};d.getSearchableEntries=function(){return this.$StaticSearchSource2};return b}(c("AbstractSearchSource"));g["default"]=a}),98);
__d("XCustomerChatEmailCMSController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/settings/messenger_platform/customer_chat/cms/",{})}),null);
__d("ChatPluginSetupFlowEmailInstructionView.react",["AsyncRequest","CIWebmailValidator","ChatPluginSetupFlowContent","ChatPluginSetupFlowContext","ChatPluginSetupFlowE2ETestUtils","ChatPluginSetupFlowSharedContent","ChatPluginSetupFlowUtil","CustomerChatPluginSettingsSitevarConfig","GeoHeading.react","GeoTokenizer.react","RTLKeys","SearchableEntry","ServerHTML.react","StaticSearchSource","XCustomerChatEmailCMSController","geoMargin","isStringNullOrEmpty","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useCallback,j=b.useContext,k=b.useEffect,l=b.useRef,m=b.useState,n=new(c("StaticSearchSource"))([]),o=[c("RTLKeys").RETURN,c("RTLKeys").SPACE,c("RTLKeys").COMMA,c("RTLKeys").SEMI_COLON];function a(a){var b=a.updateDisableSendButton,e=a.updateEmailRecipients;a=m([]);var f=a[0],g=a[1];a=m(null);var p=a[0],q=a[1];a=m("");var r=a[0],s=a[1];a=m();var t=a[0],u=a[1];a=j(c("ChatPluginSetupFlowContext"));var v=a.state,w=v.entryPoint;a=v.page;var x=a.pageID;a=a.pageListedWebsite;var y=v.customizationConfig,z=y.locale;y=y.websiteDomains;k(F,[z,x,a,y]);var A=l(null);F=i(function(a){A.current=a&&a.querySelector('input[role="combobox"]')},[]);var B=i(function(){s("")},[s]),C=i(function(a){g(a);a=a.map(function(a){return a.getTitle()});var f=a.filter(function(a){return d("CIWebmailValidator").isValidEmail(a)});f.length<a.length?q(d("ChatPluginSetupFlowSharedContent").EMAIL_INVALID_RECIPIENT_WARNING):f.length>c("CustomerChatPluginSettingsSitevarConfig").setup_max_email_recipients?q(d("ChatPluginSetupFlowContent").getEmailMaxRecipientWarning(c("CustomerChatPluginSettingsSitevarConfig").setup_max_email_recipients)):q(null);e(f);b(f.length===0||f.length>c("CustomerChatPluginSettingsSitevarConfig").setup_max_email_recipients)},[g,b,e]),D=i(function(a){if(c("isStringNullOrEmpty")(a))return;var b=f.some(function(b){return b.getTitle()===a});if(b)return;b=f.concat(E(a));C&&C(b)},[C,f]);a=i(function(a){var b=o.includes(a.keyCode),c=a.target===A.current;c&&b&&(a.preventDefault(),D(r),B())},[D,B,r]);y=i(function(){D(r),B()},[D,B,r]);function E(a){return new(c("SearchableEntry"))({title:a,uniqueID:a})}return h.jsxs(h.Fragment,{children:[h.jsx("div",{className:c("stylex")(c("geoMargin").bottom24),onKeyDown:a,ref:F,children:h.jsx(c("GeoTokenizer.react"),{"data-testid":void 0,icon:null,label:d("ChatPluginSetupFlowContent").EMAIL_RECIPIENT_HEADING,onBlur:y,onChange:C,onQueryChange:s,placeholder:d("ChatPluginSetupFlowSharedContent").EMAIL_RECIPIENT_PLACEHOLDER,query:r,searchSource:n,value:f,warningMessage:p})}),h.jsx(c("GeoHeading.react"),{level:4,xstyle:c("geoMargin").bottom12,children:d("ChatPluginSetupFlowContent").EMAIL_MESSAGE_HEADING}),t!==void 0?h.jsx(c("ServerHTML.react"),{blob:t}):null]});function F(){var a=c("XCustomerChatEmailCMSController").getURIBuilder().getURI(),b=d("ChatPluginSetupFlowUtil").getAllowlistedDomains(v),e=d("ChatPluginSetupFlowContent").getCodeSnippet(z,x,"install_email",w);new(c("AsyncRequest"))().setURI(a).setMethod("POST").setData({code_snippet:e,entry_point:v.entryPoint,page_id:x,whitelisted_domains:b.length>0?b.join(", "):d("ChatPluginSetupFlowSharedContent").EMPTY_DOMAINS_PLACEHOLDER}).setHandler(function(a){u(a.payload.result)}).setAllowCrossPageTransition(!0).send()}}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("XCustomerChatEmailCodeController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/settings/messenger_platform/customer_chat/send_email/",{})}),null);
__d("ChatPluginSetupFlowEmailInstructionsModal.react",["$InternalEnum","AsyncRequest","ChatPluginSetupFlowCodeInstallFinishView.react","ChatPluginSetupFlowContent","ChatPluginSetupFlowContext","ChatPluginSetupFlowE2ETestUtils","ChatPluginSetupFlowEmailInstructionView.react","ChatPluginSetupFlowLoggerUtil","ChatPluginSetupFlowSharedContent","ChatPluginSetupFlowUtil","GeoButton.react","GeoFlexbox.react","GeoModal.react","GeoModalFooter.react","GeoModalHeader.react","GeoSection.react","XCustomerChatEmailCodeController","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");e=d("react");var i=e.useContext,j=e.useState,k=b("$InternalEnum").Mirrored(["SEND_EMAIL","FINISH"]),l=548,m=732,n={finishCard:{height:"xnv457d",$$css:!0}};function a(a){var b=a.isShown,e=a.onHide;a=i(c("ChatPluginSetupFlowContext"));var g=a.state;a=j(k.SEND_EMAIL);var o=a[0],p=a[1];a=j(!0);var q=a[0],r=a[1];a=j([]);var s=a[0],t=a[1];a=function(a){r(a)};var u=function(a){t(a)};return h.jsx(c("GeoModal.react"),{"data-testid":void 0,footer:h.jsx(c("GeoModalFooter.react"),{primaryButton:h.jsx(c("GeoButton.react"),{"data-testid":void 0,isDisabled:q,label:o===k.SEND_EMAIL?d("ChatPluginSetupFlowSharedContent").SEND_BUTTON:d("ChatPluginSetupFlowContent").CONTINUE_SET_UP_BUTTON,onClick:o===k.SEND_EMAIL?w:function(){e(),p(k.SEND_EMAIL),r(!0)},variant:"primary"}),secondaryButton:o===k.SEND_EMAIL?h.jsx(c("GeoButton.react"),{label:d("ChatPluginSetupFlowContent").CANCEL_BUTTON,onClick:x}):null}),header:h.jsx(c("GeoModalHeader.react"),{description:o===k.SEND_EMAIL?d("ChatPluginSetupFlowSharedContent").EMAIL_INSTRUCTIONS_DESCRIPTION:"",heading:d("ChatPluginSetupFlowContent").EMAIL_INSTRUCTIONS_TITLE}),height:l,isShown:b,onHide:e,width:m,children:h.jsx(c("GeoSection.react"),{children:o===k.SEND_EMAIL?h.jsx(c("ChatPluginSetupFlowEmailInstructionView.react"),{updateDisableSendButton:a,updateEmailRecipients:u}):v()})});function v(){return h.jsx(c("GeoFlexbox.react"),{alignItems:"center",justifyContent:"center",xstyle:n.finishCard,children:h.jsx(c("ChatPluginSetupFlowCodeInstallFinishView.react"),{description:d("ChatPluginSetupFlowSharedContent").getEmailSentDescription(s),heading:d("ChatPluginSetupFlowSharedContent").EMAIL_SENT_TITLE,useAnimation:!1})})}v.displayName=v.name+" [from "+f.id+"]";function w(){y(),p(k.FINISH),d("ChatPluginSetupFlowLoggerUtil").log(g,"send_emails_clicked",JSON.stringify({num_recipients:s.length}),d("ChatPluginSetupFlowUtil").getAllowlistedDomains(g))}function x(){e(),d("ChatPluginSetupFlowLoggerUtil").log(g,"send_emails_cancel_clicked",JSON.stringify({num_recipients:s.length}))}function y(){var a=c("XCustomerChatEmailCodeController").getURIBuilder().getURI(),b=d("ChatPluginSetupFlowUtil").getAllowlistedDomains(g);new(c("AsyncRequest"))().setURI(a).setMethod("POST").setData({attribution:"install_email",attribution_version:g.entryPoint,locale:g.customizationConfig.locale,page_id:g.page.pageID,recipients:s,whitelisted_domains:b.length>0?b.join(", "):d("ChatPluginSetupFlowSharedContent").EMPTY_DOMAINS_PLACEHOLDER}).setAllowCrossPageTransition(!0).setHandler(function(){d("ChatPluginSetupFlowLoggerUtil").log(g,"send_emails_success","")}).setErrorHandler(function(a){d("ChatPluginSetupFlowLoggerUtil").log(g,"send_emails_fail",JSON.stringify({error_summary:a.getErrorSummary(),error_description:a.getErrorDescriptionString()}))}).send()}}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("ChatPluginSetupFlowEmailInstructionsLink.react",["ChatPluginSetupFlowContent","ChatPluginSetupFlowContext","ChatPluginSetupFlowE2ETestUtils","ChatPluginSetupFlowEmailInstructionsModal.react","ChatPluginSetupFlowLoggerUtil","GeoLink.react","react","useBoolean"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useContext;function a(){var a=i(c("ChatPluginSetupFlowContext")),b=a.state;a=c("useBoolean")(!1);var e=a.value,f=a.setTrue;a=a.setFalse;return h.jsxs(h.Fragment,{children:[h.jsx(c("GeoLink.react"),{"data-testid":void 0,onClick:g,children:d("ChatPluginSetupFlowContent").EMAIL_INSTRUCTIONS_TITLE}),h.jsx(c("ChatPluginSetupFlowEmailInstructionsModal.react"),{isShown:e,onHide:a})]});function g(){f(),d("ChatPluginSetupFlowLoggerUtil").log(b,"email_instructions_clicked","")}}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("ChatPluginSetupFlowCodeInstallModalCard.react",["ChatPluginSetupFlowContent","ChatPluginSetupFlowContext","ChatPluginSetupFlowE2ETestUtils","ChatPluginSetupFlowEmailInstructionsLink.react","ChatPluginSetupFlowLoggerUtil","GeoButton.react","GeoModalCard.react","GeoModalFooter.react","GeoModalHeader.react","GeoSection.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useContext,j=460;function a(a){var b=a.children,e=a.currentStep,f=a.disabledMessage,g=a.description,k=a.heading,l=a.isNextButtonDisabled,m=a.isNextButtonLoading,n=a.nextButtonText,o=a.onBackClick,p=a.onNextClick;a=a.showEmailInstructions;var q=i(c("ChatPluginSetupFlowContext")),r=q.state;return h.jsx(c("GeoModalCard.react"),{footer:h.jsx(c("GeoModalFooter.react"),{primaryButton:h.jsx(c("GeoButton.react"),{isLoading:(q=m)!=null?q:!1,"data-testid":void 0,disabledMessage:(m=f)!=null?m:null,isDisabled:(q=l)!=null?q:!1,label:n,onClick:s,variant:"primary"}),secondaryButton:o&&h.jsx(c("GeoButton.react"),{label:d("ChatPluginSetupFlowContent").BACK_BUTTON,onClick:t}),startContent:a===!0?h.jsx(c("ChatPluginSetupFlowEmailInstructionsLink.react"),{}):null}),header:h.jsx(c("GeoModalHeader.react"),{description:g,heading:(f=k)!=null?f:""}),height:j,children:h.jsx(c("GeoSection.react"),{children:b})});function s(){e!==void 0&&d("ChatPluginSetupFlowLoggerUtil").log(r,"code_stepper_next_clicked",JSON.stringify({current_step:e})),p()}function t(){e!==void 0&&d("ChatPluginSetupFlowLoggerUtil").log(r,"code_stepper_back_clicked",JSON.stringify({current_step:e})),o&&o()}}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("ChatPluginSetupFlowCodeSnippetCopy.react",["ChatPluginSetupFlowContent","Clipboard","GeoButton.react","GeoScrollableArea.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={codeSnippetContainer:{borderTop:"xsrmf6d",borderEnd:"x4kys5h",borderBottom:"x1u3dixk",borderStart:"xpw62b9",borderTopStartRadius:"xhk9q7s",borderTopEndRadius:"x1otrzb0",borderBottomEndRadius:"x1i1ezom",borderBottomStartRadius:"x1o6z2jb",color:"xkn7p67",fontSize:"x1f6kntn",height:"xnfxvih",lineHeight:"x37zpob",marginBottom:"x1e56ztr",whiteSpace:"x1sdyfia",$$css:!0},codeSnippetMargin:{marginBottom:"x13ihpsm",marginTop:"x1xmf6yo",marginLeft:"x16ydxro",$$css:!0},overlay:{bottom:"x1ey2m1c",height:"x1najy0q",left:"xcqyyxr",pointerEvents:"x47corl",position:"x10l6tqk",right:"x1pzoy33",top:"x13vifvy",$$css:!0},overlayContainer:{position:"x1n2onr6",$$css:!0}};function a(a){var b=a.codeSnippet,e=a.dataTestID,f=a.onClick;e={backgroundImage:"linear-gradient(360deg, rgba(255, 255, 255, 0.9) 0, rgba(255, 255, 255, 0) 50%)"};return h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"x1n2onr6",children:[h.jsx(c("GeoScrollableArea.react"),{hideScrollbar:!0,xstyle:i.codeSnippetContainer,direction:"vertical",children:h.jsx("div",{className:"x13ihpsm x1xmf6yo x16ydxro",children:b})}),h.jsx("div",{className:"x1ey2m1c x1najy0q xcqyyxr x47corl x10l6tqk x1pzoy33 x13vifvy",style:e})]}),h.jsx(c("GeoButton.react"),{"data-testid":void 0,label:d("ChatPluginSetupFlowContent").COPY_CODE_BUTTON,onClick:function(){d("Clipboard").copy(b),f&&f()}})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("ChatPluginSetupFlowCodeSnippetView.react",["ChatPluginSetupFlowCodeSnippetCopy.react","ChatPluginSetupFlowContent","ChatPluginSetupFlowContext","ChatPluginSetupFlowE2ETestUtils","ChatPluginSetupFlowLoggerUtil","ChatPluginSetupFlowUtil","GeoNotice.react","GeoToast.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useContext,j=b.useEffect,k=b.useState,l={notice:{marginBottom:"xod5an3",$$css:!0},toast:{bottom:"xbfrwjf",opacity:"xg01cxk",position:"x10l6tqk",right:"xn5hqff",zIndex:"x8knxv4",$$css:!0},toastHidden:{opacity:"xg01cxk",transitionDuration:"xx6bhzk",transitionTimingFunction:"x9lcvmn",$$css:!0},toastShown:{opacity:"x1hc1fzr",transitionDuration:"xx6bhzk",transitionProperty:"x19991ni",transitionTimingFunction:"x1lizcpb",zIndex:"xhtitgo",$$css:!0}};function a(a){var b=a.updateDisableNextButton;a=a.showHelp;a=a===void 0?!0:a;var e=i(c("ChatPluginSetupFlowContext")),f=e.state;e=k(!1);var g=e[0],m=e[1];j(function(){var a=window.setTimeout(function(){m(!1)},3e3);return function(){return window.clearTimeout(a)}},[g]);return h.jsxs(h.Fragment,{children:[a?h.jsx(c("GeoNotice.react"),{status:"info",xstyle:l.notice,children:d("ChatPluginSetupFlowContent").getHelpCenterContent(o)}):null,h.jsx(c("ChatPluginSetupFlowCodeSnippetCopy.react"),{codeSnippet:d("ChatPluginSetupFlowContent").getCodeSnippet(f.customizationConfig.locale,f.page.pageID,f.entryPoint),onClick:n,dataTestID:d("ChatPluginSetupFlowE2ETestUtils").SETUP_MODAL_COPY_CODE_BUTTON_TEST_ID}),h.jsx("div",{className:c("stylex")(l.toast,!g&&l.toastHidden,g&&l.toastShown),children:h.jsx(c("GeoToast.react"),{heading:d("ChatPluginSetupFlowContent").COPY_CODE_TOAST,onHide:function(){return m(!1)}})})]});function n(){b(!1),m(!0),d("ChatPluginSetupFlowLoggerUtil").log(f,"code_copied","",d("ChatPluginSetupFlowUtil").getAllowlistedDomains(f))}function o(){d("ChatPluginSetupFlowLoggerUtil").log(f,"installation_guide_link_clicked","",d("ChatPluginSetupFlowUtil").getAllowlistedDomains(f))}}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("ChatPluginSetupFlowSharedUtils",[],(function(a,b,c,d,e,f){a={ar_AR:"\u0627\u0644\u0639\u0631\u0628\u064a\u0629",cs_CZ:"\u010ce\u0161tina",da_DK:"Dansk",de_DE:"Deutsch",el_GR:"\u0395\u03bb\u03bb\u03b7\u03bd\u03b9\u03ba\u03ac",en_GB:"English (UK)",en_US:"English (US)",es_ES:"Espa\xf1ol (Espa\xf1a)",es_LA:"Espa\xf1ol (Spanish)",fi_FI:"Suomi",fr_FR:"Fran\xe7ais (France)",he_IL:"\u05e2\u05d1\u05e8\u05d9\u05ea",hi_IN:"\u0939\u093f\u0928\u094d\u0926\u0940",hu_HU:"Magyar",id_ID:"Bahasa Indonesia",it_IT:"Italiano",ja_JP:"\u65e5\u672c\u8a9e",ko_KR:"\ud55c\uad6d\uc5b4",nb_NO:"Norsk (bokm\xe5l)",nl_NL:"Nederlands",pl_PL:"Polski",pt_BR:"Portugu\xeas (Brasil)",pt_PT:"Portugu\xeas (Portugal)",ro_RO:"Rom\xe2n\u0103",ru_RU:"\u0420\u0443\u0441\u0441\u043a\u0438\u0439",sv_SE:"Svenska",th_TH:"\u0e20\u0e32\u0e29\u0e32\u0e44\u0e17\u0e22",tr_TR:"T\xfcrk\xe7e",vi_VN:"Ti\u1ebfng Vi\u1ec7t",zh_CN:"\u4e2d\u6587(\u7b80\u4f53)",zh_HK:"\u4e2d\u6587(\u9999\u6e2f)",zh_TW:"\u4e2d\u6587(\u53f0\u7063)"};f.LocaleMapping=a}),66);
__d("ChatPluginSetupFlowLocaleSelector.react",["ChatPluginSetupFlowContent","ChatPluginSetupFlowContext","ChatPluginSetupFlowE2ETestUtils","ChatPluginSetupFlowLoggerUtil","ChatPluginSetupFlowSharedUtils","GeoSelector.react","GeoSelectorItem.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useContext;function a(){var a=i(c("ChatPluginSetupFlowContext")),b=a.state,e=a.dispatchAction;return h.jsx(c("GeoSelector.react"),{"data-testid":void 0,label:d("ChatPluginSetupFlowContent").LANGUAGE_SELECTOR_LABEL,isLabelHidden:!0,onChange:function(a){e({type:"SET_CUSTOMIZATION_LOCALE",locale:a}),d("ChatPluginSetupFlowLoggerUtil").log(b,"locale_updated",JSON.stringify({locale:a}))},value:b.customizationConfig.locale,children:Object.keys(d("ChatPluginSetupFlowSharedUtils").LocaleMapping).map(function(a,b){return h.jsx(c("GeoSelectorItem.react"),{label:d("ChatPluginSetupFlowSharedUtils").LocaleMapping[a],value:a},a)})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("ChatPluginSetupFlowLocaleView.react",["ChatPluginSetupFlowLocaleSelector.react","GeoFlexbox.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={imageContainer:{marginTop:"x1xmf6yo",$$css:!0}};function a(){return h.jsx(c("GeoFlexbox.react"),{justifyContent:"center",xstyle:i.imageContainer,children:h.jsx(c("ChatPluginSetupFlowLocaleSelector.react"),{})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("ChatPluginSetupFlowPasteCodeView.react",["ChatPluginDiagnosticToolLoggerUtil","ChatPluginSetupFlowContent","ChatPluginSetupFlowContext","ChatPluginSetupFlowLoggerUtil","ChatPluginSetupFlowUtil","GeoFlexbox.react","GeoNotice.react","Keyframes.react","bx","gkx","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useContext,j={imageContainer:{marginTop:"x1xmf6yo",$$css:!0}};function a(){var a=i(c("ChatPluginSetupFlowContext")),b=a.state;return h.jsxs(h.Fragment,{children:[h.jsx(c("GeoNotice.react"),{status:"info",children:e()}),h.jsx(c("GeoFlexbox.react"),{justifyContent:"center",xstyle:j.imageContainer,children:h.jsx(c("Keyframes.react"),{assetName:"chatpluginsetupflow_pastecode",height:214,projectName:"chat_plugin_setup_flow",source:c("bx").getURL(c("bx")("1927340")),width:316})})]});function e(){if(c("gkx")("2679")){d("ChatPluginDiagnosticToolLoggerUtil").logDiagnosticToolEvent("diagnostic_tool_entrypoint_impression",null,null,{entry_point:b.entryPoint});return d("ChatPluginSetupFlowContent").getDiagnosticToolContent(g)}return d("ChatPluginSetupFlowContent").getHelpCenterContent(f)}function f(){d("ChatPluginSetupFlowLoggerUtil").log(b,"installation_guide_link_clicked","",d("ChatPluginSetupFlowUtil").getAllowlistedDomains(b))}function g(){d("ChatPluginDiagnosticToolLoggerUtil").logDiagnosticToolEvent("diagnostic_tool_entrypoint_click",null,null,{entry_point:b.entryPoint})}}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("ChatPluginSetupFlowWebsiteDomainView.react",["ChatPluginSetupFlowContext","ChatPluginSetupFlowE2ETestUtils","ChatPluginSetupFlowLoggerUtil","ChatPluginSetupFlowSharedContent","ChatPluginSetupFlowUtil","GeoButton.react","GeoText.react","GeoTextInput.react","isValidHttpURL","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useContext,j=b.useEffect,k=b.useState,l={pageListedWebsite:{marginBottom:"xod5an3",$$css:!0},input:{marginBottom:"x1e56ztr",$$css:!0}};function a(a){var b=a.updateDisableNextButton,e=a.updateValidDomains;a=i(c("ChatPluginSetupFlowContext"));var f=a.state;a=f.customizationConfig.websiteDomains;var g=f.page.pageListedWebsite,m=g!==null&&g.length>0?g[0]:null,n=a.map(function(a){return{value:a,isValid:!0,warningMessage:null}});g=k(n);var o=g[0],p=g[1];g=k(a.length===0&&m===null);var q=g[0],r=g[1];g=k(a.length===0);var s=g[0],t=g[1];j(function(){return p(n)},[a]);return h.jsxs(h.Fragment,{children:[m!==null?h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"xod5an3",children:h.jsx(c("GeoText.react"),{children:d("ChatPluginSetupFlowSharedContent").PAGE_LISTED_DOMAIN_DESCRIPTION})}),h.jsx(c("GeoTextInput.react"),{isLabelHidden:!0,isDisabled:!0,label:d("ChatPluginSetupFlowSharedContent").DOMAIN_LABEL,value:m,xstyle:l.input})]}):null,u(),s?h.jsx(c("GeoTextInput.react"),{"data-testid":void 0,autoComplete:"off",isLabelHidden:!0,isValid:null,label:d("ChatPluginSetupFlowSharedContent").DOMAIN_LABEL,name:"website_domain",onBlur:function(a){a=a.target.value;x(a)},onEnter:function(a){return x(a)},placeholder:d("ChatPluginSetupFlowSharedContent").DOMAIN_PLACEHOLDER,warningMessage:null,xstyle:l.input}):null,h.jsx(c("GeoButton.react"),{"data-testid":void 0,isDisabled:q,label:d("ChatPluginSetupFlowSharedContent").ADD_DOMAIN_BUTTON,onClick:z}),b(!B())]});function u(){return o.map(function(a,b){return h.jsx(c("GeoTextInput.react"),{autoComplete:"off",isLabelHidden:!0,isValid:a.isValid,label:d("ChatPluginSetupFlowSharedContent").DOMAIN_LABEL,name:"website_domain",onBlur:function(a){a=a.target.value;x(a,b)},onChange:function(a){return w(a,b)},onClear:function(){return v(b)},onEnter:function(a){return x(a,b)},warningMessage:a.warningMessage,xstyle:l.input,value:a.value},"website-domain-"+b)})}function v(a){var b=o.filter(function(b,c){return c!==a});p(b);e(C(b));E(d("ChatPluginSetupFlowUtil").getAllowlistedDomains(f,b.map(function(a){return a.value})));b.every(function(a){return a.value.length>0})&&r(!1)}function w(a,b){var c=[].concat(o);c[b].value=a;c[b].isValid=!1;c[b].warningMessage=null;p(c)}function x(a,b){var c=b===void 0;t(!1);var g=o.map(function(a){return a.value});g=m!==null?g.concat(m):g;b!==void 0&&(g=g.filter(function(a,c){return c!==b}));var h=o;if(c){c={value:a,isValid:!1,warningMessage:null};y(c,g);p([].concat(o,[c]));h=[].concat(o,[c])}else if(b!==void 0){a=[].concat(o);y(a[b],g);p(a);h=a}e(C(h));E(d("ChatPluginSetupFlowUtil").getAllowlistedDomains(f,h.map(function(a){return a.value})))}function y(a,e){A(!0);if(a.value.length===0){a.warningMessage=null;if(B()){b(!1);return}}var f=D(a.value);!c("isValidHttpURL")(f)?a.warningMessage=d("ChatPluginSetupFlowSharedContent").INVALID_DOMAIN_WARNING.toLocaleString():e.includes(f)?(a.value=f,a.warningMessage=d("ChatPluginSetupFlowSharedContent").DUPLICATE_DOMAIN_WARNING.toLocaleString()):(a.value=f,a.isValid=!0,a.warningMessage=null,A(!1))}function z(){t(!0),r(!0),d("ChatPluginSetupFlowLoggerUtil").log(f,"add_domain_clicked","",d("ChatPluginSetupFlowUtil").getAllowlistedDomains(f,o.map(function(a){return a.value})))}function A(a){r(a),b(a)}function B(){return o.every(function(a){return a.warningMessage===null})&&(o.some(function(a){return c("isValidHttpURL")(a.value)})||m)}function C(a){a=a.map(function(a){return a.value});return a.filter(function(a){return a.length>0})}function D(a){var b=a;!a.startsWith("http://")&&!a.startsWith("https://")&&(b="https://"+a);return b}function E(a){d("ChatPluginSetupFlowLoggerUtil").log(f,"whitelisted_domain_updated",JSON.stringify({num_domains:a.length}),a)}}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("ChatPluginSetupFlowCodeInstallModal.react",["$InternalEnum","ChatPluginSetupFlowCodeInstallFinishView.react","ChatPluginSetupFlowCodeInstallModalCard.react","ChatPluginSetupFlowCodeSnippetView.react","ChatPluginSetupFlowContent","ChatPluginSetupFlowContext","ChatPluginSetupFlowE2ETestUtils","ChatPluginSetupFlowLocaleView.react","ChatPluginSetupFlowPasteCodeView.react","ChatPluginSetupFlowUtil","ChatPluginSetupFlowWebsiteDomainView.react","GeoStep.react","GeoStepperModal.react","RelayHooks","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");e=d("react");var i=e.useContext,j=e.useState,k=b("$InternalEnum")({LOCALE:1,WEBSITE_DOMAIN:2,COPY_CODE:3,PASTE_CODE:4,FINISH:5}),l=b("$InternalEnum").Mirrored(["INCOMPLETE","PENDING","COMPLETED"]),m=732;function a(a){var b=a.isShown,e=a.onHide,f=a.shouldRemoveCodeSteps,g=d("RelayHooks").useRelayEnvironment();a=i(c("ChatPluginSetupFlowContext"));var p=a.dispatchAction,q=a.state,r=q.page.pageID;a=q.customizationConfig.websiteDomains;var s=j(k.LOCALE),t=s[0],u=s[1];s=j(l.INCOMPLETE);var v=s[0],w=s[1];s=j(l.PENDING);var x=s[0],y=s[1];s=j(l.PENDING);var z=s[0],A=s[1];s=j(l.PENDING);var B=s[0],C=s[1];s=j(a.length===0);var D=s[0],E=s[1];s=j(a);var F=s[0],G=s[1];a=[{step:k.LOCALE,label:d("ChatPluginSetupFlowContent").CHANGE_LOCALE_TITLE,status:v,isDisabled:o(v)},{step:k.WEBSITE_DOMAIN,label:d("ChatPluginSetupFlowContent").ADD_WEBSITE_DOMAIN_TITLE,status:x,isDisabled:o(x)},{step:k.COPY_CODE,label:d("ChatPluginSetupFlowContent").COPY_CODE_TITLE,status:z,isDisabled:o(z)},{step:k.PASTE_CODE,label:d("ChatPluginSetupFlowContent").PASTE_CODE_STEP,status:B,isDisabled:o(B)}];f&&(a.pop(),a.pop());return h.jsx("div",{"data-testid":void 0,children:h.jsx(c("GeoStepperModal.react"),{activeStepID:t,isShown:b,onHide:e,onStepperChange:function(a){return u(a)},stepperHeader:d("ChatPluginSetupFlowContent").SET_UP_STEPPER_HEADER,steps:a.map(function(a){return h.jsx(c("GeoStep.react"),{id:a.step,isDisabled:a.isDisabled,label:a.label,status:n(a.status)},a.step)}),width:m,children:function(a){a=a.activeStepID;switch(a){case k.LOCALE:return h.jsx(c("ChatPluginSetupFlowCodeInstallModalCard.react"),{currentStep:k.LOCALE,description:d("ChatPluginSetupFlowContent").CHANGE_LOCALE_DESCRIPTION,heading:d("ChatPluginSetupFlowContent").CHANGE_LOCALE_TITLE,isNextButtonDisabled:!1,nextButtonText:d("ChatPluginSetupFlowContent").SAVE_AND_NEXT_BUTTON,onNextClick:H,children:h.jsx(c("ChatPluginSetupFlowLocaleView.react"),{})});case k.WEBSITE_DOMAIN:return h.jsx(c("ChatPluginSetupFlowCodeInstallModalCard.react"),{currentStep:k.WEBSITE_DOMAIN,description:d("ChatPluginSetupFlowContent").ADD_WEBSITE_DOMAIN_DESCRIPTION,heading:d("ChatPluginSetupFlowContent").ADD_WEBSITE_DOMAIN_TITLE,isNextButtonDisabled:D,nextButtonText:d("ChatPluginSetupFlowContent").SAVE_AND_NEXT_BUTTON,onBackClick:function(){return u(k.LOCALE)},onNextClick:I,children:h.jsx(c("ChatPluginSetupFlowWebsiteDomainView.react"),{updateDisableNextButton:function(a){return E(a)},updateValidDomains:function(a){return G(a)}})});case k.COPY_CODE:return h.jsx(c("ChatPluginSetupFlowCodeInstallModalCard.react"),{currentStep:k.COPY_CODE,disabledMessage:d("ChatPluginSetupFlowContent").COPY_CODE_NEXT_DISABLED_MESSAGE,description:d("ChatPluginSetupFlowContent").COPY_CODE_DESCRIPTION,heading:d("ChatPluginSetupFlowContent").COPY_CODE_TITLE,isNextButtonDisabled:D,nextButtonText:d("ChatPluginSetupFlowContent").NEXT_BUTTON,onBackClick:function(){return u(k.WEBSITE_DOMAIN)},onNextClick:J,showEmailInstructions:!0,children:h.jsx(c("ChatPluginSetupFlowCodeSnippetView.react"),{updateDisableNextButton:function(a){return E(a)}})});case k.PASTE_CODE:return h.jsx(c("ChatPluginSetupFlowCodeInstallModalCard.react"),{currentStep:k.PASTE_CODE,description:d("ChatPluginSetupFlowContent").PASTE_CODE_DESCRIPTION,heading:d("ChatPluginSetupFlowContent").PASTE_CODE_TITLE,nextButtonText:d("ChatPluginSetupFlowContent").FINISH_BUTTON,onBackClick:function(){return u(k.COPY_CODE)},onNextClick:function(){u(k.FINISH),C(l.COMPLETED)},showEmailInstructions:!0,children:h.jsx(c("ChatPluginSetupFlowPasteCodeView.react"),{})});case k.FINISH:return h.jsx(c("ChatPluginSetupFlowCodeInstallModalCard.react"),{nextButtonText:d("ChatPluginSetupFlowContent").DONE_BUTTON,onBackClick:function(){f?u(k.WEBSITE_DOMAIN):u(k.PASTE_CODE)},onNextClick:function(){e(),f?u(k.LOCALE):u(k.COPY_CODE)},children:h.jsx(c("ChatPluginSetupFlowCodeInstallFinishView.react"),{description:d("ChatPluginSetupFlowContent").getFinishCardDescription(q.entryPoint),heading:d("ChatPluginSetupFlowContent").FINISH_CARD_HEADING,useAnimation:!0})})}}})});function H(){u(k.WEBSITE_DOMAIN),w(l.COMPLETED),x!==l.COMPLETED&&y(l.INCOMPLETE),d("ChatPluginSetupFlowUtil").setLocale({env:g,state:q,dispatchAction:p,pageID:r})}function I(){d("ChatPluginSetupFlowUtil").setWebsiteDomains({env:g,state:q,dispatchAction:p,pageID:r,domains:F}),!f?(u(k.COPY_CODE),y(l.COMPLETED),z!==l.COMPLETED&&A(l.INCOMPLETE),E(z!==l.COMPLETED)):(u(k.FINISH),y(l.COMPLETED))}function J(){u(k.PASTE_CODE),A(l.COMPLETED),B!==l.COMPLETED&&C(l.INCOMPLETE)}}a.displayName=a.name+" [from "+f.id+"]";function n(a){switch(a){case l.INCOMPLETE:return"incomplete";case l.PENDING:return"pending";case l.COMPLETED:return"completed"}}function o(a){return a===l.INCOMPLETE?!1:!0}g.Status=l;g.MODAL_WIDTH=m;g.ChatPluginSetupFlowCodeInstallModal=a;g.getStatus=n;g.getIsDisabled=o}),98);
__d("ChatPluginSetupFlowGtmGuidanceCard.react",["GeoGuidanceCard.react","GeoGuidanceCardContent.react","GeoGuidanceCardHeader.react","GeoLink.react","GeoText.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.errorTitle,d=a.errorDescription,e=a.status,f=a.link;a=a.linkText;return h.jsx(c("GeoGuidanceCard.react"),{header:h.jsx(c("GeoGuidanceCardHeader.react"),{heading:b}),status:e,children:h.jsxs(c("GeoGuidanceCardContent.react"),{children:[h.jsx(c("GeoText.react"),{children:d}),f!=null?h.jsx(c("GeoLink.react"),{href:f,children:a}):null]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("ChatPluginSetupFlowInstallGtmAuthenticateView.react",["ChatPluginSetupFlow3pMenuContent","ChatPluginSetupFlowGtmGuidanceCard.react","GeoBaseSpacingLayout.react","GeoButton.react","GeoLink.react","GeoText.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.signInAttempted,e=a.signInSuccess,f=a.googleSignIn;a=a.signInError;return h.jsxs(c("GeoBaseSpacingLayout.react"),{direction:"vertical",align:"start",children:[h.jsx(c("GeoText.react"),{display:"block",children:d("ChatPluginSetupFlow3pMenuContent").GOOGLE_AUTHENTICATION_DESCRIPTION}),!e||a===null?h.jsx(c("GeoText.react"),{display:"block",children:d("ChatPluginSetupFlow3pMenuContent").GOOGLE_AUTHENTICATION_POP_UP_REMEDIATION_DESCRIPTION}):null,b&&e?h.jsxs(h.Fragment,{children:[h.jsx(c("ChatPluginSetupFlowGtmGuidanceCard.react"),{status:"success",errorTitle:d("ChatPluginSetupFlow3pMenuContent").GTM_ACCOUNT_SIGN_IN_SUCCESS_TITLE,errorDescription:d("ChatPluginSetupFlow3pMenuContent").GTM_ACCOUNT_SIGN_IN_SUCCESS_DESCRIPTION}),h.jsxs(c("GeoBaseSpacingLayout.react"),{direction:"horizontal",align:"start",children:[h.jsx(c("GeoText.react"),{children:d("ChatPluginSetupFlow3pMenuContent").GOOGLE_AUTHENTICATION_RELAUNCH_DESCRIPTION}),h.jsx(c("GeoLink.react"),{onClick:f,children:d("ChatPluginSetupFlow3pMenuContent").GOOGLE_TAG_MANAGER_RELAUNCH_LINK})," "]})]}):null,b&&a!==null?i(a):null,!b||!e?h.jsx(c("GeoButton.react"),{label:d("ChatPluginSetupFlow3pMenuContent").GOOGLE_TAG_MANAGER_LAUNCH_AUTHORIZATION_BUTTON,onClick:f,variant:"primary"}):null]})}a.displayName=a.name+" [from "+f.id+"]";function i(a){switch(a){case"access_denied":return h.jsx(c("ChatPluginSetupFlowGtmGuidanceCard.react"),{status:"error",errorTitle:d("ChatPluginSetupFlow3pMenuContent").ERROR_ACCESS_DENIED_TITLE,errorDescription:d("ChatPluginSetupFlow3pMenuContent").ERROR_ACCESS_DENIED_DESCRIPTION});case"popup_blocked_by_browser":return h.jsx(c("ChatPluginSetupFlowGtmGuidanceCard.react"),{status:"error",errorTitle:d("ChatPluginSetupFlow3pMenuContent").ERROR_POPUP_CLOSED_BY_BROWSER_TITLE,errorDescription:d("ChatPluginSetupFlow3pMenuContent").ERROR_POPUP_CLOSED_BY_BROWSER_DESCRIPTION});case"popup_closed_by_user":return h.jsx(c("ChatPluginSetupFlowGtmGuidanceCard.react"),{status:"error",errorTitle:d("ChatPluginSetupFlow3pMenuContent").ERROR_POPUP_CLOSED_BY_USER_TITLE,errorDescription:d("ChatPluginSetupFlow3pMenuContent").ERROR_POPUP_CLOSED_BY_USER_DESCRIPTION});case"no_account":return h.jsx(c("ChatPluginSetupFlowGtmGuidanceCard.react"),{status:"error",errorTitle:d("ChatPluginSetupFlow3pMenuContent").ERROR_NO_ACCOUNT_TITLE,errorDescription:d("ChatPluginSetupFlow3pMenuContent").ERROR_NO_ACCOUNT_DESCRIPTION});default:return h.jsx(c("ChatPluginSetupFlowGtmGuidanceCard.react"),{status:"error",errorTitle:d("ChatPluginSetupFlow3pMenuContent").ERROR_GENERIC_TITLE,errorDescription:d("ChatPluginSetupFlow3pMenuContent").ERROR_GENERIC_DESCRIPTION})}}i.displayName=i.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("ChatPluginSetupFlowInstallGtmSelectAccountView.react",["ChatPluginGtmTypes","ChatPluginSetupFlow3pMenuContent","ChatPluginSetupFlowContext","ChatPluginSetupFlowGtmGuidanceCard.react","ChatPluginSetupFlowLoggerUtil","GeoBaseSpacingLayout.react","GeoSelector.react","GeoSelectorItem.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useContext;function a(a){var b=a.selectedAccount,e=a.selectGtmAccount,f=a.selectedContainer,g=a.selectGtmContainer,k=a.accounts,l=a.publishError;a=a.publishStatus;var m=i(c("ChatPluginSetupFlowContext")),n=m.state;return h.jsxs(c("GeoBaseSpacingLayout.react"),{direction:"vertical",align:"start",children:[h.jsx(c("GeoSelector.react"),{label:d("ChatPluginSetupFlow3pMenuContent").SELECT_GTM_ACCOUNT_ACCOUNT_LABEL,onChange:function(a){d("ChatPluginSetupFlowLoggerUtil").log(n,"integration_google_tag_manager_account_selected"),e(a)},placeholder:d("ChatPluginSetupFlow3pMenuContent").SELECT_GTM_ACCOUNT_ACCOUNT_PLACEHOLDER,value:b,children:k.map(function(a){return h.jsx(c("GeoSelectorItem.react"),{label:a.name,value:a},a.accountId)})}),h.jsx(c("GeoSelector.react"),{label:d("ChatPluginSetupFlow3pMenuContent").SELECT_GTM_ACCOUNT_CONTAINER_LABEL,onChange:function(a){d("ChatPluginSetupFlowLoggerUtil").log(n,"integration_google_tag_manager_container_selected"),g(a)},placeholder:d("ChatPluginSetupFlow3pMenuContent").SELECT_GTM_ACCOUNT_CONTAINER_PLACEHOLDER,value:f,children:b==null?void 0:b.containers.map(function(a){return h.jsx(c("GeoSelectorItem.react"),{label:a.name,value:a},a.containerId)})}),a===d("ChatPluginGtmTypes").ChatPluginGtmCallStatus.FAILED&&l!==null?j(l):null]})}a.displayName=a.name+" [from "+f.id+"]";function j(a){switch(a){case"already_published":return h.jsx(c("ChatPluginSetupFlowGtmGuidanceCard.react"),{errorTitle:d("ChatPluginSetupFlow3pMenuContent").ERROR_ALREADY_PUBLISHED_TITLE,errorDescription:d("ChatPluginSetupFlow3pMenuContent").ERROR_ALREADY_PUBLISHED_DESCRIPTION,status:"error"});default:return h.jsx(c("ChatPluginSetupFlowGtmGuidanceCard.react"),{errorTitle:d("ChatPluginSetupFlow3pMenuContent").ERROR_GENERIC_TITLE,errorDescription:d("ChatPluginSetupFlow3pMenuContent").ERROR_GENERIC_DESCRIPTION,status:"error"})}}j.displayName=j.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("ChatPluginSetupFlowInstallGtmModal.react",["$InternalEnum","ChatPluginGtmApiHelperUtils","ChatPluginGtmTypes","ChatPluginSetupFlow3pMenuContent","ChatPluginSetupFlowCodeInstallFinishView.react","ChatPluginSetupFlowCodeInstallModal.react","ChatPluginSetupFlowCodeInstallModalCard.react","ChatPluginSetupFlowContent","ChatPluginSetupFlowContext","ChatPluginSetupFlowE2ETestUtils","ChatPluginSetupFlowInstallGtmAuthenticateView.react","ChatPluginSetupFlowInstallGtmSelectAccountView.react","ChatPluginSetupFlowLocaleView.react","ChatPluginSetupFlowLoggerUtil","ChatPluginSetupFlowUtil","ChatPluginSetupFlowWebsiteDomainView.react","GeoStep.react","GeoStepperModal.react","Promise","RelayHooks","asyncToGeneratorRuntime","compactArray","firstx","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");e=d("react");var i=e.useContext,j=e.useEffect,k=e.useState,l=b("$InternalEnum")({LOCALE:1,WEBSITE_DOMAIN:2,AUTHENTICATE:3,SELECT_GTM_ACCOUNT:4,FINISH:5});function a(a){var e=a.isShown,f=a.onHide;a=a.onBackClick;j(function(){return c("ChatPluginGtmApiHelperUtils").injectGoogleApiJS()},[]);var g=d("RelayHooks").useRelayEnvironment(),m=i(c("ChatPluginSetupFlowContext")),n=m.dispatchAction,o=m.state,p=o.page.pageID;m=k(l.AUTHENTICATE);var q=m[0],r=m[1];m=k(d("ChatPluginSetupFlowCodeInstallModal.react").Status.INCOMPLETE);var s=m[0],t=m[1];m=k(!1);var u=m[0],v=m[1];m=k(!1);var w=m[0],x=m[1];m=k(null);var y=m[0],z=m[1];m=k(d("ChatPluginSetupFlowCodeInstallModal.react").Status.PENDING);var A=m[0],B=m[1];m=k(d("ChatPluginSetupFlowCodeInstallModal.react").Status.PENDING);var C=m[0],D=m[1];m=o.customizationConfig.websiteDomains;var E=k(m.length===0),F=E[0],G=E[1];E=k(m);var H=E[0],I=E[1];m=k(d("ChatPluginSetupFlowCodeInstallModal.react").Status.PENDING);var J=m[0],K=m[1];E=k([]);m=E[0];var L=E[1];E=k(null);var M=E[0],N=E[1];E=k(null);var O=E[0],P=E[1];E=k(null);var Q=E[0],R=E[1];E=k(d("ChatPluginGtmTypes").ChatPluginGtmCallStatus.UNCALLED);var S=E[0],T=E[1];function U(a){return V.apply(this,arguments)}function V(){V=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=(yield c("ChatPluginGtmApiHelperUtils").getContainers(a));return(a=(a=a.result)==null?void 0:a.container)!=null?a:[]});return V.apply(this,arguments)}E=function(){x(!1),R(null),v(!0),T(d("ChatPluginGtmTypes").ChatPluginGtmCallStatus.UNCALLED),K(d("ChatPluginSetupFlowCodeInstallModal.react").Status.PENDING),c("ChatPluginGtmApiHelperUtils").triggerSignIn(function(){z(null),d("ChatPluginSetupFlowLoggerUtil").log(o,"integration_google_tag_manager_sign_in_success"),W()},function(a){x(!1),v(!0),z(a.error),d("ChatPluginSetupFlowLoggerUtil").log(o,"integration_google_tag_manager_sign_in_fail",a.error)},{prompt:"select_account"})};var W=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){try{var a=(yield c("ChatPluginGtmApiHelperUtils").getAccounts());a=c("compactArray")(((a=a)!=null?(a=a.result)!=null?a.account:a:a)||[]);a=a.map(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.accountId;a=a.name;var c=(yield U(b)).map(function(b){var a=b.accountId,c=b.containerId;b=b.name;return{accountId:a,containerId:c,name:b}});return{accountId:b,name:a,containers:c}});return function(b){return a.apply(this,arguments)}}());a=(yield b("Promise").all(a).then(function(a){return a.filter(function(a){return a.containers.length>0})}));L(a);if(a.length>0){a=c("firstx")(a);N(a);a.containers.length>0&&P(c("firstx")(a.containers))}else{x(!1);z("no_account");d("ChatPluginSetupFlowLoggerUtil").log(o,"integration_google_tag_manager_account_load_fail");return}x(!0);d("ChatPluginSetupFlowLoggerUtil").log(o,"integration_google_tag_manager_account_load_success")}catch(a){d("ChatPluginSetupFlowLoggerUtil").log(o,"integration_google_tag_manager_account_load_fail",a),x(!1),z("unidentified")}});return function(){return a.apply(this,arguments)}}(),X=function(){d("ChatPluginSetupFlowLoggerUtil").log(o,"integration_google_tag_manager_publish_clicked"),T(d("ChatPluginGtmTypes").ChatPluginGtmCallStatus.PENDING),R(null),M!=null&&O!=null&&p!=null&&o.customizationConfig.locale!=null?c("ChatPluginGtmApiHelperUtils").publishChatPluginBaseCode(M.accountId,O.containerId,p,o.customizationConfig.locale).then(function(){d("ChatPluginSetupFlowLoggerUtil").log(o,"integration_google_tag_manager_publish_success","",d("ChatPluginSetupFlowUtil").getAllowlistedDomains(o)),r(l.FINISH),K(d("ChatPluginSetupFlowCodeInstallModal.react").Status.COMPLETED),T(d("ChatPluginGtmTypes").ChatPluginGtmCallStatus.SUCCEEDED)},function(a){d("ChatPluginSetupFlowLoggerUtil").log(o,"integration_google_tag_manager_publish_fail",a),a.response.status===400?R("already_published"):R("unidentified"),T(d("ChatPluginGtmTypes").ChatPluginGtmCallStatus.FAILED)})["catch"](function(a){d("ChatPluginSetupFlowLoggerUtil").log(o,"integration_google_tag_manager_publish_exception",a),R("unidentified"),T(d("ChatPluginGtmTypes").ChatPluginGtmCallStatus.FAILED)}):d("ChatPluginSetupFlowLoggerUtil").log(o,"integration_google_tag_manager_publish_invalid",JSON.stringify({selectedAccount:M!=null?"valid":"not valid",selectedContainer:O!=null?"valid":"not valid",pageId:p!=null?"valid":"not valid",locale:o.customizationConfig.locale!=null?"valid":"not valid"}))},Y=h.jsx(c("ChatPluginSetupFlowCodeInstallModalCard.react"),{currentStep:l.AUTHENTICATE,heading:d("ChatPluginSetupFlow3pMenuContent").GOOGLE_AUTHENTICATION_TITLE,isNextButtonDisabled:!w,nextButtonText:d("ChatPluginSetupFlowContent").NEXT_BUTTON,onBackClick:a,onNextClick:function(){d("ChatPluginSetupFlowLoggerUtil").log(o,"integration_google_tag_manager_authenticate_next_clicked"),t(d("ChatPluginSetupFlowCodeInstallModal.react").Status.COMPLETED),r(l.LOCALE),A!==d("ChatPluginSetupFlowCodeInstallModal.react").Status.COMPLETED&&B(d("ChatPluginSetupFlowCodeInstallModal.react").Status.INCOMPLETE)},children:h.jsx(c("ChatPluginSetupFlowInstallGtmAuthenticateView.react"),{signInSuccess:w,signInAttempted:u,googleSignIn:E,signInError:y})}),Z=h.jsx(c("ChatPluginSetupFlowCodeInstallModalCard.react"),{currentStep:l.LOCALE,description:d("ChatPluginSetupFlow3pMenuContent").CHANGE_LOCALE_DESCRIPTION,heading:d("ChatPluginSetupFlow3pMenuContent").CHANGE_LOCALE_TITLE,nextButtonText:d("ChatPluginSetupFlowContent").SAVE_AND_NEXT_BUTTON,onBackClick:function(){return r(l.AUTHENTICATE)},onNextClick:function(){r(l.WEBSITE_DOMAIN),B(d("ChatPluginSetupFlowCodeInstallModal.react").Status.COMPLETED),C!==d("ChatPluginSetupFlowCodeInstallModal.react").Status.COMPLETED&&D(d("ChatPluginSetupFlowCodeInstallModal.react").Status.INCOMPLETE),d("ChatPluginSetupFlowUtil").setLocale({env:g,state:o,dispatchAction:n,pageID:p})},children:h.jsx(c("ChatPluginSetupFlowLocaleView.react"),{})}),$=h.jsx(c("ChatPluginSetupFlowCodeInstallModalCard.react"),{currentStep:l.WEBSITE_DOMAIN,description:d("ChatPluginSetupFlowContent").ADD_WEBSITE_DOMAIN_DESCRIPTION,heading:d("ChatPluginSetupFlow3pMenuContent").ADD_WEBSITE_DOMAIN_TITLE,isNextButtonDisabled:F,nextButtonText:d("ChatPluginSetupFlowContent").SAVE_AND_NEXT_BUTTON,onBackClick:function(){return r(l.LOCALE)},onNextClick:function(){d("ChatPluginSetupFlowUtil").setWebsiteDomains({env:g,state:o,dispatchAction:n,pageID:p,domains:H}),r(l.SELECT_GTM_ACCOUNT),D(d("ChatPluginSetupFlowCodeInstallModal.react").Status.COMPLETED),J!==d("ChatPluginSetupFlowCodeInstallModal.react").Status.COMPLETED&&K(d("ChatPluginSetupFlowCodeInstallModal.react").Status.INCOMPLETE)},children:h.jsx(c("ChatPluginSetupFlowWebsiteDomainView.react"),{updateDisableNextButton:function(a){return G(a)},updateValidDomains:function(a){return I(a)}})}),aa=h.jsx(c("ChatPluginSetupFlowCodeInstallModalCard.react"),{currentStep:l.SELECT_GTM_ACCOUNT,description:d("ChatPluginSetupFlow3pMenuContent").SELECT_GTM_ACCOUNT_DESCRIPTION,heading:d("ChatPluginSetupFlow3pMenuContent").SELECT_GTM_ACCOUNT_TITLE,nextButtonText:d("ChatPluginSetupFlowContent").FINISH_BUTTON,isNextButtonDisabled:S===d("ChatPluginGtmTypes").ChatPluginGtmCallStatus.PENDING||!M||!O,isNextButtonLoading:S===d("ChatPluginGtmTypes").ChatPluginGtmCallStatus.PENDING,onBackClick:function(){return r(l.WEBSITE_DOMAIN)},onNextClick:X,children:h.jsx(c("ChatPluginSetupFlowInstallGtmSelectAccountView.react"),{selectedAccount:M,selectedContainer:O,selectGtmAccount:N,selectGtmContainer:P,publishStatus:S,publishError:Q,accounts:m})}),ba=h.jsx(c("ChatPluginSetupFlowCodeInstallModalCard.react"),{nextButtonText:d("ChatPluginSetupFlowContent").DONE_BUTTON,onBackClick:function(){return r(l.SELECT_GTM_ACCOUNT)},onNextClick:function(){f(),r(l.SELECT_GTM_ACCOUNT)},children:h.jsx(c("ChatPluginSetupFlowCodeInstallFinishView.react"),{description:d("ChatPluginSetupFlow3pMenuContent").FINISH_CARD_DESCRIPTION,heading:d("ChatPluginSetupFlow3pMenuContent").FINISH_CARD_HEADING,useAnimation:!0})});return h.jsx(c("GeoStepperModal.react"),{activeStepID:q,isShown:e,onHide:f,onStepperChange:function(a){return r(a)},stepperHeader:d("ChatPluginSetupFlow3pMenuContent").GTM_STEPPER_HEADER,steps:[h.jsx(c("GeoStep.react"),{id:l.AUTHENTICATE,isDisabled:d("ChatPluginSetupFlowCodeInstallModal.react").getIsDisabled(s),label:d("ChatPluginSetupFlow3pMenuContent").GOOGLE_AUTHENTICATION_TITLE,status:d("ChatPluginSetupFlowCodeInstallModal.react").getStatus(s)},l.AUTHENTICATE),h.jsx(c("GeoStep.react"),{"data-testid":void 0,id:l.LOCALE,isDisabled:d("ChatPluginSetupFlowCodeInstallModal.react").getIsDisabled(A),label:d("ChatPluginSetupFlow3pMenuContent").CHANGE_LOCALE_TITLE,status:d("ChatPluginSetupFlowCodeInstallModal.react").getStatus(A)},l.LOCALE),h.jsx(c("GeoStep.react"),{id:l.WEBSITE_DOMAIN,isDisabled:d("ChatPluginSetupFlowCodeInstallModal.react").getIsDisabled(C),label:d("ChatPluginSetupFlow3pMenuContent").ADD_WEBSITE_DOMAIN_TITLE,status:d("ChatPluginSetupFlowCodeInstallModal.react").getStatus(C)},l.WEBSITE_DOMAIN),h.jsx(c("GeoStep.react"),{id:l.SELECT_GTM_ACCOUNT,isDisabled:d("ChatPluginSetupFlowCodeInstallModal.react").getIsDisabled(J),label:d("ChatPluginSetupFlow3pMenuContent").SELECT_GTM_ACCOUNT_TITLE,status:d("ChatPluginSetupFlowCodeInstallModal.react").getStatus(J)},l.SELECT_GTM_ACCOUNT)],width:d("ChatPluginSetupFlowCodeInstallModal.react").MODAL_WIDTH,children:function(a){a=a.activeStepID;switch(a){case l.AUTHENTICATE:return Y;case l.LOCALE:return Z;case l.WEBSITE_DOMAIN:return $;case l.SELECT_GTM_ACCOUNT:return aa;case l.FINISH:return ba}}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("ChatPluginSetupFlowInstallManualModal.react",["$InternalEnum","ChatPluginSetupFlowCodeInstallFinishView.react","ChatPluginSetupFlowCodeInstallModalCard.react","ChatPluginSetupFlowCodeSnippetView.react","ChatPluginSetupFlowContent","ChatPluginSetupFlowContext","ChatPluginSetupFlowLocaleView.react","ChatPluginSetupFlowPasteCodeView.react","ChatPluginSetupFlowUtil","ChatPluginSetupFlowWebsiteDomainView.react","GeoStep.react","GeoStepperModal.react","RelayHooks","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");e=d("react");var i=e.useContext,j=e.useState,k=b("$InternalEnum")({LOCALE:1,WEBSITE_DOMAIN:2,COPY_CODE:3,PASTE_CODE:4,FINISH:5}),l=b("$InternalEnum").Mirrored(["INCOMPLETE","PENDING","COMPLETED"]),m=732;function a(a){var b=a.isShown,e=a.onHide,f=a.onBackClick,g=a.shouldRemoveCodeSteps,p=d("RelayHooks").useRelayEnvironment();a=i(c("ChatPluginSetupFlowContext"));var q=a.dispatchAction,r=a.state,s=r.page.pageID;a=r.customizationConfig.websiteDomains;var t=j(k.LOCALE),u=t[0],v=t[1];t=j(l.INCOMPLETE);var w=t[0],x=t[1];t=j(l.PENDING);var y=t[0],z=t[1];t=j(l.PENDING);var A=t[0],B=t[1];t=j(l.PENDING);var C=t[0],D=t[1];t=j(a.length===0);var E=t[0],F=t[1];t=j(a);var G=t[0],H=t[1];a=[{step:k.LOCALE,label:d("ChatPluginSetupFlowContent").CHANGE_LOCALE_TITLE,status:w,isDisabled:o(w)},{step:k.WEBSITE_DOMAIN,label:d("ChatPluginSetupFlowContent").ADD_WEBSITE_DOMAIN_TITLE,status:y,isDisabled:o(y)},{step:k.COPY_CODE,label:d("ChatPluginSetupFlowContent").COPY_CODE_TITLE,status:A,isDisabled:o(A)},{step:k.PASTE_CODE,label:d("ChatPluginSetupFlowContent").PASTE_CODE_STEP,status:C,isDisabled:o(C)}];g&&(a.pop(),a.pop());return h.jsx("div",{children:h.jsx(c("GeoStepperModal.react"),{activeStepID:u,isShown:b,onHide:e,onStepperChange:function(a){return v(a)},stepperHeader:d("ChatPluginSetupFlowContent").SET_UP_STEPPER_HEADER,steps:a.map(function(a){return h.jsx(c("GeoStep.react"),{id:a.step,isDisabled:a.isDisabled,label:a.label,status:n(a.status)},a.step)}),width:m,children:function(a){a=a.activeStepID;switch(a){case k.LOCALE:return h.jsx(c("ChatPluginSetupFlowCodeInstallModalCard.react"),{currentStep:k.LOCALE,description:d("ChatPluginSetupFlowContent").CHANGE_LOCALE_DESCRIPTION,heading:d("ChatPluginSetupFlowContent").CHANGE_LOCALE_TITLE,isNextButtonDisabled:!1,nextButtonText:d("ChatPluginSetupFlowContent").SAVE_AND_NEXT_BUTTON,onBackClick:f,onNextClick:I,children:h.jsx(c("ChatPluginSetupFlowLocaleView.react"),{})});case k.WEBSITE_DOMAIN:return h.jsx(c("ChatPluginSetupFlowCodeInstallModalCard.react"),{currentStep:k.WEBSITE_DOMAIN,description:d("ChatPluginSetupFlowContent").ADD_WEBSITE_DOMAIN_DESCRIPTION,heading:d("ChatPluginSetupFlowContent").ADD_WEBSITE_DOMAIN_TITLE,isNextButtonDisabled:E,nextButtonText:d("ChatPluginSetupFlowContent").SAVE_AND_NEXT_BUTTON,onBackClick:function(){return v(k.LOCALE)},onNextClick:J,children:h.jsx(c("ChatPluginSetupFlowWebsiteDomainView.react"),{updateDisableNextButton:function(a){return F(a)},updateValidDomains:function(a){return H(a)}})});case k.COPY_CODE:return h.jsx(c("ChatPluginSetupFlowCodeInstallModalCard.react"),{currentStep:k.COPY_CODE,disabledMessage:d("ChatPluginSetupFlowContent").COPY_CODE_NEXT_DISABLED_MESSAGE,description:d("ChatPluginSetupFlowContent").COPY_CODE_DESCRIPTION,heading:d("ChatPluginSetupFlowContent").COPY_CODE_TITLE,isNextButtonDisabled:E,nextButtonText:d("ChatPluginSetupFlowContent").NEXT_BUTTON,onBackClick:function(){return v(k.WEBSITE_DOMAIN)},onNextClick:K,showEmailInstructions:!0,children:h.jsx(c("ChatPluginSetupFlowCodeSnippetView.react"),{updateDisableNextButton:function(a){return F(a)}})});case k.PASTE_CODE:return h.jsx(c("ChatPluginSetupFlowCodeInstallModalCard.react"),{currentStep:k.PASTE_CODE,description:d("ChatPluginSetupFlowContent").PASTE_CODE_DESCRIPTION,heading:d("ChatPluginSetupFlowContent").PASTE_CODE_TITLE,nextButtonText:d("ChatPluginSetupFlowContent").FINISH_BUTTON,onBackClick:function(){return v(k.COPY_CODE)},onNextClick:function(){v(k.FINISH),D(l.COMPLETED)},showEmailInstructions:!0,children:h.jsx(c("ChatPluginSetupFlowPasteCodeView.react"),{})});case k.FINISH:return h.jsx(c("ChatPluginSetupFlowCodeInstallModalCard.react"),{nextButtonText:d("ChatPluginSetupFlowContent").DONE_BUTTON,onBackClick:function(){g?v(k.WEBSITE_DOMAIN):v(k.PASTE_CODE)},onNextClick:function(){e(),g?v(k.LOCALE):v(k.COPY_CODE)},children:h.jsx(c("ChatPluginSetupFlowCodeInstallFinishView.react"),{description:d("ChatPluginSetupFlowContent").getFinishCardDescription(r.entryPoint),heading:d("ChatPluginSetupFlowContent").FINISH_CARD_HEADING,useAnimation:!0})})}}})});function I(){v(k.WEBSITE_DOMAIN),x(l.COMPLETED),y!==l.COMPLETED&&z(l.INCOMPLETE),d("ChatPluginSetupFlowUtil").setLocale({env:p,state:r,dispatchAction:q,pageID:s})}function J(){d("ChatPluginSetupFlowUtil").setWebsiteDomains({env:p,state:r,dispatchAction:q,pageID:s,domains:G}),!g?(v(k.COPY_CODE),z(l.COMPLETED),A!==l.COMPLETED&&B(l.INCOMPLETE),F(A!==l.COMPLETED)):(v(k.FINISH),z(l.COMPLETED))}function K(){v(k.PASTE_CODE),B(l.COMPLETED),C!==l.COMPLETED&&D(l.INCOMPLETE)}}a.displayName=a.name+" [from "+f.id+"]";function n(a){switch(a){case l.INCOMPLETE:return"incomplete";case l.PENDING:return"pending";case l.COMPLETED:return"completed"}}function o(a){return a===l.INCOMPLETE?!1:!0}g.Status=l;g.MODAL_WIDTH=m;g.ChatPluginSetupFlowInstallManualModal=a;g.getStatus=n;g.getIsDisabled=o}),98);
__d("ChatPluginSetupFlowInstallInstructionsView.react",["GeoText.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.description,d=a.steps;a=a.endingStatement;return h.jsxs(h.Fragment,{children:[b!=null?h.jsx(c("GeoText.react"),{display:"block",children:b}):null,h.jsx("ol",{children:d.map(function(a,b){return h.jsx("li",{children:h.jsx(c("GeoText.react"),{children:a})},b)})}),h.jsx(c("GeoText.react"),{display:"block",children:a})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("ChatPluginSetupFlowInstallPartnerInstructionsModal.react",["$InternalEnum","ChatPluginSetupFlowCodeInstallFinishView.react","ChatPluginSetupFlowCodeInstallModalCard.react","ChatPluginSetupFlowCodeSnippetView.react","ChatPluginSetupFlowContent","ChatPluginSetupFlowContext","ChatPluginSetupFlowInstallInstructionsView.react","ChatPluginSetupFlowLocaleView.react","ChatPluginSetupFlowUtil","ChatPluginSetupFlowWebsiteDomainView.react","GeoStep.react","GeoStepperModal.react","RelayHooks","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");e=d("react");var i=e.useContext,j=e.useState,k=b("$InternalEnum")({LOCALE:1,WEBSITE_DOMAIN:2,COPY_CODE:3,PASTE_CODE:4,FINISH:5}),l=b("$InternalEnum").Mirrored(["INCOMPLETE","PENDING","COMPLETED"]),m=732;function a(a){var b=a.isShown,e=a.onHide,f=a.onBackClick,g=a.stepperHeader,p=a.instructionsDescription,q=a.instructionSteps;a=a.instructionsEndingStatement;var r=d("RelayHooks").useRelayEnvironment(),s=i(c("ChatPluginSetupFlowContext")),t=s.dispatchAction,u=s.state,v=u.page.pageID;s=u.customizationConfig.websiteDomains;var w=j(k.LOCALE),x=w[0],y=w[1];w=j(l.INCOMPLETE);var z=w[0],A=w[1];w=j(l.PENDING);var B=w[0],C=w[1];w=j(l.PENDING);var D=w[0],E=w[1];w=j(l.PENDING);var F=w[0],G=w[1];w=j(s.length===0);var H=w[0],I=w[1];w=j(s);var J=w[0],K=w[1],L=h.jsx(c("ChatPluginSetupFlowCodeInstallModalCard.react"),{currentStep:k.LOCALE,description:d("ChatPluginSetupFlowContent").CHANGE_LOCALE_DESCRIPTION,heading:d("ChatPluginSetupFlowContent").CHANGE_LOCALE_TITLE,isNextButtonDisabled:!1,nextButtonText:d("ChatPluginSetupFlowContent").SAVE_AND_NEXT_BUTTON,onBackClick:f,onNextClick:Q,children:h.jsx(c("ChatPluginSetupFlowLocaleView.react"),{})}),M=h.jsx(c("ChatPluginSetupFlowCodeInstallModalCard.react"),{currentStep:k.WEBSITE_DOMAIN,description:d("ChatPluginSetupFlowContent").ADD_WEBSITE_DOMAIN_DESCRIPTION,heading:d("ChatPluginSetupFlowContent").ADD_WEBSITE_DOMAIN_TITLE,isNextButtonDisabled:H,nextButtonText:d("ChatPluginSetupFlowContent").SAVE_AND_NEXT_BUTTON,onBackClick:function(){return y(k.LOCALE)},onNextClick:R,children:h.jsx(c("ChatPluginSetupFlowWebsiteDomainView.react"),{updateDisableNextButton:function(a){return I(a)},updateValidDomains:function(a){return K(a)}})}),N=h.jsx(c("ChatPluginSetupFlowCodeInstallModalCard.react"),{currentStep:k.COPY_CODE,disabledMessage:d("ChatPluginSetupFlowContent").COPY_CODE_NEXT_DISABLED_MESSAGE,description:d("ChatPluginSetupFlowContent").COPY_CODE_DESCRIPTION_3P_INSTRUCTIONS,heading:d("ChatPluginSetupFlowContent").COPY_CODE_TITLE,isNextButtonDisabled:H,nextButtonText:d("ChatPluginSetupFlowContent").NEXT_BUTTON,onBackClick:function(){return y(k.WEBSITE_DOMAIN)},onNextClick:S,showEmailInstructions:!0,children:h.jsx(c("ChatPluginSetupFlowCodeSnippetView.react"),{updateDisableNextButton:function(a){return I(a)},showHelp:!1})}),O=h.jsx(c("ChatPluginSetupFlowCodeInstallModalCard.react"),{currentStep:k.PASTE_CODE,description:p,heading:d("ChatPluginSetupFlowContent").PASTE_CODE_TITLE,nextButtonText:d("ChatPluginSetupFlowContent").FINISH_BUTTON,onBackClick:function(){return y(k.COPY_CODE)},onNextClick:function(){y(k.FINISH),G(l.COMPLETED)},showEmailInstructions:!0,children:h.jsx(c("ChatPluginSetupFlowInstallInstructionsView.react"),{steps:q,endingStatement:a})}),P=h.jsx(c("ChatPluginSetupFlowCodeInstallModalCard.react"),{nextButtonText:d("ChatPluginSetupFlowContent").DONE_BUTTON,onBackClick:function(){y(k.WEBSITE_DOMAIN)},onNextClick:function(){e(),y(k.COPY_CODE)},children:h.jsx(c("ChatPluginSetupFlowCodeInstallFinishView.react"),{description:d("ChatPluginSetupFlowContent").getFinishCardDescription(u.entryPoint),heading:d("ChatPluginSetupFlowContent").FINISH_CARD_HEADING,useAnimation:!0})});return h.jsx(c("GeoStepperModal.react"),{activeStepID:x,isShown:b,onHide:e,onStepperChange:function(a){return y(a)},stepperHeader:g,steps:[h.jsx(c("GeoStep.react"),{id:k.LOCALE,isDisabled:o(z),label:d("ChatPluginSetupFlowContent").CHANGE_LOCALE_TITLE,status:n(z)},k.LOCALE),h.jsx(c("GeoStep.react"),{id:k.WEBSITE_DOMAIN,isDisabled:o(B),label:d("ChatPluginSetupFlowContent").ADD_WEBSITE_DOMAIN_TITLE,status:n(B)},k.WEBSITE_DOMAIN),h.jsx(c("GeoStep.react"),{id:k.COPY_CODE,isDisabled:o(D),label:d("ChatPluginSetupFlowContent").COPY_CODE_TITLE,status:n(D)},k.COPY_CODE),h.jsx(c("GeoStep.react"),{id:k.PASTE_CODE,isDisabled:o(F),label:d("ChatPluginSetupFlowContent").PASTE_CODE_TITLE,status:n(F)},k.PASTE_CODE)],width:m,children:function(a){a=a.activeStepID;switch(a){case k.LOCALE:return L;case k.WEBSITE_DOMAIN:return M;case k.COPY_CODE:return N;case k.PASTE_CODE:return O;case k.FINISH:return P}}});function Q(){y(k.WEBSITE_DOMAIN),A(l.COMPLETED),B!==l.COMPLETED&&C(l.INCOMPLETE),d("ChatPluginSetupFlowUtil").setLocale({env:r,state:u,dispatchAction:t,pageID:v})}function R(){d("ChatPluginSetupFlowUtil").setWebsiteDomains({env:r,state:u,dispatchAction:t,pageID:v,domains:J}),y(k.COPY_CODE),C(l.COMPLETED),D!==l.COMPLETED&&E(l.INCOMPLETE),I(D!==l.COMPLETED)}function S(){y(k.PASTE_CODE),E(l.COMPLETED),F!==l.COMPLETED&&G(l.INCOMPLETE)}}a.displayName=a.name+" [from "+f.id+"]";function n(a){switch(a){case l.INCOMPLETE:return"incomplete";case l.PENDING:return"pending";case l.COMPLETED:return"completed"}}function o(a){return a===l.INCOMPLETE?!1:!0}g.Status=l;g.MODAL_WIDTH=m;g.ChatPluginSetupFlowInstallPartnerInstructionsModal=a;g.getStatus=n;g.getIsDisabled=o}),98);
__d("ChatPluginSetupFlowInstallWordpressModal.react",["ChatPluginSetupFlow3pMenuContent","ChatPluginSetupFlowCodeInstallModal.react","ChatPluginSetupFlowCodeInstallModalCard.react","ChatPluginSetupFlowContent","ChatPluginSetupFlowContext","ChatPluginSetupFlowInstallInstructionsView.react","ChatPluginSetupFlowLoggerUtil","GeoStep.react","GeoStepperModal.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useContext;function a(a){var b=a.isShown,e=a.onHide,f=a.onBackClick;a=i(c("ChatPluginSetupFlowContext"));var g=a.state;return h.jsx(c("GeoStepperModal.react"),{activeStepID:1,isShown:b,onHide:e,onStepperChange:function(){},stepperHeader:d("ChatPluginSetupFlow3pMenuContent").WORDPRESS_STEPPER_HEADER,steps:[h.jsx(c("GeoStep.react"),{id:1,isDisabled:!1,label:d("ChatPluginSetupFlow3pMenuContent").WORDPRESS_INSTRUCTIONS_TITLE,status:"incomplete"},1)],width:d("ChatPluginSetupFlowCodeInstallModal.react").MODAL_WIDTH,children:function(){return h.jsx(c("ChatPluginSetupFlowCodeInstallModalCard.react"),{currentStep:1,heading:d("ChatPluginSetupFlow3pMenuContent").WORDPRESS_INSTRUCTIONS_TITLE,isNextButtonDisabled:!1,nextButtonText:d("ChatPluginSetupFlowContent").DONE_BUTTON,onBackClick:f,onNextClick:function(){d("ChatPluginSetupFlowLoggerUtil").log(g,"integration_wordpress_done_clicked"),e()},children:h.jsx(c("ChatPluginSetupFlowInstallInstructionsView.react"),{description:d("ChatPluginSetupFlow3pMenuContent").WORDPRESS_INSTRUCTIONS_DESCRIPTION,steps:d("ChatPluginSetupFlow3pMenuContent").WORDPRESS_INSTRUCTIONS,endingStatement:d("ChatPluginSetupFlow3pMenuContent").INSTRUCTIONS_WRAP_UP})})}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("ChatPluginSetupFlow3pMenuModal.react",["ix","$InternalEnum","ChatPluginSetupFlow3pMenuContent","ChatPluginSetupFlowContent","ChatPluginSetupFlowContext","ChatPluginSetupFlowE2ETestUtils","ChatPluginSetupFlowInstallGtmModal.react","ChatPluginSetupFlowInstallManualModal.react","ChatPluginSetupFlowInstallPartnerInstructionsModal.react","ChatPluginSetupFlowInstallWordpressModal.react","ChatPluginSetupFlowLoggerUtil","GeoButton.react","GeoMenu.react","GeoMenuItem.react","GeoModal.react","GeoModalFooter.react","GeoModalHeader.react","GeoSection.react","Image.react","gkx","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");e=d("react");var j=e.useContext,k=e.useState,l=b("$InternalEnum")({NONE:0,SELECTION:1,MANUAL_INSTALL:2,WORDPRESS:3,SHOPIFY:4,WIX:5,SQUARESPACE:6,MANYCHAT:7,GTM:8,WEBFLOW:9});function a(a){var b=a.isShown,e=a.onHide,f=a.onShow;a=a.shouldRemoveCodeSteps;var g=k(l.SELECTION),m=g[0],n=g[1];g=j(c("ChatPluginSetupFlowContext"));var o=g.state,p=g.dispatchAction;function q(a){a===l.NONE?(e(),n(l.SELECTION)):(n(a),f())}function r(){q(l.NONE)}g=c("gkx")("1270")?i.jsx(c("ChatPluginSetupFlowInstallGtmModal.react"),{isShown:b&&m===l.GTM,onHide:r,onBackClick:function(){d("ChatPluginSetupFlowLoggerUtil").log(o,"integration_google_tag_manager_back_clicked"),q(l.SELECTION)}}):null;var s=c("gkx")("1270")?i.jsx(c("GeoMenuItem.react"),{label:d("ChatPluginSetupFlow3pMenuContent").GTM_SETUP_MENU_LABEL,icon:i.jsx(c("Image.react"),{src:h("190885")}),onClick:function(){p({type:"SET_CURRENT_INSTALL_METHOD",installMethod:"gtm"}),d("ChatPluginSetupFlowLoggerUtil").log(o,"integration_setup_gtm_clicked"),q(l.GTM)}}):null;return i.jsxs("div",{"data-testid":void 0,children:[i.jsx(c("GeoModal.react"),{width:540,footer:i.jsx(c("GeoModalFooter.react"),{primaryButton:i.jsx(c("GeoButton.react"),{label:d("ChatPluginSetupFlowContent").CANCEL_BUTTON,onClick:e,variant:"default"})}),header:i.jsx(c("GeoModalHeader.react"),{heading:d("ChatPluginSetupFlow3pMenuContent").HEADER_FOR_3P_SETUP_OPTIONS}),isShown:b&&m===l.SELECTION,label:d("ChatPluginSetupFlow3pMenuContent").HEADER_FOR_3P_SETUP_OPTIONS,onHide:e,children:i.jsx(c("GeoSection.react"),{children:i.jsxs(c("GeoMenu.react"),{children:[i.jsx(c("GeoMenuItem.react"),{"data-testid":void 0,label:d("ChatPluginSetupFlow3pMenuContent").MANUAL_SETUP_MENU_LABEL,icon:i.jsx(c("Image.react"),{src:h("190887")}),onClick:function(){p({type:"SET_CURRENT_INSTALL_METHOD",installMethod:"manual_install"}),d("ChatPluginSetupFlowLoggerUtil").log(o,"integration_setup_manual_install_clicked"),q(l.MANUAL_INSTALL)}}),i.jsx(c("GeoMenuItem.react"),{label:d("ChatPluginSetupFlow3pMenuContent").WORDPRESS_SETUP_MENU_LABEL,icon:i.jsx(c("Image.react"),{src:h("190889")}),onClick:function(){p({type:"SET_CURRENT_INSTALL_METHOD",installMethod:"wordpress"}),d("ChatPluginSetupFlowLoggerUtil").log(o,"integration_setup_wordpress_clicked"),q(l.WORDPRESS)}}),i.jsx(c("GeoMenuItem.react"),{label:d("ChatPluginSetupFlow3pMenuContent").SHOPIFY_SETUP_MENU_LABEL,icon:i.jsx(c("Image.react"),{src:h("213659")}),onClick:function(){p({type:"SET_CURRENT_INSTALL_METHOD",installMethod:"shopify"}),d("ChatPluginSetupFlowLoggerUtil").log(o,"integration_setup_shopify_clicked"),q(l.SHOPIFY)}}),i.jsx(c("GeoMenuItem.react"),{label:d("ChatPluginSetupFlow3pMenuContent").WIX_SETUP_MENU_LABEL,icon:i.jsx(c("Image.react"),{src:h("213665")}),onClick:function(){p({type:"SET_CURRENT_INSTALL_METHOD",installMethod:"wix"}),d("ChatPluginSetupFlowLoggerUtil").log(o,"integration_setup_wix_clicked"),q(l.WIX)}}),i.jsx(c("GeoMenuItem.react"),{label:d("ChatPluginSetupFlow3pMenuContent").SQUARESPACE_SETUP_MENU_LABEL,icon:i.jsx(c("Image.react"),{src:h("213661")}),onClick:function(){p({type:"SET_CURRENT_INSTALL_METHOD",installMethod:"squarespace"}),d("ChatPluginSetupFlowLoggerUtil").log(o,"integration_setup_squarespace_clicked"),q(l.SQUARESPACE)}}),i.jsx(c("GeoMenuItem.react"),{label:d("ChatPluginSetupFlow3pMenuContent").MANYCHAT_SETUP_MENU_LABEL,icon:i.jsx(c("Image.react"),{src:h("213657")}),onClick:function(){p({type:"SET_CURRENT_INSTALL_METHOD",installMethod:"manychat"}),d("ChatPluginSetupFlowLoggerUtil").log(o,"integration_setup_manychat_clicked"),q(l.MANYCHAT)}}),s,i.jsx(c("GeoMenuItem.react"),{label:d("ChatPluginSetupFlow3pMenuContent").WEBFLOW_SETUP_MENU_LABEL,icon:i.jsx(c("Image.react"),{src:h("213663")}),onClick:function(){p({type:"SET_CURRENT_INSTALL_METHOD",installMethod:"webflow"}),d("ChatPluginSetupFlowLoggerUtil").log(o,"integration_setup_webflow_clicked"),q(l.WEBFLOW)}})]})})}),i.jsx(d("ChatPluginSetupFlowInstallManualModal.react").ChatPluginSetupFlowInstallManualModal,{isShown:b&&m===l.MANUAL_INSTALL,onHide:r,onBackClick:function(){d("ChatPluginSetupFlowLoggerUtil").log(o,"integration_manual_install_back_clicked"),q(l.SELECTION)},shouldRemoveCodeSteps:a}),i.jsx(c("ChatPluginSetupFlowInstallWordpressModal.react"),{isShown:b&&m===l.WORDPRESS,onHide:r,onBackClick:function(){d("ChatPluginSetupFlowLoggerUtil").log(o,"integration_wordpress_back_clicked"),q(l.SELECTION)}}),i.jsx(d("ChatPluginSetupFlowInstallPartnerInstructionsModal.react").ChatPluginSetupFlowInstallPartnerInstructionsModal,{isShown:b&&m===l.SHOPIFY,onHide:r,onBackClick:function(){d("ChatPluginSetupFlowLoggerUtil").log(o,"integration_shopify_back_clicked"),q(l.SELECTION)},stepperHeader:d("ChatPluginSetupFlow3pMenuContent").SHOPIFY_STEPPER_HEADER,instructionsDescription:d("ChatPluginSetupFlow3pMenuContent").SHOPIFY_INSTRUCTIONS_DESCRIPTION,instructionSteps:d("ChatPluginSetupFlow3pMenuContent").SHOPIFY_INSTRUCTIONS,instructionsEndingStatement:d("ChatPluginSetupFlow3pMenuContent").INSTRUCTIONS_WRAP_UP}),i.jsx(d("ChatPluginSetupFlowInstallPartnerInstructionsModal.react").ChatPluginSetupFlowInstallPartnerInstructionsModal,{isShown:b&&m===l.WIX,onHide:r,onBackClick:function(){d("ChatPluginSetupFlowLoggerUtil").log(o,"integration_wix_back_clicked"),q(l.SELECTION)},stepperHeader:d("ChatPluginSetupFlow3pMenuContent").WIX_STEPPER_HEADER,instructionsDescription:d("ChatPluginSetupFlow3pMenuContent").WIX_INSTRUCTIONS_DESCRIPTION,instructionSteps:d("ChatPluginSetupFlow3pMenuContent").WIX_INSTRUCTIONS,instructionsEndingStatement:d("ChatPluginSetupFlow3pMenuContent").INSTRUCTIONS_WRAP_UP}),i.jsx(d("ChatPluginSetupFlowInstallPartnerInstructionsModal.react").ChatPluginSetupFlowInstallPartnerInstructionsModal,{isShown:b&&m===l.SQUARESPACE,onHide:r,onBackClick:function(){d("ChatPluginSetupFlowLoggerUtil").log(o,"integration_squarespace_back_clicked"),q(l.SELECTION)},stepperHeader:d("ChatPluginSetupFlow3pMenuContent").SQUARESPACE_STEPPER_HEADER,instructionsDescription:d("ChatPluginSetupFlow3pMenuContent").SQUARESPACE_INSTRUCTIONS_DESCRIPTION,instructionSteps:d("ChatPluginSetupFlow3pMenuContent").SQUARESPACE_INSTRUCTIONS,instructionsEndingStatement:d("ChatPluginSetupFlow3pMenuContent").INSTRUCTIONS_WRAP_UP}),i.jsx(d("ChatPluginSetupFlowInstallPartnerInstructionsModal.react").ChatPluginSetupFlowInstallPartnerInstructionsModal,{isShown:b&&m===l.MANYCHAT,onHide:r,onBackClick:function(){d("ChatPluginSetupFlowLoggerUtil").log(o,"integration_manychat_back_clicked"),q(l.SELECTION)},stepperHeader:d("ChatPluginSetupFlow3pMenuContent").MANYCHAT_STEPPER_HEADER,instructionsDescription:d("ChatPluginSetupFlow3pMenuContent").MANYCHAT_INSTRUCTIONS_DESCRIPTION,instructionSteps:d("ChatPluginSetupFlow3pMenuContent").MANYCHAT_INSTRUCTIONS,instructionsEndingStatement:d("ChatPluginSetupFlow3pMenuContent").INSTRUCTIONS_WRAP_UP}),g,i.jsx(d("ChatPluginSetupFlowInstallPartnerInstructionsModal.react").ChatPluginSetupFlowInstallPartnerInstructionsModal,{isShown:b&&m===l.WEBFLOW,onHide:r,onBackClick:function(){d("ChatPluginSetupFlowLoggerUtil").log(o,"integration_webflow_back_clicked"),q(l.SELECTION)},stepperHeader:d("ChatPluginSetupFlow3pMenuContent").WEBFLOW_STEPPER_HEADER,instructionsDescription:d("ChatPluginSetupFlow3pMenuContent").WEBFLOW_INSTRUCTIONS_DESCRIPTION,instructionSteps:d("ChatPluginSetupFlow3pMenuContent").WEBFLOW_INSTRUCTIONS,instructionsEndingStatement:d("ChatPluginSetupFlow3pMenuContent").INSTRUCTIONS_WRAP_UP})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("ChatPluginSetupFlowCreateCodeButton.react",["ChatPluginSetupFlow3pMenuModal.react","ChatPluginSetupFlowContent","ChatPluginSetupFlowContext","ChatPluginSetupFlowE2ETestUtils","ChatPluginSetupFlowLoggerUtil","ChatPluginSetupFlowUtil","GeoButton.react","react","useBoolean"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useContext;function a(a){var b=a.containerRef;a=a.shouldRemoveCodeSteps;var e=i(c("ChatPluginSetupFlowContext")),f=e.state;e=c("useBoolean")(!1);var g=e.value,j=e.setTrue;e=e.setFalse;return h.jsxs("div",{ref:b,children:[h.jsx(c("GeoButton.react"),{"data-testid":void 0,label:d("ChatPluginSetupFlowContent").SET_UP_BUTTON,onClick:k,variant:"primary"}),h.jsx(c("ChatPluginSetupFlow3pMenuModal.react"),{isShown:g,onHide:e,onShow:j,shouldRemoveCodeSteps:a})]});function k(){j(),d("ChatPluginSetupFlowLoggerUtil").log(f,"create_code_clicked","",d("ChatPluginSetupFlowUtil").getAllowlistedDomains(f))}}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("ChatPluginGuestCommunicationControls.react",["ChatPluginSetupFlowAutomationExpandableCard.react","ChatPluginSetupFlowContent","ChatPluginSetupFlowContext","ChatPluginSetupFlowSettingsSection.react","GeoText.react","GeoTextArea.react","GeoToggleButton.react","GeoToggleButtonGroup.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useContext,j=b.useEffect,k=b.useState,l=150,m="Request Guest Email",n=" You can decide to make emails required, optional, or disable requesting them for guest users!",o="Message to Guest Users",p="Ask guest users for their emails so you can follow up on them! Send a customized message and we will show that to guest users.",q="Guest message input",r="Let us know your email so we can follow up on your questions!";function a(){var a=i(c("ChatPluginSetupFlowContext"));a=a.state;var b=a.customizationConfig.guestModeEnabled;a=k("Required");var e=a[0],f=a[1];a=k(r);var g=a[0],s=a[1];j(function(){b===!0?f("Required"):f("Disabled")},[b]);return h.jsxs(h.Fragment,{children:[h.jsx(c("ChatPluginSetupFlowSettingsSection.react"),{header:m,description:n,action:h.jsxs(c("GeoToggleButtonGroup.react"),{onChange:f,value:e,isDisabled:!b,children:[h.jsx(c("GeoToggleButton.react"),{label:"Required",value:"Required"}),h.jsx(c("GeoToggleButton.react"),{label:"Optional",value:"Optional"}),h.jsx(c("GeoToggleButton.react"),{label:"Disabled",value:"Disabled"})]})}),b&&e!=="Disabled"?h.jsx(c("ChatPluginSetupFlowSettingsSection.react"),{header:o,description:p,children:h.jsx(c("ChatPluginSetupFlowAutomationExpandableCard.react"),{isExpandedInit:!1,isCollapsible:!0,expandedContent:d("ChatPluginSetupFlowContent").AUTOMATION_GREETING_MESSAGE_TITLE,collapsedContent:h.jsx(c("GeoText.react"),{children:g}),children:h.jsx("div",{className:"x14vqqas",children:h.jsx(c("GeoTextArea.react"),{isResizable:!1,isLabelHidden:!0,label:q,maxLength:l,value:g,onChange:function(a){s(a)}})})})}):null]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("ChatPluginSetupFlowColorButton.react",["ShimButton.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={colorBlock:{height:"x5yr21d",width:"xh8yej3",$$css:!0},grayBorder:{borderTop:"x13k8cq1",borderEnd:"x12rsr9j",borderBottom:"xoog003",borderStart:"x1yk90dm",$$css:!0},root:{alignItems:"x6s0dn4",borderTopStartRadius:"x1lcm9me",borderTopEndRadius:"x1yr5g0i",borderBottomEndRadius:"xrt01vj",borderBottomStartRadius:"x10y3i5r",boxSizing:"x9f619",cursor:"x1ypdohk",display:"x78zum5",flexDirection:"xdt5ytf",height:"x1qx5ct2",justifyContent:"xl56j7k",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x1n2onr6",width:"xw4jnvo",":focus_outline":"x1uvtmcs",$$css:!0},selected:{borderTop:"x1t5v0p3",borderEnd:"x1obh4bj",borderBottom:"xpqvrvi",borderStart:"x17j8qrh",boxShadow:"x8tv2na",$$css:!0}};function a(a){var b=a.color,d=a.onClick;a=a.selected;return h.jsx(c("ShimButton.react"),{className:c("stylex")(i.root,!a&&b.luminosity()>.9&&i.grayBorder,a&&i.selected),onClick:function(){return d(b)},children:h.jsx("div",{className:"x5yr21d xh8yej3",style:{background:b}})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("ChatPluginSetupFlowSelectedColorItem.react",["cx","ChatPluginSetupFlowColorButton.react","FlexLayout.react","GeoListGenericItem.react","GeoStatusIcon.react","GeoText.react","GeoTooltip.react","geoMargin","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){var b=a.color,d=a.label;a=a.warningTooltip;return i.jsx(c("GeoListGenericItem.react"),{children:i.jsxs(c("FlexLayout.react"),{className_DO_NOT_USE:"_21op",justify:"all",align:"center",children:[i.jsxs(c("FlexLayout.react"),{align:"center",children:[i.jsx("div",{className:c("stylex")(c("geoMargin").end8),children:i.jsx(c("ChatPluginSetupFlowColorButton.react"),{color:b,selected:!1,onClick:function(){}})}),i.jsx(c("GeoText.react"),{display:"block",children:d})]}),a!=null?i.jsx("div",{className:"xs7f9wi x1n2onr6",children:i.jsx(c("GeoTooltip.react"),{content:a,children:i.jsx(c("GeoStatusIcon.react"),{status:"warning"})})}):null]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("ChatPluginSetupFlowColorPicker.react",["AdsPlacementEditorColorPicker.react","BUIGeodesicThemeProvider.react","ChatPluginSetupFlowColorButton.react","ChatPluginSetupFlowE2ETestUtils","ChatPluginSetupFlowSelectedColorItem.react","FlexLayout.react","GeoAccordionList.react","GeoAccordionListItem.react","GeoNotice.react","color","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.suggestedColors,e=a.selectedColor,f=a.onChange,g=a.onToggle;a=a.warningMessage;return h.jsx("div",{className:"xz4l8wp x1g4fy3t xmyivr5 x1idobzx xcu9agk x2qib4z xhk9q7s x1otrzb0 x1i1ezom x1o6z2jb",children:h.jsx(c("GeoAccordionList.react"),{children:h.jsx(c("GeoAccordionListItem.react"),{"data-testid":void 0,onChange:g,item:h.jsx(c("ChatPluginSetupFlowSelectedColorItem.react"),{color:c("color")(e),label:e,warningTooltip:a}),children:h.jsxs(c("BUIGeodesicThemeProvider.react"),{children:[h.jsx(c("FlexLayout.react"),{wrap:"wrap",className_DO_NOT_USE:"x18wv8x9",children:b.map(function(a,b){return h.jsx("div",{className:"x16ydxro xyorhqc",children:h.jsx(c("ChatPluginSetupFlowColorButton.react"),{color:c("color")(a),selected:a===e,onClick:function(){return f(a)}})},b)})}),h.jsx(c("AdsPlacementEditorColorPicker.react"),{hexInputTestId:d("ChatPluginSetupFlowE2ETestUtils").CUSTOMIZATION_THEME_COLOR_INPUT_TEST_ID,color:c("color")(e),onChange:function(a){return f(a.hex())}},e),a!=null?h.jsx("div",{className:"x1anpbxc",children:h.jsx(c("GeoNotice.react"),{"data-testid":void 0,status:"warning",children:a})}):null]})})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("ChatPluginSetupFlowDesktopWindowSizingCustomization.react",["ChatPluginSetupFlowContent","ChatPluginSetupFlowContext","ChatPluginSetupFlowE2ETestUtils","ChatPluginSetupFlowLoggerUtil","ChatPluginSetupFlowSettingsSection.react","ChatPluginSetupFlowUtil","GeoRadioList.react","GeoRadioListItem.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useContext;function a(a){a=i(c("ChatPluginSetupFlowContext"));var b=a.state,e=a.dispatchAction;a=b.customizationConfig.desktopWindowSize;return h.jsx(c("ChatPluginSetupFlowSettingsSection.react"),{header:d("ChatPluginSetupFlowContent").CHAT_WINDOW_SIZE_HEADER,description:d("ChatPluginSetupFlowContent").CHAT_WINDOW_SIZE_DESCRIPTION,children:h.jsx("div",{children:h.jsxs(c("GeoRadioList.react"),{direction:"vertical",isDisabled:!1,label:"",value:a,onChange:function(a){e({type:"SET_DESKTOP_WINDOW_SIZE",desktopWindowSize:a}),e({type:"SET_PREVIEW_TAB_TYPE",previewTabType:d("ChatPluginSetupFlowUtil").PreviewTabType.DESKTOP}),e({type:"SET_PREVIEW_DIALOG_VISIBLE",previewDialogVisible:!0}),d("ChatPluginSetupFlowLoggerUtil").log(b,"desktop_window_size_clicked",JSON.stringify({size:a}))},children:[h.jsx(c("GeoRadioListItem.react"),{"data-testid":void 0,isDisabled:!1,label:d("ChatPluginSetupFlowContent").CHAT_PLUGIN_SIZE_STANDARD_LABEL,value:"standard"}),h.jsx(c("GeoRadioListItem.react"),{"data-testid":void 0,isDisabled:!1,label:d("ChatPluginSetupFlowContent").CHAT_PLUGIN_SIZE_COMPACT_LABEL,value:"compact"})]})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("ChatPluginEntryPointIconEnum",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum")({MESSENGER_ICON:"messenger_icon",CHAT_ROUND_ICON:"chat_round_icon",CHAT_ANGULAR_ICON:"chat_angular_icon",NONE:"none"});c=a;f["default"]=c}),66);
__d("ChatPluginSetupFlowListOfIcons.react",["GeoHeading.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");d="#0A7CFF";var i="36",j="36",k="24",l="24",m="24",n="20",o="24",p="20",q=h.jsx(c("GeoHeading.react"),{level:2,children:"Abc"});function a(a){var b=a;a==="none"&&(b="messenger_icon");return h.jsx("div",{className:"x6s0dn4 x1gcv9pc x6l9gfc x1iqrxkj xguqib4 x1w81jfy x1woorlc x1vqwhq1 x1veg39d x9f619 x78zum5 x1q0g3np xl56j7k xng8ra x1247r65",children:E(b)})}a.displayName=a.name+" [from "+f.id+"]";function b(a){var b=a;a==="none"&&(b="messenger_icon");return h.jsx("div",{className:"x6s0dn4 x1gcv9pc x6l9gfc x1iqrxkj xguqib4 x1w81jfy x1woorlc x1vqwhq1 x1veg39d x9f619 x78zum5 x1q0g3np xl56j7k xn3w4p2 xeq5yr9",children:h.jsxs("span",{className:"x78zum5 x1q0g3np xzjhap9 xyfqnmn",children:[F(b),h.jsx("div",{className:"x16vho4v xuxw1ft xoz4hqq x1lkfr7t x1s688f",children:q})]})})}b.displayName=b.name+" [from "+f.id+"]";c=h.jsx("div",{className:"x6s0dn4 x1gcv9pc x6l9gfc x1iqrxkj xguqib4 x1w81jfy x1woorlc x1vqwhq1 x1veg39d x9f619 x78zum5 x1q0g3np xl56j7k xn3w4p2 xeq5yr9",children:h.jsx("div",{className:"xnm25rq xyfqnmn xuxw1ft xoz4hqq x1lkfr7t x1s688f",children:q})});function e(a,b,c){var d=!c||c==="standard"?i:k;c=!c||c==="standard"?j:l;switch(a){case"messenger_icon":return s(b,d,c);case"chat_round_icon":return t(b,d,c);case"chat_angular_icon":return u(b,d,c);case"none":return h.jsx(h.Fragment,{})}}e.displayName=e.name+" [from "+f.id+"]";function r(a,b){var c=!b||b==="standard"?m:n;b=!b||b==="standard"?o:p;switch(a){case"messenger_icon":return B(c,b);case"chat_round_icon":return C(c,b);case"chat_angular_icon":return D(c,b);case"none":return null}}r.displayName=r.name+" [from "+f.id+"]";function s(a,b,c){return h.jsx("svg",{width:b,height:c,viewBox:"0 0 36 36",fill:"none",children:h.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1 17.99C1 8.51488 8.42339 1.5 18 1.5C27.5766 1.5 35 8.51488 35 17.99C35 27.4651 27.5766 34.48 18 34.48C16.2799 34.48 14.6296 34.2528 13.079 33.8264C12.7776 33.7435 12.4571 33.767 12.171 33.8933L8.79679 35.3828C7.91415 35.7724 6.91779 35.1446 6.88821 34.1803L6.79564 31.156C6.78425 30.7836 6.61663 30.4352 6.33893 30.1868C3.03116 27.2287 1 22.9461 1 17.99ZM12.7854 14.8897L7.79161 22.8124C7.31238 23.5727 8.24695 24.4295 8.96291 23.8862L14.327 19.8152C14.6899 19.5398 15.1913 19.5384 15.5557 19.8116L19.5276 22.7905C20.7193 23.6845 22.4204 23.3706 23.2148 22.1103L28.2085 14.1875C28.6877 13.4272 27.7531 12.5704 27.0371 13.1137L21.673 17.1847C21.3102 17.4601 20.8088 17.4616 20.4444 17.1882L16.4726 14.2094C15.2807 13.3155 13.5797 13.6293 12.7854 14.8897Z",fill:a})})}s.displayName=s.name+" [from "+f.id+"]";function t(a,b,c){return h.jsx("svg",{width:b,height:c,viewBox:"0 0 36 36",fill:"none",children:h.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M34.5 17.2554C34.4986 26.4098 27.5895 33.1113 17.9997 33.1113C16.4018 33.1113 14.8796 32.9689 13.4516 32.6202C12.2642 32.3306 11.0245 32.3602 9.86671 32.755L4.3643 34.4437C3.47806 34.7463 2.61794 33.8851 2.9184 32.9648L4.01091 29.3489C4.42 28.095 4.26117 26.7193 3.57432 25.5988C2.12085 23.2265 1.50069 20.3926 1.5 17.2554V17.254V17.2526C1.50138 8.09894 8.41049 1.50537 17.9997 1.50537C27.5895 1.50537 34.4986 8.09894 34.5 17.2526V17.254V17.2554Z",fill:a})})}t.displayName=t.name+" [from "+f.id+"]";function u(a,b,c){return h.jsx("svg",{width:b,height:c,viewBox:"0 0 36 36",fill:"none",children:h.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 9C2 5.68629 4.68629 3 7.49927 3H27.9993C31.313 3 33.9993 5.68629 33.9993 9V24C33.9993 27.3137 31.313 30 27.9993 30H20.4845C18.8932 30 17.3671 30.6321 16.2419 31.7574L12.6206 35.3787C12.2228 35.7765 11.6832 36 11.1206 36C9.94902 36 8.99927 35.0503 8.99927 33.8787V31.5C8.99927 30.6716 8.3277 30 7.49927 30C4.18556 30 2 27.3137 2 24V9Z",fill:a})})}u.displayName=u.name+" [from "+f.id+"]";var v=h.jsxs("svg",{width:"38",height:"38",viewBox:"0 0 38 38",fill:"none",children:[h.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.7852 15.8896L8.7914 23.8123C8.31217 24.5726 9.24675 25.4294 9.9627 24.8861L15.3268 20.8151C15.6897 20.5397 16.1911 20.5383 16.5555 20.8115L20.5274 23.7904C21.7191 24.6844 23.4202 24.3705 24.2146 23.1102L29.2083 15.1874C29.6875 14.4271 28.7529 13.5703 28.0369 14.1136L22.6728 18.1846C22.31 18.46 21.8086 18.4614 21.4442 18.1881L17.4724 15.2093C16.2805 14.3154 14.5795 14.6292 13.7852 15.8896Z",fill:"rgba(0, 0, 0, 0.75)"}),h.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 18.99C2 9.51488 9.42339 2.5 19 2.5C28.5766 2.5 36 9.51488 36 18.99C36 28.4651 28.5766 35.48 19 35.48C17.2799 35.48 15.6296 35.2528 14.079 34.8264C13.7776 34.7435 13.4571 34.767 13.171 34.8933L9.79679 36.3828C8.91415 36.7724 7.91779 36.1446 7.88821 35.1803L7.79564 32.156C7.78425 31.7836 7.61663 31.4352 7.33893 31.1868C4.03116 28.2287 2 23.9461 2 18.99Z",stroke:"rgba(0, 0, 0, 0.75)",strokeWidth:"2"})]}),w=h.jsx("svg",{width:"38",height:"38",viewBox:"0 0 38 38",fill:"none",children:h.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M35.5 18.2554V18.2554C35.4986 27.4098 28.5895 34.1113 18.9997 34.1113C17.4018 34.1113 15.8796 33.9689 14.4516 33.6202C13.2642 33.3306 12.0245 33.3602 10.8667 33.755L5.3643 35.4437C4.47806 35.7463 3.61794 34.8851 3.9184 33.9648L5.01091 30.3489C5.42 29.095 5.26117 27.7193 4.57432 26.5988C3.12085 24.2265 2.50069 21.3926 2.5 18.2554V18.254V18.2526C2.50138 9.09894 9.41049 2.50537 18.9997 2.50537C28.5895 2.50537 35.4986 9.09894 35.5 18.2526V18.254V18.2554Z",stroke:"rgba(0, 0, 0, 0.75)",strokeWidth:"2"})}),x=h.jsx("svg",{width:"38",height:"38",viewBox:"0 0 38 38",fill:"none",children:h.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3 10C3 6.68629 5.68629 4 8.49927 4H28.9993C32.313 4 34.9993 6.68629 34.9993 10V25C34.9993 28.3137 32.313 31 28.9993 31H21.4845C19.8932 31 18.3671 31.6321 17.2419 32.7574L13.6206 36.3787C13.2228 36.7765 12.6832 37 12.1206 37C10.949 37 9.99927 36.0503 9.99927 34.8787V32.5C9.99927 31.6716 9.3277 31 8.49927 31C5.18556 31 3 28.3137 3 25V10Z",stroke:"rgba(0, 0, 0, 0.75)",strokeWidth:"2"})}),y=h.jsxs("svg",{width:"26",height:"26",viewBox:"0 0 26 26",fill:"none",children:[h.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.75 12.9438C1.75 6.67345 6.66254 2.03125 13 2.03125C19.3375 2.03125 24.25 6.67345 24.25 12.9438C24.25 19.2141 19.3375 23.8563 13 23.8563C11.8617 23.8563 10.7696 23.7059 9.74346 23.4237C9.544 23.3688 9.33188 23.3844 9.1426 23.468L6.90964 24.4537C6.32554 24.7115 5.66618 24.2961 5.64661 23.6579L5.58535 21.6565C5.57781 21.4101 5.46689 21.1795 5.28312 21.0152C3.09415 19.0576 1.75 16.2235 1.75 12.9438Z",stroke:"rgba(0, 0, 0, 0.75)",strokeWidth:"2"}),h.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.54974 10.8921L6.24506 16.1351C5.92792 16.6382 6.54639 17.2052 7.02018 16.8457L10.5699 14.1516C10.8101 13.9694 11.1419 13.9684 11.383 14.1493L14.0115 16.1206C14.8002 16.7122 15.9258 16.5045 16.4516 15.6704L19.7563 10.4274C20.0733 9.92428 19.4549 9.35728 18.9811 9.71683L15.4313 12.4109C15.1912 12.5931 14.8593 12.5941 14.6182 12.4132L11.9898 10.4419C11.2011 9.85037 10.0754 10.058 9.54974 10.8921Z",fill:"rgba(0, 0, 0, 0.75)"})]}),z=h.jsx("svg",{width:"26",height:"26",viewBox:"0 0 26 26",fill:"none",children:h.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M24 12.5037V12.5037C23.9991 18.6066 19.393 23.0743 12.9998 23.0743C11.9345 23.0743 10.9197 22.9794 9.96771 22.7469C9.17611 22.5538 8.34969 22.5736 7.57781 22.8368L3.90954 23.9625C3.31871 24.1643 2.7453 23.5902 2.9456 22.9766L3.67394 20.566C3.94666 19.7301 3.84078 18.8129 3.38288 18.066C2.4139 16.4844 2.00046 14.5951 2 12.5037V12.5028V12.5018C2.00092 6.39938 6.607 2.00366 12.9998 2.00366C19.393 2.00366 23.9991 6.39938 24 12.5018V12.5028V12.5037Z",stroke:"rgba(0, 0, 0, 0.75)",strokeWidth:"2"})}),A=h.jsx("svg",{width:"26",height:"26",viewBox:"0 0 26 26",fill:"none",children:h.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 7C2 4.79086 3.79086 3 6 3H20C22.2091 3 24 4.79086 24 7V17C24 19.2091 22.2091 21 20 21H14.6569C13.596 21 12.5786 21.4214 11.8284 22.1716L9.41421 24.5858C9.149 24.851 8.78929 25 8.41421 25C7.63316 25 7 24.3668 7 23.5858V22C7 21.4477 6.55229 21 6 21C3.79086 21 2 19.2091 2 17V7Z",stroke:"rgba(0, 0, 0, 0.75)",strokeWidth:"2"})});function B(a,b){return h.jsx("svg",{width:a,height:b,viewBox:"0 0 24 24",fill:"none",children:h.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.75 11.9125C0.75 5.6422 5.66254 1 12 1C18.3375 1 23.25 5.6422 23.25 11.9125C23.25 18.1828 18.3375 22.825 12 22.825C10.8617 22.825 9.76958 22.6746 8.74346 22.3925C8.544 22.3376 8.33188 22.3532 8.1426 22.4368L5.90964 23.4224C5.32554 23.6803 4.66618 23.2648 4.64661 22.6267L4.58535 20.6253C4.57781 20.3789 4.46689 20.1483 4.28312 19.9839C2.09415 18.0264 0.75 15.1923 0.75 11.9125ZM8.54913 9.86084L5.24444 15.1038C4.92731 15.6069 5.54578 16.1739 6.01957 15.8144L9.56934 13.1204C9.80947 12.9381 10.1413 12.9371 10.3824 13.118L13.0109 15.0893C13.7996 15.6809 14.9252 15.4732 15.451 14.6392L18.7556 9.39616C19.0727 8.893 18.4543 8.326 17.9805 8.68555L14.4307 11.3796C14.1906 11.5618 13.8587 11.5628 13.6176 11.3819L10.9892 9.41061C10.2005 8.81909 9.07479 9.02676 8.54913 9.86084Z",fill:"white"})})}B.displayName=B.name+" [from "+f.id+"]";function C(a,b){return h.jsx("svg",{width:a,height:b,viewBox:"0 0 24 24",fill:"none",children:h.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M23 11.5037C22.9991 17.6066 18.393 22.0743 11.9998 22.0743C10.9345 22.0743 9.91972 21.9794 8.96771 21.7469C8.17611 21.5538 7.34969 21.5736 6.57781 21.8368L2.90954 22.9625C2.31871 23.1643 1.7453 22.5902 1.9456 21.9766L2.67394 19.566C2.94666 18.7301 2.84078 17.8129 2.38288 17.066C1.4139 15.4844 1.00046 13.5951 1 11.5037V11.5028V11.5018C1.00092 5.39938 5.607 1.00366 11.9998 1.00366C18.393 1.00366 22.9991 5.39938 23 11.5018V11.5028V11.5037Z",fill:"white"})})}C.displayName=C.name+" [from "+f.id+"]";function D(a,b){return h.jsx("svg",{width:a,height:b,viewBox:"0 0 24 24",fill:"none",children:h.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1 6C1 3.79086 2.79086 2 5 2H19C21.2091 2 23 3.79086 23 6V16C23 18.2091 21.2091 20 19 20H13.6569C12.596 20 11.5786 20.4214 10.8284 21.1716L8.41421 23.5858C8.149 23.851 7.78929 24 7.41421 24C6.63316 24 6 23.3668 6 22.5858V21C6 20.4477 5.55229 20 5 20C2.79086 20 1 18.2091 1 16V6Z",fill:"white"})})}D.displayName=D.name+" [from "+f.id+"]";function E(a){switch(a){case"messenger_icon":return v;case"chat_round_icon":return w;case"chat_angular_icon":return x;case"none":return h.jsx(h.Fragment,{})}}E.displayName=E.name+" [from "+f.id+"]";function F(a){switch(a){case"messenger_icon":return y;case"chat_round_icon":return z;case"chat_angular_icon":return A;case"none":return h.jsx(h.Fragment,{})}}F.displayName=F.name+" [from "+f.id+"]";g.MESSENGER_BLUE=d;g.getIconOnlyEntryPointType=a;g.getIconWithLabelEntryPointType=b;g.LABEL_ONLY_TYPE=c;g.getMainIconFilledWithColor=e;g.getSideIconFilledWithWhite=r;g.CHAT_ANGULAR_ICON_SIDE_OUTLINED=A}),98);
__d("ChatPluginSetupFlowSettingsSubsection.react",["ix","GeoBaseText.react","GeoFlexbox.react","GeoHeading.react","GeoTooltip.react","Image.react","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j={wrapper:{marginTop:"xcxhlts",marginBottom:"x1fqp7bg",$$css:!0},lastChildWrapper:{marginTop:"xcxhlts",$$css:!0},tooltip:{marginLeft:"x1iog12x",marginTop:"x7r5mf7",$$css:!0},children:{marginTop:"x14vqqas",$$css:!0}};function a(a){var b=a["data-testid"];b=a.header;var d=a.description,e=a.tooltip,f=a.children;a=a.isLastChild;return i.jsxs("div",{className:c("stylex")(a==!0?j.lastChildWrapper:j.wrapper),"data-testid":void 0,children:[i.jsx(c("GeoFlexbox.react"),{alignItems:"center",justifyContent:"space-between",children:i.jsxs(c("GeoFlexbox.react"),{alignItems:"center",children:[i.jsxs("div",{children:[i.jsx(c("GeoHeading.react"),{level:4,children:b}),i.jsx(c("GeoBaseText.react"),{color:"inherit",size:"valueDescription",children:d})]}),e!=null?i.jsx(c("GeoTooltip.react"),{content:e,"data-testid":void 0,children:i.jsx("div",{className:"x1iog12x x7r5mf7",children:i.jsx(c("Image.react"),{src:h("1462226")})})}):null]})}),f!=null?i.jsxs("div",{className:"x14vqqas",children:[" ",f]}):null]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("ChatPluginSetupFlowEntryPointIcon.react",["ChatPluginSetupFlowContent","ChatPluginSetupFlowContext","ChatPluginSetupFlowE2ETestUtils","ChatPluginSetupFlowListOfIcons.react","ChatPluginSetupFlowLoggerUtil","ChatPluginSetupFlowSettingsSubsection.react","GeoSelectableTile.react","GeoSelectableTileGroup.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useContext,j="rgba(0, 0, 0, 0.75)";function a(){var a=i(c("ChatPluginSetupFlowContext")),b=a.state,e=a.dispatchAction;a=b.customizationConfig.entryPointIcon;return h.jsx(c("ChatPluginSetupFlowSettingsSubsection.react"),{"data-testid":void 0,header:d("ChatPluginSetupFlowContent").ENTRY_POINT_ICON_HEADER,description:d("ChatPluginSetupFlowContent").ENTRY_POINT_ICON_DESCRIPTION,children:h.jsxs(c("GeoSelectableTileGroup.react"),{ratio:"landscape",size:"small",selectionType:"single",onChange:function(a){if(a.length===0)return;var c={entryPointIcon:a[0]};d("ChatPluginSetupFlowLoggerUtil").log(b,"entry_point_customization_icon_updated",JSON.stringify(c));e({type:"SET_ENTRY_POINT_ICON",entryPointIcon:a[0]})},value:[a],children:[h.jsx(c("GeoSelectableTile.react"),{heading:"",media:d("ChatPluginSetupFlowListOfIcons.react").getMainIconFilledWithColor("messenger_icon",j),value:"messenger_icon"},"messenger_icon"),h.jsx(c("GeoSelectableTile.react"),{"data-testid":void 0,heading:"",media:d("ChatPluginSetupFlowListOfIcons.react").getMainIconFilledWithColor("chat_round_icon",j),value:"chat_round_icon"},"chat_round_icon"),h.jsx(c("GeoSelectableTile.react"),{heading:"",media:d("ChatPluginSetupFlowListOfIcons.react").getMainIconFilledWithColor("chat_angular_icon",j),value:"chat_angular_icon"},"chat_angular_icon")]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("ChatPluginSetupFlowEntryPointLabel.react",["ChatPluginSetupFlowContent","ChatPluginSetupFlowContext","ChatPluginSetupFlowE2ETestUtils","ChatPluginSetupFlowLoggerUtil","ChatPluginSetupFlowSettingsSubsection.react","GeoSelector.react","GeoSelectorItem.react","LiveChatPluginFbts","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useContext;function a(){var a=i(c("ChatPluginSetupFlowContext")),b=a.state,e=a.dispatchAction;a=b.customizationConfig.entryPointLabel;return h.jsx(c("ChatPluginSetupFlowSettingsSubsection.react"),{"data-testid":void 0,header:d("ChatPluginSetupFlowContent").ENTRY_POINT_LABEL_HEADER,description:d("ChatPluginSetupFlowContent").ENTRY_POINT_LABEL_DESCRIPTION,children:h.jsxs(c("GeoSelector.react"),{"data-testid":void 0,label:d("ChatPluginSetupFlowContent").ENTRY_POINT_LABEL_HEADER,isLabelHidden:!0,onChange:function(a){var c={entryPointLabel:a};d("ChatPluginSetupFlowLoggerUtil").log(b,"entry_point_customization_label_updated",JSON.stringify(c));e({type:"SET_ENTRY_POINT_LABEL",entryPointLabel:a})},placeholder:a,value:a,children:[h.jsx(c("GeoSelectorItem.react"),{label:d("LiveChatPluginFbts").getEntryPointLabelText("chat"),value:"chat"},"chat"),h.jsx(c("GeoSelectorItem.react"),{label:d("LiveChatPluginFbts").getEntryPointLabelText("ask_us"),value:"ask_us"},"ask_us"),h.jsx(c("GeoSelectorItem.react"),{"data-testid":void 0,label:d("LiveChatPluginFbts").getEntryPointLabelText("help"),value:"help"},"help")]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("ChatPluginSetupFlowEntryPointCustomization.react",["$InternalEnum","ChatPluginSetupFlowContent","ChatPluginSetupFlowContext","ChatPluginSetupFlowEntryPointIcon.react","ChatPluginSetupFlowEntryPointLabel.react","ChatPluginSetupFlowEntryPointType.react","ChatPluginSetupFlowSettingsSection.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");e=d("react");var i=e.useContext,j=e.useState,k=b("$InternalEnum")({ICON_ONLY:"icon_only",ICON_WITH_LABEL:"icon_with_label",LABEL_ONLY:"label_only"});function a(){var a=i(c("ChatPluginSetupFlowContext"));a=a.state;a=a.customizationConfig;var b=a.entryPointIcon;a=a.entryPointLabel;b=j(l(b,a));a=b[0];b=b[1];var e=m(a);return h.jsxs(c("ChatPluginSetupFlowSettingsSection.react"),{header:d("ChatPluginSetupFlowContent").ENTRY_POINT_HEADER,description:d("ChatPluginSetupFlowContent").ENTRY_POINT_DESCRIPTION,children:[h.jsx(c("ChatPluginSetupFlowEntryPointType.react"),{selectedType:a,onSelectType:b}),e]})}a.displayName=a.name+" [from "+f.id+"]";function l(a,b){if(a!="none"&&b!="none")return k.ICON_WITH_LABEL;if(b!="none")return k.LABEL_ONLY;return a!="none"?k.ICON_ONLY:k.ICON_ONLY}function m(a){switch(a){case k.ICON_ONLY:return h.jsx(c("ChatPluginSetupFlowEntryPointIcon.react"),{});case k.LABEL_ONLY:return h.jsx(c("ChatPluginSetupFlowEntryPointLabel.react"),{});case k.ICON_WITH_LABEL:return h.jsxs(h.Fragment,{children:[h.jsx(c("ChatPluginSetupFlowEntryPointIcon.react"),{}),h.jsx(c("ChatPluginSetupFlowEntryPointLabel.react"),{})]})}}m.displayName=m.name+" [from "+f.id+"]";g.EntryPointType=k;g.ChatPluginSetupFlowEntryPointCustomization=a}),98);
__d("ChatPluginSetupFlowEntryPointType.react",["ChatPluginEntryPointIconEnum","ChatPluginSetupFlowContent","ChatPluginSetupFlowContext","ChatPluginSetupFlowE2ETestUtils","ChatPluginSetupFlowEntryPointCustomization.react","ChatPluginSetupFlowListOfIcons.react","ChatPluginSetupFlowLoggerUtil","ChatPluginSetupFlowSettingsSubsection.react","GeoSelectableTile.react","GeoSelectableTileGroup.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useContext,j=b.useEffect,k=b.useState;function a(a){var b=a.selectedType,e=a.onSelectType;a=i(c("ChatPluginSetupFlowContext"));var f=a.state,g=a.dispatchAction;a=f.customizationConfig;var l=a.entryPointIcon,m=a.entryPointLabel;a=k("messenger_icon");var n=a[0],o=a[1];a=k("chat");var p=a[0],q=a[1];j(function(){l!=="none"&&o(l),m!=="none"&&q(m)},[l,m]);a=c("ChatPluginEntryPointIconEnum").cast(l);if(a==null||a==="none"){var r;a=(r=c("ChatPluginEntryPointIconEnum").cast(n))!=null?r:"messenger_icon"}return h.jsx(c("ChatPluginSetupFlowSettingsSubsection.react"),{header:d("ChatPluginSetupFlowContent").ENTRY_POINT_TYPE_HEADER,description:d("ChatPluginSetupFlowContent").ENTRY_POINT_TYPE_DESCRIPTION,children:h.jsxs(c("GeoSelectableTileGroup.react"),{ratio:"landscape",size:"small",selectionType:"single",onChange:function(a){if(a.length===0)return;a=a[0];var b={entryPointType:a};d("ChatPluginSetupFlowLoggerUtil").log(f,"entry_point_customization_type_updated",JSON.stringify(b));e(a);switch(a){case d("ChatPluginSetupFlowEntryPointCustomization.react").EntryPointType.ICON_ONLY:l==="none"&&g({type:"SET_ENTRY_POINT_ICON",entryPointIcon:n});g({type:"SET_ENTRY_POINT_LABEL",entryPointLabel:"none"});break;case d("ChatPluginSetupFlowEntryPointCustomization.react").EntryPointType.ICON_WITH_LABEL:l==="none"&&g({type:"SET_ENTRY_POINT_ICON",entryPointIcon:n});m==="none"&&g({type:"SET_ENTRY_POINT_LABEL",entryPointLabel:p});break;case d("ChatPluginSetupFlowEntryPointCustomization.react").EntryPointType.LABEL_ONLY:m==="none"&&g({type:"SET_ENTRY_POINT_LABEL",entryPointLabel:p}),g({type:"SET_ENTRY_POINT_ICON",entryPointIcon:"none"})}},value:[b],children:[h.jsx(c("GeoSelectableTile.react"),{"data-testid":void 0,heading:d("ChatPluginSetupFlowContent").ENTRY_POINT_TYPE_ICON,media:d("ChatPluginSetupFlowListOfIcons.react").getIconOnlyEntryPointType(a),value:d("ChatPluginSetupFlowEntryPointCustomization.react").EntryPointType.ICON_ONLY},d("ChatPluginSetupFlowEntryPointCustomization.react").EntryPointType.ICON_ONLY),h.jsx(c("GeoSelectableTile.react"),{"data-testid":void 0,heading:d("ChatPluginSetupFlowContent").ENTRY_POINT_TYPE_ICON_WITH_LABEL,media:d("ChatPluginSetupFlowListOfIcons.react").getIconWithLabelEntryPointType(a),value:d("ChatPluginSetupFlowEntryPointCustomization.react").EntryPointType.ICON_WITH_LABEL},d("ChatPluginSetupFlowEntryPointCustomization.react").EntryPointType.ICON_WITH_LABEL),h.jsx(c("GeoSelectableTile.react"),{"data-testid":void 0,heading:d("ChatPluginSetupFlowContent").ENTRY_POINT_TYPE_LABEL,media:d("ChatPluginSetupFlowListOfIcons.react").LABEL_ONLY_TYPE,value:d("ChatPluginSetupFlowEntryPointCustomization.react").EntryPointType.LABEL_ONLY},d("ChatPluginSetupFlowEntryPointCustomization.react").EntryPointType.LABEL_ONLY)]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("ChatPluginSetupFlowEntryPointSizingCustomization.react",["ChatPluginSetupFlowContent","ChatPluginSetupFlowContext","ChatPluginSetupFlowE2ETestUtils","ChatPluginSetupFlowLoggerUtil","ChatPluginSetupFlowSettingsSection.react","ChatPluginSetupFlowUtil","GeoFlexbox.react","GeoRadioList.react","GeoRadioListItem.react","GeoTab.react","GeoTabGroup.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useContext,j=b.useState;function a(a){a=i(c("ChatPluginSetupFlowContext"));var b=a.state,e=a.dispatchAction;a=b.customizationConfig;var f=b.previewConfig;f=f.previewTabType;var g=a.desktopEntryPointSize;a=a.mobileEntryPointSize;var k=j(d("ChatPluginSetupFlowUtil").PreviewTabType.DESKTOP),l=k[0],m=k[1];k=l===d("ChatPluginSetupFlowUtil").PreviewTabType.DESKTOP?g:a;var n=function(a){e({type:"SET_PREVIEW_DIALOG_VISIBLE",previewDialogVisible:!1})};g=function(a){e({type:"SET_DESKTOP_ENTRY_POINT_SIZE",desktopEntryPointSize:a}),d("ChatPluginSetupFlowLoggerUtil").log(b,"desktop_button_size_clicked",JSON.stringify({size:a}))};a=function(a){e({type:"SET_MOBILE_ENTRY_POINT_SIZE",mobileEntryPointSize:a}),n(),d("ChatPluginSetupFlowLoggerUtil").log(b,"mobile_button_size_clicked",JSON.stringify({size:a}))};f=f===d("ChatPluginSetupFlowUtil").PreviewTabType.DESKTOP?g:a;return h.jsxs(c("ChatPluginSetupFlowSettingsSection.react"),{header:d("ChatPluginSetupFlowContent").CHAT_BUTTON_SIZE_HEADER,description:d("ChatPluginSetupFlowContent").CHAT_BUTTON_SIZE_DESCRIPTION,children:[h.jsx("div",{children:h.jsx(c("GeoFlexbox.react"),{children:h.jsxs(c("GeoTabGroup.react"),{onChange:function(a){e({type:"SET_PREVIEW_TAB_TYPE",previewTabType:a}),m(a),a===d("ChatPluginSetupFlowUtil").PreviewTabType.MOBILE&&n()},value:l,children:[h.jsx(c("GeoTab.react"),{"data-testid":void 0,label:d("ChatPluginSetupFlowContent").DESKTOP_TAB,value:d("ChatPluginSetupFlowUtil").PreviewTabType.DESKTOP}),h.jsx(c("GeoTab.react"),{"data-testid":void 0,label:d("ChatPluginSetupFlowContent").MOBILE_TAB,value:d("ChatPluginSetupFlowUtil").PreviewTabType.MOBILE})]})})}),h.jsx("div",{className:"x1xmf6yo x11i5rnm x1e56ztr x1mh8g0r",children:h.jsxs(c("GeoRadioList.react"),{direction:"vertical",isDisabled:!1,label:"",value:k,onChange:f,children:[h.jsx(c("GeoRadioListItem.react"),{"data-testid":void 0,isDisabled:!1,label:d("ChatPluginSetupFlowContent").CHAT_PLUGIN_SIZE_STANDARD_LABEL,value:"standard"}),h.jsx(c("GeoRadioListItem.react"),{"data-testid":void 0,isDisabled:!1,label:d("ChatPluginSetupFlowContent").CHAT_PLUGIN_SIZE_COMPACT_LABEL,value:"compact"})]})})]})}a.displayName=a.name+" [from "+f.id+"]";g.ChatPluginSetupFlowEntryPointSizingCustomization=a}),98);
__d("ChatPluginSetupFlowProminenceCustomization.react",["ChatPluginSetupFlowContent","ChatPluginSetupFlowContext","ChatPluginSetupFlowE2ETestUtils","ChatPluginSetupFlowLoggerUtil","ChatPluginSetupFlowSettingsSection.react","ChatPluginSetupFlowUtil","GeoSelector.react","GeoSelectorItem.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useContext;function a(){var a=i(c("ChatPluginSetupFlowContext")),b=a.state,e=a.dispatchAction;return h.jsx(c("ChatPluginSetupFlowSettingsSection.react"),{header:d("ChatPluginSetupFlowContent").PROMINENCE_HEADER,description:d("ChatPluginSetupFlowContent").PROMINENCE_DESCRIPTION,isLastChild:!b.shouldShowMobileInWebChat,action:null,children:h.jsxs(c("GeoSelector.react"),{label:d("ChatPluginSetupFlowContent").PROMINENCE_LABEL,isLabelHidden:!0,"data-testid":void 0,onChange:function(a){e({type:"SET_GREETING_DIALOG_DISPLAY",greetingDialogDisplay:a}),e({type:"SET_PREVIEW_DIALOG_TYPE",previewDialogType:a==="welcome_message"?d("ChatPluginSetupFlowUtil").PreviewDialogType.WELCOME_MESSAGE:d("ChatPluginSetupFlowUtil").PreviewDialogType.WELCOME_PAGE}),e({type:"SET_PREVIEW_DIALOG_VISIBLE",previewDialogVisible:a==="show"}),d("ChatPluginSetupFlowLoggerUtil").log(b,"prominence_option_updated",JSON.stringify({prominence:a}))},value:b.customizationConfig.greetingDialogDisplay,children:[h.jsx(c("GeoSelectorItem.react"),{"data-testid":void 0,label:d("ChatPluginSetupFlowContent").PROMINENCE_BUTTON_LABEL,description:d("ChatPluginSetupFlowContent").PROMINENCE_BUTTON_DESCRIPTION,value:"icon"}),h.jsx(c("GeoSelectorItem.react"),{"data-testid":void 0,label:d("ChatPluginSetupFlowContent").PROMINENCE_WELCOME_MESSAGE_WITH_BUTTON_LABEL,description:d("ChatPluginSetupFlowContent").PROMINENCE_WELCOME_MESSAGE_WITH_BUTTON_DESCRIPTION,value:"welcome_message"}),h.jsx(c("GeoSelectorItem.react"),{"data-testid":void 0,label:d("ChatPluginSetupFlowContent").PROMINENCE_WINDOW_LABEL,description:d("ChatPluginSetupFlowContent").PROMINENCE_WINDOW_DESCRIPTION,value:"show"})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("ChatPluginSetupFlowSingleColumnSpacing.react",["ChatPluginSetupFlowContent","ChatPluginSetupFlowContext","ChatPluginSetupFlowE2ETestUtils","ChatPluginSetupFlowSettingsSubsection.react","ChatPluginSetupFlowUtil","GeoFlexbox.react","GeoNumericInput.react","GeoText.react","gkx","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useContext,j=b.useEffect;function a(a){var b=a.setIsSpacingValid;a=i(c("ChatPluginSetupFlowContext"));var e=a.state,f=a.dispatchAction,g=c("gkx")("2001"),k=e.customizationConfig.desktopBottomSpacing>=d("ChatPluginSetupFlowUtil").BOTTOM_SPACING_RANGE.MIN&&e.customizationConfig.desktopBottomSpacing<=d("ChatPluginSetupFlowUtil").BOTTOM_SPACING_RANGE.MAX,l=e.customizationConfig.desktopSideSpacing>=d("ChatPluginSetupFlowUtil").DESKTOP_SIDE_SPACING_RANGE.MIN&&e.customizationConfig.desktopSideSpacing<=d("ChatPluginSetupFlowUtil").DESKTOP_SIDE_SPACING_RANGE.MAX,m=e.customizationConfig.mobileBottomSpacing>=d("ChatPluginSetupFlowUtil").BOTTOM_SPACING_RANGE.MIN&&e.customizationConfig.mobileBottomSpacing<=d("ChatPluginSetupFlowUtil").BOTTOM_SPACING_RANGE.MAX,n=e.customizationConfig.mobileSideSpacing>=d("ChatPluginSetupFlowUtil").MOBILE_SIDE_SPACING_RANGE.MIN&&e.customizationConfig.mobileSideSpacing<=d("ChatPluginSetupFlowUtil").MOBILE_SIDE_SPACING_RANGE.MAX;a=d("ChatPluginSetupFlowContent").getBottomSpacingErrorMessage(d("ChatPluginSetupFlowUtil").BOTTOM_SPACING_RANGE.MIN,d("ChatPluginSetupFlowUtil").BOTTOM_SPACING_RANGE.MAX);var o=d("ChatPluginSetupFlowContent").getSideSpacingErrorMessage(d("ChatPluginSetupFlowUtil").DESKTOP_SIDE_SPACING_RANGE.MIN,d("ChatPluginSetupFlowUtil").DESKTOP_SIDE_SPACING_RANGE.MAX),p=d("ChatPluginSetupFlowContent").getSideSpacingErrorMessage(d("ChatPluginSetupFlowUtil").MOBILE_SIDE_SPACING_RANGE.MIN,d("ChatPluginSetupFlowUtil").MOBILE_SIDE_SPACING_RANGE.MAX);j(function(){var a=g?l&&n:!0;b(k&&m&&a)},[k,m,l,n,b,g]);var q=h.jsx("div",{className:"x1tpqehw xvy4d1p",children:h.jsx(c("GeoText.react"),{children:"px"})});return h.jsxs("div",{children:[h.jsx(c("ChatPluginSetupFlowSettingsSubsection.react"),{header:d("ChatPluginSetupFlowContent").BOTTOM_SPACING_DESKTOP_HEADER,children:h.jsxs(c("GeoFlexbox.react"),{alignItems:"center",children:[h.jsx(c("GeoNumericInput.react"),{"data-testid":void 0,min:d("ChatPluginSetupFlowUtil").BOTTOM_SPACING_RANGE.MIN,max:d("ChatPluginSetupFlowUtil").BOTTOM_SPACING_RANGE.MAX,errorMessage:k?null:a,label:d("ChatPluginSetupFlowContent").BOTTOM_SPACING_DESKTOP_LABEL,isLabelHidden:!0,onChange:function(a){f({type:"SET_DESKTOP_BOTTOM_SPACING",desktopBottomSpacing:(a=parseInt(a,10))!=null?a:e.customizationConfig.desktopBottomSpacing});f({type:"SET_PREVIEW_TAB_TYPE",previewTabType:d("ChatPluginSetupFlowUtil").PreviewTabType.DESKTOP})},value:e.customizationConfig.desktopBottomSpacing}),q]})}),h.jsx(c("ChatPluginSetupFlowSettingsSubsection.react"),{header:d("ChatPluginSetupFlowContent").BOTTOM_SPACING_MOBILE_HEADER,children:h.jsxs(c("GeoFlexbox.react"),{alignItems:"center",children:[h.jsx(c("GeoNumericInput.react"),{"data-testid":void 0,min:d("ChatPluginSetupFlowUtil").BOTTOM_SPACING_RANGE.MIN,max:d("ChatPluginSetupFlowUtil").BOTTOM_SPACING_RANGE.MAX,errorMessage:m?null:a,label:d("ChatPluginSetupFlowContent").BOTTOM_SPACING_MOBILE_LABEL,isLabelHidden:!0,onChange:function(a){f({type:"SET_MOBILE_BOTTOM_SPACING",mobileBottomSpacing:(a=parseInt(a,10))!=null?a:e.customizationConfig.mobileBottomSpacing});f({type:"SET_PREVIEW_TAB_TYPE",previewTabType:d("ChatPluginSetupFlowUtil").PreviewTabType.MOBILE});f({type:"SET_PREVIEW_DIALOG_VISIBLE",previewDialogVisible:!1})},value:e.customizationConfig.mobileBottomSpacing}),q]})}),g?h.jsxs("div",{children:[h.jsx(c("ChatPluginSetupFlowSettingsSubsection.react"),{header:d("ChatPluginSetupFlowContent").SIDE_SPACING_DESKTOP_HEADER,children:h.jsxs(c("GeoFlexbox.react"),{alignItems:"center",grow:1,children:[h.jsx(c("GeoNumericInput.react"),{"data-testid":void 0,min:d("ChatPluginSetupFlowUtil").DESKTOP_SIDE_SPACING_RANGE.MIN,max:d("ChatPluginSetupFlowUtil").DESKTOP_SIDE_SPACING_RANGE.MAX,errorMessage:l?null:o,label:d("ChatPluginSetupFlowContent").SIDE_SPACING_DESKTOP_LABEL,isLabelHidden:!0,onChange:function(a){f({type:"SET_DESKTOP_SIDE_SPACING",desktopSideSpacing:(a=parseInt(a,10))!=null?a:e.customizationConfig.desktopSideSpacing});f({type:"SET_PREVIEW_TAB_TYPE",previewTabType:d("ChatPluginSetupFlowUtil").PreviewTabType.DESKTOP})},value:e.customizationConfig.desktopSideSpacing}),q]})}),h.jsx(c("ChatPluginSetupFlowSettingsSubsection.react"),{header:d("ChatPluginSetupFlowContent").SIDE_SPACING_MOBILE_HEADER,children:h.jsxs(c("GeoFlexbox.react"),{alignItems:"center",children:[h.jsx(c("GeoNumericInput.react"),{"data-testid":void 0,min:d("ChatPluginSetupFlowUtil").MOBILE_SIDE_SPACING_RANGE.MIN,max:d("ChatPluginSetupFlowUtil").MOBILE_SIDE_SPACING_RANGE.MAX,errorMessage:n?null:p,label:d("ChatPluginSetupFlowContent").SIDE_SPACING_MOBILE_LABEL,isLabelHidden:!0,onChange:function(a){f({type:"SET_MOBILE_SIDE_SPACING",mobileSideSpacing:(a=parseInt(a,10))!=null?a:e.customizationConfig.mobileSideSpacing});f({type:"SET_PREVIEW_TAB_TYPE",previewTabType:d("ChatPluginSetupFlowUtil").PreviewTabType.MOBILE});f({type:"SET_PREVIEW_DIALOG_VISIBLE",previewDialogVisible:!1})},value:e.customizationConfig.mobileSideSpacing}),q]})})]}):null]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("ChatPluginSetupFlowSpacing.react",["ChatPluginSetupFlowContent","ChatPluginSetupFlowContext","ChatPluginSetupFlowE2ETestUtils","ChatPluginSetupFlowLoggerUtil","ChatPluginSetupFlowSettingsSubsection.react","ChatPluginSetupFlowUtil","GeoFlexbox.react","GeoNumericInput.react","GeoText.react","ProportionalGrid.react","ProportionalGridColumn.react","gkx","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useContext,j=b.useEffect;function a(a){var b=a.setIsSpacingValid;a=i(c("ChatPluginSetupFlowContext"));var e=a.state,f=a.dispatchAction,g=c("gkx")("2001");a=g?2:1;var k=e.customizationConfig.desktopBottomSpacing>=d("ChatPluginSetupFlowUtil").BOTTOM_SPACING_RANGE.MIN&&e.customizationConfig.desktopBottomSpacing<=d("ChatPluginSetupFlowUtil").BOTTOM_SPACING_RANGE.MAX,l=e.customizationConfig.desktopSideSpacing>=d("ChatPluginSetupFlowUtil").DESKTOP_SIDE_SPACING_RANGE.MIN&&e.customizationConfig.desktopSideSpacing<=d("ChatPluginSetupFlowUtil").DESKTOP_SIDE_SPACING_RANGE.MAX,m=e.customizationConfig.mobileBottomSpacing>=d("ChatPluginSetupFlowUtil").BOTTOM_SPACING_RANGE.MIN&&e.customizationConfig.mobileBottomSpacing<=d("ChatPluginSetupFlowUtil").BOTTOM_SPACING_RANGE.MAX,n=e.customizationConfig.mobileSideSpacing>=d("ChatPluginSetupFlowUtil").MOBILE_SIDE_SPACING_RANGE.MIN&&e.customizationConfig.mobileSideSpacing<=d("ChatPluginSetupFlowUtil").MOBILE_SIDE_SPACING_RANGE.MAX,o=d("ChatPluginSetupFlowContent").getBottomSpacingErrorMessage(d("ChatPluginSetupFlowUtil").BOTTOM_SPACING_RANGE.MIN,d("ChatPluginSetupFlowUtil").BOTTOM_SPACING_RANGE.MAX),p=d("ChatPluginSetupFlowContent").getSideSpacingErrorMessage(d("ChatPluginSetupFlowUtil").DESKTOP_SIDE_SPACING_RANGE.MIN,d("ChatPluginSetupFlowUtil").DESKTOP_SIDE_SPACING_RANGE.MAX),q=d("ChatPluginSetupFlowContent").getSideSpacingErrorMessage(d("ChatPluginSetupFlowUtil").MOBILE_SIDE_SPACING_RANGE.MIN,d("ChatPluginSetupFlowUtil").MOBILE_SIDE_SPACING_RANGE.MAX);j(function(){var a=g?l&&n:!0;b(k&&m&&a)},[k,m,l,n,b,g]);var r=h.jsx("div",{className:"x1tpqehw xvy4d1p",children:h.jsx(c("GeoText.react"),{children:"px"})});return h.jsxs(c("ProportionalGrid.react"),{children:[h.jsx(c("ProportionalGridColumn.react"),{width:1/a,children:h.jsx(c("ChatPluginSetupFlowSettingsSubsection.react"),{header:d("ChatPluginSetupFlowContent").BOTTOM_SPACING_DESKTOP_HEADER,children:h.jsxs(c("GeoFlexbox.react"),{alignItems:"center",children:[h.jsx(c("GeoNumericInput.react"),{"data-testid":void 0,min:d("ChatPluginSetupFlowUtil").BOTTOM_SPACING_RANGE.MIN,max:d("ChatPluginSetupFlowUtil").BOTTOM_SPACING_RANGE.MAX,errorMessage:k?null:o,label:d("ChatPluginSetupFlowContent").BOTTOM_SPACING_DESKTOP_LABEL,isLabelHidden:!0,onChange:function(a){var b;f({type:"SET_DESKTOP_BOTTOM_SPACING",desktopBottomSpacing:(b=parseInt(a,10))!=null?b:e.customizationConfig.desktopBottomSpacing});f({type:"SET_PREVIEW_TAB_TYPE",previewTabType:d("ChatPluginSetupFlowUtil").PreviewTabType.DESKTOP});d("ChatPluginSetupFlowLoggerUtil").log(e,"bottom_spacing_desktop_updated",JSON.stringify({bottom_spacing_desktop:a}))},value:e.customizationConfig.desktopBottomSpacing}),r]})})}),g?h.jsx(c("ProportionalGridColumn.react"),{width:1/a,children:h.jsx(c("ChatPluginSetupFlowSettingsSubsection.react"),{header:d("ChatPluginSetupFlowContent").SIDE_SPACING_DESKTOP_HEADER,children:h.jsxs(c("GeoFlexbox.react"),{alignItems:"center",grow:1,children:[h.jsx(c("GeoNumericInput.react"),{"data-testid":void 0,min:d("ChatPluginSetupFlowUtil").DESKTOP_SIDE_SPACING_RANGE.MIN,max:d("ChatPluginSetupFlowUtil").DESKTOP_SIDE_SPACING_RANGE.MAX,errorMessage:l?null:p,label:d("ChatPluginSetupFlowContent").SIDE_SPACING_DESKTOP_LABEL,isLabelHidden:!0,onChange:function(a){var b;f({type:"SET_DESKTOP_SIDE_SPACING",desktopSideSpacing:(b=parseInt(a,10))!=null?b:e.customizationConfig.desktopSideSpacing});f({type:"SET_PREVIEW_TAB_TYPE",previewTabType:d("ChatPluginSetupFlowUtil").PreviewTabType.DESKTOP});d("ChatPluginSetupFlowLoggerUtil").log(e,"side_spacing_desktop_updated",JSON.stringify({side_spacing_mobile:a}))},value:e.customizationConfig.desktopSideSpacing}),r]})})}):null,h.jsx(c("ProportionalGridColumn.react"),{width:1/a,children:h.jsx(c("ChatPluginSetupFlowSettingsSubsection.react"),{header:d("ChatPluginSetupFlowContent").BOTTOM_SPACING_MOBILE_HEADER,children:h.jsxs(c("GeoFlexbox.react"),{alignItems:"center",children:[h.jsx(c("GeoNumericInput.react"),{"data-testid":void 0,min:d("ChatPluginSetupFlowUtil").BOTTOM_SPACING_RANGE.MIN,max:d("ChatPluginSetupFlowUtil").BOTTOM_SPACING_RANGE.MAX,errorMessage:m?null:o,label:d("ChatPluginSetupFlowContent").BOTTOM_SPACING_MOBILE_LABEL,isLabelHidden:!0,onChange:function(a){var b;f({type:"SET_MOBILE_BOTTOM_SPACING",mobileBottomSpacing:(b=parseInt(a,10))!=null?b:e.customizationConfig.mobileBottomSpacing});f({type:"SET_PREVIEW_TAB_TYPE",previewTabType:d("ChatPluginSetupFlowUtil").PreviewTabType.MOBILE});f({type:"SET_PREVIEW_DIALOG_VISIBLE",previewDialogVisible:!1});d("ChatPluginSetupFlowLoggerUtil").log(e,"bottom_spacing_mobile_updated",JSON.stringify({bottom_spacing_mobile:a}))},value:e.customizationConfig.mobileBottomSpacing}),r]})})}),g?h.jsx(c("ProportionalGridColumn.react"),{width:1/a,children:h.jsx(c("ChatPluginSetupFlowSettingsSubsection.react"),{header:d("ChatPluginSetupFlowContent").SIDE_SPACING_MOBILE_HEADER,children:h.jsxs(c("GeoFlexbox.react"),{alignItems:"center",children:[h.jsx(c("GeoNumericInput.react"),{"data-testid":void 0,min:d("ChatPluginSetupFlowUtil").MOBILE_SIDE_SPACING_RANGE.MIN,max:d("ChatPluginSetupFlowUtil").MOBILE_SIDE_SPACING_RANGE.MAX,errorMessage:n?null:q,label:d("ChatPluginSetupFlowContent").SIDE_SPACING_MOBILE_LABEL,isLabelHidden:!0,onChange:function(a){var b;f({type:"SET_MOBILE_SIDE_SPACING",mobileSideSpacing:(b=parseInt(a,10))!=null?b:e.customizationConfig.mobileSideSpacing});f({type:"SET_PREVIEW_TAB_TYPE",previewTabType:d("ChatPluginSetupFlowUtil").PreviewTabType.MOBILE});f({type:"SET_PREVIEW_DIALOG_VISIBLE",previewDialogVisible:!1});d("ChatPluginSetupFlowLoggerUtil").log(e,"side_spacing_mobile_updated",JSON.stringify({side_spacing_mobile:a}))},value:e.customizationConfig.mobileSideSpacing}),r]})})}):null]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("ChatPluginSetupFlowCustomization.react",["ChatPluginGuestCommunicationControls.react","ChatPluginSetupFlowColorPicker.react","ChatPluginSetupFlowContent","ChatPluginSetupFlowContext","ChatPluginSetupFlowDesktopWindowSizingCustomization.react","ChatPluginSetupFlowE2ETestUtils","ChatPluginSetupFlowEntryPointCustomization.react","ChatPluginSetupFlowEntryPointSizingCustomization.react","ChatPluginSetupFlowLocaleSelector.react","ChatPluginSetupFlowLoggerUtil","ChatPluginSetupFlowNotifyChanges.react","ChatPluginSetupFlowProminenceCustomization.react","ChatPluginSetupFlowSettingsSection.react","ChatPluginSetupFlowSettingsSubsection.react","ChatPluginSetupFlowSingleColumnSpacing.react","ChatPluginSetupFlowSpacing.react","ChatPluginSetupFlowUtil","GeoDivider.react","GeoSelector.react","GeoSelectorItem.react","GeoSwitch.react","gkx","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useContext,j=b.useEffect,k=b.useState;function a(a){a=a.shouldShowLocale;var b=i(c("ChatPluginSetupFlowContext")),e=b.state,f=b.dispatchAction,g=e.customizationConfig,l=e.customizationConfigOriginal;b=e.shouldShowMobileInWebChat;var m=g.themeColor,n=g.loggedInGreeting,o=k(!1),p=o[0],q=o[1];o=k(!0);var r=o[0];o=o[1];var s=m!=null,t=!s||(m==null?void 0:m.toLowerCase())!=="#ffffff",u=n.length===0;j(function(){f({type:"SET_IS_CURRENT_CONFIG_VALID",isCurrentConfigValid:r&&t&&!u})},[r,t,u,f]);j(function(){JSON.stringify(g)!==JSON.stringify(l)?q(!0):q(!1)},[g,l]);return h.jsxs("div",{"data-testid":void 0,children:[a&&h.jsxs(h.Fragment,{children:[h.jsx(c("ChatPluginSetupFlowSettingsSection.react"),{header:d("ChatPluginSetupFlowContent").LANGUAGE_HEADER,description:d("ChatPluginSetupFlowContent").LANGUAGE_DESCRIPTION,children:h.jsx(c("ChatPluginSetupFlowLocaleSelector.react"),{})}),h.jsx(c("GeoDivider.react"),{})]}),p&&h.jsx(c("ChatPluginSetupFlowNotifyChanges.react"),{}),h.jsx(c("GeoDivider.react"),{}),h.jsx(c("ChatPluginSetupFlowSettingsSection.react"),{header:d("ChatPluginSetupFlowContent").GUEST_CHAT_HEADER,description:d("ChatPluginSetupFlowContent").GUEST_CHAT_DESCRIPTION,action:h.jsx(c("GeoSwitch.react"),{"data-testid":void 0,isLabelHidden:!0,label:e.customizationConfig.guestModeEnabled?d("ChatPluginSetupFlowContent").GUEST_CHAT_SWITCH_LABEL_ON:d("ChatPluginSetupFlowContent").GUEST_CHAT_SWITCH_LABEL_OFF,onChange:function(a){f({type:"SET_GUEST_MODE_ENABLED",guestModeEnabled:a}),d("ChatPluginSetupFlowLoggerUtil").log(e,"guest_mode_opt_out_toggle_clicked",JSON.stringify({guest_mode_enabled:a}))},value:e.customizationConfig.guestModeEnabled})}),c("gkx")("716")?h.jsx(c("ChatPluginGuestCommunicationControls.react"),{}):null,h.jsx(c("GeoDivider.react"),{}),h.jsx(c("ChatPluginSetupFlowSettingsSection.react"),{header:d("ChatPluginSetupFlowContent").COLOR_HEADER,description:d("ChatPluginSetupFlowContent").COLOR_DESCRIPTION,action:h.jsx(c("GeoSwitch.react"),{"data-testid":void 0,isLabelHidden:!0,label:s?d("ChatPluginSetupFlowContent").COLOR_SWITCH_LABEL_ON:d("ChatPluginSetupFlowContent").COLOR_SWITCH_LABEL_OFF,onChange:function(a){f({type:"SET_THEME_COLOR",themeColor:a?d("ChatPluginSetupFlowUtil").MESSENGER_BLUE:null}),d("ChatPluginSetupFlowLoggerUtil").log(e,"theme_color_toggle_clicked",JSON.stringify({theme_color_enabled:a}))},value:s}),children:s?h.jsx("div",{className:"x14vqqas",children:h.jsx(c("ChatPluginSetupFlowColorPicker.react"),{warningMessage:t?null:d("ChatPluginSetupFlowContent").COLOR_CONTRAST_WARNING,suggestedColors:[d("ChatPluginSetupFlowUtil").MESSENGER_BLUE,"#44bec7","#ffc300","#fa3c4c","#d696bb","#6699cc","#13cf13","#ff7e29","#e68585","#7646ff","#20cef5","#67b868","#d4a88c","#ff5ca1","#a695c7"],selectedColor:(n=m)!=null?n:d("ChatPluginSetupFlowUtil").MESSENGER_BLUE,onChange:function(a){f({type:"SET_THEME_COLOR",themeColor:a})},onToggle:function(a){d("ChatPluginSetupFlowLoggerUtil").log(e,"theme_color_panel_clicked",JSON.stringify({expand:a}))}})}):null}),h.jsx(c("GeoDivider.react"),{}),h.jsx(d("ChatPluginSetupFlowEntryPointCustomization.react").ChatPluginSetupFlowEntryPointCustomization,{}),h.jsx(c("GeoDivider.react"),{}),h.jsx(c("ChatPluginSetupFlowProminenceCustomization.react"),{}),b===!0&&h.jsxs("div",{children:[h.jsx(c("GeoDivider.react"),{}),h.jsx(c("ChatPluginSetupFlowSettingsSection.react"),{isLastChild:!0,header:d("ChatPluginSetupFlowContent").MOBILE_OPTIN_HEADER,description:d("ChatPluginSetupFlowContent").MOBILE_OPTIN_DESCRIPTION,children:h.jsxs(c("GeoSelector.react"),{"data-testid":void 0,isLabelHidden:!0,label:"Hidden",onChange:function(a){f({type:"SET_MOBILE_OPTIN",mobileOptin:a}),d("ChatPluginSetupFlowLoggerUtil").log(e,"mobile_optin_toggle_clicked",JSON.stringify({mobile_optin:a}))},value:e.customizationConfig.mobileOptin,children:[h.jsx(c("GeoSelectorItem.react"),{label:d("ChatPluginSetupFlowContent").MOBILE_OPTIN_USE_MESSENGER_APP_LABLE,value:"app_switch"}),h.jsx(c("GeoSelectorItem.react"),{label:d("ChatPluginSetupFlowContent").MOBILE_OPTIN_STAY_IN_CHAT_TAB_LABLE,value:"chat_tab"})]})})]}),h.jsx(c("GeoDivider.react"),{}),h.jsx(d("ChatPluginSetupFlowEntryPointSizingCustomization.react").ChatPluginSetupFlowEntryPointSizingCustomization,{}),h.jsx(c("GeoDivider.react"),{}),h.jsx(c("ChatPluginSetupFlowDesktopWindowSizingCustomization.react"),{}),h.jsx(c("GeoDivider.react"),{}),h.jsxs(c("ChatPluginSetupFlowSettingsSection.react"),{header:d("ChatPluginSetupFlowContent").POSITION_HEADER,description:d("ChatPluginSetupFlowContent").POSITION_DESCRIPTION,children:[h.jsx(c("ChatPluginSetupFlowSettingsSubsection.react"),{header:d("ChatPluginSetupFlowContent").ALIGNMENT_HEADER,children:h.jsxs(c("GeoSelector.react"),{"data-testid":void 0,label:d("ChatPluginSetupFlowContent").ALIGNMENT_LABEL,isLabelHidden:!0,onChange:function(a){f({type:"SET_ALIGNMENT",alignment:a}),e.previewConfig.previewTabType===d("ChatPluginSetupFlowUtil").PreviewTabType.MOBILE&&f({type:"SET_PREVIEW_DIALOG_VISIBLE",previewDialogVisible:!1}),d("ChatPluginSetupFlowLoggerUtil").log(e,"alignment_selector_clicked",JSON.stringify({alignment:a}))},value:e.customizationConfig.alignment,children:[h.jsx(c("GeoSelectorItem.react"),{label:d("ChatPluginSetupFlowContent").ALIGNMENT_LEFT_LABEL,value:"left"}),h.jsx(c("GeoSelectorItem.react"),{label:d("ChatPluginSetupFlowContent").ALIGNMENT_RIGHT_LABEL,value:"right"})]})}),c("gkx")("2001")?h.jsx(c("ChatPluginSetupFlowSingleColumnSpacing.react"),{setIsSpacingValid:o}):h.jsx(c("ChatPluginSetupFlowSpacing.react"),{setIsSpacingValid:o})]})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("ChatPluginSetupFlowMainPanelCard.react",["FlexLayout.react","GeoTextPairing.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={card:{width:"xh8yej3",$$css:!0},children:{marginTop:"xw7yly9",$$css:!0},clickableArea:{cursor:"x1ypdohk",$$css:!0},actionItem:{marginLeft:"x400o59",$$css:!0}};function a(a){var b=a.heading,d=a.description,e=a.isExpanded,f=a.actionItem,g=a.children,j=a.containerRef;a=a.onClick;return h.jsxs("div",{className:"xh8yej3",children:[h.jsx("div",{"data-testid":void 0,className:c("stylex")(a&&i.clickableArea),onClick:a,role:"none",children:h.jsxs(c("FlexLayout.react"),{direction:"horizontal",align:"center",justify:"all",containerRef:j,children:[h.jsx(c("GeoTextPairing.react"),{heading:b,description:d,size:"header2"}),h.jsx("div",{className:"x400o59",children:f})]})}),e?h.jsxs("div",{className:"xw7yly9",children:[" ",g," "]}):null]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("ChatPluginSetupFlowReEngagementOptInMessage.react",["ChatPluginSetupFlowContent","ChatPluginSetupFlowContext","ChatPluginSetupFlowE2ETestUtils","ChatPluginSetupFlowUtil","GeoFlexbox.react","GeoTab.react","GeoTabGroup.react","GeoTextArea.react","emptyFunction","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useContext,j=b.useEffect,k=b.useState,l={input:{marginTop:"xw7yly9",marginBottom:"x1e56ztr",$$css:!0}};function a(){var a=i(c("ChatPluginSetupFlowContext")),b=a.state,e=a.dispatchAction;a=b.reengagementConfig;b=b.previewConfig;var f=a.collapsedOptInMessageText,g=a.collapsedOptInMessageTitle,m=a.expandedOptInMessageText;a=a.expandedOptInMessageTitle;var n=b.previewDialogType;b=d("ChatPluginSetupFlowUtil").ReEngagementMessageTabType.COLLAPSED;n===d("ChatPluginSetupFlowUtil").PreviewDialogType.RE_ENGAGEMENT_EXPANDED_DIALOG&&(b=d("ChatPluginSetupFlowUtil").ReEngagementMessageTabType.EXPANDED);b=k(b);var o=b[0],p=b[1];j(function(){n===d("ChatPluginSetupFlowUtil").PreviewDialogType.RE_ENGAGEMENT_COLLAPSED_DIALOG?p(d("ChatPluginSetupFlowUtil").ReEngagementMessageTabType.COLLAPSED):n===d("ChatPluginSetupFlowUtil").PreviewDialogType.RE_ENGAGEMENT_EXPANDED_DIALOG&&p(d("ChatPluginSetupFlowUtil").ReEngagementMessageTabType.EXPANDED)},[n]);return h.jsxs(c("GeoFlexbox.react"),{direction:"column","data-testid":void 0,children:[h.jsxs(c("GeoTabGroup.react"),{value:o,onChange:function(a){p(a)},children:[h.jsx(c("GeoTab.react"),{label:d("ChatPluginSetupFlowContent").COLLAPSED_TAB,value:d("ChatPluginSetupFlowUtil").ReEngagementMessageTabType.COLLAPSED,"data-testid":void 0,onActivate:function(){n!==d("ChatPluginSetupFlowUtil").PreviewDialogType.RE_ENGAGEMENT_COLLAPSED_DIALOG&&e({type:"SET_PREVIEW_DIALOG_TYPE",previewDialogType:d("ChatPluginSetupFlowUtil").PreviewDialogType.RE_ENGAGEMENT_COLLAPSED_DIALOG})}}),h.jsx(c("GeoTab.react"),{label:d("ChatPluginSetupFlowContent").EXPANDED_TAB,value:d("ChatPluginSetupFlowUtil").ReEngagementMessageTabType.EXPANDED,"data-testid":void 0,onActivate:function(){n!==d("ChatPluginSetupFlowUtil").PreviewDialogType.RE_ENGAGEMENT_EXPANDED_DIALOG&&e({type:"SET_PREVIEW_DIALOG_TYPE",previewDialogType:d("ChatPluginSetupFlowUtil").PreviewDialogType.RE_ENGAGEMENT_EXPANDED_DIALOG})}})]}),h.jsx(c("GeoFlexbox.react"),{xstyle:l.input,children:h.jsx(c("GeoTextArea.react"),{label:d("ChatPluginSetupFlowContent").OPT_IN_MESSAGE_TITLE_LABEL,isLabelHidden:!0,isReadOnly:!0,isDisabled:!0,isResizable:!1,maxHeight:d("ChatPluginSetupFlowUtil").OPT_IN_MESSAGE_TITLE_MAX_HEIGHT,"data-testid":void 0,value:o===d("ChatPluginSetupFlowUtil").ReEngagementMessageTabType.COLLAPSED?g:a,onChange:c("emptyFunction")})}),h.jsx(c("GeoTextArea.react"),{label:d("ChatPluginSetupFlowContent").OPT_IN_MESSAGE_TEXT_LABEL,isLabelHidden:!0,isReadOnly:!0,isDisabled:!0,isResizable:!1,"data-testid":void 0,maxHeight:o===d("ChatPluginSetupFlowUtil").ReEngagementMessageTabType.COLLAPSED?d("ChatPluginSetupFlowUtil").COLLAPSED_OPT_IN_MESSAGE_TEXT_MAX_HEIGHT:d("ChatPluginSetupFlowUtil").EXPANDED_OPT_IN_MESSAGE_TEXT_MAX_HEIGHT,value:o===d("ChatPluginSetupFlowUtil").ReEngagementMessageTabType.COLLAPSED?f:m,onChange:c("emptyFunction")})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("ChatPluginSetupFlowReEngagement.react",["ChatPluginReEngagementSecondNotice.react","ChatPluginSetupFlowContent","ChatPluginSetupFlowContext","ChatPluginSetupFlowE2ETestUtils","ChatPluginSetupFlowLoggerUtil","ChatPluginSetupFlowReEngagementOptInMessage.react","ChatPluginSetupFlowSettingsSection.react","GeoSwitch.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useContext,j=b.useRef;function a(){var a=i(c("ChatPluginSetupFlowContext")),b=a.dispatchAction,e=a.state;a=e.reengagementConfig;var f=e.shouldShowReEngagementNotice;a=a.optInMessageEnabled;var g=j(null);return h.jsx("div",{"data-testid":void 0,children:h.jsxs(c("ChatPluginSetupFlowSettingsSection.react"),{header:d("ChatPluginSetupFlowContent").OPT_IN_MESSAGE_TITLE,tooltip:d("ChatPluginSetupFlowContent").OPT_IN_MESSAGE_TOOLTIP,description:d("ChatPluginSetupFlowContent").OPT_IN_MESSAGE_DESCRIPTION,action:h.jsx(c("GeoSwitch.react"),{label:"",onChange:function(a){b({type:"SET_REENGAGEMENT_OPT_IN_MESSAGE_ENABLED",optInMessageEnabled:a}),b({type:"SET_PREVIEW_DIALOG_VISIBLE",previewDialogVisible:a}),d("ChatPluginSetupFlowLoggerUtil").log(e,"opt_in_message_toggle_clicked",JSON.stringify({opt_in_message_enabled:a}))},value:e.reengagementConfig.optInMessageEnabled,switchRef:g,"data-testid":void 0}),children:[a&&h.jsx(c("ChatPluginSetupFlowReEngagementOptInMessage.react"),{}),h.jsx(c("ChatPluginReEngagementSecondNotice.react"),{isActive:(a=f)!=null?a:!1,contextRef:g})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("ChatPluginSetupFlowEditCell.react",["ix","ChatPluginSetupFlowE2ETestUtils","GeoButton.react","GeoFlexbox.react","GeoText.react","Image.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j={container:{backgroundColor:"xtc6z2u",borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",fontFamily:"xlxfd2w",paddingTop:"x889kno",paddingEnd:"xsyo7zv",paddingBottom:"x1a8lsjc",paddingStart:"x1sln4lm",$$css:!0},headline:{color:"x19c7zk",fontSize:"x1pg5gke",$$css:!0},icon:{marginStart:"xsgj6o6",$$css:!0}};function a(a){var b=a.headline,d=a.body,e=a.editLabel;a=a.onClick;return i.jsxs(c("GeoFlexbox.react"),{alignItems:"center",justifyContent:"space-between",xstyle:j.container,children:[i.jsxs(c("GeoFlexbox.react"),{direction:"column",children:[i.jsx("div",{className:"x19c7zk x1pg5gke",children:b}),i.jsx(c("GeoText.react"),{"data-testid":void 0,display:"truncate",children:d})]}),i.jsx(c("GeoFlexbox.react"),{shrink:0,children:i.jsx(c("GeoButton.react"),{"data-testid":void 0,icon:i.jsx(c("Image.react"),{src:h("1443156")}),isLabelHidden:!0,label:e,onClick:a,variant:"flat",xstyle:j.icon})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("ChatPluginSetupFlowEditWebsiteModal.react",["ChatPluginSetupFlowContent","ChatPluginSetupFlowContext","ChatPluginSetupFlowCustomizationMutation","ChatPluginSetupFlowE2ETestUtils","ChatPluginSetupFlowLoggerUtil","ChatPluginSetupFlowSharedContent","ChatPluginSetupFlowWebsiteDomainView.react","GeoButton.react","GeoCancelButton.react","GeoModal.react","GeoModalFooter.react","GeoModalHeader.react","GeoSection.react","RelayHooks","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useContext,j=b.useState,k=433,l=488;function a(a){var b=a.isShown,e=a.onHide,f=d("RelayHooks").useRelayEnvironment();a=i(c("ChatPluginSetupFlowContext"));var g=a.dispatchAction,m=a.state;a=m.page;var n=a.pageID;a=a.pageListedWebsite;var o=m.customizationConfig.websiteDomains;a=j(o.length===0&&a===null&&a.length===0);var p=a[0],q=a[1];a=j(o);var r=a[0],s=a[1];return h.jsx(c("GeoModal.react"),{"data-testid":void 0,footer:h.jsx(c("GeoModalFooter.react"),{primaryButton:h.jsx(c("GeoButton.react"),{"data-testid":void 0,isDisabled:p,label:d("ChatPluginSetupFlowContent").SAVE_BUTTON,onClick:t,variant:"primary"}),secondaryButton:h.jsx(c("GeoCancelButton.react"),{})}),header:h.jsx(c("GeoModalHeader.react"),{description:d("ChatPluginSetupFlowSharedContent").EDIT_WEBSITE_DOMAIN_DESCRIPTION,heading:d("ChatPluginSetupFlowContent").EDIT_WEBSITE_DOMAINS_MODAL_TITLE}),height:k,isShown:b,label:d("ChatPluginSetupFlowContent").EDIT_WEBSITE_DOMAINS_MODAL_TITLE,onHide:e,width:l,children:h.jsx(c("GeoSection.react"),{children:h.jsx(c("ChatPluginSetupFlowWebsiteDomainView.react"),{updateDisableNextButton:function(a){return q(a)},updateValidDomains:function(a){return s(a)}})})});function t(){g({type:"SET_WEBSITE_DOMAINS",websiteDomains:[].concat(r)});var a=babelHelpers["extends"]({},m.customizationConfigOriginal,{websiteDomains:[].concat(r)});d("ChatPluginSetupFlowCustomizationMutation").commit(f,{pageID:n,customization:a},{onCompleted:function(){g({type:"SET_CUSTOMIZATION_CONFIG_ORIGINAL",customizationConfigOriginal:a}),d("ChatPluginSetupFlowLoggerUtil").log(m,"mutation_on_completed_domain_update",JSON.stringify({location:"edit_website_modal"}),[].concat(r))},onError:function(b){d("ChatPluginSetupFlowLoggerUtil").log(m,"mutation_on_error_domain_update",JSON.stringify(babelHelpers["extends"]({},d("ChatPluginSetupFlowLoggerUtil").getErrorData(b),{location:"edit_website_modal",customization_config:a})),[].concat(r))}});e()}}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("ChatPluginSetupFlowWebsiteDomainSection.react",["ChatPluginSetupFlowContent","ChatPluginSetupFlowContext","ChatPluginSetupFlowE2ETestUtils","ChatPluginSetupFlowEditCell.react","ChatPluginSetupFlowEditWebsiteModal.react","ChatPluginSetupFlowSharedContent","ChatPluginSetupFlowUtil","GeoNotice.react","react","useBoolean"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useContext,j=b.useEffect;function a(){var a=c("useBoolean")(!1),b=a.value,e=a.setTrue;a=a.setFalse;var f=i(c("ChatPluginSetupFlowContext")),g=f.dispatchAction;f=f.state;var k=d("ChatPluginSetupFlowUtil").getAllowlistedDomains(f);j(function(){g({type:"SET_IS_CURRENT_DOMAIN_LIST_VALID",isCurrentDomainListValid:k.length>0})},[g,k.length]);return h.jsx(h.Fragment,{children:k.length>0?h.jsxs(h.Fragment,{children:[h.jsx(c("ChatPluginSetupFlowEditCell.react"),{headline:d("ChatPluginSetupFlowSharedContent").DOMAIN_LABEL,body:k.join(", "),editLabel:d("ChatPluginSetupFlowContent").EDIT_WEBSITE_DOMAINS_LABEL,onClick:e}),h.jsx(c("ChatPluginSetupFlowEditWebsiteModal.react"),{isShown:b,onHide:a})]}):h.jsx(c("GeoNotice.react"),{"data-testid":void 0,status:"error",children:d("ChatPluginSetupFlowContent").NO_DOMAIN_ERROR})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("ChatPluginSetupFlowMainPanel.react",["ChatPluginReEngagementFirstNotice.react","ChatPluginSetupFlow3pMenuContent","ChatPluginSetupFlowAutomationView.react","ChatPluginSetupFlowChevron.react","ChatPluginSetupFlowContent","ChatPluginSetupFlowContext","ChatPluginSetupFlowCreateCodeButton.react","ChatPluginSetupFlowCustomization.react","ChatPluginSetupFlowE2ETestUtils","ChatPluginSetupFlowLoggerUtil","ChatPluginSetupFlowMainPanelCard.react","ChatPluginSetupFlowReEngagement.react","ChatPluginSetupFlowTourStepRefs","ChatPluginSetupFlowUtil","ChatPluginSetupFlowWebsiteDomainSection.react","FlexLayout.react","GeoDivider.react","emptyFunction","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useContext,j=b.useEffect;function a(a){var b=a.shouldShowSetupSection,e=a.shouldShowLocaleInCustomization;a=a.shouldRemoveCodeSteps;var f=h.jsx("div",{className:"xh8yej3 x14vqqas xod5an3",children:h.jsx(c("GeoDivider.react"),{})}),g=i(c("ChatPluginSetupFlowContext")),k=g.dispatchAction,l=g.state,m=l.isCurrentConfigValid,n=l.expandedMainSection,o=n===d("ChatPluginSetupFlowUtil").MainSection.AUTOMATION,p=n===d("ChatPluginSetupFlowUtil").MainSection.CUSTOMIZATION,q=n===d("ChatPluginSetupFlowUtil").MainSection.REENGAGEMENT;j(function(){n===d("ChatPluginSetupFlowUtil").MainSection.AUTOMATION?k({type:"SET_PREVIEW_DIALOG_TYPE",previewDialogType:d("ChatPluginSetupFlowUtil").PreviewDialogType.AUTOMATION}):n===d("ChatPluginSetupFlowUtil").MainSection.CUSTOMIZATION?k({type:"SET_PREVIEW_DIALOG_TYPE",previewDialogType:d("ChatPluginSetupFlowUtil").PreviewDialogType.WELCOME_PAGE}):n===d("ChatPluginSetupFlowUtil").MainSection.REENGAGEMENT&&k({type:"SET_PREVIEW_DIALOG_TYPE",previewDialogType:d("ChatPluginSetupFlowUtil").PreviewDialogType.RE_ENGAGEMENT_COLLAPSED_DIALOG})},[k,n]);var r=function(a){if(!m)return;k({type:"SET_EXPANDED_MAIN_SECTION",expandedMainSection:a})};return h.jsxs(c("FlexLayout.react"),{align:"center",direction:"vertical",justify:"all",className_DO_NOT_USE:"x1cnzs8 xc73u3c xx6bls6 x5ib6vp",children:[b&&h.jsxs(h.Fragment,{children:[h.jsx(c("ChatPluginSetupFlowMainPanelCard.react"),{actionItem:h.jsx(c("ChatPluginSetupFlowCreateCodeButton.react"),{containerRef:d("ChatPluginSetupFlowTourStepRefs").stepCreateCodeRef,shouldRemoveCodeSteps:a}),heading:d("ChatPluginSetupFlowContent").HEADER_FOR_CODE_CREATION,isExpanded:!0,description:d("ChatPluginSetupFlow3pMenuContent").META_FOR_CODE_CREATION,children:h.jsx(c("ChatPluginSetupFlowWebsiteDomainSection.react"),{})}),f]}),h.jsx(c("ChatPluginSetupFlowMainPanelCard.react"),{"data-testid":void 0,containerRef:d("ChatPluginSetupFlowTourStepRefs").stepAutomationRef,actionItem:h.jsx(c("ChatPluginSetupFlowChevron.react"),{isExpanded:o}),onClick:function(){d("ChatPluginSetupFlowLoggerUtil").log(l,"automation_section_clicked",JSON.stringify({is_currently_expanded:o})),o?r(null):r(d("ChatPluginSetupFlowUtil").MainSection.AUTOMATION)},heading:d("ChatPluginSetupFlowContent").HEADER_FOR_AUTOMATIONS_SETUP,isExpanded:o,description:d("ChatPluginSetupFlowContent").META_FOR_AUTOMATIONS_SETUP,children:h.jsx(c("ChatPluginSetupFlowAutomationView.react"),{})}),f,l.shouldShowReEngagement===!0&&h.jsxs(h.Fragment,{children:[h.jsx(c("ChatPluginReEngagementFirstNotice.react"),{tipPosition:"chat-plugin",onExpandClick:q?c("emptyFunction"):r}),h.jsx(c("ChatPluginSetupFlowMainPanelCard.react"),{"data-testid":void 0,actionItem:h.jsx(c("ChatPluginSetupFlowChevron.react"),{isExpanded:q}),onClick:function(){d("ChatPluginSetupFlowLoggerUtil").log(l,"re_engagement_section_clicked",JSON.stringify({is_currently_expanded:q})),q?r(null):(r(d("ChatPluginSetupFlowUtil").MainSection.REENGAGEMENT),k({type:"SET_PREVIEW_DIALOG_VISIBLE",previewDialogVisible:l.reengagementConfig.optInMessageEnabled}))},heading:d("ChatPluginSetupFlowContent").HEADER_FOR_REENGAGEMENT,isExpanded:q,description:d("ChatPluginSetupFlowContent").META_FOR_REENGAGEMENT,children:h.jsx(c("ChatPluginSetupFlowReEngagement.react"),{})}),f]}),h.jsx(c("ChatPluginSetupFlowMainPanelCard.react"),{"data-testid":void 0,containerRef:d("ChatPluginSetupFlowTourStepRefs").stepCustomizationRef,actionItem:h.jsx(c("ChatPluginSetupFlowChevron.react"),{isExpanded:p}),onClick:function(){d("ChatPluginSetupFlowLoggerUtil").log(l,"customization_section_clicked",JSON.stringify({is_currently_expanded:p})),p?r(null):r(d("ChatPluginSetupFlowUtil").MainSection.CUSTOMIZATION)},heading:d("ChatPluginSetupFlowContent").HEADER_FOR_CUSTOMIZATION,isExpanded:p,description:d("ChatPluginSetupFlowContent").META_FOR_CUSTOMIZATION,children:h.jsx(c("ChatPluginSetupFlowCustomization.react"),{shouldShowLocale:e})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("ChatPluginMessengerAttribution.react",["cx","fbt","ix","Image.react","react"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";var k=d("react");function a(){return k.jsxs("span",{className:"_9zb3",children:[k.jsx("span",{className:"_9zb4",children:k.jsx(c("Image.react"),{src:j("1350887")})}),i._("Powered by Messenger")]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("ChatPluginDeltaReceivedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1871687");b=d("FalcoLoggerInternal").create("chat_plugin_delta_received",a);e=b;g["default"]=e}),98);
__d("ChatPluginInThreadActionFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1871688");b=d("FalcoLoggerInternal").create("chat_plugin_in_thread_action",a);e=b;g["default"]=e}),98);
__d("ChatPluginUiTabImpressionFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1902935");b=d("FalcoLoggerInternal").create("chat_plugin_ui_tab_impression",a);e=b;g["default"]=e}),98);
__d("FBXSocialPluginIframeChatPluginTabImpressionLoggingController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/chat/tab_impression_logging/",{page_id:{type:"String",required:!0},event_name:{type:"Enum",required:!0,enumType:1},client_id:{type:"Int"},request_id:{type:"String",required:!0},plugin_interface:{type:"Enum",required:!0,enumType:1},user_is_logged_in:{type:"Bool",defaultValue:!1},tab_name:{type:"Enum",required:!0,enumType:1},loading_time:{type:"String"},client_loading_time:{type:"String"},button_names:{type:"EnumVector",enumType:{member:1}},welcome_message:{type:"String"},debug_data:{type:"String"},prompt_type:{type:"String"},has_explicit_interaction:{type:"String"},entry_point_icon:{type:"String"},entry_point_label:{type:"String"},event_timestamp:{type:"Int"},log_id:{type:"String"},server_loading_time:{type:"String"},exception_type:{type:"String"},exception_message:{type:"String"},exception_stacktrace:{type:"String"},is_new_welcome_view:{type:"Bool",defaultValue:!1}})}),null);
__d("XChatPluginTabImpressionLoggingController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/plugins/chat/tab_impression_logging/",{page_id:{type:"String",required:!0},event_name:{type:"Enum",required:!0,enumType:1},client_id:{type:"Int"},request_id:{type:"String",required:!0},plugin_interface:{type:"Enum",required:!0,enumType:1},user_is_logged_in:{type:"Bool",defaultValue:!1},tab_name:{type:"Enum",required:!0,enumType:1},loading_time:{type:"String"},client_loading_time:{type:"String"},button_names:{type:"EnumVector",enumType:{member:1}},welcome_message:{type:"String"},debug_data:{type:"String"},prompt_type:{type:"String"},has_explicit_interaction:{type:"String"},entry_point_icon:{type:"String"},entry_point_label:{type:"String"},event_timestamp:{type:"Int"},log_id:{type:"String"},server_loading_time:{type:"String"},exception_type:{type:"String"},exception_message:{type:"String"},exception_stacktrace:{type:"String"},is_new_welcome_view:{type:"Bool",defaultValue:!1}})}),null);
__d("LiveChatPluginLoggerUtil",["AsyncRequest","ChatPluginDeltaReceivedFalcoEvent","ChatPluginInThreadActionFalcoEvent","ChatPluginUiTabImpressionFalcoEvent","CurrentUser","FBXSocialPluginIframeChatPluginTabImpressionLoggingController","LiveChatPluginConstants","MNPlatformAttributionTags","MPNIdentity","MPNStorage","MessengerWebPluginAnonymousTypedLogger","XChatPluginTabImpressionLoggingController","performanceAbsoluteNow"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,d,e,f,g,h,i){var j=/iPhone|iPod|iPad|Android|Mobile/i.test(navigator.userAgent),k=c("CurrentUser").getID()!=="0",l={page:{id:b},request:{id:(b=c("MPNStorage").getRequestID())!=null?b:""},plugin_interface:j?"mobile":"desktop",user_is_logged_in:k,tab_name:d,action_type:e,button_name:f,opened_tab:g,prompt_type:h&&h,is_icebreaker:i};a!=null&&(l=babelHelpers["extends"]({},l,{client:{id:a}}));c("ChatPluginInThreadActionFalcoEvent").log(function(){return l})}function b(a,b,e,f,g,h,i,j,k,l){h=(h=h)!=null?h:c("MPNStorage").getRequestID();var m=c("performanceAbsoluteNow")(),n=c("CurrentUser").getID()!=="0",o,p;e!=null&&(o=Math.round(m-e),p=j!=null?Math.round(m-j):null);j=babelHelpers["extends"]({fromTime:e,now:m,loadingTime:o,clientLoadingTime:p,hasStorageAccess:d("MPNIdentity").MPNIdentity.getHasStorageAccess()},l);e=/iPhone|iPod|iPad|Android|Mobile/i.test(navigator.userAgent);var q={page:{id:a},request:{id:(m=h)!=null?m:""},plugin_interface:e?"mobile":"desktop",user_is_logged_in:n,tab_name:b,loading_time:(l=o)==null?void 0:l.toString(),client_loading_time:(a=p)==null?void 0:a.toString(),botton_names:f,welcome_message:g,debug_data:JSON.stringify(j),prompt_type:k&&k};i!=null&&(q=babelHelpers["extends"]({},q,{client:{id:i}}));c("ChatPluginUiTabImpressionFalcoEvent").log(function(){return q})}function e(a,b,e,f,g,h,i,j,k,l,m,n,o,p,q){i=(i=i)!=null?i:c("MPNStorage").getRequestID();var r=c("performanceAbsoluteNow")(),s=c("CurrentUser").getID()!=="0",t,u,v;f!=null&&(t=Math.round(r-f),u=k!=null?Math.round(r-k):null);p!=null&&(v=Math.round(r-p));k={fromTime:f,now:r,loadingTime:t,clientLoadingTime:u,hasStorageAccess:d("MPNIdentity").MPNIdentity.getHasStorageAccess(),screenSize:{width:screen.width,height:screen.height,size:screen.width+"x"+screen.height}};p=/iPhone|iPod|iPad|Android|Mobile/i.test(navigator.userAgent);r=(f=q)!=null?f:"tab_impression";b=(a?c("FBXSocialPluginIframeChatPluginTabImpressionLoggingController"):c("XChatPluginTabImpressionLoggingController")).getURIBuilder().setString("page_id",b).setEnum("event_name",r).setString("request_id",i).setInt("client_id",j).setEnum("plugin_interface",p?"mobile":"desktop").setBool("user_is_logged_in",s).setEnum("tab_name",e).setString("loading_time",(q=t)==null?void 0:q.toString()).setString("client_loading_time",(f=u)==null?void 0:f.toString()).setEnumVector("button_names",g).setString("welcome_message",h).setString("debug_data",JSON.stringify(k)).setString("prompt_type",l).setString("has_explicit_interaction",c("CurrentUser").getID()!="0"?"1":null).setInt("event_timestamp",Date.now()).setString("log_id",o).setString("server_loading_time",(a=v)==null?void 0:a.toString()).setBool("is_new_welcome_view",!0);r=m==="none"?null:m;i=n==="none"?null:n;b.setString("entry_point_icon",r).setString("entry_point_label",i);new(c("AsyncRequest"))().setURI(b.getURI()).send()}function f(a,b,d,e,f,g,h){var i=c("MPNStorage").getRequestID(),j=Date.now(),k=c("CurrentUser").getID()!=="0",l=/iPhone|iPod|iPad|Android|Mobile/i.test(navigator.userAgent);a=(a?c("FBXSocialPluginIframeChatPluginTabImpressionLoggingController"):c("XChatPluginTabImpressionLoggingController")).getURIBuilder().setString("page_id",d).setEnum("event_name",b).setString("request_id",i).setEnum("plugin_interface",l?"mobile":"desktop").setBool("user_is_logged_in",k).setEnum("tab_name",e).setInt("event_timestamp",j).setString("exception_type",f).setString("exception_message",g).setString("exception_stacktrace",h);new(c("AsyncRequest"))().setURI(a.getURI()).send()}function h(a,b,e,f,g){g===void 0&&(g=!1);var h=d("LiveChatPluginConstants").MQTT,i=g?JSON.stringify({seqId:f,isGuest:g}):JSON.stringify({seqId:f});c("ChatPluginDeltaReceivedFalcoEvent").log(function(){var d;return{client:{id:a},page:{id:b},request:{id:(d=c("MPNStorage").getRequestID())!=null?d:""},delta_type:e,gateway:h,debug_data:i}})}function i(){return[d("MNPlatformAttributionTags").ATTRIBUTION_TAGS_PREFIX+d("MNPlatformAttributionTags").CUSTOMER_CHAT_PLUGIN,d("LiveChatPluginConstants").LIVE_CHAT_ENTRYPOINT_ATTRIBUTION_TAG]}function j(a,b,d,e,f){var g=c("MPNStorage").getRequestID(),h=c("performanceAbsoluteNow")(),i=c("CurrentUser").getID()!=="0",j=/iPhone|iPod|iPad|Android|Mobile/i.test(navigator.userAgent);new(c("MessengerWebPluginAnonymousTypedLogger"))().setClientFbid(c("CurrentUser").getID()).setPluginName("messaging_plugin").setPluginInterface(j?"mobile":"desktop").setIsUserLoggedIn(i).setTabName(d).setPageID(b).setRequestID(g).setNewEventName(a).setOtherFields(e).setDebugData(JSON.stringify(f)).setEventTimestamp(h).logVital()}function k(a,b,d,e,f,g){var h=c("MPNStorage").getRequestID(),i=c("CurrentUser").getID()!=="0",j=Date.now(),k=/iPhone|iPod|iPad|Android|Mobile/i.test(navigator.userAgent);new(c("MessengerWebPluginAnonymousTypedLogger"))().setClientFbid(b).setPluginName("messaging_plugin").setPluginInterface(k?"mobile":"desktop").setIsUserLoggedIn(i).setTabName(e).setPageID(d).setRequestID(h).setNewEventName(a).setOtherFields(f).setDebugData(g).setEventTimestamp(j).logVital()}function l(a,b,d,e,f,g,h){var i=c("MPNStorage").getRequestID(),j=Date.now(),k=c("CurrentUser").getID()!=="0",l=/iPhone|iPod|iPad|Android|Mobile/i.test(navigator.userAgent),m={exception_type:e,exception_message:f,exception_stack_trace:g};new(c("MessengerWebPluginAnonymousTypedLogger"))().setPluginName("messaging_plugin").setPluginInterface(l?"mobile":"desktop").setIsUserLoggedIn(k).setTabName(d).setPageID(b).setRequestID(i).setNewEventName(a).setOtherFields(m).setExceptionType(e).setExceptionMessage(f).setExceptionStacktrace(g).setEventTimestamp(j).setDebugData(h).logVital()}var m={show:"customer_chat_show_called",hide:"customer_chat_hide_called",showDialog:"customer_chat_show_dialog_called",hideDialog:"customer_chat_hide_dialog_called",update:"customer_chat_update_called"};function n(a){return{error_name:a.name,error_message:a.message,error_stack:a.stack}}function o(a,b,c){var d;if(a!=="none"){a={entry_point_icon:a};d=babelHelpers["extends"]({},d,a)}if(b!=="none"){a={entry_point_label:b};d=babelHelpers["extends"]({},d,a)}k("tab_click",null,c,"plugin_entrypoint",d)}g.logActionUsingFalco=a;g.logImpressionUsingFalco_UnsafeFor3PD=b;g.logImpressionUsingXController_SafeFor3PD=e;g.logImpressionExceptionsUsingXController_SafeFor3PD=f;g.logDelta=h;g.getAttributionTags=i;g.logNewImpressionEvents_UnsafeFor3PD=j;g.logActionFromNewUI=k;g.logImpressionExceptionsFromNewUI_UnsafeFor3PD=l;g.EVENTMAP=m;g.getErrorData=n;g.logEntryPointClick=o}),98);
__d("MPNMessengerIconSVG.react",["cx","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.render=function(){return i.jsx("div",{className:"loggedInIcon",children:i.jsx("svg",{viewBox:"0 0 40 40",x:"0",y:"0",children:i.jsx("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:i.jsx("g",{children:i.jsx("svg",{x:"0",y:"0",children:i.jsx("path",{d:"M20,0 C31.2666,0 40,8.2528 40,19.4 C40,30.5472 31.2666,38.8 20,38.8 C17.9763,38.8 16.0348,38.5327 14.2106,38.0311 C13.856,37.9335 13.4789,37.9612 13.1424,38.1098 L9.1727,39.8621 C8.1343,40.3205 6.9621,39.5819 6.9273,38.4474 L6.8184,34.8894 C6.805,34.4513 6.6078,34.0414 6.2811,33.7492 C2.3896,30.2691 0,25.2307 0,19.4 C0,8.2528 8.7334,0 20,0 Z M7.99009,25.07344 C7.42629,25.96794 8.52579,26.97594 9.36809,26.33674 L15.67879,21.54734 C16.10569,21.22334 16.69559,21.22164 17.12429,21.54314 L21.79709,25.04774 C23.19919,26.09944 25.20039,25.73014 26.13499,24.24744 L32.00999,14.92654 C32.57369,14.03204 31.47419,13.02404 30.63189,13.66324 L24.32119,18.45264 C23.89429,18.77664 23.30439,18.77834 22.87569,18.45674 L18.20299,14.95224 C16.80079,13.90064 14.79959,14.26984 13.86509,15.75264 L7.99009,25.07344 Z",fill:"#FFFFFF"})})})})})})};return b}(i.Component);g["default"]=a}),98);
__d("MPNNavigation",["ChatPluginStyleUtils","LiveChatPluginLoggerUtil","MPNConstants","MPNIdentity","MPNLocalState","MPNStorage","MPNXDMessageManager","MessagingPluginPathUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,e,f){if(b==null)return;c("MPNStorage").setPath(e);a.dispatchAction({type:"UPDATE_DIALOG_PATH",path:e});b.replace(d("MessagingPluginPathUtils").MessagingPluginPathUtils.toMobilePath(e),{shouldShowLoginPage:f})}function h(a,b){var e;b===void 0&&(b=!0);var f=a.state,g=f.pageID,h=f.hasGuestMode,i=f.bottomSpacing,j=f.entryPointLabel,k=f.entryPointSize;f=f.windowSize;e=(e=c("MPNStorage").getFBStorageState())==null?void 0:e.currentPath;c("MPNStorage").setVisibility(d("MPNConstants").MPNVisibility.HIDDEN);a.dispatchAction({type:"UPDATE_DIALOG_VISIBILITY",dialogVisibility:d("MPNConstants").MPNVisibility.HIDDEN});c("MPNXDMessageManager").toggleDialogVisibility(!0);a=f==="compact";i=d("ChatPluginStyleUtils").getDesktopGreetingBottomSpacingWithReEngagementDialog(!0,(f=i)!=null?f:0,j,k,a);c("MPNXDMessageManager").updateGreetingIframeBottomSpacing(i);b&&d("LiveChatPluginLoggerUtil").logActionFromNewUI("tab_close",null,g,d("MessagingPluginPathUtils").MessagingPluginPathUtils.getTabNameFromLocalStatePathEnum(e,h))}function i(a,b){var e,f=a.state,g=f.optimisticStorageState,h=f.windowSize,i=f.bottomSpacing,k=f.entryPointLabel;f=f.entryPointSize;e=(e=(e=c("MPNStorage").getFBStorageState())==null?void 0:e.currentPath)!=null?e:g.path;(b||e===d("MPNLocalState").MPNLocalStatePath.BUBBLE||e===d("MPNLocalState").MPNLocalStatePath.REENGAGEMENT_COLLAPSED_VIEW)&&c("MPNXDMessageManager").navigateToWelcomePage(!1);c("MPNStorage").setVisibility(d("MPNConstants").MPNVisibility.NOT_HIDDEN);a.dispatchAction({type:"UPDATE_DIALOG_VISIBILITY",dialogVisibility:d("MPNConstants").MPNVisibility.NOT_HIDDEN});c("MPNXDMessageManager").toggleDialogVisibility(!1);j(a);g=h==="compact";h=d("ChatPluginStyleUtils").getDesktopGreetingBottomSpacingWithReEngagementDialog(!1,(b=i)!=null?b:0,k,f,g);c("MPNXDMessageManager").updateGreetingIframeBottomSpacing(h);i={opened_tab:d("MessagingPluginPathUtils").MessagingPluginPathUtils.getTabNameFromLocalStatePathEnum(e,a.state.hasGuestMode)};if(a.state.entryPointIconEnum!=="none"){b={entry_point_icon:a.state.entryPointIconEnum};i=babelHelpers["extends"]({},i,b)}if(a.state.entryPointLabel!=="none"){k={entry_point_label:a.state.entryPointLabel};i=babelHelpers["extends"]({},i,k)}d("LiveChatPluginLoggerUtil").logActionFromNewUI("tab_click",null,a.state.pageID,"plugin_icon",i)}function b(a,b){var c=a.state,e=c.optimisticStorageState;c=c.pageID;if(e.path===d("MPNLocalState").MPNLocalStatePath.BUBBLE||e.path===d("MPNLocalState").MPNLocalStatePath.REENGAGEMENT_COLLAPSED_VIEW){i(a,b);return}if(e.visibility===d("MPNConstants").MPNVisibility.NOT_HIDDEN){h(a);var f=d("MPNIdentity").MPNIdentity.currentUserID();if(f==null)return;d("LiveChatPluginLoggerUtil").logActionFromNewUI("chat_plugin_minimize",f,c,"plugin_icon")}else e.visibility===d("MPNConstants").MPNVisibility.HIDDEN&&i(a,b)}function e(a){a.dispatchAction({type:"DISMISS_RE_ENGAGEMENT_DIALOG",shouldRenderReEngagementDialog:!1}),c("MPNXDMessageManager").markReEngagementDismiss()}function j(a){c("MPNStorage").setGreetingVisibility(d("MPNConstants").MPNVisibility.HIDDEN),a.dispatchAction({type:"UPDATE_GREETING_VISIBILITY",greetingVisibility:d("MPNConstants").MPNVisibility.HIDDEN}),c("MPNXDMessageManager").toggleGreetingVisibility(!0)}function f(a){c("MPNStorage").setGreetingVisibility(d("MPNConstants").MPNVisibility.NOT_HIDDEN),a.dispatchAction({type:"UPDATE_GREETING_VISIBILITY",greetingVisibility:d("MPNConstants").MPNVisibility.NOT_HIDDEN}),c("MPNXDMessageManager").toggleGreetingVisibility(!1)}function k(a){c("MPNXDMessageManager").markGreetingDialogDismiss(),a.dispatchAction({type:"DISMISS_GREETING_DIALOG",isGreetingDismissed:!0})}g.navigateToRoute=a;g.minimizePlugin=h;g.maximizePlugin=i;g.togglePluginVisibility=b;g.dismissReEngagementDialog=e;g.minimizeGreetingDialog=j;g.maximizeGreetingDialog=f;g.dismissGreetingDialog=k}),98);
__d("MessagingPluginContext",["MPNConstants","MPNLocalState","emptyFunction","react"],(function(a,b,c,d,e,f,g){"use strict";a=d("react").createContext;b={alignment:null,pageID:"",pageName:"",pageProfilePictureUri:"",viewerProfilePicureUri:"",threadCSSColor:"",entryPointIconSVG:"",entryPointIconEnum:"",entryPointLabel:"",pageResponsiveness:"",isComposerDisabled:!1,isBusinessActive:!1,hasActiveAutomation:!1,hasPersistentMenu:!1,greetingDialogDelay:0,greetingDialogDisplay:"show",loggedInGreeting:"",loggedOutGreeting:"",refParam:"",refererUri:"",requestID:"",originDomain:"",icebreakers:null,icebreakerCtas:null,pageVerifiedStatus:null,mobileOptin:"app_switch",optimisticStorageState:{path:d("MPNLocalState").MPNLocalStatePath.LANDING_BANNER,chatState:d("MPNLocalState").MPNChatState.CHAT_NOT_STARTED,visibility:d("MPNConstants").MPNVisibility.NOT_HIDDEN,showCufeeModal:d("MPNConstants").MPNVisibility.HIDDEN,showUpgradePrompt:d("MPNConstants").MPNUpgradePrompt.NOT_SHOWN},accessToken:"",loggedInAccessToken:null,guestID:"",soundURLs:new Map(),isInitialLoad:!1,hasGuestMode:!1,showUpgradeUpsellPrompt:!1,pluginMountTime:0,serverTime:0,clientRequestTime:0,upgradeUpsellPrompt:d("MPNConstants").MPNUpgradePrompt.NOT_SHOWN,cookieAccessDenied:!1,hasAutomation:!1,isPageInEU:!1,isSanitizedEpd3pdRequest:!1,shouldShowMobileInWebChat:!1,shouldShowReEngagement:!1,shouldBypassPageSentryTest:!1,shouldUseAccessTokenAuth:!1,entryPointSize:"standard",windowSize:"standard",awayHoursEnabled:!1,awayGreeting:"",isPageAway:!1,nextAvailableTimestamp:null,optInMessageEnabled:!1,optInMessageCadence:"monthly",collapsedOptInMessageTitle:"Can we message you?",expandedOptInMessageTitle:"Can we message you?",collapsedOptInMessageText:"We\u2019d like to send you promotional messages.",expandedOptInMessageText:"We\u2019d like to send you promotional messages. You may receive additional messages from this business, and you can opt out at any time.",shouldRenderReEngagementDialog:!1};e=a({dispatchAction:c("emptyFunction"),state:b});g["default"]=e}),98);
__d("FBXSocialPluginIframeCustomerChatPluginOpenThreadController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messages/commerce/customer_chat_plugin/open_thread/",{page_id:{type:"FBID",required:!0},request_id:{type:"String",required:!0},referer_uri:{type:"String",required:!0},ref:{type:"String"},access_token:{type:"String"},logged_in_access_token:{type:"String"},locale:{type:"String"},is_from_re_engagement:{type:"Bool",defaultValue:!1}})}),null);
__d("FBXSocialPluginIframeMessagingPluginMarkReadController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/plugins/live_chat/mark_read/",{access_token:{type:"String"},logged_in_access_token:{type:"String"},ids:{type:"StringToBoolMap",required:!0},watermark_timestamp:{type:"Int"}})}),null);
__d("MessagingPluginFRXBootloaderUtils",["Bootloader"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,d){c("Bootloader").loadModules(["MessagingPluginFRXUtils","NFXStoryLocation"],function(c,e){c.openFRXDialog(a,e.MESSAGING_PLUGIN,d,b)},"MessagingPluginFRXBootloaderUtils")}g.bootloadOpenFRXDialog=a}),98);
__d("MPNMessageListDataHelper",["MercuryIDs"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){a=j(a);if(b==null||!a||!a.platform_xmd||a.author===d("MercuryIDs").getParticipantIDFromUserID(b))return null;try{return JSON.parse(a.platform_xmd)}catch(a){return null}}function b(a){a=k(a);return a!=null&&a.source==="source:discovery:customer_chat_plugin_escalation"}c=function(a){a=JSON.parse((a=a.platform_xmd)!=null?a:"[]");return a.persona};e=function a(b,c){var d=b.length;if(c>=d-1)return Infinity;d=b[c+1][0];if(d.action_type==="ma-type:log-message")return a(b,c+1);else return d.timestamp};f=function(a,b){return b.timestamp>=a?a:Infinity};var h=function(a,b,c){return!a?!1:!(b.length===0||a.watermark<b[0].timestamp||a.watermark>=c)},i=function(a,b){return a.timestamp>b?b:Infinity};function j(a){var b=a.last();for(var c=a.size-1;c>=0;c--){var d=a.get(c);if(d.action_type==="ma-type:user-generated-message"||d.action_type==="ma-type:send-message"){b=d;break}}return b}function k(a){var b=a.last();for(var c=a.size-1;c>=0;c--){var d=a.get(c);if(d.action_type==="ma-type:user-generated-message"||d.action_type==="ma-type:log-message"){b=d;break}}return b!=null&&b.action_type==="ma-type:log-message"?b:null}g.maybeFetchMessagePlatformXMD=a;g.shouldEnterEscalationFlow=b;g.getPersona=c;g.getNextTimestamp=e;g.getLastReadTimestamp=f;g.receiptInRange=h;g.getOptimizedDeliveryTimestamp=i}),98);
__d("MessagingPluginGuestUpgradeActions",["LiveChatPluginConstants","MPNConstants","MPNIdentity","MPNLocalState","MPNMessageListDataHelper","MPNStorage","MercuryIDs"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=c("MPNStorage").getFBStorageState(),e=d("MPNIdentity").MPNIdentity.currentUserID();if(b==null||e==null)return;var f={path:d("MPNLocalState").MPNLocalStatePath.THREAD_VIEW,chatState:d("MPNLocalState").MPNChatState.LOGGED_IN_CHAT_STARTED,visibility:d("MPNConstants").MPNVisibility.NOT_HIDDEN};c("MPNStorage").setFBStorageState(babelHelpers["extends"]({},b,{currentPath:f.path,chatState:f.chatState,userID:e}));c("MPNStorage").setThirdPartyStorageState(f);a.dispatchAction({type:"START_CHAT",optimisticStorageState:f})}function b(a){var b=a.dispatchAction;a=a.state;a=a.requestID;c("MPNStorage").clearFBStorageState();c("MPNStorage").setFBStorageState({requestID:a,currentPath:d("MPNLocalState").MPNLocalStatePath.WELCOME_PAGE,userID:"0",chatState:d("MPNLocalState").MPNChatState.CHAT_NOT_STARTED,visibility:d("MPNConstants").MPNVisibility.NOT_HIDDEN,accessToken:null,expirationTimestamp:null});d("MPNIdentity").MPNIdentity.resetManagement();b({type:"END_CHAT"});b({type:"UPDATE_UPGRADE_UPSELL_PROMPT",upgradeUpsellPrompt:d("MPNConstants").MPNUpgradePrompt.NOT_SHOWN})}function e(a,b,e,f){var g=f.context.state,h=g.showUpgradeUpsellPrompt,i=g.isInstantlyResponsive;g=g.hasAutomation;if(a!==d("LiveChatPluginConstants").GUEST_CHAT_MODE||!h||i)return d("MPNConstants").MPNUpgradePrompt.NOT_SHOWN;if(g){if(d("MPNMessageListDataHelper").shouldEnterEscalationFlow(b)){f.hasShownOneUpgradePrompt=!0;return d("MPNConstants").MPNUpgradePrompt.DONT_WAIT_FOR_REPLY_UPSELL}}else{var j=d("MPNIdentity").MPNIdentity.currentUserID();e===d("LiveChatPluginConstants").NEW_MESSAGE_UPDATE?a=b.butLast():a=b;f.hasGuestMessaged==null&&(f.hasGuestMessaged=a.some(function(a){return c("MercuryIDs").getUserIDFromParticipantID(a.author)==j}));if(!f.hasGuestMessaged&&b.get(-1)!=null&&b.get(-1).author!=null&&c("MercuryIDs").getUserIDFromParticipantID(b.get(-1).author)===j){f.hasGuestMessaged=!0;f.hasShownOneUpgradePrompt=!0;return d("MPNConstants").MPNUpgradePrompt.DONT_WAIT_FOR_REPLY_UPSELL}}return d("MPNConstants").MPNUpgradePrompt.NOT_SHOWN}g.setPluginStateToUpgradedThread=a;g.clearGuestStorage=b;g.shouldShowUpgradePrompt=e}),98);
__d("ArbiterFrame",[],(function(a,b,c,d,e,f){a={inform:function(a,b,c){var d=parent.frames,e=d.length,f;b.crossFrame=!0;for(var g=0;g<e;g++){f=d[g];try{if(!f||f==window)continue;f.require?f.require("Arbiter").inform(a,b,c):f.ServerJSAsyncLoader&&f.ServerJSAsyncLoader.wakeUp(a,b,c)}catch(a){}}}};e.exports=a}),null);
__d("Plugin",["Arbiter","ArbiterFrame"],(function(a,b,c,d,e,f){var g={CONNECT:"platform/plugins/connect",DISCONNECT:"platform/plugins/disconnect",ERROR:"platform/plugins/error",RELOAD:"platform/plugins/reload",DIALOG:"platform/plugins/dialog",connect:function(a,c){a={identifier:a,href:a,story_fbid:c};b("Arbiter").inform(g.CONNECT,a);b("ArbiterFrame").inform(g.CONNECT,a)},disconnect:function(a,c){a={identifier:a,href:a,story_fbid:c};b("Arbiter").inform(g.DISCONNECT,a);b("ArbiterFrame").inform(g.DISCONNECT,a)},error:function(a,c){b("Arbiter").inform(g.ERROR,{action:a,content:c})},reload:function(a){b("Arbiter").inform(g.RELOAD,{reloadUrl:a||""}),b("ArbiterFrame").inform(g.RELOAD,{reloadUrl:a||""})},reloadOtherPlugins:function(a,c){b("ArbiterFrame").inform(g.RELOAD,{reloadUrl:"",reload:a||"",identifier:c||""})}};e.exports=g}),null);
__d("PlatformWidgetEndpoint",["PlatformVersioning"],(function(a,b,c,d,e,f){function a(a,c){return b("PlatformVersioning").versionAwarePath("/dialog/"+a+(c?"/"+c:""))}function c(a,c){return b("PlatformVersioning").versionAwarePath("/plugins/"+a+(c?"/"+c:""))}function d(a){return/^\/plugins\//.test(b("PlatformVersioning").getUnversionedPath(a))}function f(a){return/^\/dialog\//.test(b("PlatformVersioning").getUnversionedPath(a))}a={dialog:a,plugins:c,isPluginEndpoint:d,isDialogEndpoint:f};e.exports=a}),null);
__d("PluginMessage",["Arbiter","CSS","DOM","DOMEventListener","MNCommerceLogger","UnverifiedXD"],(function(a,b,c,d,e,f,g){var h="platform/plugins/checkbox_connect/access_token";function a(){d("DOMEventListener").add(window,"message",function(a){if(/\.facebook\.com$/.test(a.origin)&&i().test(a.data)){a=JSON.parse(a.data.substring(24));"type"in a&&(a.type==="send_to_messenger"?j(a):a.type==="messenger_checkbox"?k(a):a.type==="customer_chat"&&m(a))}})}function i(){return new RegExp("^SOCIALPLUGIN_AUTH_POPUP:")}function j(a){var b=document.getElementById("send-to-messenger-connect-button"),e=document.getElementById("send-to-messenger-disconnect-button"),f=document.getElementById("send-to-messenger-identity"),g=document.getElementById("send-to-messenger-profile-photo"),h=document.getElementById("send-to-messenger-profile-name");b!=null&&e!=null&&f!=null&&g!=null&&h!=null&&(a.can_personalize===!0&&a.connected===!0?(d("CSS").show(b),d("CSS").hide(e),l(g,a.profile_photo),l(h,a.profile_name),d("CSS").show(f),d("MNCommerceLogger").logAuthEvent(String(a.app_id),String(a.page_id),String(a.user_id),"send_to_messenger_opt_in_client_event"),c("UnverifiedXD").send({type:"sdk_event",event:"send_to_messenger",data:JSON.stringify({event:"opt_in",ref:String(a.ref)})})):(d("CSS").hide(b),d("CSS").show(e),d("CSS").hide(f)))}function k(a){var b=document.getElementById("plugin-MN-commerce-identity"),e=document.getElementById("plugin-MN-commerce-identity-profile-picture"),f=document.getElementById("plugin-MN-commerce-identity-profile-name"),g=document.getElementById("web-plugin-checkbox-form");b!=null&&e!=null&&f!=null&&g!=null&&(a.can_personalize===!0?(l(e,a.profile_photo),l(f,a.profile_name),d("CSS").show(b),l(g,a.checkbox),a.access_token!=null&&c("Arbiter").inform(h,a.access_token)):d("CSS").hide(b))}function l(a,b){var d=document.createElement("div");c("DOM").setContent(d,b);b=d.firstChild;b!=null&&a.replaceWith(b)}function m(a){var b=window.require("Arbiter");"ArbiterData"in a?b.inform(a.ArbiterEvent,a.ArbiterData):b.inform(a.ArbiterEvent)}g.MESSENGER_CHECKBOX_ACCESS_TOKEN_LOGIN_ARBITER=h;g.listen=a}),98);
__d("PluginOptin",["DOMEvent","DOMEventListener","MessengerWebPluginAnonymousTypedLogger","PlatformWidgetEndpoint","PluginLoggedOutUserTypedLogger","PluginMessage","PopupWindow","URI","UserAgent_DEPRECATED"],(function(a,b,c,d,e,f,g){var h={"default":{width:450,height:410},large:{width:475,height:605}},i=function(){function a(a,b){this.return_params=c("URI").getRequestURI().getQueryData(),this.login_params={},this.optin_params={},this.plugin=a,this.api_key=b,this.size="default",this.addReturnParams({ret:"optin"}),delete this.return_params.hash}var b=a.prototype;b.addReturnParams=function(a){Object.assign(this.return_params,a);return this};b.addLoginParams=function(a){Object.assign(this.login_params,a);return this};b.addOptinParams=function(a){Object.assign(this.optin_params,a);return this};b.setSize=function(a){this.size=a?a:"default";return this};b.start=function(){var a=this.api_key||127760087237610;c("URI").getRequestURI().getQueryData().kid_directed_site&&(this.login_params.kid_directed_site=!0);this.login_params.referrer=document.referrer;var b=new(c("URI"))(c("PlatformWidgetEndpoint").dialog("plugin.optin")).addQueryData(this.optin_params).addQueryData({app_id:a,secure:c("URI").getRequestURI().isSecure(),social_plugin:this.plugin,return_params:JSON.stringify(this.return_params),login_params:JSON.stringify(this.login_params)}),e=d("UserAgent_DEPRECATED").mobile()!==null;e?b.setSubdomain("m"):b.addQueryData({display:"popup"});this.return_params.act!==null&&this.return_params.act==="send"&&new(c("PluginLoggedOutUserTypedLogger"))().setPluginAppID(a).setPluginName(this.return_params.act).setHref(this.return_params.href).logVital();a=h[this.size];b=this.transformSocialPluginToFacebookDomainPopupURI(b,c("URI").getRequestURI().getDomain(),e);this.popup=d("PopupWindow").open(b.toString(),a.height,a.width,"fbPluginAuthenticationPopupWindow");this.plugin==="customer_chat"&&this.login_params.chat_plugin_upgrade!=null&&this.login_params.chat_plugin_upgrade===!0&&new(c("MessengerWebPluginAnonymousTypedLogger"))().setPageID(this.login_params.page_id).setClientFbid(this.login_params.guest_id).setRequestID(this.login_params.request_id).setNewEventName("upgrade_plugin_optin_popup_opened").log();d("PluginMessage").listen();return this};b.transformSocialPluginToFacebookDomainPopupURI=function(a,b,c){b=b.split(".");if(b[0]!=="socialplugin")return a;b[b.length-1]="com";b[0]=c?"m":"www";return a.setDomain(b.join(".")).setProtocol("https")};return a}();i.starter=function(a,b,c,d){a=new i(a);a.addReturnParams(b||{});a.addLoginParams(c||{});a.addOptinParams(d||{});return a.start.bind(a)};i.listen=function(a,b,d,e,f){c("DOMEventListener").add(a,"click",function(a){new(c("DOMEvent"))(a).kill(),i.starter(b,d,e,f)()})};g["default"]=i}),98);
__d("XChatPluginNotificationMessagesManageController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/plugin/customer_chat/notification_messages_manage/",{page_id:{type:"String",required:!0},user_action:{type:"Int",required:!0},ref:{type:"String"}})}),null);
__d("XMNLiveChatBlockMessageController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/plugins/live_chat/block/",{page_id:{type:"String",required:!0}})}),null);
__d("XMNLiveChatMuteThreadController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/plugins/live_chat/mute/",{thread_fbid:{type:"String",required:!0},mute_until:{type:"Int",required:!0}})}),null);
__d("XMNLiveChatUnblockMessageController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/plugins/live_chat/unblock/",{page_id:{type:"String",required:!0}})}),null);
__d("XMNMessagingPluginGuestSessionInvalidationController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/plugins/live_chat/session_invalidation/",{page_id:{type:"FBID",required:!0},referer_uri:{type:"String",required:!0},access_token:{type:"String",required:!0},ref:{type:"String"}})}),null);
__d("XMNPlatformCustomerChatPluginOpenThreadController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messages/commerce/customer_chat_plugin/open_thread/",{page_id:{type:"FBID",required:!0},request_id:{type:"String",required:!0},referer_uri:{type:"String",required:!0},ref:{type:"String"},access_token:{type:"String"},logged_in_access_token:{type:"String"},locale:{type:"String"},is_from_re_engagement:{type:"Bool",defaultValue:!1}})}),null);
__d("XMessagingPluginMarkReadController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/plugins/live_chat/mark_read/",{access_token:{type:"String"},logged_in_access_token:{type:"String"},ids:{type:"StringToBoolMap",required:!0},watermark_timestamp:{type:"Int"}})}),null);
__d("MessagingPluginThreadActions",["Arbiter","AsyncRequest","FBXSocialPluginIframeCustomerChatPluginOpenThreadController","FBXSocialPluginIframeMessagingPluginMarkReadController","LiveChatPluginConstants","LiveChatPluginLoggerUtil","MPNCacheVersioning","MPNConstants","MPNIdentity","MPNLocalState","MPNNavigation","MPNStorage","MPNXDMessageManager","MessagingPluginFRXBootloaderUtils","MessagingPluginGuestUpgradeActions","ODS","Plugin","PluginOptin","URI","XChatPluginNotificationMessagesManageController","XMNLiveChatBlockMessageController","XMNLiveChatMuteThreadController","XMNLiveChatUnblockMessageController","XMNMessagingPluginGuestSessionInvalidationController","XMNPlatformCustomerChatPluginOpenThreadController","XMessagingPluginMarkReadController"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,e){var f=a.dispatchAction,g=a.state,h=g.accessToken,i=g.refererUri,j=g.requestID,k=g.refParam;g=g.pageID;c("MPNStorage").clearFBStorageState();c("MPNXDMessageManager").clearInteraction();if(e&&h!=null){h=c("XMNMessagingPluginGuestSessionInvalidationController").getURIBuilder().setString("access_token",h).setFBID("page_id",g).setString("referer_uri",i).setString("ref",k).getURI();new(c("AsyncRequest"))().setURI(h).send()}c("MPNStorage").setFBStorageState({requestID:j,currentPath:d("MPNLocalState").MPNLocalStatePath.WELCOME_PAGE,userID:"0",chatState:d("MPNLocalState").MPNChatState.CHAT_NOT_STARTED,visibility:d("MPNConstants").MPNVisibility.NOT_HIDDEN,accessToken:null,showUpgradePrompt:d("MPNConstants").MPNUpgradePrompt.NOT_SHOWN,expirationTimestamp:null,v:d("MPNCacheVersioning").VERSION});d("MPNIdentity").MPNIdentity.resetManagement();f({type:"END_CHAT"});f({type:"UPDATE_UPGRADE_UPSELL_PROMPT",upgradeUpsellPrompt:d("MPNConstants").MPNUpgradePrompt.NOT_SHOWN});d("MPNNavigation").minimizePlugin(a,!1);d("MPNNavigation").navigateToRoute(a,b,d("MPNLocalState").MPNLocalStatePath.WELCOME_PAGE,!1);d("LiveChatPluginLoggerUtil").logActionFromNewUI("in_thread_action",d("MPNIdentity").MPNIdentity.currentUserID(),g,e?"guest_chat_tab":"logged_in_chat_tab",{button_name:"end_chat_confirm"})}function b(a,b,e,f){var g=a.state,h=a.dispatchAction,i=g.pageID,j=g.locale,k=g.requestID,m=g.shouldUseAccessTokenAuth,n=c("MPNStorage").getFBStorageState(),o={path:d("MPNLocalState").MPNLocalStatePath.THREAD_VIEW,chatState:d("MPNLocalState").MPNChatState.GUEST_CHAT_STARTED,visibility:d("MPNConstants").MPNVisibility.NOT_HIDDEN,showUpgradePrompt:d("MPNConstants").MPNUpgradePrompt.NOT_SHOWN,shouldShowLoginPage:!1};if(n!=null){var p=Date.now()+d("LiveChatPluginConstants").GUEST_SESSION_STORAGE_VALIDITY_MS;c("MPNStorage").setFBStorageState(babelHelpers["extends"]({},n,{currentPath:o.path,chatState:o.chatState,userID:e,accessToken:b,expirationTimestamp:p,showUpgradePrompt:d("MPNConstants").MPNUpgradePrompt.NOT_SHOWN,rdr:null}));c("MPNStorage").setThirdPartyStorageState(o)}else c("MPNStorage").clearThirdPartyStorageState(),d("LiveChatPluginLoggerUtil").logActionFromNewUI("guest_third_party_access_denied",null,i,"welcome_page_with_guest_option");d("MPNIdentity").MPNIdentity.changeIdentityToGuest(e,b);h({type:"START_CHAT",optimisticStorageState:o,accessToken:b,guestID:e});l(f,a);n=(m?c("FBXSocialPluginIframeCustomerChatPluginOpenThreadController"):c("XMNPlatformCustomerChatPluginOpenThreadController")).getURIBuilder().setFBID("page_id",i).setString("ref",g.refParam).setString("referer_uri",g.refererUri).setString("request_id",k).setString("access_token",b).setString("locale",j).setBool("is_from_re_engagement",!1).getRequest_LEGACY_UNTYPED(new(c("AsyncRequest"))());n.setAllowCrossPageTransition(!0).setMethod("POST").send()}function e(a,b){var d=a.state,e=d.pageID,f=d.requestID,g=d.refParam,h=d.refererUri,i=d.locale,j=d.shouldUseAccessTokenAuth;d=d.loggedInAccessToken;e=(j?c("FBXSocialPluginIframeCustomerChatPluginOpenThreadController"):c("XMNPlatformCustomerChatPluginOpenThreadController")).getURIBuilder().setFBID("page_id",e).setString("ref",g).setString("referer_uri",h).setString("request_id",f).setString("locale",i).setBool("is_from_re_engagement",b);j&&(e=e.setString("logged_in_access_token",d));g=e.getRequest_LEGACY_UNTYPED(new(c("AsyncRequest"))());g.setAllowCrossPageTransition(!0).setMethod("POST").send();y(a)}function f(a,b){var d=a.state,e=d.pageID;d=d.requestID;new(c("PluginOptin"))("customer_chat").addLoginParams({logged_in:!0,page_id:e,request_id:d,switch_user:!1}).start();c("Arbiter").subscribeOnce(c("Plugin").CONNECT,function(){y(a),b!=null&&b()})}function h(a,b){c("Arbiter").subscribeOnce(d("LiveChatPluginConstants").ACCESS_TOKEN_LOGIN,function(c,e){c={path:d("MPNLocalState").MPNLocalStatePath.THREAD_VIEW,chatState:d("MPNLocalState").MPNChatState.LOGGED_IN_CHAT_STARTED,visibility:d("MPNConstants").MPNVisibility.NOT_HIDDEN};a.dispatchAction({type:"START_CHAT",optimisticStorageState:c});c=JSON.parse(e);a.dispatchAction({type:"UPDATE_LOGIN_ACCESS_TOKEN",loggedInAccessToken:c.accessToken});d("MPNIdentity").MPNIdentity.setCurrentLoggedInUser(c.userID,c.accessToken);b!=null&&b()})}function i(){d("MPNIdentity").MPNIdentity.hasStorageAccess(function(a){var b=c("MPNStorage").getFBStorageState();a&&b!=null&&c("MPNStorage").setFBStorageState(babelHelpers["extends"]({},b,{chatState:d("MPNLocalState").MPNChatState.LOGGED_IN_CHAT_STARTED,rdr:d("MPNConstants").MPNRedirect.RE_ENGAGEMENT_LOG_IN}))}),c("MPNXDMessageManager").updateIsReEngagementOptIn(!0)}function j(a,b){d("MPNNavigation").dismissReEngagementDialog(a),d("MPNNavigation").navigateToRoute(a,b,d("MPNLocalState").MPNLocalStatePath.WELCOME_PAGE,!1),d("MPNNavigation").minimizePlugin(a)}function k(a){var b=d("MPNIdentity").MPNIdentity.cookieUserUncached()!=="0";b&&d("MPNIdentity").MPNIdentity.subscribeLoggedInUserChanges(function(a,b){if(b==="0"){a=c("MPNStorage").getFBStorageState();a!=null&&c("MPNStorage").setFBStorageState(babelHelpers["extends"]({},a,{rdr:d("MPNConstants").MPNRedirect.RE_ENGAGEMENT_SWITCH_ACCOUNT}));c("MPNXDMessageManager").reloadPlugin()}},d("LiveChatPluginConstants").LOGIN_CHECK_INTERVAL);x(a,b);c("Arbiter").subscribe(c("Plugin").CONNECT,function(){i(),d("MPNNavigation").dismissReEngagementDialog(a),c("MPNXDMessageManager").reloadPlugin(!0)})}function l(a,b){var c=b.state;b=b.dispatchAction;c=c.showUpgradeUpsellPrompt;a===!0&&d("ODS").bumpEntityKey(4205,"chat_plugin","chat_plugin.epd.guest_upgrade_entry_point_blocked_eu_guest");b({type:"UPDATE_IS_LIGHTSWITCH_ENABLED_FOR_GUEST",isLightswitchEnabledForGuest:a,showUpgradeUpsellPrompt:c})}function m(a){a=a.state;var b=a.accessToken,d=a.pageID,e=a.shouldUseAccessTokenAuth;a=a.loggedInAccessToken;b=(e?c("XMessagingPluginMarkReadController"):c("FBXSocialPluginIframeMessagingPluginMarkReadController")).getURIBuilder().setString("access_token",b).setString("logged_in_access_token",a).setStringToBoolMap("ids",(e={},e[d]=!0,e)).setInt("watermark_timestamp",Date.now()).getURI();new(c("AsyncRequest"))().setURI(b).send()}function n(a,b,c){d("MessagingPluginFRXBootloaderUtils").bootloadOpenFRXDialog(a,b,c),d("LiveChatPluginLoggerUtil").logActionFromNewUI("in_thread_action",d("MPNIdentity").MPNIdentity.currentUserID(),a,"guest_chat_tab",{button_name:"frx_entry_point"})}function o(a,b){var e=b?0:-1;e=c("XMNLiveChatMuteThreadController").getURIBuilder().setString("thread_fbid",a).setInt("mute_until",e).getURI();new(c("AsyncRequest"))().setURI(e).setAllowCrossPageTransition(!0).setHandler(function(){d("LiveChatPluginLoggerUtil").logActionFromNewUI("in_thread_action",d("MPNIdentity").MPNIdentity.currentUserID(),a,"logged_in_chat_tab",{action_type:b?"customer_chat_mute_conversation_clicked":"customer_chat_unmute_conversation_clicked"})}).send()}function p(a){var b=a.state;a=a.dispatchAction;var e=b.isPageBlocked;b=b.pageID;if(e==null)return;var f=e?c("XMNLiveChatUnblockMessageController").getURIBuilder().setString("page_id",b).getURI():c("XMNLiveChatBlockMessageController").getURIBuilder().setString("page_id",b).getURI();a({type:"UPDATE_BLOCK_STATUS",isPageBlocked:!e});new(c("AsyncRequest"))().setURI(f).setAllowCrossPageTransition(!0).send();d("LiveChatPluginLoggerUtil").logActionFromNewUI("in_thread_action",d("MPNIdentity").MPNIdentity.currentUserID(),b,"logged_in_chat_tab",{action_type:e?"customer_chat_unblock_message_clicked":"customer_chat_block_message_clicked"})}function q(a){var b=a.state,e=b.pageID;b=b.hasGuestMode;d("LiveChatPluginLoggerUtil").logActionFromNewUI("tab_click",d("MPNIdentity").MPNIdentity.currentUserID(),e,b?"welcome_page_with_guest_option":"welcome_page",{button_name:"not_you_switch_account"});e=d("MPNIdentity").MPNIdentity.cookieUserUncached()!=="0";e&&d("MPNIdentity").MPNIdentity.subscribeLoggedInUserChanges(function(a,b){if(b==="0"){a=c("MPNStorage").getFBStorageState();a!=null&&c("MPNStorage").setFBStorageState(babelHelpers["extends"]({},a,{rdr:d("MPNConstants").MPNRedirect.SWITCH_ACCOUNT}));c("MPNXDMessageManager").reloadPlugin()}},d("LiveChatPluginConstants").LOGIN_CHECK_INTERVAL);w(a)}function r(a){var b=/Android/i.test(navigator.userAgent);b?c("URI").goURIOnWindow(a):c("URI").goURIOnWindow(a,window.open("","_parent"),!0)}function s(a,b,e){var f=a.state,g=f.pageID,h=f.requestID,i=f.accessToken,j=f.refererUri,k=f.initialRequestUri,l=f.guestID;f=f.cookieAccessDenied;var m=d("MPNIdentity").MPNIdentity.cookieUserCached()!=="0",n=null;m?(new(c("PluginOptin"))("customer_chat").addLoginParams({logged_in:!0,page_id:g,request_id:h,switch_user:!1,referer_uri:j,guest_access_tkn:i,initial_request_uri:k&&k.toString(),chat_plugin_upgrade:!0,guest_id:l,prompt_type:e}).start(),n=c("Arbiter").subscribe(d("LiveChatPluginConstants").GUEST_UPGRADE_SUCCESS,function(){d("MessagingPluginGuestUpgradeActions").clearGuestStorage(a),d("MessagingPluginGuestUpgradeActions").setPluginStateToUpgradedThread(a)}),d("MPNIdentity").MPNIdentity.subscribeLoggedInUserChanges(function(a,b){if(b==="0"){a=c("MPNStorage").getFBStorageState();a!=null&&c("MPNStorage").setFBStorageState(babelHelpers["extends"]({},a,{rdr:d("MPNConstants").MPNRedirect.GUEST_UPGRADE_SWITCH_ACCOUNT}));c("MPNXDMessageManager").reloadPlugin()}},250)):(f?n=c("Arbiter").subscribeOnce(d("LiveChatPluginConstants").GUEST_UPGRADE_SUCCESS_INCOGNITO,function(){d("MessagingPluginGuestUpgradeActions").clearGuestStorage(a),d("MPNNavigation").navigateToRoute(a,b,d("MPNLocalState").MPNLocalStatePath.WELCOME_PAGE)}):n=c("Arbiter").subscribeOnce(d("LiveChatPluginConstants").GUEST_UPGRADE_SUCCESS,function(){var a=c("MPNStorage").getFBStorageState();a!=null&&c("MPNStorage").setFBStorageState(babelHelpers["extends"]({},a,{rdr:d("MPNConstants").MPNRedirect.GUEST_UPGRADE}));c("MPNXDMessageManager").reloadPlugin()}),d("MPNIdentity").MPNIdentity.subscribeLoggedInUserChanges(function(a,b){},1e3),v(a,String(e)));return n}function t(a,b,e){var f=a.state,g=f.pageID,h=f.guestID,i=f.requestID,j=f.accessToken;f=f.refererUri;var k=null,l=d("MPNIdentity").MPNIdentity.cookieUserCached()!=="0";l?(new(c("PluginOptin"))("customer_chat").addLoginParams({logged_in:!0,page_id:g,request_id:i,switch_user:!1,chat_plugin_upgrade:!0,guest_access_tkn:j,referer_uri:f,guest_id:h,prompt_type:e}).start(),k=c("Arbiter").subscribe(d("LiveChatPluginConstants").GUEST_UPGRADE_SUCCESS,function(){d("MessagingPluginGuestUpgradeActions").clearGuestStorage(a),d("MPNNavigation").minimizePlugin(a,!1),d("MPNNavigation").navigateToRoute(a,b,d("MPNLocalState").MPNLocalStatePath.WELCOME_PAGE)}),d("MPNIdentity").MPNIdentity.subscribeLoggedInUserChanges(function(a,b){if(b==="0"){a=c("MPNStorage").getFBStorageState();a!=null&&c("MPNStorage").setFBStorageState(babelHelpers["extends"]({},a,{rdr:d("MPNConstants").MPNRedirect.GUEST_UPGRADE_SWITCH_ACCOUNT}));c("MPNXDMessageManager").reloadPlugin()}},250)):(c("MPNStorage").clearRedirectCommand(),k=c("Arbiter").subscribeOnce(d("LiveChatPluginConstants").GUEST_UPGRADE_SUCCESS,function(){d("MessagingPluginGuestUpgradeActions").clearGuestStorage(a),d("MPNNavigation").minimizePlugin(a,!1),d("MPNNavigation").navigateToRoute(a,b,d("MPNLocalState").MPNLocalStatePath.WELCOME_PAGE)}),v(a,String(e)));return k}function u(a,b){var d=a.state,e=d.refererUri,f=d.pageID,g=d.initialRequestUri,i=d.requestID,j=d.accessToken,k=d.cookieAccessDenied,l=d.guestID;d=d.shouldUseAccessTokenAuth;new(c("PluginOptin"))("customer_chat").addLoginParams({logged_in:d,page_id:f,switch_user:!1,request_id:i,chat_plugin_upgrade:!1,guest_access_token:j,cookie_access_denied:k,referer_uri:e,guest_id:l,prompt_type:prompt,initial_request_uri:g&&g.toString()}).addReturnParams((f=g==null?void 0:g.getQueryData())!=null?f:{}).addReturnParams({customer_chat_origin_uri:e,referer_uri:e}).start();d&&h(a,b)}function v(a,b){a=a.state;var d=a.refererUri,e=a.pageID,f=a.initialRequestUri,g=a.requestID,h=a.accessToken,i=a.cookieAccessDenied;a=a.guestID;new(c("PluginOptin"))("customer_chat").addLoginParams({logged_in:!1,page_id:e,switch_user:!1,request_id:g,chat_plugin_upgrade:!0,guest_access_token:h,cookie_access_denied:i,referer_uri:d,guest_id:a,prompt_type:b}).addReturnParams((e=f==null?void 0:f.getQueryData())!=null?e:{}).addReturnParams({customer_chat_origin_uri:d,referer_uri:d}).start()}function w(a){a=a.state;var b=a.refererUri,d=a.pageID,e=a.initialRequestUri,f=a.requestID,g=a.accessToken,h=a.cookieAccessDenied;a=a.guestID;new(c("PluginOptin"))("customer_chat").addLoginParams({logged_in:!0,page_id:d,switch_user:!0,request_id:f,chat_plugin_upgrade:!1,guest_access_token:g,cookie_access_denied:h,referer_uri:b,guest_id:a,prompt_type:prompt}).addReturnParams((d=e==null?void 0:e.getQueryData())!=null?d:{}).addReturnParams({customer_chat_origin_uri:b,referer_uri:b}).start()}function x(a,b){a=a.state;var d=a.refererUri,e=a.pageID,f=a.initialRequestUri,g=a.requestID,h=a.accessToken;a=a.guestID;new(c("PluginOptin"))("customer_chat").addLoginParams({logged_in:b,page_id:e,request_id:g,switch_user:!1,referer_uri:d,guest_access_tkn:h,initial_request_uri:f&&f.toString(),chat_plugin_upgrade:!1,guest_id:a,prompt_type:prompt,re_engagement_opt_in:!0}).start()}function y(a){var b=c("MPNStorage").getFBStorageState(),e=d("MPNIdentity").MPNIdentity.currentUserID();if(b==null||e==null){d("LiveChatPluginLoggerUtil").logActionFromNewUI("tab_click",e,a.state.pageID,"welcome_page",{button_name:"continue_as",exception_type:"customer_chat_state_set_to_thread_failed"});return}var f={path:d("MPNLocalState").MPNLocalStatePath.THREAD_VIEW,chatState:d("MPNLocalState").MPNChatState.LOGGED_IN_CHAT_STARTED,visibility:d("MPNConstants").MPNVisibility.NOT_HIDDEN,shouldShowLoginPage:!1};c("MPNStorage").setFBStorageState(babelHelpers["extends"]({},b,{currentPath:f.path,chatState:f.chatState,userID:e,rdr:null}));c("MPNStorage").setThirdPartyStorageState(f);a.dispatchAction({type:"START_CHAT",optimisticStorageState:f})}function z(a,b,d){a=c("XChatPluginNotificationMessagesManageController").getURIBuilder().setString("page_id",a).setInt("user_action",b).setString("ref",d).getURI();new(c("AsyncRequest"))().setURI(a).send()}g.endChat=a;g.startChatAsGuest=b;g.openThreadWithCurrentFBUser=e;g.openThreadWithInterstitial=f;g.openThreadWithAccessToken=h;g.reEngagementOptInStateUpdate=i;g.reEngagementOptInStateUpdateWithAppSwitch=j;g.reEngagementOptIn=k;g.markThreadAsRead=m;g.openFRXPrompt=n;g.muteOrUnmutePage=o;g.blockOrUnblockPage=p;g.switchAccount=q;g.appSwitch=r;g.launchUpgradeFlowDesktop=s;g.launchUpgradeFlowMobile=t;g.presentPluginOptIn=u;g.presentPluginOptInAccountUpgrade=v;g.presentPluginOptInAccountSwitch=w;g.presentPluginOptInReEngagement=x;g.setPluginStateToThread=y;g.handleReEngagementNotificationMessagesUserActions=z}),98);
__d("XChatPluginIncognitoLoginPopupController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/plugins/chat/incognito_login/",{is_from_re_engagement:{type:"Bool",defaultValue:!1}})}),null);
__d("XChatPluginProfilePlusVoiceSwitchPopupController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/plugins/chat/voice_switch/",{})}),null);
__d("MPNDesktopWelcomePageBottomButtons.react",["cx","fbt","ChatPluginTestId","EllipsisText.react","LineClamp.react","LiveChatPluginConstants","LiveChatPluginFbts","LiveChatPluginLoggerUtil","MPNConstants","MPNIdentity","MPNLocalState","MPNMessengerIconSVG.react","MPNNavigation","MPNStorage","MPNXDMessageManager","MessagingPluginContext","MessagingPluginThreadActions","PopupWindow","ShimButton.react","XChatPluginIncognitoLoginPopupController","XChatPluginProfilePlusVoiceSwitchPopupController","cr:878","gkx","performanceAbsoluteNow","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");a=function(a){babelHelpers.inheritsLoose(e,a);function e(){var e,f;for(var g=arguments.length,h=new Array(g),i=0;i<g;i++)h[i]=arguments[i];return(e=f=a.call.apply(a,[this].concat(h))||this,f.$5=function(){var a=f.context,b=a.state,e=a.dispatchAction;a=b.pageID;var g=b.hasGuestMode,h=b.pagePassesSentryTest,i=b.hasMessagingPermission,j=b.isSanitizedEpd3pdRequest,k=b.shouldBypassPageSentryTest,l=b.shouldUseAccessTokenAuth;b=d("MPNIdentity").MPNIdentity.currentUserState();var m=d("MPNIdentity").MPNIdentity.currentUserID();e({type:"UPDATE_CONTINUE_CLICK_TIME",continueClickTime:c("performanceAbsoluteNow")()});if(b==d("MPNIdentity").MPNIdentityState.FB&&m!=null){if(!k&&!h&&!i){(b=f.props.ActionDelegate)==null?void 0:b.openThreadWithInterstitial(function(){var a;(a=f.props.ActionDelegate)==null?void 0:a.openThreadWithCurrentFBUser();d("MPNNavigation").navigateToRoute(f.context,f.props.history,d("MPNLocalState").MPNLocalStatePath.THREAD_VIEW);e({type:"UPDATE_BLOCK_STATUS",isPageBlocked:!1})});d("LiveChatPluginLoggerUtil").logActionFromNewUI("tab_click",null,a,g?"welcome_page_with_guest_option":"welcome_page",{button_name:"continue_as"});return}d("MPNNavigation").navigateToRoute(f.context,f.props.history,d("MPNLocalState").MPNLocalStatePath.THREAD_VIEW);(m=f.props.ActionDelegate)==null?void 0:m.openThreadWithCurrentFBUser();d("LiveChatPluginLoggerUtil").logActionFromNewUI("tab_click",null,a,g?"welcome_page_with_guest_option":"welcome_page",{button_name:"continue_as"});return}l?d("MessagingPluginThreadActions").presentPluginOptIn(f.context,function(){var a;(a=f.props.ActionDelegate)==null?void 0:a.openThreadWithCurrentFBUser();d("MPNNavigation").navigateToRoute(f.context,f.props.history,d("MPNLocalState").MPNLocalStatePath.THREAD_VIEW);e({type:"UPDATE_BLOCK_STATUS",isPageBlocked:!1})}):d("MPNIdentity").MPNIdentity.performUIAction(function(){if(d("MPNIdentity").MPNIdentity.cookieUserUncached()!="0"){if(j){c("MPNXDMessageManager").reloadPlugin(!0);return}return}d("MPNIdentity").MPNIdentity.subscribeLoggedInUserChanges(function(a,b){a=c("MPNStorage").getFBStorageState();if(a!=null){c("MPNStorage").setFBStorageState(babelHelpers["extends"]({},a,{chatState:d("MPNLocalState").MPNChatState.LOGGED_IN_CHAT_STARTED,rdr:d("MPNConstants").MPNRedirect.FB_LOG_IN}));b={path:d("MPNLocalState").MPNLocalStatePath.THREAD_VIEW,chatState:d("MPNLocalState").MPNChatState.LOGGED_IN_CHAT_STARTED,visibility:d("MPNConstants").MPNVisibility.NOT_HIDDEN,shouldShowLoginPage:!1};c("MPNStorage").setThirdPartyStorageState(b)}},d("LiveChatPluginConstants").LOGIN_CHECK_INTERVAL);if(d("MPNIdentity").MPNIdentity.isProfilePlusUserUncached()){d("MPNIdentity").MPNIdentity.subscribeLoggedInUserChanges(function(a,b){d("MPNIdentity").MPNIdentity.currentUserState()!=d("MPNIdentity").MPNIdentityState.GUEST&&(c("MPNStorage").clearFBStorageState(),c("MPNStorage").clearThirdPartyStorageState()),c("MPNXDMessageManager").reloadPlugin()});var a=c("XChatPluginProfilePlusVoiceSwitchPopupController").getURIBuilder().getURI();d("PopupWindow").open(a.toString(),420,450)}else d("MessagingPluginThreadActions").presentPluginOptIn(f.context)},function(){if(d("MPNIdentity").MPNIdentity.cookieUserUncached()!="0"){c("MPNXDMessageManager").reloadPlugin(!0);return}d("MPNIdentity").MPNIdentity.subscribeLoggedInUserChanges(function(a,b){a=c("MPNStorage").getFBStorageState();a!=null&&c("MPNStorage").setFBStorageState(babelHelpers["extends"]({},a,{chatState:d("MPNLocalState").MPNChatState.LOGGED_IN_CHAT_STARTED,rdr:d("MPNConstants").MPNRedirect.FB_LOG_IN}))},d("LiveChatPluginConstants").LOGIN_CHECK_INTERVAL);if(d("MPNIdentity").MPNIdentity.isProfilePlusUserUncached()){d("MPNIdentity").MPNIdentity.subscribeLoggedInUserChanges(function(a,b){d("MPNIdentity").MPNIdentity.currentUserState()!=d("MPNIdentity").MPNIdentityState.GUEST&&(c("MPNStorage").clearFBStorageState(),c("MPNStorage").clearThirdPartyStorageState()),c("MPNXDMessageManager").reloadPlugin()});var a=c("XChatPluginProfilePlusVoiceSwitchPopupController").getURIBuilder().getURI();d("PopupWindow").open(a.toString(),420,450)}else d("MessagingPluginThreadActions").presentPluginOptIn(f.context)},function(){if(l){var a;(a=f.props.ActionDelegate)==null?void 0:a.openThreadWithAccessToken(function(){var a;(a=f.props.ActionDelegate)==null?void 0:a.openThreadWithCurrentFBUser();d("MPNNavigation").navigateToRoute(f.context,f.props.history,d("MPNLocalState").MPNLocalStatePath.THREAD_VIEW);e({type:"UPDATE_BLOCK_STATUS",isPageBlocked:!1})})}else{a=c("XChatPluginIncognitoLoginPopupController").getURIBuilder().setBool("is_from_re_engagement",!1).getURI();d("PopupWindow").open(a.toString(),420,450)}});d("LiveChatPluginLoggerUtil").logActionFromNewUI("tab_click",null,a,g?"welcome_page_with_guest_option":"welcome_page",{button_name:"log_in_messenger"})},f.$4=function(){var a=f.context.state.pageID;d("MPNIdentity").MPNIdentity.performUIAction(function(){d("MessagingPluginThreadActions").reEngagementOptIn(f.context)},function(){d("MessagingPluginThreadActions").reEngagementOptIn(f.context)},function(){var a=c("XChatPluginIncognitoLoginPopupController").getURIBuilder().setBool("is_from_re_engagement",!0).getURI();d("PopupWindow").open(a.toString(),420,450)});d("LiveChatPluginLoggerUtil").logActionFromNewUI("tab_click",null,a,"re_engagement_expanded_view",{button_name:"re_engagement_get_messages"})},f.$1=function(){var a=f.context,e=a.state;a=a.dispatchAction;e=e.pageID;a({type:"UPDATE_CONTINUE_CLICK_TIME",continueClickTime:c("performanceAbsoluteNow")()});b("cr:878")==null?void 0:b("cr:878").logChatPluginThreadLoadModuleStart();d("MPNIdentity").MPNIdentity.performUIAction(f.$7,function(){var a=c("MPNStorage").getFBStorageState();a==null?a={requestID:c("MPNStorage").requestID,currentPath:d("MPNLocalState").MPNLocalStatePath.THREAD_VIEW,userID:"0",chatState:d("MPNLocalState").MPNChatState.CHAT_NOT_STARTED,visibility:d("MPNConstants").MPNVisibility.NOT_HIDDEN,showUpgradePrompt:d("MPNConstants").MPNUpgradePrompt.NOT_SHOWN,accessToken:null,expirationTimestamp:null,rdr:d("MPNConstants").MPNRedirect.NEW_GUEST_SESSION}:a=babelHelpers["extends"]({},a,{chatState:d("MPNLocalState").MPNChatState.CHAT_NOT_STARTED,rdr:d("MPNConstants").MPNRedirect.NEW_GUEST_SESSION});c("MPNStorage").setFBStorageState(a);c("MPNXDMessageManager").reloadPlugin()},function(){var a=f.context.dispatchAction;a({type:"UPDATE_COOKIE_ACCESS_DENIED",cookieAccessDenied:!0});f.$7()});d("LiveChatPluginLoggerUtil").logActionFromNewUI("tab_click",null,e,"welcome_page_with_guest_option",{button_name:"continue_as_guest"})},f.$2=function(){var a,b=f.context.state,c=b.pageID,e=b.greetingDialogDisplay;b=b.optimisticStorageState;(a=f.props.ActionDelegate)==null?void 0:a.minimize();a=e==="welcome_message"||e==="hide";e=b.isGreetingDismissed!==!0&&a;e&&d("MPNNavigation").maximizeGreetingDialog(f.context);b=e?d("MPNLocalState").MPNLocalStatePath.BUBBLE:d("MPNLocalState").MPNLocalStatePath.WELCOME_PAGE;d("MPNNavigation").navigateToRoute(f.context,f.props.history,b,!1);d("MPNNavigation").dismissReEngagementDialog(f.context);d("LiveChatPluginLoggerUtil").logActionFromNewUI("tab_click",null,c,"re_engagement_expanded_view",{button_name:"re_engagement_not_now"})},f.$7=function(){var a=f.context.state.isSanitizedEpd3pdRequest;if(a){a=c("MPNStorage").getFBStorageState();a!=null&&c("MPNStorage").setFBStorageState(babelHelpers["extends"]({},a,{rdr:d("MPNConstants").MPNRedirect.NEW_GUEST_SESSION}));c("MPNXDMessageManager").reloadPlugin(!0)}else d("MPNNavigation").navigateToRoute(f.context,f.props.history,d("MPNLocalState").MPNLocalStatePath.THREAD_VIEW),f.props.ActionDelegate&&f.props.ActionDelegate.onContinueAsGuest(function(){})},f.$3=function(){var a=f.context,b=a.state;a=a.dispatchAction;var e=b.pageID,g=b.isSanitizedEpd3pdRequest;a({type:"UPDATE_CONTINUE_CLICK_TIME",continueClickTime:c("performanceAbsoluteNow")()});d("MPNIdentity").MPNIdentity.performUIAction(function(){if(g){c("MPNXDMessageManager").reloadPlugin(!0);return}d("MPNNavigation").navigateToRoute(f.context,f.props.history,d("MPNLocalState").MPNLocalStatePath.THREAD_VIEW)},function(){d("MPNIdentity").MPNIdentity.clearUserChangesSubscription(),c("MPNStorage").setPath(d("MPNLocalState").MPNLocalStatePath.THREAD_VIEW),c("MPNXDMessageManager").reloadPlugin()},function(){c("MPNStorage").clearThirdPartyStorageState(),c("MPNXDMessageManager").reloadPlugin()});d("LiveChatPluginLoggerUtil").logActionFromNewUI("tab_click",null,e,"itp_page",{button_name:"continue"})},e)||babelHelpers.assertThisInitialized(f)}var f=e.prototype;f.render=function(){var a=this.context.state,b=a.hasGuestMode;a=a.threadCSSColor;var e=this.props.isReengagementDialog,f=d("MPNIdentity").MPNIdentity.currentUserState()==d("MPNIdentity").MPNIdentityState.FB;f=c("gkx")("1189683");f=!b&&!f;b=b?j.jsx(c("ShimButton.react"),{"data-testid":void 0,onClick:this.$1,className:"_a2zk",children:j.jsx(c("LineClamp.react"),{lines:1,children:i._("Continue as Guest")})}):null;var g=j.jsx(c("ShimButton.react"),{onClick:this.$2,className:"_a2zk","data-testid":void 0,children:j.jsx(c("LineClamp.react"),{lines:1,children:d("LiveChatPluginFbts").NOT_NOW_BUTTON_TEXT})});return this.props.useITPContinueButton?j.jsx("div",{className:"_a2zl",children:j.jsx(c("ShimButton.react"),{onClick:this.$3,className:"_a2zm",style:{backgroundColor:a},children:j.jsx(c("LineClamp.react"),{className:"continueText",lines:1,children:i._("Continue")})})}):j.jsxs("div",{className:(f?"":"_a2zl")+(f?" _a2zn":""),children:[j.jsxs(c("ShimButton.react"),{"data-testid":void 0,onClick:this.props.isReengagementDialog?this.$4:this.$5,className:"_a2zm",style:{backgroundColor:a},children:[e?null:j.jsx("div",{className:"loggedInIconContainer",children:j.jsx(c("MPNMessengerIconSVG.react"),{})}),j.jsx(c("EllipsisText.react"),{className:"continueText _4mr9",children:this.$6()})]}),this.props.isReengagementDialog?g:b]})};f.$6=function(){var a,b=d("MPNIdentity").MPNIdentity.currentUserState()==d("MPNIdentity").MPNIdentityState.FB;a=(a=d("MPNIdentity").MPNIdentity.currentUser())==null?void 0:a.shortName;if(this.props.isReengagementDialog)return d("LiveChatPluginFbts").GET_MESSAGES_BUTTON_TEXT;if(!b)return d("LiveChatPluginFbts").LOGIN_PAGE_USE_MESSENGER_BUTTON_TEXT;return a!==null?i._("Continue as {first name}",[i._param("first name",a)]):i._("Continue")};return e}(j.Component);a.contextType=c("MessagingPluginContext");g["default"]=a}),98);
__d("MPNDialogMinusButtonSVG.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(){return h.jsxs("svg",{width:"38",height:"38",viewBox:"0 0 38 38",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[h.jsx("g",{filter:"url(#filter0_d)",children:h.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19 32C26.732 32 33 25.732 33 18C33 10.268 26.732 4 19 4C11.268 4 5 10.268 5 18C5 25.732 11.268 32 19 32Z",fill:"white"})}),h.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M24.5413 18.875H13.458C12.9747 18.875 12.583 18.4833 12.583 18C12.583 17.5167 12.9747 17.125 13.458 17.125H24.5413C25.0246 17.125 25.4163 17.5167 25.4163 18C25.4163 18.4833 25.0246 18.875 24.5413 18.875Z",fill:"black"}),h.jsx("defs",{children:h.jsxs("filter",{id:"filter0_d",x:"0",y:"0",width:"38",height:"38",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[h.jsx("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),h.jsx("feColorMatrix",{"in":"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),h.jsx("feOffset",{dy:"1"}),h.jsx("feGaussianBlur",{stdDeviation:"2.5"}),h.jsx("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.2 0"}),h.jsx("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow"}),h.jsx("feBlend",{mode:"normal","in":"SourceGraphic",in2:"effect1_dropShadow",result:"shape"})]})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MPNPrivacyText.react",["cx","fbt","CometLink.react","MessagingPluginContext","XCookiesPolicyControllerRouteBuilder","XPrivacyPolicyCometController","XTermsController","gkx","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var d=b.prototype;d.render=function(){var a=this.context.state.hasGuestMode,b=c("gkx")("1189683"),d=c("XTermsController").getURIBuilder().getURI().toString(),e=c("XPrivacyPolicyCometController").getURIBuilder().getURI().toString(),f=c("XCookiesPolicyControllerRouteBuilder").buildURL({}),g=i._("By continuing as a guest, you agree to Meta's {=m1}. Learn how we collect, use and share your data in our {=m4} and how we use cookies and similar technology in our {=m8}.",[i._implicitParam("=m1",j.jsx(c("CometLink.react"),{href:d,target:"_blank",children:i._("Terms")})),i._implicitParam("=m4",j.jsx(c("CometLink.react"),{href:e,target:"_blank",children:i._("Privacy Policy")})),i._implicitParam("=m8",j.jsx(c("CometLink.react"),{href:f,target:"_blank",children:i._("Cookies Policy")}))]),h=i._("By continuing as a guest, you agree to Meta's {=m2}, {=m5} and {=m9}.",[i._implicitParam("=m2",j.jsx(c("CometLink.react"),{href:d,target:"_blank",children:i._("Terms")})),i._implicitParam("=m5",j.jsx(c("CometLink.react"),{href:e,target:"_blank",children:i._("Privacy Policy")})),i._implicitParam("=m9",j.jsx(c("CometLink.react"),{href:f,target:"_blank",children:i._("Cookies Policy")}))]);d=i._("By continuing, you agree to Meta's {=m2}, {=m5} and {=m9}.",[i._implicitParam("=m2",j.jsx(c("CometLink.react"),{href:d,target:"_blank",children:i._("Terms")})),i._implicitParam("=m5",j.jsx(c("CometLink.react"),{href:e,target:"_blank",children:i._("Privacy Policy")})),i._implicitParam("=m9",j.jsx(c("CometLink.react"),{href:f,target:"_blank",children:i._("Cookies Policy")}))]);return j.jsx("div",{className:"_a2zo",children:this.props.isShownInReEngagementDialog===!0?d:this.props.useITPContinueButton?null:a?b?g:h:null})};return b}(j.Component);a.contextType=c("MessagingPluginContext");g["default"]=a}),98);
__d("ChatPluginDesktopReEngagementExpandedDialog.react",["cx","ChatPluginMessengerAttribution.react","ChatPluginSetupFlowE2ETestUtils","Image.react","LineClamp.react","LiveChatPluginConstants","LiveChatPluginLoggerUtil","MPNDesktopWelcomePageBottomButtons.react","MPNDialogMinusButtonSVG.react","MPNLocalState","MPNNavigation","MPNPrivacyText.react","MPNXDMessageManager","MessagingPluginContext","ShimButton.react","react","useResizeObserver"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");var j=b.useContext,k=b.useEffect;function a(a){var b=j(c("MessagingPluginContext")),e=b.state,f=e.alignment,g=e.pageProfilePictureUri,h=e.windowSize,l=e.optimisticStorageState,m=e.pageID,n=e.pluginMountTime,o=e.expandedOptInMessageText,p=e.expandedOptInMessageTitle,q=e.shouldUseAccessTokenAuth;e=l||{};var r=e.isGreetingDismissed,s=a.isPreview,t=a.ActionDelegate,u=h==="compact",v=function(){var a=u?d("LiveChatPluginConstants").RE_ENGAGEMENT_EXPANDED_DIALOG_HEIGHT_COMPACT:d("LiveChatPluginConstants").RE_ENGAGEMENT_EXPANDED_DIALOG_HEIGHT,b=u?d("LiveChatPluginConstants").MAIN_IFRAME_PADDING_HEIGHT_WITH_COMPACT:d("LiveChatPluginConstants").MAIN_IFRAME_PADDING_HEIGHT;a=a+b;c("MPNXDMessageManager").resizeIframe(a)};l=c("useResizeObserver")(function(a,b){v()});k(function(){d("LiveChatPluginLoggerUtil").logImpressionUsingXController_SafeFor3PD(q,m,"re_engagement_expanded_view",n)},[q,m,n]);e=f==="left";h=e?"_a968":"_a969";f=function(){if(s)t&&t.minimize();else{var c=b.state.greetingDialogDisplay==="welcome_message"||b.state.greetingDialogDisplay==="hide";r!==!0&&c&&d("MPNNavigation").maximizeGreetingDialog(b);d("MPNNavigation").navigateToRoute(b,a.history,d("MPNLocalState").MPNLocalStatePath.REENGAGEMENT_COLLAPSED_VIEW);d("LiveChatPluginLoggerUtil").logActionFromNewUI("tab_click",null,m,"re_engagement_expanded_view",{button_name:"re_engagement_expanded_view_minus_button"})}};return i.jsxs("div",{ref:l,className:(a.isPreview?"":"_a9vy")+(!a.isPreview&&e?" _abip":"")+(!a.isPreview&&!e?" _abiq":""),children:[i.jsxs("div",{"data-testid":void 0,className:"_a9b_ _aavn",children:[i.jsx("div",{children:i.jsx("div",{className:"_a9c0",children:i.jsx("div",{children:i.jsx(c("Image.react"),{className:"_a9c1",src:g})})})}),i.jsx("div",{className:"_a9c2",children:i.jsx(c("LineClamp.react"),{lines:1,children:p})}),i.jsx("div",{className:"_a9c3",children:i.jsx(c("LineClamp.react"),{lines:5,children:o})}),i.jsx(c("MPNDesktopWelcomePageBottomButtons.react"),babelHelpers["extends"]({},a,{useITPContinueButton:!1,isReengagementDialog:!0})),i.jsx("div",{className:"_a9c4",children:i.jsx(c("MPNPrivacyText.react"),{useITPContinueButton:!1,isShownInReEngagementDialog:!0})}),i.jsx(c("ChatPluginMessengerAttribution.react"),{})]}),i.jsx("div",{className:h,children:i.jsx(c("ShimButton.react"),{"data-testid":void 0,onClick:f,className:"_9pti _9l4n","aria-label":"Close",children:i.jsx(c("MPNDialogMinusButtonSVG.react"),{})})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("LiveChatPluginSendButtonSVG.react",["cx","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.render=function(){return i.jsx("div",{className:"_a3_y",children:i.jsx("svg",{viewBox:"0 0 22 22",children:i.jsx("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:i.jsx("g",{transform:"translate(-5.000000, -5.000000)",fill:this.props.threadColor,children:i.jsx("g",{children:i.jsx("g",{transform:"translate(5.000000, 5.000000)",children:i.jsx("path",{d:"M2.0300068,0.145970044 L20.9662955,9.37015518 C22.3445682,10.0420071 22.3445682,11.9582654 20.9662955,12.6296618 L2.0300068,21.853847 C1.09728834,22.3084288 0,21.6475087 0,20.6317597 L0.806953417,13.8945654 C0.882225434,13.2659853 1.39089595,12.7699536 2.03608467,12.6957083 L12.0229514,11.6795038 C12.8612292,11.5943266 12.8612292,10.4054904 12.0229514,10.3203132 L2.03608467,9.30410872 C1.39089595,9.23031889 0.882225434,8.7342872 0.806953417,8.10525162 L0,1.36805729 C0,0.352308292 1.09728834,-0.3081563 2.0300068,0.145970044"})})})})})})})};return b}(i.PureComponent);g["default"]=a}),98);
__d("MPNQuickReplyContainer.react",["cx","MPNConstants","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){var b=a.layout;a=a.children;b=b===d("MPNConstants").MPNQuickReplyLayout.HORIZONTAL;return i.jsx("div",{className:(b?"_9k7q":"")+(b?"":" _9k7r"),children:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MPNQuickReplyPill.react",["cx","ShimButton.react","Tooltip.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){var b=a.children,d=a.onClick,e=a.disabled;a=a.tooltip;e=i.jsx(c("ShimButton.react"),{"data-testid":void 0,className:"_9k7s"+(e?" _9k7t":""),onClick:d,children:b});return a!==void 0?i.jsx(c("Tooltip.react"),{tooltip:a,children:e}):e}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PrivacyTransparentOverlay.react",["cx","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.render=function(){return i.jsxs("div",{className:"_4cqr",children:[this.props.children,i.jsx("div",{className:"clearfix"})]})};return b}(i.PureComponent);g["default"]=a}),98);
__d("MessagingPluginMobileProfilePicture.react",["cx","ix","Image.react","MPNConstants","MessagingPluginContext","PrivacyTransparentOverlay.react","joinClasses","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var e=b.prototype;e.render=function(){var a=this.context.state,b=a.pageProfilePictureUri,e=a.isPageAway;a=a.awayHoursEnabled;var f=this.props,g=f.className,h=f.availablityIconSize;f=f.disableStatusIndicator;var k=e?"_a7a1":"_a2gl";h=h===d("MPNConstants").MPNAvailablityIconSize.LARGE?"_a7a2":"_a7a3";k=c("joinClasses")(k,h);h=e?j.jsx(c("Image.react"),{className:k,src:i("213835")}):j.jsx("div",{className:k});return j.jsxs(c("PrivacyTransparentOverlay.react"),{children:[j.jsx(c("Image.react"),{className:(e=g)!=null?e:"_a3jw",src:(k=this.props.personaProfilePictureUri)!=null?k:b}),a&&f!==!0?h:null]})};return b}(j.Component);a.contextType=c("MessagingPluginContext");g["default"]=a}),98);
__d("MessagingPluginDialogBodyPreview.react",["cssVar","cx","MPNConstants","MPNQuickReplyContainer.react","MPNQuickReplyPill.react","MessagingPluginContext","MessagingPluginMobileProfilePicture.react","MessengerDateBreak.bs","MessengerScrollableArea.react","ReactDOM","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={quickRepliesOffset:0},b)||babelHelpers.assertThisInitialized(c)}var e=b.prototype;e.componentDidMount=function(){this.$3()};e.componentDidUpdate=function(a,b){this.$3()};e.$3=function(){var a=d("ReactDOM").findDOMNode(this);if(!a||!(a instanceof HTMLElement))return;a=a.clientHeight;if(this.$1){var b=d("ReactDOM").findDOMNode(this.$1);b&&b instanceof HTMLElement&&(this.state.quickRepliesOffset!==a-b.clientHeight&&this.setState({quickRepliesOffset:a-b.clientHeight}))}};e.$4=function(){var a=d("ReactDOM").findDOMNode(this);return a&&a.parentNode&&a.parentNode instanceof HTMLElement?a.parentNode.getBoundingClientRect().height+"px":"100%"};e.$5=function(){var a;!this.context.state.isMobile?a="100%":a=this.$4();return a};e.$6=function(){var a=this.context.state.pageProfilePictureUri,b=this.props,d=b.automationEnabled;b=b.automationGreetingMessage;return d&&b.length>0?j.jsxs("div",{className:"_4xkn clearfix",children:[j.jsx("div",{className:"profilePictureColumn",children:j.jsx(c("MessagingPluginMobileProfilePicture.react"),{personaProfilePictureUri:a,className:"profilePicture",disableStatusIndicator:!0})}),j.jsx("div",{className:"messages",children:j.jsx("div",{className:"_21c3",children:j.jsx("div",{className:"clearfix _2a0-",children:j.jsx("div",{className:"_4xko _4xkr",style:{backgroundColor:"rgba(0, 0, 0, 0.06)"},children:b})})})})]}):null};e.$7=function(){var a=this.props,b=a.automationEnabled,e=a.automationFaqEnabled;a=a.automationFaqList;a=a.filter(function(a){return a.question.length>0}).map(function(a,b){return j.jsx(c("MPNQuickReplyPill.react"),{children:a.question},b)});return j.jsx("div",{style:{position:"relative",top:Math.max(this.state.quickRepliesOffset,0)},className:"_9l3-",children:b&&e?j.jsx(c("MPNQuickReplyContainer.react"),{layout:d("MPNConstants").MPNQuickReplyLayout.VERTICAL,children:a}):null})};e.render=function(){var a=this;return j.jsx(c("MessengerScrollableArea.react"),{height:this.$5(),ref:function(b){a.$2=b},tabIndex:0,children:j.jsxs("div",{ref:function(b){a.$1=b},children:[j.jsx("div",{className:"preventScrollOverflow _9l3-",children:j.jsxs("div",{className:"conversationContainer _9l3-",children:[j.jsx(d("MessengerDateBreak.bs").make,{className:"datebreak",date:new Date(Date.now())}),this.$6()]})}),this.$7()]})})};return b}(j.Component);a.contextType=c("MessagingPluginContext");g["default"]=a}),98);
__d("MPNHeaderActionButton.react",["cx","CometPressable.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){var b=a.label,d=a.onPress,e=a.children;a=a.testid;return i.jsx("div",{className:"_a3x9",children:i.jsx(c("CometPressable.react"),{testid:void 0,"aria-label":b,onPress:d,children:e})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MPNMinusButtonSVG.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.render=function(){return h.jsxs("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[h.jsx("path",{d:"M0 16C0 7.16344 7.16344 0 16 0C24.8366 0 32 7.16344 32 16C32 24.8366 24.8366 32 16 32C7.16344 32 0 24.8366 0 16Z",fill:"black",fillOpacity:"0.04"}),h.jsx("path",{d:"M22.0278 15.0278C22.5647 15.0278 23 15.4631 23 16.0001C23 16.537 22.5647 16.9723 22.0278 16.9723L9.97222 16.9723C9.43528 16.9723 9 16.537 9 16.0001C9 15.4631 9.43528 15.0278 9.97222 15.0278L22.0278 15.0278Z",fill:"black"})]})};return b}(h.PureComponent);g["default"]=a}),98);
__d("MPNMoreInfoButtonSVG.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.render=function(){return h.jsxs("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[h.jsx("path",{d:"M0 16C0 7.16344 7.16344 0 16 0C24.8366 0 32 7.16344 32 16C32 24.8366 24.8366 32 16 32C7.16344 32 0 24.8366 0 16Z",fill:"black",fillOpacity:"0.04"}),h.jsx("path",{d:"M11.7222 16C11.7222 16.9665 10.9387 17.75 9.97217 17.75C9.00567 17.75 8.22217 16.9665 8.22217 16C8.22217 15.0335 9.00567 14.25 9.97217 14.25C10.9387 14.25 11.7222 15.0335 11.7222 16Z",fill:"black"}),h.jsx("path",{d:"M17.7499 16C17.7499 16.9665 16.9664 17.75 15.9999 17.75C15.0334 17.75 14.2499 16.9665 14.2499 16C14.2499 15.0335 15.0334 14.25 15.9999 14.25C16.9664 14.25 17.7499 15.0335 17.7499 16Z",fill:"black"}),h.jsx("path",{d:"M22.0277 17.75C22.9942 17.75 23.7777 16.9665 23.7777 16C23.7777 15.0335 22.9942 14.25 22.0277 14.25C21.0612 14.25 20.2777 15.0335 20.2777 16C20.2777 16.9665 21.0612 17.75 22.0277 17.75Z",fill:"black"})]})};return b}(h.PureComponent);g["default"]=a}),98);
__d("MPNThreadPageHeaderSubtitle.react",["cx","DateTime","LineClamp.react","LiveChatPluginFbts","MessagingPluginContext","Timezone","react","setTimeout"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(b=c=a.call.apply(a,[this].concat(f))||this,c.state={textList:[{key:1,text:d("LiveChatPluginFbts").MESSENGER_ATTRIBUTION.toString()}],animate:!1},b)||babelHelpers.assertThisInitialized(c)}var e=b.prototype;e.componentDidMount=function(){var a=this.state.textList;this.fetchResponsivenessText();this.$1!=null&&(a.push({key:a.length+1,text:this.$1}),this.setState(function(b){return babelHelpers["extends"]({},b,{textList:a})}));this.state.textList.length>1&&this.startRotateSubtitleText()};e.componentDidUpdate=function(a){var b=this.state.textList;(this.props.awayHoursEnabled!==a.awayHoursEnabled||this.props.isPageAway!==a.isPageAway)&&(this.fetchResponsivenessText(),b.length>1&&(b.sort(function(a,b){return a.key-b.key}),b.pop()),this.$1!=null?(b.push({key:b.length+1,text:this.$1}),this.$2===null&&this.startRotateSubtitleText()):this.stopRotateSubtitleText(),this.setState(function(a){return babelHelpers["extends"]({},a,{textList:b})}))};e.fetchResponsivenessText=function(){var a=this.context.state,b=a.nextAvailableTimestamp,e=a.awayHoursEnabled,f=a.isPageAway;a=a.pageResponsiveness;if(e&&f){if(b!=null){f=d("Timezone").getEnvironmentTimezoneID();b=new(c("DateTime"))(b,f);f=b.getDayOfWeek();b=d("LiveChatPluginFbts").getPageReturnTimeText(f);this.$1=b==null?void 0:b.toString()}}else e?this.$1=a:this.$1=null};e.startRotateSubtitleText=function(){var a=this;this.$2=window.setInterval(function(){a.setState({animate:!0}),a.updateTextList()},4e3)};e.stopRotateSubtitleText=function(){this.$2&&window.clearInterval(this.$2),this.$2=null};e.updateTextList=function(){var a=this,b=this.state.textList;c("setTimeout")(function(){b.unshift(b[b.length-1]),b.pop(),a.setState({textList:b,animate:!1})},500)};e.render=function(){var a=this.state,b=a.textList;a=a.animate;return i.jsx("div",{className:"_a7cd",children:i.jsx("ul",{className:a?"_a7cc":"",children:b.map(function(a,b){return i.jsx("li",{children:i.jsx(c("LineClamp.react"),{className:"_a2m2",lines:1,children:a.text})},b)})})})};return b}(i.Component);a.contextType=c("MessagingPluginContext");g["default"]=a}),98);
__d("MPNE2ETestUtils",[],(function(a,b,c,d,e,f){"use strict";a="video-player";b="verified-badge";f.VIDEO_PLAYER_TEST_ID=a;f.VERIFIED_BADGE_TEST_ID=b}),66);
__d("MPNVerifiedBadgeSVG.react",["MPNE2ETestUtils","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.color;a=a.size;return h.jsx("svg",{"data-testid":void 0,className:"x1lliihq",viewBox:"0 0 24 24",width:a,height:a,xmlns:"http://www.w3.org/2000/svg",fill:b,children:h.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.81832 12.3781C0.641541 13.6853 0.172694 15.2929 0.740548 16.6638C1.3084 18.0347 2.77666 18.8399 4.53307 18.9322C4.81971 18.9472 5.05279 19.1803 5.06784 19.4669C5.16003 21.2234 5.96524 22.6916 7.33617 23.2595C8.7071 23.8273 10.3147 23.3585 11.6219 22.1817C11.8352 21.9896 12.1648 21.9896 12.3782 22.1817C13.6853 23.3585 15.2929 23.8273 16.6638 23.2595C18.0347 22.6916 18.84 21.2234 18.9322 19.467C18.9472 19.1803 19.1803 18.9472 19.4669 18.9322C21.2234 18.84 22.6916 18.0348 23.2595 16.6639C23.8273 15.2929 23.3585 13.6853 22.1817 12.3782C21.9896 12.1648 21.9896 11.8352 22.1817 11.6219C23.3585 10.3147 23.8273 8.70712 23.2595 7.33619C22.6916 5.96526 21.2233 5.16005 19.4669 5.06786C19.1803 5.05281 18.9472 4.81973 18.9321 4.53309C18.8399 2.77665 18.0347 1.30838 16.6638 0.740519C15.2929 0.172663 13.6853 0.641513 12.3781 1.8183C12.1648 2.01034 11.8352 2.01034 11.6218 1.8183C10.3147 0.641545 8.7071 0.172712 7.33619 0.74056C5.96527 1.30841 5.16006 2.77667 5.06785 4.53308C5.05281 4.81972 4.81972 5.0528 4.53308 5.06784C2.77665 5.16004 1.30838 5.96524 0.740519 7.33617C0.17266 8.7071 0.641519 10.3147 1.81831 11.6219C2.01036 11.8352 2.01036 12.1648 1.81832 12.3781ZM17.3648 8.00218C17.6421 7.52457 17.4797 6.91258 17.0021 6.63525C16.5245 6.35793 15.9125 6.5203 15.6352 6.99791L11.2253 14.5927C11.1429 14.7347 10.9484 14.76 10.8323 14.644L8.20711 12.0187C7.81658 11.6282 7.18342 11.6282 6.79289 12.0187C6.40237 12.4093 6.40237 13.0424 6.79289 13.433L10.5671 17.2071C10.7866 17.4267 11.0956 17.5318 11.4035 17.4916C11.7113 17.4515 11.9831 17.2707 12.139 17.0022L17.3648 8.00218Z"})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MPNVerifiedBadge.react",["MPNVerifiedBadgeSVG.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.size;a=a.verificationStatus;switch(a){case"blue_verified":return h.jsx(c("MPNVerifiedBadgeSVG.react"),{size:b,color:"#1b77f2"});case"gray_verified":return h.jsx(c("MPNVerifiedBadgeSVG.react"),{size:b,color:"#5e6871"});default:return null}}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MessagingPluginDesktopProfilePicture.react",["cx","ix","Image.react","MPNConstants","MessagingPluginContext","PrivacyTransparentOverlay.react","joinClasses","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var e=b.prototype;e.render=function(){var a=this.context.state,b=a.pageProfilePictureUri,e=a.isPageAway;a=a.awayHoursEnabled;var f=this.props,g=f.className;f=f.availablityIconSize;var h=e?"_a7a1":"_a2gl";f=f===d("MPNConstants").MPNAvailablityIconSize.LARGE?"_a7a2":"_a7a3";h=c("joinClasses")(h,f);f=e?j.jsx(c("Image.react"),{className:h,src:i("213835")}):j.jsx("div",{className:h});return j.jsxs(c("PrivacyTransparentOverlay.react"),{children:[j.jsx(c("Image.react"),{className:(e=g)!=null?e:"_a3jw",src:b}),a?f:null]})};return b}(j.Component);a.contextType=c("MessagingPluginContext");g["default"]=a}),98);
__d("MessagingPluginDialogHeaderPreview.react",["cx","fbt","ChatPluginSetupFlowE2ETestUtils","FlexLayout.react","LineClamp.react","MPNHeaderActionButton.react","MPNMinusButtonSVG.react","MPNMoreInfoButtonSVG.react","MPNThreadPageHeaderSubtitle.react","MPNVerifiedBadge.react","MessagingPluginContext","MessagingPluginDesktopProfilePicture.react","emptyFunction","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var d=b.prototype;d.render=function(){var a=this.context.state,b=a.pageName,d=a.pageVerifiedStatus,e=a.isPageAway;a=a.awayHoursEnabled;var f=this.props.onClose;return j.jsxs("div",{className:"_9dxj _9gop",children:[j.jsx("div",{className:"_a2m0",children:j.jsx(c("MessagingPluginDesktopProfilePicture.react"),{})}),j.jsxs("div",{className:"_9dxi",children:[j.jsxs(c("FlexLayout.react"),{align:"center",children:[j.jsx(c("LineClamp.react"),{className:"_a2m1",lines:1,children:j.jsx("strong",{children:b})}),d&&d!=="not_verified"?j.jsx("span",{className:"_a2m5",children:j.jsx(c("MPNVerifiedBadge.react"),{verificationStatus:d,size:14})}):null]}),j.jsx(c("MPNThreadPageHeaderSubtitle.react"),{isPageAway:e,awayHoursEnabled:a})]}),j.jsx("div",{className:"_9dxh"}),j.jsxs("div",{className:"_9dzn",children:[j.jsx(c("MPNHeaderActionButton.react"),{label:i._("More"),onPress:c("emptyFunction"),children:j.jsx(c("MPNMoreInfoButtonSVG.react"),{})}),j.jsx("div",{"data-testid":void 0,className:"_9kkq",children:j.jsx(c("MPNHeaderActionButton.react"),{label:i._("close"),onPress:f,children:j.jsx(c("MPNMinusButtonSVG.react"),{})})})]})]})};return b}(j.Component);a.contextType=c("MessagingPluginContext");g["default"]=a}),98);
__d("ChatPluginDesktopThreadPagePreview.react",["cx","fbt","ChatPluginSetupFlowE2ETestUtils","ChatPluginSetupFlowUtil","LiveChatPluginConstants","LiveChatPluginSendButtonSVG.react","MessagingPluginContext","MessagingPluginDialogBodyPreview.react","MessagingPluginDialogHeaderPreview.react","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var e=b.prototype;e.$1=function(){return j.jsx("div",{className:"_94vs",children:j.jsxs("div",{className:"_94vt",children:[j.jsx("div",{className:"_664k",children:i._("Ask a question\u2026")}),j.jsx("div",{className:" _95jk _95ms",children:j.jsx(c("LiveChatPluginSendButtonSVG.react"),{threadColor:d("LiveChatPluginConstants").GUEST_SEND_BUTTON_COLOR_EMPTY_INPUT})})]})})};e.render=function(){var a=this.props,b=a.automationEnabled,e=a.automationGreetingMessage,f=a.automationFaqEnabled,g=a.automationFaqList,h=a.availabilityStatus,i=a.awayMessage,k=a.awayHoursEnabled;a=a.onClose;k=k&&h===d("ChatPluginSetupFlowUtil").AwayStatus.AWAY?i:e;return j.jsxs("div",{"data-testid":void 0,className:"_9ohw",children:[j.jsx(c("MessagingPluginDialogHeaderPreview.react"),{onClose:a}),j.jsx("div",{className:"_424s _9l4n",children:j.jsx(c("MessagingPluginDialogBodyPreview.react"),{automationEnabled:b,automationGreetingMessage:k,automationFaqEnabled:f,automationFaqList:g})}),this.$1()]})};return b}(j.Component);a.contextType=c("MessagingPluginContext");g["default"]=a}),98);
__d("ChatPluginDesktopWelcomeMessagePagePreview.react",["cx","ChatPluginEntryPointLabelEnum","ChatPluginSetupFlowContext","ChatPluginSetupFlowE2ETestUtils","LiveChatPluginFbts","MPNDialogMinusButtonSVG.react","MessagingPluginContext","ShimButton.react","react","stylex","useResizeObserver"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");var j=b.useContext,k=b.useState,l=44,m=60-44,n={root:{alignItems:"x1cy8zhl",backgroundColor:"x15yo4kd",borderTopStartRadius:"x1tlxs6b",borderTopEndRadius:"x1g8br2z",borderBottomEndRadius:"x1gn5b1j",borderBottomStartRadius:"x230xth",boxShadow:"x1jb0ks9",cursor:"x1ypdohk",display:"x78zum5",flexDirection:"x1q0g3np",paddingTop:"x1y1aw1k",paddingEnd:"x4uap5",paddingBottom:"xwib8y2",paddingStart:"xkhd6sd",pointerEvents:"x67bb7w",position:"x10l6tqk",width:"xowf52n",$$css:!0},rootRight:{right:"x3m8u43",$$css:!0},bottom:{bottom:"x1d9eok4",$$css:!0},iconOnlyBottom:{bottom:"x1kiq0my",$$css:!0},textBase:{color:"x1mqxbix",display:"x1rg5ohu",fontSize:"x1lkfr7t",lineHeight:"x19v9tvf",textAlign:"xdpxx8g",width:"xnk06it",wordWrap:"x1vvkbs",$$css:!0},textRight:{paddingLeft:"xf18ygs",paddingRight:"x8e5d8q",$$css:!0},textLeft:{paddingLeft:"xd3ty66",paddingRight:"xnuq7ks",$$css:!0},minusBase:{cursor:"x1ypdohk",pointerEvents:"x67bb7w",position:"x10l6tqk",width:"x1guw455",$$css:!0},minusRight:{right:"xwwitqe",$$css:!0},minusLeft:{width:"x1guw455",left:"x8zbx7q",$$css:!0}};function a(a){var b=j(c("MessagingPluginContext")),e=j(c("ChatPluginSetupFlowContext"));e=e.state;e=e.customizationConfig.entryPointLabel;b=b.state;var f=b.loggedInGreeting,g=b.awayGreeting,h=b.awayHoursEnabled;b=b.isPageAway;e=(e=c("ChatPluginEntryPointLabelEnum").cast(e))!=null?e:"none";e=e==="none";var o=k(0),p=o[0],q=o[1];o=c("useResizeObserver")(function(a,b){q(l+b.clientHeight)});var r=a.leftAlignment,s=a.visibility,t=a.onClose;a=a.onClick;s=s?"_9po2":"_9po3";f=(f=f)!=null?f:d("LiveChatPluginFbts").DEFAULT_LOGGED_IN_GREETING_TEXT.toString();g=(g=g)!=null?g:d("LiveChatPluginFbts").DEFAULT_AWAY_GREETING_TEXT.toString();h=h&&b===!0?g:f;return i.jsxs("div",{"data-testid":void 0,className:s,children:[i.jsx(c("ShimButton.react"),{onClick:a,children:i.jsx("div",{ref:o,className:c("stylex")(n.root,!r&&n.rootRight,e?n.iconOnlyBottom:n.bottom),children:i.jsx("div",{className:c("stylex")(n.textBase,r?n.textLeft:n.textRight),children:h})})}),i.jsx("div",{style:{bottom:e?p:p-m},className:c("stylex")(n.minusBase,r?n.minusLeft:n.minusRight),children:i.jsx(c("ShimButton.react"),{onClick:t,"aria-label":"Minimize button",children:i.jsx(c("MPNDialogMinusButtonSVG.react"),{})})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("XChatPluginReEngagementAppSwitchController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/plugins/customer_chat/re_engagement_app_switch/",{page_id:{type:"Int",required:!0},ref:{type:"String"}})}),null);
__d("MPNMobileWelcomePageBottomButtons.react",["cx","fbt","Arbiter","AsyncRequest","LineClamp.react","LiveChatPluginConstants","LiveChatPluginFbts","LiveChatPluginLoggerUtil","MPNConstants","MPNIdentity","MPNLocalState","MPNMessengerIconSVG.react","MPNNavigation","MPNStorage","MPNXDMessageManager","MessagingPluginContext","MessagingPluginThreadActions","PopupWindow","ShimButton.react","XChatPluginIncognitoLoginPopupController","XChatPluginReEngagementAppSwitchController","cr:878","gkx","performanceAbsoluteNow","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");a=function(a){babelHelpers.inheritsLoose(e,a);function e(){var e,f;for(var g=arguments.length,h=new Array(g),i=0;i<g;i++)h[i]=arguments[i];return(e=f=a.call.apply(a,[this].concat(h))||this,f.$3=function(){var a=f.context,b=a.state;a=a.dispatchAction;var e=b.pageID,g=b.isSanitizedEpd3pdRequest;a({type:"UPDATE_CONTINUE_CLICK_TIME",continueClickTime:c("performanceAbsoluteNow")()});d("MPNIdentity").MPNIdentity.performUIAction(function(){if(g){c("MPNXDMessageManager").reloadPlugin(!0);return}d("MPNNavigation").navigateToRoute(f.context,f.props.history,d("MPNLocalState").MPNLocalStatePath.THREAD_VIEW)},function(){d("MPNIdentity").MPNIdentity.clearUserChangesSubscription(),c("MPNStorage").setPath(d("MPNLocalState").MPNLocalStatePath.THREAD_VIEW),c("MPNXDMessageManager").reloadPlugin()},function(){c("MPNStorage").clearThirdPartyStorageState(),c("MPNXDMessageManager").reloadPlugin()});d("LiveChatPluginLoggerUtil").logActionFromNewUI("tab_click",null,e,"itp_page",{button_name:"continue"})},f.$4=function(){var a,b=f.context.state.pageID;(a=f.props.ActionDelegate)==null?void 0:a.minimize();d("MPNNavigation").navigateToRoute(f.context,f.props.history,d("MPNLocalState").MPNLocalStatePath.WELCOME_PAGE,!1);d("MPNNavigation").dismissReEngagementDialog(f.context);d("LiveChatPluginLoggerUtil").logActionFromNewUI("tab_click",null,b,"re_engagement_expanded_view",{button_name:"re_engagement_not_now"})},f.$6=function(){var a=f.context.state,b=a.shouldShowMobileInWebChat,e=a.mobileOptin,g=a.pageID;a=a.refParam;if(!b||e==="app_switch")if(f.props.isReEngagementDialog){d("MessagingPluginThreadActions").reEngagementOptInStateUpdateWithAppSwitch(f.context,f.props.history);b=c("XChatPluginReEngagementAppSwitchController").getURIBuilder().setInt("page_id",g).setString("ref",a).getURI();new(c("AsyncRequest"))().setURI(b).send();c("Arbiter").subscribeOnce(d("LiveChatPluginConstants").START_RE_ENGAGEMENT,function(a,b){d("MessagingPluginThreadActions").appSwitch(b)})}else{(e=f.props.ActionDelegate)==null?void 0:e.onAppSwitchToMessenger()}else f.props.isReEngagementDialog?f.$8():f.$9()},f.$5=function(){var a=f.context,e=a.state;a=a.dispatchAction;e=e.pageID;a({type:"UPDATE_CONTINUE_CLICK_TIME",continueClickTime:c("performanceAbsoluteNow")()});b("cr:878")==null?void 0:b("cr:878").logChatPluginThreadLoadModuleStart();d("MPNIdentity").MPNIdentity.performUIAction(f.$10,function(){var a=c("MPNStorage").getFBStorageState();a==null?a={requestID:c("MPNStorage").requestID,currentPath:d("MPNLocalState").MPNLocalStatePath.THREAD_VIEW,userID:"0",chatState:d("MPNLocalState").MPNChatState.CHAT_NOT_STARTED,visibility:d("MPNConstants").MPNVisibility.NOT_HIDDEN,showUpgradePrompt:d("MPNConstants").MPNUpgradePrompt.NOT_SHOWN,accessToken:null,expirationTimestamp:null,rdr:d("MPNConstants").MPNRedirect.NEW_GUEST_SESSION}:a=babelHelpers["extends"]({},a,{chatState:d("MPNLocalState").MPNChatState.CHAT_NOT_STARTED,rdr:d("MPNConstants").MPNRedirect.NEW_GUEST_SESSION});c("MPNStorage").setFBStorageState(a);c("MPNXDMessageManager").reloadPlugin()},function(){f.$10()});d("LiveChatPluginLoggerUtil").logActionFromNewUI("tab_click",null,e,"welcome_page_with_guest_option",{button_name:"continue_as_guest"})},f.$10=function(){var a=f.context.state.isSanitizedEpd3pdRequest;if(a){a=c("MPNStorage").getFBStorageState();a!=null&&c("MPNStorage").setFBStorageState(babelHelpers["extends"]({},a,{rdr:d("MPNConstants").MPNRedirect.NEW_GUEST_SESSION}));c("MPNXDMessageManager").reloadPlugin(!0)}else d("MPNNavigation").navigateToRoute(f.context,f.props.history,d("MPNLocalState").MPNLocalStatePath.THREAD_VIEW),f.props.ActionDelegate&&f.props.ActionDelegate.onContinueAsGuest(function(){})},e)||babelHelpers.assertThisInitialized(f)}var f=e.prototype;f.render=function(){var a=this.context.state.hasGuestMode;return this.props.useITPContinueButton?this.$1():this.$2(a)};f.$1=function(){var a=this.context.state.threadCSSColor;return j.jsx("div",{className:"_a2zl",children:j.jsx(c("ShimButton.react"),{onClick:this.$3,className:"_a2zm",style:{backgroundColor:a},children:j.jsx(c("LineClamp.react"),{className:"continueText",lines:1,children:i._("Continue")})})})};f.$2=function(a){var b=this.context.state.threadCSSColor,e=c("gkx")("1189683");e=!a&&!e;var f=this.props.isReEngagementDialog;a=a?j.jsx(c("ShimButton.react"),{"data-testid":void 0,onClick:this.$5,className:"_a2zk",children:j.jsx(c("LineClamp.react"),{lines:1,children:i._("Continue as Guest")})}):null;var g=j.jsx(c("ShimButton.react"),{onClick:this.$4,className:"_a2zk",children:j.jsx(c("LineClamp.react"),{lines:1,children:d("LiveChatPluginFbts").NOT_NOW_BUTTON_TEXT})});return j.jsxs("div",{className:(e?"":"_a2zl")+(e?" _a2zn":""),children:[j.jsxs(c("ShimButton.react"),{onClick:this.$6,className:"_a2zm",style:{backgroundColor:b},children:[f?null:j.jsx("div",{className:"loggedInIconContainer",children:j.jsx(c("MPNMessengerIconSVG.react"),{})}),j.jsx(c("LineClamp.react"),{className:"continueText",lines:1,children:this.$7()})]}),this.props.isReEngagementDialog?g:a]})};f.$7=function(){var a,b=d("MPNIdentity").MPNIdentity.currentUserState()==d("MPNIdentity").MPNIdentityState.FB;a=(a=d("MPNIdentity").MPNIdentity.currentUser())==null?void 0:a.shortName;var c=this.context.state,e=c.shouldShowMobileInWebChat;c=c.mobileOptin;if(this.props.isReEngagementDialog)return d("LiveChatPluginFbts").GET_MESSAGES_BUTTON_TEXT;if(!e||c==="app_switch")return i._("Chat in Messenger");if(!b)return d("LiveChatPluginFbts").LOGIN_PAGE_USE_MESSENGER_BUTTON_TEXT;return a!==null?i._("Continue as {first name}",[i._param("first name",a)]):i._("Continue")};f.$9=function(){var a=this,b=this.context,e=b.state;b=b.dispatchAction;var f=e.pageID,g=e.hasGuestMode,h=e.pagePassesSentryTest,i=e.hasMessagingPermission,j=e.isSanitizedEpd3pdRequest,k=e.shouldShowMobileInWebChat,l=e.mobileOptin,m=e.shouldBypassPageSentryTest;e=e.shouldUseAccessTokenAuth;var n=d("MPNIdentity").MPNIdentity.currentUserState(),o=d("MPNIdentity").MPNIdentity.currentUserID();b({type:"UPDATE_CONTINUE_CLICK_TIME",continueClickTime:c("performanceAbsoluteNow")()});if(n==d("MPNIdentity").MPNIdentityState.FB&&o!=null){if(!m&&!h&&!i){(b=this.props.ActionDelegate)==null?void 0:b.openThreadWithInterstitial(function(){var b;(b=a.props.ActionDelegate)==null?void 0:b.openThreadWithCurrentFBUser();d("MPNNavigation").navigateToRoute(a.context,a.props.history,d("MPNLocalState").MPNLocalStatePath.THREAD_VIEW)});d("LiveChatPluginLoggerUtil").logActionFromNewUI("tab_click",null,f,g?"welcome_page_with_guest_option":"welcome_page",{button_name:"continue_as"});return}d("MPNNavigation").navigateToRoute(this.context,this.props.history,d("MPNLocalState").MPNLocalStatePath.THREAD_VIEW);d("MessagingPluginThreadActions").openThreadWithCurrentFBUser(this.context,!1);d("LiveChatPluginLoggerUtil").logActionFromNewUI("tab_click",null,f,g?"welcome_page_with_guest_option":"welcome_page",{button_name:"continue_as"});return}e?d("MessagingPluginThreadActions").presentPluginOptIn(this.context):d("MPNIdentity").MPNIdentity.performUIAction(function(){if(d("MPNIdentity").MPNIdentity.cookieUserUncached()!="0"){if(j){c("MPNXDMessageManager").reloadPlugin(!0);return}return}d("MPNIdentity").MPNIdentity.subscribeLoggedInUserChanges(function(a,b){a=c("MPNStorage").getFBStorageState();if(a!=null){c("MPNStorage").setFBStorageState(babelHelpers["extends"]({},a,{chatState:d("MPNLocalState").MPNChatState.LOGGED_IN_CHAT_STARTED,rdr:d("MPNConstants").MPNRedirect.FB_LOG_IN}));b={path:d("MPNLocalState").MPNLocalStatePath.THREAD_VIEW,chatState:d("MPNLocalState").MPNChatState.LOGGED_IN_CHAT_STARTED,visibility:d("MPNConstants").MPNVisibility.NOT_HIDDEN};c("MPNStorage").setThirdPartyStorageState(b)}},d("LiveChatPluginConstants").LOGIN_CHECK_INTERVAL);d("MessagingPluginThreadActions").presentPluginOptIn(a.context)},function(){if(d("MPNIdentity").MPNIdentity.cookieUserUncached()!="0"){c("MPNXDMessageManager").reloadPlugin(!0);return}d("MPNIdentity").MPNIdentity.subscribeLoggedInUserChanges(function(a,b){a=c("MPNStorage").getFBStorageState();a!=null&&c("MPNStorage").setFBStorageState(babelHelpers["extends"]({},a,{chatState:d("MPNLocalState").MPNChatState.LOGGED_IN_CHAT_STARTED,rdr:d("MPNConstants").MPNRedirect.FB_LOG_IN}))},d("LiveChatPluginConstants").LOGIN_CHECK_INTERVAL);d("MessagingPluginThreadActions").presentPluginOptIn(a.context)},function(){var a=c("XChatPluginIncognitoLoginPopupController").getURIBuilder().setBool("is_from_re_engagement",!1).getURI();d("PopupWindow").open(a.toString(),420,450)},k&&l==="chat_tab");d("LiveChatPluginLoggerUtil").logActionFromNewUI("tab_click",null,f,g?"welcome_page_with_guest_option":"welcome_page",{button_name:"log_in_messenger"})};f.$8=function(){var a=this,b=this.context.state,e=b.shouldShowMobileInWebChat,f=b.mobileOptin;b=b.pageID;e=!e||f==="app_switch";d("MPNIdentity").MPNIdentity.performUIAction(function(){d("MessagingPluginThreadActions").reEngagementOptIn(a.context)},function(){d("MessagingPluginThreadActions").reEngagementOptIn(a.context)},function(){var a=c("XChatPluginIncognitoLoginPopupController").getURIBuilder().setBool("is_from_re_engagement",!0).getURI();d("PopupWindow").open(a.toString(),420,450)},e);d("LiveChatPluginLoggerUtil").logActionFromNewUI("tab_click",null,b,"re_engagement_expanded_view",{button_name:"re_engagement_get_messages"})};return e}(j.Component);a.contextType=c("MessagingPluginContext");g["default"]=a}),98);
__d("ChatPluginMobileReEngagementExpandedDialog.react",["cx","fbt","ChatPluginMessengerAttribution.react","ChatPluginSetupFlowE2ETestUtils","Image.react","LineClamp.react","LiveChatPluginLoggerUtil","MPNConstants","MPNHeaderActionButton.react","MPNLocalState","MPNMinusButtonSVG.react","MPNMobileWelcomePageBottomButtons.react","MPNNavigation","MPNPrivacyText.react","MPNXDMessageManager","MessagingPluginContext","MessagingPluginPathUtils","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,e;for(var f=arguments.length,g=new Array(f),h=0;h<f;h++)g[h]=arguments[h];return(b=e=a.call.apply(a,[this].concat(g))||this,e.$1=function(){var a=e.context.state,b=a.alignment,f=a.bottomSpacing,g=a.entryPointLabel,h=a.entryPointSize,i=a.optimisticStorageState,j=a.sideSpacing;a=a.pageID;e.props.isPreview?e.props.ActionDelegate&&e.props.ActionDelegate.minimize():(d("MPNNavigation").navigateToRoute(e.context,e.props.history,d("MPNLocalState").MPNLocalStatePath.REENGAGEMENT_COLLAPSED_VIEW),c("MPNXDMessageManager").setupMobileIframeForPath(d("MessagingPluginPathUtils").MPN_PATH.REENGAGEMENT_COLLAPSED,i.visibility===d("MPNConstants").MPNVisibility.NOT_HIDDEN,h,null,b,null,f,g,j),d("LiveChatPluginLoggerUtil").logActionFromNewUI("tab_click",null,a,"re_engagement_expanded_view",{button_name:"re_engagement_expanded_view_minus_button"}))},b)||babelHelpers.assertThisInitialized(e)}var e=b.prototype;e.componentDidMount=function(){var a=this.context.state,b=a.optimisticStorageState,e=a.entryPointSize,f=a.pageID,g=a.pluginMountTime;a=a.shouldUseAccessTokenAuth;c("MPNXDMessageManager").setupMobileIframeForPath(d("MessagingPluginPathUtils").MPN_PATH.REENGAGEMENT_EXPANDED,b.visibility===d("MPNConstants").MPNVisibility.NOT_HIDDEN,e);d("LiveChatPluginLoggerUtil").logImpressionUsingXController_SafeFor3PD(a,f,"re_engagement_expanded_view",g)};e.render=function(){var a=this.context.state,b=a.pageProfilePictureUri,d=a.expandedOptInMessageText;a=a.expandedOptInMessageTitle;return j.jsx("div",{className:"_908c",children:j.jsxs("div",{"data-testid":void 0,className:"_a9b_",children:[j.jsx("div",{children:j.jsxs("div",{className:"_a9c0",children:[j.jsx("div",{children:j.jsx(c("Image.react"),{className:"_a9c1",src:b})}),j.jsx("div",{className:"_9dxh"}),j.jsx("div",{className:"_9dzn",children:j.jsx("div",{className:"_9l4n","data-testid":void 0,children:j.jsx(c("MPNHeaderActionButton.react"),{label:i._("close"),onPress:this.$1,children:j.jsx(c("MPNMinusButtonSVG.react"),{})})})})]})}),j.jsx("div",{className:"_a9c2",children:j.jsx(c("LineClamp.react"),{lines:1,children:a})}),j.jsx("div",{className:"_a9c3",children:j.jsx(c("LineClamp.react"),{lines:3,children:d})}),j.jsx(c("MPNMobileWelcomePageBottomButtons.react"),babelHelpers["extends"]({},this.props,{useITPContinueButton:!1,isReEngagementDialog:!0})),j.jsx("div",{className:"_a9c4",children:j.jsx(c("MPNPrivacyText.react"),{useITPContinueButton:!1,isShownInReEngagementDialog:!0})}),j.jsx(c("ChatPluginMessengerAttribution.react"),{})]})})};return b}(j.Component);a.contextType=c("MessagingPluginContext");g["default"]=a}),98);
__d("ChatPluginMobileThreadPagePreview.react",["cx","fbt","AbstractTextInput.react","ChatPluginSetupFlowE2ETestUtils","ChatPluginSetupFlowUtil","LiveChatPluginConstants","LiveChatPluginSendButtonSVG.react","MessagingPluginContext","MessagingPluginDialogBodyPreview.react","MessagingPluginDialogHeaderPreview.react","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var e=b.prototype;e.$1=function(){return j.jsx("div",{className:"_94vs",children:j.jsxs("div",{className:"_99ks",children:[j.jsx("div",{className:"_92dv",children:j.jsx(c("AbstractTextInput.react"),{placeholder:i._("Send a message\u2026").toString()})}),j.jsx("div",{className:" _95jk _95ms",children:j.jsx(c("LiveChatPluginSendButtonSVG.react"),{threadColor:d("LiveChatPluginConstants").GUEST_SEND_BUTTON_COLOR_EMPTY_INPUT})})]})})};e.render=function(){var a=this.props,b=a.automationEnabled,e=a.automationGreetingMessage,f=a.automationFaqEnabled,g=a.automationFaqList,h=a.awayMessage,i=a.availabilityStatus,k=a.awayHoursEnabled;a=a.onClose;k=k&&i===d("ChatPluginSetupFlowUtil").AwayStatus.AWAY?h:e;return j.jsx("div",{"data-testid":void 0,className:"_9l4o",children:j.jsxs("div",{className:"_6atj _90x4",children:[j.jsx(c("MessagingPluginDialogHeaderPreview.react"),{onClose:a}),j.jsx("div",{className:"_424s _9l4n",children:j.jsx(c("MessagingPluginDialogBodyPreview.react"),{automationEnabled:b,automationGreetingMessage:k,automationFaqEnabled:f,automationFaqList:g})}),this.$1()]})})};return b}(j.Component);a.contextType=c("MessagingPluginContext");g["default"]=a}),98);
__d("ChatPluginMobileWelcomeMessagePagePreview.react",["cx","ChatPluginEntryPointLabelEnum","ChatPluginSetupFlowContext","ChatPluginSetupFlowE2ETestUtils","ChatPluginSetupFlowUtil","LiveChatPluginFbts","MPNDialogMinusButtonSVG.react","MessagingPluginContext","ShimButton.react","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");var j=b.useContext,k=b.useEffect,l=b.useRef,m=b.useState,n={root:{alignItems:"x1cy8zhl",backgroundColor:"x15yo4kd",borderTopStartRadius:"x1tlxs6b",borderTopEndRadius:"x1g8br2z",borderBottomEndRadius:"x1gn5b1j",borderBottomStartRadius:"x230xth",boxShadow:"x1jb0ks9",cursor:"x1ypdohk",display:"x78zum5",flexDirection:"x1q0g3np",paddingTop:"x1y1aw1k",paddingEnd:"x4uap5",paddingBottom:"xwib8y2",paddingStart:"xkhd6sd",pointerEvents:"x67bb7w",position:"x10l6tqk",width:"xowf52n",$$css:!0},textBase:{color:"x1mqxbix",display:"x1rg5ohu",fontSize:"x1lkfr7t",lineHeight:"x19v9tvf",textAlign:"xdpxx8g",width:"xnk06it",wordWrap:"x1vvkbs",$$css:!0},textRight:{paddingLeft:"xf18ygs",paddingRight:"x8e5d8q",$$css:!0},textLeft:{paddingLeft:"xd3ty66",paddingRight:"xnuq7ks",$$css:!0},minusBase:{cursor:"x1ypdohk",pointerEvents:"x67bb7w",position:"x10l6tqk",width:"x1guw455",height:"x16wdlz0",$$css:!0}};function a(a){var b,e=a.bottomSpacing,f=a.leftAlignment,g=a.visibility,h=a.onClose;a=a.onClick;var o=j(c("MessagingPluginContext")),p=j(c("ChatPluginSetupFlowContext"));p=p.state;p=p.customizationConfig;var q=p.entryPointLabel;p=p.mobileSideSpacing;var r=o.state,s=r.loggedInGreeting,t=r.awayGreeting,u=r.awayHoursEnabled;r=r.isPageAway;b=(b=c("ChatPluginEntryPointLabelEnum").cast(q))!=null?b:c("ChatPluginEntryPointLabelEnum").cast(d("ChatPluginSetupFlowUtil").DEFAULT_STATE.customizationConfig.entryPointLabel);var v=b==="none";b=m(d("ChatPluginSetupFlowUtil").MOBILE_WELCOME_MESSAGE_MINUS_BUTTON_BOTTOM_OFFSET);var w=b[0],x=b[1];b=m(0);var y=b[0],z=b[1],A=l(null);A.current&&A.current.addEventListener("change",function(){});k(function(){var a;a=(a=(a=A.current)==null?void 0:a.clientHeight)!=null?a:d("ChatPluginSetupFlowUtil").SHORT_WELCOME_MESSAGE_HEIGHT;a<=d("ChatPluginSetupFlowUtil").SHORT_WELCOME_MESSAGE_HEIGHT?(z(d("ChatPluginSetupFlowUtil").MOBILE_WELCOME_MESSAGE_BOTTOM_SPACING),x(d("ChatPluginSetupFlowUtil").MOBILE_WELCOME_MESSAGE_BOTTOM_SPACING+d("ChatPluginSetupFlowUtil").MOBILE_WELCOME_MESSAGE_MINUS_BUTTON_BOTTOM_OFFSET+a)):(z(0),x(d("ChatPluginSetupFlowUtil").MOBILE_WELCOME_MESSAGE_MINUS_BUTTON_BOTTOM_OFFSET+a+(v?0:+d("ChatPluginSetupFlowUtil").SPACING_WITH_LABEL)))},[v,q,o.state.loggedInGreeting]);b=g?"_9po2":"_9po3";q=v?e+y:e+d("ChatPluginSetupFlowUtil").ENTRY_POINT_HEIGHT+d("ChatPluginSetupFlowUtil").SPACING_WITH_LABEL;o={};v?o=f?{left:"84px",marginLeft:"8px"}:{right:"84px",marginRight:"8px"}:o=f?{left:p+"px"}:{right:p+"px"};g=n.textRight;v?g=f?n.textRight:n.textLeft:g=f?n.textLeft:n.textRight;y=v?e+w:e+w+d("ChatPluginSetupFlowUtil").ENTRY_POINT_HEIGHT;p={};v?p=f?{right:"16px"}:{left:"16px"}:p=f?{left:"8px"}:{right:"8px"};w=(e=s)!=null?e:d("LiveChatPluginFbts").DEFAULT_LOGGED_IN_GREETING_TEXT.toString();s=(f=t)!=null?f:d("LiveChatPluginFbts").DEFAULT_AWAY_GREETING_TEXT.toString();e=u&&r===!0?s:w;return i.jsxs("div",{className:b,"data-testid":void 0,children:[i.jsx(c("ShimButton.react"),{onClick:a,children:i.jsx("div",{"data-testid":void 0,id:"welcome_message",ref:A,style:babelHelpers["extends"]({bottom:q},o),className:"x1cy8zhl x15yo4kd x1tlxs6b x1g8br2z x1gn5b1j x230xth x1jb0ks9 x1ypdohk x78zum5 x1q0g3np x1y1aw1k x4uap5 xwib8y2 xkhd6sd x67bb7w x10l6tqk xowf52n",children:i.jsx("div",{className:c("stylex")(n.textBase,g),children:e})})}),i.jsx("div",{style:babelHelpers["extends"]({bottom:y},p),className:"x1ypdohk x67bb7w x10l6tqk x1guw455 x16wdlz0",children:i.jsx(c("ShimButton.react"),{"aria-label":"Close",onClick:h,children:i.jsx(c("MPNDialogMinusButtonSVG.react"),{})})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("ChatPluginReEngagementCollapsedDialog.react",["cx","ChatPluginSetupFlowE2ETestUtils","ChatPluginSetupFlowUtil","ChatPluginTestId","EllipsisText.react","Image.react","LineClamp.react","LiveChatPluginConstants","LiveChatPluginLoggerUtil","MPNConstants","MPNDialogMinusButtonSVG.react","MPNLocalState","MPNNavigation","MPNStorage","MPNXDMessageManager","MessagingPluginContext","ShimButton.react","react","useResizeObserver"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");var j=b.useContext,k=b.useEffect,l=b.useState,m=4e3,n=8e3;function a(a){var b=j(c("MessagingPluginContext")),e=b.state,f=e.alignment,g=e.bottomSpacing,h=e.sideSpacing,o=e.pageProfilePictureUri,p=e.pageName,q=e.pageID,r=e.threadCSSColor,s=e.windowSize,t=e.pluginMountTime,u=e.collapsedOptInMessageText,v=e.collapsedOptInMessageTitle,w=e.shouldUseAccessTokenAuth;e=l(!1);var x=e[0],y=e[1],z=s==="compact",A=function(){var a=z?d("LiveChatPluginConstants").RE_ENGAGEMENT_COLLAPSED_DIALOG_HEIGHT_COMPACT:d("LiveChatPluginConstants").RE_ENGAGEMENT_COLLAPSED_DIALOG_HEIGHT,b=z?d("LiveChatPluginConstants").MAIN_IFRAME_PADDING_HEIGHT_WITH_COMPACT:d("LiveChatPluginConstants").MAIN_IFRAME_PADDING_HEIGHT;a=a+b;c("MPNXDMessageManager").resizeIframe(a)};e=c("useResizeObserver")(function(a,b){A()});s=f==="left";f=s?"_a968":"_a969";g=(g=g)!=null?g:0;g=g+d("ChatPluginSetupFlowUtil").ENTRY_POINT_HEIGHT+d("ChatPluginSetupFlowUtil").SPACING_WITH_LABEL;h=(h=h)!=null?h:0;h=s?{left:h+"px"}:{right:h+"px"};g=a.isPreview&&a.isMobile?babelHelpers["extends"]({bottom:g,position:"absolute"},h):null;k(function(){c("MPNXDMessageManager").subscribeEvent("plugin_welcome_message_page","message","navigateToWelcomePage",function(c){d("MPNNavigation").navigateToRoute(b,a.history,d("MPNLocalState").MPNLocalStatePath.WELCOME_PAGE,!1)});d("LiveChatPluginLoggerUtil").logImpressionUsingXController_SafeFor3PD(w,q,"re_engagement_collapsed_view",t);return function(){c("MPNXDMessageManager").unsubscribeEvent("plugin_welcome_message_page","message","navigateToWelcomePage")}},[w,b,a.history,q,t]);k(function(){if(a.isMobile){var e=null,f=null;x||(e=window.setTimeout(function(){c("MPNStorage").setVisibility(d("MPNConstants").MPNVisibility.NOT_HIDDEN),b.dispatchAction({type:"UPDATE_DIALOG_VISIBILITY",dialogVisibility:d("MPNConstants").MPNVisibility.NOT_HIDDEN}),c("MPNXDMessageManager").toggleDialogVisibility(!1),y(!0)},m));x&&(f=window.setTimeout(function(){d("MPNNavigation").minimizePlugin(b,!1),d("MPNNavigation").navigateToRoute(b,a.history,d("MPNLocalState").MPNLocalStatePath.WELCOME_PAGE,!1)},n));return function(){e&&window.clearTimeout(e),f&&window.clearTimeout(f)}}},[b,a.history,a.isMobile,x]);h=function(){if(a.minimize)a.minimize();else{var c=b.state,e=c.greetingDialogDisplay;c=c.optimisticStorageState;d("MPNNavigation").minimizePlugin(b,!1);e=e==="welcome_message"||e==="hide";c=c.isGreetingDismissed!==!0&&e;e=!a.isMobile&&c?d("MPNLocalState").MPNLocalStatePath.BUBBLE:d("MPNLocalState").MPNLocalStatePath.WELCOME_PAGE;d("MPNNavigation").navigateToRoute(b,a.history,e,!1);d("MPNNavigation").dismissReEngagementDialog(b);d("LiveChatPluginLoggerUtil").logActionFromNewUI("tab_click",null,q,"re_engagement_collapsed_view",{button_name:"re_engagement_collapsed_view_minus_button"})}};var B=function(){d("MPNNavigation").minimizeGreetingDialog(b),d("MPNNavigation").navigateToRoute(b,a.history,d("MPNLocalState").MPNLocalStatePath.REENGAGEMENT_EXPANDED_VIEW),d("LiveChatPluginLoggerUtil").logActionFromNewUI("tab_click",null,q,"re_engagement_collapsed_view",{button_name:"re_engagement_see_details"})};return i.jsxs("div",{style:g,ref:e,className:(a.isPreview?"":"_a9vy")+(!a.isPreview&&s?" _abip":"")+(!a.isPreview&&!s?" _abiq":""),children:[i.jsxs("div",{"data-testid":void 0,className:"_a961",children:[i.jsx("div",{children:i.jsxs("div",{className:"_a962",children:[i.jsx("div",{children:i.jsx(c("Image.react"),{className:"_a963",src:o})}),i.jsx("div",{className:"_a964",children:i.jsx("span",{children:p})})]})}),i.jsx("div",{className:"_a965",children:i.jsx(c("LineClamp.react"),{lines:1,children:v})}),i.jsx("div",{className:"_a966",children:i.jsx(c("LineClamp.react"),{lines:3,children:u})}),i.jsx(c("ShimButton.react"),{className:"_a967",style:{backgroundColor:r},"data-testid":void 0,onClick:B,children:i.jsx(c("EllipsisText.react"),{className:"continueText _4mr9",children:"See details"})})]}),i.jsx("div",{className:f,children:i.jsx(c("ShimButton.react"),{"data-testid":void 0,onClick:h,className:"_9pti _9l4n","aria-label":"Close",children:i.jsx(c("MPNDialogMinusButtonSVG.react"),{})})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("ChatPluginEntryPointPreviewIcon.react",["ChatPluginEntryPointIconEnum","ChatPluginEntryPointLabelEnum","ChatPluginSetupFlowListOfIcons.react","ChatPluginSetupFlowUtil","LiveChatPluginFbts","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={root:{alignItems:"x6s0dn4",borderTopStartRadius:"x1w81jfy",borderTopEndRadius:"x1woorlc",borderBottomEndRadius:"x1vqwhq1",borderBottomStartRadius:"x1veg39d",display:"x78zum5",flexDirection:"x1q0g3np",justifyContent:"xl56j7k",userSelect:"x87ps6o",$$css:!0},rootIconOnly:{height:"xng8ra",width:"x1247r65",$$css:!0},rootIconOnlyCompact:{height:"xn3w4p2",width:"x187nhsf",$$css:!0},rootLabeledEntryPoint:{height:"xn3w4p2",width:"xeq5yr9",$$css:!0},rootLabeledEntryPointCompact:{height:"xc9qbxq",width:"xeq5yr9",$$css:!0},icon:{alignItems:"x6s0dn4",display:"x78zum5",$$css:!0},marginLeft:{marginLeft:"x16vho4v",$$css:!0},marginLeftCompact:{marginLeft:"x1iog12x",$$css:!0},iconWithLabel:{alignItems:"x6s0dn4",display:"x78zum5",flexDirection:"x1q0g3np",$$css:!0},padding:{paddingLeft:"xzjhap9",paddingRight:"xyfqnmn",$$css:!0},paddingCompact:{paddingLeft:"xf18ygs",paddingRight:"x19tmk5i",$$css:!0},labelOnly:{paddingLeft:"xnm25rq",paddingRight:"xyfqnmn",$$css:!0},labelOnlyCompact:{paddingLeft:"xzjhap9",paddingRight:"x19tmk5i",$$css:!0},label:{whiteSpace:"xuxw1ft",color:"x1awj2ng",display:"x78zum5",fontFamily:"xoz4hqq",fontStyle:"x1j61x8r",fontWeight:"x1s688f",$$css:!0},labelFontSize:{fontSize:"x1lkfr7t",$$css:!0},labelFontSizeCompact:{fontSize:"x6prxxf",$$css:!0}};function a(a){var b,e,f=a.entryPointIcon,g=a.entryPointLabel,j=a.themeColor;a=a.entryPointSize;b=(b=c("ChatPluginEntryPointLabelEnum").cast(d("ChatPluginSetupFlowUtil").DEFAULT_STATE.customizationConfig.entryPointLabel))!=null?b:"none";e=(e=c("ChatPluginEntryPointIconEnum").cast(d("ChatPluginSetupFlowUtil").DEFAULT_STATE.customizationConfig.entryPointIcon))!=null?e:"messenger_icon";g=(g=c("ChatPluginEntryPointLabelEnum").cast(g))!=null?g:b;f=(b=c("ChatPluginEntryPointIconEnum").cast(f))!=null?b:e;b=g==="none";e=f!=="none";j={backgroundColor:j};var k=a==="compact",l=k?i.rootIconOnlyCompact:i.rootIconOnly;l=h.jsx("div",{style:j,className:c("stylex")(i.root,l),children:h.jsx("div",{className:"x6s0dn4 x78zum5",children:d("ChatPluginSetupFlowListOfIcons.react").getMainIconFilledWithColor(f,"white",a)})});var m=k?i.rootLabeledEntryPointCompact:i.rootLabeledEntryPoint,n=k?i.paddingCompact:i.padding,o=k?i.marginLeftCompact:i.marginLeft,p=k?i.labelFontSizeCompact:i.labelFontSize;n=h.jsx("div",{style:j,className:c("stylex")(i.root,m),children:h.jsxs("span",{className:c("stylex")(i.iconWithLabel,n),children:[d("ChatPluginSetupFlowListOfIcons.react").getSideIconFilledWithWhite(f,a),h.jsx("div",{className:c("stylex")(i.label,p,o),children:d("LiveChatPluginFbts").getEntryPointLabelText(g)})]})});f=k?i.labelOnlyCompact:i.labelOnly;a=h.jsx("div",{style:j,className:c("stylex")(i.root,m),children:h.jsx("div",{className:c("stylex")(i.label,p,f),children:d("LiveChatPluginFbts").getEntryPointLabelText(g)})});return b?l:e?n:a}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("ChatPluginEntryPointPreview.react",["ChatPluginEntryPointPreviewIcon.react","ChatPluginSetupFlowContext","ChatPluginSetupFlowE2ETestUtils","ChatPluginSetupFlowUtil","ClickableArea.react","PrivacyTransparentOverlay.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useContext;function a(a){var b=a.themeColor,e=a.onClick;a=a.entryPointSize;var f=i(c("ChatPluginSetupFlowContext"));f=f.state;var g=f.availabilityStatus;f=f.customizationConfig;var j=f.entryPointIcon,k=f.entryPointLabel;f=f.awayHoursEnabled;f=f&&g===d("ChatPluginSetupFlowUtil").AwayStatus.AVAILABLE;g=f?h.jsx("div",{className:"xe800k8 x14yjl9h xudhj91 x18nykt9 xww2gxu x10l6tqk x193w9l0 xwn0hun x1cgajf x1y02lfj x170jfvy x1fsd2vl x1xhlmw5 x1ct4eev"}):null;f=h.jsxs(c("PrivacyTransparentOverlay.react"),{children:[h.jsx(c("ChatPluginEntryPointPreviewIcon.react"),{entryPointIcon:j,entryPointLabel:k,themeColor:b,entryPointSize:a}),g]});return h.jsx(c("ClickableArea.react"),{onClick:e,children:h.jsx("div",{className:"x14yjl9h xudhj91 x18nykt9 xww2gxu x1feglwu x1ypdohk xg7h5cd xeq5yr9","data-testid":void 0,children:f})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("ChatPluginSetupFlowDesktopPreviewFrame.react",["cx","ChatPluginEntryPointPreview.react","ChatPluginSetupFlowE2ETestUtils","ChatPluginSetupFlowUtil","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){var b=a.alignment,e=a.bottomSpacing,f=a.sideSpacing,g=a.entryPointIcon,h=a.entryPointSize,j=a.children,k=a.threadCSSColor;a=a.onMessengerIconClick;b=b==="left";f=(f=f)!=null?f:d("ChatPluginSetupFlowUtil").DEFAULT_STATE.customizationConfig.mobileSideSpacing;k=(k=k)!=null?k:d("ChatPluginSetupFlowUtil").MESSENGER_BLUE;g=(g=g)!=null?g:d("ChatPluginSetupFlowUtil").DEFAULT_STATE.customizationConfig.entryPointIcon;h=(h=h)!=null?h:d("ChatPluginSetupFlowUtil").DEFAULT_STATE.customizationConfig.desktopEntryPointSize;return i.jsx("div",{"data-testid":void 0,className:"_9oho",children:i.jsxs("div",{style:b?{left:f,bottom:e}:{right:f,bottom:e},className:"_9ohp"+(b?"":" _9ohr"),children:[i.jsx("div",{className:"_9ohs",children:j}),i.jsx(c("ChatPluginEntryPointPreview.react"),{entryPointIcon:g,themeColor:k,onClick:a,entryPointSize:h})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("ChatPluginSetupFlowFullMobilePreviewFrame.react",["cx","ChatPluginEntryPointPreview.react","ChatPluginSetupFlowE2ETestUtils","ChatPluginSetupFlowUtil","FlexLayout.react","debounce","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");var j=b.useCallback,k=b.useEffect,l=b.useRef,m=b.useState,n=425,o=800,p=24;function a(a){var b=a.alignment,e=a.bottomSpacing,f=a.sideSpacing,g=a.entryPointIcon,h=a.entryPointSize,q=a.children,r=a.dialogVisible,s=a.threadCSSColor,t=a.onMessengerIconClick;a=a.containWelcomeMessage;e=(e=e)!=null?e:d("ChatPluginSetupFlowUtil").DEFAULT_STATE.customizationConfig.mobileBottomSpacing;b=b==="left";f=(f=f)!=null?f:d("ChatPluginSetupFlowUtil").DEFAULT_STATE.customizationConfig.mobileSideSpacing;s=(s=s)!=null?s:d("ChatPluginSetupFlowUtil").MESSENGER_BLUE;g=(g=g)!=null?g:d("ChatPluginSetupFlowUtil").DEFAULT_STATE.customizationConfig.entryPointIcon;h=(h=h)!=null?h:d("ChatPluginSetupFlowUtil").DEFAULT_STATE.customizationConfig.mobileEntryPointSize;var u=function(){v.current&&y(Math.min(1,Math.min(v.current.clientHeight/(o+p*2),v.current.clientWidth/(n+p*2))))},v=l(null),w=m(1),x=w[0],y=w[1];w=j(function(a){v.current=a,u()},[]);k(function(){var a=c("debounce")(function(){return u()},250);window.addEventListener("resize",a);return function(){window.removeEventListener("resize",u)}},[]);return i.jsx(c("FlexLayout.react"),{containerRef:w,justify:"center",align:"center",className_DO_NOT_USE:"_9oho",children:i.jsx("div",{"data-testid":void 0,className:"x12peec7 x1w81jfy x1woorlc x1vqwhq1 x1veg39d x1nd75as x78zum5 x3urnb8 x1nrll8i x10l6tqk x1x0by9y",style:{transform:"translateX(-50%) scale("+x+")"},children:i.jsxs("div",{className:"_9l40 _9l4m",children:[i.jsx("div",{style:b?{left:f,bottom:e}:{right:f,bottom:e},className:"_9oht _9kkq",children:i.jsx(c("ChatPluginEntryPointPreview.react"),{entryPointIcon:g,themeColor:s,onClick:t,entryPointSize:h})}),r?q:a===!0?q:null]})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MPNSwitchAccountActionButton.react",["cx","ix","CometPressable.react","Image.react","MessagingPluginContext","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=d("react").useContext;function a(a){var b=k(c("MessagingPluginContext"));b=b.state.viewerProfilePicureUri;var d=a.onPress;a=a.testid;return j.jsx("div",{className:"_a6se",children:j.jsxs(c("CometPressable.react"),{onPress:d,overlayRadius:6,testid:void 0,children:[j.jsx(c("Image.react"),{className:"_a6sd _a6sc",src:b}),j.jsx(c("Image.react"),{className:"_a6sb",src:i("481882")})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MPNDropdownMenuAlignment",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum").Mirrored(["TOP","BOTTOM"]);c=a;f["default"]=c}),66);
__d("MPNDropdownMenu",["cx","MPNDropdownMenuAlignment","joinClasses","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){var b=a.className,d=a.children,e=a["data-testid"];e=a.alignment;a=e===void 0?c("MPNDropdownMenuAlignment").BOTTOM:e;e=void 0;switch(a){case c("MPNDropdownMenuAlignment").TOP:e="_a2-b";break;case c("MPNDropdownMenuAlignment").BOTTOM:e="_a2-c";break}a=c("joinClasses")("_a2zy",b,e);return i.jsx("div",{className:a,"data-testid":void 0,children:d})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MPNDropdownMenuItem",["cx","CometMenuContext","Image.react","ShimButton.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");var j=b.useCallback,k=b.useContext;function a(a){var b=a.primaryText,d=a.onClick,e=a.iconSrc,f=a.classNameString;a=a["data-testid"];a=k(c("CometMenuContext"));var g=a&&a.onClose;a=j(function(a){g!=null&&g(),d&&d(a)},[d,g]);var h=e!==void 0,l=f!==void 0;return i.jsxs(c("ShimButton.react"),{"data-testid":void 0,className:l?f:"_a1ql"+(h?" _a5cd":""),onClick:a,children:[h&&i.jsx(c("Image.react"),{className:"_a2zw",src:e}),b]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MPNSwitchAccountDropDownMenu.react",["cx","fbt","MPNDropdownMenu","MPNDropdownMenuItem","MessagingPluginContext","MessagingPluginThreadActions","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=d("react").useContext;function a(a){var b=k(c("MessagingPluginContext"));return j.jsx(c("MPNDropdownMenu"),{"data-testid":void 0,className:"_a1qk _a8d1",children:j.jsx(c("MPNDropdownMenuItem"),{"data-testid":void 0,onClick:function(){d("MessagingPluginThreadActions").switchAccount(b)},primaryText:i._("Switch accounts")})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MPNDesktopLoginModal.react",["cx","LineClamp.react","LiveChatPluginFbts","MPNDesktopWelcomePageBottomButtons.react","MPNIdentity","MPNPrivacyText.react","MPNSwitchAccountActionButton.react","MPNSwitchAccountDropDownMenu.react","MessagingPluginContext","emptyFunction","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");var j=b.useContext,k=b.useEffect,l=b.useRef,m=b.useState;function a(a){var b=a.useITPContinueButton,e=a.isPreview,f=d("MPNIdentity").MPNIdentity.currentUserState()==d("MPNIdentity").MPNIdentityState.FB,g=j(c("MessagingPluginContext"));g=g.state;var h=m(!1),n=h[0],o=h[1],p=l(null),q=l(null);k(function(){function a(a){var b;a=a.target;p&&a instanceof Node&&!((b=p.current)==null?void 0:b.contains(a))&&q&&a instanceof Node&&!((b=q.current)==null?void 0:b.contains(a))&&o(!1)}Event.listen(document,"mousedown",a);return function(){document.removeEventListener("mousedown",a)}},[p,q]);return i.jsx("div",{className:g.windowSize==="compact"?"_a3u7":"",children:i.jsxs("div",{className:"_a8d2",children:[i.jsxs("div",{className:"_a6zi",children:[i.jsx("div",{className:"_a6zj"}),i.jsx("div",{className:"_a6zl",children:i.jsx(c("LineClamp.react"),{lines:1,children:d("LiveChatPluginFbts").LOGIN_PAGE_TITLE})}),i.jsx("div",{className:"_9dzn _a6zm"+(e?" _9l3-":""),children:f?i.jsx(c("MPNSwitchAccountActionButton.react"),{onPress:function(){o(!0)},testid:void 0}):null})]}),n&&i.jsx("div",{ref:q,className:"_a1qk",children:i.jsx(c("MPNSwitchAccountDropDownMenu.react"),{onClose:c("emptyFunction")})}),i.jsx(c("MPNDesktopWelcomePageBottomButtons.react"),babelHelpers["extends"]({},a,{isReengagementDialog:!1})),i.jsx(c("MPNPrivacyText.react"),{useITPContinueButton:b})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MPNNewWelcomePageButtom.react",["cx","EllipsisText.react","LiveChatPluginFbts","LiveChatPluginLoggerUtil","MPNIdentity","MessagingPluginContext","ShimButton.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var e=b.prototype;e.componentDidMount=function(){var a=d("MPNIdentity").MPNIdentity.currentUserState()===d("MPNIdentity").MPNIdentityState.FB;this.props.shouldShowLoginPage===!0&&a&&window.setTimeout(this.props.onClick,600)};e.componentDidUpdate=function(a){var b=d("MPNIdentity").MPNIdentity.currentUserState()===d("MPNIdentity").MPNIdentityState.FB;a.hasGuestMode!==this.props.hasGuestMode&&b&&this.props.onClick()};e.render=function(){var a=this.context.state,b=a.threadCSSColor,e=a.isPageAway,f=a.awayHoursEnabled,g=a.pageID,h=a.hasGuestMode,j=this.props.onClick;a=f?e?d("LiveChatPluginFbts").SEND_A_MESSAGE:d("LiveChatPluginFbts").CHAT_NOW_BUTTON_TEXT:d("LiveChatPluginFbts").START_CHAT_BUTTON_TEXT;var k=f?e?"send_a_message":"chat_now":"start_chat";return i.jsx("div",{className:"_a6s8",children:i.jsx("div",{className:"_a6s9",children:i.jsx(c("ShimButton.react"),{onClick:function(){j(),d("LiveChatPluginLoggerUtil").logActionFromNewUI("tab_click",null,g,h?"welcome_page_with_guest_option":"welcome_page",{button_name:k})},className:"_a2zm",style:{backgroundColor:b},"data-testid":void 0,children:i.jsx(c("EllipsisText.react"),{className:"continueText _4mr9",children:a})})})})};return b}(i.Component);a.contextType=c("MessagingPluginContext");g["default"]=a}),98);
__d("MPNPageResponsivenessText.react",["cx","DateTime","LineClamp.react","LiveChatPluginFbts","MessagingPluginContext","Timezone","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=d("react").useContext;function a(a){a=j(c("MessagingPluginContext"));a=a.state;var b=a.nextAvailableTimestamp,e=a.awayHoursEnabled,f=a.isPageAway;a=a.pageResponsiveness;var g=null;if(e&&f){if(b!=null){f=d("Timezone").getEnvironmentTimezoneID();b=new(c("DateTime"))(b,f);f=b.getDayOfWeek();b=d("LiveChatPluginFbts").getPageReturnTimeText(f);g=b==null?void 0:b.toString()}}else e&&(g=a);return i.jsx(c("LineClamp.react"),{lines:1,className:"_a2zs",children:g})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MessagingPluginDesktopInformationDropDownMenu.react",["cx","fbt","MPNDropdownMenu","MPNDropdownMenuItem","MessagingPluginContext","URI","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=d("react").useContext;function a(a){a=k(c("MessagingPluginContext"));var b=a.state.pageID;return j.jsxs(c("MPNDropdownMenu"),{"data-testid":void 0,className:"_9r8t",children:[j.jsx(c("MPNDropdownMenuItem"),{"data-testid":void 0,onClick:function(){c("URI").goURIOnNewWindow("https://www.facebook.com/"+b)},primaryText:i._("Visit Facebook Page")}),j.jsx(c("MPNDropdownMenuItem"),{"data-testid":void 0,onClick:function(){c("URI").goURIOnNewWindow("https://www.facebook.com/business/m/add-messenger-to-your-website")},primaryText:i._("Add Messenger to your website")})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MPNDesktopWelcomePageModalView.react",["cx","fbt","BasePopoverTrigger.react","ChatPluginMessengerAttribution.react","ChatPluginSetupFlowE2ETestUtils","FlexLayout.react","LineClamp.react","LiveChatPluginConstants","LiveChatPluginFbts","LiveChatPluginLoggerUtil","MPNConstants","MPNDesktopLoginModal.react","MPNHeaderActionButton.react","MPNIdentity","MPNLocalState","MPNMinusButtonSVG.react","MPNMoreInfoButtonSVG.react","MPNNavigation","MPNNewWelcomePageButtom.react","MPNPageResponsivenessText.react","MPNStorage","MPNVerifiedBadge.react","MPNXDMessageManager","MessagingPluginContext","MessagingPluginDesktopInformationDropDownMenu.react","MessagingPluginDesktopProfilePicture.react","react","useResizeObserver"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");b=d("react");var k=b.useContext,l=b.useEffect,m=b.useRef,n=b.useState,o=18,p=16;function a(a){var b=k(c("MessagingPluginContext")),e=b.state,f=e.pageVerifiedStatus,g=e.alignment,h=e.hasGuestMode,q=e.pageName,r=e.loggedInGreeting,s=e.loggedOutGreeting,t=e.pageID,u=e.windowSize,v=e.awayGreeting,w=e.awayHoursEnabled,x=e.isPageAway,y=e.shouldRenderReEngagementDialog,z=e.optimisticStorageState,A=e.greetingDialogDisplay;e=e.shouldUseAccessTokenAuth;e=n(!1);var B=e[0],C=e[1],D=m(null),E=m(null);l(function(){function a(a){var b;a=a.target;D&&a instanceof Node&&!((b=D.current)==null?void 0:b.contains(a))&&E&&a instanceof Node&&!((b=E.current)==null?void 0:b.contains(a))&&(C(!1),c("MPNStorage").clearRedirectCommand(),c("MPNXDMessageManager").updateShouldShowLoginPage(!1))}document.addEventListener("mousedown",a);return function(){document.removeEventListener("mousedown",a)}},[D,E]);e=d("MPNIdentity").MPNIdentity.currentUserState()==d("MPNIdentity").MPNIdentityState.FB;q=i._("Chat with {pageName}",[i._param("pageName",q)]);var F=u==="compact",G=function(a,b){var e=F?d("LiveChatPluginConstants").WELCOME_PAGE_GUEST_FALLBACK_HEIGHT_WITH_COMPACT:d("LiveChatPluginConstants").WELCOME_PAGE_GUEST_FALLBACK_HEIGHT,f=F?d("LiveChatPluginConstants").WELCOME_PAGE_NO_GUEST_FALLBACK_HEIGHT_WITH_COMPACT:d("LiveChatPluginConstants").WELCOME_PAGE_NO_GUEST_FALLBACK_HEIGHT,g=F?d("LiveChatPluginConstants").MAIN_IFRAME_PADDING_HEIGHT_WITH_COMPACT:d("LiveChatPluginConstants").MAIN_IFRAME_PADDING_HEIGHT,h=F?d("LiveChatPluginConstants").WELCOME_PAGE_ATTRIBUTION_OFFSET_HEIGHT_WITH_COMPACT:d("LiveChatPluginConstants").WELCOME_PAGE_ATTRIBUTION_OFFEST_HEIGHT;a=a?e:f;b instanceof HTMLElement&&(a=b.offsetHeight);e=a+g+h;c("MPNXDMessageManager").resizeIframe(e)};u=c("useResizeObserver")(function(a,b){G(h,b)});var H=F?p:o,I=F?d("MPNConstants").MPNAvailablityIconSize.MEDIUM:d("MPNConstants").MPNAvailablityIconSize.LARGE,J=F?"_a3jw":"_a3jx";r=e?r:(e=s)!=null?e:d("LiveChatPluginFbts").DEFAULT_LOGGED_IN_GREETING_TEXT;e=(s=v)!=null?s:d("LiveChatPluginFbts").DEFAULT_AWAY_GREETING_TEXT.toString();v=w&&x?e:r;var K=function(){var a=d("MPNIdentity").MPNIdentity.currentUserID();if(a==null)return;d("LiveChatPluginLoggerUtil").logActionFromNewUI("chat_plugin_minimize",a,t,"welcome_page")};s=j.jsx("div",{ref:D,className:"_9l4n",children:j.jsx(c("MPNNewWelcomePageButtom.react"),{onClick:function(){C(!0);var a=c("MPNStorage").getFBStorageState();a!=null&&c("MPNStorage").setFBStorageState(babelHelpers["extends"]({},a,{rdr:d("MPNConstants").MPNRedirect.SHOW_LOGIN_PAGE}));c("MPNXDMessageManager").updateShouldShowLoginPage(!0)},shouldShowLoginPage:a.shouldShowLoginPage,hasGuestMode:h})});var L=function(){var c=A==="welcome_message"||A==="hide";d("MPNNavigation").navigateToRoute(b,a.history,d("MPNLocalState").MPNLocalStatePath.REENGAGEMENT_COLLAPSED_VIEW);z.isGreetingDismissed!==!0&&c&&d("MPNNavigation").maximizeGreetingDialog(b)};return j.jsxs("div",{"data-testid":void 0,ref:u,className:"_94vf"+(g==="left"?" _9pmu":"")+(g==="right"?" _9pmv":""),onClick:function(a){a.stopPropagation()},role:"none",children:[j.jsx("div",{className:B?"_a6s5":"",children:j.jsxs("div",{className:"welcomePageModalSheetContent",children:[j.jsxs("div",{className:"_a2zp",children:[j.jsx(c("MessagingPluginDesktopProfilePicture.react"),{className:J,availablityIconSize:I}),j.jsx("div",{className:"_9dxh"}),j.jsxs("div",{className:"_9dzn",children:[j.jsx(c("BasePopoverTrigger.react"),{popover:c("MessagingPluginDesktopInformationDropDownMenu.react"),popoverProps:{},children:function(a,b){return j.jsx("div",{ref:a,children:j.jsx(c("MPNHeaderActionButton.react"),{testid:void 0,label:i._("More"),onPress:b,children:j.jsx(c("MPNMoreInfoButtonSVG.react"),{})})})}}),j.jsx("div",{"data-testid":void 0,className:"_9q4i",children:j.jsx(c("MPNHeaderActionButton.react"),{label:i._("close"),onPress:function(){var b;y?L():(b=a.ActionDelegate)==null?void 0:b.minimize();K()},children:j.jsx(c("MPNMinusButtonSVG.react"),{})})})]})]}),j.jsxs(c("FlexLayout.react"),{align:"center",className_DO_NOT_USE:"_a2zr",children:[j.jsx(c("LineClamp.react"),{lines:1,children:j.jsx("strong",{children:q})}),f&&f!=="not_verified"?j.jsx("span",{className:"_a2m5",children:j.jsx(c("MPNVerifiedBadge.react"),{verificationStatus:f,size:H})}):null]}),j.jsx(c("MPNPageResponsivenessText.react"),{}),j.jsx(c("LineClamp.react"),{lines:3,className:"_a2zt _a6s6",children:v}),s,j.jsx(c("ChatPluginMessengerAttribution.react"),{})]})}),j.jsx("div",{ref:E,className:"_a8d4 _9l4n",children:B&&j.jsx("div",{className:"_a6w9",children:j.jsx("div",{className:"_a8d3",children:j.jsx(c("MPNDesktopLoginModal.react"),babelHelpers["extends"]({},a,{isPreview:a.isPreview}))})})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("LiveChatPluginCloseButtonSVG.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.render=function(){return h.jsx("svg",{width:"10px",height:"10px",viewBox:"0 0 14 14",children:h.jsx("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:h.jsx("g",{transform:"translate(-419.000000, -413.000000)",children:h.jsx("g",{transform:"translate(164.000000, 396.000000)",children:h.jsx("g",{children:h.jsx("g",{transform:"translate(250.000000, 12.000000)",children:h.jsx("g",{children:h.jsxs("g",{children:[h.jsx("rect",{opacity:"0.200000003",x:"0",y:"0",width:"24",height:"24"}),h.jsxs("g",{transform:"translate(4.000000, 4.000000)",fill:"#000000",children:[h.jsx("rect",{transform:"translate(8.000000, 8.000000) rotate(45.000000) translate(-8.000000, -8.000000) ",x:"7",y:"-1",width:"2",height:"18",rx:"1"}),h.jsx("rect",{transform:"translate(8.000000, 8.000000) rotate(135.000000) translate(-8.000000, -8.000000) ",x:"7",y:"-1",width:"2",height:"18",rx:"1"})]})]})})})})})})})})};return b}(h.PureComponent);g["default"]=a}),98);
__d("MPNMobileLoginModal.react",["cx","LineClamp.react","LiveChatPluginFbts","MPNIdentity","MPNMobileWelcomePageBottomButtons.react","MPNPrivacyText.react","MPNSwitchAccountActionButton.react","MPNSwitchAccountDropDownMenu.react","MessagingPluginContext","emptyFunction","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");var j=b.useContext,k=b.useEffect,l=b.useRef,m=b.useState;function a(a){var b=a.useITPContinueButton,e=j(c("MessagingPluginContext"));e=e.state;var f=e.shouldShowMobileInWebChat;e=e.mobileOptin;var g=d("MPNIdentity").MPNIdentity.currentUserState()==d("MPNIdentity").MPNIdentityState.FB,h=m(!1),n=h[0],o=h[1],p=l(null),q=l(null);k(function(){function a(a){var b;a=a.target;p&&a instanceof Node&&!((b=p.current)==null?void 0:b.contains(a))&&q&&a instanceof Node&&!((b=q.current)==null?void 0:b.contains(a))&&o(!1)}Event.listen(document,"mousedown",a);return function(){document.removeEventListener("mousedown",a)}},[p,q]);return i.jsxs("div",{className:"_a8d2",children:[i.jsxs("div",{className:"_a6zi",children:[i.jsx("div",{className:"_a6zj"}),i.jsx("div",{className:"_a6zl",children:i.jsx(c("LineClamp.react"),{lines:1,children:d("LiveChatPluginFbts").LOGIN_PAGE_TITLE})}),i.jsx("div",{className:"_9dzn _a6zm"+(a.isPreview?" _9l3-":""),children:g&&f===!0&&e==="chat_tab"?i.jsx(c("MPNSwitchAccountActionButton.react"),{onPress:function(){o(!0)}}):null})]}),n&&i.jsx("div",{ref:q,className:"_a1qk",children:i.jsx(c("MPNSwitchAccountDropDownMenu.react"),{onClose:c("emptyFunction")})}),i.jsx(c("MPNMobileWelcomePageBottomButtons.react"),babelHelpers["extends"]({},a,{isReEngagementDialog:!1})),i.jsx(c("MPNPrivacyText.react"),{useITPContinueButton:b})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MPNMobileWelcomePageModalPreview.react",["cx","fbt","ChatPluginMessengerAttribution.react","ChatPluginSetupFlowE2ETestUtils","LineClamp.react","LiveChatPluginCloseButtonSVG.react","LiveChatPluginFbts","MPNConstants","MPNHeaderActionButton.react","MPNMobileLoginModal.react","MPNMoreInfoButtonSVG.react","MPNNewWelcomePageButtom.react","MPNPageResponsivenessText.react","MPNVerifiedBadge.react","MessagingPluginContext","MessagingPluginMobileProfilePicture.react","emptyFunction","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={shouldShowBackground:!0,shouldShowLoginPage:!1},c.$1=j.createRef(),c.$2=j.createRef(),c.handleClickOutside=function(a){var b;a=a.target;c.$1&&a instanceof Node&&!((b=c.$1.current)==null?void 0:b.contains(a))&&c.$2&&a instanceof Node&&!((b=c.$2.current)==null?void 0:b.contains(a))&&c.setState({shouldShowLoginPage:!1})},c.$4=function(){c.setState({shouldShowBackground:!1}),c.props.updateVisibility()},b)||babelHelpers.assertThisInitialized(c)}var e=b.prototype;e.componentDidMount=function(){window.addEventListener("mousedown",this.handleClickOutside)};e.componentWillUnmount=function(){window.removeEventListener("mousedown",this.handleClickOutside)};e.render=function(){return j.jsxs("div",{"data-testid":void 0,children:[j.jsx("div",{role:"none",className:this.state.shouldShowBackground?"_92bp":"_92bq"}),this.$3()]})};e.$3=function(){var a=this,b=this.context.state,e=b.pageVerifiedStatus,f=b.loggedInGreeting,g=b.awayGreeting,h=b.awayHoursEnabled;b=b.isPageAway;var k=this.context.state;k=i._("Chat with {pageName}",[i._param("pageName",k.pageName)]);f=(f=f)!=null?f:d("LiveChatPluginFbts").DEFAULT_LOGGED_IN_GREETING_TEXT.toString();g=(g=g)!=null?g:d("LiveChatPluginFbts").DEFAULT_AWAY_GREETING_TEXT.toString();h=h&&b===!0?g:f;b=j.jsx("div",{className:"_9q4i",ref:this.$1,children:j.jsx(c("MPNNewWelcomePageButtom.react"),{onClick:function(){a.setState({shouldShowLoginPage:!0})},shouldShowLoginPage:!1,hasGuestMode:this.context.state.hasGuestMode})});return j.jsxs("div",{className:this.state.shouldShowBackground?"_908c":"_9jhn",role:"none",children:[j.jsx("div",{className:this.state.shouldShowLoginPage?"_a6s5":"",children:j.jsxs("div",{className:"welcomePageModalSheetContent",children:[j.jsxs("div",{className:"_a2zp",children:[j.jsx(c("MessagingPluginMobileProfilePicture.react"),{className:"_a3jx",availablityIconSize:d("MPNConstants").MPNAvailablityIconSize.LARGE}),j.jsx("div",{className:"_9dxh"}),j.jsxs("div",{className:"_9dzn",children:[j.jsx(c("MPNHeaderActionButton.react"),{label:i._("More"),onPress:c("emptyFunction"),children:j.jsx(c("MPNMoreInfoButtonSVG.react"),{})}),j.jsx("div",{className:"_9kkq",children:j.jsx(c("MPNHeaderActionButton.react"),{label:i._("close"),onPress:this.$4,testid:void 0,children:j.jsx(c("LiveChatPluginCloseButtonSVG.react"),{})})})]})]}),j.jsxs(c("LineClamp.react"),{className:"_a2zr",lines:1,children:[j.jsx("strong",{children:k}),e&&e!=="not_verified"?j.jsx("span",{className:"x1rg5ohu x1e558r4 x1n2onr6 xxk6nc9",children:j.jsx(c("MPNVerifiedBadge.react"),{verificationStatus:e,size:20})}):null]}),j.jsx(c("MPNPageResponsivenessText.react"),{}),j.jsx(c("LineClamp.react"),{className:"_a2zt",lines:3,children:h}),b,j.jsx(c("ChatPluginMessengerAttribution.react"),{})]})}),j.jsx("div",{ref:this.$2,children:this.state.shouldShowLoginPage&&j.jsx("div",{className:"_a6w9 _9l4n",children:j.jsx("div",{className:"_a8d3",children:j.jsx(c("MPNMobileLoginModal.react"),{useITPContinueButton:!1,isPreview:!0})})})})]})};return b}(j.Component);a.contextType=c("MessagingPluginContext");g["default"]=a}),98);
__d("ChatPluginSetupFlowPreview.react",["cx","ix","ChatPluginDesktopReEngagementExpandedDialog.react","ChatPluginDesktopThreadPagePreview.react","ChatPluginDesktopWelcomeMessagePagePreview.react","ChatPluginMobileReEngagementExpandedDialog.react","ChatPluginMobileThreadPagePreview.react","ChatPluginMobileWelcomeMessagePagePreview.react","ChatPluginReEngagementCollapsedDialog.react","ChatPluginSetupFlowContent","ChatPluginSetupFlowContext","ChatPluginSetupFlowDesktopPreviewFrame.react","ChatPluginSetupFlowE2ETestUtils","ChatPluginSetupFlowFullMobilePreviewFrame.react","ChatPluginSetupFlowLoggerUtil","ChatPluginSetupFlowUtil","GeoFlexbox.react","GeoScrollableArea.react","GeoTab.react","GeoTabGroup.react","MPNDesktopWelcomePageModalView.react","MPNIdentity","MPNMobileWelcomePageModalPreview.react","MessagingPluginContext","emptyFunction","fbicon","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=d("fbicon")._(i("607955"),16),l=d("fbicon")._(i("607957"),16),m=506,n=390,o=553,p=d("fbicon")._(i("514771"),16),q=d("fbicon")._(i("514774"),16),r=71,s={tabs:{position:"x7wzq59",paddingBottom:"xsag5q8",paddingTop:"x1xy6bms",borderBottom:"x1smjrre",$$css:!0},visualization:{height:"x5yr21d",flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",flexBasis:"xdl72j9",display:"x78zum5",fontFamily:"xoz4hqq",$$css:!0}};a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var e=b.prototype;e.render=function(){var a=this;return j.jsx(c("ChatPluginSetupFlowContext").Consumer,{children:function(b){var e,f=b.state,g=b.dispatchAction;b=f.previewConfig.previewTabType;var h=b===d("ChatPluginSetupFlowUtil").PreviewTabType.DESKTOP,i=b===d("ChatPluginSetupFlowUtil").PreviewTabType.MOBILE,t=h?k:l,u=i?p:q;d("MPNIdentity").MPNIdentity.changeIdentityToFB();a.context.state=babelHelpers["extends"]({},a.context.state,{alignment:f.customizationConfig.alignment,awayGreeting:f.customizationConfig.awayGreeting,awayHoursEnabled:f.customizationConfig.awayHoursEnabled,isPageAway:f.availabilityStatus===d("ChatPluginSetupFlowUtil").AwayStatus.AWAY,pageName:f.page.pageName,pageVerifiedStatus:f.page.pageVerifiedStatus,loggedInGreeting:f.customizationConfig.loggedInGreeting,loggedOutGreeting:f.customizationConfig.loggedOutGreeting,pageResponsiveness:f.page.pageResponsiveness,hasGuestMode:f.customizationConfig.guestModeEnabled,viewerProfilePicureUri:f.viewerProfilePictureUri,threadCSSColor:(e=f.customizationConfig.themeColor)!=null?e:d("ChatPluginSetupFlowUtil").MESSENGER_BLUE,pageProfilePictureUri:f.page.pageProfilePictureUri,nextAvailableTimestamp:f.nextAvailableTimestamp,windowSize:f.customizationConfig.desktopWindowSize,bottomSpacing:f.customizationConfig.mobileBottomSpacing,sideSpacing:f.customizationConfig.mobileSideSpacing,expandedOptInMessageText:f.reengagementConfig.expandedOptInMessageText});e=null;if(h)switch(f.previewConfig.previewDialogType){case d("ChatPluginSetupFlowUtil").PreviewDialogType.WELCOME_MESSAGE:e=a.renderDesktopWelcomeMessagePreview(f,g);break;case d("ChatPluginSetupFlowUtil").PreviewDialogType.WELCOME_PAGE:e=a.renderDesktopWelcomePageModalPreview(f,g);break;case d("ChatPluginSetupFlowUtil").PreviewDialogType.AUTOMATION:e=a.renderDesktopThreadPagePreview(f,g);break;case d("ChatPluginSetupFlowUtil").PreviewDialogType.RE_ENGAGEMENT_COLLAPSED_DIALOG:e=a.renderReEngagementCollapsedDialogPreview(f,g,!1);break;case d("ChatPluginSetupFlowUtil").PreviewDialogType.RE_ENGAGEMENT_EXPANDED_DIALOG:e=a.renderDesktopReEngagementExpandedDialogPreview(f,g);break}else if(i)switch(f.previewConfig.previewDialogType){case d("ChatPluginSetupFlowUtil").PreviewDialogType.WELCOME_MESSAGE:e=a.renderMobileWelcomeMessagePreview(f,g);break;case d("ChatPluginSetupFlowUtil").PreviewDialogType.WELCOME_PAGE:e=a.renderMobileWelcomePageModalPreview(f,g);break;case d("ChatPluginSetupFlowUtil").PreviewDialogType.AUTOMATION:e=a.renderMobileThreadPagePreview(f,g);break;case d("ChatPluginSetupFlowUtil").PreviewDialogType.RE_ENGAGEMENT_COLLAPSED_DIALOG:e=a.renderReEngagementCollapsedDialogPreview(f,g,!0);break;case d("ChatPluginSetupFlowUtil").PreviewDialogType.RE_ENGAGEMENT_EXPANDED_DIALOG:e=a.renderMobileReEngagementExpandedDialogPreview(f,g);break}h=a.props.cardHeight-r;i=f.previewConfig.previewDialogType===d("ChatPluginSetupFlowUtil").PreviewDialogType.AUTOMATION?o:f.customizationConfig.guestModeEnabled?m:n;i=b===d("ChatPluginSetupFlowUtil").PreviewTabType.DESKTOP?f.customizationConfig.desktopBottomSpacing+i:h;return j.jsxs("div",{className:f.customizationConfig.desktopWindowSize==="compact"&&f.previewConfig.previewTabType===d("ChatPluginSetupFlowUtil").PreviewTabType.DESKTOP?"_a3u7":"",children:[j.jsx(c("GeoFlexbox.react"),{justifyContent:"center",xstyle:s.tabs,children:j.jsxs(c("GeoTabGroup.react"),{onChange:function(a){d("ChatPluginSetupFlowLoggerUtil").log(f,"preview_type_changed",JSON.stringify({preview_type:a})),g({type:"SET_PREVIEW_TAB_TYPE",previewTabType:a})},value:b,children:[j.jsx(c("GeoTab.react"),{"data-testid":void 0,icon:t,label:d("ChatPluginSetupFlowContent").DESKTOP_PREVIEW_TAB,value:d("ChatPluginSetupFlowUtil").PreviewTabType.DESKTOP}),j.jsx(c("GeoTab.react"),{"data-testid":void 0,icon:u,label:d("ChatPluginSetupFlowContent").MOBILE_PREVIEW_TAB,value:d("ChatPluginSetupFlowUtil").PreviewTabType.MOBILE})]})}),j.jsx(c("GeoScrollableArea.react"),{style:{height:h},direction:"vertical",children:j.jsx("span",{className:"x5yr21d x1iyjqo2 xs83m0k xdl72j9 x78zum5 xoz4hqq",style:{minHeight:i},children:e})})]})}})};e.renderMobilePreview=function(a,b,e,f){var g=this;return j.jsx(c("ChatPluginSetupFlowFullMobilePreviewFrame.react"),{alignment:a.customizationConfig.alignment,bottomSpacing:a.customizationConfig.mobileBottomSpacing,sideSpacing:a.customizationConfig.mobileSideSpacing,threadCSSColor:a.customizationConfig.themeColor,entryPointIcon:a.customizationConfig.entryPointIcon,entryPointSize:a.customizationConfig.mobileEntryPointSize,onMessengerIconClick:function(){var c=!a.previewConfig.previewDialogVisible;b({type:"SET_PREVIEW_DIALOG_VISIBLE",previewDialogVisible:c});f===!0&&b({type:"SET_PREVIEW_DIALOG_TYPE",previewDialogType:d("ChatPluginSetupFlowUtil").PreviewDialogType.WELCOME_PAGE});g.logDialogVisibilityToggleClick(a,c)},dialogVisible:a.previewConfig.previewDialogVisible,containWelcomeMessage:f,children:e})};e.renderMobileThreadPagePreview=function(a,b){var d=this;return this.renderMobilePreview(a,b,j.jsx(c("ChatPluginMobileThreadPagePreview.react"),{automationEnabled:a.automationConfig.isEnabled,automationGreetingMessage:a.automationConfig.greetingMessage,automationFaqEnabled:a.automationConfig.isFaqEnabled,automationFaqList:a.automationConfig.faqList,awayMessage:a.awayMessage,availabilityStatus:a.availabilityStatus,awayHoursEnabled:a.customizationConfig.awayHoursEnabled,onClose:function(){var c=!1;b({type:"SET_PREVIEW_DIALOG_VISIBLE",previewDialogVisible:c});d.logDialogVisibilityToggleClick(a,c)}}))};e.renderMobileWelcomePageModalPreview=function(a,b){var d=this;return this.renderMobilePreview(a,b,j.jsx(c("MPNMobileWelcomePageModalPreview.react"),{updateVisibility:function(){var c=!1;b({type:"SET_PREVIEW_DIALOG_VISIBLE",previewDialogVisible:c});d.logDialogVisibilityToggleClick(a,c)},useITPContinueButton:!1}))};e.renderMobileWelcomeMessagePreview=function(a,b){return this.renderMobilePreview(a,b,j.jsx(c("ChatPluginMobileWelcomeMessagePagePreview.react"),{bottomSpacing:a.customizationConfig.mobileBottomSpacing,leftAlignment:a.customizationConfig.alignment==="left",onClose:function(){b({type:"SET_PREVIEW_DIALOG_VISIBLE",previewDialogVisible:!1}),b({type:"SET_PREVIEW_DIALOG_TYPE",previewDialogType:d("ChatPluginSetupFlowUtil").PreviewDialogType.WELCOME_PAGE})},onClick:function(){b({type:"SET_PREVIEW_DIALOG_VISIBLE",previewDialogVisible:!0}),b({type:"SET_PREVIEW_DIALOG_TYPE",previewDialogType:d("ChatPluginSetupFlowUtil").PreviewDialogType.WELCOME_PAGE})},visibility:a.previewConfig.previewDialogType===d("ChatPluginSetupFlowUtil").PreviewDialogType.WELCOME_MESSAGE}),!0)};e.renderMobileReEngagementExpandedDialogPreview=function(a,b){var e={onContinueAsGuest:c("emptyFunction"),onAppSwitchToMessenger:c("emptyFunction"),openThreadWithCurrentFBUser:c("emptyFunction"),openThreadWithInterstitial:c("emptyFunction"),openThreadWithAccessToken:c("emptyFunction"),minimize:function(){b({type:"SET_PREVIEW_DIALOG_TYPE",previewDialogType:d("ChatPluginSetupFlowUtil").PreviewDialogType.RE_ENGAGEMENT_COLLAPSED_DIALOG})},maximize:c("emptyFunction"),togglePluginVisibility:c("emptyFunction")};return this.renderMobilePreview(a,b,j.jsx(c("ChatPluginMobileReEngagementExpandedDialog.react"),{ActionDelegate:e,isPreview:!0}))};e.renderReEngagementCollapsedDialogPreview=function(a,b,d){var e=this;if(d)return this.renderMobilePreview(a,b,j.jsx(c("ChatPluginReEngagementCollapsedDialog.react"),{minimize:function(){var c=!1;b({type:"SET_PREVIEW_DIALOG_VISIBLE",previewDialogVisible:c});e.logDialogVisibilityToggleClick(a,c)},isPreview:!0,isMobile:!0}));else return this.renderDesktopPreview(a,b,j.jsx(c("ChatPluginReEngagementCollapsedDialog.react"),{minimize:function(){var c=!1;b({type:"SET_PREVIEW_DIALOG_VISIBLE",previewDialogVisible:c});e.logDialogVisibilityToggleClick(a,c)},isPreview:!0,isMobile:!1}))};e.renderDesktopPreview=function(a,b,e,f){var g=this;return j.jsx(c("ChatPluginSetupFlowDesktopPreviewFrame.react"),{alignment:a.customizationConfig.alignment,bottomSpacing:a.customizationConfig.desktopBottomSpacing,sideSpacing:a.customizationConfig.desktopSideSpacing,threadCSSColor:a.customizationConfig.themeColor,entryPointIcon:a.customizationConfig.entryPointIcon,entryPointSize:a.customizationConfig.desktopEntryPointSize,onMessengerIconClick:function(){var c=!a.previewConfig.previewDialogVisible;b({type:"SET_PREVIEW_DIALOG_VISIBLE",previewDialogVisible:c});f===!0&&b({type:"SET_PREVIEW_DIALOG_TYPE",previewDialogType:d("ChatPluginSetupFlowUtil").PreviewDialogType.WELCOME_PAGE});g.logDialogVisibilityToggleClick(a,c)},children:a.previewConfig.previewDialogVisible?e:f===!0?e:null})};e.renderDesktopThreadPagePreview=function(a,b){var d=this;return this.renderDesktopPreview(a,b,j.jsx(c("ChatPluginDesktopThreadPagePreview.react"),{automationEnabled:a.automationConfig.isEnabled,automationGreetingMessage:a.automationConfig.greetingMessage,automationFaqEnabled:a.automationConfig.isFaqEnabled,automationFaqList:a.automationConfig.faqList,awayMessage:a.awayMessage,availabilityStatus:a.availabilityStatus,awayHoursEnabled:a.customizationConfig.awayHoursEnabled,onClose:function(){var c=!1;b({type:"SET_PREVIEW_DIALOG_VISIBLE",previewDialogVisible:c});d.logDialogVisibilityToggleClick(a,c)}}))};e.renderDesktopWelcomePageModalPreview=function(a,b){var d=this,e={onContinueAsGuest:c("emptyFunction"),onChatInMessenger:c("emptyFunction"),openThreadWithCurrentFBUser:c("emptyFunction"),openThreadWithInterstitial:c("emptyFunction"),openThreadWithAccessToken:c("emptyFunction"),minimize:function(){var c=!1;b({type:"SET_PREVIEW_DIALOG_VISIBLE",previewDialogVisible:c});d.logDialogVisibilityToggleClick(a,c)},maximize:c("emptyFunction"),togglePluginVisibility:c("emptyFunction")};return this.renderDesktopPreview(a,b,j.jsx(c("MPNDesktopWelcomePageModalView.react"),{useITPContinueButton:!1,ActionDelegate:e,shouldShowLoginPage:!1,isPreview:!0}))};e.renderDesktopWelcomeMessagePreview=function(a,b){return this.renderDesktopPreview(a,b,j.jsx(c("ChatPluginDesktopWelcomeMessagePagePreview.react"),{leftAlignment:a.customizationConfig.alignment==="left",onClose:function(){b({type:"SET_PREVIEW_DIALOG_VISIBLE",previewDialogVisible:!1}),b({type:"SET_PREVIEW_DIALOG_TYPE",previewDialogType:d("ChatPluginSetupFlowUtil").PreviewDialogType.WELCOME_PAGE})},onClick:function(){b({type:"SET_PREVIEW_DIALOG_VISIBLE",previewDialogVisible:!0}),b({type:"SET_PREVIEW_DIALOG_TYPE",previewDialogType:d("ChatPluginSetupFlowUtil").PreviewDialogType.WELCOME_PAGE})},visibility:a.previewConfig.previewDialogType===d("ChatPluginSetupFlowUtil").PreviewDialogType.WELCOME_MESSAGE}),!0)};e.renderDesktopReEngagementExpandedDialogPreview=function(a,b){var e={onContinueAsGuest:c("emptyFunction"),onChatInMessenger:c("emptyFunction"),openThreadWithCurrentFBUser:c("emptyFunction"),openThreadWithInterstitial:c("emptyFunction"),openThreadWithAccessToken:c("emptyFunction"),minimize:function(){b({type:"SET_PREVIEW_DIALOG_TYPE",previewDialogType:d("ChatPluginSetupFlowUtil").PreviewDialogType.RE_ENGAGEMENT_COLLAPSED_DIALOG})},maximize:c("emptyFunction"),togglePluginVisibility:c("emptyFunction")};return this.renderDesktopPreview(a,b,j.jsx(c("ChatPluginDesktopReEngagementExpandedDialog.react"),{ActionDelegate:e,isPreview:!0}))};e.logDialogVisibilityToggleClick=function(a,b){d("ChatPluginSetupFlowLoggerUtil").log(a,"preview_visibility_toggle_clicked",JSON.stringify({preview_type:a.previewConfig.previewTabType,preview_dialog_type:a.previewConfig.previewDialogType,preview_dialog_visible:b}))};return b}(j.Component);a.contextType=c("MessagingPluginContext");g["default"]=a}),98);
__d("ChatPluginSetupFlowDetail.react",["ChatPluginSetupFlowContent","ChatPluginSetupFlowContext","ChatPluginSetupFlowE2ETestUtils","ChatPluginSetupFlowFooter.react","ChatPluginSetupFlowLoggerUtil","ChatPluginSetupFlowMainPanel.react","ChatPluginSetupFlowPreview.react","CometCard.react","FlexLayout.react","GeoScrollableArea.react","Run","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useContext,j=b.useEffect,k=423,l=580,m=60,n={leftPanel:{backgroundColor:"x12peec7",borderRight:"xzz9k8k",$$css:!0},footer:{backgroundColor:"x12peec7",borderTop:"x1n2xptk",boxShadow:"xhssnx3",zIndex:"x1n327nk",$$css:!0},scrollableArea:{height:"x5yr21d",$$css:!0}};function a(a){var b=a.height,e=a.shouldShowSetupSection,f=a.shouldShowLocaleInCustomization,g=a.shouldRemoveCodeSteps,o=a.paddingVertical,p=a.paddingHorizontal;a=a.onPublish;b=b-o*2-m;var q=i(c("ChatPluginSetupFlowContext")),r=q.state;j(function(){if(r.customizationConfig!==r.customizationConfigOriginal||r.automationConfig!==r.automationConfigOriginal){d("ChatPluginSetupFlowLoggerUtil").log(r,"customer_navigates_without_publishing");var a=d("Run").onBeforeUnload(function(){return d("ChatPluginSetupFlowContent").RELOAD_WITHOUT_PUBLISH_ALERT});return function(){a.remove()}}},[r,r.automationConfig,r.automationConfigOriginal,r.customizationConfig,r.customizationConfigOriginal]);return h.jsx("div",{style:{padding:o,paddingLeft:p,paddingRight:p},"data-testid":void 0,children:h.jsx(c("CometCard.react"),{background:"light-wash",dropShadow:2,expanding:!0,children:h.jsxs(c("FlexLayout.react"),{align:"stretch",direction:"vertical",justify:"all",children:[h.jsx("div",{style:{height:b},children:h.jsxs(c("FlexLayout.react"),{align:"start",direction:"horizontal",children:[h.jsx("div",{style:{flex:1.5,minWidth:0},children:h.jsx("div",{className:"x12peec7 xzz9k8k",style:{height:b},children:h.jsx(c("GeoScrollableArea.react"),{xstyle:n.scrollableArea,direction:"vertical",children:h.jsx(c("ChatPluginSetupFlowMainPanel.react"),{shouldShowSetupSection:e,shouldShowLocaleInCustomization:f,shouldRemoveCodeSteps:g})})})}),h.jsx("div",{style:{flex:1,minWidth:k,minHeight:l},children:h.jsx(c("ChatPluginSetupFlowPreview.react"),{cardHeight:b})})]})}),h.jsx("div",{className:"x12peec7 x1n2xptk xhssnx3 x1n327nk",style:{height:m},children:h.jsx(c("ChatPluginSetupFlowFooter.react"),{onPublish:a})})]})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PageVerificationBadge",[],(function(a,b,c,d,e,f){a=Object.freeze({BLUE_VERIFIED:"blue_verified",GRAY_VERIFIED:"gray_verified",NOT_VERIFIED:"not_verified"});f["default"]=a}),66);
__d("ChatPluginSetupFlowDetailContainer.react",["BUISpinner_DEPRECATED.react","BizInboxTimeUtils","ChatPluginEntryPointSizeEnum","ChatPluginMobileChatOption","ChatPluginSetupFlowContextProvider","ChatPluginSetupFlowDetail.react","ChatPluginSetupFlowDetailContainerQuery.graphql","ChatPluginSetupFlowE2ETestUtils","ChatPluginSetupFlowLoggerUtil","ChatPluginSetupFlowPRELoggerUtil","ChatPluginSetupFlowUtil","ChatPluginWindowSizeEnum","CurrentUser","DateTime","ErrorBoundary.react","LiveChatAlignment","LiveChatGreetingDialogDisplayMode","MNNotificationMessagesFrequencyFields","PageVerificationBadge","PagesMarketingAutomationContentUtils","PagesTimeRangeEditorUtilities","RelayFBLiveEnvironment","RelayFBMatchContainer","RelayModern","XUINotice.react","getJSEnumSafe","nullthrows","react","react-virtualized-auto-sizer","useBizInboxAwayToggle","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react");e=d("react");var j=e.useEffect,k=e.useRef,l=80,m=12,n=h!==void 0?h:h=b("ChatPluginSetupFlowDetailContainerQuery.graphql");function a(a){var b=a.entryPoint,e=a.pageID,f=a.onPublish,g=a.externalBusinessConnection,h=a.shouldShowMobileInWebChat,r=a.shouldShowReEngagement,v=b!=="wordpress"&&b!=="fbe_chat_plugin_aymt",w=b==="wordpress",x=b==="fbe_fbs_management_view"||b==="fbe_chat_plugin_aymt",y=b==="biz_inbox"||b==="wordpress"||b==="fbe_fbs_management_view"||b==="fbe_chat_plugin_aymt"?0:m,z=b==="page_inbox"?l:0;a=t(b);var A={pageID:e,userID:d("CurrentUser").getID(),nuxID:a},B=k(!1),C=b==="biz_inbox",D=c("useBizInboxAwayToggle")(e);j(function(){d("ChatPluginSetupFlowPRELoggerUtil").logChatPluginSetupFlowLoadEnd(2)},[]);return i.jsx(c("react-virtualized-auto-sizer"),{children:function(a){var j=a.height;a=a.width;return i.jsx("div",{style:{width:a},children:i.jsx(c("ErrorBoundary.react"),{children:i.jsx(d("RelayModern").QueryRenderer,{cacheConfig:{force:!0},environment:c("RelayFBLiveEnvironment"),query:n,render:function(a){var k=a.error;a=a.props;if(k){d("ChatPluginSetupFlowPRELoggerUtil").logChatPluginSetupFlowLoadEnd(3);d("ChatPluginSetupFlowLoggerUtil").log(babelHelpers["extends"]({},d("ChatPluginSetupFlowUtil").DEFAULT_STATE,{page:babelHelpers["extends"]({},d("ChatPluginSetupFlowUtil").DEFAULT_STATE.page,{pageID:e}),entryPoint:b}),"graphql_on_error_main",JSON.stringify(d("ChatPluginSetupFlowLoggerUtil").getErrorData(k)));return i.jsx(c("XUINotice.react"),{use:"warn",children:k.message})}if(a){k=p(a);var l=q(a,g),m=o(a),n=s(a,e),t=u(D),A=k.isAutopopulated&&a.chatPluginSetupFlowNux==null?d("ChatPluginSetupFlowUtil").MainSection.AUTOMATION:null,E=D.awayMessage;E=(E=E)!=null?E:d("PagesMarketingAutomationContentUtils").getDefaultContent("away_message").toString();n=babelHelpers["extends"]({},d("ChatPluginSetupFlowUtil").DEFAULT_STATE,{automationConfig:k,customizationConfig:l,reengagementConfig:m,automationConfigOriginal:k,customizationConfigOriginal:l,reengagementConfigOriginal:m,page:n,viewerProfilePictureUri:(m=(k=a.user)==null?void 0:(l=k.profile_picture)==null?void 0:l.uri)!=null?m:"",expandedMainSection:A,entryPoint:b,requestID:c("uuidv4")(),awayMessage:E,awayRanges:D.timeRanges,nextAvailableTimestamp:t,shouldShowMobileInWebChat:h,shouldShowReEngagement:r});B.current||(d("ChatPluginSetupFlowLoggerUtil").log(n,"graphql_on_success_main"),B.current=!0);return i.jsxs(c("ChatPluginSetupFlowContextProvider"),{initialState:n,children:[!C&&i.jsx(c("RelayFBMatchContainer"),{match:a.chatPluginSetupFlowNux,props:{shouldShowSetupSection:v}}),i.jsx(c("ChatPluginSetupFlowDetail.react"),{height:j,shouldShowSetupSection:v,shouldShowLocaleInCustomization:w,shouldRemoveCodeSteps:x,paddingVertical:y,paddingHorizontal:z,onPublish:f})]})}return i.jsx(c("BUISpinner_DEPRECATED.react"),{center:!0})},variables:A})})})}})}a.displayName=a.name+" [from "+f.id+"]";function o(a){var b;a=(a=a.page)==null?void 0:a.messenger_chat_plugin_reengagement_config;return{cadence:(b=c("getJSEnumSafe")(c("MNNotificationMessagesFrequencyFields"),a==null?void 0:a.cadence))!=null?b:d("ChatPluginSetupFlowUtil").DEFAULT_STATE.reengagementConfig.cadence,collapsedOptInMessageTitle:(b=a==null?void 0:a.collapsed_opt_in_message_title)!=null?b:d("ChatPluginSetupFlowUtil").DEFAULT_STATE.reengagementConfig.collapsedOptInMessageTitle,collapsedOptInMessageText:(b=a==null?void 0:a.collapsed_opt_in_message_text)!=null?b:d("ChatPluginSetupFlowUtil").DEFAULT_STATE.reengagementConfig.collapsedOptInMessageText,expandedOptInMessageTitle:(b=a==null?void 0:a.expanded_opt_in_message_title)!=null?b:d("ChatPluginSetupFlowUtil").DEFAULT_STATE.reengagementConfig.expandedOptInMessageTitle,expandedOptInMessageText:(b=a==null?void 0:a.expanded_opt_in_message_text)!=null?b:d("ChatPluginSetupFlowUtil").DEFAULT_STATE.reengagementConfig.expandedOptInMessageText,optInMessageEnabled:(b=a==null?void 0:a.opt_in_message_enabled)!=null?b:d("ChatPluginSetupFlowUtil").DEFAULT_STATE.reengagementConfig.optInMessageEnabled}}function p(a){var b;a=(a=a.page)==null?void 0:a.messenger_chat_plugin_automation_config;var e=a==null?void 0:a.faq_list.map(function(a){var b;return{question:(b=a.question)!=null?b:"",response_body:(b=a.response_body)!=null?b:"",uuid:c("uuidv4")()}});return{isAutopopulated:(b=a==null?void 0:a.is_autopopulated)!=null?b:d("ChatPluginSetupFlowUtil").DEFAULT_STATE.automationConfig.isAutopopulated,isEnabled:(b=a==null?void 0:a.enabled)!=null?b:d("ChatPluginSetupFlowUtil").DEFAULT_STATE.automationConfig.isEnabled,greetingMessage:(b=a==null?void 0:a.greeting_message)!=null?b:d("ChatPluginSetupFlowUtil").DEFAULT_STATE.automationConfig.greetingMessage,isFaqEnabled:(b=a==null?void 0:a.faq_enabled)!=null?b:d("ChatPluginSetupFlowUtil").DEFAULT_STATE.automationConfig.isFaqEnabled,faqList:(a=e)!=null?a:d("ChatPluginSetupFlowUtil").DEFAULT_STATE.automationConfig.faqList}}function q(a,b){var e;a=(a=a.page)==null?void 0:a.messenger_live_chat_customization_config;var f=c("getJSEnumSafe")(c("LiveChatGreetingDialogDisplayMode"),a==null?void 0:a.greeting_dialog_display);(f==null||f==="unset")&&(f=d("ChatPluginSetupFlowUtil").DEFAULT_STATE.customizationConfig.greetingDialogDisplay);return{alignment:(e=c("getJSEnumSafe")(c("LiveChatAlignment"),a==null?void 0:a.alignment))!=null?e:d("ChatPluginSetupFlowUtil").DEFAULT_STATE.customizationConfig.alignment,awayGreeting:(e=a==null?void 0:a.away_greeting)!=null?e:d("ChatPluginSetupFlowUtil").DEFAULT_STATE.customizationConfig.awayGreeting,awayHoursEnabled:(e=a==null?void 0:a.away_hours_enabled)!=null?e:d("ChatPluginSetupFlowUtil").DEFAULT_STATE.customizationConfig.awayHoursEnabled,loggedInGreeting:(e=a==null?void 0:a.logged_in_greeting)!=null?e:d("ChatPluginSetupFlowUtil").DEFAULT_STATE.customizationConfig.loggedInGreeting,loggedOutGreeting:(e=a==null?void 0:a.logged_out_greeting)!=null?e:d("ChatPluginSetupFlowUtil").DEFAULT_STATE.customizationConfig.loggedOutGreeting,themeColor:(a==null?void 0:a.theme_color)!=null?"#"+c("nullthrows")(a==null?void 0:a.theme_color):null,entryPointIcon:(e=a==null?void 0:a.entry_point_icon)!=null?e:d("ChatPluginSetupFlowUtil").DEFAULT_STATE.customizationConfig.entryPointIcon,entryPointLabel:(e=a==null?void 0:a.entry_point_label)!=null?e:d("ChatPluginSetupFlowUtil").DEFAULT_STATE.customizationConfig.entryPointLabel,greetingDialogDisplay:f,guestModeEnabled:(e=a==null?void 0:a.guest_mode_enabled)!=null?e:!0,locale:(f=a==null?void 0:a.default_locale)!=null?f:d("ChatPluginSetupFlowUtil").DEFAULT_STATE.customizationConfig.locale,desktopBottomSpacing:r(a==null?void 0:a.desktop_bottom_spacing,d("ChatPluginSetupFlowUtil").DEFAULT_STATE.customizationConfig.desktopBottomSpacing),mobileBottomSpacing:r(a==null?void 0:a.mobile_bottom_spacing,d("ChatPluginSetupFlowUtil").DEFAULT_STATE.customizationConfig.mobileBottomSpacing),desktopSideSpacing:r(a==null?void 0:a.desktop_side_spacing,d("ChatPluginSetupFlowUtil").DEFAULT_STATE.customizationConfig.desktopSideSpacing),mobileSideSpacing:r(a==null?void 0:a.mobile_side_spacing,d("ChatPluginSetupFlowUtil").DEFAULT_STATE.customizationConfig.mobileSideSpacing),websiteDomains:(a==null?void 0:a.whitelisted_domains)?[].concat(a==null?void 0:a.whitelisted_domains):d("ChatPluginSetupFlowUtil").DEFAULT_STATE.customizationConfig.websiteDomains,externalBusinessConnectionProxy:(e=b)!=null?e:null,mobileOptin:(f=c("getJSEnumSafe")(c("ChatPluginMobileChatOption"),a==null?void 0:a.mobile_optin))!=null?f:d("ChatPluginSetupFlowUtil").DEFAULT_STATE.customizationConfig.mobileOptin,desktopEntryPointSize:(b=c("getJSEnumSafe")(c("ChatPluginEntryPointSizeEnum"),a==null?void 0:a.desktop_entry_point_size))!=null?b:d("ChatPluginSetupFlowUtil").DEFAULT_STATE.customizationConfig.desktopEntryPointSize,mobileEntryPointSize:(e=c("getJSEnumSafe")(c("ChatPluginEntryPointSizeEnum"),a==null?void 0:a.mobile_entry_point_size))!=null?e:d("ChatPluginSetupFlowUtil").DEFAULT_STATE.customizationConfig.mobileEntryPointSize,desktopWindowSize:(f=c("getJSEnumSafe")(c("ChatPluginWindowSizeEnum"),a==null?void 0:a.desktop_window_size))!=null?f:d("ChatPluginSetupFlowUtil").DEFAULT_STATE.customizationConfig.desktopWindowSize}}function r(a,b){return a!=null?parseInt(a,10):b}function s(a,b){var e;a=a.page;e=(e=c("getJSEnumSafe")(c("PageVerificationBadge"),a==null?void 0:a.verification_status))!=null?e:"not_verified";var f=d("ChatPluginSetupFlowUtil").DEFAULT_STATE.page.pageResponsiveness;if((a==null?void 0:a.page_comet_admin_messaging_settings)&&(a==null?void 0:a.page_comet_admin_messaging_settings.length)>0){var g;f=(g=a==null?void 0:a.page_comet_admin_messaging_settings[0].response_time)!=null?g:d("ChatPluginSetupFlowUtil").DEFAULT_STATE.page.pageResponsiveness}return{pageID:b,pageListedWebsite:(g=a==null?void 0:a.websites)!=null?g:d("ChatPluginSetupFlowUtil").DEFAULT_STATE.page.pageListedWebsite,pageName:(b=a==null?void 0:a.name)!=null?b:d("ChatPluginSetupFlowUtil").DEFAULT_STATE.page.pageName,pageVerifiedStatus:e,pageResponsiveness:f,pageProfilePictureUri:(g=a==null?void 0:a.profile_pic_uri)!=null?g:d("ChatPluginSetupFlowUtil").DEFAULT_STATE.page.pageProfilePictureUri}}function t(a){var b;switch(a){case"wordpress":b=d("ChatPluginSetupFlowE2ETestUtils").FBNUX_ID_WORDPRESS;break;case"fbe_fbs_management_view":case"fbe_chat_plugin_aymt":b=d("ChatPluginSetupFlowE2ETestUtils").FBNUX_ID_FBE_FBS_MV;break;case"page_inbox":case"biz_inbox":default:b=d("ChatPluginSetupFlowE2ETestUtils").FBNUX_ID_PAGE_INBOX;break}return b}function u(a){var b=a.timeRanges,e=a.isAway,f=a.expireTimestamp;a=a.awayTimezone;a=d("BizInboxTimeUtils").getTimezoneID(a);var g=c("DateTime").now(a);if(e===!0&&f!=null)g=new(c("DateTime"))(f,a);else if(e===!1)return g.getUnixTimestampSeconds();if(b==null)return g.getUnixTimestampSeconds();f=g.getUnixTimestampSeconds()-g.startOfDay().getUnixTimestampSeconds();a=g.getDayOfWeek();e=g.startOfDay();g=!1;b=d("BizInboxTimeUtils").getTimeRangesFromJson(b);var h=0;while(h<=7){var i=d("PagesTimeRangeEditorUtilities").getAwayTimeBracketsForWeekday(a,b),j=!1;for(var i=i,k=Array.isArray(i),l=0,i=k?i:i[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var m;if(k){if(l>=i.length)break;m=i[l++]}else{l=i.next();if(l.done)break;m=l.value}m=m;if(f<=m.to&&f>=m.from){j=!0;f=m.to;if(f===60*60*24)e.addDays(1),a=(a+1)%7,f=0;else{g=!0;break}}}if(!j||g)break;h++}if(h>7)return null;m=Math.floor(f/3600);l=Math.floor(f%3600/60);k=Math.floor(f%3600%60);e.setHours(m);e.setMinutes(l);e.setSeconds(k);return e.getUnixTimestampSeconds()}g["default"]=a}),98);
__d("useRelayLoadObject",["LoadObject","RelayHooks","SubscriptionsHandler","emptyFunction","react","react-relay/relay-hooks/useMemoOperationDescriptor"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useEffect,i=b.useMemo,j=b.useRef,k=b.useState;function a(a,b,e){var f=d("RelayHooks").useRelayEnvironment(),g=j(c("emptyFunction")),l=k(c("LoadObject").empty()),m=l[0],n=l[1],o=c("react-relay/relay-hooks/useMemoOperationDescriptor")(a,b),p=i(function(){return f.retain(o)},[f,o]),q=i(function(){return d("RelayHooks").fetchQuery(f,a,o.fragment.variables,e).subscribe({start:function(){return n(function(a){return a.removeError().loading()})},complete:function(){return n(function(a){return a.done()})},next:function(a){return n(function(b){return b.setValue(a)})},error:function(a){return n(function(b){return b.setError(a).done()})}})},[f,o.fragment.variables,e,a]);h(function(){var a=new(c("SubscriptionsHandler"))();a.addSubscriptions(q,p);var b=function(){return a.release()};g.current=b;return b},[p,q]);return[m,g.current]}g["default"]=a}),98);
__d("OxsightsPredictionTopSegmentsChart.react",["cx","BUIButtonSpinner.react","FlexLayout.react","FlexLayoutItem.react","GeoBaseText.react","LineClamp.react","OxsightsMIPredictionFbts","OxsightsPartnerConfig","OxsightsPredictionTopSegmentsChartQuery","OxsightsSegmentFbts","OxsightsUtils","cssLength","react","useRelayLoadObject"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=d("react").useMemo,k={featureCardSlice:{paddingBottom:"xwib8y2",borderBottom:"xdppsyt",flexShrink:"x2lah0s",width:"xh8yej3",$$css:!0},featuresInfo:{maxWidth:"x1c4npxh",width:"x13ie5k6",height:"x14h49td",marginTop:"x1gslohp",marginEnd:"xw3qccf",marginBottom:"x12nagc",marginStart:"xsgj6o6",paddingTop:"x1y1aw1k",paddingEnd:"x1sxyh0",paddingBottom:"xwib8y2",paddingStart:"xurb0ha",$$css:!0},metricInfo:{height:"x14h49td",marginTop:"x1gslohp",marginEnd:"xw3qccf",marginBottom:"x12nagc",marginStart:"xsgj6o6",paddingTop:"x1y1aw1k",paddingEnd:"x1sxyh0",paddingBottom:"xwib8y2",paddingStart:"xurb0ha",$$css:!0},noShrink:{flexShrink:"x2lah0s",$$css:!0}};function l(a){var b=a.subtitle;a=a.title;return i.jsxs(c("FlexLayout.react"),{direction:"vertical",className_DO_NOT_USE:"x1c4npxh x13ie5k6 x14h49td x1gslohp xw3qccf x12nagc xsgj6o6 x1y1aw1k x1sxyh0 xwib8y2 xurb0ha",children:[i.jsx(c("GeoBaseText.react"),{color:"value",size:"value",weight:"bold",whiteSpace:"nowrap",xstyle:k.noShrink,children:a}),i.jsx(c("GeoBaseText.react"),{color:"placeholder",size:"value",xstyle:k.noShrink,children:i.jsx(c("LineClamp.react"),{lines:3,enableTooltipOnOverflow:!0,lineHeight:16,children:b})})]})}l.displayName=l.name+" [from "+f.id+"]";function m(a){var b=a.subtitle;a=a.title;return i.jsxs(c("FlexLayout.react"),{direction:"vertical",align:"end",className_DO_NOT_USE:"x14h49td x1gslohp xw3qccf x12nagc xsgj6o6 x1y1aw1k x1sxyh0 xwib8y2 xurb0ha",children:[i.jsx(c("GeoBaseText.react"),{color:"value",size:"value",whiteSpace:"nowrap",xstyle:k.noShrink,children:a}),i.jsx(c("GeoBaseText.react"),{color:"placeholder",size:"value",textAlign:"end",xstyle:k.noShrink,children:b})]})}m.displayName=m.name+" [from "+f.id+"]";function n(a){var b=a.predictionType;a=a.topSegments;return i.jsxs(c("FlexLayout.react"),{className_DO_NOT_USE:"_3-8h",direction:"vertical",children:[i.jsx(c("GeoBaseText.react"),{color:"placeholder",size:"header4",weight:"bold",children:d("OxsightsMIPredictionFbts").TOP_PREDICTIVE_SEGMENT}),i.jsx("ol",{children:a.sort(function(a){return a.rank}).map(function(a){return i.jsx("li",{className:"xwib8y2 xdppsyt x2lah0s xh8yej3",children:i.jsxs(c("FlexLayout.react"),{align:"center",justify:"center",children:[i.jsx(c("FlexLayoutItem.react"),{grow:1,children:i.jsx(c("FlexLayout.react"),{children:a.features.map(function(a){return i.jsx(l,{title:a.value,subtitle:a.name},a.name)})})}),i.jsx(c("FlexLayoutItem.react"),{basis:c("cssLength")("110px"),children:i.jsx(m,{title:d("OxsightsUtils").intlSummarizeNumber(a.segmentSize),subtitle:d("OxsightsSegmentFbts").SEGMENT_SIZE})}),i.jsx(c("FlexLayoutItem.react"),{basis:c("cssLength")("120px"),children:i.jsx(m,{title:d("OxsightsUtils").formatNumberEnforce(a.rate*100,"percent"),subtitle:d("OxsightsMIPredictionFbts").getTopSegmentRateSubtitle(b)})})]})},a.rank)})})]})}n.displayName=n.name+" [from "+f.id+"]";function a(a){var b=a.date,d=a.predictionType,e=c("OxsightsPartnerConfig").isOEM?c("OxsightsPartnerConfig").partnerName:c("OxsightsPartnerConfig").partnerID;a=j(function(){return{request:{ds:b,model:d,submodel:e}}},[b,d,e]);a=c("useRelayLoadObject")(c("OxsightsPredictionTopSegmentsChartQuery"),a);a=a[0];return a.match({loaded:function(a){a=a.topSegments.map(function(a){var b,c=a.segment.map(function(a){var b;return{name:(b=a.feature_name)!=null?b:"",value:(b=a.value)!=null?b:""}});return{rank:(b=a.final_rank)!=null?b:-1,rate:(b=a.rate)!=null?b:0,segmentSize:(b=a.segment_size)!=null?b:0,features:c}});return i.jsx(n,{topSegments:a,predictionType:d})},error:function(){return null},loading:function(){return i.jsx(c("BUIButtonSpinner.react"),{})},empty:function(){return i.jsx(c("BUIButtonSpinner.react"),{})}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("groupBy",[],(function(a,b,c,d,e,f){function a(a,b){return a.reduce(function(a,c){(a[b(c)]=a[b(c)]||[]).push(c);return a},{})}f["default"]=a}),66);
__d("LocalDateTime",["invariant","DateTime","ISODateString","Instant","LocalDate","PeriodUnit","SharedDateUtils","Timezone"],(function(a,b,c,d,e,f,g,h){"use strict";a=function(){function a(a,b,c,d,e,f){this.year=a,this.month=b,this.day=c,this.hour=d,this.minute=e,this.second=f}a.apply=function(b){return new a(b.year,b.month,b.day,b.hour,b.minute,b.second)};a.create=function(b,c,d,e,f,g){c===void 0&&(c=1);d===void 0&&(d=1);e===void 0&&(e=0);f===void 0&&(f=0);g===void 0&&(g=0);return new a(b,c,d,e,f,g)};a.now=function(b){return a.fromDateTime(c("DateTime").now(b))};var b=a.prototype;b.getComponents=function(){return[this.year,this.month,this.day,this.hour,this.minute,this.second]};b.compare=function(a){var b=this.getComponents();a=a.getComponents();for(var c=0;c<b.length;c++){var d=b[c]-a[c];if(d)return d}return 0};b.equals=function(a){return this.compare(a)===0};b.isBefore=function(a){return this.compare(a)<0};b.isAfter=function(a){return this.compare(a)>0};b.isBeforeOrEqual=function(a){return this.compare(a)<=0};b.isAfterOrEqual=function(a){return this.compare(a)>=0};b.min=function(a){return this.isBefore(a)?this:a};b.max=function(a){return this.isBefore(a)?a:this};b.getDayOfMonth=function(){return this.day};b.getDayOfWeek=function(){return this.toUTCDate().getUTCDay()};b.getMonth=function(){return this.month};b.getYear=function(){return this.year};b.getHours=function(){return this.hour};b.getMinutes=function(){return this.minute};b.getSeconds=function(){return this.second};b.$1=function(b){var c=this.toUTCDate();c.setUTCFullYear(b.year!=null?b.year:c.getUTCFullYear(),b.month!=null?b.month-1:c.getUTCMonth(),b.day!=null?b.day:c.getUTCDate());b.hour!=null&&c.setUTCHours(b.hour);b.minute!=null&&c.setUTCMinutes(b.minute);b.second!=null&&c.setUTCSeconds(b.second);return a.fromUTCDate(c)};b.set=function(a){a.year==null||d("Instant").wholeYearRangeInYears.since<=a.year&&a.year<d("Instant").wholeYearRangeInYears.until||h(0,1638);a.month==null||1<=a.month&&a.month<=12||h(0,1639);a.day==null||1<=a.day&&a.day<=31||h(0,1640);a.hour==null||a.hour>=0&&a.hour<=23||h(0,1151);a.minute==null||a.minute>=0&&a.minute<=59||h(0,1152);a.second==null||a.second>=0&&a.second<=59||h(0,1153);return this.$1(a)};b.add=function(b){var c=this.toUTCDate();if(b.month||b.year){var e=c.getUTCMonth()+(b.month||0)+(b.year||0)*12;c.setUTCMonth(e);d("SharedDateUtils").divide(c.getUTCMonth()+1,12)[1]!==d("SharedDateUtils").divide(e+1,12)[1]&&c.setUTCDate(0)}b.week&&c.setUTCDate(c.getUTCDate()+7*b.week);b.day&&c.setUTCDate(c.getUTCDate()+b.day);b.hour&&c.setUTCHours(c.getUTCHours()+b.hour);b.minute&&c.setUTCMinutes(c.getUTCMinutes()+b.minute);b.second&&c.setUTCSeconds(c.getUTCSeconds()+b.second);return a.fromUTCDate(c)};b.subtract=function(a){var b={};Object.keys(a).forEach(function(c){return b[c]=-a[c]});return this.add(b)};b.addYears=function(a){return this.add({year:a})};b.addMonths=function(a){return this.add({month:a})};b.addWeeks=function(a){return this.add({week:a})};b.addDays=function(a){return this.add({day:a})};b.addHours=function(a){return this.add({hour:a})};b.addMinutes=function(a){return this.add({minute:a})};b.addSeconds=function(a){return this.add({second:a})};b.subtractYears=function(a){return this.subtract({year:a})};b.subtractMonths=function(a){return this.subtract({month:a})};b.subtractWeeks=function(a){return this.subtract({week:a})};b.subtractDays=function(a){return this.subtract({day:a})};b.subtractHours=function(a){return this.subtract({hour:a})};b.subtractMinutes=function(a){return this.subtract({minute:a})};b.subtractSeconds=function(a){return this.subtract({second:a})};b.startOfYear=function(){return this.floor(c("PeriodUnit").year)};b.startOfMonth=function(){return this.floor(c("PeriodUnit").month)};b.startOfWeek=function(){return this.floor(c("PeriodUnit").week)};b.startOfDay=function(){return this.floor(c("PeriodUnit").day)};b.startOfHour=function(){return this.floor(c("PeriodUnit").hour)};b.startOfMinute=function(){return this.floor(c("PeriodUnit").minute)};b.floor=function(a){var b={hour:0,minute:0,second:0};switch(a){case c("PeriodUnit").year:return this.set(babelHelpers["extends"]({},b,{month:1,day:1}));case c("PeriodUnit").month:return this.set(babelHelpers["extends"]({},b,{day:1}));case c("PeriodUnit").week:return this.set(b).subtractDays(this.getDayOfWeek());case c("PeriodUnit").day:return this.set(b);case c("PeriodUnit").hour:return this.set({minute:0,second:0});case c("PeriodUnit").minute:return this.set({second:0});case c("PeriodUnit").second:return this;default:h(0,5510,a)}};b.ceil=function(a){var b=this.floor(a);if(this.equals(b))return b;else{var c={};c[a]=1;return b.add(c)}};b.format=function(a,b){return d("Instant").format(this.toInstant(d("Timezone").UTC),a,b)};b.toString=function(){return this.toISOString()};b.toISOString=function(){return this.format("Y-m-dTH:i:s",{skipPatternLocalization:!0})};a.fromISOString=function(b){b=d("ISODateString").parseComponents(b);var c=b.year,e=b.month,f=b.day,g=b.hour,h=b.minute;b=b.second;return a.create(c,e,f,g,h,b)};b.toUTCDate=function(){return new Date(1e3*this.toInstant(d("Timezone").UTC))};a.fromUTCDate=function(b){return a.create(b.getUTCFullYear(),b.getUTCMonth()+1,b.getUTCDate(),b.getUTCHours(),b.getUTCMinutes(),b.getUTCSeconds())};b.toInstant=function(a){var b=Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second)/1e3;return d("Instant").getParallel(b,a)};a.fromInstant=function(b,c){b=b+d("Instant").getOffset(b,c);return a.fromUTCDate(new Date(1e3*b))};b.toDateTime=function(a){return c("DateTime").create(this.toInstant(a),a)};b.toLocalDate=function(){return c("LocalDate").create(this.year,this.month,this.day)};a.fromDateTime=function(b){b=b.getFields();return a.create(b.year,b.month,b.day,b.hour,b.minute,b.second)};b.toFBDate=function(a){return c("DateTime").fromLegacyArgs(1e3*this.toInstant(a),a)};a.fromFBDate=function(b){return a.create(b.getYear(),b.getMonth(),b.getDayOfMonth(),b.getHours(),b.getMinutes(),b.getSeconds())};b.toJSON=function(){return this.toISOString()};b.fromJSON=function(b){return a.fromISOString(b)};return a}();g["default"]=a}),98);
__d("AdsAPIPublisherPlatform",[],(function(a,b,c,d,e,f){a=Object.freeze({FACEBOOK:"facebook",INSTAGRAM:"instagram",AUDIENCE_NETWORK:"audience_network",MESSENGER:"messenger",WHATSAPP:"whatsapp",OCULUS:"oculus"});f["default"]=a}),66);
__d("XFBPrivacyCenterHomeControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/privacy/center/",Object.freeze({}),void 0);b=a;g["default"]=b}),98);
__d("XPrivacyBasicsControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/about/basics/{?subpage}/{?module}/",Object.freeze({}),void 0);b=a;g["default"]=b}),98);
__d("AbstractAsyncSearchSource",["AbstractSearchSource","SearchSourceCallbackManager","SearchSourceQueryStatus","SearchableEntry","TokenizeUtil","emptyFunction","isValidUniqueID"],(function(a,b,c,d,e,f,g){a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,d,e){var f,g;g=a.call(this)||this;g.$AbstractAsyncSearchSource1=b.asyncErrorHandler||c("emptyFunction");g.$AbstractAsyncSearchSource2=b.auxiliaryFields;g.$AbstractAsyncSearchSource4=b.bootstrapRequests;g.$AbstractAsyncSearchSource7=b.getAllForEmptyQuery;g.$AbstractAsyncSearchSource8=b.getAllForBootstrapPrefix;g.$AbstractAsyncSearchSource9=b.bootstrapPrefix;g.$AbstractAsyncSearchSource11=b.packageFn||g.$AbstractAsyncSearchSource15;g.$AbstractAsyncSearchSource12=b.queryRequests;g.$AbstractAsyncSearchSource13=b.requestData||{};g.$AbstractAsyncSearchSource6=(f=b.entryModifier_USE_SPARINGLY)!=null?f:c("emptyFunction").thatReturnsArgument;g.$AbstractAsyncSearchSource3=[];g.$AbstractAsyncSearchSource5=new(c("SearchSourceCallbackManager"))({parseFn:(f=b.parseFn)!=null?f:c("TokenizeUtil").parse,matchFn:b.matchFn||c("TokenizeUtil").isQueryMatch,indexFn:b.indexFn,exclusions:b.exclusions});g.$AbstractAsyncSearchSource14=d;g.$AbstractAsyncSearchSource10=e;return g}var e=b.prototype;e.bootstrapImpl=function(a){var b=this,c=a;if(!this.$AbstractAsyncSearchSource4||!this.$AbstractAsyncSearchSource4.length){c();return}var d=this.$AbstractAsyncSearchSource4.length,e=0;this.$AbstractAsyncSearchSource4.forEach(function(a){b.$AbstractAsyncSearchSource16(b.$AbstractAsyncSearchSource13,a,function(a){a=a.map(function(a){return b.$AbstractAsyncSearchSource6(a)});b.$AbstractAsyncSearchSource5.addLocalEntries(a);b.$AbstractAsyncSearchSource3=b.$AbstractAsyncSearchSource3.concat(a);e++;c&&e===d&&(c(),c=null)})})};e.searchImpl=function(a,b,c){var e=this,f=this.$AbstractAsyncSearchSource9;if(this.$AbstractAsyncSearchSource7&&a===""||this.$AbstractAsyncSearchSource8&&a&&f&&a.trim().toLowerCase()===f.trim().toLowerCase()){this.getBootstrappedEntries(function(c){c=c.map(function(a){return e.$AbstractAsyncSearchSource6(a)});b(c,a,d("SearchSourceQueryStatus").COMPLETE)});return}var g=[],h={};f=this.$AbstractAsyncSearchSource5.search(a,function(f,a,i){if(c&&c.waitForAllResults&&i!==d("SearchSourceQueryStatus").COMPLETE)return;g.length===0?(g=f,g.forEach(function(a,b){h[a.getUniqueID()]=b})):(g=[].concat(g),f.forEach(function(a){a=e.$AbstractAsyncSearchSource6(a);var b=a.getUniqueID();if(!Object.prototype.hasOwnProperty.call(h,b)){var c=g.length;g.push(a);h[b]=c}else{c=h[b];c<g.length&&(g[c]=a)}}));b(g,a,i)});if(!f||!this.$AbstractAsyncSearchSource12||!this.$AbstractAsyncSearchSource12.length)return;var i=babelHelpers["extends"]({value:a,existing_ids:c&&c.disableExistingIDs?"":g&&g.map(function(a){return a.getUniqueID()}).join(",")},this.$AbstractAsyncSearchSource13),j=this.$AbstractAsyncSearchSource12.length;this.$AbstractAsyncSearchSource12.forEach(function(b){e.$AbstractAsyncSearchSource16(i,b,function(b){j--;b=Array.from(b.reduce(function(a,b){b=e.$AbstractAsyncSearchSource6(b);var c=b.getUniqueID();if(a.has(c)){var d=a.get(c);d!=null&&b.getOrder()<d.getOrder()&&a.set(c,b)}else a.set(c,b);return a},new Map()).values());e.$AbstractAsyncSearchSource17(b,a,j?d("SearchSourceQueryStatus").ACTIVE:d("SearchSourceQueryStatus").COMPLETE)})})};e.getBootstrappedEntries=function(a){var b=this;return this.bootstrap(function(){return a(b.$AbstractAsyncSearchSource3||[])})};e.getBootstrapEntriesArray=function(){return this.$AbstractAsyncSearchSource3||[]};e.getAllEntriesMap=function(){return this.$AbstractAsyncSearchSource5.getAllEntriesMap()};e.setRequestData=function(a){this.$AbstractAsyncSearchSource13=a};e.getRequestData=function(){return this.$AbstractAsyncSearchSource13};e.setPackageResult=function(a){this.$AbstractAsyncSearchSource11=a};e.getCallbackManager=function(){return this.$AbstractAsyncSearchSource5};e.$AbstractAsyncSearchSource16=function(a,b,c){var d=this;this.$AbstractAsyncSearchSource14(a,b,function(a){return c(d.$AbstractAsyncSearchSource10(a,d.$AbstractAsyncSearchSource11).filter(Boolean))},this.$AbstractAsyncSearchSource1)};e.$AbstractAsyncSearchSource17=function(a,b,c){this.$AbstractAsyncSearchSource5.addQueryEntries(a,b,c)};e.$AbstractAsyncSearchSource15=function(a,b){var d=a.title||a.text,e=a.uniqueID||a.uid;return!d||!c("isValidUniqueID")(e)?null:new(c("SearchableEntry"))({uniqueID:e,order:a.order||a.index||b,title:d,subtitle:a.subtitle||a.category||a.subtext,keywordString:a.keywordString||a.tokens,type:a.type,photo:a.photo,uri:a.uri||a.path,auxiliaryData:this.$AbstractAsyncSearchSource18(a)})};e.$AbstractAsyncSearchSource18=function(a){var b;if(this.$AbstractAsyncSearchSource2){b={};for(var c in this.$AbstractAsyncSearchSource2){var d=this.$AbstractAsyncSearchSource2[c];b[c]=a[d]}}d=a.aux_data||a.auxiliaryData;d&&(b=babelHelpers["extends"]({},b,d));return b};return b}(c("AbstractSearchSource"));g["default"]=a}),98);
__d("AbstractRelaySearchSource",["AbstractAsyncSearchSource","RelayModern","debounceCore","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";function h(a){return function(b,e,f,g){e=e.gen((e=b.value)!=null?e:"",b);b=e.query;var h=e.variables;e=e.cacheConfig;c("promiseDone")(d("RelayModern").fetchQuery(a,b,h,e),f,g)}}a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,d,e,f){f===void 0&&(f=h);return a.call(this,d,c("debounceCore")(f(b),225),e)||this}return b}(c("AbstractAsyncSearchSource"));g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("WebApiApplication",["invariant","ApiClient","gkx"],(function(a,b,c,d,e,f,g,h){"use strict";var i="293651901511648",j="119211728144504",k="624541620938530",l="436761779744620",m="515496645328243",n="473480629331098",o="225181538219344";function p(a){switch(a){case i:return c("gkx")("5673");case k:case j:return c("gkx")("5876");case l:return c("gkx")("3183");case m:return!0;case n:return c("gkx")("7343");case o:return c("gkx")("5235");default:return!1}}function a(b,d,a,e,g){c("ApiClient").setAccessToken(b),c("ApiClient").setClientID(d),c("ApiClient").setDefaultParams({pretty:!1}),p(d)&&c("ApiClient").setWithCredentials(!0),a&&(typeof a[e]==="function"||h(0,5200,e),a[e].apply(a,g))}function b(){return c("ApiClient").getAccessToken()}function d(){return c("ApiClient").getClientID()}g.init=a;g.getAccessToken=b;g.getClientID=d}),98);
__d("BusinessUnifiedNavigationDataKey",["immutable"],(function(a,b,c,d,e,f){"use strict";a=b("immutable").Record({adAccountID:void 0,businessID:void 0,localScopeID:void 0,localScopeType:void 0,globalScopeID:void 0});c=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(a);d=c;f["default"]=d}),66);
__d("LaminarDebugger",["EventEmitter"],(function(a,b,c,d,e,f,g){"use strict";var h="DEBUGGER";a=function(){function a(){this.$1=[],this.$6={},this.$3=100,this.$2=new Array(this.$3),this.$4=new(c("EventEmitter"))(),this.$5=!1}var b=a.prototype;b.getDebuggerActionDispatchQueue=function(){return this.$2};b.addSnapshotToDebuggerActionDispatchQueue=function(a){this.$6=a.newState,this.$4.emit(h,a),this.$2.push(a),this.$2.shift()};b.updateCaptureRate=function(a){a>0&&(this.$2.length+=a-this.$3,this.$3=a)};b.addDebugListener=function(a){return this.$4.addListener(h,a)};b.removeAllDebugListeners=function(){this.$4.removeAllListeners(h)};b.getPauseActionDispatches=function(){return this.$5};b.getAlteredStateSnapshot=function(){return this.$6};b.setPauseActionDispatches=function(a){this.$5=a};b.enqueueActionToDispatch=function(a,b){this.$1.push([a,b])};b.dequeueActionToDispatch=function(){return this.$1.shift()};b.clearActionDispatchQueue=function(){this.$1=[]};b.isActionDispatchQueueEmpty=function(){return this.$1.length==0};return a}();g["default"]=a}),98);
__d("AdsDataAtomLaminarDebugger",["LaminarDebugger"],(function(a,b,c,d,e,f,g){"use strict";a=new(c("LaminarDebugger"))();g["default"]=a}),98);
__d("AdsSpeedConfig",["URI"],(function(a,b,c,d,e,f,g){"use strict";e=new(c("URI"))(window.location.href).getQueryData();var h=e.browserlab_test,i=e.scenario,j={editor_l1_dd:"edit_l1",change_level_dd:"change_level"};function a(){return!!h||!!i}function b(){return h||j[i]}function d(){return!1}g.hasBrowserLabTest=a;g.getBrowserLabTest=b;g.isDevToolsTimingEnabled=d}),98);
__d("AdsDataAtomPerformanceUtil",["AdsSpeedConfig","URI","UserTimingUtils","performanceNow","requestAnimationFrameAcrossTransitions","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f,g){"use strict";var h=new(c("URI"))(window.location.href).getQueryData().dispatchereventtimer,i=new(c("URI"))(window.location.href).getQueryData().logdispatchtimes;a=function(){function a(){var a=this;this.$1={};this.$2={};this.$3={};this.startPerformanceMeasurements=function(b,e){if(b==null)return;b=b.type;h&&console.time&&console.time(b);i&&(a.$3[b]=c("performanceNow")());e&&d("UserTimingUtils").measureStart("AdsDataAtom "+b)};this.endPerformanceMeasurements=function(b,e){if(b==null)return;var f=b.type;h&&console.timeEnd&&console.timeEnd(f);if(i){var g=a.$3[f];delete a.$3[f];a.$1[f]||(a.$1[f]={count:0,totalFluxTime:0,totalTime:0});a.$1[f].count+=1;a.$1[f].totalFluxTime+=c("performanceNow")()-g;a.$5(f,function(){a.$1[f].totalTime+=c("performanceNow")()-g})}e&&d("UserTimingUtils").measureEnd("\u221e "+f,"AdsDataAtom "+f)};this.onDispatchStart=function(b){a.startPerformanceMeasurements(b,a.$4)};this.onDispatchEnd=function(b){a.endPerformanceMeasurements(b,a.$4)};this.$4=d("AdsSpeedConfig").isDevToolsTimingEnabled()}var b=a.prototype;b.$5=function(a,b){var d=this;if(this.$2[a])return;this.$2[a]=1;c("requestAnimationFrameAcrossTransitions")(function(){c("setTimeoutAcrossTransitions")(function(){delete d.$2[a],b()})})};b.resetTiming=function(){this.$1={}};b.getTiming=function(){return this.$1};b.outputTimingTable=function(){var a=this;console.table(Object.keys(this.$1).map(function(b){return babelHelpers["extends"]({action:b},a.$1[b])}))};return a}();b=new a();g["default"]=b}),98);
__d("AdsBrowserExtensionErrorUtils",["isFalsey"],(function(a,b,c,d,e,f,g){"use strict";var h="chrome-extension://";function a(a){a=a.split(h);a=a[a.length-1];return a.split("/")[0]}function b(a){return!c("isFalsey")(a)&&a.indexOf(h)>-1}g.CHROME_EXTENSION=h;g.extractExtensionID=a;g.isBrowserExtensionError=b}),98);
__d("AdsFluxContextInstrumentation",[],(function(a,b,c,d,e,f){"use strict";var g=null;function a(a){g=a}function b(a){}function c(){return g}f.actionStart=a;f.actionEnd=b;f.getLastAction=c}),66);
__d("AdsInterfacesLogger",["invariant"],(function(a,b,c,d,e,f,g,h){"use strict";var i="primary",j="secondary",k="ads_interfaces_logger_primary_app",l="ads_interfaces_logger_secondary_app",m=(a={},a[i]={data:[],isRegistered:!1},a[j]={data:[],isRegistered:!1},a),n=new Map(),o=new Set();b=function(){a.__reset=function(){m[i]={data:[],isRegistered:!1},n.has(k)&&n["delete"](k),m[j]={data:[],isRegistered:!1},n.has(l)&&n["delete"](l),o=new Set()};a.getPath=function(a){return a===i?k:l};a.log=function(b,c){c===void 0&&(c=i);c===j&&!m[c].isRegistered&&m[i].isRegistered&&(c=i);if(!m[c].isRegistered){m[c].data.push(b);return}c=n.get(this.getPath(c));c||h(0,2975);c instanceof a||h(0,2976);c.__log(b)};a.logOnce=function(b,c){c===void 0&&(c=i);var d=JSON.stringify(b);if(o.has(d))return;a.log(b,c);o.add(d)};a.get=function(a){a===void 0&&(a=i);a===j&&!m[a].isRegistered&&m[i].isRegistered&&(a=i);a=n.get(this.getPath(a));return a};function a(a,b){this.__log=a.log,this.__interfaceID=b}var b=a.prototype;b.getInterfaceID=function(){return this.__interfaceID};b.register=function(a){n.set(this.constructor.getPath(a),this),m[a].isRegistered=!0,m[a].data.length>0&&(m[a].data.forEach(this.__log),m[a].data=[]),a===i&&m[j].data.length>0&&(m[j].data.forEach(this.__log),m[j].data=[])};b.unregister=function(a){n["delete"](this.constructor.getPath(a)),m[a].isRegistered=!1};return a}();b.LOG_TYPE_PRIMARY_APP=i;b.LOG_TYPE_SECONDARY_APP=j;g["default"]=b}),98);
__d("PreloadingEvent.flow",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum").Mirrored(["ADS_INTERFACES_PRELOADING_SUCCESS","ADS_INTERFACES_PRELOADING_ISSUE"]);c=b("$InternalEnum").Mirrored(["UNNECESSARY_SERVER_PRELOADING","ERROR_LOADING_PRELOADED_DATA","SERVER_DIDNT_SEND_ALL_NECESSARY_DATA","SERVER_DIDNT_BEAT_JS_EXECUTION","SERVER_DIDNT_BEAT_API_START","SERVER_DIDNT_BEAT_API","SERVER_DISABLED_DIDNT_SEND_DATA","PRELOAD_HIT","UNUSED_PRELOADED_DATA"]);f.PreloadingEventName=a;f.PreloadingEventType=c}),66);
__d("AdsInterfacesLoggerUtils",["AdsBrowserExtensionErrorUtils","AdsFluxContextInstrumentation","AdsInterfacesLogger","ErrorNormalizeUtils","ErrorPubSub","PreloadingEvent.flow","getErrorSafe","requireWeak"],(function(a,b,c,d,e,f,g){"use strict";({defaultJSErrorHandler:function(){}});c("requireWeak")("ErrorLogging",function(a){return a});function h(a,b){var e;e=(e=c("ErrorNormalizeUtils").ifNormalizedError(a))!=null?e:c("ErrorNormalizeUtils").normalizeError(c("getErrorSafe")(a));try{JSON.stringify(b)}catch(a){b=null}a=babelHelpers["extends"]({stack_trace:e.stack,action_type_on_error:d("AdsFluxContextInstrumentation").getLastAction()},b,{normalized_error:e});a.error_name=e.name;a.message=e.message;a.meta_message=e.messageWithParams?e.messageWithParams[0]:"-";a.error_line=e.line;a.error_script=e.script;return a}function i(a,b,e){e=h(a,e);if(d("AdsBrowserExtensionErrorUtils").isBrowserExtensionError(a.stack)||d("AdsBrowserExtensionErrorUtils").isBrowserExtensionError(e.error_script))return;if(a.message!=null&&a.message.includes("ResizeObserver loop limit exceeded"))return;c("AdsInterfacesLogger").log({eventName:b,eventCategory:"errors",data:e},c("AdsInterfacesLogger").LOG_TYPE_PRIMARY_APP)}function a(a,b){c("AdsInterfacesLogger").log({eventName:d("PreloadingEvent.flow").PreloadingEventName.getName(b),eventCategory:"preloading",data:a},c("AdsInterfacesLogger").LOG_TYPE_PRIMARY_APP)}function b(a,b){i(a,"ADS_INTERFACES_ERROR_EXCEPTION",b)}function e(a,b){i(a,"ADS_INTERFACES_CRITICAL_EXCEPTION",b)}function j(a,b){i(a,"ADS_INTERFACES_ERROR_FATAL",b)}function f(a,b){i(a,"ADS_INTERFACES_USER_ERROR",b)}c("ErrorPubSub").addListener(function(a,b){b==="ONERROR"&&!a.message.toLowerCase().startsWith("script error")&&j(a)});g.constructLogDataForError=h;g.logPreloading=a;g.logException=b;g.logCriticalException=e;g.logFatal=j;g.logUserError=f}),98);
__d("AdsPageTransitionActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"PAGE_TRANSITION"}}),null);
__d("AdsDataAtomInstrumentation",[],(function(a,b,c,d,e,f){"use strict";var g=[];function a(a){g.push(a)}function b(a,b){g.forEach(function(c){return c.actionStart(a,b)})}function c(a,b){g.forEach(function(c){return c.actionEnd&&c.actionEnd(a,b)})}function d(a,b){g.forEach(function(c){return c.dispatchCallbacksStart&&c.dispatchCallbacksStart(a,b)})}function e(a,b){g.forEach(function(c){return c.dispatchCallbacksEnd&&c.dispatchCallbacksEnd(a,b)})}function h(){var a=[];g.forEach(function(b){b=b.measureDispatchCallbacks?b.measureDispatchCallbacks():null;b&&a.push(b)});return a.length?function(b){a.forEach(function(a){return a(b)})}:null}f.addInstrumentation=a;f.onActionStart=b;f.onActionEnd=c;f.onDispatchCallbacksStart=d;f.onDispatchCallbacksEnd=e;f.onMeasureDispatchCallbacks=h}),66);
__d("AdsDataDispatchUtils",[],(function(a,b,c,d,e,f){"use strict";var g=Object.freeze([]);function h(a,b){return b.isDisabled||a.has(b.provider)?a:a.set(b.provider,b)}function a(a,b,c,d,e,f){return babelHelpers["extends"]({},d,{type:a,_dataReducers:b,_dataLoggers:c,_dispatchConvention:e,_dispatchModuleID:f==null?void 0:f.moduleID})}function b(a){return a._dataReducers?a._dataReducers:g}function c(a){return a._dataLoggers?a._dataLoggers:g}function d(a,b){return Array.from(b.reduce(h,a.reduce(h,new Map())).values())}function e(a){return a._dispatchConvention==="laminar"}function i(a){return a.actionType}f.mergeParameters=a;f.getDataReducers=b;f.getDataLoggers=c;f.mergeReducers=d;f.shouldSkipLegacyFluxDispatch=e;f.getActionType=i}),66);
__d("AdsDispatchCycle",["invariant","AdsDataAtomInstrumentation"],(function(a,b,c,d,e,f,g,h){"use strict";var i=((a=window.performance)==null?void 0:a.now)!=null?function(){return window.performance.now()}:function(){return Date.now()},j=Object.freeze({PENDING:"PENDING",STARTED:"STARTED",COMPLETE:"COMPLETE"});b=function(){function a(a,b,c,e){var f=this;this.$8=null;this.$9=[];this.$1=[];this.$2={};this.$5={};this.$3=e;this.$4=c;e=d("AdsDataAtomInstrumentation").onMeasureDispatchCallbacks();e&&(this.$7=e,this.$8=[]);a.forEach(function(a,b){return f.register(b,a)});this.$6=b}var b=a.prototype;b.start=function(){for(var a=this.$1,b=Array.isArray(a),c=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var d;if(b){if(c>=a.length)break;d=a[c++]}else{c=a.next();if(c.done)break;d=c.value}d=d;this.$10(d)}this.$8&&this.$7&&this.$7({entries:this.$8,actionType:this.$4})};b.waitFor=function(a){for(var a=a,b=Array.isArray(a),c=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var d;if(b){if(c>=a.length)break;d=a[c++]}else{c=a.next();if(c.done)break;d=c.value}d=d;this.$10(d)}};b.register=function(a,b){this.$1.push(a),this.$2[a]=b,this.$5[a]=j.PENDING};b.getPayload=function(){return this.$6};b.$10=function(a){var b=this;switch(this.$5[a]){case j.COMPLETE:break;case j.PENDING:this.$5[a]=j.STARTED;this.$9.push(a);var c=this.$7?i():null;this.$2[a](this.$6);if(this.$8&&c!=null){this.$8.push({start:c,end:i(),name:(c=this.$3[a])!=null?c:"unknown"})}this.$9.pop();this.$5[a]=j.COMPLETE;break;case j.STARTED:h(0,15659,a,this.$3[a],this.$4,this.$9.map(function(a){return b.$3[a]}).join(", "));default:break}};return a}();g["default"]=b}),98);
__d("AdsReactBatchedUpdatesUtils",["ifRequired"],(function(a,b,c,d,e,f,g){"use strict";function a(a){c("ifRequired")("ReactDOM",function(b){return b.unstable_batchedUpdates(a)},a)}g.batchUpdatesIfReactIsLoaded=a}),98);
__d("DataAtomBase",["invariant","AdsDataAtomInstrumentation","AdsDataDispatchUtils","AdsDispatchCycle","AdsReactBatchedUpdatesUtils","EventEmitter","FBLogger"],(function(a,b,c,d,e,f,g,h){"use strict";var i=typeof jest!=="undefined";a=function(){function a(a,b){var d=this;this.registerDependency=function(a,b){d.$6[b]==null&&(d.$6[b]=new Set()),d.$6[b].add(a)};this.$1={};this.__callbacksNames={};this.$2={};this.$9={};this.$3={};this.$5={};this.$6={};this.$7={};this.$8={};this.__dispatchTokenActionTypes={};this.$10=1;this.$11=null;this.$12=new Set();this.__dispatchSeqNumber=0;this.__catchErrors=!i;this.$13=[];this.__laminarAlteredState={};this.$14=new(c("EventEmitter"))();this.$15=[];this.__previousLegacyFluxReducerProviderState={};this.$16=b;this.$17=new Set();this.$4={};this.$18=a!=null?a:[]}var b=a.prototype;b.register=function(a,b,c,d){var e=this;this.$18.forEach(function(c){c.wrapCallback!=null&&(a=c.wrapCallback(a,b))});var f=this.$19(b),g=this.__invokeCallback.bind(this,f,a);this.$1[f]=g;this.__callbacksNames[f]=d;if(c==null)this.$4[f]=g;else{d=c.getActionTypes();d!=null&&Array.isArray(d)?(d.forEach(function(a){e.$2[a]||(e.$2[a]={},e.$9[a]={}),e.$2[a][f]=g,c!=null&&c.__setAsUnchanged&&(e.$9[a][f]=c.__setAsUnchanged.bind(c))}),this.__dispatchTokenActionTypes[f]=d):this.$3[f]=g;this.$20(c,f);this.$7[f]=new Set(c.__getActionTypes());this.$7[f].forEach(function(a){e.$8[a]||(e.$8[a]=new Set()),e.$8[a].add(f)})}this.$11&&this.$11.register(f,g);this.$18.forEach(function(a){a.onRegistered!=null&&a.onRegistered(b,f,c)});return f};b.registerContainer=function(a,b){b=this.$19(b);a=this.__invokeCallback.bind(this,b,a);this.$5[b]=a;return b};b.unregister=function(a){var b=this;this.$1[a]||this.$5[a]||h(0,1331,a);delete this.$1[a];delete this.$4[a];delete this.$5[a];var c=this.__dispatchTokenActionTypes[a];c?(c.forEach(function(c){delete b.$2[c][a],delete b.$9[c][a]}),delete this.__dispatchTokenActionTypes[a]):delete this.$3[a];this.$6[a]&&this.$6[a].size;delete this.$6[a];this.$18.forEach(function(b){b.onUnregistered&&b.onUnregistered(a)})};b.$20=function(a,b){if(typeof a.__getDependencyStores!=="function")return;a=a.__getDependencyStores();if(!a)return;for(var c=0;c<a.length;c++){var d=a[c]&&a[c].getDispatchToken&&a[c].getDispatchToken();if(d==null)continue;var e=this.registerDependency;e&&e(b,d)}};b.waitFor=function(a){this.$18.forEach(function(b){b.doWaitFor!=null&&b.doWaitFor(a)});var b=this.$11;b||h(0,1332);b.waitFor(a);this.$18.forEach(function(b){b.didWaitFor!=null&&b.didWaitFor(a)})};b.isDispatching=function(){return!!this.$11};b.__invokeCallback=function(a,b,d){if(this.__catchErrors)try{b(d)}catch(b){var e;e=(e=this.__callbacksNames[a])!=null?e:a;a=d&&d.action&&d.action.type;c("FBLogger")("laminar").catching(b).warn("Error in DataAtom callback (Store: %s, Action: %s)",e,a)}else b(d)};b.$19=function(a){return(a?a+"_":"ID_")+this.$10++};b.$21=function(a){a=a.action;if(a){var b=a.type||a.actionType;a.type=b;a.actionType=b}};b.$22=function(a,b,c){if(b!==c){this.__laminarAlteredState=babelHelpers["extends"]({},this.__laminarAlteredState,(b={},b[a]=c,b));this.$12.add(a);this.$14.emit(a)}};b.$23=function(a,b,c){var d=this;b!==c&&a.forEach(function(a){var b=d.__laminarAlteredState[a.provider],e=a.reduce(c);d.$22(a.provider,b,e)})};b.$24=function(a,b,c){var d=this;this.__invokeCallback(a.provider,function(c){c=c.action;b!=null&&(d.$11!=null||h(0,6393,a.provider),d.$11.waitFor(b));var e=d.__laminarAlteredState[a.provider];c=a.reduce(d.__laminarAlteredState,c);d.$22(a.provider,e,c);d.$23(a.triggerReducers,e,c)},c)};b.$25=function(a,b){var c=this;this.__invokeCallback(a,function(b){b=b.action;b=b.data;if(Object.prototype.hasOwnProperty.call(b,a)){var d;c.__laminarAlteredState=babelHelpers["extends"]({},c.__laminarAlteredState,(d={},d[a]=b[a],d))}else delete c.__laminarAlteredState[a];c.$14.emit(a)},b)};b.$26=function(a,b,c){var e=this,f=[];this.$15.forEach(function(a){e.__laminarAlteredState[a.provider]&&e.__previousLegacyFluxReducerProviderState[a.provider]!==e.__laminarAlteredState[a.provider]&&(f.push(a),e.__previousLegacyFluxReducerProviderState[a.provider]=e.__laminarAlteredState[a.provider])});var g=d("AdsDataDispatchUtils").mergeReducers(d("AdsDataDispatchUtils").getDataReducers(b),f),h=[],i=[],j=[],k={};for(var g=g,l=Array.isArray(g),m=0,g=l?g:g[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var n;if(l){if(m>=g.length)break;n=g[m++]}else{m=g.next();if(m.done)break;n=m.value}n=n;var o=this.__laminarAlteredState[n.provider],p=n.reducerName;h.push({providerName:n.provider,alteredState:o});if(n!=null){n.reducerName&&i.push(n.reducerName);j.push(n.provider);if(p!=null){k[p]={provider:n.provider,triggerReducers:{}};for(var o=n.triggerReducers,n=Array.isArray(o),q=0,o=n?o:o[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var r;if(n){if(q>=o.length)break;r=o[q++]}else{q=o.next();if(q.done)break;r=q.value}r=r;if(r!=null){var s=r.triggerReducer;k[p].triggerReducers[s]={provider:r.provider}}}}}}r={actionItem:b,alteredStates:h,providers:j,reducers:i,actionDispatchGraph:k,newState:this.__laminarAlteredState,sequenceNumber:a,siblings:[],shouldDisplay:!0,isActive:!0,debugging:{stack:new Error().stack,options:(s=c)!=null?s:{line:"0",module:"No Module",moduleID:null}}};this.$16!=null&&this.$16.addSnapshotToDebuggerActionDispatchQueue(r)};b.revert=function(a,b){var d=this,e=new Map();this.$16!=null&&this.$16.setPauseActionDispatches(!0);b.forEach(function(a){e.set(a,d.$25.bind(d,a))});b={type:"ADS_DATA_ATOM.REVERT",actionType:"ADS_DATA_ATOM.REVERT",data:a};a={action:b};l(e,this.$1);l(e,this.$5);this.$11=new(c("AdsDispatchCycle"))(e,a,j(a),this.__callbacksNames);this.$11.start();this.$11=null};b.commitRevert=function(){var a=this.$16;a!=null&&(a.setPauseActionDispatches(!1),a.clearActionDispatchQueue())};b.undoRevert=function(a){var b=this,c=Object.keys(a).filter(function(c){return a[c]!==b.__laminarAlteredState[c]});this.revert(a,c);this.$16!=null&&this.$16.setPauseActionDispatches(!1);c=this.$16;while(c!=null&&!c.isActionDispatchQueueEmpty()&&!c.getPauseActionDispatches())c.setPauseActionDispatches(!1),this.dispatch.apply(this,c.dequeueActionToDispatch())};b.$27=function(a){var b={},c=function(){var c=a[d];c.triggerReducers.forEach(function(a){a=a.provider;b[a]=Object.prototype.hasOwnProperty.call(b,a)?b[a].push(c.provider):[c.provider]})};for(var d=0;d<a.length;d++)c();return b};b.$28=function(a,b){for(var b=b,c=Array.isArray(b),d=0,b=c?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=b.length)break;e=b[d++]}else{d=b.next();if(d.done)break;e=d.value}e=e;e=this.$6[e];if(e){for(var f=e,g=Array.isArray(f),h=0,f=g?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var i;if(g){if(h>=f.length)break;i=f[h++]}else{h=f.next();if(h.done)break;i=h.value}i=i;a.has(i)||a.set(i,this.$1[i])}this.$28(a,e)}}};b.__dispatch=function(a){var b=this,e=a.action;this.__dispatchSeqNumber++;var f=e.type;this.$18.forEach(function(a){a.onDispatchStart!=null&&a.onDispatchStart(e)});this.$11&&k(this.$11.getPayload(),a);var g=new Map(),h=d("AdsDataDispatchUtils").mergeReducers(d("AdsDataDispatchUtils").getDataReducers(e),d("AdsDataDispatchUtils").shouldSkipLegacyFluxDispatch(e)?[]:this.$15),i=this.$27(h);for(var h=h,m=Array.isArray(h),n=0,h=m?h:h[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var o;if(m){if(n>=h.length)break;o=h[n++]}else{n=h.next();if(n.done)break;o=n.value}o=o;(o.registries.length==0||o.registries.some(function(a){return b.$17.has(a)}))&&(g.set(o.provider,this.$24.bind(this,o,i[o.provider])),this.__callbacksNames[o.provider]=o.provider)}d("AdsDataDispatchUtils").shouldSkipLegacyFluxDispatch(e)?(this.$8[f]&&this.$8[f].forEach(function(a){g.set(a,b.$1[a])}),this.$28(g,g.keys()),l(g,this.$4)):(l(g,this.$3),l(g,this.$2[f]),l(g,this.$4));o=d("AdsDataDispatchUtils").getDataLoggers(e);m=function(){if(q){if(r>=p.length)return"break";n=p[r++]}else{r=p.next();if(r.done)return"break";n=r.value}var a=n;(a.registries.length==0||a.registries.some(function(a){return b.$17.has(a)}))&&(g.set(a.id,b.__invokeCallback.bind(b,a.id,function(b){b=b.action;a(b)})),b.__callbacksNames[a.id]=a.id)};for(var p=o,q=Array.isArray(p),r=0,p=q?p:p[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){h=m();if(h==="break")break}this.$11=new(c("AdsDispatchCycle"))(g,a,j(a),this.__callbacksNames);this.$11.start();this.$11=null;this.$12=new Set();if(this.$9[f])for(i in this.$9[f])this.$9[f][i]();this.$18.forEach(function(a){a.onDispatchEnd!=null&&a.onDispatchEnd(e)})};b.__updateContainers=function(a){var b=this;Object.keys(this.$5).forEach(function(c){return b.$5[c]&&b.$5[c](a)})};b.hasChangedInDispatchCycle=function(a){this.$11!=null||h(0,1335,a);return this.$12.has(a)};b.__genReactBatchCallback=function(a,b){var c=this;return function(){d("AdsDataAtomInstrumentation").onDispatchCallbacksStart(a.action.type,b),c.__dispatch(a),d("AdsDataAtomInstrumentation").onDispatchCallbacksEnd(a.action.type,b),c.__updateContainers(a)}};b.dispatch=function(a,b){if(this.$16!=null&&this.$16.getPauseActionDispatches()){this.$16.enqueueActionToDispatch(a,b);return}this.$21(a);var c=this.__dispatchSeqNumber;d("AdsDataAtomInstrumentation").onActionStart(a.action.type,c);var e=this.__genReactBatchCallback(a,c);d("AdsReactBatchedUpdatesUtils").batchUpdatesIfReactIsLoaded(e);this.$26(c,a.action,b);this.$29();d("AdsDataAtomInstrumentation").onActionEnd(a.action.type,c)};b.dispatchAction=function(a,b){this.dispatch({action:a},b)};b.$29=function(){var a=this.$13;this.$13=[];a.forEach(function(a){return a()});this.$13.length=0};b.handleUpdateFromServerResponse=function(a){this.dispatch({action:a})};b.handleUpdateFromViewAction=function(a){this.dispatch({action:a})};b.addPostDispatchCallback=function(a){this.isDispatching()?this.$13.push(a):a()};b.setCatchErrors=function(a){this.__catchErrors=a};b.laminarRegisterLegacyFluxReducer=function(a){this.$15.push(a),this.__previousLegacyFluxReducerProviderState[a.provider]=a.providerInitialState()};b.getAlteredState=function(){return this.__laminarAlteredState};b.addListener=function(a,b){return this.$14.addListener(a,b)};b.loadRegistry=function(a){this.$17.add(a)};b.unloadRegistry=function(a){this.$17["delete"](a)};return a}();function j(a){return a&&a.action&&a.action.type||"<unknown>"}function k(a,b){h(0,1336,j(b),j(a))}function l(a,b){if(b!=null){var c=b;Object.keys(c).forEach(function(b){return a.set(b,c[b])})}}g["default"]=a}),98);
__d("AdsDataAtom",["invariant","AdsDataAtomDebugger","AdsDataAtomLaminarDebugger","AdsDataAtomPerformanceUtil","AdsInterfacesLoggerUtils","AdsPageTransitionActionFlux","DataAtomBase","ErrorSerializer","Run"],(function(a,b,c,d,e,f,g,h){"use strict";var i=null;a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b;b=a.call(this,[c("AdsDataAtomPerformanceUtil")],i)||this;b.$AdsDataAtom1=!1;b.$AdsDataAtom2=null;d("Run").onAfterUnload(function(){b.dispatch({action:{type:d("AdsPageTransitionActionFlux").actionType}})});return b}var e=b.prototype;e.__invokeCallback=function(a,b,e){if(this.__catchErrors)try{b(e)}catch(b){a={action_type_on_error:e&&e.action&&e.action.type,error_type:"FLUX_STORE",payload_on_error:e,store_name:this.__callbacksNames[a]};c("ErrorSerializer").aggregateError(b,{type:"fatal"});d("AdsInterfacesLoggerUtils").logCriticalException(b,a)}else b(e)};e.registerBatchingCallback=function(a){this.$AdsDataAtom2==null||h(0,65726),this.$AdsDataAtom2=a};e.unregisterBatchingCallback_TEST_ONLY_DO_NO_USE=function(){this.$AdsDataAtom2=null};e.__genReactBatchCallback=function(b,c){var d=this,e=a.prototype.__genReactBatchCallback.call(this,b,c);if(this.$AdsDataAtom2!=null&&!this.$AdsDataAtom1){var f=this.$AdsDataAtom2;return function(){d.$AdsDataAtom1=!0,f(e),d.$AdsDataAtom1=!1}}else return e};return b}(c("DataAtomBase"));b=new a();e=b;g["default"]=e}),98);
__d("LaminarAction",["AdsDataAtom","AdsDataDispatchUtils","filterNulls"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,e,f){var g=function(g,h){var i=c("filterNulls")(a()),j=c("filterNulls")(b());c("AdsDataAtom").dispatchAction(d("AdsDataDispatchUtils").mergeParameters(e,i,j,g,f,h),h)};return{dispatch:g,actionType:e}}g.create=a}),98);
__d("AdsDataPluginsInternalUtils",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=a,c;return function(){b&&(c=b(),b=null);return c}}f.memoize=a}),66);
__d("LaminarExperimentalSelector",["AdsDataAtom","AdsDataPluginsInternalUtils"],(function(a,b,c,d,e,f,g){"use strict";function h(a){var b=new Set();for(var c in a)for(var d=a[c].providers,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=d.length)break;g=d[f++]}else{f=d.next();if(f.done)break;g=f.value}g=g;b.add(g)}return Array.from(b)}function i(a){var b=new Set();for(var c in a)for(var d=a[c].toFluxSelector().getStores(),e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=d.length)break;g=d[f++]}else{f=d.next();if(f.done)break;g=f.value}g=g;b.add(g)}return Array.from(b)}function j(a,b,c){var d={};for(var e in a)d[e]=a[e].select(b,c);return d}function k(a,b){var c=Object.keys(a);if(c.length!==Object.keys(b).length)return!1;for(var d=0;d<c.length;d++){var e=c[d];if(!Object.prototype.hasOwnProperty.call(b,e)||a[e]!==b[e])return!1}return!0}function a(a,b){var e=null,f=null,g=function(c,d){c=j(a,c,d);(!f||!k(c,f))&&(e=b(c),f=c);return e},l=function(a){return g(c("AdsDataAtom").getAlteredState(),a)},m=Object.assign(l,{providers:h(a),select:g,toFluxSelector:d("AdsDataPluginsInternalUtils").memoize(function(){return Object.assign(function(){return m(c("AdsDataAtom").getAlteredState())},{getStores:function(){return i(a)},isGetStoresStatic:!0,isGetStoresPure:!0,rawSelectFn:function(){return m(c("AdsDataAtom").getAlteredState())}})})});return m}g.create=a}),98);
__d("AdsFluxCurrentContainer",[],(function(a,b,c,d,e,f){"use strict";var g=null;function a(){return g}function b(a){g=a}f.getCurrentContainer=a;f.setCurrentContainer=b}),66);
__d("FluxContainerNameUtils",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){if(a&&b)try{Object.defineProperty(a,"name",{value:b})}catch(a){}return a}f.nameContainer=a}),66);
__d("LaminarCurrentContainer",[],(function(a,b,c,d,e,f){"use strict";var g=null;function a(){return g}function b(a){g=a}f.getCurrentContainer=a;f.setCurrentContainer=b}),66);
__d("LaminarReactHooks",["invariant","AdsDataAtom","AdsFluxCurrentContainer","FluxContainerNameUtils","LaminarCurrentContainer","react","useSubscriptionValue","useUnsafeRef_DEPRECATED"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=i.useCallback,k=i.useEffect,l=i.useMemo,m=i.useRef,n="laminarContainer(unknown)";function a(a){var b=d("LaminarCurrentContainer").getCurrentContainer(),e=a.provider;b=j(function(b){b=a();return b},[a]);var f=j(function(a){var b=c("AdsDataAtom").addListener(e,a);return function(){return b.remove()}},[e]);b=c("useSubscriptionValue")({getCurrentValue:b,subscribe:f});return b}function b(a,b,e){var f,g=(f=(f=(f=e==null?void 0:e.containerName)!=null?f:a.displayName)!=null?f:a.name)!=null?f:n;function h(b){var f=c("useUnsafeRef_DEPRECATED")(null),h=c("useUnsafeRef_DEPRECATED")(!0),i=m(null);k(function(){h.current&&(i.current=b)});var j=(e==null?void 0:e.isFluxContainer)===!0?d("AdsFluxCurrentContainer"):d("LaminarCurrentContainer");j.setCurrentContainer(g);var n=l(function(){var a=b.forwardedRef,c=babelHelpers.objectWithoutPropertiesLoose(b,["forwardedRef"]);return a===void 0?b:babelHelpers["extends"]({},c,{ref:a})},[b]);n=a(n);j.setCurrentContainer(null);h.current=f.current!==n;f.current=n;return n}d("FluxContainerNameUtils").nameContainer(h,g);h.displayName=g;f=function(a,b){return i.jsx(h,babelHelpers["extends"]({},a,{forwardedRef:b}))};f.displayName=g;f=i.forwardRef(f);f=i.memo(f,b);f.displayName=g;return f}g.useProvider=a;g.laminarContainer=b}),98);
__d("AdsSelectorUtils",["Promise","performanceNow"],(function(a,b,c,d,e,f,g){"use strict";var h=new Set(),i=0;function a(a){h.add(a)}function j(a,b){i+=1;var d=[],e=new Set();try{var f=h.size>0,g=f&&i===1;g=g?c("performanceNow")():null;for(var a=a,j=Array.isArray(a),k=0,a=j?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var l;if(j){if(k>=a.length)break;l=a[k++]}else{k=a.next();if(k.done)break;l=k.value}l=l;l=l.getStores(b);if(l)for(var l=l,m=Array.isArray(l),n=0,l=m?l:l[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var o;if(m){if(n>=l.length)break;o=l[n++]}else{n=l.next();if(n.done)break;o=n.value}o=o;o!=null&&!e.has(o)&&(e.add(o),d.push(o))}}if(f){o=g!=null?c("performanceNow")()-g:0;for(n=h,m=Array.isArray(n),l=0,n=m?n:n[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(m){if(l>=n.length)break;k=n[l++]}else{l=n.next();if(l.done)break;k=l.value}j=k;j(o)}}}finally{i-=1}return d}function d(a,b){return j(a,b).map(function(a){return a.getDispatchToken()})}function e(a,b){return j(a,b).some(function(a){return a.hasChanged()})}function f(a,c,d){return new(b("Promise"))(function(b,e){var f=a.getStores(d).map(function(a){return a.addListener(i)}),g={loading:function(){return void 0},empty:function(){return void 0},loaded:function(a){h(),b(a)},error:function(a){h(),e(a)}};i();function h(){f.forEach(function(a){return a.remove()})}function i(){a(c).match(g)}})}g.__registerGetStoreDurationListener=a;g.getStores=j;g.getStoreDispatchTokens=d;g.hasAnyStoreChanged=e;g.loadObjectSelectorToPromise=f}),98);
__d("LaminarReducerWithFluxSelectors",["AdsDataAtom","AdsSelectorUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return function(e,f){var g=Object.keys(a),h=g.map(function(b){return a[b]});c("AdsDataAtom").waitFor(d("AdsSelectorUtils").getStoreDispatchTokens(h));h=g.reduce(function(b,c){return Object.assign(b,(b={},b[c]=a[c](),b))},{});return b(e,f,h)}}g["default"]=a}),98);
__d("AdsSelectorInstrumentation",["performanceNow"],(function(a,b,c,d,e,f,g){"use strict";var h=[];function a(a){h.push(a)}function b(a){h=h.filter(function(b){return b!==a})}function d(){if(h.length===0)return null;var a=c("performanceNow")(),b=h.map(function(b){return b.selectorCall(a)});return function(a){var d=c("performanceNow")();b.forEach(function(b){return b&&b(a,d)})}}g.inject=a;g.removeInstrumentation=b;g.onSelectorCall=d}),98);
__d("AdsSelectorDebug",["invariant","LRUKeyedCache","areEqual","performanceNow"],(function(a,b,c,d,e,f,g,h){"use strict";var i=10,j=5,k=new WeakMap(),l=[],m={__trace:!1,__options:null,startTrace:function(){l.length===0||h(0,3997),m.__trace=!0},stopTrace:function(){l.length===0||h(0,3997),m.__trace=!1},withTrace:function(a,b){var c=m.__options,d=m.__trace;m.__trace=!0;m.__options=b;try{return a()}finally{m.__trace=d,m.__options=c}},withTraceSelector:function(a,b){var c=k.get(a);if(c)return c;c=function(c){return m.withTrace(function(){return a(c)},b)};c.getStores=a.getStores;c.rawSelectFn=a.rawSelectFn;c.isGetStoresPure=a.isGetStoresPure;c.isGetStoresStatic=a.isGetStoresStatic;k.set(a,c);return c},__traceEnter:function(a){if(!m.__trace)return;l.push({name:a,children:[],perfStart:c("performanceNow")()})},__traceInputs:function(a,b,d,e){if(!m.__trace)return;var f=l[l.length-1];f.inputCount=a.length;for(var g=0;g<a.length;g++){var h=f.children[g];h&&(e||(b==null?h.selectorValueChangedAsInput={prev:null,next:d[g],deepEqual:!1}:b[g]!==d[g]&&(h.selectorValueChangedAsInput={prev:b[g],next:d[g],deepEqual:c("areEqual")(b[g],d[g])})))}},__traceProps:function(a,b,d){if(!m.__trace)return;var e=l[l.length-1];a={props:a,cache:b instanceof c("LRUKeyedCache")?b.getCacheSnapshot_DEBUG():new Map(b)};d?e.propsCacheHit=a:e.propsCacheMiss=a},__traceCacheSelectorPropsCacheMiss:function(a,b,d){if(!m.__trace)return;var e=l[l.length-1];e.cacheSelectorPropsCacheMiss={props:a,cache:b instanceof c("LRUKeyedCache")?b.getCacheSnapshot_DEBUG():new Map(b),cacheClearedByStores:Array.from(d)}},__tracePropsHitAndInputsCacheMiss:function(a,b,d,e,f){if(!m.__trace)return;d=l[l.length-1];d.propsHitAndInputsCacheMiss={props:a,cache:b instanceof c("LRUKeyedCache")?b.getCacheSnapshot_DEBUG():new Map(b)}},__traceResult:function(a){if(!m.__trace)return;var b=l.pop();b.result=a;b.executionTimeMs=c("performanceNow")()-b.perfStart;x(b)&&(b.shouldHighlight=!0);if(l.length===0)n(b);else{a=l[l.length-1];a.children.push(b);a.shouldHighlight=a.shouldHighlight||b.shouldHighlight}},__traceFailure:function(a){if(!m.__trace)return;var b=l.pop();b.failure=a;b.shouldHighlight=!0;while(l.length>0){a=l.pop();a.inputFailed=!0;a.shouldHighlight=!0;a.children.push(b);b=a}n(b);m.stopTrace()}};function n(a,b){b===void 0&&(b=!0);var c=D(a);if(((a=m.__options)==null?void 0:a.logFailuresOnly)&&b&&!(c.failure||c.inputFailed))return;if(((a=m.__options)==null?void 0:a.logOnlyIfSlowerThanMs)!=null&&b&&c.executionTimeMs!=null){b=(a=m.__options)==null?void 0:a.logOnlyIfSlowerThanMs;if(c.executionTimeMs<b)return}o(c,function(){p(c),q(c),(c.cacheSelectorPropsCacheMiss||c.propsCacheMiss||c.propsCacheHit||c.propsHitAndInputsCacheMiss)&&(r(c),s(c),t(c),u(c)),v(c),w(c)})}function o(a,b){var c=y(a);if(a.shouldHighlight){(a=console).group.apply(a,c)}else{(a=console).groupCollapsed.apply(a,c)}b();console.groupEnd()}function p(a){a.failure}function q(a){a.inputFailed}function r(a){if(a.cacheSelectorPropsCacheMiss){a=a.cacheSelectorPropsCacheMiss.cacheClearedByStores;a.length>0}}function s(a){a.propsCacheMiss}function t(a){if(a.propsHitAndInputsCacheMiss)var a=a.propsHitAndInputsCacheMiss,b=a.props,b=a.cache}function u(a){a.propsCacheHit}function v(a){if(a.children.length)for(var b=0;b<a.children.length;b++)n(a.children[b],!1)}function w(a){var b=a.thunkTrace;b?n(b,!1):(b=a.name)==null?void 0:b.endsWith("-thunk")}function x(a){var b;b=(b=(b=m.__options)==null?void 0:b.highlightSelectors)!=null?b:[];return b.some(function(b){var c;return(c=a.name)==null?void 0:c.includes(b)})?!0:!1}function y(a){var b=["%s"],c=[a.name],d=a.failure||a.inputFailed,e=z(a);e!=null&&(b.unshift("%s "),c.unshift(e));if(d)b.push(" %c[FAILED]"),c.push("color: red");else{if(a.executionTimeMs!=null){e=a.executionTimeMs;b.push(" %c%fms");c.push(C(e),e.toFixed(3))}b.push(" %c(returned "+(typeof a.result==="function"?"%O":"%o")+")");c.push("",B(a.result))}if(a.selectorValueChangedAsInput!=null){d=a.selectorValueChangedAsInput;b.unshift("%c");c.unshift("color: green");b.push(" %c[INPUT CHANGED]%c %o");c.push("color: white; background-color: green","",A(d))}return[b.join("")].concat(c)}function z(a){var b;if(a.thunkTrace)return String.fromCodePoint(128994);if((b=a.name)==null?void 0:b.endsWith("-thunk"))return String.fromCodePoint(9898);if((b=a.name)==null?void 0:b.endsWith("-branch"))return String.fromCodePoint(128256);return a.isBranchConditionSelector?"(?)":null}function A(a){return{prev:B(a.prev),next:B(a.next),deepEqual:a.deepEqual}}function B(a){var b;if((b=m.__options)==null?void 0:b.disableToJSCast)return a;return(a==null?void 0:a.toJS)instanceof Function?a.toJS():a}function C(a){if(a>=i)return"color: red; font-style: italic";return a>=j?"color: orange; font-style: italic":"color: gray; font-style: italic"}function D(a){var b=[E,F];return b.reduce(function(a,b){return b(a)},a)}function E(a){var b;b=(b=a.inputCount)!=null?b:0;if(a.children.length<=b)return a;var c=babelHelpers["extends"]({},a,{children:a.children.slice(0,b).map(function(a){return babelHelpers["extends"]({},a)})}),d=function(b){var d=a.children[b];b=c.children.find(function(a){var b;return(a.name===((b=d.name)!=null?b:"")+"-thunk"||a.name===((b=d.name)!=null?b:"")+"-wrappedSelector-thunk")&&!a.thunkTrace});b&&(b.thunkTrace=d)};for(b=b;b<a.children.length;b++)d(b);return c}function F(a){var b;if(((b=a.name)==null?void 0:b.endsWith("-branch"))&&a.children.length===3){b=a.children;var c=b[0];b=b.slice(1);if(c)return babelHelpers["extends"]({},a,{children:[babelHelpers["extends"]({},c,{isBranchConditionSelector:!0})].concat(b)})}return a}a=m;g["default"]=a}),98);
__d("adsCacheSelector",["AdsSelectorDebug","LRUKeyedCache","emptyFunction"],(function(a,b,c,d,e,f,g){"use strict";var h=!Map.__isES5||!Object.isExtensible;function i(a){return a!=null&&(typeof a==="object"||typeof a==="function")}a=function(a,b,d,e,f){var g=new(c("LRUKeyedCache"))((f=e)!=null?f:function(a){return a});e=new Set();f=!1;var k=function(){return g.clear()},l=function(a){a.addListener(k)},m=new Set(),n=a.length>0;d&&(b().forEach(function(a){return m.add(a)}),m.forEach(l));var o=d?c("emptyFunction"):function(a){b(a).forEach(function(a){if(m.has(a))return;m.add(a);l(a)})};e=function(b){var c=n?b:null;if(n&&!h&&i(b)&&!Object.isExtensible(b))return a(c);var d=g.get(c);if(d!=null&&!j())return d;o(b);b=a(c);if(j()&&d!=null)return d;g.set(c,b);return b};return e};function j(){return!1}b=a;g["default"]=b}),98);
__d("AdsSelectorProfilerUtils",["AdsSelectorInstrumentation","adsCacheSelector"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,e,f){var g={cacheHit:!0};a=a.bind(void 0,g);var h=c("adsCacheSelector")(a,b,e,void 0,f);a=function(a){g.cacheHit=!0;var b=d("AdsSelectorInstrumentation").onSelectorCall();a=h(a);b&&b({name:f,cacheHit:g.cacheHit});return a};return a}function b(a,b){var c={cacheHit:!0};return function(e){c.cacheHit=!0;var f=d("AdsSelectorInstrumentation").onSelectorCall();e=a(e,c);f&&f({name:b,cacheHit:c.cacheHit});return e}}g.instrumentSelectorInclusive=a;g.instrumentLaminarSelector=b}),98);
__d("LRUKeyedExpiringCache",["invariant","DateConsts","firstx"],(function(a,b,c,d,e,f,g,h){"use strict";var i=15,j=1e3;a=function(){function a(a,b,c){b===void 0&&(b=j),c===void 0&&(c=i),this.$5=new Map(),b>0||h(0,18721),this.$1=b,this.$4=a,this.$2=c}var b=a.prototype;b.$6=function(){clearTimeout(this.$3);if(this.$2<=0)return;this.$3=setTimeout(this.$7.bind(this),this.$2*d("DateConsts").SEC_PER_MIN*d("DateConsts").MS_PER_SEC)};b.$7=function(){var a=this,b=Array.from(this.$5.keys());b.forEach(function(b){var c=a.$5.get(b);if(c==null)return;!c.hasBeenAccessed?a.$5["delete"](b):c.hasBeenAccessed=!1});this.$5.size>0&&this.$6()};b.get=function(a){a=this.$4(a);var b=this.$5.get(a);if(b==null)return void 0;b.hasBeenAccessed=!0;this.$5["delete"](a);this.$5.set(a,b);return b.data};b.set=function(a,b){this.$5.size===0&&this.$6();a=this.$4(a);this.$5["delete"](a);var d=!1;if(this.$1<=this.$5.size&&this.$5.size>0){var e=c("firstx")(this.$5.keys());this.$5["delete"](e);d=!0}this.$5.set(a,{data:b,hasBeenAccessed:!0});return d};b.size=function(){return this.$5.size};b.clear=function(){this.$5.clear(),clearTimeout(this.$3)};b.getCacheSnapshot_DEBUG=function(){return new Map(this.$5)};return a}();g["default"]=a}),98);
__d("LaminarSelector",["invariant","AdsSelectorProfilerUtils","LRUKeyedExpiringCache","distinctArray","flattenArray","shallowEqual"],(function(a,b,c,d,e,f,g,h){"use strict";var i=1e3;function j(a){var b=new Set();for(var c in a){var d=[].concat(a[c].getProviders!=null?a[c].getProviders():[],a[c].providers!=null?a[c].providers:[]);for(var d=d,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=d.length)break;g=d[f++]}else{f=d.next();if(f.done)break;g=f.value}g=g;b.add(g)}}return Array.from(b)}function k(a,b){var c=new Set();for(var d in a)for(var e=a[d].toFluxSelector().getStores(),f=Array.isArray(e),g=0,e=f?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(f){if(g>=e.length)break;h=e[g++]}else{g=e.next();if(g.done)break;h=g.value}h=h;c.add(h)}b!=null&&b.forEach(function(a){return c.add(a)});return Array.from(c)}var l=function(){function a(){this.$1={hasCached:!1,result:null,inputs:null}}var b=a.prototype;b.setCache=function(a,b){this.$1={hasCached:!0,inputs:a,result:b}};b.areInputsEqual=function(a){return this.$1.hasCached&&c("shallowEqual")(this.$1.inputs,a)};b.getCachedResultEnforced=function(){this.$1.hasCached||h(0,14851);return this.$1.result};return a}();function m(a,b){var c={};Object.keys(a).forEach(function(d){c[d]=b(d,a[d])});return c}function n(a){a=m(a,function(a,b){return b()});return a}function a(a,b,e,f,g){e===void 0&&(e=n);f===void 0&&(f="unnamedLaminarSelector");g===void 0&&(g=void 0);var h=(g=g)!=null?g:new(c("LRUKeyedExpiringCache"))(function(a){return a},i);g=function(c,d){var f=h.get(c);if(f!=null)return f();var g=new l();f=function(){var f=e(a,c);if(g.areInputsEqual(f))return g.getCachedResultEnforced();d.cacheHit=!1;var h=b(f,c);g.setCache(f,h);return h};h.set(c,f);return f()};var m=d("AdsSelectorProfilerUtils").instrumentLaminarSelector(g,f),o=j(a),p=k(a,e.attachedStoreDependencies),q=function(a){return m(a)};q.getStores=function(){return p};q.isGetStoresStatic=!0;q.isGetStoresPure=!0;q.rawSelectFn=function(a){return m(a)};return Object.assign(m.bind(void 0),{getProviders:function(){return o},toFluxSelector:function(){return q}})}function b(a,b){var d=function(c,d){var e={};Object.keys(a).forEach(function(b){e[b]=a[b]()});return b(e,c,d)},e=c("distinctArray")(c("flattenArray")(Object.keys(a).map(function(b){return a[b].getStores()})));d.attachedStoreDependencies=e;return d}function e(a,b){var d=function(c,d){return b(a,c,d)},e=c("distinctArray")(Object.keys(a).map(function(b){return a[b]}));d.attachedStoreDependencies=e;return d}g.defaultPrepareFn=n;g.create=a;g.prepareWithFluxSelectors=b;g.prepareWithFluxStores=e}),98);
__d("LaminarTriggerReducer",["AdsDataAtom"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,d){var e=function(b,c){b=d.select(b);return a.reduce(b,c)},f=function(a){return e(c("AdsDataAtom").getAlteredState(),a)};return{provider:d.provider,reduce:f,triggerReducer:b}}g.create=a}),98);
__d("Laminar",["LaminarAction","LaminarExperimentalSelector","LaminarLogger","LaminarProvider","LaminarReactHooks","LaminarReducer","LaminarReducerWithFluxSelectors","LaminarRefetchProvider","LaminarSelector","LaminarTriggerReducer"],(function(a,b,c,d,e,f,g){"use strict";g.__createAction=d("LaminarAction").create,g.__createExperimentalSelector=d("LaminarExperimentalSelector").create,g.__createLogger=d("LaminarLogger").create,g.__createProvider=d("LaminarProvider").create,g.__createReducer=d("LaminarReducer").create,g.__createLegacyReducer=d("LaminarReducer").createLegacy,g.__createRefetchProvider=d("LaminarRefetchProvider").create,g.__createSelector=d("LaminarSelector").create,g.__createTriggerReducer=d("LaminarTriggerReducer").create,g.__defaultPrepareFn=d("LaminarSelector").defaultPrepareFn,g.useProvider=d("LaminarReactHooks").useProvider,g.laminarContainer=d("LaminarReactHooks").laminarContainer,g.withFluxSelectors=c("LaminarReducerWithFluxSelectors"),g.prepareWithFluxSelectors=d("LaminarSelector").prepareWithFluxSelectors,g.prepareWithFluxStores=d("LaminarSelector").prepareWithFluxStores}),98);
__d("LaminarLogger",["AdsDataAtom","Laminar"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,e,f){var g=d("Laminar").__createExperimentalSelector(e,function(a){return a}),h=function(a,c){a=g.select(a);b.log(c,a)};e=function(a){return h(c("AdsDataAtom").getAlteredState(),a)};return Object.assign(e,{id:a,log:h,registries:f==null?[]:f})}g.create=a}),98);
__d("LaminarProvider",["invariant","AdsDataAtom","AdsDataPluginsInternalUtils","FluxReduceStore","Laminar","compactArray"],(function(a,b,c,d,e,f,g,h){"use strict";function i(a,b){var d=function(e){babelHelpers.inheritsLoose(d,e);function d(){var a,c;for(var d=arguments.length,f=new Array(d),g=0;g<d;g++)f[g]=arguments[g];return(a=c=e.call.apply(e,[this].concat(f))||this,c.__moduleID=b,a)||babelHelpers.assertThisInitialized(c)}var f=d.prototype;f.addListener=function(b){return c("AdsDataAtom").addListener(a.provider,b)};f.__registerDispatcherCallback=function(){return};f.getInitialState=function(){return a.getInitialState()};f.reduce=function(){h(0,5462)};f.hasChanged=function(){return c("AdsDataAtom").hasChangedInDispatchCycle(a.provider)};f.getState=function(){return a.select(c("AdsDataAtom").getAlteredState())};f.getDispatchToken=function(){return a.provider};f.__setState=function(a){c("AdsDataAtom").__laminarAlteredState[b]=a};return d}(c("FluxReduceStore"));d.__moduleID=f.id;return new d(c("AdsDataAtom"))}function a(a,b,e,f){f===void 0&&(f=[]);var g=a.initialState,j=a.legacyFluxReduce,k=null,l=function(a){k!=null||h(0,5463),k.dispatch({reducer:a})},m=d("AdsDataPluginsInternalUtils").memoize(function(){return typeof g==="function"?g(l):g}),n=function(a){if(!a)throw new Error("'state' must be present. If 'state' is 'undefined' make sure\n       you passed the altered state to the selector function. Example:\n         AdsExampleSelector(\n           AdsDataAtom.getAlteredState(),\n         );");return Object.prototype.hasOwnProperty.call(a,b)?a[b]:m()},o=function(){return n(c("AdsDataAtom").getAlteredState())},p=d("AdsDataPluginsInternalUtils").memoize(function(){return i(o,b)}),q=d("AdsDataPluginsInternalUtils").memoize(function(){return Object.assign(o,{getStores:d("AdsDataPluginsInternalUtils").memoize(function(){return[p()]}),isGetStoresStatic:!0,isGetStoresPure:!0,rawSelectFn:o})});e=e!=null?c("compactArray")(e()):[];var r=Object.assign(o,{providers:[b],provider:b,select:n,getInitialState:m,shouldLegacyFluxReduceOnly:!!a.shouldLegacyFluxReduceOnly,toFluxStore:p,toFluxSelector:q,triggerReducers:e,registries:f==null?[]:f});k=d("Laminar").__createAction(function(){return[d("Laminar").__createReducer({reduce:function(a,b){return b.reducer(a)}},r,{},b+"SetStateReducer")]},function(){return[]},b+"SetStateAction");j&&c("AdsDataAtom").laminarRegisterLegacyFluxReducer(d("Laminar").__createLegacyReducer({reduce:j},r,{},b+"LegacyFluxReducer"));return r}g.create=a}),98);
__d("LaminarReducer",["AdsDataAtom","Laminar"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b,e,f,g){var h=d("Laminar").__createExperimentalSelector(f,function(a){return a}),i=function(a,c){var d=h.select(a);a=e.select(a);return b.reduce(a,c,d)};f=function(a){return i(c("AdsDataAtom").getAlteredState(),a)};f.isDisabled=!a&&e.shouldLegacyFluxReduceOnly;f.provider=e.provider;f.providerInitialState=function(){return e.getInitialState()};f.reduce=i;f.registries=e.registries;f.triggerReducers=e.triggerReducers;f.reducerName=g;return f}function a(a,b,c,d){return h(!1,a,b,c,d)}function b(a,b,c,d){return h(!0,a,b,c,d)}g.create=a;g.createLegacy=b}),98);
__d("LaminarRefetchProvider",["invariant","AdsDataAtom","Laminar","LaminarProvider"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a,b,e,f,g){g===void 0&&(g=[]);var i=d("LaminarProvider").create(a,e,f,g),j=null,k=function(a){j!=null||h(0,5463),j.dispatch({reducer:a})};a=function(){return i.select(c("AdsDataAtom").getAlteredState())};f=Object.assign(a,babelHelpers["extends"]({},i,{refetch:function(a){return b(k,a)}}));j=d("Laminar").__createAction(function(){return[d("Laminar").__createReducer({reduce:function(a,b){return b.reducer(a)}},i,{},e+"QuerySetStateReducer")]},function(){return[]},e+"QuerySetStateAction");return f}g.create=a}),98);
__d("AdsAccountAddCapabilitiesDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"ACCOUNT.ADD_CAPABILITIES");e.exports=a}),null);
__d("AdsAccountAddCapabilitiesDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"ACCOUNT.ADD_CAPABILITIES"}}),null);
__d("AdsAccountAttributionSpecLoadErrorDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"ACCOUNT.ATTRIBUTION_SPEC_LOAD_ERROR");e.exports=a}),null);
__d("AdsAccountAttributionSpecLoadSuccessDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"ACCOUNT.ATTRIBUTION_SPEC_LOAD_SUCCESS");e.exports=a}),null);
__d("AdsAccountAttributionSpecLoadSuccessDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"ACCOUNT.ATTRIBUTION_SPEC_LOAD_SUCCESS"}}),null);
__d("AdsAccountAttributionSpecUpdateErrorDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"ACCOUNT.ATTRIBUTION_SPEC_UPDATE_ERROR");e.exports=a}),null);
__d("AdsAccountAttributionSpecUpdateStartDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"ACCOUNT.ATTRIBUTION_SPEC_UPDATE_START"}}),null);
__d("AdsAccountAttributionSpecUpdateSuccessDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"ACCOUNT.ATTRIBUTION_SPEC_UPDATE_SUCCESS");e.exports=a}),null);
__d("AdsAccountAttributionSpecUpdateSuccessDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"ACCOUNT.ATTRIBUTION_SPEC_UPDATE_SUCCESS"}}),null);
__d("ifRequired_FOR_LAMINAR_CODEGEN",["ifRequired"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("ifRequired")}),98);
__d("AdsAccountBatchLoadErrorDataAction",["Laminar","ifRequired_FOR_LAMINAR_CODEGEN"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[b("ifRequired_FOR_LAMINAR_CODEGEN")("FameLoadAdAccountsLoggerPlugins",function(a){return b("Laminar").__createLogger("FameLoadAdAccountsLoggerPlugins.FameLoadAdAccountsFailLoggerPlugin",a.FameLoadAdAccountsFailLoggerPlugin,{},["AdsFAMERegistry"])})]},"ACCOUNT.BATCH_LOAD_ERROR");e.exports=a}),null);
__d("AdsAccountBatchLoadErrorDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"ACCOUNT.BATCH_LOAD_ERROR"}}),null);
__d("AdsAdditionalOptionsConsts",["immutable","keyMirror"],(function(a,b,c,d,e,f,g){"use strict";a=c("keyMirror")({campaignGroupBidStrategy:null,campaignGroupBuyingType:null,campaignGroupDeliveryType:null,campaignGroupObjective:null,campaignGroupScheduling:null,campaignGroupSpendLimits:null,campaignGroupAppInstallCampaignType:null,campaignGroupTimeSuggestion:null});b=c("keyMirror")({advantagePlusPlacements:null,age:null,ageSuggestion:null,bidStrategy:null,billingEvent:null,blockList:null,brandSafety:null,brandSafetyBlockLists:null,brandSafetyContentFilter:null,brandSafetyContentTypeExclusion:null,brandSafetyFeedInventoryFilter:null,brandSafetyNegativeKeywordLists:null,campaignAttribution:null,connections:null,conversionWindow:null,deliveryType:null,detailedTargeting:null,deviceAndOS:null,deviceType:null,exclusions:null,experimentalDetailedTargeting:null,experimentalLanguages:null,frequencyControlInterval:null,gender:null,installState:null,isConsentedToInspirationGallery:null,languages:null,limitedPlacements:null,locations:null,optimizationGoal:null,scheduling:null,skippableAdsExclusion:null,spendControls:null,timeSuggestion:null});d={CAMPAIGN_GROUP:a,CAMPAIGN:b};e=c("keyMirror")({F0:null,F1:null,F2:null});f=c("keyMirror")({alwaysVisibie:null,automaticPlacement:null,budget:null,budgetAndDelivery:null,campaignGroupBudget:null,conversion:null,delivery:null,invisible:null,peCampaignGroupDetails:null,placement:null,targeting:null});c=c("immutable").Map(babelHelpers["extends"]({},a,b)).map(function(a){return{isEditable:!1,isSticky:!1,hasEdited:!1}});g.AdditionalOptions=d;g.AdditionalOptionsFrictionLevels=e;g.AdditionalOptionsSections=f;g.AdditionalOptionsDataProviderInitialState=c}),98);
__d("AdsAdditionalOptionsDataProviderPlugin",["AdsAdditionalOptionsConsts"],(function(a,b,c,d,e,f,g){"use strict";a={initialState:d("AdsAdditionalOptionsConsts").AdditionalOptionsDataProviderInitialState};b=a;g["default"]=b}),98);
__d("AdsAdditionalOptionsDataProvider",["AdsAdditionalOptionsDataProviderPlugin","Laminar"],(function(a,b,c,d,e,f){"use strict";e.exports=b("Laminar").__createProvider(b("AdsAdditionalOptionsDataProviderPlugin"),"AdsAdditionalOptionsDataProviderPlugin")}),null);
__d("AdsApplicationIDs",[],(function(a,b,c,d,e,f){a=Object.freeze({ADS_AD_BUILDER:"4613280245667390",ADS_AND_PAGES_MANAGER__DEPRECATED:"6802152230",ADS_CAMPAIGN_MANAGER:"624541620938530",ADS_CAMPAIGN_PLANNER:"1902171089916558",ADS_CREATIVE_STUDIO:"814871115284314",ADS_CREATOR:"209787012415271",ADS_EVENTS_MANAGER:"2094176354154603",ADS_MANAGER:"484843564880080",ADS_PAYMENT:"123097351040126",ADS_POWER_EDITOR:"119211728144504",ADS_POWER_EDITOR_MARKETING_MESSAGES:"910293410103296",BOOSTED_POST:"205000946197077",BUSINESS_ACCOUNTS:"436761779744620",FBADDINS_EXCEL:"1103203559767608",LIFT_STUDY_CREATION:"367378623468359",MOBILE_ADS_MANAGER_FOR_ANDROID:"438142079694454",MOBILE_ADS_MANAGER_FOR_IOS:"1479723375646806",PAGE_ADMIN_APP_FOR_ANDROID:"121876164619130",PAGE_ADMIN_APP_FOR_IOS:"165907476854626",COMMERCE_MANAGER:"515496645328243"});f["default"]=a}),66);
__d("AdsApplicationUtils",["AdsApplicationIDs","ApiClient","URI","WebApiApplication"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=d("WebApiApplication").getClientID();return a===c("AdsApplicationIDs").ADS_POWER_EDITOR}function a(){return h()&&i()}function i(){var a=new(c("URI"))(window.location.href);a=a.getPath();return a.indexOf("adsmanager/reporting")>-1||a.indexOf("adsreporting")>-1}function b(){var a=d("WebApiApplication").getClientID();return a===c("AdsApplicationIDs").COMMERCE_MANAGER}function e(){var a=d("WebApiApplication").getClientID();return a===c("AdsApplicationIDs").ADS_CAMPAIGN_MANAGER}function f(){var a=d("WebApiApplication").getClientID();return a===c("AdsApplicationIDs").ADS_CREATIVE_STUDIO}function j(){var a=d("WebApiApplication").getClientID();return a==="1520381111604620"}function k(){var a=d("WebApiApplication").getClientID();return a===c("AdsApplicationIDs").FBADDINS_EXCEL}function l(){var a=c("ApiClient").getClientID();return a===c("AdsApplicationIDs").ADS_AD_BUILDER}function m(){var a=d("WebApiApplication").getClientID();return a===c("AdsApplicationIDs").LIFT_STUDY_CREATION}function n(){var a=c("ApiClient").getClientID();return a===436761779744620}g.isPowerEditor=h;g.isAdsReporting=a;g.isAdsReportingPath=i;g.isCommerceManager=b;g.isCampaignManager=e;g.isCreativeStudio=f;g.isDynamicInstantAds=j;g.isFAME=k;g.isAdBuilder=l;g.isLiftStudyCreation=m;g.isFBS=n}),98);
__d("AdsAdditionalOptionsStateReducerUtils",["invariant","AdsInterfacesLogger"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){a=a.data.changedParamKeys;return!!(a.selected_ad_ids||a.selected_adset_ids||a.selected_campaign_ids)}function b(a){return a.map(function(a){return{isEditable:a.isSticky,isSticky:a.isSticky,hasEdited:!1}})}function d(a,b,c){var d=a.get(b);d!=null||h(0,14128,b);return a.set(b,{isEditable:c,isSticky:d.isSticky,hasEdited:d.hasEdited})}function e(a,b,c){var d=a.get(b);d!=null||h(0,14128,b);return a.set(b,{isEditable:d.isEditable,isSticky:d.isSticky,hasEdited:c})}function f(a,b,d){return d==="advantage_audience"?i(a,b):a.withMutations(function(a){b.forEach(function(b){var e=a.get(b);if(e!=null){if(d==="increment"){var f=e.isSticky===!1?"focus_framework_sticky_field_set":"focus_framework_sticky_field_refreshed";c("AdsInterfacesLogger").log({data:{field_names:[b]},eventName:f})}a.set(b,{isEditable:!0,isSticky:!0,hasEdited:e.hasEdited})}});return a})}function i(a,b){return a.withMutations(function(a){b.forEach(function(b){var c=a.get(b);c!=null&&a.set(b,{isEditable:!1,isSticky:!1,hasEdited:c.hasEdited})});return a})}g.hasAdObjectChanged=a;g.resetDefaultState=b;g.setFieldValue=d;g.setHasEdited=e;g.setSticky=f;g.unsetSticky=i}),98);
__d("AdsAdditionalOptionsSetStickyReducerPlugin",["AdsAdditionalOptionsStateReducerUtils"],(function(a,b,c,d,e,f,g){"use strict";a={reduce:function(a,b){return d("AdsAdditionalOptionsStateReducerUtils").setSticky(a,b.fields,b.source)}};b=a;g["default"]=b}),98);
__d("AdsFocusFrameworkStickyFieldsLoadedLoggerPlugin",["AdsInterfacesLogger"],(function(a,b,c,d,e,f,g){"use strict";a={log:function(a){var b;if(a.source!=="load")return;a=(b={},b.field_names=a.fields,b);c("AdsInterfacesLogger").log({eventName:"focus_framework_sticky_fields_loaded",data:a},c("AdsInterfacesLogger").LOG_TYPE_PRIMARY_APP)}};b=a;g["default"]=b}),98);
__d("AdsAdditionalOptionsSetStickyAction",["AdsAdditionalOptionsDataProvider","AdsAdditionalOptionsSetStickyReducerPlugin","AdsFocusFrameworkStickyFieldsLoadedLoggerPlugin","Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[b("Laminar").__createReducer(b("AdsAdditionalOptionsSetStickyReducerPlugin"),b("AdsAdditionalOptionsDataProvider"),{},"")]},function(){return[b("Laminar").__createLogger("AdsFocusFrameworkStickyFieldsLoadedLoggerPlugin",b("AdsFocusFrameworkStickyFieldsLoadedLoggerPlugin"),{})]},"AdsAdditionalOptionsSetStickyActionPlugin");e.exports=a}),null);
__d("XAdsFocusFrameworkFieldUsageController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ads/focus_framework/field_usage/",{ad_account_id:{type:"FBID",required:!0},field_key:{type:"String",required:!0}})}),null);
__d("XAdsFocusFrameworkStickyFieldsController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ads/focus_framework/sticky_fields/",{ad_account_id:{type:"FBID",required:!0}})}),null);
__d("AdsFocusFrameworkStickinessDataManager",["AdsAdditionalOptionsSetStickyAction","AdsInterfacesLogger","AsyncTypedRequest","XAdsFocusFrameworkFieldUsageController","XAdsFocusFrameworkStickyFieldsController","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){}var b=a.prototype;b.getStickyFields=function(a){a=c("XAdsFocusFrameworkStickyFieldsController").getURIBuilder().setFBID("ad_account_id",a).getURI();c("promiseDone")(new(c("AsyncTypedRequest"))().setURI(a).exec().then(function(a){a.payload.sticky_fields&&c("AdsAdditionalOptionsSetStickyAction").dispatch({fields:a.payload.sticky_fields,source:"load"},{line:"36",module:"AdsFocusFrameworkStickinessDataManager.js",moduleID:f.id})},function(a){c("AdsInterfacesLogger").log({data:{message:a.errorDescription},eventName:"focus_framework_sticky_field_fetch_error"})}))};b.incrementCounter=function(a,b){a=c("XAdsFocusFrameworkFieldUsageController").getURIBuilder().setFBID("ad_account_id",a).setString("field_key",b).getURI();c("promiseDone")(new(c("AsyncTypedRequest"))().setURI(a).exec().then(function(a){a.payload.is_sticky&&c("AdsAdditionalOptionsSetStickyAction").dispatch({fields:[b],source:"increment"},{line:"67",module:"AdsFocusFrameworkStickinessDataManager.js",moduleID:f.id})},function(a){c("AdsInterfacesLogger").log({data:{message:a.errorDescription},eventName:"focus_framework_sticky_counter_error"})}))};return a}();b=new a();g["default"]=b}),98);
__d("AdsAdditionalOptionsGetStickyFieldsReducerPlugin",["AdsAdditionalOptionsConsts","AdsApplicationUtils","AdsFocusFrameworkStickinessDataManager"],(function(a,b,c,d,e,f,g){"use strict";a={reduce:function(a,b){b.accountID!=null&&d("AdsApplicationUtils").isPowerEditor()&&c("AdsFocusFrameworkStickinessDataManager").getStickyFields(b.accountID);return d("AdsAdditionalOptionsConsts").AdditionalOptionsDataProviderInitialState}};b=a;g["default"]=b}),98);
__d("AdsAccountBatchLoadedDataAction",["AdsAdditionalOptionsDataProvider","AdsAdditionalOptionsGetStickyFieldsReducerPlugin","Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[b("Laminar").__createReducer(b("AdsAdditionalOptionsGetStickyFieldsReducerPlugin"),b("AdsAdditionalOptionsDataProvider"),{},"")]},function(){return[]},"ACCOUNT.BATCH_LOADED");e.exports=a}),null);
__d("AdsAccountBatchLoadedDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"ACCOUNT.BATCH_LOADED"}}),null);
__d("AdsAccountChangeAccountNameDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"ACCOUNT.CHANGE_ACCOUNT_NAME"}}),null);
__d("AdsAccountDefaultUnifiedAttrSpecLoadErrorDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"ACCOUNT.DEFAULT_UNIFIED_ATTRIBUTION_SPEC_LOAD_ERROR");e.exports=a}),null);
__d("AdsAccountDefaultUnifiedAttrSpecLoadSuccessDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"ACCOUNT.DEFAULT_UNIFIED_ATTRIBUTION_SPEC_LOAD_SUCCESS");e.exports=a}),null);
__d("AdsAccountDefaultUnifiedAttrSpecLoadSuccessDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"ACCOUNT.DEFAULT_UNIFIED_ATTRIBUTION_SPEC_LOAD_SUCCESS"}}),null);
__d("AdsAccountDefaultUnifiedAttrSpecUpdateErrorDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"ACCOUNT.DEFAULT_UNIFIED_ATTRIBUTION_SPEC_UPDATE_ERROR");e.exports=a}),null);
__d("AdsAccountDefaultUnifiedAttrSpecUpdateStartDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"ACCOUNT.DEFAULT_UNIFIED_ATTRIBUTION_SPEC_UPDATE_START"}}),null);
__d("AdsAccountDefaultUnifiedAttrSpecUpdateSuccessDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"ACCOUNT.DEFAULT_UNIFIED_ATTRIBUTION_SPEC_UPDATE_SUCCESS");e.exports=a}),null);
__d("AdsAccountDefaultUnifiedAttrSpecUpdateSuccessDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"ACCOUNT.DEFAULT_UNIFIED_ATTRIBUTION_SPEC_UPDATE_SUCCESS"}}),null);
__d("AdsAccountGKsErrorReducerPlugin",["LoadObject"],(function(a,b,c,d,e,f,g){"use strict";a={reduce:function(a,b){return a.set(b.accountID,c("LoadObject").withError(b.error))}};b=a;g["default"]=b}),98);
__d("AdsAccountGKsErrorAction",["AdsAccountGKsErrorReducerPlugin","AdsAccountGKsProvider","Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[b("Laminar").__createReducer(b("AdsAccountGKsErrorReducerPlugin"),b("AdsAccountGKsProvider"),{},"")]},function(){return[]},"AdsAccountGKsErrorActionPlugin");e.exports=a}),null);
__d("AdsAccountGKsLoadedReducerPlugin",["LoadObject"],(function(a,b,c,d,e,f,g){"use strict";a={reduce:function(a,b){return a.set(b.accountID,c("LoadObject").withValue(b.data))}};b=a;g["default"]=b}),98);
__d("AdsAccountGKsLoadedAction",["AdsAccountGKsLoadedReducerPlugin","AdsAccountGKsProvider","Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[b("Laminar").__createReducer(b("AdsAccountGKsLoadedReducerPlugin"),b("AdsAccountGKsProvider"),{},"")]},function(){return[]},"AdsAccountGKsLoadedActionPlugin");e.exports=a}),null);
__d("AdsAccountGKsProvider",["AdsAccountGKsProviderPlugin","Laminar"],(function(a,b,c,d,e,f){"use strict";e.exports=b("Laminar").__createProvider(b("AdsAccountGKsProviderPlugin"),"AdsAccountGKsProviderPlugin")}),null);
__d("AdsAccountAdsReportingDataLoaderFields",[],(function(a,b,c,d,e,f){a={fields:["account_id","business","business_country_code","capabilities","created_time","currency","name","timezone_id","timezone_name","timezone_offset_hours_utc"]};f["default"]=a}),66);
__d("AdmanagerAccountStatuses",[],(function(a,b,c,d,e,f){a=Object.freeze({ACTIVE:1,DISABLED:2,UNSETTLED:3,PENDING_RISK_REVIEW:7,PENDING_SETTLEMENT:8,IN_GRACE_PERIOD:9,PENDING_CLOSURE:100,CLOSED:101,ANY_ACTIVE:201,ANY_CLOSED:202});f["default"]=a}),66);
__d("AdsBuyingTypes",[],(function(a,b,c,d,e,f){a=Object.freeze({AUCTION:"AUCTION",FIXED_PRICE:"FIXED_PRICE",RESERVED:"RESERVED",MIXED:"MIXED"});f["default"]=a}),66);
__d("AdsPEPublishDisableReasons",["fbt"],(function(a,b,c,d,e,f,g,h){"use strict";a={PUBLISH:h._("This ad account has a balance that needs to be paid before you can publish. Please verify that your billing information is up to date."),EDIT:h._("This ad account has a balance that needs to be paid before you can take this action. Please verify that your billing information is up to date.")};b=h._("Your account is closed and can't be used to run ads. You can create a new ad account or make this one active again.");c=h._("Your account is currently pending closure and is unable to run ads. You can cancel closing your account to run ads again.");d=h._("You do not have permission to create ads on this account.");e={EDIT:h._("Direct deals cannot be modified through Ads Manager. Please use the direct deals tool.")};g.ACCOUNT_UNSETTLED=a;g.ACCOUNT_CLOSED=b;g.ACCOUNT_PENDING_CLOSURE=c;g.NO_PERMISSION=d;g.IS_DIRECT_DEALS_AD_ACCOUNT=e}),98);
__d("AdsGkExposureFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1827916");b=d("FalcoLoggerInternal").create("ads_gk_exposure",a);e=b;g["default"]=e}),98);
__d("AdsLoadState_LEGACY",["keyMirror"],(function(a,b,c,d,e,f,g){"use strict";a=c("keyMirror")({DELETING:null,ERROR:null,LOADED:null,LOADING:null,UPDATING:null,NOT_LOADED:null,PENDING_WRITE:null});b=a;g["default"]=b}),98);
__d("AdsGKInternal",["invariant","AdsGkExposureFalcoEvent","AdsInterfacesLogger","AdsLoadState_LEGACY","FBLogger","gkx","requestIdleCallback"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){function b(a,b){h(0,17718)}b.withoutLog=function(a,b){h(0,17718)};b.logExposure=function(a,b){h(0,17718)};b.forMigration=function(a,b,c){h(0,17718)};b._=function(b,c,d){d===void 0&&(d=!0);return j(b,a,c,d)};b._forMigration=function(b,d,e){var f,g;if(c("gkx")("2943")){f=j(b,a,d);g=e();if(f!==g){var h=i(b,a,d);h!=null&&t(h,d,f)}}if(c("gkx")("3718")){return(h=g)!=null?h:e()}return(h=f)!=null?h:j(b,a,d)};b._log=function(b,c){k(b,a,c)};b._clearExposures_FOR_TEST=r;b.type=a;return b}function i(a,b,d){if(a==null)return null;if(a.loadState===c("AdsLoadState_LEGACY").LOADING)return null;var e=a.__gk_DO_NOT_USE;if(e==null){c("FBLogger")("adsAccountGK").warn("Checking GK %s for account %s, but account has no GK data!",d,a.account_id);return null}return e.gks2[b]}function j(a,b,c,d){d===void 0&&(d=!0);a=i(a,b,c);if(a==null)return!1;d&&o(a,c);if(a.gks.has(c))return!0;return c.includes(":")?a.gks.has(c.split(":")[0]):!1}function k(a,b,c){a=i(a,b,c);a!=null&&o(a,c)}var l=new Set(),m=!1,n=[];function o(a,b){var c,d=a.id+":"+b;if(l.has(d))return;c={gko:b,gki:(c=a.gkablog)==null?void 0:c.get(b),id:a.id,mac:a.mac};n.push(c);p();l.add(d)}function p(){if(m)return;m=!0;c("requestIdleCallback")(function(){return q()},{timeout:5e3})}function q(){m=!1;var a=function(){var a=n.pop();c("AdsGkExposureFalcoEvent").log(function(){return a})};while(n.length>0)a()}function r(){l=new Set(),s=new Set()}var s=new Set();function t(a,b,d){a=a.id+":"+b;if(s.has(a))return;c("AdsInterfacesLogger").log({eventName:d?"ADS_ACCOUNT_GK_MIGRATION.INCONSISTENCY.OLD_PASSES_NEW_FAILS":"ADS_ACCOUNT_GK_MIGRATION.INCONSISTENCY.OLD_FAILS_NEW_PASSES",data:{component_name:b}});s.add(a)}g.createChecker=a;g.checkGKInternal=j;g.clearExposures_FOR_TEST=r}),98);
__d("adsAccountGK",["AdsGKInternal"],(function(a,b,c,d,e,f,g){"use strict";a=d("AdsGKInternal").createChecker("ad_account");b=a;g["default"]=b}),98);
__d("AdsAccountUtils",["errorDesc","fbt","AdmanagerAccountStatuses","AdsAudienceDirectConfig","AdsBuyingTypes","AdsPEPublishDisableReasons","Arbiter","FBLogger","adsAccountGK","isNumberLike","performanceNow"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=!1;function a(a){if(j)return;j=!0;c("Arbiter").inform("ads_account_store_acc_id",{src:a,ts:c("performanceNow")()},"state")}function b(){c("FBLogger")("ads_account_switcher",".account_updated_in_account_store").warn("Account id in AdsAccountStore will eventually be immutable, and account id comes from CurrentAdAccount.getID")}function e(a,b,d){d===void 0&&(d="AdsAccountSelect"),c("FBLogger")("ads_account_switcher","ad_account_updated_mis_matched").warn("Ad account mismatches in %s, CurrentAdAccount id is %s, account id is %s",d,a,b)}function f(a,b,d,e){d===void 0&&(d="AdsAccountSelect"),e===void 0&&(e=!1),c("FBLogger")("ads_account_switcher","business_account_updated_mis_matched").warn("Business account mismatches in %s, CurrentBusinessUser business_id is: %s, business id is %s, has shared ad account is %s",d,a,b,e)}function k(a){c("FBLogger")("ads_account_switcher","request_rejected_failure").catching(a).warn("Request rejected because of %s",a.message)}var l=[c("AdmanagerAccountStatuses").CLOSED,c("AdmanagerAccountStatuses").DISABLED,c("AdmanagerAccountStatuses").PENDING_CLOSURE,c("AdmanagerAccountStatuses").UNSETTLED];function m(a){return!s(a)&&!l.includes(a.account_status)}function n(a){return m(a)&&a.is_business_allowed_to_advertise===!0&&a.is_user_allowed_to_advertise===!0}function o(a){if(c("adsAccountGK")._(a,"1bpA8s90r"))return d("AdsPEPublishDisableReasons").IS_DIRECT_DEALS_AD_ACCOUNT.EDIT;return a&&a.account_status===c("AdmanagerAccountStatuses").UNSETTLED?d("AdsPEPublishDisableReasons").ACCOUNT_UNSETTLED.EDIT:null}function p(a){if(c("adsAccountGK")._(a,"1bpA8s90r"))return d("AdsPEPublishDisableReasons").IS_DIRECT_DEALS_AD_ACCOUNT.EDIT;return a&&a.account_status===c("AdmanagerAccountStatuses").UNSETTLED?d("AdsPEPublishDisableReasons").ACCOUNT_UNSETTLED.EDIT:q(a)}function q(a){if(a&&!m(a)){a=a.account_status;switch(a){case c("AdmanagerAccountStatuses").UNSETTLED:return d("AdsPEPublishDisableReasons").ACCOUNT_UNSETTLED.EDIT;case c("AdmanagerAccountStatuses").CLOSED:case c("AdmanagerAccountStatuses").DISABLED:case c("AdmanagerAccountStatuses").PENDING_CLOSURE:return h._(function(a,b){return a._("Only active accounts can create or edit ads.")},{});default:return d("AdsPEPublishDisableReasons").NO_PERMISSION}}return null}function r(a,b){var c=a.name,d=a.account_id;a=a.io_number;a!=null?c?c=i._("{account name} (IO {IO Number})",[i._param("account name",c),i._param("IO Number",a)]):c=i._("IO {IO number}",[i._param("IO number",a)]):c||(c=d);b===!0&&c!==d&&(c=i._("{account name} ({account ID})",[i._param("account name",c),i._param("account ID",d)]));return c}function s(a){a=(a=a==null?void 0:(a=a.userpermissions)==null?void 0:a.data)!=null?a:[];return a.length>0&&a.every(function(a){return a.role==="REPORTS_ONLY"})}function t(a){return a!=null&&a.length>=5&&c("isNumberLike")(a)}function u(a){return(a.funding_source==null||a.funding_source==="")&&!w(a,"HAS_VALID_PAYMENT_METHODS")&&!w(a,"DIRECT_SALES")&&a.can_bypass_fs_check!==!0}function v(a){return a!=null&&w(a,"DIRECT_SALES")&&a.io_number!=null&&parseInt(a.io_number,10)>0}function w(a,b){return x(a==null?void 0:a.capabilities,b)}function x(a,b){return a!=null&&a.includes(b)}function y(a){return c("AdsAudienceDirectConfig").isDirectDealsUser?c("AdsBuyingTypes").FIXED_PRICE:w(a,"CAN_ONLY_USE_RF_IO_BUYING_TYPE")?c("AdsBuyingTypes").RESERVED:c("AdsBuyingTypes").AUCTION}function z(a){a=a==null?void 0:a.business;return a!=null?{businessID:a.id,businessName:a.name||a.id}:{businessID:null,businessName:""}}n={canCreateAds:n,getEditDisabledReason:o,getPublishDisabledReason:p,getAccountHasNoPublishPermissionDisabledReason:q,getUIName:r,isAnalystAccount:s,isPotentialAccountID:t,isPaymentInfoRequired:u,hasContract:v,hasCapability:w,hasCapabilityFromList:x,getDefaultBuyingType:y,getBusinessInfo:z,logAccID:a,logMsgWhenAccountUpdates:b,logAdAccountUpdatesMisMatched:e,logBusinessAccountUpdatesMisMatched:f,logCapabilityFailures:k};o=n;g["default"]=o}),98);
__d("FBTraceIDsForFailedGraphAPIRequests",[],(function(a,b,c,d,e,f){var g=[];function a(a){g.push(a)}f.errorFBTraces=g;f.insert=a}),66);
__d("GraphAPIPerfLogging",["ApiClient","ResourceTimingsStore","ResourceTypes"],(function(a,b,c,d,e,f,g){"use strict";var h=new Map();function a(){c("ApiClient").subscribe("request.prepare",i),c("ApiClient").subscribe("request.complete",j),c("ApiClient").subscribe("request.error",j)}function i(a,b,e){a=d("ResourceTimingsStore").getUID(c("ResourceTypes").XHR,a);h.set(e,a);d("ResourceTimingsStore").annotate(c("ResourceTypes").XHR,a).addStringAnnotation("request_name",b._reqName).addStringAnnotation("request_source",b._reqSrc).addStringAnnotation("request_method",b.method);d("ResourceTimingsStore").measureRequestSent(c("ResourceTypes").XHR,a)}function j(a,b,e,f,g,i){a=h.get(i);a&&(h["delete"](i),d("ResourceTimingsStore").measureResponseReceived(c("ResourceTypes").XHR,a),d("ResourceTimingsStore").annotate(c("ResourceTypes").XHR,a).addStringAnnotation("fbtrace_id",f.__fb_trace_id__||"").addStringAnnotation("www_request_id",f.__fb_trace_id__||""))}g.register=a}),98);
__d("GraphAPIPreloadingOnlyMode",[],(function(a,b,c,d,e,f){"use strict";var g=window.location.search.indexOf("preloadingonly")>-1;function a(){g=!1}function b(){g=!0}function c(){return g}f.disable=a;f.enable=b;f.isEnabled=c}),66);
__d("RequestProcessorBase",["abstractMethod"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.runRequest=a}var b=a.prototype;b.scheduleRequest=function(a,b){return c("abstractMethod")("RequestProcessorBase","scheduleRequest")};return a}();g["default"]=a}),98);
__d("RequestProcessorDefault",["RequestProcessorBase"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.scheduleRequest=function(a,b){this.runRequest(a,b)};return b}(c("RequestProcessorBase"));g["default"]=a}),98);
__d("getErrorFromAPIResponse",["errorCode"],(function(a,b,c,d,e,f,g,h){"use strict";var i={code:1,error_subcode:1357045,message:"unknown error (empty response)",type:"http",status:0};function a(a){var b;if(a==null||(a==null?void 0:(b=a.error)==null?void 0:b.error_subcode)===1357045)return window.navigator.onLine===!1?{code:1,error_subcode:1357051,message:"unknown error (empty response), likely due to an unreliable network connection",type:"http",status:0}:i;if(a.error){return babelHelpers["extends"]({},a.error,{fbtrace_id:(b=(b=a.error.fbtrace_id)!=null?b:a.__www_request_id__)!=null?b:a.__fbtrace_id__})}if(a.error_code&&a.error_msg){return{message:a.error_msg,code:a.error_code,type:a.error_type,error_subcode:a.error_subcode,fbtrace_id:(b=a.__www_request_id__)!=null?b:a.__fbtrace_id__}}return void 0}g["default"]=a}),98);
__d("AdsPreloaderMismatchesConstants",[],(function(a,b,c,d,e,f){"use strict";a=["AdsDynamicAdObjectDataManager","AdsPEAdObjectTableDataManager","AdsDraftDataManager._load","AdsDraftDataManager.getOrCreateCurrentDraft","AdsDraftFragmentListDataManager","AdsPEFilterLiveDataManager._getDataForLevels","AdsPETableDataFetchingPolicy.fetchBody.stats>fetchSync","AdsInsightsColumnPresetDataLoader"];b="preloader_has_no_queries_and_is_likely_disabled";c={AdsDraftDataManagerPreloader:[{requestName:"objectByName:addraft_ID",stringArrayAnnotations:{fields:["path"]}}]};f.IMPORTANT_PRELOADERS_REQUEST_SOURCE=a;f.NO_QUERIES_MSG=b;f.COMMON_KNOWN_MISMATCHES_TO_IGNORE=c}),66);
__d("preloadedGraphAPIUtils",["areEqual","isTruthy"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b,d,e){d===void 0&&(d="fields");e===void 0&&(e={});var f=[];function g(a,b,c){f.push({field:a,clientValue:typeof b==="string"?b:JSON.stringify((a=b)!=null?a:null),serverValue:typeof c==="string"?c:JSON.stringify((b=c)!=null?b:null)})}if(c("areEqual")(a,b))return f;a==null||b==null?g("queryDataParam",a,b):(Object.keys(b).forEach(function(c){!Object.prototype.hasOwnProperty.call(a,c)&&b[c]!=null&&g(c,null,b[c])}),Object.keys(a).forEach(function(f){var h;h=f===d?m:(h=e[f])!=null?h:c("areEqual");h(a[f],b[f])||g(f,a[f],b[f])}));return f}function a(a,b,c,d){c===void 0&&(c="fields");return h(a,b,c,d).length===0}function i(a,b){if(c("areEqual")(a,b)||!a)return[];if(!b)return a instanceof Array?a:[a];if(typeof a==="string"&&a!==b)return[a];if(Array.isArray(a)){b=Array.isArray(b)?b:[b];return Array.from(j(a,b))}return[]}function j(a,b){a=k(a);var c=k(b),d=new Set(),e=function(){if(g){if(h>=f.length)return"break";b=f[h++]}else{h=f.next();if(h.done)return"break";b=h.value}var a=b,e=a[0];i=a[1];a=i.subfields;var j=i.rawField,k=c.get(e);if(k==null)d.add(j);else{j=Array.from(a).filter(function(a){return!k.subfields.has(a)});j.length>0&&d.add(e+"{"+j.join(",")+"}")}};for(var f=a,g=Array.isArray(f),h=0,f=g?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var i;a=e();if(a==="break")break}return d}function k(a){var b=new Map();a.forEach(function(a){var c=l(a),d=c.field;c=c.subfields;b.set(d,{subfields:c,rawField:a})});return b}function l(a){var b=a.match(/(\w+)({[\w,]+})?/);b=(c("isTruthy")(b)?b:[]).filter(function(b){return b!=a});if(b.length===0||b.includes(void 0))return{field:a,subfields:new Set()};var d=b[0];b=b[1];return{field:d,subfields:new Set(b.replace(/{|}/g,"").split(","))}}function m(a,b){return i(a,b).length===0}g.getSubsetDeltas=h;g.isSubsetOf=a;g.getFieldSubsetDeltas=i;g.isFieldsSubsetOf=m}),98);
__d("AdsPreloaderUtils",["AdsPreloaderMismatchesConstants","compareString","filterObject","preloadedGraphAPIUtils"],(function(a,b,c,d,e,f,g){"use strict";var h=["locale","am_call_tags","xref","qpl_active_flow_ids","qpl_active_flow_instance_ids"];function i(a){a&&(Array.isArray(a.filtering)&&(a.filtering.sort(function(a,b){return c("compareString")(a.field,b.field)}),a.filtering.forEach(function(a){Array.isArray(a.value)&&a.value.sort()})),Array.isArray(a.action_attribution_windows)&&a.action_attribution_windows.sort());return a}function j(a){a=a.preloadInfo;return a&&a.fieldsParam?a.fieldsParam:"fields"}function k(a,b,c){var e={fields:[],client_values:[],server_values:[],missing_server_fields:[]};function f(a){return typeof a==="string"?a:JSON.stringify((a=a)!=null?a:null)}function g(a,b,c){e.fields.push(a),e.client_values.push(f(b)),e.server_values.push(f(c))}var h=o(a);a=j(a);var k=m(c);h.path!==k.path&&g("path",h.path,k.path);h.method!==k.method&&g("method",h.method,k.method);b[c].error&&g("error",null,"non-null");b=d("preloadedGraphAPIUtils").getSubsetDeltas(i(h.params),i(k.params),a);for(var c=b,b=Array.isArray(c),l=0,c=b?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var n;if(b){if(l>=c.length)break;n=c[l++]}else{l=c.next();if(l.done)break;n=l.value}n=n;if(n.field===a&&h.params!=null&&k.params!=null){var p=d("preloadedGraphAPIUtils").getFieldSubsetDeltas(h.params[a],k.params[a]);e.missing_server_fields=p}else g(n.field,n.clientValue,n.serverValue)}n=(p=h.ids)!=null?p:[];var q=(l=k.ids)!=null?l:[];n.every(function(a){return q.indexOf(a)!==-1})||g("ids",n,q);return e}function a(a){var b=a.params,c=a.method;a=a.path;return l(b,c,a)}function l(a,b,c){a=n(a);var d=Object.keys(a);for(var e=0;e<d.length;e++){var f=d[e];a[f]==null&&delete a[f]}return b+c+JSON.stringify(a)}function m(a){var b=a.indexOf("/"),c=a.indexOf("{"),d=a.substring(0,b);b=a.substring(b,c);a=a.substring(c);c=JSON.parse(a);a=c.ids;c=babelHelpers.objectWithoutPropertiesLoose(c,["ids"]);return p({ids:a,params:c,path:b,method:d})}function n(a){return a==null?{}:c("filterObject")(a,function(a,b){return!h.includes(b)&&!b.startsWith("_")})}function o(a){var b=a.path,c=a.method;a=n(a.params);var d=a.ids;a=babelHelpers.objectWithoutPropertiesLoose(a,["ids"]);return p({ids:d,params:a,path:b,method:c})}function p(a){var b=a.path,c=a.ids,d=a.params;a=a.method;var e=b.replace(/(\/v\d\.\d\/)\d*\/?$/,"$1"),f=!1;if(c==null&&e!==b){f=!0;var g=b.replace(/\/v\d\.\d\/(\d*)\/?$/,"$1");c=g;b=e}typeof c==="string"&&(c=c.split(","));d&&d.fields&&d.fields.sort&&d.fields.sort();if(d!=null){g=Object.keys(d);for(e=0;e<g.length;e++){var h=g[e];d[h]==null&&delete d[h]}}return{ids:c,isForSingleID:f,params:d,path:b,method:a}}function b(a,b){if(Object.keys(b).length===0)return{fields:[d("AdsPreloaderMismatchesConstants").NO_QUERIES_MSG],client_values:["N/A"],server_values:["true"]};var e=null,f=Object.keys(b);for(var g=0;g<f.length;g++){var h=f[g];h=k(a,b,h);(e===null||h.fields.length<e.fields.length)&&(e=h)}return c("filterObject")((h=e)!=null?h:{},function(a,b){return a.length>0})}g.normalizeParamsForComparison=i;g.getFieldsParamFromRequest=j;g.getQueryKey=a;g.getQueryKeyImpl=l;g.extractMetadataFromServerKey=m;g.filterIgnoredParams=n;g.extractMetadataFromRequest=o;g.getStringArrayAnnotations=b}),98);
__d("getQueryParamFromURI",["URI","memoizeWithArgs"],(function(a,b,c,d,e,f,g){"use strict";var h=c("memoizeWithArgs")(function(){return new(c("URI"))(window.location.href).getQueryData()},function(){return String(window.location.href)});function a(a){return h()[a]}g["default"]=a}),98);
__d("adsIsPreloadingDebugModeFromURI",["getQueryParamFromURI"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("getQueryParamFromURI")("preloadingdebug")||c("getQueryParamFromURI")("preloadingonly")}g["default"]=a}),98);
__d("preloadedGraphAPI",["AdsPreloaderUtils","FBLogger","PreloadingEvent.flow","Promise","adsIsPreloadingDebugModeFromURI","clearTimeout","cr:1612590","gkx","performanceAbsoluteNow","preloadedGraphAPIUtils","qpl","requireDeferred","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("QuickPerformanceLogger").__setRef("preloadedGraphAPI"),i=c("adsIsPreloadingDebugModeFromURI")(),j=new Set(),k={},l=new Map(),m=[],n={};function o(a){((a=n[a])!=null?a:[]).forEach(function(a){return a()})}function p(a,b){var c;((c=n[a])!=null?c:n[a]=[]).push(b)}var q=.01;function e(e){var f=e.preloadInfo,g=f.asyncData;f=f.isScenarioOngoing;if(!f())return e.go();var h=s(e);b("cr:1612590")!=null&&b("cr:1612590").addDebugPreloadedCall({name:h.preloader,api_request_source:h.requestSource,timestamp:c("performanceAbsoluteNow")()});f=(f=a.__pendingPreloaders)!=null?f:{};g.onError(function(a){y(d("PreloadingEvent.flow").PreloadingEventName.ADS_INTERFACES_PRELOADING_ISSUE,d("PreloadingEvent.flow").PreloadingEventType.ERROR_LOADING_PRELOADED_DATA,e,h,a)});var i;r(g,h,function(a){return i=a});if(i)return w(e,i,!0,h);g=f[h.preloader];f=2e3;if(g!=null)if(x(e,g)==null)return w(e,g,!0,h);else return t(e,f,h);else return t(e,f,h)}function r(b,d,e){var f=a.__preloaderData||(a.__preloaderData={});f.__onAdd=o;var g=function(a){var b;g=function(a){};d.serverEnd=(b=d.serverEnd)!=null?b:c("performanceAbsoluteNow")();e(a)},h=function(){var a,b=f[d.preloader],c=b[0];b=b[1];d.wpdArrive=(a=d.wpdArrive)!=null?a:b;g(c)};f[d.preloader]?h():(p(d.preloader,h),b.onLoaded(function(a){a.__wpd__?h():g(a)}))}function s(a){var b,d=a.preloadInfo.asyncData.getPreloaderName();a=(a=a.source)!=null?a:"unknown";var e=[d,a].join(":");b=(b=l.get(e))!=null?b:0;l.set(e,b+1);e={requestSource:a,requestedAt:c("performanceAbsoluteNow")(),preloader:d,queryIndex:b};m.push(e);return e}function t(a,e,f){y(d("PreloadingEvent.flow").PreloadingEventName.ADS_INTERFACES_PRELOADING_ISSUE,d("PreloadingEvent.flow").PreloadingEventType.SERVER_DIDNT_BEAT_JS_EXECUTION,a,f);return e<=0?u(a,f):new(b("Promise"))(function(b){var d=!1,g=c("setTimeoutAcrossTransitions")(function(){d=!0,b(u(a,f))},e);r(a.preloadInfo.asyncData,f,function(e){d||(c("clearTimeout")(g),b(w(a,e,!0,f)))});a.preloadInfo.asyncData.onError(function(e){d||(c("clearTimeout")(g),b(a.go()))})})}function u(a,e){var f=a.preloadInfo,g=f.asyncData,h=f.isScenarioOngoing;y(d("PreloadingEvent.flow").PreloadingEventName.ADS_INTERFACES_PRELOADING_ISSUE,d("PreloadingEvent.flow").PreloadingEventType.SERVER_DIDNT_BEAT_API_START,a,e);e.apiStart=(f=e.apiStart)!=null?f:c("performanceAbsoluteNow")();var i=a.go(),j=null;return b("Promise").race([new(b("Promise"))(function(b){r(g,e,function(c){var d=j===null;d&&!a.preloadInfo.winner&&(a.preloadInfo.winner="server");b(w(a,c,a.preloadInfo.winner==="server",e,i));j=c})}),i.then(function(b){e.apiEnd=c("performanceAbsoluteNow")();j===null&&(a.preloadInfo.winner||(a.preloadInfo.winner="client",y(d("PreloadingEvent.flow").PreloadingEventName.ADS_INTERFACES_PRELOADING_ISSUE,d("PreloadingEvent.flow").PreloadingEventType.SERVER_DIDNT_BEAT_API,a,e)),j=b);return b})]).then(function(b){h()||y(d("PreloadingEvent.flow").PreloadingEventName.ADS_INTERFACES_PRELOADING_ISSUE,d("PreloadingEvent.flow").PreloadingEventType.UNNECESSARY_SERVER_PRELOADING,a,e,b);return b})}function v(b){var c;c=(c=a.__pendingPreloaders)!=null?c:{};return c[b.preloadInfo.asyncData.getPreloaderName()]===null}function w(a,e,f,g,h){var i=x(a,e);if(i){var j=c("gkx")("6717")?Object.keys(i).filter(function(a){return!a.startsWith("__")}).length===1&&i.error!=null:!1;if(j)f&&y(d("PreloadingEvent.flow").PreloadingEventName.ADS_INTERFACES_PRELOADING_ISSUE,d("PreloadingEvent.flow").PreloadingEventType.ERROR_LOADING_PRELOADED_DATA,a,g,i.error);else{f&&y(d("PreloadingEvent.flow").PreloadingEventName.ADS_INTERFACES_PRELOADING_SUCCESS,d("PreloadingEvent.flow").PreloadingEventType.PRELOAD_HIT,a,g,e);return b("Promise").resolve(babelHelpers["extends"]({},i,{__preloaded:!0}))}}else if(f&&!a.preloadInfo.ignoreMismatches&&!(e==null?void 0:e.intentionally_empty))if(v(a))y(d("PreloadingEvent.flow").PreloadingEventName.ADS_INTERFACES_PRELOADING_ISSUE,d("PreloadingEvent.flow").PreloadingEventType.SERVER_DISABLED_DIDNT_SEND_DATA,a,g,e);else{y(d("PreloadingEvent.flow").PreloadingEventName.ADS_INTERFACES_PRELOADING_ISSUE,d("PreloadingEvent.flow").PreloadingEventType.SERVER_DIDNT_SEND_ALL_NECESSARY_DATA,a,g,e);try{A(g,a,e)}catch(a){c("FBLogger")("ads").catching(a).mustfix("Error logging preloader mismatch to QPL")}}if(h)return h;g.apiStart=(j=g.apiStart)!=null?j:c("performanceAbsoluteNow")();return a.go().then(function(a){g.apiEnd=c("performanceAbsoluteNow")();return a})}function x(a,b){b=b;var c=d("AdsPreloaderUtils").getQueryKey(a);if(b[c])return b[c];var e=d("AdsPreloaderUtils").extractMetadataFromRequest(a),f=d("AdsPreloaderUtils").getFieldsParamFromRequest(a),g=d("AdsPreloaderUtils").normalizeParamsForComparison(e.params),h=e.ids,i={},j=Object.keys(b);c=function(){var c=j[k],l=d("AdsPreloaderUtils").extractMetadataFromServerKey(c),m=b[c];if(e.path!==l.path||e.method!==l.method||m.error!=null)return"continue";c=d("AdsPreloaderUtils").filterIgnoredParams(d("AdsPreloaderUtils").normalizeParamsForComparison(l.params));if(!d("preloadedGraphAPIUtils").isSubsetOf(g,c,f,a.preloadInfo.fieldComparators))return"continue";var n=l.ids;if(h==null&&n==null)return{v:m};if(h==null||n==null)return"continue";if(e.isForSingleID||l.isForSingleID){if(!h.every(function(a){return n.indexOf(a)!==-1}))return"continue";if(e.isForSingleID&&l.isForSingleID)return{v:m};if(e.isForSingleID)return{v:babelHelpers["extends"]({__fb_trace_id__:m.__fb_trace_id__},m[h[0]])};if(l.isForSingleID){c=m.__fb_trace_id__;l=babelHelpers.objectWithoutPropertiesLoose(m,["__fb_trace_id__"]);return{v:(c={__fb_trace_id__:c},c[n[0]]=l,c)}}}i.__fb_trace_id__=m.__fb_trace_id__;h=h.filter(function(a){if(n.indexOf(a)!==-1){i[a]=m[a];return!1}return!0});if(h.length===0)return{v:i}};for(var k=0;k<j.length;k++){var l=c();switch(l){case"continue":continue;default:if(typeof l==="object")return l.v}}return null}function y(a,b,c,e,f){e.eventType=(e=e.eventType)!=null?e:b;i||b===d("PreloadingEvent.flow").PreloadingEventType.SERVER_DIDNT_SEND_ALL_NECESSARY_DATA;e={api_request_source:c.source,call_name:c.name,endpoint:c.path,error_type:b};Math.random()<=q&&(e.search_query=d("AdsPreloaderUtils").getQueryKey(c),e.field_names=b===d("PreloadingEvent.flow").PreloadingEventType.SERVER_DIDNT_SEND_ALL_NECESSARY_DATA?Object.keys(f||{}):null);c.preloadInfo.log(e,d("PreloadingEvent.flow").PreloadingEventName.getName(a))}function f(a){switch(a){case d("PreloadingEvent.flow").PreloadingEventType.SERVER_DIDNT_SEND_ALL_NECESSARY_DATA:return"\n          Graph API call is not being preloaded by AdsPreloader as declared!\n          Notice that the server and client queries are matched based on their\n          parameters, so look out for any parameter or path difference between\n          client and server queries.\n        ";case d("PreloadingEvent.flow").PreloadingEventType.SERVER_DIDNT_BEAT_JS_EXECUTION:return"\n          The server query that preloads this Graph API call didn't respond\n          before the callsite in JavaScript executed.\n        ";case d("PreloadingEvent.flow").PreloadingEventType.SERVER_DIDNT_BEAT_API:return"\n          The server query that preloads this Graph API call didn't respond\n          before the actual API call, so it was not useful whatsoever.\n        ";case d("PreloadingEvent.flow").PreloadingEventType.SERVER_DISABLED_DIDNT_SEND_DATA:return"\n          Graph API call is not being preloaded by AdsPreloader because it was\n          disabled on that run. Probably caused by some experiment.\n        ";case d("PreloadingEvent.flow").PreloadingEventType.UNNECESSARY_SERVER_PRELOADING:return"\n          The AdsPreloader query that is meant to preload this request finished\n          after the given scenario was concluded. This means this API call might\n          not be needed for the scenario at hand, and thus the preloading could\n          be removed.\n        ";case d("PreloadingEvent.flow").PreloadingEventType.ERROR_LOADING_PRELOADED_DATA:return"\n          There was an error in the execution of the AdsPreloader query that\n          backs this Graph API call.\n        ";case d("PreloadingEvent.flow").PreloadingEventType.PRELOAD_HIT:return"\n          Preloaded data was successfully used by client query.\n        ";case d("PreloadingEvent.flow").PreloadingEventType.SERVER_DIDNT_BEAT_API_START:return"\n          The server query that preloads this Graph API call didn't respond\n          before the actual API call and a subsequent delay, so it was not\n          useful whatsoever.\n        ";case d("PreloadingEvent.flow").PreloadingEventType.UNUSED_PRELOADED_DATA:return"\n          Preloaded data was unused.\n        "}}function f(a,b){k[a]=b}function z(){return m}function A(a,e,f){j.add(a.preloader);var g=d("AdsPreloaderUtils").getStringArrayAnnotations(e,f);g&&(a.stringArrayAnnotations=g);b("cr:1612590")!==null&&b("cr:1612590").record(a.preloader,e,f);var i=babelHelpers["extends"]({},k,{call_name:(a=e.name)!=null?a:"null",endpoint:e.path,preloader:e.preloadInfo.asyncData.getID(),request_source:(f=e.source)!=null?f:"null",uri:window.location.href});h.onReady(function(a){a.markEvent(c("qpl")._(41484301,"4983"),"preloader_mismatch",3,{annotations:{string:i,string_array:g}})})}function B(){return Array.from(j)}g.preloadedGraphAPI=e;g.addPreloaderLoggingContext=f;g.getPreloadersUsageData=z;g.getMismatchedPreloaders=B}),98);
__d("GraphAPICore",["errorCode","invariant","ApiClient","ErrorSerializer","FBLogger","FBTraceIDsForFailedGraphAPIRequests","GraphAPIPerfLogging","GraphAPIPreloadingOnlyMode","Promise","RequestConstants","RequestProcessorDefault","UrlMap","emptyFunction","getErrorFromAPIResponse","guid","mixInEventEmitter","performanceNow","preloadedGraphAPI","promiseDone","sdk.URI","setTimeout","sprintf"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=500,k=960,l=window.location.href.indexOf("nobatch")>-1,m=!1,n=[],o=null,p=1,q,r=u(c("RequestProcessorDefault"));function a(b){var d=b.method+":"+b.name,e=b.error,f=e&&(e.error_user_msg||e.message)||"Unknown error",a=e.code||"";e.error_subcode&&(a+="."+e.error_subcode);return c("sprintf")("%s%s | (%s) %s | URI: %s%s%s",b.source?b.source+" | ":"",d,a,f,b.path,b.api_fbtrace_id?" | fbtrace: "+b.api_fbtrace_id:"",(e==null?void 0:e.fbtrace_id)?" | wwwRequestID: "+(e==null?void 0:e.fbtrace_id):"")}function e(a){n.push(a)}function s(a){return n.some(function(b){return b(a)})}function f(a){a>=1||i(0,2348),p=a}function h(a){a&&q&&c("FBLogger")("graph_api").warn("You are replacing an active response injector!"),q=a}function a(){m=!0}function t(){m=!1}function u(a){r instanceof c("RequestProcessorDefault")||a===c("RequestProcessorDefault")||i(0,2349);r=new a(x);return r}function v(){r=u(c("RequestProcessorDefault"))}function w(a,e){if(a.earlyRejectionError!=null){c("setTimeout")(function(){return e({error:a.earlyRejectionError})},0);return}if(q){var f=q(a);if(f){c("setTimeout")(function(){return f.response!=null?e(f.response):r.scheduleRequest(a,e)},f.latency||0);return}}if(a.preloadInfo!=null){var g=a.preloadInfo;g=babelHelpers["extends"]({},a,{preloadInfo:g,go:function(){return new(b("Promise"))(function(b){return r.scheduleRequest(a,b)})}});c("promiseDone")(d("preloadedGraphAPI").preloadedGraphAPI(g),e);return}r.scheduleRequest(a,e)}function x(a,b){if(d("GraphAPIPreloadingOnlyMode").isEnabled()){c("FBLogger")("graph_api").info("Attempted and canceled API request for a %s, options: %s",a.preloadInfo&&a.preloadInfo.isScenarioOngoing()?"critical request":"non-critical request",JSON.stringify(a));return}var e=!a.batched&&(!m||s(a))||l;e?c("ApiClient").graph(a.path,a.method,a.params,b):c("ApiClient").scheduleBatchCall(a.path,a.method,a.params,b)}function y(a,e){e===void 0&&(e=1);var f=c("performanceNow")();o&&!a.priority&&(a.priority=o);return new(b("Promise"))(function(b,g){a.params=babelHelpers["extends"]({},a.params,{xref:c("guid")(),_reqName:a.name,_priority:a.priority});a.index!=null&&(a.params._index=a.index);a.source&&(a.params._reqSrc=a.source);if(e<1||e>a.max_attempts){g(C({error:1,error_subcode:1357005}));return}e>1&&(a.params._retry=e-1);w(a,function(h){var i=c("getErrorFromAPIResponse")(h),k=h==null?void 0:h.__fb_trace_id__,l=h==null?void 0:h.__www_request_id__,m=babelHelpers["extends"]({},a,{api_fbtrace_id:k,www_request_id:l,attempt:e,request_time:Math.round(c("performanceNow")()-f),start_time:f});if(i){var n=babelHelpers["extends"]({},m,{error:i});if(e<a.max_attempts&&(z(i)||a.canRetry))c("setTimeout")(function(){b(y(a,e+1))},Math.pow(2,e-1)*j),K.emit("retry",n);else{k&&d("FBTraceIDsForFailedGraphAPIRequests").insert(k);if(!I(a.params)){var o;K.emit("error",n);n=(n=(n=a.params)==null?void 0:n._reqSrc)!=null?n:"unknown";var p=i.code,q=i.error_subcode;o=(o=(o=a.params)==null?void 0:o._reqName)!=null?o:"";o=a.method+":"+o;l=(l=l)!=null?l:k;k=c("FBLogger")("graph_api").addToCategoryKey(n);l!=null&&(k=k.addMetadata("GRAPH_API","REQUEST_ID",l));k.warn("Graph API failed: %s,%s,%s,%s",n,p,q,o)}g(a.earlyRejectionError==null?C(i):i)}}else{B(a,h);k=(l=h==null?void 0:h.__preloaded)!=null?l:!1;h==null?void 0:delete h.__preloaded;h==null?void 0:delete h.__fb_trace_id__;h==null?void 0:delete h.__www_request_id__;b(h);K.emit("success",babelHelpers["extends"]({},m,{preloaded:k}))}})})}function z(a){if(a.is_transient)return!0;if(a.error_subcode===1357045||a.error_subcode===1357051)return!0;if(!a.code)return!0;return a.code===k?!0:!1}function A(a,b){if(b){var d=new(c("sdk.URI"))(b);return function(){return E(a.name,d.getPath(),d.getQueryData(),!1,a.source)}}}function B(a,b){if(Array.isArray(b)||!b.paging)return;if(b.paging.next){var d=a.params;d=d&&d.after&&b.paging.cursors&&d.after===b.paging.cursors.after;d?c("FBLogger")("graph_api").mustfix("[%s] Next page is the same as the current page! This should never happen. Ignoring the next page URL. Please report an API bug!",a.name):b.next=A(a,b.paging.next)}d=A(a,b.paging.previous);d&&(b.previous=d)}function C(a){var b=new Error(a.message);c("ErrorSerializer").aggregateError(b,{type:"warn"});Object.assign(b,a);return b}function D(a,b,c,d,e,f,g,h){return y({batched:d,canRetry:!1,max_attempts:1,method:"delete",name:a,params:c,path:b,source:e,preloadInfo:f,priority:g,earlyRejectionError:h})}function E(a,b,c,d,e,f,g,h,i,j,k){h===void 0&&(h=!1);return y({batched:d,canRetry:h,max_attempts:p,method:"get",name:a,params:c,path:b,source:e,preloadInfo:f,priority:g,earlyRejectionError:i,cacheInfo:j,clientMetadata:k})}function F(a,b,c,d,e,f,g,h,i){h===void 0&&(h=!1);return y({batched:d,canRetry:h,max_attempts:h?p:1,method:"post",name:a,params:c,path:b,source:e,preloadInfo:f,priority:g,earlyRejectionError:i})}function G(a,e,f,g){var h=new(c("sdk.URI"))(d("UrlMap").resolve("graph_domain")).setPath(e).setQueryData({access_token:c("ApiClient").getAccessToken(),suppress_http_code:1}).toString();return new(b("Promise"))(function(b,i){if(g!=null){i(g);return}var j=new XMLHttpRequest();j.open("POST",h,!0);j.setRequestHeader("X-Requested-With","XMLHttpRequest");c("ApiClient").getWithCredentials()&&(j.withCredentials=!0);var k=function(g){var h;try{h=JSON.parse(j.responseText)}catch(a){i(new Error("Invalid JSON: "+j.responseText));return}var k=c("getErrorFromAPIResponse")(h);!k&&g&&(k=d("RequestConstants").PARSE_ERROR_TEMPLATE);if(k){var l;i(C(k));g=(g=h)==null?void 0:g.__fb_trace_id__;l=(l=h)==null?void 0:l.__www_request_id__;K.emit("error",{name:a,path:e,method:"POST",params:f,error:k,api_fbtrace_id:g,www_request_id:l});g=k.code;l=k.error_subcode;c("FBLogger")("graph_api").warn("Graph POST API failed: %s,%s",g,l)}else b(h)};j.onload=function(){k(!1)};j.onerror=function(){k(!0)};j.send(f)})}function H(a,b){b={batch:b.map(function(a){var b=a.request;b.params instanceof FormData&&i(0,2350);var d=c("ApiClient").prepareBatchParams([b.path,b.method,b.params,function(){}]),e=d.body;d=d.relative_url;return{name:a.name,method:b.method,body:e,relative_url:d,omit_response_on_success:!1}})};return F(a,"/",b,!1)}function I(a){return!!(a&&a.execution_options&&a.execution_options.some(function(a){return a==="validate_only"}))}function J(a,b){o=a,b(),o=null}var K={blocklist:e,isBlocklistedForBatching:s,disableBatching:t,enableBatching:a,isRecoverableError:z,runInSpecifiedPriority:J,promiseBatch:H,promiseDelete:D,promiseGet:E,promisePost:F,promisePostFormData:G,disableDefaultErrorHandler:function(){return L&&L.remove()},disableDefaultRetryLogHandler:function(){return M&&M.remove()},registerProcessor:u,resetRequestProcessor:v,setMaxAPIRequestAttempts:f,setResponseInjector:h,addListener:c("emptyFunction"),emit:c("emptyFunction"),listeners:c("emptyFunction").thatReturnsArgument([])};c("mixInEventEmitter")(K,{error:!0,retry:!0,success:!0,preloaded:!0});var L=K.addListener("error",function(a){return!1}),M=K.addListener("retry",function(a){});d("GraphAPIPerfLogging").register();e=K;g["default"]=e}),98);
__d("GraphAPIFieldUtils",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){return b.length===0?""+a:a+"{"+b.join(",")+"}"}function g(a){var b=a.match(/(\w+){(.+)}/);if(b===null)return{field:a};b[0];a=b[1];b=b[2];var c=[],d=0,e="";for(var f=0;f<b.length;++f){var h=b.charAt(f);if(h===","&&d===0){c.push(e);e="";continue}e+=h;h==="{"?d+=1:h==="}"&&(d-=1)}e.length>0&&c.push(e);h=new Set(c.map(g));return{field:a,subFields:h}}function b(a,b){var c=Object.keys(b).map(function(a){var c=b[a];if(c!=null){c=typeof c==="string"?c:JSON.stringify(c);return"."+a+"("+((a=c)!=null?a:"undefined")+")"}}).join("");return""+a+c}f.getFieldWithSubfields=a;f.parseField=g;f.getFieldWithParameterizedSubfields=b}),66);
__d("arrayContainsArray",[],(function(a,b,c,d,e,f){function a(a,b){return a.length===0?!1:b.every(function(b){return a.indexOf(b)>=0})}f["default"]=a}),66);
__d("someSet",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){var d=a.entries(),e=d.next();while(!e.done){var f=e.value;if(b.call(c,f[1],f[0],a))return!0;e=d.next()}return!1}f["default"]=a}),66);
__d("GraphAPIRequestMatchingUtils",["GraphAPIFieldUtils","arrayContainsArray","deepEquals","filterObject","someSet"],(function(a,b,c,d,e,f,g){"use strict";var h=["am_call_tags","locale","pretty","sessionId","xref","access_token","accessToken","qpl_active_flow_instance_ids","qpl_active_flow_ids"],i=["fields","column_fields","action_attribution_windows"];function j(a,b,d){b===void 0&&(b=[]);var e=c("filterObject")((a=a)!=null?a:{},function(a,c){var e;if((e=b)==null?void 0:e.includes(c))return!0;else if(a==null&&(d==null?void 0:d.allowIgnoreEmptyParams)===!0)return!1;else if(c.startsWith("_"))return!1;else if(h.includes(c))return!1;return!0});Array.isArray(e.ids)?e.ids=e.ids.slice().sort():typeof e.ids==="string"&&e.ids.includes(",")&&(e.ids=e.ids.split(",").sort().join(","));Object.keys(e).forEach(function(a){i.includes(a)&&Array.isArray(e[a])&&(e[a]=e[a].slice().sort())});return e}function k(a,b){var c=a.map(d("GraphAPIFieldUtils").parseField);a=b.map(d("GraphAPIFieldUtils").parseField);var e=function(){if(g){if(h>=f.length)return"break";b=f[h++]}else{h=f.next();if(h.done)return"break";b=h.value}var a=b,d=c.find(function(b){return l(b,a)});if(d==null)return{v:!1}};_loop:for(var f=a,g=Array.isArray(f),h=0,f=g?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){a=e();switch(a){case"break":break _loop;default:if(typeof a==="object")return a.v}}return!0}function l(a,b){if(b.field!==a.field)return!1;if(b.subFields!=null){if(a.subFields==null)return!1;var d=function(){if(f){if(g>=e.length)return"break";h=e[g++]}else{g=e.next();if(g.done)return"break";h=g.value}var b=h,d=c("someSet")(a.subFields,function(a){return l(a,b)});if(!d)return{v:!1}};_loop3:for(var e=b.subFields,f=Array.isArray(e),g=0,e=f?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;b=d();switch(b){case"break":break _loop3;default:if(typeof b==="object")return b.v}}}return!0}function m(a,b,c){if(a===b)return!0;else if(typeof a==="string"&&typeof b==="string")return n(a.split(","),b.split(","),c);else return n(a,b,c)}function n(a,b,d){if(Array.isArray(a)&&Array.isArray(b))if(d){d=[];var e=[];for(var f=a,g=Array.isArray(f),h=0,f=g?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var i;if(g){if(h>=f.length)break;i=f[h++]}else{h=f.next();if(h.done)break;i=h.value}i=i;typeof i==="string"&&d.push(i)}for(i=b,h=Array.isArray(i),g=0,i=h?i:i[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(h){if(g>=i.length)break;f=i[g++]}else{g=i.next();if(g.done)break;f=g.value}f=f;typeof f==="string"&&e.push(f)}if(d.length===a.length&&e.length===b.length)return k(d,e);else return c("arrayContainsArray")(a,b)}else return c("arrayContainsArray")(a,b);else return a===b}function o(a,b,c){var d=j(a,null,c),e=j(b,null,c);a=Object.keys(d);return a.length!==Object.keys(e).length?!1:a.every(function(a){var b=d[a],f=e[a];return p(a,b,f,c)})}function p(a,b,d,e){switch(a){case"ids":if((e==null?void 0:e.allowIDsSubset)===!0)return m(b,d,!1);else return c("deepEquals")(b,d);case"fields":case"column_fields":return n(b,d,(a=e==null?void 0:e.allowSubfieldSuperset)!=null?a:!1);default:return c("deepEquals")(b,d)}}function a(a,b,c){if(a.method!==b.method||a.path!==b.path)return!1;a=a.params;b=b.params;return a==null||b==null||a instanceof FormData||b instanceof FormData?a===b:o(a,b,c)}function q(a){return typeof a==="string"?a:a===void 0?"undefined":JSON.stringify((a=a)!=null?a:null)}function r(a){return a==null?new Set():Array.isArray(a)?new Set(a.map(q)):typeof a==="string"?new Set(a.split(",")):new Set([q(a)])}function s(a,b,c,d,e){e===void 0&&(e=1),a.pairs[b]={original:q(c),incoming:q(d)},a.distance+=c!==void 0&&d!==void 0?e:e*2}function t(a,b){a=new Set(Object.keys(a));b=Object.keys(b);for(var c=0;c<b.length;c++){var d=b[c];if(a.has(d))continue;a.add(d)}return Array.from(a)}function b(a,b,c){var d={pairs:{},distance:0};a.method!==b.method&&s(d,"method",a.method,b.method,1e3);a.path!==b.path&&s(d,"path",a.path,b.path,100);a=a.params;b=b.params;if(a instanceof FormData||b instanceof FormData){a!==b&&s(d,"params_form_data",a instanceof FormData,b instanceof FormData,100);return d}var e=j(a,null,c),f=j(b,null,c);a=t(e,f);a.forEach(function(a){var b=e[a],g=f[a];if(a==="fields"||a==="column_fields"){var h=r(b),i=r(g),j=[];for(var k=i.values(),l=Array.isArray(k),m=0,k=l?k:k[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var n;if(l){if(m>=k.length)break;n=k[m++]}else{m=k.next();if(m.done)break;n=m.value}n=n;h.has(n)||j.push(n)}d.missingIncomingFields=j;if(d.missingIncomingFields.length>0&&i.size>0){n=d.missingIncomingFields.length/i.size;s(d,a,b,g,n)}}else p(a,b,g,c)||s(d,a,b,g)});return d}g.normalizeParamsForMatching=j;g.matchGraphAPIFieldSubset=l;g.areRequestsEquivalent=a;g.getRequestDeltas=b}),98);
__d("GraphAPIPreloadedData",["$InternalEnum","DateConsts","FBLogger","GraphAPIConfig","GraphAPIRequestMatchingUtils","clearTimeout","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h=5,i=h*d("DateConsts").SEC_PER_MIN*d("DateConsts").MS_PER_SEC,j=10*d("DateConsts").MS_PER_SEC;b=b("$InternalEnum").Mirrored(["AP_ML","EP","AP_CS"]);var k=new Map(),l=new Map(),m;function a(a,b,c){a.params!=null&&!(a.params instanceof FormData)&&(a.params.__entryPointPreloaded="1");var d=a.go();if(!(a.params instanceof FormData)){var e;(e=a.params)==null?void 0:delete e.__entryPointPreloaded}k.set(a,{dataProvider:c,response:d,timeoutId:u(a,b),refCounter:1});return d}function n(a){return{allowIDsSubset:a.path==="/"+d("GraphAPIConfig").adsApiVersion+"/",allowIgnoreEmptyParams:!0,allowSubfieldSuperset:!0}}function o(a,b){var c=l.get(b);c||(c=[],l.set(b,c));b=a.source!=null&&a.source.length>0?a.source+"-"+a.name:a.name;c.push(b)}function p(a,b){b===void 0&&(b=!0);var e=n(a);for(var f=k.entries(),g=Array.isArray(f),h=0,f=g?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var i;if(g){if(h>=f.length)break;i=f[h++]}else{h=f.next();if(h.done)break;i=h.value}i=i;var j=i[0];i=i[1];if(d("GraphAPIRequestMatchingUtils").areRequestsEquivalent(j,a,e)){b&&(c("clearTimeout")(i.cacheTTLTimeoutID),i.refCounter++);return j}}return null}function e(a,b){b===void 0&&(b=!0);var c=p(a,!1);if(c!=null){var d=k.get(c);if(d!=null){o(a,c);return{response:d.response,dataProvider:d.dataProvider}}}c=m;c!=null&&b===!0&&!(a.params instanceof FormData)&&((d=a.params)==null?void 0:d.__entryPointPreloaded)!=="1"&&c(Array.from(k.keys()),a,n(a));return null}function f(a){return l.get(a)}function q(a,b){b===void 0&&(b=!1);var d=k.get(a);if(d!=null){d.refCounter--;if(d.refCounter<=0){if(d.refCounter<0){c("FBLogger")("ams_frontend").warn("[Graph API Preloading] refCounter < 0 (reqName: %s) (reqSrc: %s)",a.name,(d=a.source)!=null?d:"")}b?r(a):s(a);l["delete"](a)}}}function r(a){var b;c("clearTimeout")((b=k.get(a))==null?void 0:b.timeoutId);k["delete"](a);l["delete"](a)}function s(a){var b=k.get(a);b!=null&&(c("clearTimeout")(b.cacheTTLTimeoutID),b.cacheTTLTimeoutID=c("setTimeout")(function(){r(a)},j))}function t(a){m=a}function u(a,b){var d=k.get(a);d!=null&&window.clearTimeout(d.timeoutId);return window.setTimeout(function(){if(k.has(a)){var d;c("FBLogger")("ams_frontend").warn("[Graph API Preloading] Cached graphAPI data name:%s source:%s interaction:%s wasn't removed after %s minutes.",a.name,(d=a.source)!=null?d:"",b,h)}},i)}function v(){for(var a=k.keys(),b=Array.isArray(a),c=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var d;if(b){if(c>=a.length)break;d=a[c++]}else{c=a.next();if(c.done)break;d=c.value}d=d;r(d)}}g.Provider=b;g.execute=a;g.findEquivalentRequest=p;g.find=e;g.getDataConsumers=f;g.remove=q;g.setLogMismatchCallback=t;g.clearAll=v}),98);
__d("GraphAPIRequestSpec",["invariant","CurrentLocale","GraphAPICore","GraphAPIPreloadedData","killswitch"],(function(a,b,c,d,e,f,g,h){"use strict";b=function(){function a(a,b,c,d,e,f,g,h,i,j){this.name=a,this.path=b,this.params=c,this.batch=d,this.source=e,this.preloadInfo=f,this.priority=g,this.canRetry=!1,this.earlyRejectionError=h,this.cacheInfo=i,this.clientMetadata=j}var b=a.prototype;b.preloadedBy=function(a,b,c){var d={ignoreMismatches:!1},e=b.isScenarioOngoing;b=b.log;this.preloadInfo=babelHelpers["extends"]({asyncData:a,isScenarioOngoing:e,log:b},d,c);return this};b.batched=function(){this.batch=!0;return this};b.setPriority=function(a){this.priority=a;return this};b.retriable=function(){this.canRetry=!0;return this};b.withClientMetadata=function(a,b){var c;this.clientMetadata=(c=this.clientMetadata)!=null?c:new Map();this.clientMetadata.set(a,b);return this};b.__setCacheInfo=function(a){this.cacheInfo=a;return this};return a}();e=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c,d,e,f,g,h,i,j){return a.call(this,b,c,d,!1,e,f,g,h,i,j)||this}var c=b.prototype;c.clone=function(){var a=new b(this.name,this.path,this.params,this.source,this.preloadInfo,this.priority,this.earlyRejectionError,null,this.clientMetadata);return this.batch?a.batched():a};c.declareOnly=function(){return new i(this)};c.get=function(a){return this.declareOnly().get(a).go()};c.post=function(a){return this.declareOnly().post(a).go()};c.remove=function(a){return this.declareOnly().remove(a).go()};return b}(b);var i=function(d){babelHelpers.inheritsLoose(b,d);function b(a){return d.call(this,a.name,a.path,a.params,a.batch,a.source,a.preloadInfo,a.priority,a.earlyRejectionError,a.cacheInfo,a.clientMetadata)||this}var e=b.prototype;e.get=function(a){a=this.$SemideclaredGraphAPIRequestSpec1(a);return new j(this,a,"get")};e.post=function(b){b&&a.FormData&&b instanceof a.FormData?b=this.$SemideclaredGraphAPIRequestSpec2(b):b=this.$SemideclaredGraphAPIRequestSpec1(b);return new j(this,b,"post")};e.remove=function(a){a=this.$SemideclaredGraphAPIRequestSpec1(a);return new j(this,a,"delete")};e.$SemideclaredGraphAPIRequestSpec1=function(a){return babelHelpers["extends"]({locale:c("CurrentLocale").get()},this.params,a)};e.$SemideclaredGraphAPIRequestSpec2=function(a){a.append("locale",c("CurrentLocale").get());var b=this.params;if(b)for(var d in b)Object.prototype.hasOwnProperty.call(b,d)&&a.append(d,b[d]);return a};return b}(b),j=function(b){babelHelpers.inheritsLoose(a,b);function a(a,c,d){c=b.call(this,a.name,a.path,c,a.batch,a.source,a.preloadInfo,a.priority,a.earlyRejectionError,a.cacheInfo,a.clientMetadata)||this;c.method=d;return c}var e=a.prototype;e.go=function(){var a=this.params,b=this.method;if(!c("killswitch")("ADS_MANAGER_ENTRY_POINT_DATA_PRELOADING")){var e=d("GraphAPIPreloadedData").find(this);if(e!=null){c("GraphAPICore").emit("preloaded",babelHelpers["extends"]({reqSrc:this.source,path:this.path},e));return e.response}}if(a instanceof FormData){b==="post"||h(0,3975);return c("GraphAPICore").promisePostFormData(this.name,this.path,a,this.earlyRejectionError)}a||h(0,3976);switch(b){case"get":return c("GraphAPICore").promiseGet(this.name,this.path,a,this.batch,this.source,this.preloadInfo,this.priority,this.canRetry,this.earlyRejectionError,this.cacheInfo,this.clientMetadata);case"post":return c("GraphAPICore").promisePost(this.name,this.path,a,this.batch,this.source,this.preloadInfo,this.priority,this.canRetry,this.earlyRejectionError);case"delete":return c("GraphAPICore").promiseDelete(this.name,this.path,a,this.batch,this.source,this.preloadInfo,this.priority,this.earlyRejectionError)}h(0,3977)};return a}(b);g["default"]=e}),98);
__d("GraphAPIRequestSpecPotentialEdge",["GraphAPIRequestSpec"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var d=b.prototype;d.edge=function(a){return new(c("GraphAPIRequestSpec"))(this.name+"/"+a,this.path+"/"+a,this.params,this.source,this.preloadInfo,this.priority,this.earlyRejectionError)};return b}(c("GraphAPIRequestSpec"));g["default"]=a}),98);
__d("isValidID",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a!=null&&!!/^(\d+|pfbid[0123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz]+l)(_(\d+|pfbid[0123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz]+l))?$/.test(a)}f["default"]=a}),66);
__d("isValidVanityURI",[],(function(a,b,c,d,e,f){"use strict";function a(a){return!!/^[\dA-Z\._\-]+$/i.test(a)}f["default"]=a}),66);
__d("NamedJSONPathExpression",[],(function(a,b,c,d,e,f){a=function(){function a(a){this.$1=a,this.$2=new g()}var b=a.prototype;b.prop=function(a){this.$2.prop(a);return this};b.toString=function(){return"{result="+this.$1+":"+String(this.$2)+"}"};b.valueOf=function(){return this.toString()};return a}();var g=function(){function a(){this.$1="$"}var b=a.prototype;b.prop=function(a){this.$1+="."+a;return this};b.toString=function(){return this.$1};b.valueOf=function(){return this.toString()};return a}();f["default"]=a}),66);
__d("runGraphAPIBatch_EXPERIMENTAL",["invariant","GraphAPICore","NamedJSONPathExpression","guid"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a,b){var d=new Map(),e=new Map();b.forEach(function(a){if(!a.request){var b=a;d.get(b)==null||h(0,3426);d.set(b,c("guid")());e.set(b,b)}else{var f=a;Array.isArray(f.dependencies)||h(0,3427);f.request.length===f.dependencies.length||h(0,3428);d.set(f.request,c("guid")());b=f.dependencies.map(function(a){a=d.get(a);a||h(0,3429,f);return new(c("NamedJSONPathExpression"))(a)});e.set(f.request,f.request.apply(f,b))}});return c("GraphAPICore").promiseBatch(a,b.map(function(b){b.request&&(b=b.request);var a=d.get(b);b=e.get(b);a&&b||h(0,3430);return{name:a,request:b}})).then(function(a){return a.map(function(a){return!a||!a.body?{success:!1,noBatchDataReturned:!0}:JSON.parse(a.body)})})}g["default"]=a}),98);
__d("GraphAPI",["errorCode","FBLogger","GraphAPICore","GraphAPIRequestSpec","GraphAPIRequestSpecPotentialEdge","fb-error","isValidID","isValidVanityURI","runGraphAPIBatch_EXPERIMENTAL","sdk.URI","sdk.safelyParseResponse"],(function(a,b,c,d,e,f,g,h){"use strict";var i="act_",j=function(){function a(a,b){this.version=a,this.source=b}var b=a.prototype;b.me=function(){return new(c("GraphAPIRequestSpecPotentialEdge"))("me",this.$1("/me"),null,this.source)};b.object=function(a,b,d){d===void 0&&(d=!1);d=this.$2(b,d);return new(c("GraphAPIRequestSpecPotentialEdge"))("object:"+a,this.$1("/"+b),null,this.source,void 0,void 0,d)};b.objects=function(a,b,d){d===void 0&&(d=!1);d=this.$3(b,d);return new(c("GraphAPIRequestSpec"))("objects:"+a,this.$1("/"),{ids:b.join(",")},this.source,void 0,void 0,d)};b.urls=function(a){a.forEach(function(a){return c("sdk.URI").isValidURI(a)});return new(c("GraphAPIRequestSpec"))("urls",this.$1("/"),{ids:a.join(",")},this.source)};b.objectByName=function(a,b){this.$4(b);return new(c("GraphAPIRequestSpecPotentialEdge"))("objectByName:"+a,this.$1("/"+b),null,this.source)};b.objectsByName=function(a,b){var d=this;b.forEach(function(a){return d.$4(a)});return new(c("GraphAPIRequestSpec"))("objectsByName:"+a,this.$1("/"),{ids:b.join(",")},this.source)};b.adaccount=function(a,b){b===void 0&&(b=!1);b=this.$2(a,b);return new(c("GraphAPIRequestSpecPotentialEdge"))("adaccount",this.$1("/"+i+a),null,this.source,void 0,void 0,b)};b.adaccounts=function(a,b){b===void 0&&(b=!1);b=this.$3(a,b);return new(c("GraphAPIRequestSpecPotentialEdge"))("adaccounts",this.$1("/"),{ids:i+a.join(","+i)},this.source,void 0,void 0,b)};b.search=function(a){return new(c("GraphAPIRequestSpec"))("search:"+a,this.$1("/search"),{type:a},this.source)};b.path_DO_NOT_USE=function(a){return new(c("GraphAPIRequestSpec"))("path:"+a,this.$1(a),null,this.source)};b.root=function(a){return this.objectByName(a,a)};b.$1=function(a){return"/v"+this.version+a};b.$2=function(a,b){if(c("isValidID")(a))return null;var d=c("fb-error").TAAL.blameToPreviousFile(new Error(a+" is not a valid FBID"));if(b){c("FBLogger")("graph_api").catching(d).mustfix("Attempted to make an API request for an invalid ID %s",a);Object.assign(d,{code:100,error_subcode:1357052});return d}else throw d};b.$3=function(a,b){for(var c=0;c<a.length;c++){var d=this.$2(a[c],b);if(d!=null)return d}};b.$4=function(a){if(!c("isValidVanityURI")(a))throw c("fb-error").TAAL.blameToPreviousFile(new Error(a+" is not a valid vanity URI"))};return a}();function a(a,b){(b==null||b==="")&&c("FBLogger")("graph_api").warn("Expected a valid request source to be passed, but none was given!");return new j(a,b)}a.blocklist=c("GraphAPICore").blocklist;a.disableBatching=c("GraphAPICore").disableBatching;a.enableBatching=c("GraphAPICore").enableBatching;a.registerProcessor=c("GraphAPICore").registerProcessor;a.runBatchExperimental=c("runGraphAPIBatch_EXPERIMENTAL");a.setMaxAPIRequestAttempts=c("GraphAPICore").setMaxAPIRequestAttempts;a.addErrorHandler=function(a){return c("GraphAPICore").addListener("error",a)};a.addRetryLogHandler=function(a){return c("GraphAPICore").addListener("retry",a)};a.addSuccessLogHandler=function(a){return c("GraphAPICore").addListener("success",a)};a.hasCustomErrorHandler=function(){return c("GraphAPICore").listeners("error").length>1};c("sdk.safelyParseResponse").setErrorHandler(function(a,b,d,e){var f="unknown URL";if(d&&d!==null)if(c("sdk.URI").isValidURI(d)){var g=new(c("sdk.URI"))(d);if(Object.prototype.hasOwnProperty.call(g.getQueryData(),"access_token")){var h=g.getQueryData();h.access_token="ACCESS_TOKEN";g.setQueryData(h)}f=g.toString()}else f="invalid URL ("+d+")";c("FBLogger")("graph_api").catching(a).mustfix("Received Invalid JSON reply [HTTP %s] from %s: %s",e,f,JSON.stringify(b));return c("sdk.safelyParseResponse").ERROR});g["default"]=a}),98);
__d("AdsGraphAPI",["FBLogger","GraphAPI","GraphAPIConfig"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=h();b!==d("GraphAPIConfig").adsApiVersion.replace("v","")&&c("FBLogger")("graph_api").warn("%s is not using the correct Graph API version, using %s. It needs to use %s",a,b,d("GraphAPIConfig").adsApiVersion);return c("GraphAPI")(b,a)}function h(){switch(d("GraphAPIConfig").adsApiVersion){case"v2.10":return"2.10";case"v2.11":return"2.11";case"v2.12":return"2.12";case"v3.0":return"3.0";case"v3.1":return"3.1";case"v3.2":return"3.2";case"v3.3":return"3.3";case"v4.0":return"4.0";case"v5.0":return"5.0";case"v6.0":return"6.0";case"v7.0":return"7.0";case"v8.0":return"8.0";case"v9.0":return"9.0";case"v10.0":return"10.0";case"v11.0":return"11.0";case"v12.0":return"12.0";case"v13.0":return"13.0";case"v14.0":return"14.0";case"v15.0":return"15.0";case"v16.0":return"16.0";case"v17.0":return"17.0";case"v18.0":return"18.0";default:return d("GraphAPIConfig").adsApiVersion.replace("v","")}}g.get=a;g.getVersion=h}),98);
__d("AdsInterfacesLogEvents",[],(function(a,b,c,d,e,f){a=Object.freeze({Event:{SHOW_CROPPER_DIALOG:"show_cropper_dialog",ACCOUNT_DATA_PREFETCHED:"account_data_prefetched",ACCOUNT_SELECTED:"account_selected",ACCOUNT_SELECTOR_SCROLL:"account_selector_scroll",AD_TEMPLATED_RENAME:"ad_template_rename",AD_CHANGE_LINK_POST_DESTINATION:"ad_change_link_post_destination",AD_CHANGE_LINK_POST_FORMAT:"ad_change_link_post_format",AD_CHANGE_MEDIA_FORMAT:"ad_change_media_format",AD_CHANGE_MULTI_END_CARD:"ad_change_multi_end_card",AD_CHANGE_CHILD_MEDIA_FORMAT:"ad_change_child_media_format",AD_CHANGE_MULTI_PRODUCT_OPTIMIZED:"ad_change_multi_product_optimized",AD_CHANGE_POST_EDIT_MODE:"ad_change_post_edit_mode",AD_SET_PAGE_ACTOR_OVERRIDE:"ad_set_page_actor_override",AD_UNSET_PAGE_ACTOR_OVERRIDE:"ad_unset_page_actor_override",AM_INLINE_ERROR_SHOWN:"am_inline_error_shown",AM_SUMMARY_ERROR_SHOWN:"am_summary_error_shown",AD_SET_LINK_TYPE:"ad_set_link_type",ADGROUP_URL_BUILDER_MODAL_OPEN:"adgroup_url_builder_modal_open",ADGROUP_URL_BUILDER_MODAL_CLOSE:"adgroup_url_builder_modal_close",CLOSE_WITHOUT_SAVING_UNMODIFIED:"close_without_saving_unmodified",CLOSE_WITHOUT_SAVING_MODIFIED:"close_without_saving_modified",CLOSE_AND_APPLY_CHANGES:"close_and_apply_changes",ADGROUP_URL_BUILDER_CUSTOM_PARAMETER_CHANGE:"adgroup_url_builder_custom_parameter_change",ADD_CUSTOM_PARAMETER:"add_custom_parameter",REMOVE_CUSTOM_PARAMETER:"remove_custom_parameter",ADS_TIP_XOUT:"ads_tip_xout",ADS_TIP_CLICK_FEEDBACK:"ads_tip_click_feedback",ADVANTAGE_TOOLTIP_IMPRESSION:"advantage_tooltip_impression",ADVANTAGE_ICON_IMPRESSION:"advantage_icon_impression",API_CALL_RETRY:"api_call_retry",ADS_LOOKALIKE_OFFLINE_EVENT_SET_LOAD_ERROR:"ads_lookalike_offline_event_set_load_error",AD_AUDIENCE_SEARCH_SOURCE_LOAD_ERROR:"ad_audience_search_source_load_error",ADS_LOOKALIKE_APP_EVENT_SEARCH_SOURCE_SELECT_ERROR:"ads_lookalike_app_event_search_source_select_error",ADS_LOOKALIKE_APP_NON_VALUE_BASED_EVENT_SEARCH_SOURCE_SELECT_ERROR:"ads_lookalike_app_non_value_based_event_search_source_select_error",ADS_LOOKALIKE_PIXEL_EVENT_SEARCH_SOURCE_SELECT_ERROR:"ads_lookalike_pixel_event_search_source_select_error",CAMPAIGN_TEMPLATED_RENAME:"campaign_template_rename",CAMPAIGN_GROUP_TEMPLATED_RENAME:"campaign_group_template_rename",CF_PE_DIRECT_PUBLISH_MISSING_CFLOGGER:"cf_pe_direct_publish_missing_cflogger",EDIT_SOURCE:"edit_source",EDITOR_OPEN_IN_ADS_MANAGER_LINK_CLICKED:"editor_open_in_ads_manager_link_clicked",DRAFT_FRAGMENT_VALUE_INVALID_JSON:"draft_fragment_value_invalid_json",DRAFT_FRAGMENT_VALUE_PHP_CLOWNTOWN:"draft_fragment_value_php_clowntown",INVALID_TOPLINE_PRODUCT_TYPE:"invalid_topline_product_type",CONNECTION_STATUS_GRAPH_ERROR:"connection_status_graph_error",ADS_VALIDATION_WORKER_ERROR:"ads_validation_worker_error",INVALID_FIELD_LABEL:"invalid_field_label",BUDGET_CHANGE_BY_UNIFORM_VALUE:"budget_change_by_uniform_value",BULK_BUDGET_EDIT_APPLY:"bulk_budget_edit_apply",BULK_BUDGET_EDIT_CANCEL:"bulk_budget_edit_cancel",BULK_BUDGET_EDIT_OPEN_PREVIEW:"bulk_budget_edit_open_preview",OPEN_BUDGET_EDIT_DIALOG:"open_budget_edit_dialog",OPEN_NAME_EDIT_DIALOG:"open_name_edit_dialog",CLICK_CREATE_SLIDESHOW:"click_create_slideshow",SLIDESHOW_DIALOG_SHOW:"slideshow_dialog_show",SLIDESHOW_DIALOG_HIDE:"slideshow_dialog_hide",OPEN_CAROUSEL_REUSE_CARD:"open_carousel_reuse_card",CLOSE_CAROUSEL_REUSE_CARD:"close_carousel_reuse_card",CONFIRM_CAROUSEL_REUSE_CARD:"confirm_carousel_reuse_card",AUTO_CAROUSEL_ENABLE:"auto_carousel_enable",AUTO_CAROUSEL_START_SCRAPE:"auto_carousel_start_scrape",AUTO_CAROUSEL_END_SCRAPE:"auto_carousel_end_scrape",ERROR_FEEDBACK_RESPOND_NO:"ERROR_FEEDBACK.RESPOND_NO",INSTAGRAM_ENABLE_POLLING_STICKER:"instagram_enable_polling_sticker",INSTAGRAM_DISABLE_POLLING_STICKER:"instagram_disable_polling_sticker",INSTAGRAM_ACCOUNT_SELECTOR_SELECT_ACCOUNT:"instagram_account_selector_select_account",INSTAGRAM_ACCOUNT_SELECTOR_SELECT_PBIA:"instagram_account_selector_select_PBIA",INSTAGRAM_ACCOUNT_SELECTOR_OAUTH_CONNECTION_SUCCESS:"instagram_account_selector_oauth_connection_success",INSTAGRAM_ACCOUNT_SELECTOR_OAUTH_CONNECT_ERROR:"instagram_account_selector_oauth_connect_error",INSTAGRAM_ACCOUNT_SELECTOR_OAUTH_NONCE_ERROR:"instagram_account_selector_oauth_nonce_error",INSTAGRAM_ACCOUNT_SELECTOR_OAUTH_OPEN_ERROR:"instagram_account_selector_oauth_open_error",INSTAGRAM_ACCOUNT_SELECTOR_OPEN_LINK_TO_PAGE_MODAL:"instagram_account_selector_open_link_to_page_modal",INSTAGRAM_ACCOUNT_SELECTOR_OPEN_OAUTH:"instagram_account_selector_open_oauth",INSTAGRAM_ACCOUNT_SELECTOR_REMOVE_IG_PLACEMENT:"instagram_account_selector_remove_ig_placement",INSTAGRAM_ACCOUNT_SELECTOR_RENDER:"instagram_account_selector_render",INSTAGRAM_COMMENT_MODERATION_EDIT_COMMENT:"instagram_comment_moderation_edit_comment",INSTAGRAM_COMMENT_MODERATION_OPEN_DIALOG:"instagram_comment_moderation_open_dialog",INSTAGRAM_COMMENT_MODERATION_CLOSE_DIALOG:"instagram_comment_moderation_close_dialog",INSTAGRAM_COMMENT_MODERATION_CLICK_VIEW_ON_IG_WEB:"instagram_comment_moderation_click_view_on_ig_web",INSTAGRAM_COMMENT_MODERATION_SWITCH_TAB:"instagram_comment_moderation_switch_tab",INSTAGRAM_COMMENT_MODERATION_PBIA_VIEW:"instagram_comment_moderation_pbia_view",INSTAGRAM_ACCOUNT_SELECTOR_SELECT_BUSINESS_PARTNER:"instagram_account_selector_select_business_partner",FACEBOOK_PAGE_SELECTOR_SELECT_BUSINESS_PARTNER:"facebook_page_selector_select_business_partner",INSTAGRAM_INELIGIBLE_PAGE_POST_SELECTED:"instagram_ineligible_page_post_selected",INSTAGRAM_NUX_BLUR:"instagram_nux_blur",INSTAGRAM_NUX_CREATE_CAMPAIGN:"instagram_nux_create_campaign",INSTAGRAM_NUX_DO_NOT_SHOW_AGAIN:"instagram_nux_do_not_show_again",INSTAGRAM_NUX_NOT_NOW:"instagram_nux_not_now",INSTAGRAM_NUX_X_OUT:"instagram_nux_x_out",INSTAGRAM_PLACEMENT_CANCEL_OPT_OUT_CANVAS_UNSUPPORTED:"instagram_placement_cancel_opt_out_canvas_unsupported",INSTAGRAM_PLACEMENT_CANCEL_OPT_OUT_CAROUSEL_IMAGE_MISSING:"instagram_placement_cancel_opt_out_carousel_image_missing",INSTAGRAM_PLACEMENT_CANCEL_OPT_OUT_CAROUSEL_VIDEO_UNSUPPORTED:"instagram_placement_cancel_opt_out_carousel_video_unsupported",INSTAGRAM_PLACEMENT_CANCEL_OPT_OUT_IMAGE_CROP_TOO_SMALL:"instagram_placement_cancel_opt_out_image_crop_too_small",INSTAGRAM_PLACEMENT_CANCEL_OPT_OUT_IMAGE_TOO_SMALL:"instagram_placement_cancel_opt_out_image_too_small",INSTAGRAM_PLACEMENT_CANCEL_OPT_OUT_INSTAGRAM_ACCOUNT_IS_PRIVATE:"instagram_placement_cancel_opt_out_instagram_account_is_private",INSTAGRAM_PLACEMENT_CANCEL_OPT_OUT_INSTAGRAM_ACCOUNT_LOAD_ERROR:"instagram_placement_cancel_opt_out_instagram_account_load_error",INSTAGRAM_PLACEMENT_CANCEL_OPT_OUT_INVALID_VIDEO:"instagram_placement_cancel_opt_out_invalid_video",INSTAGRAM_PLACEMENT_CANCEL_OPT_OUT_INVALID_VIDEO_FROM_BUTTON:"instagram_placement_cancel_opt_out_invalid_video_from_button",INSTAGRAM_PLACEMENT_CANCEL_OPT_OUT_INVALID_VIDEO_THUMBNAIL:"instagram_placement_cancel_opt_out_invalid_video_thumbnail",INSTAGRAM_PLACEMENT_CANCEL_OPT_OUT_NO_INSTAGRAM_ACCOUNT_FOR_BUSINESS:"instagram_placement_cancel_opt_out_no_instagram_account_for_business",INSTAGRAM_PLACEMENT_CANCEL_OPT_OUT_PBIA_ERROR:"instagram_placement_cancel_opt_out_pbia_error",INSTAGRAM_PLACEMENT_CANCEL_OPT_OUT_PROMOTABLE_POST_INELIGIBLE:"instagram_placement_cancel_opt_out_promotable_post_ineligible",INSTAGRAM_PLACEMENT_CANCEL_OPT_OUT_PROMOTABLE_POST_INELIGIBLE_FROM_BUTTON:"instagram_placement_cancel_opt_out_promotable_post_ineligible_from_button",INSTAGRAM_PLACEMENT_CANCEL_OPT_OUT_UNSUPPORTED_CTA:"instagram_placement_cancel_opt_out_unsupported_cta",INSTAGRAM_PLACEMENT_CANCEL_OPT_OUT_WRONG_IMAGE_RATIO:"instagram_placement_cancel_opt_out_wrong_image_ratio",INSTAGRAM_PLACEMENT_OPT_IN_EXPLICIT_AT_L2:"instagram_placement_opt_in_explicit_at_l2",INSTAGRAM_PLACEMENT_OPT_IN_ADD_PLACEMENT_L1_UPSELL:"instagram_placement_opt_in_add_placement_l1_upsell",INSTAGRAM_PLACEMENT_OPT_OUT_CAROUSEL_IMAGE_MISSING:"instagram_placement_opt_out_carousel_image_missing",INSTAGRAM_PLACEMENT_OPT_OUT_CAROUSEL_VIDEO_UNSUPPORTED:"instagram_placement_opt_out_carousel_video_unsupported",INSTAGRAM_PLACEMENT_OPT_OUT_EXPLICIT_AT_L2:"instagram_placement_opt_out_explicit_at_l2",INSTAGRAM_PLACEMENT_OPT_OUT_IMAGE_CROP_TOO_SMALL:"instagram_placement_opt_out_image_crop_too_small",INSTAGRAM_PLACEMENT_OPT_OUT_IMAGE_TOO_SMALL:"instagram_placement_opt_out_image_too_small",INSTAGRAM_PLACEMENT_OPT_OUT_INSTAGRAM_ACCOUNT_IS_PRIVATE:"instagram_placement_opt_out_instagram_account_is_private",INSTAGRAM_PLACEMENT_OPT_OUT_INSTAGRAM_ACCOUNT_LOAD_ERROR:"instagram_placement_opt_out_instagram_account_load_error",INSTAGRAM_PLACEMENT_OPT_OUT_INVALID_VIDEO:"instagram_placement_opt_out_invalid_video",INSTAGRAM_PLACEMENT_OPT_OUT_INVALID_VIDEO_FROM_BUTTON:"instagram_placement_opt_out_invalid_video_from_button",INSTAGRAM_PLACEMENT_OPT_OUT_INVALID_VIDEO_THUMBNAIL:"instagram_placement_opt_out_invalid_video_thumbnail",INSTAGRAM_PLACEMENT_OPT_OUT_NO_INSTAGRAM_ACCOUNT_FOR_BUSINESS:"instagram_placement_opt_out_no_instagram_account_for_business",INSTAGRAM_PLACEMENT_OPT_OUT_PROMOTABLE_POST_INELIGIBLE:"instagram_placement_opt_out_promotable_post_ineligible",INSTAGRAM_PLACEMENT_OPT_OUT_PROMOTABLE_POST_INELIGIBLE_FROM_BUTTON:"instagram_placement_opt_out_promotable_post_ineligible_from_button",INSTAGRAM_PLACEMENT_OPT_OUT_PBIA_ERROR:"instagram_placement_opt_out_pbia_error",INSTAGRAM_PLACEMENT_OPT_OUT_UNSUPPORTED_CTA:"instagram_placement_opt_out_unsupported_cta",INSTAGRAM_PLACEMENT_OPT_OUT_WRONG_IMAGE_RATIO:"instagram_placement_opt_out_wrong_image_ratio",INSTAGRAM_PLACEMENT_OPTIMIZATION_AUTOMATIC_EXPLICIT:"instagram_placement_optimization_automatic_explicit",INSTAGRAM_PLACEMENT_OPTIMIZATION_MANUAL_EXPLICIT:"instagram_placement_optimization_manual_explicit",INSTAGRAM_PLACEMENT_OPTIMIZATION_REMOVED_DESKTOP_FEED:"instagram_placement_optimization_removed_desktop_feed",INSTAGRAM_PLACEMENT_OPTIMIZATION_REMOVED_INSTAGRAM_STREAM:"instagram_placement_optimization_removed_instagram_stream",INSTAGRAM_PLACEMENT_OPTIMIZATION_REMOVED_MOBILE_EXTERNAL:"instagram_placement_optimization_removed_mobile_external",INSTAGRAM_PLACEMENT_OPTIMIZATION_REMOVED_MOBILE_FEED:"instagram_placement_optimization_removed_mobile_feed",INSTAGRAM_PLACEMENT_OPTIMIZATION_REMOVED_RIGHT_COLUMN:"instagram_placement_optimization_removed_right_column",CLICK_LEAD_GEN_LEARN_MORE:"click_lead_gen_learn_more",OPT_OUT_LEAD_GEN_TIP:"opt_out_lead_gen_tip",AD_MESSAGE_SHOW_MENTIONS:"ad_message_show_mentions",AD_MESSAGE_ADD_MENTION:"ad_message_add_mention",NUX_TOUR_STARTED:"nux_tour_started",CONVERSION_TOUR_NUX_CLOSED:"conversion_tour_nux_closed",CONVERSION_TOUR_NUX_VIEWED:"conversion_tour_nux_viewed",CONVERSION_ITEM_LIST_NUX_CLOSED:"conversion_item_list_nux_closed",CONVERSION_ITEM_LIST_NUX_VIEWED:"conversion_item_list_nux_viewed",TARGETING_INLINE_LOOKALIKE_AUDIENCE_CREATED:"targeting_inline_lookalike_audience_created",TARGETING_INLINE_LOOKALIKE_DIALOG_OPEN:"targeting_inline_lookalike_dialog_open",TARGETING_INLINE_LOOKALIKE_TIP_RENDER:"targeting_inline_lookalike_tip_render",TARGETING_UI_CUSTOM_AUDIENCE_ERROR:"targeting_ui_custom_audience_error",TARGETING_UI_CUSTOM_AUDIENCE_RENDER_UNAVAILABLE:"targeting_ui_custom_audience_render_unavailable",TARGETING_MTC_CUSTOM_AUDIENCE_CREATED:"targeting_mtc_custom_audience_created",TARGETING_MTC_SELECT_CUSTOM_AUDIENCE:"targeting_mtc_select_custom_audience",TARGETING_PAGE_LOCATION_CHECKBOX:"targeting_page_location_checkbox",DELIVERY_ESTIMATE_LOADED_WITHOUT_PREDICTION:"delivery_estimate_loaded_without_prediction",DELIVERY_ESTIMATE_NO_TARGETING_SPEC:"delivery_estimate_no_targeting_spec",REACH_ESTIMATE_LOADED_WITHOUT_PREDICTION:"reach_estimate_loaded_without_prediction",OUTCOME_PREDICTION_SURVEY_RESPONSE_YES:"outcome_prediction_survey_response_yes",OUTCOME_PREDICTION_SURVEY_RESPONSE_NO:"outcome_prediction_survey_response_no",OUTCOME_PREDICTION_SURVEY_RESPONSE_SOMEWHAT:"outcome_prediction_survey_response_somewhat",OUTCOME_PREDICTION_SURVEY_ERROR:"outcome_prediction_survey_error",PLACEMENT_ACTION:"placement_action",PLACEMENT_ADD:"placement_add",PLACEMENT_ADD_BLOCK_LIST:"placement_add_block_list",PLACEMENT_ADD_DEVICE:"placement_add_device",PLACEMENT_ADD_EXCLUDED_CATEGORIES:"placement_add_excluded_categories",PLACEMENT_AN_LINK_CLICK:"placement_an_link_click",PLACEMENT_BULK_EDIT_ADD_POSITION:"placement_bulk_edit_add_position",PLACEMENT_BULK_EDIT_REMOVE_POSITION:"placement_bulk_edit_remove_position",PLACEMENT_BULK_EDIT_SET_AUTO:"placement_bulk_edit_set_auto",PLACEMENT_COLLAPSE_PLATFORM:"placement_collapse_platform",PLACEMENT_EXPAND_PLATFORM:"placement_expand_platform",PLACEMENT_EXPAND_ADVANCED_OPTION_BLOCK_LIST:"placement_expand_advanced_option_block_list",PLACEMENT_EXPAND_ADVANCED_OPTION_DEVICE:"placement_expand_advanced_option_device",PLACEMENT_EXPAND_ADVANCED_OPTION_CONTENT_FILTER:"placement_expand_advanced_option_content_filter",PLACEMENT_REMOVE:"placement_remove",PLACEMENT_REMOVE_BLOCK_LIST:"placement_remove_block_list",PLACEMENT_REMOVE_DEVICE:"placement_remove_device",PLACEMENT_RESET:"placement_reset",PLACEMENT_SET_DEVICE_PLATFORM:"placement_set_device_platform",PLACEMENT_SET_DEVICE_TYPE:"placement_set_device_type",PLACEMENT_SET_MAX_OS_VERSION:"placement_set_max_os_version",PLACEMENT_SET_MIN_OS_VERSION:"placement_set_min_os_version",PLACEMENT_SET_WIRELESS_CARRIER:"placement_set_wireless_carrier",PLACEMENT_SWITCH_TO_MANUAL:"placement_switch_to_manual",PLACEMENT_CONTENT_FILTER_OPEN_SUBSECTION:"placement_content_filter_open_subsection",PLACEMENT_CONTENT_FILTER_SELECT:"placement_content_filter_select",PLACEMENT_CONTENT_FILTER_OPEN_MODAL:"placement_content_filter_open_modal",PLACEMENT_ADD_EXCLUDED_BRAND_SAFETY_CONTENT_TYPES:"placement_add_excluded_brand_safety_content_types",PLACEMENT_REMOVE_EXCLUDED_BRAND_SAFETY_CONTENT_TYPES:"placement_remove_excluded_brand_safety_content_types",PLACEMENT_BLOCK_LISTS_LOAD_ERROR:"placement_block_lists_load_error",PLACEMENT_DCS_LOAD_ERROR:"placement_dcs_load_error",PLACEMENT_ALLOWED_BLOCK_LISTS_LOAD_ERROR:"placement_allowed_block_lists_load_error",PLACEMENT_NEGATIVE_KEYWORD_LISTS_LOAD_ERROR:"placement_negative_keyword_lists_load_error",MESSENGER_UPSELL_DIALOG:"messenger_upsell_dialog",MULTI_PRODUCT_SELECT_INDEX:"multi_product_select_index",RF_INIT_FLOW:"rf_init",RF_CHANGE_REACH:"rf_change_reach",RF_CHANGE_BUDGET:"rf_change_budget",RF_CHANGE_FREQUENCY:"rf_change_frequency",RF_CHANGE_DATE:"rf_change_date",RF_CHANGE_DATE_START:"rf_change_date_start",RF_CHANGE_DATE_STOP:"rf_change_date_stop",RF_CHANGE_DAY_PARTING_SCHEDULE:"rf_change_day_parting_schedule",RF_CHANGE_DESTINATION:"rf_change_destination",RF_CHANGE_Y_AXIS:"rf_change_y_axis",RF_CHANGE_TARGETING:"rf_change_targeting",RF_RESET_PLACEMENT_TO_AUTO:"rf_reset_placement_to_auto",RF_RESET_PLACEMENT_TO_MANUAL:"rf_reset_placement_to_manual",RF_CHANGE_PLACEMENT:"rf_change_placement",RF_CONFIRM_SEQUENCE:"rf_confirm_sequence",RF_PREDICTION_SUCCESS:"rf_prediction_success",RF_PREDICTION_START:"rf_prediction_start",RF_ERRORS:"rf_errors",RF_ERRORS_ON_CLOSE_CF:"rf_errors_on_close_cf",RF_EXPORT_CURVE:"rf_export_curve",RF_USE_FREQUENCY_CURVE:"rf_use_frequency_curve",RF_USE_PLACEMENT_CURVE:"rf_use_placement_curve",RF_USE_SPEND_CURVE:"rf_use_spend_curve",RF_START_EDIT_TARGET:"rf_start_edit_target",RF_DONE_EDIT_TARGET:"rf_done_edit_target",RF_REFRESH_TARGET:"rf_refresh_target",RF_CHANGE_EDIT_MODE:"rf_change_edit_mode",RF_ADD_INSTAGRAM_PLACEMENT:"rf_add_instagram_placement",RF_REMOVE_INSTAGRAM_PLACEMENT:"rf_remove_instagram_placement",RF_CHANGE_STORY_EVENT_TYPE:"rf_change_story_event_type",RF_CHANGE_INSTAGRAM_DESTINATION:"rf_change_ig_destination",RF_CHANGE_RESET_PERIOD:"rf_change_reset_period",RF_CHANGE_IS_BONUS_MEDIA:"rf_change_is_bonus_media",RF_CHANGE_IS_EDITING_PLACEMENT:"rf_change_is_editing_placement",RF_CHANGE_IS_FULL_VIEW:"rf_change_is_full_view",RF_RESET_PERIOD_ERROR_SHOWN:"rf_reset_period_error_shown",RF_CHANGE_OBJECTIVE_TYPE:"rf_change_objective_type",RF_CHANGE_SAVED_AUDIENCE:"rf_change_saved_audience",RF_CLICK_L2_PREDICTABLE_RESULTS_LINK:"rf_click_l2_predictable_results_link",RF_CLICK_L2_TAB_NUX_LINK:"rf_click_l2_tab_nux_link",RF_CREATE_NEW_SAVED_AUDIENCE:"rf_create_new_saved_audience",RF_SET_PAUSE_PERIOD_ESTIMATE:"rf_set_pause_period_estimate",RF_UPDATE_EXPORT_SELECTION:"rf_update_export_selection",RF_UPDATE_REACH_CURVE_SELECTION:"rf_update_reach_curve_selection",RF_CLICK_UNDER_DELIVERY_LINK:"rf_click_under_delivery_link",RF_SELECT_BALANCED_OPTION_FOR_RF_BALANCE:"rf_select_balanced_option_for_rf_balance",RF_SELECT_CUMULATIVE_FREQUENCY_CURVE_FREQUENCIES:"rf_select_cumulative_frequency_curve_frequencies",RF_SELECT_VIDEO_VIEW_PREDICTABLE_RESULT:"rf_select_video_view_predictable_result",RF_UPLOAD_CREATIVE_ASSETS_CREATION_FLOW:"rf_upload_creative_assets_creation_flow",RF_GO_BACK_TO_AD_FORMAT_PLAN_CREATION_FLOW:"rf_go_back_to_ad_format_plan_creation_flow",RF_GO_BACK_TO_AD_FORMAT_PLAN_EDITING_FLOW:"rf_go_back_to_ad_format_plan_editing_flow",RF_INIT_NEW:"rf_init_new",RF_SELECT_CUSTOM_OPTION_FOR_RF_BALANCE:"rf_select_custom_option_for_rf_balance",RF_CHANGE_FREQUENCY_CAP_IN_CUSTOM_OPTION:"rf_change_frequency_cap_in_custom_option",RF_CHANGE_RESET_PERIOD_IN_CUSTOM_OPTION:"rf_change_reset_period_in_custom_option",RF_TOGGLE_ON_HIGHER_AVERAGE_FREQUENCY:"rf_toggle_on_higher_average_frequency",RF_TOGGLE_OFF_HIGHER_AVERAGE_FREQUENCY:"rf_toggle_off_higher_average_frequency",RF_CLICK_ADSET_CONTINUE_BUTTON:"rf_click_adset_continue_button",FREQUENCY_CONTROL_RESET:"frequency_control_reset",FREQUENCY_CONTROL_SELECT_BALANCED_OPTION:"frequency_control_select_balanced_option",FREQUENCY_CONTROL_SELECT_HIGHER_REACH_OPTION:"frequency_control_select_higher_reach_option",FREQUENCY_CONTROL_SELECT_HIGHER_FREQUENCY_OPTION:"frequency_control_select_higher_frequency_option",FREQUENCY_CONTROL_SELECT_CUSTOM_OPTION:"frequency_control_select_custom_option",FREQUENCY_CONTROL_SELECT_CUSTOM_OPTION_AND_EDIT:"frequency_control_select_custom_option_and_edit",FREQUENCY_CONTROL_SELECT_AUTOMATIC_OPTION:"frequency_control_select_automatic_option",FREQUENCY_CONTROL_PUBLICH_WITH_BALANCED_OPTION:"frequency_control_publish_with_balanced_option",FREQUENCY_CONTROL_PUBLISH_WITH_HIGHER_REACH_OPTION:"frequency_control_publish_with_higher_reach_option",FREQUENCY_CONTROL_PUBLISH_WITH_HIGHER_FREQUENCY_OPTION:"frequency_control_publish_with_higher_frequency_option",FREQUENCY_CONTROL_PUBLISH_WITH_CUSTOM_OPTION:"frequency_control_publish_with_custom_option",FREQUENCY_CONTROL_PUBLISH_WITH_AUTOMATIC_OPTION:"frequency_control_publish_with_automatic_option",RF_PLANNER_FB_BULK_SELECTED:"rf_planner_fb_bulk_selected",RF_PLANNER_INSTAGRAM_BULK_SELECTED:"rf_planner_instagram_bulk_selected",RF_PLANNER_CREATION_AUDIENCE_SELECTED:"rf_planner_creation_audience_selected",RF_PLANNER_CREATION_AUDIENCE_SAVED:"rf_planner_creation_audience_saved",DELIVERY_SELECT_AUCTION_OPTION:"select_auction_delivery_option_tab",DELIVERY_SELECT_RF_OPTION:"select_predictable_rf_delivery_option_tab",PLANNER_CHANGE_LOCAL_START_DATE:"planner_change_local_start_date",PLANNER_CHANGE_LOCAL_END_DATE:"planner_change_local_end_date",PLANNER_CHANGE_NONTEXT_FILTER:"planner_change_nontext_filter",PLANNER_CHANGE_TEXT_FILTER:"planner_change_text_filter",PLANNER_CREATE_PLAN:"planner_create_plan",PLANNER_DELETE_TEXT_FILTER:"planner_delete_text_filter",PLANNER_DELETE_PLAN_SUCCESS:"planner_delete_plan_success",PLANNER_DELETE_VERSION_SUCCESS:"planner_delete_version_success",PLANNER_FILTER_BAR_EXPANDED:"planner_filter_bar_expanded",PLANNER_GET_PACKAGE_VIDEOS_METADATA_FAILURE:"planner_get_package_videos_metadata_failure",PLANNER_GET_PACKAGE_VIDEOS_METADATA_SUCCESS:"planner_get_package_videos_metadata_success",PLANNER_HEADER_PURCHASE_CLICK:"planner_header_purchase_click",PLANNER_PURCHASE_TABLE_NEXT_CLICK:"planner_table_next_click",PLANNER_PLAN_CREATION_COMPLETED:"planner_plan_creation_completed",PLANNER_TOGGLE_IS_EXPANDED:"planner_toggle_is_expanded",PLANNER_TOGGLE_RIGHT_COLUMN_GRAPH_EXPAND_STATE:"planner_toggle_right_column_graph_expand_state",PLANNER_DOWNLOAD_FACEBOOK_INSTREAM_VIDEO_PUBLISHERS_LIST:"planner_download_facebook_instream_video_publishers_list",PLANNER_RESERVE_TRP_VERSION_SUCCESS:"planner_reserve_trp_version_success",PLANNER_PURCHASE_TRP_PLAN:"planner_purchase_trp_plan",PLANNER_PURCHASE_TRP_PLAN_SUCCESS:"planner_purchase_trp_plan_success",PLANNER_PURCHASE_TRP_PLAN_ERROR:"planner_purchase_trp_plan_error",PLANNER_SAVE_CONTENT_PACKAGE:"planner_save_content_package",PLANNER_SAVE_SHARED_PLAN:"planner_save_shared_plan",PLANNER_SELECT_CURRENCY_IN_PLAN_CREATION:"planner_select_currency_in_plan_creation",PLANNER_SELECT_BUDGET_IN_PLAN_CREATION:"planner_select_budget_in_plan_creation",PLANNER_SELECT_REACH_IN_PLAN_CREATION:"planner_select_reach_in_plan_creation",PLANNER_SELECT_TRP_IN_PLAN_CREATION:"planner_select_trp_in_plan_creation",PLANNER_START_CAMPAIGN_CREATION:"planner_start_campaign_creation",PLANNER_SYNC_PLANS_ERROR:"planner_sync_plans_error",PLANNER_SYNC_PLANS_START:"planner_sync_plans_start",PLANNER_SYNC_PLANS_SUCCESS:"planner_sync_plans_success",PLANNER_SYNC_PLAN_VERSIONS_ERROR:"planner_sync_plan_versions_error",PLANNER_SYNC_PLAN_VERSIONS_START:"planner_sync_plan_versions_start",PLANNER_SYNC_PLAN_VERSIONS_SUCCESS:"planner_sync_plan_versions_success",PLANNER_UPDATE_REACH_CURVE_SELECTION:"planner_update_reach_curve_selection",PLANNER_VERSION_TABLE_PURCHASE_CLICK:"planner_version_table_purchase_click",PLANNER_UNKNOWN:"planner_unknown",CRST_AD_FROM_MOCKUP_CREATED:"crst_ad_from_mockup_created",IMAGE_LIB_UPLOAD_SUCCESS:"image_lib_upload_success",IMAGE_LIB_UPLOAD_ERROR:"image_lib_upload_error",VIDEO_LIB_CLOSE_SELECTOR:"video_lib_close_selector",VIDEO_LIB_OPEN_SELECTOR:"video_lib_open_selector",VIDEO_LIB_START_UPLOAD:"video_lib_start_upload",VIDEO_LIB_CANCEL_UPLOAD:"video_lib_cancel_upload",VIDEO_LIB_TAB_SWITCH:"video_lib_tab_switch",VIDEO_LIB_UPLOAD_SUCCESS:"video_lib_upload_success",VIDEO_LIB_UPLOAD_ERROR:"video_lib_upload_error",VIDEO_LIB_ENCODING_SUCCESS:"video_lib_encoding_success",VIDEO_LIB_VIDEO_USED_IN_POST:"video_lib_video_used_in_post",VIDEO_LIB_VIDEO_CAPTION_EDITOR_OPENED:"video_lib_video_caption_editor_opened",VIDEO_LIB_VIDEO_CAPTION_PUBLISHED:"video_lib_video_caption_published",VIDEO_LIB_INSTAGRAM_VIDEO_START_UPLOAD:"video_lib_instagram_video_start_upload",PERF_SCENARIO_START:"perf_scenario_start",PERF_SCENARIO_SUCCEED:"perf_scenario_succeed",PERF_SCENARIO_ABANDON:"perf_scenario_abandon",PERF_SCENARIO_FAIL:"perf_scenario_fail",PERF_SCENARIO_TIMEOUT:"perf_scenario_timeout",PERF_SCENARIO_INVALID:"perf_scenario_invalid",COLUMN_SET_EDITOR_CHANGE_ATTRIBUTION_WINDOWS:"column_set_editor_change_attribution_windows",COLUMN_SET_EDITOR_TOGGLE_ALL_COLUMNS:"column_set_editor_toggle_all_columns",COLUMN_SET_EDITOR_TOGGLE_ATTRIBUTION_WINDOW_SELECTOR:"column_set_editor_toggle_attribution_window_selector",INSIGHTS_SELECT_CATEGORY:"insights_select_category",INSIGHTS_TABLE_TOGGLE_COLUMN_SELECTOR:"insights_table_toggle_column_selector",INSIGHTS_TABLE_TOGGLE_COLUMN_SET_EDITOR:"insights_table_toggle_column_set_editor",INSIGHTS_SEARCH_METRIC:"insights_search_metric",ADS_COLUMN_SET_EDITOR_READY:"ads_column_set_editor_ready",CHANGE_CUSTOM_EVENT_TYPE:"change_custom_event_type",CHANGE_OPTIMIZATION_GOAL:"change_optimization_goal",FEATURE_PREFERENCE_CHANGE:"feature_preference_change",INSTREAM_ONLY_CONTEXTUAL_TARGETING_SECTION_MOUNTED:"instream_only_contextual_targeting.mounted",INSTREAM_ONLY_CONTEXTUAL_TARGETING_SECTION_CHANGE_TOPICS:"instream_only_contextual_targeting.change_topics",INSTREAM_ONLY_CONTEXTUAL_TARGETING_SECTION_RENDER_ERROR:"instream_only_contextual_targeting.render_error",INSTREAM_ONLY_CONTEXTUAL_TARGETING_SECTION_SECTION_SHOWN:"instream_only_contextual_targeting.section_shown",INSTREAM_ONLY_CONTEXTUAL_TARGETING_SECTION_LOW_REACH_WARNING:"instream_only_contextual_targeting.low_reach_warning",INSTREAM_ONLY_CONTEXTUAL_TARGETING_SECTION_CHANGE_PLACEMENT:"instream_only_contextual_targeting.change_placement",INSTREAM_ONLY_CONTEXTUAL_TARGETING_SECTION_INELIGIBLE_ACCOUNT:"instream_only_contextual_targeting.ineligible_account",INSTREAM_ONLY_CONTEXTUAL_TARGETING_SECTION_INELIGIBLE_GK:"instream_only_contextual_targeting.ineligible_gk",INSTREAM_ONLY_CONTEXTUAL_TARGETING_SECTION_INELIGIBLE_OBJECTIVE:"instream_only_contextual_targeting.ineligible_objective",INSTREAM_ONLY_CONTEXTUAL_TARGETING_SECTION_INELIGIBLE_PLACEMENT:"instream_only_contextual_targeting.ineligible_placement",INSTREAM_ONLY_CONTEXTUAL_TARGETING_SECTION_INELIGIBLE_TARGETING_COUNTRIES:"instream_only_contextual_targeting.ineligible_targeting_countries",INSTREAM_RESERVE_SELF_SERVE_INELIGIBLE_GK:"instream_reserve_self_serve.ineligible_gk",INSTREAM_RESERVE_SELF_SERVE_INELIGIBLE_OBJECTIVE:"instream_reserve_self_serve.ineligible_objective",INSTREAM_RESERVE_SELF_SERVE_INELIGIBLE_PLACEMENTS:"instream_reserve_self_serve.ineligible_placements",INSTREAM_RESERVE_SELF_SERVE_INELIGIBLE_FORMATS:"instream_reserve_self_serve.ineligible_formats",INSTREAM_RESERVE_SELF_SERVE_INELIGIBLE_PACKAGES:"instream_reserve_self_serve.ineligible_packages",INSTREAM_RESERVE_SELF_SERVE_INELIGIBLE_TARGET_COUNTRIES:"instream_reserve_self_serve.ineligible_target_countries",INSTREAM_RESERVE_SELF_SERVE_SELECTOR_SHOWN:"instream_reserve_self_serve.selector_shown",INSTREAM_RESERVE_SELF_SERVE_CHANGE_PACKAGE:"instream_reserve_self_serve.change_package",INSTREAM_RESERVE_SELF_SERVE_RENDER_ERROR:"instream_reserve_self_serve.render_error",INSTREAM_VIDEOS_DEFAULT_OPT_IN_APPLIED:"instream_videos.default_opt_in_applied",INSTREAM_VIDEOS_DEFAULT_OPT_IN_DIALOG_XOUT:"instream_videos.default_opt_in.dialog_xout",INSTREAM_VIDEOS_DEFAULT_OPT_IN_CAMPAIGN_DUPLICATED:"instream_videos.default_opt_in.campaign_duplicated",INSTREAM_VIDEOS_DEFAULT_OPT_IN_BULK_CAMPAIGN_DUPLICATED:"instream_videos.default_opt_in.bulk_campaign_duplicated",INSTREAM_VIDEOS_DEFAULT_OPT_IN_CAMPAIGN_GROUP_DUPLICATED:"instream_videos.default_opt_in.campaign_group_duplicated",INSTREAM_VIDEOS_DEFAULT_OPT_IN_ELIGIBLE_BUT_CANCELLED:"instream_videos.default_opt_in.eligible_but_cancelled",INSTREAM_VIDEOS_DEFAULT_OPT_IN_EXCLUDE_BUTTON_CLICKED:"instream_videos.default_opt_in.exclude_button_clicked",INSTREAM_VIDEOS_DEFAULT_OPT_IN_EXCLUDE_LINK_CLICKED:"instream_videos.default_opt_in.exclude_link_clicked",INSTREAM_VIDEOS_DEFAULT_OPT_IN_KEEP_BUTTON_CLICKED:"instream_videos.default_opt_in.keep_button_clicked",INSTREAM_VIDEOS_DEFAULT_OPT_IN_LEARN_MORE_LINK_CLICKED:"instream_videos.default_opt_in.learn_more_link_clicked",INSTREAM_VIDEOS_DEFAULT_OPT_IN_PLACEMENT_MANUALLY_REMOVED:"instream_videos.default_opt_in.placement_manually_removed",INSTREAM_VIDEOS_DEFAULT_OPT_IN_TIP_SHOWN:"instream_videos.default_opt_in.tip_shown",INSTREAM_VIDEOS_DEFAULT_OPT_IN_TIP_XOUT:"instream_videos.default_opt_in.tip_xout",INSTREAM_VIDEOS_DEFAULT_OPT_IN_CELL_TYPE_LOAD_ERROR:"instream_videos.default_opt_in.cell_type_load_error",INSTREAM_VIDEOS_CATEGORY_SELECTOR_SELECT_CATEGORY:"instream_videos_category_selector_select_category",BETA_OPT_IN:"beta_opt_in",BETA_OPT_OUT:"beta_opt_out",VIEW_ALL_RELEASE_NOTES:"view_all_release_notes",AHG_LINK_CLICK:"ahg_link_click",ADGROUP_PREVIEW_COMPONENT_DISABLED:"adgroup_preview_component_disabled",ADGROUP_PREVIEW_COMPONENT_ENABLED:"adgroup_preview_component_enabled",ADGROUP_PREVIEW_COMPONENT_ADGROUP_INDEX_CHANGE:"adgroup_preview_component_adgroup_index_change",ADGROUP_PREVIEW_DISPLAY_TYPE_CHANGE_AD:"adgroup_preview_display_type_change_ad",ADGROUP_PREVIEW_DISPLAY_TYPE_CHANGE_MESSAGING:"adgroup_preview_display_type_change_messaging",ADGROUP_PREVIEW_OPTIONS_SELECT_ITEM:"preview_options_select_item",ADGROUP_PREVIEW_OPTIONS_DROPDOWN_OPENED:"preview_options_dropdown_opened",ADGROUP_PREVIEW_REFRESH_CLICK:"adgroup_preview_refresh_click",ADGROUP_PREVIEW_FORMAT_DROPDOWN_OPENED:"preview_format_dropdown_opened",ADGROUP_PREVIEW_RENDER_TYPE_CHANGE:"preview_render_type_change",ADGROUP_PREVIEW_BUG_REPORT_OPENED:"adgroup_preview_bug_report_opened",ADGROUP_PREVIEW_BUG_REPORT_CLOSED:"adgroup_preview_bug_report_closed",ADGROUP_PREVIEW_BUG_REPORT_SUBMIT_SUCCESS:"adgroup_preview_bug_report_submit_success",ADGROUP_PREVIEW_BUG_REPORT_SUBMIT_ERROR:"adgroup_preview_bug_report_submit_error",ADGROUP_PREVIEW_BUG_REPORT_INTERNAL_ATTACHMENT_UPLOAD_ERROR:"agroup_preview_bug_report_internal_attachment_upload_error",REASON_VIDEO_TABLE_VIEW_MOUNTED:"reason_video_table_view_mounted",HEC_CERTIFICATION_LOADING_DIALOG_SHOWN:"hec_certification_loading_dialog_shown",REGULATED_CATEGORY_CHECKBOX_SHOWN:"regulated_category_checkbox_shown",REGULATED_CATEGORY_LEARN_MORE_SHOWN:"regulated_category_learn_more_shown",REGULATED_CATEGORY_SELECTOR_SELECTED:"regulated_category_selector_selected",REGULATED_CATEGORY_AD_REJECTED:"regulated_category_ad_rejected",REGULATED_CATEGORY_COUNTRY_SELECTOR_SHOWN:"regulated_category_country_selector_shown",REGULATED_CATEGORY_COUNTRY_SELECTOR_SELECTED:"regulated_category_country_selector_selected",AM_MEGAPHONE_CHANNEL_MESSAGES_RENDERED:"am_megaphone_channel_messages_rendered",BULK_CAMPAIGN_GROUP_BUDGET_ELIGIBILITY:"bulk_campaign_group_budget_eligibility",TOGGLE_ON_CAMPAIGN_GROUP_BUDGET_BULK_ADOPTION_DIALOG:"toggle_on_campaign_group_budget_bulk_adoption_dialog",TOGGLE_OFF_CAMPAIGN_GROUP_BUDGET_BULK_ADOPTION_DIALOG:"toggle_off_campaign_group_budget_bulk_adoption_dialog",BUDGET_LIQUIDITY_FOLLOW_UP_CARD_SHOWN:"budget_liquidity_follow_up_card_shown",OPEN_ADS_MANAGER_FROM_CBO_UPSELL_EMAIL:"open_ads_manager_from_cbo_upsell_email",OPEN_CAMPAIGN_GROUP_EDITING_FROM_CBO_UPSELL_EMAIL:"open_campaign_group_editing_from_cbo_upsell_email",TOGGLE_ON_CAMPAIGN_GROUP_BUDGET_IN_MID_FLIGHT_UPSELLED_FROM_EMAIL:"toggle_on_campaign_group_budget_in_mid_flight_upselled_from_email",OPT_OUT_CAMPAIGN_GROUP_BUDGET_DEFAULT_ON:"opt_out_campaign_group_budget_default_on",ADS_MANAGER_BANNER_MESSAGES_RENDERED:"ads_manager_banner_messages_rendered",ADS_MANAGER_BANNER_MESSAGE_RENDER:"ads_manager_banner_message_render",ADS_MANAGER_BANNER_MESSAGES_SHOW_MORE:"ads_manager_banner_messages_show_more",ADS_MANAGER_BANNER_MESSAGES_SHOW_LESS:"ads_manager_banner_messages_show_less",ADS_MANAGER_BANNER_MESSAGES_DISMISS:"ads_manager_banner_messages_dismiss",ADS_MANAGER_BANNER_MESSAGES_PRIMARY_CTA_CLICK:"ads_manager_banner_messages_primary_cta_click",ADS_MANAGER_BANNER_MESSAGES_SECONDARY_CTA_CLICK:"ads_manager_banner_messages_secondary_cta_click",ADS_PE_TOP_ERROR_IMPRESSION:"ads_pe_top_error_impression",AD_DISCLAIMER_FIELD_SHOWN:"ad_disclaimer_field_shown",AD_DISCLAIMER_FIELD_CHECKBOX_CLICK:"ad_disclaimer_field_checkbox_click",AD_DISCLAIMER_FIELD_SELECT_TITLE:"ad_disclaimer_field_select_title",AD_DISCLAIMER_FIELD_SELECT_CONTENT_TYPE:"ad_disclaimer_field_select_content_type",AD_DISCLAIMER_FIELD_IMPORT_FROM_CREATIVE_HUB:"ad_disclaimer_field_import_from_creative_hub",SYD_MARKETING_EXPERT_REQUEST_LIVE_CALL:"syd_marketing_expert_request_live_call",SYD_MARKETING_EXPERT_REQUEST_LIVE_CALL_CONFIRM:"syd_marketing_expert_request_live_call_confirm",SYD_MARKETING_EXPERT_REQUEST_LIVE_CALL_SUCCESS:"syd_marketing_expert_confirm_request_live_call_success",SYD_MARKETING_EXPERT_EDIT_SCHEDULE_CALL_NATIVE_BOOKING:"syd_marketing_expert_edit_schedule_call_native_booking",SYD_MARKETING_EXPERT_SCHEDULE_CALL_NATIVE_BOOKING:"syd_marketing_expert_schedule_call_native_booking",SYD_MARKETING_EXPERT_SCHEDULE_CALL_NATIVE_BOOKING_CONTACT_INFO_CONFIRM:"syd_marketing_expert_schedule_call_native_booking_contact_info_confirm",SYD_MARKETING_EXPERT_SCHEDULE_CALL_NATIVE_BOOKING_CONTACT_INFO_CANCEL:"syd_marketing_expert_schedule_call_native_booking_contact_info_cancel",SYD_MARKETING_EXPERT_SCHEDULE_CALL_NATIVE_BOOKING_TIME_SELECT_CONFIRM:"syd_marketing_expert_schedule_call_native_booking_time_select_confirm",SYD_MARKETING_EXPERT_SCHEDULE_CALL_NATIVE_BOOKING_TIME_SELECT_CONFIRM_SUCCESS:"syd_marketing_expert_schedule_call_native_booking_time_select_confirm_success",SYD_MARKETING_EXPERT_SCHEDULE_CALL_NATIVE_BOOKING_TIME_SELECT_CONFIRM_FORESEEN_ERROR:"syd_marketing_expert_schedule_call_native_booking_time_select_confirm_foreseen_error",SYD_MARKETING_EXPERT_SCHEDULE_CALL_NATIVE_BOOKING_TIME_SELECT_CONFIRM_UNFORESEEN_ERROR:"syd_marketing_expert_schedule_call_native_booking_time_select_confirm_unforeseen_error",SYD_MARKETING_EXPERT_NATIVE_BOOKING_CANCEL_CALL_SUCCESS:"syd_marketing_expert_native_booking_cancel_call_success",SYD_MARKETING_EXPERT_NATIVE_BOOKING_CANCEL_CALL_FORESEEN_ERROR:"syd_marketing_expert_native_booking_cancel_call_foreseen_error",SYD_MARKETING_EXPERT_NATIVE_BOOKING_CANCEL_CALL_UNFORESEEN_ERROR:"syd_marketing_expert_native_booking_cancel_call_unforeseen_error",SYD_MARKETING_EXPERT_NATIVE_BOOKING_OPEN_CALL_CANCELLATION_MODAL:"syd_marketing_expert_native_booking_open_call_cancellation_modal",SYD_MARKETING_EXPERT_NATIVE_BOOKING_CANCELLATION_MODAL_CANCEL:"syd_marketing_expert_native_booking_cancellation_modal_cancel",SYD_MARKETING_EXPERT_NATIVE_BOOKING_CANCELLATION_MODAL_CONFIRM:"syd_marketing_expert_native_booking_cancellation_modal_confirm",SYD_MARKETING_EXPERT_SCHEDULE_CALL_NATIVE_BOOKING_TIME_SELECT_CANCEL:"syd_marketing_expert_schedule_call_native_booking_time_select_cancel",SYD_MARKETING_EXPERT_NATIVE_BOOKING_UNABLE_PULL_TIMESLOTS:"syd_marketing_expert_native_booking_unable_pull_timeslots",SYD_MARKETING_EXPERT_NATIVE_BOOKING_UNABLE_PULL_MEETING_LENGTH:"syd_marketing_expert_native_booking_unable_pull_meeting_length",SYD_MARKETING_EXPERT_WIDGET_LOADED:"syd_marketing_expert_widget_loaded",SYD_MARKETING_EXPERT_WIDGET_NOT_LOADED:"syd_marketing_expert_widget_not_loaded",SYD_MARKETING_EXPERT_VIEW_MARKETING_PLAN_STORY:"syd_marketing_expert_view_marketing_plan_story",SYD_MARKETING_EXPERT_WIDGET_ERROR:"syd_marketing_expert_widget_error",SYD_MARKETING_EXPERT_WIDGET_BODY_TEXT_IS_SHOWN:"syd_marketing_expert_widget_body_text_is_shown",SEGMENTATION_ROUTING_MODAL_IMPRESSION:"routing.modal_impression",SEGMENTATION_ROUTING_MODAL_CLICK:"routing.modal_click",SEGMENTATION_ROUTING_SIDEBAR_POPOVER:"routing.sidebar_popover",SEGMENTATION_ROUTING_SIDEBAR_CLICK:"routing.sidebar_click",SEGMENTATION_ROUTING_TOAST_IMPRESSION:"routing.toast_impression",SEGMENTATION_ROUTING_TOAST_CLICK:"routing.toast_click",SBG_CONTACTABILITY_FORM_IMPRESSION:"sbg_contactability_form_impression",SBG_CONTACTABILITY_FORM_SUBMISSION_SUCCESSFUL:"sbg_contactability_form_submission_successful",SBG_CONTACTABILITY_FORM_SUBMISSION_ERROR:"sbg_contactability_form_submission_error",EDITABLE_PROFILE_VERTICAL_SYD_WIDGET_IMPRESSION:"editable_profile_vertical_syd_widget_impression",EDITABLE_PROFILE_VERTICAL_SYD_START_CLICK:"editable_profile_vertical_syd_start_click",EDITABLE_PROFILE_VERTICAL_SYD_REDIRECT_CLICK:"editable_profile_vertical_syd_redirect_click",EDITABLE_PROFILE_VERTICAL_CARD_IMPRESSION:"editable_profile_vertical_card_impression",EDITABLE_PROFILE_VERTICAL_CARD_UPDATE_CLICK:"editable_profile_vertical_card_update_click",EDITABLE_PROFILE_VERTICAL_DIALOG_IMPRESSION:"editable_profile_vertical_dialog_impression",EDITABLE_PROFILE_VERTICAL_SAVE_CLICK:"editable_profile_vertical_save_click",EDITABLE_PROFILE_VERTICAL_SAVE_CANCEL:"editable_profile_vertical_save_cancel",EDITABLE_PROFILE_VERTICAL_SAVE_SUCCESS:"editable_profile_vertical_save_success",EDITABLE_PROFILE_VERTICAL_SAVE_FAIL:"editable_profile_vertical_save_fail",ADS_SUPPORT_FORM_LINK_CLICK:"ads_support_form_link_click",YOUTH_ADS_ENFORCEMENT_NOTICE_RENDER:"youth_ads_enforcement_notice_render",YOUTH_ADS_ENFORCEMENT_LEARN_MORE_CLICK:"youth_ads_enforcement_learn_more_click",YOUTH_ADS_ENFORCEMENT_DISABLED_OPTION_POPOVER_RENDER:"youth_ads_enforcement_disabled_option_popover_render",ADS_RCM_ANNOUNCEMENT_BANNER_RENDER:"ads_rcm_announcement_banner_render",ADS_RCM_ANNOUNCEMENT_BANNER_CTA_CLICK:"ads_rcm_announcement_banner_cta_click",ADS_L2_RIGHT_RAIL_IOS15_IMPACT_NOTICE_RENDERED:"ads_l2_right_rail_ios15_impact_notice_rendered"},EventCategory:{AD_EDIT:"ad_edit",CAMPAIGN_EDIT:"campaign_edit",CAMPAIGN_GROUP_EDIT:"campaign_group_edit",ERROR:"errors",INSTAGRAM_PLACEMENT_ADOPTION:"instagram_placement_adoption",INSTREAM_VIDEOS_PLACEMENT_ADOPTION:"instream_videos_placement_adoption",PERFORMANCE:"performance",PERFORMANCE_PREVIEW_CS:"performance_preview_cs",PERFORMANCE_CLIENT_SIDE_MINI_PREVIEW:"performance_client_side_mini_preview",PLANNER:"planner",PRELOADING:"preloading",REACH_FREQUENCY_SHEET:"reach_frequency_sheet",USER_ACTION:"user_action"}});f["default"]=a}),66);
__d("AdsMgmtPreloadingUtils",["AdsInterfacesLoggerUtils","Promise","cr:1612590","gkx","performanceAbsoluteNow"],(function(a,b,c,d,e,f,g){"use strict";var h=!1,i=!1,j=!1,k=!1,l=null,m,n=new(b("Promise"))(function(a){m=a});function a(){return l}function e(){return k}function f(){return n}function o(a){h=a}function p(){i=!0,h&&m()}function q(a){var d;l=(d=l)!=null?d:c("performanceAbsoluteNow")();j=!0;b("cr:1612590")!=null&&b("cr:1612590").setStopPreloadingTimestamp(l);a&&(k=!0);h||m()}function r(){var a=h?!i:!j&&c("gkx")("677981");return b("cr:1612590")!=null?b("cr:1612590").isScenarioOngoingTestVersion()||a:a}d={isScenarioOngoing:r,log:d("AdsInterfacesLoggerUtils").logPreloading};g.getStopPreloadingTime=a;g.hasFinishedSuccessfully=e;g.onPreloadingDone=f;g.setScenarioDefinedByVC=o;g.onVisualCompletion=p;g.stopPreloading=q;g.isScenarioOngoing=r;g.defaultConfig=d}),98);
__d("XAdsAccountExperimentsController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/adsmanager/{account_id}/gks/",{account_id:{type:"Int",required:!0},business_id:{type:"FBID"}})}),null);
__d("objectToMap",["forEachObject"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=new Map();c("forEachObject")(a,function(a,c){b.set(c,a)});return b}g["default"]=a}),98);
__d("preloadedAsyncRequest",["Promise","URI","asyncToGeneratorRuntime","clearTimeout","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f,g){"use strict";d=!1;var h=function(a){};function i(a){return a.getMethod()!=="GET"?a.getURI():new(c("URI"))(a.getURI()).addQueryData(a.getData()).toString()}function j(a,b,c){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,d,e){var g,j=a.preloader,k=i(d);h("Request URI = "+k);h("Preload URI = "+((g=a.uri)!=null?g:"<NULL>"));if(j==null||k!==a.uri){h(k+": Preloaded data NOT available (preload URI doesn't match)");return d.promisePayload().then(function(a){h(k+": AsyncRequest completed");return a})}h(k+": Preload URL matches request URL, preloading can be used!");a=(g=j.peek())==null?void 0:g.data;if(a!=null){h(k+": Preloaded data was available");return e(a)}h(k+": Preloaded data not available yet");var l=null,m=!1,n=function(a){m=!0,d.promisePayload().then(function(b){h(k+": AsyncRequest completed"),a(b)})};g=new(b("Promise"))(function(a,b){j.onLoaded(function(d){d=d.data;d!=null?(c("clearTimeout")(l),h(k+": Preload completed"),a(e(d))):(h(k+": Preload completed but it had no data :/"),b(new Error("Preloaded data was empty")))}),j.onError(function(b){h(k+": Preload had error, making AsyncRequest"),m||(c("clearTimeout")(l),h(k+": Making AsyncRequest due to preloader error"),n(a))})});a=new(b("Promise"))(function(a){var b=5e3;h(k+": Waiting "+b+"ms for preloader to finish");l=c("setTimeoutAcrossTransitions")(function(){h(k+": Making AsyncRequest to race preloader"),n(a)},b)});return yield b("Promise").race([g,a])});return k.apply(this,arguments)}function a(a,b){return j(a,b,function(a){return a})}a.withDataProcessor=function(a,b,c){return j(a,b,c)};g["default"]=a}),98);
__d("AdsAccountDataLoader",["AdsAccountAdBuilderDataLoaderFields","AdsAccountAdsReportingDataLoaderFields","AdsAccountDataLoaderFields","AdsAccountDataLoaderPreloader","AdsAccountExperimentsPreloader","AdsAccountUtils","AdsApplicationUtils","AdsGraphAPI","AdsInterfacesLogEvents","AdsInterfacesLogger","AdsInterfacesLoggerUtils","AdsMgmtPreloadingUtils","AdsTALAccountDataLoaderPreloader","AsyncTypedRequest","BizSiteIdentifier.brands","Deferred","Promise","XAdsAccountExperimentsController","asyncToGeneratorRuntime","cr:1621989","gkx","mapObject","memoize","objectToMap","preloadedAsyncRequest"],(function(a,b,c,d,e,f,g){"use strict";var h=new(c("Deferred"))(),i=b("cr:1621989")?new(b("cr:1621989"))():null;function a(a){h.resolve(a),j()}var j=c("memoize")(function(){return h.getPromise().then(function(a){c("AdsInterfacesLogger").log({eventCategory:c("AdsInterfacesLogEvents").EventCategory.USER_ACTION,eventName:c("AdsInterfacesLogEvents").Event.ACCOUNT_DATA_PREFETCHED},c("AdsInterfacesLogger").LOG_TYPE_PRIMARY_APP);return a},function(a){d("AdsInterfacesLoggerUtils").logFatal(a);throw a})});function k(a){a=d("AdsGraphAPI").get(f.id).adaccount(a).batched();d("AdsApplicationUtils").isPowerEditor()?a=a.preloadedBy(c("AdsAccountDataLoaderPreloader").preloader,d("AdsMgmtPreloadingUtils").defaultConfig):i!=null&&(a=a.preloadedBy(c("AdsTALAccountDataLoaderPreloader").preloader,i.defaultConfig));var b=d("AdsApplicationUtils").isAdBuilder()?c("AdsAccountAdBuilderDataLoaderFields").fields:d("AdsApplicationUtils").isAdsReporting()?c("AdsAccountAdsReportingDataLoaderFields").fields:c("AdsAccountDataLoaderFields").fields;a=a.get({fields:b});c("gkx")("5954")&&a["catch"](function(a){c("AdsAccountUtils").logCapabilityFailures(a)});return a}function e(a,b){return d("AdsGraphAPI").get(f.id).adaccount(a).batched().get({fields:b})}function l(a){return d("AdsGraphAPI").get(f.id).adaccount(a).get({fields:["prepay_account_balance"]}).then(function(a){return a.prepay_account_balance})}function m(a){return d("AdsGraphAPI").get(f.id).adaccount(a).get({fields:["current_unbilled_spend"]}).then(function(a){return a.current_unbilled_spend})}function n(a,b){return d("AdsGraphAPI").get(f.id).adaccount(a).edge("user_settings").post(b)}function o(a,b){return d("AdsGraphAPI").get(f.id).adaccount(a).post(b)}function p(a){return d("AdsGraphAPI").get(f.id).adaccount(a).get({fields:["pages_in_authorizations"]}).then(function(a){return a.pages_in_authorizations})}function q(a){if(d("AdsApplicationUtils").isFAME())return new(b("Promise"))(function(a){a({gks2:{},qes2:{}})});a=c("XAdsAccountExperimentsController").getURIBuilder().setInt("account_id",a).getURI();a=new(c("AsyncTypedRequest"))(a).setData({business_id:d("BizSiteIdentifier.brands").getBusinessID()}).setMethod("GET").setReadOnly(!0);return c("preloadedAsyncRequest").withDataProcessor(c("AdsAccountExperimentsPreloader"),a,function(a){return{gks2:c("mapObject")(a.gks2,function(a){return{gks:new Set(a.gks),id:a.id,mac:a.mac,gkablog:a.gkablog==null?null:c("objectToMap")(a.gkablog)}}),qes2:c("mapObject")(a.qes2,function(a){return{id:a.id,log:new Set(a.log),mac:a.mac,qes:c("objectToMap")(a.qes)}})}})}function r(a){return s.apply(this,arguments)}function s(){s=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=(yield b("Promise").all([k(a),q(a)]));var c=a[0];a=a[1];return babelHelpers["extends"]({},c,{__gk_DO_NOT_USE:a})});return s.apply(this,arguments)}g.bootstrap=a;g.getBootstrapData=j;g.fetchAccountData=k;g.fetchAccountDataByFields=e;g.fetchPrepayAccountBalance=l;g.fetchCurrentUnbilledSpend=m;g.postUserSettings=n;g.updateAccount=o;g.fetchPagesInAuthorizations=p;g.fetchGKs=q;g.fetchAccountAndGKs=r}),98);
__d("AdsAccountLastThirtyDaysSpendLoadErrorDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"ACCOUNT.LAST_THIRTY_DAYS_SPEND_LOAD_ERROR");e.exports=a}),null);
__d("AdsAccountLastThirtyDaysSpendLoadedDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"ACCOUNT.LAST_THIRTY_DAYS_SPEND_LOADED");e.exports=a}),null);
__d("AdsAccountSettingsUpdateErrorDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"ACCOUNT.SETTINGS_UPDATE_ERROR");e.exports=a}),null);
__d("AdsAccountSettingsUpdateSuccessDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"ACCOUNT.SETTINGS_UPDATE_SUCCESS");e.exports=a}),null);
__d("AdsAccountTodaySpendLoadErrorDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"ACCOUNT.TODAY_SPEND_LOAD_ERROR");e.exports=a}),null);
__d("AdsAccountTodaySpendLoadedDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"ACCOUNT.TODAY_SPEND_LOADED");e.exports=a}),null);
__d("AdsAccountViewerPermissionsLoadErrorDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"ACCOUNT.VIEWER_PERMISSIONS_LOAD_ERROR");e.exports=a}),null);
__d("AdsAccountViewerPermissionsLoadedDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"ACCOUNT.VIEWER_PERMISSIONS_LOADED");e.exports=a}),null);
__d("AdsInsightsField",[],(function(a,b,c,d,e,f){a=Object.freeze({ACCOUNT_ID:"account_id",ACCOUNT_NAME:"account_name",ACTION_BRAND:"action_brand",ACTION_BRAND_NAME:"action_brand_name",ACTION_CATEGORY:"action_category",ACTION_CATEGORY_NAME:"action_category_name",ACTION_CONVERTED_PRODUCT_ID:"action_converted_product_id",ACTION_DEVICE:"action_device",ACTIVITY_RECENCY:"activity_recency",AD_FORMAT_ASSET:"ad_format_asset",AD_IMPRESSION_VALUE:"ad_impression_value",ADGROUP_BID_TYPE:"adgroup_bid_type",ADGROUP_BID_VALUE:"adgroup_bid_value",ADGROUP_DELIVERY:"adgroup_delivery",ADGROUP_ID:"adgroup_id",ADGROUP_NAME:"adgroup_name",AGE:"age",AMOUNT_IN_CATALOG_CURRENCY:"amount_in_catalog_currency",APP_ID:"app_id",AR_EFFECT_SHARE:"ar_effect_share",ATTENTION_EVENTS_PER_IMPRESSION:"attention_events_per_impression",ATTRIBUTION_SETTING:"attribution_setting",BODY_ASSET:"body_asset",BODY_ASSET_VALUE:"body_asset_value",BUSINESS_CONTACT_OPTION_CLICKS:"business_contact_option_clicks",BUSINESS_IMAGE_CLICKS:"business_image_clicks",BUYING_TYPE:"buying_type",CALL_TO_ACTION_ASSET:"call_to_action_asset",CALL_TO_ACTION_ASSET_VALUE:"call_to_action_asset_value",CAMPAIGN_BID_TYPE:"campaign_bid_type",CAMPAIGN_BID_VALUE:"campaign_bid_value",CAMPAIGN_BUDGET_TYPE:"campaign_budget_type",CAMPAIGN_BUDGET_VALUE:"campaign_budget_value",CAMPAIGN_DELIVERY:"campaign_delivery",CAMPAIGN_END:"campaign_end",CAMPAIGN_GROUP_BUDGET_TYPE:"campaign_group_budget_type",CAMPAIGN_GROUP_BUDGET_VALUE:"campaign_group_budget_value",CAMPAIGN_GROUP_DELIVERY:"campaign_group_delivery",CAMPAIGN_GROUP_END:"campaign_group_end",CAMPAIGN_GROUP_ID:"campaign_group_id",CAMPAIGN_GROUP_NAME:"campaign_group_name",CAMPAIGN_GROUP_START:"campaign_group_start",CAMPAIGN_ID:"campaign_id",CAMPAIGN_INSIGHTS:"campaign_insights",CAMPAIGN_NAME:"campaign_name",CAMPAIGN_START:"campaign_start",CANCEL_SUBSCRIPTION_ACTIONS:"cancel_subscription_actions",CANCEL_SUBSCRIPTION_VALUE:"cancel_subscription_value",CANVAS_AVG_VIEW_PERCENT:"canvas_avg_view_percent",CANVAS_AVG_VIEW_TIME:"canvas_avg_view_time",CATALOG_SEGMENT_ACTIONS:"catalog_segment_actions",CATALOG_SEGMENT_VALUE_IN_CATALOG_CURRENCY:"catalog_segment_value_in_catalog_currency",CATALOG_SEGMENT_VALUE_MOBILE_PURCHASE_ROAS:"catalog_segment_value_mobile_purchase_roas",CATALOG_SEGMENT_VALUE_WEBSITE_PURCHASE_ROAS:"catalog_segment_value_website_purchase_roas",COARSE_CONVERSION_VALUE:"coarse_conversion_value",CONTACT_ACTIONS:"contact_actions",CONTACT_VALUE:"contact_value",CONVERSION_VALUES:"conversion_values",CONVERSIONS:"conversions",CONVERTED_PRODUCT_COUNT:"converted_product_count",CONVERTED_PRODUCT_QUANTITY:"converted_product_quantity",CONVERTED_PRODUCT_VALUE:"converted_product_value",COST_PER_10_SEC_VIDEO_VIEW:"cost_per_10_sec_video_view",COST_PER_15_SEC_VIDEO_VIEW:"cost_per_15_sec_video_view",COST_PER_2_SEC_CONTINUOUS_VIDEO_VIEW:"cost_per_2_sec_continuous_video_view",COST_PER_AD_CLICK:"cost_per_ad_click",COST_PER_COMPLETED_VIDEO_VIEW:"cost_per_completed_video_view",COST_PER_CONTACT:"cost_per_contact",COST_PER_CUSTOMIZE_PRODUCT:"cost_per_customize_product",COST_PER_DDA_COUNTBY_CONVS:"cost_per_dda_countby_convs",COST_PER_DONATE:"cost_per_donate",COST_PER_FIND_LOCATION:"cost_per_find_location",COST_PER_ONE_THOUSAND_AD_IMPRESSION:"cost_per_one_thousand_ad_impression",COST_PER_OUTBOUND_CLICK:"cost_per_outbound_click",COST_PER_POST_CONVERSION_SIGNAL:"cost_per_post_conversion_signal",COST_PER_SCHEDULE:"cost_per_schedule",COST_PER_START_TRIAL:"cost_per_start_trial",COST_PER_STORE_VISIT:"cost_per_store_visit",COST_PER_STORE_VISIT_ACTION:"cost_per_store_visit_action",COST_PER_SUBMIT_APPLICATION:"cost_per_submit_application",COST_PER_SUBSCRIBE:"cost_per_subscribe",COST_PER_THRUPLAY:"cost_per_thruplay",COST_PER_THRUPLAY_WATCHED_ACTION:"cost_per_thruplay_watched_action",COST_PER_UNIQUE_CLICK:"cost_per_unique_click",COST_PER_UNIQUE_OUTBOUND_CLICK:"cost_per_unique_outbound_click",COUNTRY:"country",CPC:"cpc",CPM:"cpm",CPP:"cpp",CREATIVE_AD_IDS:"creative_ad_ids",CREATIVE_DELIVERY_INFO:"creative_delivery_info",CREATIVE_FINGERPRINT:"creative_fingerprint",CREATIVE_NAME:"creative_name",CTR:"ctr",CUSTOMIZE_PRODUCT_ACTIONS:"customize_product_actions",CUSTOMIZE_PRODUCT_VALUE:"customize_product_value",DATE_CREATED:"created_time",DATE_START:"date_start",DATE_STOP:"date_stop",DATE_UPDATED:"updated_time",DDA_COUNTBY_CONVS:"dda_countby_convs",DDA_RESULTS:"dda_results",DESCRIPTION_ASSET:"description_asset",DESCRIPTION_ASSET_VALUE:"description_asset_value",DONATE_ACTIONS:"donate_actions",DONATE_VALUE:"donate_value",EARNED_IMPRESSION:"earned_impression",ESTIMATED_MARGIN_AMOUNT:"estimated_margin_amount",ESTIMATED_MARGIN_AMOUNT_USD:"estimated_margin_amount_usd",FIDELITY_TYPE:"fidelity_type",FIND_LOCATION_ACTIONS:"find_location_actions",FIND_LOCATION_VALUE:"find_location_value",GENDER:"gender",HSID:"hsid",IMAGE_ASSET:"image_asset",IMAGE_ASSET_VALUE:"image_asset_value",IMPRESSION_DEVICE:"impression_device",INSTAGRAM_UPCOMING_EVENT_REMINDER_TOGGLE_OFF:"instagram_upcoming_event_reminder_toggle_off",INSTAGRAM_UPCOMING_EVENT_REMINDER_TOGGLE_ON:"instagram_upcoming_event_reminder_toggle_on",INSTAGRAM_UPCOMING_EVENT_REMINDERS_SET:"instagram_upcoming_event_reminders_set",INSTANT_EXPERIENCE_CLICKS_TO_OPEN:"instant_experience_clicks_to_open",INSTANT_EXPERIENCE_CLICKS_TO_START:"instant_experience_clicks_to_start",INSTANT_EXPERIENCE_ELEMENT_IMPRESSIONS:"instant_experience_element_impressions",INSTANT_EXPERIENCE_ELEMENT_REACH:"instant_experience_element_reach",INSTANT_EXPERIENCE_OUTBOUND_CLICKS:"instant_experience_outbound_clicks",INTERACTIVE_COMPONENT_STICKER_ID:"interactive_component_sticker_id",INTERACTIVE_COMPONENT_STICKER_RESPONSE:"interactive_component_sticker_response",INTERACTIVE_COMPONENT_TAP:"interactive_component_tap",IS_CONVERSION_ID_MODELED:"is_conversion_id_modeled",IS_VIDEO:"is_video",LAST_SIGNIFICANT_EDIT:"last_significant_edit",LINK_URL_ASSET:"link_url_asset",LINK_URL_ASSET_VALUE:"link_url_asset_value",MARKETING_MESSAGES_DELIVERED:"marketing_messages_delivered",MARKETING_MESSAGES_DELIVERY_RATE:"marketing_messages_delivery_rate",MARKETING_MESSAGES_LANGUAGE:"marketing_messages_language",MARKETING_MESSAGES_LINK_BTN_CLICK:"marketing_messages_link_btn_click",MARKETING_MESSAGES_LINK_BTN_CLICK_RATE:"marketing_messages_link_btn_click_rate",MARKETING_MESSAGES_MEDIA_VIEW_RATE:"marketing_messages_media_view_rate",MARKETING_MESSAGES_MEDIA_VIEWED:"marketing_messages_media_viewed",MARKETING_MESSAGES_PHONE_CALL_BTN_CLICK:"marketing_messages_phone_call_btn_click",MARKETING_MESSAGES_PHONE_CALL_BTN_CLICK_RATE:"marketing_messages_phone_call_btn_click_rate",MARKETING_MESSAGES_QUICK_REPLY_BTN_CLICK:"marketing_messages_quick_reply_btn_click",MARKETING_MESSAGES_QUICK_REPLY_BTN_CLICK_RATE:"marketing_messages_quick_reply_btn_click_rate",MARKETING_MESSAGES_READ:"marketing_messages_read",MARKETING_MESSAGES_READ_RATE:"marketing_messages_read_rate",MARKETING_MESSAGES_SENT:"marketing_messages_sent",MARKETING_MESSAGES_TOP_BLOCK_REASON:"marketing_messages_top_block_reason",MEDIA_ASSET:"media_asset",MOBILE_APP_PURCHASE_ROAS:"mobile_app_purchase_roas",NUM_ACTIVE_CAMPAIGN_GROUPS:"num_active_campaign_groups",NUM_CAMPAIGN_GROUPS:"num_campaign_groups",NUM_CAMPAIGNS:"num_campaigns",NUM_CREATIVE_AD_IDS:"num_creative_ad_ids",OBJECTIVE:"objective",ONSITE_CONVERSION_MESSAGING_ORDER_CREATED:"onsite_conversion_messaging_order_created",ONSITE_CONVERSION_ORDERS_SHIPPED:"onsite_conversion_orders_shipped",OPTIMIZATION_GOAL:"optimization_goal",OUTBOUND_CLICKS:"outbound_clicks",OUTBOUND_CLICKS_CTR:"outbound_clicks_ctr",PERFORMANCE_INDICATOR:"performance_indicator",POST_CONVERSION_SIGNAL_RESULT:"post_conversion_signal_result",POSTBACK_SEQUENCE_INDEX:"postback_sequence_index",PRIVATE_ATTRIBUTION_CONVERSIONS:"private_attribution_conversions",PRIVATE_ATTRIBUTION_SALES:"private_attribution_sales",PRODUCT_ID:"product_id",PROMOTED_PRODUCT_SET_VALUE:"promoted_product_set_value",QUALIFYING_QUESTION_ANSWER:"qualifying_question_answer",QUALIFYING_QUESTION_ANSWER_WITH_QUALIFIED_OPTION:"qualifying_question_answer_with_qualified_option",QUALIFYING_QUESTION_QUALIFY_ANSWER_RATE:"qualifying_question_qualify_answer_rate",RECURRING_SUBSCRIPTION_PAYMENT_ACTIONS:"recurring_subscription_payment_actions",RECURRING_SUBSCRIPTION_PAYMENT_VALUE:"recurring_subscription_payment_value",REDOWNLOAD:"redownload",REGION:"region",REGION_ID:"region_id",RULE_ASSET_VALUE:"rule_asset_value",SCHEDULE_ACTIONS:"schedule_actions",SCHEDULE_VALUE:"schedule_value",SKAN_CAMPAIGN_ID:"skan_campaign_id",SKAN_CONVERSION_ID:"skan_conversion_id",SKAN_VERSION:"skan_version",STANDARD_EVENT_CONTENT_TYPE:"standard_event_content_type",START_TRIAL_ACTIONS:"start_trial_actions",START_TRIAL_VALUE:"start_trial_value",STORE_VISIT_ACTIONS:"store_visit_actions",SUBMIT_APPLICATION_ACTIONS:"submit_application_actions",SUBMIT_APPLICATION_VALUE:"submit_application_value",SUBSCRIBE_ACTIONS:"subscribe_actions",SUBSCRIBE_VALUE:"subscribe_value",THRUPLAY_WATCHED_ACTIONS:"thruplay_watched_actions",TITLE_ASSET:"title_asset",TITLE_ASSET_VALUE:"title_asset_value",TODAY_SPEND:"today_spend",TOTAL_POSTBACKS:"total_postbacks",TOTAL_POSTBACKS_DETAILED:"total_postbacks_detailed",TOTAL_POSTBACKS_DETAILED_V4:"total_postbacks_detailed_v4",UNIQUE_CONVERTED_PRODUCT_COUNT:"unique_converted_product_count",UNIQUE_CTR:"unique_ctr",UNIQUE_LINK_CLICKS_CTR:"unique_link_clicks_ctr",UNIQUE_OUTBOUND_CLICKS:"unique_outbound_clicks",UNIQUE_OUTBOUND_CLICKS_CTR:"unique_outbound_clicks_ctr",UNIQUE_VIDEO_CONTINUOUS_2_SEC_WATCHED_ACTIONS:"unique_video_continuous_2_sec_watched_actions",UNIQUE_VIDEO_VIEW_10_SEC:"unique_video_view_10_sec",UNIQUE_VIDEO_VIEW_15_SEC:"unique_video_view_15_sec",USER_SEGMENT_KEY:"user_segment_key",VIDEO_10_SEC_WATCHED_ACTIONS:"video_10_sec_watched_actions",VIDEO_15_SEC_WATCHED_ACTIONS:"video_15_sec_watched_actions",VIDEO_30_SEC_WATCHED_ACTIONS:"video_30_sec_watched_actions",VIDEO_ASSET:"video_asset",VIDEO_ASSET_VALUE:"video_asset_value",VIDEO_AVG_TIME_WATCHED_ACTIONS:"video_avg_time_watched_actions",VIDEO_CONTINUOUS_2_SEC_WATCHED_ACTIONS:"video_continuous_2_sec_watched_actions",VIDEO_P100_WATCHED_ACTIONS:"video_p100_watched_actions",VIDEO_P25_WATCHED_ACTIONS:"video_p25_watched_actions",VIDEO_P50_WATCHED_ACTIONS:"video_p50_watched_actions",VIDEO_P75_WATCHED_ACTIONS:"video_p75_watched_actions",VIDEO_P95_WATCHED_ACTIONS:"video_p95_watched_actions",VIDEO_PLAY_ACTIONS:"video_play_actions",VIDEO_PLAY_RETENTION_CURVE_ACTIONS:"video_play_retention_curve_actions",VIDEO_THRUPLAY_WATCHED_ACTIONS:"video_thruplay_watched_actions",WEBSITE_CTR:"website_ctr",WEBSITE_PURCHASE_ROAS:"website_purchase_roas",ACCOUNT_CURRENCY:"account_currency",ACCOUNT_DEFAULT_ATTRIBUTION_WINDOWS:"account_default_attribution_windows",ACCOUNT_TIMEZONE:"account_timezone",ACTION_CANVAS_COMPONENT_ID:"action_canvas_component_id",ACTION_CANVAS_COMPONENT_NAME:"action_canvas_component_name",ACTION_EVENT_CHANNEL:"action_event_channel",ACTION_LINK_CLICK_DESTINATION:"action_link_click_destination",ACTION_LOCATION_CODE:"action_location_code",ACTION_REACTION:"action_reaction",ACTION_RESULTS:"actions_results",ACTION_VIDEO_ASSET_ID:"action_video_asset_id",ACTIONS_PER_IMPRESSION:"actions_per_impression",AD_BID_TYPE:"ad_bid_type",AD_BID_VALUE:"ad_bid_value",AD_DELIVERY:"ad_delivery",AD_ID:"ad_id",AD_NAME:"ad_name",ADSET_BID_TYPE:"adset_bid_type",ADSET_BID_VALUE:"adset_bid_value",ADSET_BUDGET_TYPE:"adset_budget_type",ADSET_BUDGET_VALUE:"adset_budget_value",ADSET_DELIVERY:"adset_delivery",ADSET_END:"adset_end",ADSET_ID:"adset_id",ADSET_NAME:"adset_name",ADSET_START:"adset_start",APP_STORE_CLICKS:"app_store_clicks",ATTENTION_EVENTS_UNQ_PER_REACH:"attention_events_unq_per_reach",AUCTION_BID:"auction_bid",AUCTION_MAX_COMPETITOR_BID:"auction_max_competitor_bid",WISH_BID:"wish_bid",AUCTION_COMPETITIVENESS:"auction_competitiveness",BUDGET_GOAL:"budget_goal",CALL_TO_ACTION_CLICKS:"call_to_action_clicks",CANVAS_AVG_VIEW_PERCENT_PER_COMPONENT:"canvas_avg_view_percentage_per_component",CANVAS_COMPONENT_AVG_PCT_VIEW:"canvas_component_avg_pct_view",CARD_VIEWS:"card_views",CAROUSEL_CARD_ID:"action_carousel_card_id",CAROUSEL_CARD_NAME:"action_carousel_card_name",CLICKS:"clicks",CONVERSION_WINDOW:"conversion_window",COST_PER_DWELL_3_SEC:"cost_per_dwell_3_sec",COST_PER_DWELL_5_SEC:"cost_per_dwell_5_sec",COST_PER_DWELL_7_SEC:"cost_per_dwell_7_sec",COST_PER_DWELL_P50:"cost_per_dwell",COST_PER_ESTIMATED_AD_RECALLERS:"cost_per_estimated_ad_recallers",COST_PER_INLINE_POST_ENGAGEMENT:"cost_per_inline_post_engagement",COST_PER_INLINE_LINK_CLICK:"cost_per_inline_link_click",COST_PER_OBJECTIVE_RESULT:"cost_per_objective_result",COST_PER_OPTIMIZATION_RESULT:"cost_per_optimization_result",COST_PER_UNIQUE_INLINE_LINK_CLICK:"cost_per_unique_inline_link_click",COST_PER_RESULT:"cost_per_result",COST_PER_ACTION_RESULT:"cost_per_action_result",COST_PER_TOTAL_ACTIONS:"cost_per_total_action",AD_CREATIVE_LINK_URL:"ad_creative_link_url",CUMULATIVE_REACH:"cumulative_reach",LIFETIME_FREQUENCY:"lifetime_frequency",WEIGHTED_AD_LIFETIME_FREQUENCY:"weighted_ad_lifetime_frequency",NEW_REACH:"new_reach",DEAL_END:"deal_end",DEAL_START:"deal_start",DEDUPING_RATIO:"deduping_ratio",DEDUPING_1ST_SOURCE_AD:"deduping_1st_source_ad",DEDUPING_1ST_SOURCE_RATIO:"deduping_1st_source_ratio",DEDUPING_2ND_SOURCE_AD:"deduping_2nd_source_ad",DEDUPING_2ND_SOURCE_RATIO:"deduping_2nd_source_ratio",DEDUPING_3RD_SOURCE_AD:"deduping_3rd_source_ad",DEDUPING_3RD_SOURCE_RATIO:"deduping_3rd_source_ratio",DMA:"dma",DMA_CODE:"dma_code",DWELL_3_SEC:"dwell_3_sec",DWELL_5_SEC:"dwell_5_sec",DWELL_7_SEC:"dwell_7_sec",DWELL_P50_RATE:"dwell_rate",DEEPLINK_CLICKS:"deeplink_clicks",DESTINATION:"action_destination",ESTIMATED_AD_RECALLERS:"estimated_ad_recallers",ESTIMATED_AD_RECALLERS_LOWER_BOUND:"estimated_ad_recallers_lower_bound",ESTIMATED_AD_RECALLERS_UPPER_BOUND:"estimated_ad_recallers_upper_bound",ESTIMATED_AD_RECALL_RATE:"estimated_ad_recall_rate",ESTIMATED_AD_RECALL_RATE_LOWER_BOUND:"estimated_ad_recall_rate_lower_bound",ESTIMATED_AD_RECALL_RATE_UPPER_BOUND:"estimated_ad_recall_rate_upper_bound",FREQUENCY:"frequency",FREQUENCY_VALUE:"frequency_value",FULL_VIEW_REACH:"full_view_reach",FULL_VIEW_IMPRESSIONS:"full_view_impressions",HOURLY_STATS_AGGREGATED_BY_ADVERTISER_TIME_ZONE:"hourly_stats_aggregated_by_advertiser_time_zone",HOURLY_STATS_AGGREGATED_BY_AUDIENCE_TIME_ZONE:"hourly_stats_aggregated_by_audience_time_zone",IMPRESSIONS:"impressions",IMPRESSIONS_AUTO_REFRESH:"impressions_auto_refresh",IMPRESSIONS_GOAL:"impressions_goal",CATALOG_SEGMENT_VALUE:"catalog_segment_value",IMPRESSIONS_DUMMY:"impressions_dummy",IMPRESSIONS_GROSS:"impressions_gross",INLINE_LINK_CLICKS:"inline_link_clicks",UNIQUE_INLINE_LINK_CLICKS:"unique_inline_link_clicks",INLINE_POST_ENGAGEMENT:"inline_post_engagement",OBJECTIVE_RESULTS:"objective_results",OBJECTIVE_RESULT_RATE:"objective_result_rate",OPTIMIZATION_RESULTS:"optimization_results",PAGE_ID:"page_id",PAGE_NAME:"page_name",PERCENTAGE_AUDIENCE_REACHED:"percentage_audience_reached",PERCENTAGE_FIRST_TIME_IMPRESSIONS:"percentage_first_time_impressions",PLACE_PAGE_ID:"place_page_id",PLACE_PAGE_NAME:"place_page_name",PLACEMENT:"placement",PUBLISHER_PLATFORM:"publisher_platform",PLATFORM_POSITION:"platform_position",DEVICE_PLATFORM:"device_platform",PRODUCT_ITEM_ID:"product_item_id",PRODUCT_SET_ID:"product_set_id",QUALITY_SCORE_ECTR:"quality_score_ectr",QUALITY_SCORE_ECVR:"quality_score_ecvr",QUALITY_SCORE_ORGANIC:"quality_score_organic",QUALITY_RANKING:"quality_ranking",ENGAGEMENT_RATE_RANKING:"engagement_rate_ranking",CONVERSION_RATE_RANKING:"conversion_rate_ranking",REACH:"reach",RELEVANCE_SCORE:"relevance_score",RELEVANCE_SCORE_VALUE:"relevance_score:score",RELEVANCE_SCORE_POSITIVE_FEEDBACK:"relevance_score:positive_feedback",RELEVANCE_SCORE_NEGATIVE_FEEDBACK:"relevance_score:negative_feedback",RELEVANCE_SCORE_ORGANIC_RANK:"relevance_score:organic_rank",RESULT_RATE:"result_rate",RESULTS:"results",RESULTS_SHARE:"results_share",KPI_RESULTS:"kpi_results",SOCIAL_CLICKS:"social_clicks",SOCIAL_IMPRESSIONS:"social_impressions",SOCIAL_REACH:"social_reach",SPEND:"spend",STORE_VISITS:"store_visits",THUMB_STOPS:"thumb_stops",TOTAL_ACTION_VALUE:"total_action_value",TOTAL_ACTIONS:"total_actions",TOTAL_UNIQUE_ACTIONS:"total_unique_actions",UNIQUE_CLICKS:"unique_clicks",INLINE_LINK_CLICK_CTR:"inline_link_click_ctr",UNIQUE_INLINE_LINK_CLICK_CTR:"unique_inline_link_click_ctr",UNIQUE_IMPRESSIONS:"unique_impressions",UNIQUE_SOCIAL_CLICKS:"unique_social_clicks",UNIQUE_SOCIAL_IMPRESSIONS:"unique_social_impressions",VIDEO_AVG_PCT_WATCHED_ACTIONS:"video_avg_pct_watched_actions",VIDEO_AVG_PERCENT_WATCHED_ACTIONS:"video_avg_percent_watched_actions",VIDEO_AVG_SEC_WATCHED_ACTIONS:"video_avg_sec_watched_actions",VIDEO_TIME_WATCHED_ACTIONS:"video_time_watched_actions",VIDEO_COMPLETE_WATCHED_ACTIONS:"video_complete_watched_actions",VIDEO_SOUND:"action_video_sound",VIDEO_VIEW_TYPE:"action_video_type",VIDEO_COMPLETED_VIEW_OR_15S_PASSED_ACTIONS:"video_completed_view_or_15s_passed_actions",CONDITIONAL_TIME_SPENT_MS_OVER_2S_ACTIONS:"conditional_time_spent_ms_over_2s_actions",CONDITIONAL_TIME_SPENT_MS_OVER_3S_ACTIONS:"conditional_time_spent_ms_over_3s_actions",CONDITIONAL_TIME_SPENT_MS_OVER_6S_ACTIONS:"conditional_time_spent_ms_over_6s_actions",CONDITIONAL_TIME_SPENT_MS_OVER_10S_ACTIONS:"conditional_time_spent_ms_over_10s_actions",CONDITIONAL_TIME_SPENT_MS_OVER_15S_ACTIONS:"conditional_time_spent_ms_over_15s_actions",VIDEO_PLAY_RETENTION_0_TO_15S_ACTIONS:"video_play_retention_0_to_15s_actions",VIDEO_PLAY_RETENTION_20_TO_60S_ACTIONS:"video_play_retention_20_to_60s_actions",VIDEO_PLAY_RETENTION_GRAPH_ACTIONS:"video_play_retention_graph_actions",WEBSITE_CLICKS:"website_clicks",PURCHASE_ROAS:"purchase_roas",CATALOG_SEGMENT_VALUE_OMNI_PURCHASE_ROAS:"catalog_segment_value_omni_purchase_roas",RULE_ASSET:"rule_asset",DEBUG_STAGE_TRACE:"stage_trace",GENDER_TARGETING:"gender_targeting",AGE_TARGETING:"age_targeting",LOCATION:"location",LABELS:"labels",HEADLINE:"headline",DESCRIPTION:"description",WEBSITE_URL:"website_url",IMAGE_NAME:"image_name",VIDEO_NAME:"video_name",IMAGE_HASH:"image_hash",VIDEO_ID:"video_id",URL_TAGS:"url_tags",CALL_TO_ACTION_TYPE:"call_to_action_type",CUSTOM_AUDIENCES:"custom_audiences",EXCLUDED_CUSTOM_AUDIENCES:"excluded_custom_audiences",HIGH_CPA_SPEND_ALERT:"high_cpa_spend_alert",AD_CLICK_ACTION:"ad_click_actions",AD_IMPRESSION_ACTION:"ad_impression_actions",CUSTOM_DERIVED_METRICS:"custom_derived_metrics",CUSTOM_DERIVED_METRIC_ID:"custom_derived_metric_id",CUSTOM_BREAKDOWN:"custom_breakdown",TOTAL_LEARNING_PHASE_SPEND_RATIO:"total_learning_phase_spend_ratio",IN_LEARNING_SPEND:"in_learning_spend",LEARNING_LIMITED_SPEND:"learning_limited_spend",TOTAL_RUNNING_ADS:"total_running_ads",RUNNING_ADS_COUNT_IN_LEARNING:"running_ads_count_in_learning",RUNNING_ADS_COUNT_IN_LEARNING_LIMITED:"running_ads_count_in_learning_limited",TOTAL_RUNNING_ADSETS:"total_running_adsets",RUNNING_ADSETS_COUNT_IN_LEARNING:"running_adsets_count_in_learning",RUNNING_ADSETS_COUNT_IN_LEARNING_LIMITED:"running_adsets_count_in_learning_limited",TOTAL_LEARNING_PHASE_SPEND_RATIO_LEGACY:"total_learning_phase_spend_ratio_legacy",IN_LEARNING_SPEND_LEGACY:"in_learning_spend_legacy",LEARNING_LIMITED_SPEND_LEGACY:"learning_limited_spend_legacy",RUNNING_ADS_COUNT_IN_LEARNING_LEGACY:"running_ads_count_in_learning_legacy",RUNNING_ADS_COUNT_IN_LEARNING_LIMITED_LEGACY:"running_ads_count_in_learning_limited_legacy",RUNNING_ADSETS_COUNT_IN_LEARNING_LEGACY:"running_adsets_count_in_learning_legacy",RUNNING_ADSETS_COUNT_IN_LEARNING_LIMITED_LEGACY:"running_adsets_count_in_learning_limited_legacy",ONSITE_APP_ADD_TO_CART:"onsite_app_add_to_cart",ONSITE_APP_PURCHASE:"onsite_app_purchase",ONSITE_APP_VIEW_CONTENT:"onsite_app_view_content",ONSITE_WEB_ADD_TO_CART:"onsite_web_add_to_cart",ONSITE_WEB_APP_ADD_TO_CART:"onsite_web_app_add_to_cart",ONSITE_WEB_APP_PURCHASE:"onsite_web_app_purchase",ONSITE_WEB_APP_VIEW_CONTENT:"onsite_web_app_view_content",ONSITE_WEB_LEAD:"onsite_web_lead",ONSITE_WEB_PURCHASE:"onsite_web_purchase",ONSITE_WEB_VIEW_CONTENT:"onsite_web_view_content",VIEW_CONTENT:"view_content",CATALOG_MATCH:"catalog_match",VISIT_INSTAGRAM_PROFILE:"visit_instagram_profile",CREATIVE_MEDIA_TYPE:"creative_media_type"});f["default"]=a}),66);
__d("XAdsAccountViewerPermissionsGetController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ads/viewer_permissions/",{ad_account_id:{type:"Int",required:!0}})}),null);
__d("XMAIAAcceptDeeplinkTOSController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ads/manage/mobile_app_install/tos_dialog/",{act:{type:"Int",required:!0},agree:{type:"Bool",defaultValue:!1}})}),null);
__d("AdsAccountDataDispatcher",["AdsAccountAddCapabilitiesDataAction","AdsAccountAttributionSpecLoadErrorDataAction","AdsAccountAttributionSpecLoadSuccessDataAction","AdsAccountAttributionSpecUpdateErrorDataAction","AdsAccountAttributionSpecUpdateSuccessDataAction","AdsAccountBatchLoadErrorDataAction","AdsAccountBatchLoadedDataAction","AdsAccountDataLoader","AdsAccountDefaultUnifiedAttrSpecLoadErrorDataAction","AdsAccountDefaultUnifiedAttrSpecLoadSuccessDataAction","AdsAccountDefaultUnifiedAttrSpecUpdateErrorDataAction","AdsAccountDefaultUnifiedAttrSpecUpdateSuccessDataAction","AdsAccountGKsErrorAction","AdsAccountGKsLoadedAction","AdsAccountLastThirtyDaysSpendLoadErrorDataAction","AdsAccountLastThirtyDaysSpendLoadedDataAction","AdsAccountSettingsUpdateErrorDataAction","AdsAccountSettingsUpdateSuccessDataAction","AdsAccountTodaySpendLoadErrorDataAction","AdsAccountTodaySpendLoadedDataAction","AdsAccountViewerPermissionsLoadErrorDataAction","AdsAccountViewerPermissionsLoadedDataAction","AdsApplicationUtils","AdsGraphAPI","AdsInsightsField","AsyncRequest","FBLogger","Promise","XAdsAccountViewerPermissionsGetController","XMAIAAcceptDeeplinkTOSController","asyncToGeneratorRuntime","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){this.loadAccountDataByFields=function(a,b){c("promiseDone")(d("AdsAccountDataLoader").fetchAccountDataByFields(a,b),function(b){c("AdsAccountBatchLoadedDataAction").dispatch({accountID:a,account:b},{line:"86",module:"AdsAccountDataDispatcher.js",moduleID:f.id})},function(b){c("AdsAccountBatchLoadErrorDataAction").dispatch({accountID:a,error:b},{line:"89",module:"AdsAccountDataDispatcher.js",moduleID:f.id})})}}var e=a.prototype;e.updateAccount=function(a,b){d("AdsAccountDataLoader").updateAccount(a,b).then(function(){c("AdsAccountSettingsUpdateSuccessDataAction").dispatch({},{line:"54",module:"AdsAccountDataDispatcher.js",moduleID:f.id})})["catch"](function(a){c("AdsAccountSettingsUpdateErrorDataAction").dispatch({error:a,data:a},{line:"57",module:"AdsAccountDataDispatcher.js",moduleID:f.id})})};e.loadAccountData=function(a){c("promiseDone")(d("AdsAccountDataLoader").fetchAccountAndGKs(a),function(b){b.business_country_code===""&&c("FBLogger")("ads").warn("BUSINESS_COUNTRY_CODE is an empty string"),c("AdsAccountBatchLoadedDataAction").dispatch({accountID:a,account:b},{line:"68",module:"AdsAccountDataDispatcher.js",moduleID:f.id})},function(b){c("AdsAccountBatchLoadErrorDataAction").dispatch({accountID:a,error:b},{line:"74",module:"AdsAccountDataDispatcher.js",moduleID:f.id})})};e.loadTodaySpend=function(a,b){if(d("AdsApplicationUtils").isAdBuilder())return;b=d("AdsGraphAPI").get(f.id).adaccount(a).edge("insights");c("promiseDone")(b.get({date_preset:"today",fields:[c("AdsInsightsField").SPEND]})["catch"](function(){return{}}),function(a){c("AdsAccountTodaySpendLoadedDataAction").dispatch({data:a},{line:"110",module:"AdsAccountDataDispatcher.js",moduleID:f.id})},function(a){c("AdsAccountTodaySpendLoadErrorDataAction").dispatch({data:a},{line:"113",module:"AdsAccountDataDispatcher.js",moduleID:f.id})})};e.loadLastThirtyDaysSpend=function(a,b){if(d("AdsApplicationUtils").isAdBuilder())return;b=d("AdsGraphAPI").get(f.id).adaccount(a).edge("insights");c("promiseDone")(b.get({date_preset:"last_30d",fields:[c("AdsInsightsField").SPEND]})["catch"](function(){return{}}),function(a){c("AdsAccountLastThirtyDaysSpendLoadedDataAction").dispatch({data:a},{line:"134",module:"AdsAccountDataDispatcher.js",moduleID:f.id})},function(a){c("AdsAccountLastThirtyDaysSpendLoadErrorDataAction").dispatch({data:a},{line:"137",module:"AdsAccountDataDispatcher.js",moduleID:f.id})})};e.loadViewerPermissions=function(a){c("promiseDone")(new(b("Promise"))(function(b,d){var e=c("XAdsAccountViewerPermissionsGetController").getURIBuilder().setInt("ad_account_id",a).getURI();new(c("AsyncRequest"))().setURI(e).setHandler(b).setErrorHandler(d).setAllowCrossPageTransition(!0).send()}),function(b){c("AdsAccountViewerPermissionsLoadedDataAction").dispatch({data:b.payload,accountID:a},{line:"159",module:"AdsAccountDataDispatcher.js",moduleID:f.id})},function(b){c("AdsAccountViewerPermissionsLoadErrorDataAction").dispatch({data:b,accountID:a},{line:"166",module:"AdsAccountDataDispatcher.js",moduleID:f.id})})};e.updateAccountAttributionSpec=function(a,b){d("AdsAccountDataLoader").updateAccount(a,b).then(function(){return c("AdsAccountAttributionSpecUpdateSuccessDataAction").dispatch({},{line:"179",module:"AdsAccountDataDispatcher.js",moduleID:f.id})})["catch"](function(a){return c("AdsAccountAttributionSpecUpdateErrorDataAction").dispatch({data:a},{line:"181",module:"AdsAccountDataDispatcher.js",moduleID:f.id})})};e.loadAccountAttributionSpec=function(a){d("AdsGraphAPI").get(f.id).adaccount(a).batched().get({fields:["attribution_spec","is_attribution_spec_system_default"]}).then(function(a){c("AdsAccountAttributionSpecLoadSuccessDataAction").dispatch({data:a},{line:"196",module:"AdsAccountDataDispatcher.js",moduleID:f.id})})["catch"](function(a){c("AdsAccountAttributionSpecLoadErrorDataAction").dispatch({data:a},{line:"199",module:"AdsAccountDataDispatcher.js",moduleID:f.id})})};e.updateAccountDefaultUnifiedAttrSpec=function(a,b){d("AdsAccountDataLoader").updateAccount(a,b).then(function(){return c("AdsAccountDefaultUnifiedAttrSpecUpdateSuccessDataAction").dispatch({},{line:"212",module:"AdsAccountDataDispatcher.js",moduleID:f.id})})["catch"](function(a){return c("AdsAccountDefaultUnifiedAttrSpecUpdateErrorDataAction").dispatch({data:a},{line:"215",module:"AdsAccountDataDispatcher.js",moduleID:f.id})})};e.loadAccountDefaultUnifiedAttrSpec=function(a){d("AdsGraphAPI").get(f.id).adaccount(a).batched().get({fields:["default_unified_attribution_spec"]}).then(function(a){c("AdsAccountDefaultUnifiedAttrSpecLoadSuccessDataAction").dispatch({data:a},{line:"229",module:"AdsAccountDataDispatcher.js",moduleID:f.id})})["catch"](function(a){c("AdsAccountDefaultUnifiedAttrSpecLoadErrorDataAction").dispatch({data:a},{line:"234",module:"AdsAccountDataDispatcher.js",moduleID:f.id})})};e.handleAcceptMAIDeeplinkTOS=function(a){if(a!=null){a=c("XMAIAAcceptDeeplinkTOSController").getURIBuilder().setInt("act",a).setBool("agree",!0).getURI();new(c("AsyncRequest"))(a).setHandler(function(a){a=["HAS_ACCEPTED_MAI_DEEPLINK_TOS"];c("AdsAccountAddCapabilitiesDataAction").dispatch({capabilities:a},{line:"251",module:"AdsAccountDataDispatcher.js",moduleID:f.id})}).setErrorHandler(function(){}).setMethod("POST").send()}};e.loadGKs=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){try{var b=(yield d("AdsAccountDataLoader").fetchGKs(a));c("AdsAccountGKsLoadedAction").dispatch({accountID:a,data:{__gk_DO_NOT_USE:b}},{line:"264",module:"AdsAccountDataDispatcher.js",moduleID:f.id})}catch(b){c("AdsAccountGKsErrorAction").dispatch({accountID:a,error:b},{line:"269",module:"AdsAccountDataDispatcher.js",moduleID:f.id})}});function e(b){return a.apply(this,arguments)}return e}();return a}();e=new a();a=e;g["default"]=a}),98);
__d("LoadObjectMapBatchingQueueNames",["keyMirror"],(function(a,b,c,d,e,f,g){"use strict";a=c("keyMirror")({MAIN:null,POST_FETCH:null,DEFAULT:null,DYNAMIC:null,CHEAP:null});b=a;g["default"]=b}),98);
__d("LoadObjectMap",["invariant","LoadObject","LoadObjectMapBatchingQueueNames","immutable","regeneratorRuntime"],(function(a,b,c,d,e,f,g,h){"use strict";var i="long_secret_string_do_not_use",j=function(a,b){return a.isEmpty()},k=Number.POSITIVE_INFINITY;a=function(){a.create=function(b,c,d,e){c===void 0&&(c=j);d===void 0&&(d=k);e===void 0&&(e=!1);return new a(i,b,function(a){return a},c,d,e)};a.createKeyed=function(b,c,d,e,f){d===void 0&&(d=j);e===void 0&&(e=k);f===void 0&&(f=!1);return new a(i,b,c,d,e,f)};function a(a,b,d,e,f,g){this.$1=c("immutable").Map(),this.$4=e,this.$5=d,this.$3=b,this.$8=c("immutable").OrderedSet().asMutable(),this.$9=null,this.$6=f,this.$10=g,this.$11=c("immutable").Set(),this.$7=new Map()}var d=a.prototype;d.get=function(a,b){var d=this;b===void 0&&(b=c("LoadObjectMapBatchingQueueNames").DEFAULT);var e=this.getCached(a),f=this.$5(a);if(!this.$8.has(f)&&(this.$4(e,a)||this.$11.has(f))){this.$7.has(b)||this.$7.set(b,c("immutable").OrderedSet().asMutable());b=this.$7.get(b);b!=null||h(0,21818);b.add(a);this.$8.add(f);if(this.$10){b=this.$7.get(c("LoadObjectMapBatchingQueueNames").MAIN);if(b!=null){a=this.__getChunkSize(b,c("LoadObjectMapBatchingQueueNames").MAIN);if(b.size>=a){this.$12(b,c("LoadObjectMapBatchingQueueNames").MAIN);return e}}else this.$7.forEach(function(a,b){var c=d.__getChunkSize(a,b);if(a.size>=c){d.$12(a,b);return e}})}this.$9===null&&(this.$9=window.setTimeout(function(){d.$7.forEach(function(a,b){a.size>0&&d.$12(a,b)}),d.$10||d.$8.clear(),d.$9=null},0));this.$11=this.$11["delete"](f)}return e};d.getCached=function(a){a=this.$5(a);return this.$1.has(a)?this.$1.get(a):c("LoadObject").empty()};d.getAll=function(a){var b=this,d=c("immutable").Map().withMutations(function(c){for(var d=a,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=d.length)break;g=d[f++]}else{f=d.next();if(f.done)break;g=f.value}g=g;c.set(g,b.get(g))}});return d};d.setKeyStale=function(b){b=this.$5(b);var c=new a(i,this.$3,this.$5,this.$4,this.$6,this.$10);c.$1=this.$1;c.$11=this.$11.add(b);return c};d.setAllExistingKeysStale=function(){var b=new a(i,this.$3,this.$5,this.$4,this.$6,this.$10);b.$1=this.$1;b.$11=this.$11.union(Array.from(this.$1.keys()));return b};d.setAllKeysStale=function(b){var d=this;b=c("immutable").Set(b).map(function(a){return d.$5(a)});var e=new a(i,this.$3,this.$5,this.$4,this.$6,this.$10);e.$1=this.$1;e.$11=this.$11.union(b);return e};d.__clearFrame=function(a){(a=this.$7.get(a))==null?void 0:a.clear()};d.$13=function(a,b){var c=[],d=new Set();b=this.__getChunkSize(a,b);for(var a=a,e=Array.isArray(a),f=0,a=e?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=a.length)break;g=a[f++]}else{f=a.next();if(f.done)break;g=f.value}g=g;d.add(g);d.size>=b&&(c.push(d),d=new Set())}d.size>0&&c.push(d);return c};d.$12=function(a,b){for(var a=this.$13(a,b),c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;this.__doLoadChunk(e)}this.__clearFrame(b)};d.__doLoadChunk=function(a){this.$3(a)};d.__getChunkSize=function(a,b){return this.$6};d.getData=function(){return this.$1};d.__setData=function(a){this.$1=a};d.getLoadedMap=function(){if(!this.$2){var a=[];for(var b=this.$1,d=Array.isArray(b),e=0,b=d?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=b.length)break;f=b[e++]}else{e=b.next();if(e.done)break;f=e.value}f=f;var g=f[0];f=f[1];f.hasValue()&&a.push([g,f.getValueEnforcing()])}this.$2=c("immutable").Map(a)}return this.$2};d.getLoadedValue=function(a){return this.getLoadedMap().get(this.$5(a))};d.setDeleting=function(a){var b=this;return this.__mutate(function(){return b.$1.withMutations(function(c){for(var d=a,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=d.length)break;g=d[f++]}else{f=d.next();if(f.done)break;g=f.value}g=g;var h=b.$5(g);g=b.getCached(g);c.set(h,g.deleting())}})})};d.setLoading=function(a){var b=this;return this.__mutate(function(){return b.$1.withMutations(function(c){for(var d=a,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=d.length)break;g=d[f++]}else{f=d.next();if(f.done)break;g=f.value}g=g;var h=b.$5(g);g=b.getCached(g);c.set(h,g.loading())}})})};d.setUpdating=function(a){var b=this;return this.__mutate(function(){return b.$1.withMutations(function(c){for(var d=a,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=d.length)break;g=d[f++]}else{f=d.next();if(f.done)break;g=f.value}g=g;var h=b.$5(g);g=b.getCached(g);c.set(h,g.updating())}})})};d.setSingleValueOrError=function(a,b){var c=this.getCached(a);if(b instanceof Error)return this.set(a,c.setError(b).done());else return this.set(a,c.setValue(b).done())};d.setMultipleValueOrError=function(a){var b=this;return this.__mutate(function(){return b.$1.withMutations(function(c){for(var d=a,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=d.length)break;g=d[f++]}else{f=d.next();if(f.done)break;g=f.value}g=g;var h=g[0];g=g[1];var i=b.$5(h);h=b.getCached(h);g instanceof Error?c.set(i,h.setError(g).done()):c.set(i,h.setValue(g).done())}})})};d.setMultipleErrors=function(a){var b=this;return this.__mutate(function(){return b.$1.withMutations(function(c){for(var d=a,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=d.length)break;g=d[f++]}else{f=d.next();if(f.done)break;g=f.value}g=g;var h=g[0];g=g[1];var i=b.$5(h);h=b.getCached(h);c.set(i,h.setError(g).done())}})})};d.deleteMultipleValueOrError=function(a){var b=this;return this.__mutate(function(){return b.$1.withMutations(function(c){for(var d=a,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=d.length)break;g=d[f++]}else{f=d.next();if(f.done)break;g=f.value}g=g;g=b.$5(g);c["delete"](g)}})})};d.deleteMultipleErrors=function(a){var b=this;return this.__mutate(function(){return b.$1.withMutations(function(c){for(var d=a,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=d.length)break;g=d[f++]}else{f=d.next();if(f.done)break;g=f.value}g=g;g=b.$5(g);var h=b.$1.get(g);h.hasError()&&c["delete"](g)}})})};d.deleteAllErrors=function(){var a=this;return this.__mutate(function(){return a.$1.withMutations(function(a){a.forEach(function(b,c){b.hasError()&&a["delete"](c)})})})};d.has=function(a){return this.$1.has(this.$5(a))};d.set=function(a,b){var c=this;return this.__mutate(function(){return c.$1.set(c.$5(a),b)})};d.update=function(a,b){return this.set(a,b(this.get(a)))};d["delete"]=function(a){var b=this;return this.__mutate(function(){return b.$1["delete"](b.$5(a))})};d.merge=function(a){var b=this;return this.__mutate(function(){return b.$1.merge(b.$14(a))})};d.withMutations=function(a){var b=this;return this.__mutate(function(){return b.$1.withMutations(a)})};d.clear=function(){var a=this;return this.__mutate(function(){return a.$1.clear()})};d.$14=b("regeneratorRuntime").mark(function a(c){var d,e,f,g,h;return b("regeneratorRuntime").wrap(function(a){while(1)switch(a.prev=a.next){case 0:d=c,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();case 1:if(!e){a.next=7;break}if(!(f>=d.length)){a.next=4;break}return a.abrupt("break",16);case 4:g=d[f++];a.next=11;break;case 7:f=d.next();if(!f.done){a.next=10;break}return a.abrupt("break",16);case 10:g=f.value;case 11:h=g;a.next=14;return[this.$5(h[0]),h[1]];case 14:a.next=1;break;case 16:case"end":return a.stop()}},a,this)});d.__mutate=function(b){b=b();if(b===this.$1)return this;var c=new a(i,this.$3,this.$5,this.$4,this.$6,this.$10);c.$1=b;c.$11=this.$11;return c};d.__getPreventLoadsForThisFrame=function(a){a===void 0&&(a=c("LoadObjectMapBatchingQueueNames").DEFAULT);return(a=this.$7.get(a))!=null?a:c("immutable").OrderedSet()};return a}();g["default"]=a}),98);
__d("AdsAccountGKsProviderPlugin",["AdsAccountDataDispatcher","LoadObjectMap"],(function(a,b,c,d,e,f,g){"use strict";a={initialState:function(a){return c("LoadObjectMap").create(function(b){a(function(a){return a.setLoading(b)}),b.forEach(function(a){return c("AdsAccountDataDispatcher").loadGKs(a)})})}};b=a;g["default"]=b}),98);
__d("AdsAccountGKsErrorActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"AdsAccountGKsErrorActionPlugin"}}),null);
__d("AdsAccountGKsLoadedActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"AdsAccountGKsLoadedActionPlugin"}}),null);
__d("AdsAccountInitDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"ACCOUNT.INIT"}}),null);
__d("AdsAccountInvalidateDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"ACCOUNT.INVALIDATE"}}),null);
__d("AdsAccountListInvalidateDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"ACCOUNT.LIST_INVALIDATE"}}),null);
__d("AdsAccountSelectDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"ACCOUNT.SELECT"}}),null);
__d("AdsAccountSettingsCreateFinishedDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"ACCOUNT.SETTINGS_CREATE_FINISHED"}}),null);
__d("AdsAccountSettingsUpdateStartDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"ACCOUNT.SETTINGS_UPDATE_START"}}),null);
__d("AdsAccountViewerPermissionsLoadErrorDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"ACCOUNT.VIEWER_PERMISSIONS_LOAD_ERROR"}}),null);
__d("AdsAccountViewerPermissionsLoadedDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"ACCOUNT.VIEWER_PERMISSIONS_LOADED"}}),null);
__d("AdsAdgroupAcceptMAIDeeplinkTOSDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"ADGROUP.ACCEPT_MAI_DEEPLINK_TOS"}}),null);
__d("AdsAMAccountAcceptedTosAddActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"ACCOUNT_ACCEPTED_TOS_ADD"}}),null);
__d("AdsAMAccountInitActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"ACCOUNT_INIT"}}),null);
__d("AdsEventsManagerEventDetailsTabsEnum",["keyMirror"],(function(a,b,c,d,e,f,g){"use strict";a=c("keyMirror")({AD_SETS:null,DEDUPLICATION:null,DELAY:null,EVENT_MATCHING:null,EVENT_OVERVIEW:null,EVENT_SOURCE:null,RECENT_ACTIVITIES:null,SAMPLED_ACTIVITIES:null,SETUP_QUALITY:null});g["default"]=a}),98);
__d("AdsEventsManagerEventDetailsStateProviderPlugin",["AdsEventsManagerEventDetailsTabsEnum"],(function(a,b,c,d,e,f,g){"use strict";a={initialState:{isShown:!1,selectedTab:c("AdsEventsManagerEventDetailsTabsEnum").EVENT_OVERVIEW}};b=a;g["default"]=b}),98);
__d("AdsEventsManagerEventDetailsStateProvider",["AdsEventsManagerEventDetailsStateProviderPlugin","Laminar"],(function(a,b,c,d,e,f){"use strict";e.exports=b("Laminar").__createProvider(b("AdsEventsManagerEventDetailsStateProviderPlugin"),"AdsEventsManagerEventDetailsStateProviderPlugin")}),null);
__d("AdsEventsManagerPageTitleProviderPlugin",[],(function(a,b,c,d,e,f){"use strict";a={initialState:{includeBackButton:!1,title:null}};b=a;f["default"]=b}),66);
__d("AdsEventsManagerPageTitleProvider",["AdsEventsManagerPageTitleProviderPlugin","Laminar"],(function(a,b,c,d,e,f){"use strict";e.exports=b("Laminar").__createProvider(b("AdsEventsManagerPageTitleProviderPlugin"),"AdsEventsManagerPageTitleProviderPlugin")}),null);
__d("AdsEventsManagerPageTitleReducerPlugin",[],(function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){return babelHelpers["extends"]({},b)}};b=a;f["default"]=b}),66);
__d("AdsEventsManagerPageTitleUpdateAction",["AdsEventsManagerPageTitleProvider","AdsEventsManagerPageTitleReducerPlugin","Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[b("Laminar").__createReducer(b("AdsEventsManagerPageTitleReducerPlugin"),b("AdsEventsManagerPageTitleProvider"),{},"")]},function(){return[]},"AdsEventsManagerPageTitleUpdateActionPlugin");e.exports=a}),null);
__d("AdsEventsManagerEventDetailsStateTriggerReducerPlugin",[],(function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){return babelHelpers["extends"]({},a,{dataSourceId:b.params.dataSourceID,eventName:b.params.eventName})}};b=a;f["default"]=b}),66);
__d("AdsEventsManagerRoutingConstants",[],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({STATE:Object.freeze({NAV_ITEM:"navItem"})});f["default"]=a}),66);
__d("AdsEventsManagerURLProviderPlugin",["AdsEventsManagerRoutingConstants","immutable"],(function(a,b,c,d,e,f,g){"use strict";b={initialState:{params:(a={accountID:null,businessID:null,conversionIDs:null,dataSourceID:null,date:null,dialog:null,domain:null,eventName:null,globalScopeID:null,optimization:null,partnerConnectionID:null,partnerIntegrationID:null,partnerType:null,pixelID:null,selectedTab:null},a[c("AdsEventsManagerRoutingConstants").STATE.NAV_ITEM]=null,a),routes:c("immutable").List()}};d=b;g["default"]=d}),98);
__d("AdsEventsManagerURLProvider",["AdsEventsManagerEventDetailsStateProvider","AdsEventsManagerEventDetailsStateTriggerReducerPlugin","AdsEventsManagerURLProviderPlugin","Laminar"],(function(a,b,c,d,e,f){"use strict";e.exports=b("Laminar").__createProvider(b("AdsEventsManagerURLProviderPlugin"),"AdsEventsManagerURLProviderPlugin",function(){return[b("Laminar").__createTriggerReducer(b("AdsEventsManagerEventDetailsStateTriggerReducerPlugin"),"AdsEventsManagerEventDetailsStateTriggerReducerPlugin",b("AdsEventsManagerEventDetailsStateProvider"))]})}),null);
__d("AdsInterfacesRouteUpdateParamsDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"ADS_INTERFACES_ROUTE-UPDATE_PARAMS"}}),null);
__d("AdsPERefreshTableViewActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"PowerEditor.REFRESH_TABLE_VIEW"}}),null);
__d("AdsPEUploadShowPreviewActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"PowerEditor.UPLOAD.SHOW_PREVIEW"}}),null);
__d("BizKitSettingsPixelCreateFlowBusinessIDProviderPlugin",[],(function(a,b,c,d,e,f){"use strict";a={initialState:{businessID:null}};b=a;f["default"]=b}),66);
__d("BizKitSettingsPixelCreateFlowBusinessIDProvider",["BizKitSettingsPixelCreateFlowBusinessIDProviderPlugin","Laminar"],(function(a,b,c,d,e,f){"use strict";e.exports=b("Laminar").__createProvider(b("BizKitSettingsPixelCreateFlowBusinessIDProviderPlugin"),"BizKitSettingsPixelCreateFlowBusinessIDProviderPlugin")}),null);
__d("BusinessUnifiedNavigationUtils",["BusinessUnifiedNavigationContext","BusinessUnifiedNavigationDataKey"],(function(a,b,c,d,e,f,g){"use strict";a=function(){return new(c("BusinessUnifiedNavigationDataKey"))({adAccountID:c("BusinessUnifiedNavigationContext").adAccountID,businessID:c("BusinessUnifiedNavigationContext").businessID,localScopeID:c("BusinessUnifiedNavigationContext").localScopeID,localScopeType:c("BusinessUnifiedNavigationContext").localScopeType,globalScopeID:c("BusinessUnifiedNavigationContext").globalScopeID})};b=function(){return c("BusinessUnifiedNavigationContext").businessID};d=function(){return c("BusinessUnifiedNavigationContext").globalScopeID};e=function(){return c("BusinessUnifiedNavigationContext").globalScopeType};f=function(){return c("BusinessUnifiedNavigationContext").globalScopeName};var h=function(a){var b=!1;switch(a){case"ANALYTICS":case"BRAND_SAFETY_HUB":case"BUSINESS_SUITE_HOME":case"BIZWEB_INBOX":case"BIZWEB_POSTS":case"COLLABORATION_CENTER":case"COMMERCE_MANAGER":case"INSIGHTS":case"MEASUREMENT_HUB":case"NOTIFICATIONS":case"OFFLINE_EVENTS":case"PAGES":case"PARTNER_CENTER":case"PIXELS":case"PLANNER_TOOL":case"PUB_X":case"RATINGS_AND_REVIEWS":case"STORE_LOCATIONS":case"TRAFFIC_ANALYSIS":case"WHATSAPP_MESSAGING":case"BRAND_RIGHTS_PROTECTION":case"BUSINESS_MANAGER":case"BUSINESS_OVERVIEW":case"BUSINESS_SETTINGS":case"GENERAL":case"PAGES_PAGE":b=!0;break}return b};g.getNavigationKey=a;g.getBusinessID=b;g.getGlobalScopeID=d;g.getGlobalScopeType=e;g.getGlobalScopeName=f;g.shouldRenderBizHelpTray=h}),98);
__d("BusinessUnifiedNavigationGlobalScopeSelectorDataProviderPlugin",["BusinessUnifiedNavigationUtils"],(function(a,b,c,d,e,f,g){"use strict";a={initialState:{globalScopeType:d("BusinessUnifiedNavigationUtils").getGlobalScopeType(),globalScopeID:d("BusinessUnifiedNavigationUtils").getGlobalScopeID(),globalScopeName:d("BusinessUnifiedNavigationUtils").getGlobalScopeName(),businessID:d("BusinessUnifiedNavigationUtils").getBusinessID()}};b=a;g["default"]=b}),98);
__d("BusinessUnifiedNavigationGlobalScopeSelectorDataProvider",["BusinessUnifiedNavigationGlobalScopeSelectorDataProviderPlugin","Laminar"],(function(a,b,c,d,e,f){"use strict";e.exports=b("Laminar").__createProvider(b("BusinessUnifiedNavigationGlobalScopeSelectorDataProviderPlugin"),"BusinessUnifiedNavigationGlobalScopeSelectorDataProviderPlugin")}),null);
__d("EngagementAudienceUITypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(a){b("GeneratedLoggerUtils").log("logger:EngagementAudienceUILoggerConfig",this.$1,b("Banzai").BASIC,a)};c.logVital=function(a){b("GeneratedLoggerUtils").log("logger:EngagementAudienceUILoggerConfig",this.$1,b("Banzai").VITAL,a)};c.logImmediately=function(a){b("GeneratedLoggerUtils").log("logger:EngagementAudienceUILoggerConfig",this.$1,{signal:!0},a)};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setAdAccount=function(a){this.$1.ad_account=a;return this};c.setAppName=function(a){this.$1.app_name=a;return this};c.setEventName=function(a){this.$1.event_name=a;return this};c.updateExtraData=function(a){a=b("nullthrows")(b("GeneratedLoggerUtils").serializeMap(a));b("GeneratedLoggerUtils").checkExtraDataFieldNames(a,g);this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.addToExtraData=function(a,b){var c={};c[a]=b;return this.updateExtraData(c)};return a}();var g={ad_account:!0,app_name:!0,event_name:!0};f["default"]=a}),66);
__d("signalsLoggingAddSecondary",[],(function(a,b,c,d,e,f){"use strict";var g=0;function a(a,b){b.id=g++;return babelHelpers["extends"]({},a,{secondaries:[].concat(a.secondaries,[b])})}f["default"]=a}),66);
__d("SignalsLoggingGenerated",["QPLUserFlow","QuickPerformanceLogger","signalsLogAction","signalsLoggingAddSecondary","signalsLoggingMakeTimer"],(function(a,b,c,d,e,f){var g={namespace:null,scope:[],secondaries:[]};a=function(){"use strict";function a(a){a===void 0&&(a=g),this.$1=a}var c=a.prototype;c.mutateInternal=function(b){return new a(b(this.$1))};c.getInternalDataDoNotUse=function(){return this.$1};c.logAdd=function(){b("signalsLogAction")(this.$1,"add")};c.logCancel=function(){b("signalsLogAction")(this.$1,"cancel")};c.logClick=function(){b("signalsLogAction")(this.$1,"click")};c.logClose=function(){b("signalsLogAction")(this.$1,"close")};c.logCollapse=function(){b("signalsLogAction")(this.$1,"collapse")};c.logCopy=function(){b("signalsLogAction")(this.$1,"copy")};c.logCreate=function(){b("signalsLogAction")(this.$1,"create")};c.logDismiss=function(){b("signalsLogAction")(this.$1,"dismiss")};c.logDone=function(){b("signalsLogAction")(this.$1,"done")};c.logExpand=function(){b("signalsLogAction")(this.$1,"expand")};c.logFetch=function(){b("signalsLogAction")(this.$1,"fetch")};c.logFilter=function(){b("signalsLogAction")(this.$1,"filter")};c.logLoseFocus=function(){b("signalsLogAction")(this.$1,"lose_focus")};c.logNextStep=function(){b("signalsLogAction")(this.$1,"next_step")};c.logOpen=function(){b("signalsLogAction")(this.$1,"open")};c.logPrevStep=function(){b("signalsLogAction")(this.$1,"prev_step")};c.logRender=function(){b("signalsLogAction")(this.$1,"render")};c.logReset=function(){b("signalsLogAction")(this.$1,"reset")};c.logSave=function(){b("signalsLogAction")(this.$1,"save")};c.logSelect=function(){b("signalsLogAction")(this.$1,"select")};c.logShow=function(){b("signalsLogAction")(this.$1,"show")};c.logSort=function(){b("signalsLogAction")(this.$1,"sort")};c.logStart=function(){b("signalsLogAction")(this.$1,"start")};c.logToggle=function(){b("signalsLogAction")(this.$1,"toggle")};c.logToggleOff=function(){b("signalsLogAction")(this.$1,"toggle_off")};c.logToggleOn=function(){b("signalsLogAction")(this.$1,"toggle_on")};c.logCheckedOn=function(){b("signalsLogAction")(this.$1,"checked_on")};c.logCheckedOff=function(){b("signalsLogAction")(this.$1,"checked_off")};c.logExposure=function(){b("signalsLogAction")(this.$1,"exposure")};c.logTestExposure=function(){b("signalsLogAction")(this.$1,"test_exposure")};c.logControlExposure=function(){b("signalsLogAction")(this.$1,"control_exposure")};c.getExecuteTimer=function(){return b("signalsLoggingMakeTimer")(this.$1,"execute")};c.getLoadTimer=function(){return b("signalsLoggingMakeTimer")(this.$1,"load")};c.getRenderTimer=function(){return b("signalsLoggingMakeTimer")(this.$1,"render")};c.getRequestTimer=function(){return b("signalsLoggingMakeTimer")(this.$1,"request")};c.getTimeSpentTimer=function(){return b("signalsLoggingMakeTimer")(this.$1,"time_spent")};c.startEvent=function(a,c){b("QuickPerformanceLogger").markerStart(a,c)};c.startEventFromNavStart=function(a,c){b("QuickPerformanceLogger").markerStartFromNavStart(a,c)};c.annotateEvent=function(a,c){b("QuickPerformanceLogger").markerAnnotate(a,c)};c.markEventPoint=function(a,c){b("QuickPerformanceLogger").markerPoint(a,c)};c.startUserFlowEventFromNavStart=function(a){b("QPLUserFlow").startFromNavStart(a)};c.startUserFlowEvent=function(a){b("QPLUserFlow").start(a)};c.annotateUserFlowEvent=function(a,c){b("QPLUserFlow").addAnnotations(a,c)};c.markUserFlowEventPoint=function(a,c){b("QPLUserFlow").addPoint(a,c)};c.markUserFlowEventError=function(a,c){b("QPLUserFlow").markError(a,c)};c.endEventSuccess=function(a,c){b("QuickPerformanceLogger").markerEnd(a,2,c)};c.endEventFail=function(a,c){b("QuickPerformanceLogger").markerEnd(a,3,c)};c.endEventCancel=function(a,c){b("QuickPerformanceLogger").markerEnd(a,4,c)};c.endUserFlowEventSuccess=function(a){b("QPLUserFlow").endSuccess(a)};c.endUserFlowEventCancel=function(a){b("QPLUserFlow").endCancel(a)};c.endUserFlowEventFailure=function(a,c){b("QPLUserFlow").endFailure(a,c)};c.withAemConversionBitsChangeTrackExtraData=function(a){return this.mutateInternal(function(c){return b("signalsLoggingAddSecondary")(c,{cb:a,options:new Set(["GLOBAL_CONTEXT"]),type:"AEM_CONVERSION_BITS_CHANGE_TRACK"})})};c.withConversionsApiContextExtraData=function(a){return this.mutateInternal(function(c){return b("signalsLoggingAddSecondary")(c,{cb:a,options:new Set(["GLOBAL_CONTEXT"]),type:"CONVERSIONS_API_CONTEXT"})})};c.withCustomConversionExtraData=function(a){return this.mutateInternal(function(c){return b("signalsLoggingAddSecondary")(c,{cb:a,options:new Set(["ONE_LINE_PER_CALL"]),type:"CUSTOM_CONVERSION"})})};c.withEventsManagerContextExtraData=function(a){return this.mutateInternal(function(c){return b("signalsLoggingAddSecondary")(c,{cb:a,options:new Set(["GLOBAL_CONTEXT"]),type:"EVENTS_MANAGER_CONTEXT"})})};c.withEventsManagerOmnilinkExtraData=function(a){return this.mutateInternal(function(c){return b("signalsLoggingAddSecondary")(c,{cb:a,options:new Set(["GLOBAL_CONTEXT"]),type:"EVENTS_MANAGER_OMNILINK"})})};c.withEventMatchDetailsContextExtraData=function(a){return this.mutateInternal(function(c){return b("signalsLoggingAddSecondary")(c,{cb:a,options:new Set(["GLOBAL_CONTEXT"]),type:"EVENT_MATCH_DETAILS_CONTEXT"})})};c.withPersonalizedOnboardingExtraData=function(a){return this.mutateInternal(function(c){return b("signalsLoggingAddSecondary")(c,{cb:a,options:new Set(["ONE_LINE_PER_CALL"]),type:"PERSONALIZED_ONBOARDING"})})};return a}();e.exports=a}),null);
__d("AdsInterfacesRouteConstants",[],(function(a,b,c,d,e,f){"use strict";a="$$fragment$$";f.FRAGMENT_IN_PARAMS=a}),66);
__d("react-relay-deprecated/classic/query-config/RelayQueryConfig",["invariant"],(function(a,b,c,d,e,f,g,h){"use strict";a=function(){function a(b){this.constructor!==a||h(0,4383),Object.defineProperty(this,"name",{enumerable:!0,value:this.constructor.routeName}),Object.defineProperty(this,"params",{enumerable:!0,value:this.prepareVariables(babelHelpers["extends"]({},b))||{}}),Object.defineProperty(this,"queries",{enumerable:!0,value:babelHelpers["extends"]({},this.constructor.queries)})}var b=a.prototype;b.prepareVariables=function(a){return a};return a}();g["default"]=a}),98);
__d("react-relay-deprecated/classic/route/RelayRoute",["invariant","forEachObject","react-relay-deprecated/classic/query-config/RelayQueryConfig"],(function(a,b,c,d,e,f,g,h){"use strict";var i=function(){return null};a=function(a){babelHelpers.inheritsLoose(b,a);function b(c,d){c=a.call(this,c)||this;var e=c.constructor,f=e.routeName,g=e.path;e!==b||h(0,672);f||h(0,673,e.name||"<<anonymous>>");Object.defineProperty(babelHelpers.assertThisInitialized(c),"uri",{enumerable:!0,get:function(){!d&&g&&(d=i(e,this.params));return d}});return c}var d=b.prototype;d.prepareVariables=function(a){var b=this.constructor,d=b.paramDefinitions,e=b.prepareParams,f=b.routeName,g=a;e&&(g=e(g));d&&c("forEachObject")(d,function(a,b){if(g)if(Object.prototype.hasOwnProperty.call(g,b))return;else g[b]=void 0;a.required&&h(0,674,b,f)});return g};b.injectURICreator=function(a){i=a};return b}(c("react-relay-deprecated/classic/query-config/RelayQueryConfig"));g["default"]=a}),98);
__d("AdsInterfacesICERoute",["AdsInterfacesRouteConstants","URI","immutable","react-relay-deprecated/classic/route/RelayRoute"],(function(a,b,c,d,e,f,g){"use strict";var h=function(){return null};function i(a,b,c){var d={};Object.keys(a).forEach(function(e){if(Object.prototype.hasOwnProperty.call(b,e)){if(!c&&b[e]==a[e].defaultValue)return;d[e]=b[e]}});return d}a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,e){b=a.call(this,b,e)||this;Object.defineProperty(babelHelpers.assertThisInitialized(b),"givenName",{enumerable:!0,value:b.constructor.givenName});Object.defineProperty(babelHelpers.assertThisInitialized(b),"fragment",{enumerable:!0,get:function(){var a=this.params,b=d("AdsInterfacesRouteConstants").FRAGMENT_IN_PARAMS;return Object.prototype.hasOwnProperty.call(a,b)?a[b]:null}});Object.defineProperty(babelHelpers.assertThisInitialized(b),"semanticParams",{enumerable:!0,get:function(){return this.constructor.semanticParams(this.constructor,this.params)}});Object.defineProperty(babelHelpers.assertThisInitialized(b),"queryParams",{enumerable:!0,get:function(){return this.constructor.queryParams(this.constructor,this.params)}});Object.defineProperty(babelHelpers.assertThisInitialized(b),"activeState",{enumerable:!0,get:function(){return babelHelpers["extends"]({},this.constructor.activeState)}});Object.defineProperty(babelHelpers.assertThisInitialized(b),"url",{enumerable:!0,get:function(){!e&&this.constructor.path&&(e=h(this.constructor,this.params));if(typeof e==="string")return new(c("URI"))(e);else return e}});Object.defineProperty(babelHelpers.assertThisInitialized(b),"title",{enumerable:!0,get:function(){var a=!1,b=[],c=this.constructor;while(!a&&c){var d=void 0;c.handler&&c.handler.getTitle&&(d=c.handler.getTitle(c,this));!d&&c.title&&(d=c.title);d&&(c.absoluteTitle?(b=[d],a=!0):b.unshift(d));c=c.parentRoute}if(b.length===0)return null;else return b.join(" - ")}});return b}var e=b.prototype;e.$AdsInterfacesICERoute1=function(a){var b=[];if(a!=null){a=a.constructor;while(a)b.push(a),a=a.parentRoute}return c("immutable").List(b)};e.isForceLoad=function(a){a=this.$AdsInterfacesICERoute1(a);var b=!1,c=this.constructor;if(!a.contains(c))while(c){var d=null;c.handler&&c.handler.isForceLoad&&(d=c.handler.isForceLoad(c,a,this));d==null&&c.forceLoad!=null&&(d=c.forceLoad);d!=null&&b!=null&&(b=b||d);c=c.parentRoute;c&&a.contains(c)&&(c=null)}return b};b.semanticParams=function(a,b){return i(a.paramDefinitions||{},b,!0)};b.queryParams=function(a,b){return i(a.queryParamDefinitions||{},b,!0)};b.queryParamsWithoutDefaults=function(a,b){return i(a.queryParamDefinitions||{},b,!1)};b.getDecodedQueryParams=function(a,b){return a.$AdsInterfacesICERoute2(a,a.queryParamDefinitions,b,!0)};b.getEncodedQueryParams=function(a,b){return a.$AdsInterfacesICERoute2(a,a.queryParamDefinitions,b,!1)};b.getDecodedSemanticParams=function(a,b){return a.$AdsInterfacesICERoute2(a,a.paramDefinitions,b,!0)};b.getEncodedSemanticParams=function(a,b){return a.$AdsInterfacesICERoute2(a,a.paramDefinitions,b,!1)};b.$AdsInterfacesICERoute2=function(a,b,c,d){var e={};if(!b)return c;for(var f in c){var g=c[f],h=b[f];if(h&&h.customType){var i=h.customType,j=null,k=a;while(j===null&&k){if(k.handler){var l=k.handler,m={required:!!h.required,defaultValue:h.defaultValue,enums:h.enums};d&&l.decodeParameter?j=l.decodeParameter(k,f,i,g,m):!d&&l.encodeParameter&&(j=l.encodeParameter(k,f,i,g,m))}k=k.parentRoute}e[f]=j}else e[f]=g}return e};b.injectURICreator=function(a){h=a};b.toShortNavigatable=function(){return[this.configName,Array.from(this.configPath)]};return b}(c("react-relay-deprecated/classic/route/RelayRoute"));g["default"]=a}),98);
__d("AdsInterfacesRouteTypeFBID",["invariant","immutable"],(function(a,b,c,d,e,f,g,h){"use strict";var i=",";function j(a,b){return!b.length?[]:b.split(i)}function k(a,b){Array.isArray(b)||h(0,12166,typeof b,JSON.stringify(b),a);return b.map(function(a){return String(a)}).join(",")}function a(a,b){return c("immutable").OrderedSet(j(a,b))}function b(a,b){c("immutable").OrderedSet.isOrderedSet(b)||h(0,12166,typeof b,JSON.stringify(b),a);return k(a,b.toArray())}function d(a,b){return c("immutable").List(j(a,b))}function e(a,b){c("immutable").List.isList(b)||h(0,12166,typeof b,JSON.stringify(b),a);return k(a,b.toArray())}g.decodeArray=j;g.encodeArray=k;g.decodeOrderedSet=a;g.encodeOrderedSet=b;g.decodeList=d;g.encodeList=e}),98);
__d("AdsInterfacesRouteTypeFloat",["invariant","immutable"],(function(a,b,c,d,e,f,g,h){"use strict";var i=",";function j(a,b){return!b.length?[]:b.split(i).map(function(a){return parseFloat(a)})}function k(a,b){Array.isArray(b)||h(0,12166,typeof b,JSON.stringify(b),a);return b.map(function(a){return parseFloat(a)}).join(",")}function a(a,b){return c("immutable").OrderedSet(j(a,b))}function b(a,b){c("immutable").OrderedSet.isOrderedSet(b)||h(0,12166,typeof b,JSON.stringify(b),a);return k(a,b.toArray())}function d(a,b){return c("immutable").List(j(a,b))}function e(a,b){c("immutable").List.isList(b)||h(0,12166,typeof b,JSON.stringify(b),a);return k(a,b.toArray())}g.decodeArray=j;g.encodeArray=k;g.decodeOrderedSet=a;g.encodeOrderedSet=b;g.decodeList=d;g.encodeList=e}),98);
__d("AdsInterfacesRouteTypeInt",["invariant","immutable"],(function(a,b,c,d,e,f,g,h){"use strict";var i=",";function j(a,b){return!b.length?[]:b.split(i).map(function(a){return parseInt(a,10)})}function k(a,b){Array.isArray(b)||h(0,12166,typeof b,JSON.stringify(b),a);return b.map(function(a){return parseInt(a,10)}).join(",")}function a(a,b){return c("immutable").OrderedSet(j(a,b))}function b(a,b){c("immutable").OrderedSet.isOrderedSet(b)||h(0,12166,typeof b,JSON.stringify(b),a);return k(a,b.toArray())}function d(a,b){return c("immutable").List(j(a,b))}function e(a,b){c("immutable").List.isList(b)||h(0,12166,typeof b,JSON.stringify(b),a);return k(a,b.toArray())}g.decodeArray=j;g.encodeArray=k;g.decodeOrderedSet=a;g.encodeOrderedSet=b;g.decodeList=d;g.encodeList=e}),98);
__d("AdsInterfacesRouteTypeString",["invariant","compactArray","immutable"],(function(a,b,c,d,e,f,g,h){"use strict";var i=/,(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/g,j=/^\"(.*)\"$/;function k(a,b){if(Array.isArray(b))return c("compactArray")(b.map(function(a){return typeof a==="string"?a:null}));return typeof b!=="string"||!b.length?[]:b.split(i).map(function(a){return a.replace(j,"$1")})}function l(a,b){Array.isArray(b)||h(0,12166,typeof b,JSON.stringify(b),a);return b.map(function(a){return String(a)}).map(function(a){return a.indexOf(",")>-1?'"'+a+'"':a}).join(",")}function a(a,b){return c("immutable").OrderedSet(k(a,b))}function b(a,b){c("immutable").OrderedSet.isOrderedSet(b)||h(0,12166,typeof b,JSON.stringify(b),a);return l(a,b.toArray())}function d(a,b){return c("immutable").List(k(a,b))}function e(a,b){c("immutable").List.isList(b)||h(0,12166,typeof b,JSON.stringify(b),a);return l(a,b.toArray())}g.decodeArray=k;g.encodeArray=l;g.decodeOrderedSet=a;g.encodeOrderedSet=b;g.decodeList=d;g.encodeList=e}),98);
__d("AdsInterfacesGenericRoute",["invariant","AdsInterfacesICERoute","AdsInterfacesRouteTypeFBID","AdsInterfacesRouteTypeFloat","AdsInterfacesRouteTypeInt","AdsInterfacesRouteTypeString","areEqual"],(function(a,b,c,d,e,f,g,h){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(c("AdsInterfacesICERoute"));a.routeName="AdsInterfacesGenericRoute";a.givenName="genericRoot";a.handler={_convertEnumValue:function(a,b,d,e){var f=String(b);Array.isArray(e)||h(0,6124,a);a=e.some(function(a){return c("areEqual")(a,b)});a||(f=String(d));return f},decodeParameter:function(a,b,c,d,e){var f=null;if(d==null)return d;switch(c.toLowerCase()){case"enum":f=this._convertEnumValue(b,d,e.defaultValue,e.enums);break;case"string":case"fbid":f=d;break;case"int":f=parseInt(d,10);break;case"float":case"number":f=parseFloat(d);break;case"boolean":d==="false"||d===""||d==="0"?f=!1:f=!!d;break;default:f=this._decodeMultiParameter(a,b,c,d,e)}return f},_decodeMultiParameter:function(a,b,c,e,f){a=null;switch(c.toLowerCase()){case"stringarray":case"array<string>":a=d("AdsInterfacesRouteTypeString").decodeArray(c,e);break;case"stringorderedset":case"stringset":case"orderedset<set>":case"set<string>":a=d("AdsInterfacesRouteTypeString").decodeOrderedSet(c,e);break;case"stringlist":case"list<string>":a=d("AdsInterfacesRouteTypeString").decodeList(c,e);break;case"fbidarray":case"array<fbid>":a=d("AdsInterfacesRouteTypeFBID").decodeArray(c,e);break;case"fbidorderedset":case"fbidset":case"orderedset<fbid>":case"set<fbid>":a=d("AdsInterfacesRouteTypeFBID").decodeOrderedSet(c,e);break;case"fbidlist":case"list<fbid>":a=d("AdsInterfacesRouteTypeFBID").decodeList(c,e);break;case"floatarray":case"array<float>":case"numberarray":case"array<number>":a=d("AdsInterfacesRouteTypeFloat").decodeArray(c,e);break;case"floatorderedset":case"floatset":case"orderedset<float>":case"set<float>":case"numberorderedset":case"numberset":case"orderedset<number>":case"set<number>":a=d("AdsInterfacesRouteTypeFloat").decodeOrderedSet(c,e);break;case"floatlist":case"list<float>":case"numberlist":case"list<number>":a=d("AdsInterfacesRouteTypeFloat").decodeList(c,e);break;case"intarray":case"array<int>":a=d("AdsInterfacesRouteTypeInt").decodeArray(c,e);break;case"intorderedset":case"intset":case"orderedset<int>":case"set<int>":a=d("AdsInterfacesRouteTypeInt").decodeOrderedSet(c,e);break;case"intlist":case"list<int>":a=d("AdsInterfacesRouteTypeInt").decodeList(c,e);break}return a},encodeParameter:function(a,b,c,d,e){var f=null;if(d==null)return d;switch(c.toLowerCase()){case"enum":f=this._convertEnumValue(b,d,e.defaultValue,e.enums);break;case"string":case"fbid":f=d+"";break;case"int":case"float":case"number":f=Number(d)+"";break;case"boolean":f=d?"true":"false";break;default:f=this._encodeMultiParameter(a,b,c,d,e)}return f},_encodeMultiParameter:function(a,b,c,e,f){a=null;switch(c.toLowerCase()){case"stringarray":case"array<string>":a=d("AdsInterfacesRouteTypeString").encodeArray(c,e);break;case"stringorderedset":case"stringset":case"orderedset<string>":case"set<string>":a=d("AdsInterfacesRouteTypeString").encodeOrderedSet(c,e);break;case"stringlist":case"list<string>":a=d("AdsInterfacesRouteTypeString").encodeList(c,e);break;case"fbidarray":case"array<fbid>":a=d("AdsInterfacesRouteTypeFBID").encodeArray(c,e);break;case"fbidorderedset":case"fbidset":case"orderedset<fbid>":case"set<fbid>":a=d("AdsInterfacesRouteTypeFBID").encodeOrderedSet(c,e);break;case"fbidlist":case"list<fbid>":a=d("AdsInterfacesRouteTypeFBID").encodeList(c,e);break;case"floatarray":case"array<float>":case"numberarray":case"array<number>":a=d("AdsInterfacesRouteTypeFloat").encodeArray(c,e);break;case"floatorderedset":case"floatset":case"orderedset<float>":case"set<float>":case"numberorderedset":case"numberset":case"orderedset<number>":case"set<number>":a=d("AdsInterfacesRouteTypeFloat").encodeOrderedSet(c,e);break;case"floatlist":case"list<float>":case"numberlist":case"list<number>":a=d("AdsInterfacesRouteTypeFloat").encodeList(c,e);break;case"intarray":case"array<int>":a=d("AdsInterfacesRouteTypeInt").encodeArray(c,e);break;case"intorderedset":case"intset":case"orderedset<int>":case"set<int>":a=d("AdsInterfacesRouteTypeInt").encodeOrderedSet(c,e);break;case"intlist":case"list<int>":a=d("AdsInterfacesRouteTypeInt").encodeList(c,e);break}return a}};g["default"]=a}),98);
__d("AdsEventsManagerRoutingMainICERoute",["AdsInterfacesGenericRoute","AdsInterfacesICERoute","immutable"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(b("AdsInterfacesICERoute"));a.routeName="AdsEventsManagerRoutingMainICERoute";a.configName="AdsEventsManagerRouting";a.configPath=b("immutable").List(["main"]);a.givenName="main";a.path="/events_manager2";a.paramDefinitions={};a.queryParamDefinitions={business_id:{type:"String",customType:"String",required:!1},global_scope_id:{type:"String",customType:"String",required:!1},act:{type:"String",customType:"String",required:!1},date:{type:"String",customType:"String",required:!1},dialog:{type:"String",customType:"String",required:!1},nav_source:{type:"String",customType:"String",required:!1}};a.parentRoute=b("AdsInterfacesGenericRoute");a.activeState={};a.forceLoad=!1;a.redirect=["AdsEventsManagerRouting",["overview"]];a.viewModuleName="AdsEventsManagerMain.react";e.exports=a}),null);
__d("AdsEventsManagerNotificationCenterPageRouteHandler",["fbt","AdsEventsManagerPageTitleUpdateAction"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a,b){c("AdsEventsManagerPageTitleUpdateAction").dispatch({title:h._("Task Centre").toString()},{line:"23",module:"AdsEventsManagerNotificationCenterPageRouteHandler.js",moduleID:f.id})}function b(a,b){c("AdsEventsManagerPageTitleUpdateAction").dispatch({title:null},{line:"32",module:"AdsEventsManagerNotificationCenterPageRouteHandler.js",moduleID:f.id})}g.routeDidMount=a;g.routeWillUnmount=b}),98);
__d("AdsEventsManagerRoutingTaskCenterICERoute",["AdsEventsManagerNotificationCenterPageRouteHandler","AdsEventsManagerRoutingMainICERoute","AdsInterfacesICERoute","immutable"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(b("AdsInterfacesICERoute"));a.routeName="AdsEventsManagerRoutingTaskCenterICERoute";a.configName="AdsEventsManagerRouting";a.configPath=b("immutable").List(["task_center"]);a.givenName="task_center";a.path="/events_manager2/task_center";a.paramDefinitions={};a.queryParamDefinitions={business_id:{type:"String",customType:"String",required:!1},global_scope_id:{type:"String",customType:"String",required:!1},act:{type:"String",customType:"String",required:!1},date:{type:"String",customType:"String",required:!1},dialog:{type:"String",customType:"String",required:!1},nav_source:{type:"String",customType:"String",required:!1}};a.parentRoute=b("AdsEventsManagerRoutingMainICERoute");a.activeState={navItem:"TASK_CENTER"};a.handler=b("AdsEventsManagerNotificationCenterPageRouteHandler");a.forceLoad=!1;a.viewModuleName="AdsEventsManagerNotificationCenterPage.react";e.exports=a}),null);
__d("AdsInterfacesRouteBuilder",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.$1=a,this.$2=null,this.$3={},this.$4={},this.$5=[],this.$6=[]}var b=a.prototype;b.on=function(a){a(this);return this};b.when=function(a,b){a&&b(this);return this};b.route=function(a){this.$2=a;return this};b.params=function(a){this.$3=babelHelpers["extends"]({},this.$3,a);return this};b.force=function(){this.$4.force=!0;return this};b.forceLoad=function(){this.$4.forceLoad=!0;return this};b.replaceState=function(){this.$4.replaceState=!0;return this};b.fragment=function(a){this.$4.fragment=a;return this};b.onSuccess=function(a){this.$5.push(a);return this};b.onComplete=function(a){this.$6.push(a);return this};b.context=function(a){this.$4.context=babelHelpers["extends"]({},this.$4.context||{},a);return this};b.navigate=function(a){this.__prepareRouting();var b=this.$6;this.$4.onComplete=function(){b.forEach(function(a){return a()})};var c=this.$5;this.$4.onSuccess=function(){c.forEach(function(a){return a()})};this.__navigate(a)};b.__navigate=function(a){this.$2?this.$1.navigateTo(this.$2,this.$3,this.$4,a):this.$1.updateParams(this.$3||{},this.$4,a)};b.getURI=function(a){this.__prepareRouting();return this.__getURI(a)};b.__getURI=function(a){return this.$1.getURITo(this.$2,this.$3,this.$4,a)};b.__prepareRouting=function(){};b.__getRoute=function(){return this.$2};b.__getParams=function(){return this.$3};b.__getOptions=function(){return this.$4};return a}();f["default"]=a}),66);
__d("ICEDI",["invariant","immutable"],(function(a,b,c,d,e,f,g,h){"use strict";a=function(){function a(){this.reset()}var b=a.prototype;b.set=function(b,a){this.$1.has(b)&&h(0,1455,b),this.$1=this.$1.set(b,a)};b.get=function(a){this.$1.has(a)||h(0,1456,a);return this.$1.get(a)};b.getOrNull=function(a){return this.$1.get(a)};b.reset=function(){this.$1=c("immutable").Map({})};return a}();g["default"]=a}),98);
__d("AdsInterfacesRouteDI",["invariant","ICEDI"],(function(a,b,c,d,e,f,g,h){"use strict";var i="app_route_handler",j="browser",k="controller",l="event_manager",m="is_route_load_time_enabled",n="loader",o="navigation_manager",p="public_dispatcher",q="public_logger",r="private_dispatcher",s="private_logger",t="resolver",u="router",v="store",w="time_spent_logging_options",x="uri_helper";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.getAppHandler=function(){return this.getOrNull(i)};c.setAppHandler=function(a){this.set(i,a);return this};c.getBrowser=function(){var a=this.get(j);a||h(0,2308);return a};c.setBrowser=function(a){this.set(j,a);return this};c.getController=function(){var a=this.get(k);a||h(0,2309);return a};c.setController=function(a){this.set(k,a);return this};c.getEventManager=function(){var a=this.get(l);a||h(0,2310);return a};c.getEventManagerOrNull=function(){return this.getOrNull(l)};c.setEventManager=function(a){this.set(l,a);return this};c.getIsRouteLoadTimeEnabled=function(){return this.get(m)};c.setIsRouteLoadTimeEnabled=function(a){this.set(m,a);return this};c.getTimeSpentLoggingOptions=function(){var a;a=(a=this.getOrNull(w))!=null?a:{};return typeof a==="function"?a():a};c.setTimeSpentLoggingOptions=function(a){this.set(w,a);return this};c.getLoader=function(){var a=this.get(n);a||h(0,2311);return a};c.setLoader=function(a){this.set(n,a);return this};c.getNavigationManager=function(){var a=this.get(o);a||h(0,2312);return a};c.setNavigationManager=function(a){this.set(o,a);return this};c.getOnPrivateDispatch=function(){var a=this.get(r);a||h(0,2317);return a};c.setOnPrivateDispatch=function(a){this.set(r,a);return this};c.getOnPrivateLog=function(){var a=this.get(s);a||h(0,2313);return a};c.setOnPrivateLog=function(a){this.set(s,a);return this};c.getOnPublicDispatch=function(){return this.getOrNull(p)};c.setOnPublicDispatch=function(a){this.set(p,a);return this};c.getOnPublicLog=function(){return this.getOrNull(q)};c.setOnPublicLog=function(a){this.set(q,a);return this};c.getResolver=function(){var a=this.get(t);a||h(0,2314);return a};c.setResolver=function(a){this.set(t,a);return this};c.getRouter=function(){var a=this.get(u);a||h(0,2315);return a};c.getRouterOrNull=function(){return this.getOrNull(u)};c.setRouter=function(a){this.set(u,a);return this};c.getStore=function(){var a=this.get(v);a||h(0,2316);return a};c.setStore=function(a){this.set(v,a);return this};c.getURIHelper=function(){return this.get(x)};c.setURIHelper=function(a){this.set(x,a);return this};return b}(c("ICEDI"));b=new a();g["default"]=b}),98);
__d("AdsInterfacesRouterEvents",[],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({POPSTATE:"ICE_ROUTER/POPSTATE",NAVIGATE:"ICE_ROUTER/NAVIGATE",RELOAD:"ICE_ROUTER/RELOAD",ROUTE_CHANGE:"ICE_ROUTER/ROUTE_CHANGE"});f["default"]=a}),66);
__d("Cache",["DateConsts","TimeSlice"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){this.$1=new Map()}var b=a.prototype;b.has=function(a){return this.$1.has(a)};b.get=function(a,b){a=this.__getRaw(a);return!a?b:a.$2};b.getAll=function(a,b){var c=this,d=new Map();a.forEach(function(a){return d.set(a,c.get(a,b))});return d};b["delete"]=function(a){var b=this.__getRaw(a);b&&b.$3&&clearTimeout(b.$3);return this.$1["delete"](a)};b.clear=function(){this.$1.forEach(function(a){a&&a.$3&&clearTimeout(a.$3)}),this.$1.clear()};b.set=function(a,b,e,f){if(!this.shouldUpdate(a,e))return!1;var g=this.__getRaw(a);g||(g=this.__getNewRawObject());delete g.$2;delete g.$4;g.$3&&clearTimeout(g.$3);delete g.$3;g.$2=b;e!=null&&(g.$4=e);f!=null&&f>=0&&(g.$3=setTimeout(c("TimeSlice").guard(this["delete"].bind(this,a),"Cache expiration timeout"),f*d("DateConsts").MS_PER_SEC*d("DateConsts").SEC_PER_MIN));this.__setRaw(a,g);return!0};b.shouldUpdate=function(a,b){a=this.__getRaw(a);return a==null||a.$4==null||b==null||b>a.$4};b.size=function(){return this.$1.size};b.__getRaw=function(a){return this.$1.get(a)};b.__setRaw=function(a,b){this.$1.set(a,b)};b.__getNewRawObject=function(){return{$2:null,$3:null,$4:null,$5:null,$6:null}};b.__keys=function(){return this.$1.keys()};return a}();g["default"]=a}),98);
__d("LFUCache",["Cache","DateConsts","ExecutionEnvironment"],(function(a,b,c,d,e,f,g){"use strict";var h=15,i=1;a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,d){var e;e=a.call(this)||this;e.$LFUCache2=b&&b>0?b:h;e.$LFUCache3=d&&d>0?d:i;c("ExecutionEnvironment").canUseDOM&&e.$LFUCache4();return e}var e=b.prototype;e.$LFUCache4=function(){clearTimeout(this.$LFUCache1),this.$LFUCache1=setTimeout(this.purge.bind(this),this.$LFUCache2*d("DateConsts").SEC_PER_MIN*d("DateConsts").MS_PER_SEC)};e.destroy=function(){clearTimeout(this.$LFUCache1)};e.get=function(b,c){this.has(b)&&this.$LFUCache5(b);return a.prototype.get.call(this,b,c)};e.set=function(b,c,d,e){var f=this.has(b);c=a.prototype.set.call(this,b,c,d,e);c&&(f?this.$LFUCache5(b):this.$LFUCache6(b,this.$LFUCache3));return c};e.purge=function(){var a=this,b=Array.from(this.__keys());b.forEach(function(b){a.$LFUCache7(b)<a.$LFUCache3?a["delete"](b):a.$LFUCache6(b,0)});this.$LFUCache4()};e.$LFUCache5=function(a){var b=this.$LFUCache7(a)+1;this.$LFUCache6(a,b);return b};e.$LFUCache7=function(a){a=this.__getRaw(a);return a&&a.$LFUCache8?a.$LFUCache8:0};e.$LFUCache6=function(a,b){var c=this.__getRaw(a);c||(c=this.__getNewRawObject());c.$LFUCache8=b;this.__setRaw(a,c);return!0};return b}(c("Cache"));g["default"]=a}),98);
__d("memoizeWithArgsByKey",["LFUCache"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=null;function d(d){for(var e=arguments.length,f=new Array(e>1?e-1:0),g=1;g<e;g++)f[g-1]=arguments[g];b||(b=new(c("LFUCache"))());var h=b.get(d);if(h&&h.args.length===f.length&&h.args.every(function(a,b){return f[b]===a}))return h.value;var i=a.apply(void 0,f);b.set(d,{args:f,value:i});return i}d.clearCache=function(){b&&b.clear()};return d}g["default"]=a}),98);
__d("serializeFormQueryMap",[],(function(a,b,c,d,e,f){"use strict";function g(a){return[].concat(Array.from(a.querySelectorAll("input")),Array.from(a.querySelectorAll("select")),Array.from(a.querySelectorAll("textarea")),Array.from(a.querySelectorAll("button")))}function h(a,b){g(a).forEach(function(a){if(!a.name||a.disabled)return;var c=a.type;if(c==="submit"||c==="reset"||c==="button"||c==="image"||c==="file")return;if((c==="radio"||c==="checkbox")&&!a.checked)return;if(a.nodeName==="SELECT"){for(var d=0,e=a.options.length;d<e;d++){var f=a.options[d];f.selected&&b("select",a.name,f.value)}return}b(c,a.name,a.value||"")})}function a(a){var b={};h(a,function(a,c,d){a=b[c];Object.prototype.hasOwnProperty.call(b,c)?Array.isArray(a)?a.push(d):b[c]=[a,d]:b[c]=d});return b}e.exports=a}),null);
__d("AdsInterfacesRouter",["invariant","AdsInterfacesRouteBuilder","AdsInterfacesRouteDI","AdsInterfacesRouterEvents","EventListener","Parent","URI","memoizeWithArgsByKey","serializeFormQueryMap"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a,b,c){return b.getNavigatableInfo(c.constructor,c.params,{destination:a,params:{},fragment:null,replaceState:!1})}var i=c("memoizeWithArgsByKey")(a);b=function(){function a(){}a.get=function(){return c("AdsInterfacesRouteDI").getRouter()};a.getOrNull=function(){return c("AdsInterfacesRouteDI").getRouterOrNull()};var b=a.prototype;b.getNavigatableByURI=function(a){var b=c("AdsInterfacesRouteDI").getResolver();b=b.getRouteInfo(a,!1);return b==null||b.routeClass==null?null:b.routeClass.toShortNavigatable()};b.getLeafRoute=function(){var a=c("AdsInterfacesRouteDI").getResolver();return a.getCurrentLeafRoute(!0)};b.getGivenName=function(){return this.getLeafRoute().givenName};b.getParams=function(){return this.getLeafRoute().params};b.getTypedParams=function(){return this.getLeafRoute().params};b.getQueryParams=function(){return this.getLeafRoute().queryParams};b.getSemanticParams=function(){return this.getLeafRoute().semanticParams};b.getActiveState=function(){return this.getLeafRoute().activeState};b.getFragment=function(){return this.getLeafRoute().fragment};b.getRoutes=function(){var a=c("AdsInterfacesRouteDI").getResolver();return a.getCurrentRoutes(!0)};b.getRoutesGivenName=function(){return this.getRoutes().map(function(a){return a.givenName})};b.getChildNavigatables=function(a,b){var d=c("AdsInterfacesRouteDI").getResolver(),e=d.getCurrentLeafRoute(!0);a=i(a,a,d,e);e=null;if(!a.isExternal){a=a.routeClass;if(a){d=d.getAllChildrenRouteClasses(a,!!b);e=d.map(function(a){return a.toShortNavigatable()})}}return e};b.hasActiveRoute=function(a){var b=c("AdsInterfacesRouteDI").getResolver(),d=b.getCurrentLeafRoute(!0);a=i(a,a,b,d);if(a.isExternal)return!1;var e=a.routeClass;a=b.getRoutesByLeafRoute(d);return a.some(function(a){return a instanceof e})};b.isActiveRoute=function(a){var b=c("AdsInterfacesRouteDI").getResolver(),d=b.getCurrentLeafRoute(!0);a=i(a,a,b,d);return a.isActiveRoute};b.getBuilder=function(){return new(c("AdsInterfacesRouteBuilder"))(this)};b.navigateTo=function(a,b,d,e){var f=c("AdsInterfacesRouteDI").getEventManager();f.navigate(a,b,d,!!e)};b.preload=function(a){var b=c("AdsInterfacesRouteDI").getEventManager();b.loadRoutes(a,null,null,null,!0)};b.updateParams=function(a,b,d){var e=c("AdsInterfacesRouteDI").getEventManager();e.navigate(null,a,b,!!d)};b.reload=function(a,b){var d=c("AdsInterfacesRouteDI").getEventManager();d.reload(a,!!b)};b.reloadPageData=function(a){var b=c("AdsInterfacesRouteDI").getEventManager();b.reloadPageData(!!a)};b.bootloadRoute=function(a,b){this.$1(a,b,!1)};b.preloadRoute=function(a,b){this.$1(a,b,!0)};b.$1=function(a,b,d){var e=c("AdsInterfacesRouteDI").getEventManager(),f=c("AdsInterfacesRouteDI").getResolver(),g=f.getCurrentLeafRoute(!0);g=f.normalizeNavigatableToClassOrURI(g.constructor,g.params,{destination:a,params:{},fragment:null,replaceState:!1});a=g.destination;if(!a.routeName)return;var h=b||{};g=new a();b=f.getRoutesByLeafRoute(g);e.loadRoutes(b,function(){h.onSuccess&&h.onSuccess(),h.onComplete&&h.onComplete()},function(a){h.onFailure&&h.onFailure(a),h.onComplete&&h.onComplete()},null,d)};b.getURITo=function(a,b,d,e){d=d||{};var f=c("AdsInterfacesRouteDI").getResolver(),g=f.getCurrentLeafRoute(!0);g=f.getNavigatableInfo(g.constructor,g.params,{destination:a,params:b||{},fragment:d.fragment,replaceState:!!d.replaceState,resetRouteParams:!!d.resetRouteParams,preservedRouteParams:d.preservedRouteParams||[]});a=null;e&&(!g.isExternal&&g.routeClass&&(a=f.redirectClassToURI(g.routeClass,g.params||{})));return a||g.uri};b.addEventListener=function(a,b){var d=c("AdsInterfacesRouteDI").getEventManager();switch(a){case c("AdsInterfacesRouterEvents").POPSTATE:return d.listenToPopState(b);case c("AdsInterfacesRouterEvents").NAVIGATE:return d.listenToNavigate(b);case c("AdsInterfacesRouterEvents").RELOAD:return d.listenToReload(b);case c("AdsInterfacesRouterEvents").ROUTE_CHANGE:return d.listenToRouteChange(b);default:return h(!1,"addEventListener encountered an unknown event type")}};b.captureUserEvents=function(){var a=this;j("click",function(a){a=a.target;if(!(a instanceof Node))return null;a=d("Parent").byTag(a,"a");return a instanceof HTMLAnchorElement?a:null},function(b,c){return a.$2(b,c)});j("submit",function(a){a=a.target;if(!(a instanceof Node))return null;a=d("Parent").byTag(a,"form");return a instanceof HTMLFormElement?a:null},function(b,c){return a.$3(b,c)})};b.$2=function(a,b){if(!b.href||b.target&&b.target!=="_self")return;!a.shiftKey&&!a.ctrlKey&&!a.metaKey&&a.which!==2&&a.button!==4&&this.$4(a,new(c("URI"))(b.href))};b.$3=function(a,b){b.action&&b.method==="get"&&this.$4(a,new(c("URI"))(b.action).addQueryData(c("serializeFormQueryMap")(b)))};b.$4=function(a,b){this.getNavigatableByURI(b)&&(a.preventDefault(),this.navigateTo(b))};return a}();function j(a,b,d){var e;c("EventListener").capture(document,a,function(a){e=b(a)});c("EventListener").registerDefault(a,function(a){if(!e)return;a.defaultPrevented||d(a,e);e=void 0})}g["default"]=b}),98);
__d("AdsEventsManagerGatingUtils",["AdsEventsManagerRoutingMainICERoute","AdsEventsManagerRoutingPixelOverviewICERoute","AdsEventsManagerRoutingTaskCenterICERoute","AdsInterfacesRouter"],(function(a,b,c,d,e,f,g){"use strict";var h="conversions_api";function a(){try{return c("AdsInterfacesRouter").get().getRoutes().map(function(a){return a.name}).contains(c("AdsEventsManagerRoutingMainICERoute").routeName)}catch(a){return!1}}function b(){return c("AdsInterfacesRouter").get().getGivenName()===h}function d(){try{return c("AdsInterfacesRouter").get().getRoutes().map(function(a){return a.name}).contains(c("AdsEventsManagerRoutingTaskCenterICERoute").routeName)}catch(a){return!1}}function e(){try{return c("AdsInterfacesRouter").get().getRoutes().map(function(a){return a.name}).contains(c("AdsEventsManagerRoutingPixelOverviewICERoute").routeName)}catch(a){return!1}}g.isCurrentlyAdsEventsManager=a;g.isCurrentlyAdsEventsManagerFullPageMarketerAssement=b;g.isCurrntlyAdsTaskCenter=d;g.isCurrentlyAdsEventsManagerPixelOverview=e}),98);
__d("AdsEventsManagerPixelOverviewRouteHandler",["SignalsLogging","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h=new(c("SignalsLogging"))();function a(a,b){a=b.getPreviousRoute()==null;a?h.startUserFlowEventFromNavStart(c("qpl")._(58195970,"8908")):h.startUserFlowEvent(c("qpl")._(58195970,"8908"));h.annotateEvent(c("qpl")._(58195970,"8908"),{bool:{isInit:a}})}function b(){h.endUserFlowEventCancel(c("qpl")._(58195970,"8908"))}g.routeDidMount=a;g.routeWillUnmount=b}),98);
__d("AdsEventsManagerListingPageRouteHandler",["fbt","AdsEventsManagerPageTitleUpdateAction"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a,b){c("AdsEventsManagerPageTitleUpdateAction").dispatch({title:h._("Data sources").toString()},{line:"23",module:"AdsEventsManagerListingPageRouteHandler.js",moduleID:f.id})}function b(a,b){c("AdsEventsManagerPageTitleUpdateAction").dispatch({title:null},{line:"32",module:"AdsEventsManagerListingPageRouteHandler.js",moduleID:f.id})}g.routeDidMount=a;g.routeWillUnmount=b}),98);
__d("AdsEventsManagerRoutingListICERoute",["AdsEventsManagerListingPageRouteHandler","AdsEventsManagerRoutingMainICERoute","AdsInterfacesICERoute","immutable"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(b("AdsInterfacesICERoute"));a.routeName="AdsEventsManagerRoutingListICERoute";a.configName="AdsEventsManagerRouting";a.configPath=b("immutable").List(["list"]);a.givenName="list";a.path="/events_manager2/list";a.paramDefinitions={};a.queryParamDefinitions={business_id:{type:"String",customType:"String",required:!1},global_scope_id:{type:"String",customType:"String",required:!1},act:{type:"String",customType:"String",required:!1},date:{type:"String",customType:"String",required:!1},dialog:{type:"String",customType:"String",required:!1},nav_source:{type:"String",customType:"String",required:!1}};a.parentRoute=b("AdsEventsManagerRoutingMainICERoute");a.activeState={navItem:"DATA_SOURCES"};a.handler=b("AdsEventsManagerListingPageRouteHandler");a.forceLoad=!1;a.viewModuleName="AdsEventsManagerListingPage.react";e.exports=a}),null);
__d("AdsEventsManagerRoutingPixelICERoute",["AdsEventsManagerRoutingListICERoute","AdsInterfacesICERoute","immutable"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(b("AdsInterfacesICERoute"));a.routeName="AdsEventsManagerRoutingPixelICERoute";a.configName="AdsEventsManagerRouting";a.configPath=b("immutable").List(["pixel"]);a.givenName="pixel";a.path="/events_manager2/list/pixel/{dataSourceID}";a.paramDefinitions={dataSourceID:{type:"String",customType:"FBID",required:!0}};a.queryParamDefinitions={business_id:{type:"String",customType:"String",required:!1},global_scope_id:{type:"String",customType:"String",required:!1},act:{type:"String",customType:"String",required:!1},date:{type:"String",customType:"String",required:!1},dialog:{type:"String",customType:"String",required:!1},nav_source:{type:"String",customType:"String",required:!1}};a.parentRoute=b("AdsEventsManagerRoutingListICERoute");a.activeState={navItem:"DATA_SOURCES"};a.forceLoad=!1;a.redirect=["AdsEventsManagerRouting",["pixel_overview"]];a.viewModuleName="AdsEventsManagerPixelInspectorContainer.react";e.exports=a}),null);
__d("AdsEventsManagerRoutingPixelOverviewICERoute",["AdsEventsManagerPixelOverviewRouteHandler","AdsEventsManagerRoutingPixelICERoute","AdsInterfacesICERoute","immutable"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(b("AdsInterfacesICERoute"));a.routeName="AdsEventsManagerRoutingPixelOverviewICERoute";a.configName="AdsEventsManagerRouting";a.configPath=b("immutable").List(["pixel_overview"]);a.givenName="pixel_overview";a.path="/events_manager2/list/pixel/{dataSourceID}/overview";a.paramDefinitions={dataSourceID:{type:"String",customType:"FBID",required:!0}};a.queryParamDefinitions={business_id:{type:"String",customType:"String",required:!1},global_scope_id:{type:"String",customType:"String",required:!1},act:{type:"String",customType:"String",required:!1},date:{type:"String",customType:"String",required:!1},dialog:{type:"String",customType:"String",required:!1},nav_source:{type:"String",customType:"String",required:!1}};a.parentRoute=b("AdsEventsManagerRoutingPixelICERoute");a.activeState={navItem:"DATA_SOURCES",selectedTab:"OVERVIEW"};a.handler=b("AdsEventsManagerPixelOverviewRouteHandler");a.forceLoad=!1;a.viewModuleName="AdsEventsManagerPixelOverviewTab.react";e.exports=a}),null);
__d("SignalsLoggingMetadataUtil",["AdsEventsManagerURLProvider"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=c("AdsEventsManagerURLProvider")().params,b=a.dataSourceID,d=a.businessID;a=a.accountID;return{ad_account_id:a,business_id:d,data_source_id:b}}function b(){return{current_url:window.location.href}}g.getUsefulIDs=a;g.getCurrentURL=b}),98);
__d("SignalsLoggingSessionErrors",[],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c){c="Sessions of scope '"+c+"' and namespace '"+b+"' has already been declared";b=a.call(this,c)||this;b.message=c;b.name="DuplicateSessionNameError";return b}return b}(babelHelpers.wrapNativeSuper(Error));b=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c="Session scope can only contain letters, numbers, and _";b=a.call(this,c)||this;b.message=c;b.name="InvalidSessionNameError";return b}return b}(babelHelpers.wrapNativeSuper(Error));f.DuplicateSessionNameError=a;f.InvalidSessionNameError=b}),66);
__d("signalsLoggingComputeScope",["invariant"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){a=Array.isArray(a)?a:a.scope;a.length>0||h(0,4656);return a.map(function(a){return typeof a==="string"?a:a!=null?a():null}).filter(function(a){return a!=null}).join(".")}g["default"]=a}),98);
__d("signalsNow",["AdsCurrentUser","DateTime","Timezone","TimezoneNamesData"],(function(a,b,c,d,e,f,g){"use strict";d("Timezone").registerNamesModule(b("TimezoneNamesData"));function h(){return h.getNow()}a=c("AdsCurrentUser").timezoneName!=null&&c("AdsCurrentUser").timezoneName!==""?d("Timezone").getByNameOrNull(c("AdsCurrentUser").timezoneName):null;h.getNow=function(){return c("DateTime").localNow().instant};h.UTC=d("Timezone").UTC;h.PST8PDT=d("Timezone").PST8PDT;h.LOCAL_TIMEZONE_ID=a!=null?a:d("Timezone").getEnvironmentTimezoneID();h.asPSTDateTime=function(){return new(c("DateTime"))(h.getNow(),d("Timezone").PST8PDT)};h.asUTCDateTime=function(){return new(c("DateTime"))(h.getNow(),d("Timezone").UTC)};h.asLocalDateTime=function(){return new(c("DateTime"))(h.getNow(),h.LOCAL_TIMEZONE_ID)};e=h;g["default"]=e}),98);
__d("SignalsLoggingSessions",["SignalsLoggingSessionErrors","nullthrows","signalsLoggingComputeScope","signalsNow"],(function(a,b,c,d,e,f,g){"use strict";var h=1e3,i=c("signalsNow")();function j(a,b){return{loggerData:a,start:c("signalsNow")(),timeoutSeconds:b}}function k(a){if(a==null)return!1;return a.timeoutSeconds==null?!0:a.start+a.timeoutSeconds*h>c("signalsNow")()}a=function(){function a(){var a=this;this.$1={};this.globalSessionStartTime=i;this.start=function(b,e){var f=c("signalsLoggingComputeScope")(b),g=c("nullthrows")(b.namespace);if(/[^a-zA-Z_0-9.]/.test(f))throw new(d("SignalsLoggingSessionErrors").InvalidSessionNameError)();var h=g+"."+f;if(k(a.$1[h]))throw new(d("SignalsLoggingSessionErrors").DuplicateSessionNameError)(g,f);a.$1[h]=j(b,e);return function(){return a.end(h)}}}var b=a.prototype;b.resetAllForTests=function(){this.$1={}};b.end=function(a){delete this.$1[a]};b.getForSend=function(){var a=this;return Object.keys(this.$1).map(function(b){return a.$1[b]}).filter(k)};b.getSession=function(a,b){a=a+"."+b;return this.$1[a]};return a}();b=new a();e=b;g["default"]=e}),98);
__d("SignalsPixelGiveFeedbackSentiment",["keyMirror"],(function(a,b,c,d,e,f,g){"use strict";a=c("keyMirror")({NEGATIVE:null,POSITIVE:null,UNSELECTED:null});b=a;g["default"]=b}),98);
__d("signalsLoggingUserFeedbackListener",[],(function(a,b,c,d,e,f){"use strict";var g=new Set(["ONE_LINE_PER_CALL"]);function a(a){return{type:"USER_FEEDBACK",cb:a,options:g}}e.exports=a}),null);
__d("signalsLogUserFeedback",["SignalsPixelGiveFeedbackSentiment","signalsLoggingUserFeedbackListener"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var d=null;if(b.format==="SIMPLE_TEXT"){var e=b.browser,f=b.feedbackCategory,g=b.text;d={browser:e,feedbackCategory:f,feedbackFormat:"SIMPLE_TEXT",feedbackMessage:g}}else{e=b.browser;f=b.businessID;g=b.concern;var h=b.response,i=b.sentiment,j=b.feedbackSource,k=b.feedbackCategory,l=b.signalSourceID;d={browser:e,businessID:f,feedbackCategory:k,feedbackMessage:JSON.stringify({concern:g,response:h}),feedbackNumericValue:i===c("SignalsPixelGiveFeedbackSentiment").POSITIVE?1:0,feedbackSelectedCategory:g,feedbackSource:j,signalSourceID:l};switch(b.format){case"GENERIC_REACTION_FEEDBACK":d=babelHelpers["extends"]({},d,{feedbackFormat:"GENERIC_REACTION_FEEDBACK"});break;case"MARKETER_ASSESSMENT_FEEDBACK":e=b.entryPoint;f=b.errorCode;k=b.pixelSetupStatus;i=b.userFlowStep;j=b.usesPartnerBrowser;d=babelHelpers["extends"]({},d,{entryPoint:e,errorCode:f,feedbackFormat:"MARKETER_ASSESSMENT_FEEDBACK",pixelSetupStatus:k,userFlowStep:i,usesPartnerBrowser:j});break;case"ENGINEERING_CHECKLIST_FEEDBACK":l=b.businessRole;e=b.entryPoint;f=b.errorCode;k=b.userFlowStep;d=babelHelpers["extends"]({},d,{businessRole:l,entryPoint:e,errorCode:f,feedbackFormat:"ENGINEERING_CHECKLIST_FEEDBACK",userFlowStep:k});break;case"PARTNER_INTEGRATIONS_FEEDBACK":i=b.isCAPISetup;j=b.entryPoint;l=b.pixelSetupStatus;e=b.partnerFlowStep;f=b.partnerName;d=babelHelpers["extends"]({},d,{entryPoint:j,feedbackFormat:"PARTNER_INTEGRATIONS_FEEDBACK",pixelSetupStatus:l});d.feedbackMessage=JSON.stringify({concern:g,isCAPISetup:i,partnerFlowStep:e,partnerName:f,response:h});break}}d!=null&&(a==null?void 0:a.secondary(c("signalsLoggingUserFeedbackListener"),function(){return d}).logCustomActionUseSparingly("GIVE_FEEDBACK"))}g["default"]=a}),98);
__d("signalsLoggingAddScopes",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){return babelHelpers["extends"]({},a,{scope:[].concat(a.scope,b)})}f["default"]=a}),66);
__d("signalsLoggingAssertComplete",["invariant"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){a.namespace!=null||h(0,4652),a.scope.length>0||h(0,4653)}g["default"]=a}),98);
__d("signalsLoggingDefineSessionByComponentLifetime",["SignalsLoggingSessionErrors","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function i(a,b,c){var e,f;c===void 0&&(c=[]);return f=e=function(e){babelHelpers.inheritsLoose(f,e);function f(){return e.apply(this,arguments)||this}var g=f.prototype;g.componentDidMount=function(){var b=this;try{var e=c.reduce(function(a,c){return a.scope(typeof c==="string"?c:c(b.props))},a);this.$1=e.startSession()}catch(b){if(b instanceof d("SignalsLoggingSessionErrors").DuplicateSessionNameError)a.logError(b,i.ERROR_ACTION);else throw b}};g.componentWillUnmount=function(){this.$1!=null&&this.$1()};g.render=function(){return h.jsx(b,babelHelpers["extends"]({},this.props))};return f}(h.PureComponent),e.__className="Sessionized_"+(b.name||""),f}i.ERROR_ACTION="DEFINE_SESSION_BY_COMPONENT";g["default"]=i}),98);
__d("signalsLoggingSetNamespace",["invariant"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a,b){a.namespace==null||h(0,4655);return babelHelpers["extends"]({},a,{namespace:b})}g["default"]=a}),98);
__d("SignalsLogging",["Run","SignalsLoggingGenerated","SignalsLoggingMetadataUtil","SignalsLoggingSessions","nullthrows","react","signalsLogAction","signalsLogError","signalsLogUserFeedback","signalsLoggingAddScopes","signalsLoggingAddSecondary","signalsLoggingAssertComplete","signalsLoggingDefineSessionByComponentLifetime","signalsLoggingLogPromise","signalsLoggingMakeTimer","signalsLoggingSetNamespace"],(function(a,b,c,d,e,f,g){"use strict";d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var e=b.prototype;e.mutateInternal=function(a){return new b(a(this.getInternalDataDoNotUse()))};e.$SignalsLogging1=function(){c("signalsLoggingAssertComplete")(this.getInternalDataDoNotUse())};e.scope=function(){for(var a=arguments.length,d=new Array(a),e=0;e<a;e++)d[e]=arguments[e];return new b(c("signalsLoggingAddScopes")(this.getInternalDataDoNotUse(),d))};e.namespace=function(a){return new b(c("signalsLoggingSetNamespace")(this.getInternalDataDoNotUse(),a))};e.secondary=function(a,d){a=a(d);return new b(c("signalsLoggingAddSecondary")(this.getInternalDataDoNotUse(),babelHelpers["extends"]({},a)))};e.addSecondaryConfigInternal=function(a){return new b(c("signalsLoggingAddSecondary")(this.getInternalDataDoNotUse(),babelHelpers["extends"]({},a)))};e.performanceTimer=function(a){return c("signalsLoggingMakeTimer")(this.getInternalDataDoNotUse(),a)};e.startEvent=function(b,c){a.prototype.startEvent.call(this,b,c),this.annotateEvent(b,{string:babelHelpers["extends"]({},d("SignalsLoggingMetadataUtil").getUsefulIDs(),d("SignalsLoggingMetadataUtil").getCurrentURL())})};e.startEventFromNavStart=function(b,c){a.prototype.startEventFromNavStart.call(this,b,c),this.annotateEvent(b,{string:babelHelpers["extends"]({},d("SignalsLoggingMetadataUtil").getUsefulIDs(),d("SignalsLoggingMetadataUtil").getCurrentURL())})};e.startUserFlowEvent=function(b){a.prototype.startUserFlowEvent.call(this,b),this.annotateEvent(b,{string:babelHelpers["extends"]({},d("SignalsLoggingMetadataUtil").getUsefulIDs(),d("SignalsLoggingMetadataUtil").getCurrentURL())})};e.logPromise=function(a,b){return c("signalsLoggingLogPromise")(this.getInternalDataDoNotUse(),b,a)};e.logCustomActionUseSparingly=function(a){c("signalsLogAction")(this.getInternalDataDoNotUse(),a)};e.logError=function(a,b,d){d===void 0&&(d=!1),this.$SignalsLogging1(),c("signalsLogError")({action:b,config:this.getInternalDataDoNotUse(),disableSecondary:d,error:a})};e.startSession=function(a){var b=this;this.$SignalsLogging1();var d=c("SignalsLoggingSessions").start(this.getInternalDataDoNotUse(),a);this.logCustomActionUseSparingly("SESSION_START");return function(){b.logCustomActionUseSparingly("SESSION_END"),d()}};e.defineSession=function(a,b){return c("signalsLoggingDefineSessionByComponentLifetime")(this,a,b)};e.getSessionStart=function(a){a=c("SignalsLoggingSessions").getSession(c("nullthrows")(this.getInternalDataDoNotUse().namespace),a);return a!=null?a.start:null};e.logUserFeedback=function(a){c("signalsLogUserFeedback")(this,a)};return b}(c("SignalsLoggingGenerated"));var h=new a().namespace("FB").scope("PAGE_LOAD").startSession(),i=d("Run").onUnload(function(){h(),i.remove()});g["default"]=a}),98);
__d("signalsLoggingLogPromise",["Promise","signalsLogAction","signalsLogError","signalsLoggingAssertComplete","signalsLoggingMakeTimer"],(function(a,b,c,d,e,f,g){"use strict";function a(a,d,e){c("signalsLoggingAssertComplete")(a);c("signalsLogAction")(a,d);var f=c("signalsLoggingMakeTimer")(a,d);f.start();return e.then(function(a){f.end();return a})["catch"](function(e){f.end();c("signalsLogError")({action:d,config:a,error:e});return b("Promise").reject(e)})}g["default"]=a}),98);
__d("SignalsPerformanceTiming",["invariant","performanceNow","requestAnimationFrame"],(function(a,b,c,d,e,f,g,h){"use strict";var i={},j={};function k(a){i[a]=i[a]==null?0:i[a]+1;var b=i[a];return{key:a+"_"+b,runCount:i[a]}}a=function(){function a(a,b){var d=this;this.$4=!1;this.$5=!1;this.$6=0;this.$7=function(){d.$6++,d.$5===!1&&c("requestAnimationFrame")(d.$7)};this.$2=a;this.$1=k(a);this.$3=b}var b=a.prototype;b.reset=function(){this.$4=!1;this.$5=!0;this.$1=k(this.$2);this.$6=0;return this};b.start=function(){this.$4||(this.$4=!0,this.$5=!1,j[this.$1.key]=[c("performanceNow")()],this.$7());return this};b.end=function(){if(!this.$5&&this.$4){this.$5=!0;j[this.$1.key].push(c("performanceNow")());var a=j[this.$1.key];a.length===2||h(0,4726);var b=a[0];a=a[1];this.$8(b,a-b)}return this};b.$8=function(a,b){this.$3&&this.$3({duration:b,frameCount:this.$6,runCount:this.$1.runCount,start:a})};return a}();g["default"]=a}),98);
__d("signalsLoggingMakeTimer",["SignalsPerformanceTiming","signalsLogTiming"],(function(a,b,c,d,e,f,g){"use strict";var h=0;function a(a,b){return new(c("SignalsPerformanceTiming"))(""+h++,function(d){var e=d.duration,f=d.frameCount,g=d.runCount;d=d.start;c("signalsLogTiming")({action:b,config:a,duration:e,frameCount:f,runCount:g,start:d})})}g["default"]=a}),98);
__d("signalsLogAction",["signalsLoggingAssertComplete","signalsLoggingSend"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){c("signalsLoggingAssertComplete")(a),c("signalsLoggingSend")(a,{action:b,type:"action"})}g["default"]=a}),98);
__d("signalsLogError",["signalsLoggingSend"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.action,d=a.config,e=a.disableSecondary;e=e===void 0?!1:e;a=a.error;d=babelHelpers["extends"]({},d);e&&(d.secondaries=[]);c("signalsLoggingSend")(d,{action:b,error:a,type:"error"})}g["default"]=a}),98);
__d("signalsLogTiming",["signalsLoggingAssertComplete","signalsLoggingSend"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.action,d=a.config,e=a.duration,f=a.frameCount,g=a.runCount;a=a.start;c("signalsLoggingAssertComplete")(d);c("signalsLoggingSend")(d,{action:b,duration:e,frameCount:f,runCount:g,start:a,type:"timing"})}g["default"]=a}),98);
__d("AdsAccountStore",["cr:669"],(function(a,b,c,d,e,f,g){"use strict";a=new(b("cr:669"))();c=a;g["default"]=c}),98);
__d("SignalsLoggingFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1917857");b=d("FalcoLoggerInternal").create("signals_logging",a);e=b;g["default"]=e}),98);
__d("isIntern",[],(function(a,b,c,d,e,f){"use strict";function a(){if(typeof window==="undefined"||!window||!window.location||!window.location.pathname)return!1;var a=window.location.pathname,b="/intern";return a.substr(0,b.length)===b}f["default"]=a}),66);
__d("signalsLoggingFalcoPost",["CurrentUser","SignalsLoggingFalcoEvent","isIntern"],(function(a,b,c,d,e,f,g){"use strict";var h=!1,i=!1,j=null;function a(a){c("SignalsLoggingFalcoEvent").log(function(){return a}),j!=null&&j(a),h&&(c("CurrentUser").isEmployee()&&c("isIntern")()&&(i&&console.table(babelHelpers["extends"]({},a))))}function b(a,b){b===void 0&&(b=!1),h=a,i=b}function d(a){j=a}a.setLogToConsole=b;a.setLoggingHook=d;g["default"]=a}),98);
__d("signalsLoggingGetURLData",[],(function(a,b,c,d,e,f){"use strict";function a(){return{logHTTPReferrer:document.referrer,logURL:location.href}}f["default"]=a}),66);
__d("signalsLoggingReduceSecondaries",["SignalsLoggingSessions","nullthrows","signalsLoggingFalcoPost","signalsLoggingGetURLData"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b){var d=b.message,e=b.stack,f=b.lineNumber;b=b.fileName;var g=c("signalsLoggingGetURLData")(),h=g.logHTTPReferrer;g=g.logURL;c("signalsLoggingFalcoPost")({action:"CALCULATE",file_name:b,global_session_start_time:String(c("SignalsLoggingSessions").globalSessionStartTime),line_number:String(f),log_http_referrer:h,log_url:g,message:d,namespace:"ADS_SIGNALS",scope:"SECONDARY_LOGGING."+a,secondaries:[],sessions:[],stack:e,type:"error"})}function i(a){var b=babelHelpers["extends"]({},a);Object.keys(b).forEach(function(a){return b[a]===void 0&&delete b[a]});return b}function a(a){var b=[],d=new Map();for(var e=a,f=Array.isArray(e),g=0,e=f?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var j;if(f){if(g>=e.length)break;j=e[g++]}else{g=e.next();if(g.done)break;j=g.value}j=j;var k=c("nullthrows")(j.id);d.has(k)||d.set(k,j)}k=new Map();for(j=d.values(),g=Array.isArray(j),f=0,j=g?j:j[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(g){if(f>=j.length)break;e=j[f++]}else{f=j.next();if(f.done)break;e=f.value}d=e;e=d.type;k.has(e)||k.set(e,[]);c("nullthrows")(k.get(e)).push(d)}for(d=k.values(),f=Array.isArray(d),g=0,d=f?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(f){if(g>=d.length)break;j=d[g++]}else{g=d.next();if(g.done)break;j=g.value}k=j;j=k[0];e=j.type;j=j.options;if(j.has("GLOBAL_CONTEXT"))b.push(k[0]);else if(j.has("ONE_LINE_PER_CALL"))b=[].concat(b,k);else if(j.has("MERGE_DATA_BY_TYPE")){k=function(){return i(a.reduce(function(a,b){b=b.cb;return babelHelpers["extends"]({},a,b())},{}))};b.push({cb:k,options:j,type:e})}}return b.map(function(a){var b=a.cb;a=a.type;try{b=b();return b!=null?{data:b,type:a}:null}catch(b){h(a,b);return null}}).filter(Boolean)}g["default"]=a}),98);
__d("signalsLoggingSend",["AdsAccountStore","AdsEventsManagerGatingUtils","AdsInterfacesRouter","CurrentBusinessUser","FBLogger","SignalsLoggingSessions","nullthrows","signalsLoggingComputeScope","signalsLoggingFalcoPost","signalsLoggingGetURLData","signalsLoggingReduceSecondaries"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var e,f=c("CurrentBusinessUser").business_id;e=d("AdsEventsManagerGatingUtils").isCurrentlyAdsEventsManager()?(e=c("AdsInterfacesRouter").get().getParams())==null?void 0:e.act:c("AdsAccountStore").getSelectedAccountID();var g=c("SignalsLoggingSessions").getForSend(),h=c("SignalsLoggingSessions").globalSessionStartTime,i=g.map(function(a){var b=a.loggerData;a=a.start;return{namespace:c("nullthrows")(b.namespace),scope:c("signalsLoggingComputeScope")(b),start:a}});i=i.map(function(a){return babelHelpers["extends"]({},a,{start:String(a.start)})});g=c("signalsLoggingReduceSecondaries")([].concat(a.secondaries,g.flatMap(function(a){return a.loggerData.secondaries})));g=g.map(function(a){var b=a.data;a=a.type;return{data:b,type:a}});var j=c("nullthrows")(a.namespace),k=c("signalsLoggingComputeScope")(a),l=b.action,m=c("signalsLoggingGetURLData")(),n=m.logHTTPReferrer;m=m.logURL;switch(b.type){case"action":c("signalsLoggingFalcoPost")({action:l,ad_account_id:e,business_id:f,global_session_start_time:String(h),log_http_referrer:n,log_url:m,namespace:j,scope:k,secondaries:g,sessions:i,type:b.type});break;case"timing":var o=b.duration,p=b.frameCount,q=b.runCount,r=b.start;c("signalsLoggingFalcoPost")({action:l,ad_account_id:e,business_id:f,duration:o,frame_count:String(p),global_session_start_time:String(h),log_http_referrer:n,log_url:m,namespace:j,run_count:String(q),scope:k,secondaries:g,sessions:i,start:r,type:b.type});break;case"error":o=b.error;p=o.fileName;q=o.lineNumber;r=o.message;o=o.stack;l={action:l,ad_account_id:e,business_id:f,global_session_start_time:String(h),log_http_referrer:n,log_url:m,message:r,namespace:j,scope:k,secondaries:g,sessions:i,stack:o,type:b.type};p!=null&&(l=babelHelpers["extends"]({},l,{file_name:p}));q!=null&&(l=babelHelpers["extends"]({},l,{line_number:String(q)}));c("signalsLoggingFalcoPost")(l);c("FBLogger")("signals").catching(b.error).addMetadata("ADS_INTERFACES","RAW_DATA","namespace - "+((e=a.namespace)!=null?e:"NO_NAMESPACE")).addMetadata("ADS_INTERFACES","RAW_DATA","scope - "+c("signalsLoggingComputeScope")(a)).warn("An exception was thrown in Signals UI");break}}g["default"]=a}),98);
__d("AdsCachedLoadState_LEGACY",["AdsLoadState_LEGACY","ImmutableObject","mapObject"],(function(a,b,c,d,e,f,g){a=c("mapObject")(c("AdsLoadState_LEGACY"),function(a){return new(c("ImmutableObject"))({loadState:a})});b=a;g["default"]=b}),98);
__d("AdsEngagementAudienceUILogger",["EngagementAudienceUITypedLogger"],(function(a,b,c,d,e,f,g){"use strict";var h="",i="0";function a(a){i=a}function b(a){h=a}function d(a,b){(!h||!i)&&(h=h||"Unknown",i=i||"0");a=new(c("EngagementAudienceUITypedLogger"))().setAppName(h).setAdAccount(i).setEventName(a);b&&a.updateExtraData(b);a.log()}g.setAdAccountID=a;g.setAppName=b;g.log=d}),98);
__d("AdsLoadStateUtils_LEGACY",["invariant","AdsCachedLoadState_LEGACY","AdsLoadState_LEGACY","LoadObject","immutable","isEmpty"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){return a.loadState===c("AdsLoadState_LEGACY").LOADING}function b(a){return!!a&&a.loadState===c("AdsLoadState_LEGACY").LOADED}function d(a){return a.loadState===c("AdsLoadState_LEGACY").DELETING}function i(a){return!!a&&a.loadState===c("AdsLoadState_LEGACY").ERROR}function e(a){return a.loadState===c("AdsLoadState_LEGACY").PENDING_WRITE}function f(a){a.loadState===c("AdsLoadState_LEGACY").LOADED||h(0,5733,a.loadState);return a}function j(){for(var a=arguments.length,b=new Array(a),d=0;d<a;d++)b[d]=arguments[d];return q(c("AdsLoadState_LEGACY").LOADING,b)}function k(){for(var a=arguments.length,b=new Array(a),d=0;d<a;d++)b[d]=arguments[d];return q(c("AdsLoadState_LEGACY").LOADED,b)}function l(){for(var a=arguments.length,b=new Array(a),d=0;d<a;d++)b[d]=arguments[d];return q(c("AdsLoadState_LEGACY").ERROR,b)}function m(){for(var a=arguments.length,b=new Array(a),d=0;d<a;d++)b[d]=arguments[d];return p(c("AdsLoadState_LEGACY").LOADED,b)}function n(a){a=a.reduce(function(a,b){return Math.min(a,E(b))},E(c("AdsLoadState_LEGACY").LOADED));return D(a)}function o(a){var b=E(c("AdsLoadState_LEGACY").LOADED);a.forEach(function(a){b=Math.min(b,E(a.loadState))});return D(b)}function p(a,b){return b.every(function(b){if(!b)return!0;b=b.values();var c=b.next();while(!c.done){if(c.value&&c.value.loadState!==a)return!1;c=b.next()}return!0})}function q(a,b){return b.some(function(b){if(!b)return!1;b=b.values();var c=b.next();while(!c.done){if(c.value&&c.value.loadState===a)return!0;c=b.next()}return!1})}function r(a){return i(a)?a.error:null}function s(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];var d=b.map(t);return[].concat.apply([],d)}function t(a){var b=[];a&&a.forEach(function(a){a=r(a);a&&b.push(a)});return b}function u(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];var d=b.map(v);return[].concat.apply([],d)}function v(a){var b=[];a&&a.forEach(function(a){a&&a.loadState===c("AdsLoadState_LEGACY").LOADED&&b.push(a)});return b}function w(a){var b=a.loadState;a=babelHelpers.objectWithoutPropertiesLoose(a,["loadState"]);var d=!c("isEmpty")(a);switch(b){case c("AdsLoadState_LEGACY").ERROR:return c("LoadObject").empty().setError(a.error||new Error());case c("AdsLoadState_LEGACY").LOADED:return d?c("LoadObject").withValue(a):c("LoadObject").empty();case c("AdsLoadState_LEGACY").LOADING:return d?c("LoadObject").loading().setValue(a):c("LoadObject").loading();case c("AdsLoadState_LEGACY").NOT_LOADED:return c("LoadObject").empty();case c("AdsLoadState_LEGACY").PENDING_WRITE:return d?c("LoadObject").updating().setValue(a):c("LoadObject").updating();case c("AdsLoadState_LEGACY").DELETING:return d?c("LoadObject").deleting().setValue(a):c("LoadObject").deleting();default:return h(!1,"Invalid load state %s",b)}}function x(a){if(a.isEmpty())return c("AdsCachedLoadState_LEGACY").NOT_LOADED;if(a.isLoading())return c("AdsCachedLoadState_LEGACY").LOADING;if(a.hasError())return{loadState:c("AdsLoadState_LEGACY").ERROR,error:a.getError()};if(a.isUpdating())return babelHelpers["extends"]({loadState:c("AdsLoadState_LEGACY").PENDING_WRITE},a.getValue());if(a.isDeleting())return babelHelpers["extends"]({loadState:c("AdsLoadState_LEGACY").DELETING},a.getValue());a=a.getValue()||{};return babelHelpers["extends"]({loadState:c("AdsLoadState_LEGACY").LOADED},a)}function y(a){a=x(a);return a.loadState===c("AdsLoadState_LEGACY").NOT_LOADED?c("AdsCachedLoadState_LEGACY").LOADING:a}function z(a){var b=new Map();a.forEach(function(a,c){b.set(c,y(a))});return b}function A(a){if(a.isEmpty())return c("AdsCachedLoadState_LEGACY").NOT_LOADED;if(a.isLoading())return c("AdsCachedLoadState_LEGACY").LOADING;if(a.hasError())return{loadState:c("AdsLoadState_LEGACY").ERROR,list:[],error:a.getError()};var b=a.getValue()||[];b=b.slice();if(a.isUpdating())return{loadState:c("AdsLoadState_LEGACY").PENDING_WRITE,list:b};return a.isDeleting()?{loadState:c("AdsLoadState_LEGACY").DELETING,list:b}:{loadState:c("AdsLoadState_LEGACY").LOADED,list:b}}function B(a){a=A(a);return a.loadState===c("AdsLoadState_LEGACY").NOT_LOADED?c("AdsCachedLoadState_LEGACY").LOADING:a}function C(a){var b=a.loadState;a=a.list;a=c("immutable").List(a);switch(b){case c("AdsLoadState_LEGACY").ERROR:return c("LoadObject").withError(new Error());case c("AdsLoadState_LEGACY").LOADED:return c("LoadObject").withValue(a);case c("AdsLoadState_LEGACY").LOADING:return c("LoadObject").withValue(a).loading();case c("AdsLoadState_LEGACY").NOT_LOADED:return c("LoadObject").empty();case c("AdsLoadState_LEGACY").PENDING_WRITE:return c("LoadObject").withValue(a).updating();default:return h(!1,"Invalid load state")}}function D(a){switch(a){case 0:return c("AdsLoadState_LEGACY").NOT_LOADED;case 1:return c("AdsLoadState_LEGACY").LOADING;case 2:return c("AdsLoadState_LEGACY").PENDING_WRITE;case 3:return c("AdsLoadState_LEGACY").ERROR;case 4:return c("AdsLoadState_LEGACY").LOADED;default:h(0,5734)}}function E(a){switch(a){case c("AdsLoadState_LEGACY").NOT_LOADED:return 0;case c("AdsLoadState_LEGACY").LOADING:return 1;case c("AdsLoadState_LEGACY").PENDING_WRITE:return 2;case c("AdsLoadState_LEGACY").ERROR:return 3;case c("AdsLoadState_LEGACY").LOADED:return 4;default:return void 0}}function F(a){if(a.isEmpty())return c("AdsLoadState_LEGACY").NOT_LOADED;if(a.isLoading())return c("AdsLoadState_LEGACY").LOADING;return a.hasError()?c("AdsLoadState_LEGACY").ERROR:c("AdsLoadState_LEGACY").LOADED}function G(a){if(a===c("AdsLoadState_LEGACY").NOT_LOADED)return c("LoadObject").empty();if(a===c("AdsLoadState_LEGACY").LOADING||a===c("AdsLoadState_LEGACY").DELETING||a===c("AdsLoadState_LEGACY").PENDING_WRITE)return c("LoadObject").loading();if(a===c("AdsLoadState_LEGACY").ERROR)return c("LoadObject").withError(new Error());h(0,5735,a)}function H(a){return a===c("AdsLoadState_LEGACY").LOADED?c("LoadObject").withValue(null):G(a)}g.isLoading=a;g.isLoaded=b;g.isDeleting=d;g.isError=i;g.isPendingWrite=e;g.enforceLoaded=f;g.anyLoading=j;g.anyLoaded=k;g.anyError=l;g.allLoaded=m;g.mergeLoadStates=n;g.mergeLoadStatesForMap=o;g._allHaveLoadState=p;g._anyHasLoadState=q;g.getError=r;g.getErrorValues=s;g._getErrorValuesSingleMap=t;g.getLoadedValues=u;g.getLoadedValuesSingleMap=v;g.toLoadObject=w;g.fromLoadObject=x;g.fromLoadObjectTreatEmptyAsLoading=y;g.fromLoadObjectMapTreatEmptyAsLoading=z;g.fromLoadObjectToListObject=A;g.fromLoadObjectToListObjectTreatEmptyAsLoading=B;g.listObjectToLoadObject=C;g.fromIndex=D;g.toIndex=E;g.getLoadStateForLoadObject=F;g.getLoadObjectForNotLoadedState=G;g.getLoadObjectForLoadState=H}),98);
__d("AdsPixelUIEnvironments",["keyMirror"],(function(a,b,c,d,e,f,g){"use strict";a=c("keyMirror")({AM:null,CF:null,CM:null,GC:null,LWI:null,PE:null});b=a;g["default"]=b}),98);
__d("DateUtil",[],(function(a,b,c,d,e,f){a=Object.freeze({FACEBOOK_EPOCH:1105776e3});f["default"]=a}),66);
__d("XAdsAccountQualityController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/accountquality/{?primary_id}/{?secondary_id}/",{business_id:{type:"FBID"},global_scope_id:{type:"FBID"},ad_account_id:{type:"FBID"},appeal_case_id:{type:"FBID"},primary_id:{type:"FBID"},secondary_id:{type:"FBID"},selected_adgroup_ids:{type:"FBIDVector"},tab:{type:"Enum",defaultValue:"available_for_review",enumType:1},source:{type:"Enum",defaultValue:"link",enumType:1},asset_view_type:{type:"Enum",defaultValue:"customer_feedback",enumType:1},landing_page:{type:"Enum",defaultValue:"unknown",enumType:1},entity:{type:"Enum",enumType:1},launch_date:{type:"Int"},redirect_to_app:{type:"Bool",defaultValue:!0},do_on_load:{type:"Enum",enumType:1}})}),null);
__d("AdsSelectorNameUtils",[],(function(a,b,c,d,e,f){"use strict";function g(a,b){if(a&&b)try{Object.defineProperty(a,"name",{value:b})}catch(a){}return a}function a(a,b){Object.keys(a).forEach(function(c){typeof a[c]==="function"&&a[c].getStores&&g(a[c],b+"."+c)})}f.nameSelector=g;f.nameSelectorsInObject=a}),66);
__d("adsMemoizeSelectorGetStores",["AdsPureGetStoresConfig","ExecutionEnvironment","FBLogger","Run","ifRequired","memoizeByIdentity","performanceNow","qpl","setInterval","shallowEqual"],(function(a,b,c,d,e,f,g){"use strict";var h=new Map(),i=null,j=c("ExecutionEnvironment").canUseDOM&&Math.random()<=.1,k=c("ExecutionEnvironment").canUseDOM&&Math.random()<=.1,l=null;if(j){l=d("Run").maybeOnBeforeUnload(function(){return o(!0)},!1);var m=c("performanceNow")(),n=c("setInterval")(function(){var a=c("performanceNow")();a-m<1*60*1e3&&clearInterval(n);m=a;o()},5*60*1e3)}function o(a){a===void 0&&(a=!1);if(a){(a=l)==null?void 0:a.remove()}c("ifRequired")("QuickPerformanceLogger",function(a){var b={};for(var d=h,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=d.length)break;g=d[f++]}else{f=d.next();if(f.done)break;g=f.value}g=g;var j=g[0];g=g[1];g>1&&(b[j]=g)}j=Math.round(c("performanceNow")());f=j-((g=i)!=null?g:0);i=j;b.duration=f;h.size>0&&a.markEvent(c("qpl")._(41495493,"6469"),"impure_counts",7,{annotations:{"int":b}});h.clear()})}function p(a,b){var d=c("memoizeByIdentity")(a);return function(e){var f=d(e);if(Math.random()<=c("AdsPureGetStoresConfig").CANARY_SAMPLE_RATE){e=a(e);c("shallowEqual")(f,e)||c("FBLogger")("ads_selectors_pure_get_stores").mustfix('Selector "%s" getStores was determined to be pure, but is not! This may break Ads Manager in subtle ways and must be fixed by either making it pure or removing the `isGetStoresPure` declaration',b)}return f}}function q(a,b){return function(c){var d;d=(d=h.get(b))!=null?d:0;h.set(b,d+1);return a(c)}}function a(a,b,d,e,f){e===void 0&&(e=j);f===void 0&&(f=k);if(a&&f)return p(b,d);if(a)return c("memoizeByIdentity")(b);return!a&&e?q(b,d):b}g["default"]=a}),98);
__d("makeStringifier",["LRUKeyedCache"],(function(a,b,c,d,e,f,g){var h=1,i="ZdIw9v+v9/4lbv6A",j=i+"-1",k=i+"-2",l=i+"-3",m=i+"-4",n=i+"-5",o=6;function a(a){var b=(a=a)!=null?a:function(a){return a},d=o,e=new(c("LRUKeyedCache"))(function(a){return a});function f(a,b){switch(a){case void 0:return j;case null:return k;case NaN:return l;case Infinity:return m;case-Infinity:return n;default:switch(typeof a){case"boolean":case"string":case"number":return a.toString();default:var c=e.get(a);c==null&&(typeof a==="object"&&b>0&&(Array.isArray(a)&&(c=JSON.stringify(a.map(function(a){return f(a,b-1)})))),c==null&&(c=i+"-"+d++),e.set(a,c));return c}}}function g(a){return f(b(a),h)}return g}g["default"]=a}),98);
__d("adsCreateSelector",["AdsSelectorDebug","AdsSelectorInstrumentation","AdsSelectorNameUtils","AdsSelectorUtils","LRUKeyedCache","adsCacheSelector","adsMemoizeSelectorGetStores","makeStringifier","qex","shallowArrayEqual"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b,c){return a&&c(a[0],b)?a:[b]}function i(a,b,c){}function j(a,b,c,d,e){}function k(a,b,c){}function l(a,b){}function m(a,b){}function n(a){}function o(a,b,d,e){var f;return b?function(b){f||(f=a(b));return f}:c("adsMemoizeSelectorGetStores")(d,a,e)}function p(a,b){return a===b||Array.isArray(a)&&Array.isArray(b)&&c("shallowArrayEqual")(a,b)}function q(a){return a?function(b,c){return b===c||a(b,c)}:p}function r(a){return typeof a.getStores==="function"?a:null}function s(a,b,e,f,g,h,i,j){var k={cacheHit:!0},l=a.bind(void 0,k);d("AdsSelectorNameUtils").nameSelector(l,h+"-instrumentedSelectFn");d("AdsSelectorNameUtils").nameSelector(a,h+"-selectFn");var m=c("adsCacheSelector")(l,e,f,j,h);a=Object.assign(function(a){k.cacheHit=!0;var b=d("AdsSelectorInstrumentation").onSelectorCall();a=m(a);b&&b({name:h,cacheHit:k.cacheHit});return a},{getStores:o(e,f,g,h),equal:i,isGetStoresStatic:f,isGetStoresPure:g,rawSelectFn:b});d("AdsSelectorNameUtils").nameSelector(a,h);return a}function t(a,b,c,e,f){var g=null;return s(function(c,d){c.cacheHit=!1;c=b.apply(void 0,a.map(function(a){return a(d)}));g=h(g,c,e);return g[0]},b,function(c){return d("AdsSelectorUtils").getStores([].concat(a,[b]),c)},a.every(function(a){return a.isGetStoresStatic})&&b.isGetStoresStatic,a.every(function(a){return a.isGetStoresPure&&b.isGetStoresPure}),c,e,f)}function u(a,b,c,d){a.set(b,{lastInputsForProps:c,lastResultForProps:d})}var v=(b=c("qex")._("643"))!=null?b:1e3;function w(a,b,e,f,g){var o,p=null,q=null,r=new(c("LRUKeyedCache"))((o=g)!=null?o:function(a){return a},v);o=function(d,e){var g=[];g.length=a.length;var o=!1;for(var s=0;s<a.length;s++)g[s]=a[s](e),(!q||q[s]!==g[s])&&(o=!0);s=r.get(e);if(s==null)l(e,r);else{var t=s.lastInputsForProps,v=s.lastResultForProps;if(c("shallowArrayEqual")(t,g)){m(e,r);q=t;p=[v];return p[0]}j(e,r,a,t,g)}if(s==null&&!o&&q!=null&&p!=null){k(a,q,g);u(r,e,q,p[0]);return p[0]}i(a,q,g);d.cacheHit=!1;try{v=b.apply(void 0,g);s!=null&&(p=[s.lastResultForProps]);p=h(p,v,f);q=g;u(r,e,q,p[0]);return p[0]}catch(a){n(a);throw a}};return s(o,b,function(b){return d("AdsSelectorUtils").getStores(a,b)},a.every(function(a){return a!=null&&a.isGetStoresStatic}),a.every(function(a){return a!=null&&a.isGetStoresPure}),e,f,g)}function x(a,b,c,d){var e=null,f=[];return s(function(b){b.cacheHit=!1;b=a();e=h(e,b,c);return e[0]},a,function(){return f},!0,!0,b,c,d)}function a(a,b,e){var f;e===void 0&&(e={});f=(f=(f=e.name)!=null?f:b.name)!=null?f:"unnamedSelector";var g=e.hashProps;g=g!=null?c("makeStringifier")(g):void 0;e=q(e.equal);var h=r(b);h?h=t(a,h,f,e,g):a.length?h=w(a,b,f,e,g):h=x(b,f,e,g);d("AdsSelectorNameUtils").nameSelector(h,f+"-wrappedSelector");return h}g["default"]=a}),98);
__d("adsCreateStoreSelector",["AdsSelectorNameUtils","adsCacheSelector","adsMemoizeSelectorGetStores","distinctArray","isTruthy","makeStringifier"],(function(a,b,c,d,e,f,g){"use strict";a=function(a,b,e){e===void 0&&(e={});var f=e.name||b.name||"unnamedStoreSelector",g=Array.isArray(a),h=g?c("distinctArray")(a):[];a=g?function(){return h}:a;var i=e.hashProps;i=i!=null?c("makeStringifier")(i):void 0;i=c("adsCacheSelector")(b,a,g,i,f);i.isGetStoresPure=g||c("isTruthy")(e.isGetStoresPure);i.getStores=c("adsMemoizeSelectorGetStores")(i.isGetStoresPure,a,f);i.isGetStoresStatic=g;i.rawSelectFn=b;d("AdsSelectorNameUtils").nameSelector(i,f);return i};b=a;g["default"]=b}),98);
__d("AdsAccountStoreOld",["invariant","AdsAMAccountAcceptedTosAddActionFlux","AdsAMAccountInitActionFlux","AdsAccountAddCapabilitiesDataActionFlux","AdsAccountAttributionSpecLoadSuccessDataActionFlux","AdsAccountAttributionSpecUpdateStartDataActionFlux","AdsAccountAttributionSpecUpdateSuccessDataActionFlux","AdsAccountBatchLoadErrorDataActionFlux","AdsAccountBatchLoadedDataActionFlux","AdsAccountChangeAccountNameDataActionFlux","AdsAccountDataDispatcher","AdsAccountDataLoader","AdsAccountDefaultUnifiedAttrSpecLoadSuccessDataActionFlux","AdsAccountDefaultUnifiedAttrSpecUpdateStartDataActionFlux","AdsAccountDefaultUnifiedAttrSpecUpdateSuccessDataActionFlux","AdsAccountGKsErrorActionFlux","AdsAccountGKsLoadedActionFlux","AdsAccountInitDataActionFlux","AdsAccountInvalidateDataActionFlux","AdsAccountListInvalidateDataActionFlux","AdsAccountSelectDataActionFlux","AdsAccountSettingsCreateFinishedDataActionFlux","AdsAccountSettingsUpdateStartDataActionFlux","AdsAccountUtils","AdsAccountViewerPermissionsLoadErrorDataActionFlux","AdsAccountViewerPermissionsLoadedDataActionFlux","AdsAdgroupAcceptMAIDeeplinkTOSDataActionFlux","AdsApplicationUtils","AdsCachedLoadState_LEGACY","AdsDataAtom","AdsEngagementAudienceUILogger","AdsInterfacesRouteUpdateParamsDataActionFlux","AdsLoadStateUtils_LEGACY","AdsLoadState_LEGACY","AdsPERefreshTableViewActionFlux","AdsPEUploadShowPreviewActionFlux","AdsPixelUIEnvironments","DateTime","DateUtil","FluxStore","LoadObject","URI","XAdsAccountQualityController","adsCreateSelector","adsCreateStoreSelector","getByPath","goURI","ifRequired","immutable","isFalsey","promiseDone"],(function(a,b,c,d,e,f,g,h){"use strict";var i="US",j=1;a=0;var k=c("DateTime").fromLegacyArgs(c("DateUtil").FACEBOOK_EPOCH*1e3,a).toISOString();b=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b;b=a.call(this,c("AdsDataAtom"))||this;b.getSelectedAccountID=c("adsCreateStoreSelector")([babelHelpers.assertThisInitialized(b)],function(){return d("AdsApplicationUtils").isFAME()?c("ifRequired")("AdsExcelAccountProvider",function(a){return a().selectedAccountID}):b.$AdsAccountStoreClassOld1},{name:f.id});b.getSelectedAccountIDX=c("adsCreateStoreSelector")([babelHelpers.assertThisInitialized(b)],function(){if(d("AdsApplicationUtils").isFAME()){var a=c("ifRequired")("AdsExcelAccountProvider",function(a){return a().selectedAccountID});!a&&h(0,5919,a);return a}a=b.$AdsAccountStoreClassOld9();!a&&h(0,5919,a);return a},{name:f.id});b.getSelectedBusinessID=c("adsCreateStoreSelector")([babelHelpers.assertThisInitialized(b)],function(){return b.$AdsAccountStoreClassOld2},{name:f.id});b.getCreatedTime=c("adsCreateStoreSelector")([babelHelpers.assertThisInitialized(b)],function(){var a=b.__getSelectedAccount().created_time;return a?a:k},{name:f.id});b.getTimezoneID=c("adsCreateStoreSelector")([babelHelpers.assertThisInitialized(b)],function(){var a=b.__getSelectedAccount().timezone_id;return a?a:j},{name:f.id});b.getTosAccepted=c("adsCreateStoreSelector")([babelHelpers.assertThisInitialized(b)],function(){return b.__getSelectedAccount().tos_accepted},{name:f.id});b.getSelectedAccount=c("adsCreateStoreSelector")([babelHelpers.assertThisInitialized(b)],function(){return d("AdsApplicationUtils").isFAME()?c("ifRequired")("AdsExcelAccountProvider",function(a){a=a();var b=a.selectedAccountID;a=a.accounts;a=b!=null?a.get(b):null;return a||c("LoadObject").empty()})||c("LoadObject").empty():d("AdsLoadStateUtils_LEGACY").toLoadObject(b.__getSelectedAccount())},{name:f.id});b.getSelectedAccountCapabilities=c("adsCreateSelector")([b.getSelectedAccount],function(a){return((a=a.getValue())==null?void 0:a.capabilities)||[]},{name:f.id});b.$AdsAccountStoreClassOld4={};b.$AdsAccountStoreClassOld3=new Map();b.$AdsAccountStoreClassOld5=!1;b.$AdsAccountStoreClassOld6=new Map();return b}var e=b.prototype;e.__getActionTypes=function(){return[d("AdsAccountInitDataActionFlux").actionType,d("AdsAccountBatchLoadedDataActionFlux").actionType,d("AdsAccountBatchLoadErrorDataActionFlux").actionType,d("AdsAccountChangeAccountNameDataActionFlux").actionType,d("AdsAccountAddCapabilitiesDataActionFlux").actionType,d("AdsAccountGKsErrorActionFlux").actionType,d("AdsAccountGKsLoadedActionFlux").actionType,d("AdsInterfacesRouteUpdateParamsDataActionFlux").actionType,d("AdsAccountSelectDataActionFlux").actionType,d("AdsAccountSettingsCreateFinishedDataActionFlux").actionType,d("AdsAccountSettingsUpdateStartDataActionFlux").actionType,d("AdsAccountInvalidateDataActionFlux").actionType,d("AdsAccountListInvalidateDataActionFlux").actionType,d("AdsAccountViewerPermissionsLoadedDataActionFlux").actionType,d("AdsAccountViewerPermissionsLoadErrorDataActionFlux").actionType,d("AdsAccountAttributionSpecUpdateStartDataActionFlux").actionType,d("AdsAccountAttributionSpecUpdateSuccessDataActionFlux").actionType,d("AdsAccountAttributionSpecLoadSuccessDataActionFlux").actionType,d("AdsAccountDefaultUnifiedAttrSpecUpdateStartDataActionFlux").actionType,d("AdsAccountDefaultUnifiedAttrSpecUpdateSuccessDataActionFlux").actionType,d("AdsAccountDefaultUnifiedAttrSpecLoadSuccessDataActionFlux").actionType,d("AdsAdgroupAcceptMAIDeeplinkTOSDataActionFlux").actionType,d("AdsAMAccountAcceptedTosAddActionFlux").actionType,d("AdsAMAccountInitActionFlux").actionType,d("AdsPERefreshTableViewActionFlux").actionType,d("AdsPEUploadShowPreviewActionFlux").actionType]};e.canUpdateCurrency=function(){if(this.$AdsAccountStoreClassOld1==null)return!1;var a=this.getCached(this.$AdsAccountStoreClassOld1).getValue();if(c("isFalsey")(a))return!1;var b=c("AdsAccountUtils").hasCapability(a,"CAN_UPDATE_CURRENCY");a=c("AdsAccountUtils").isPaymentInfoRequired(a);return b&&a};e.get=function(a){if(d("AdsApplicationUtils").isFAME())return c("ifRequired")("AdsExcelAccountProvider",function(b){b=b();b=b.accounts;return b.get(a)})||c("LoadObject").empty();return a===this.$AdsAccountStoreClassOld1?this.getSelectedAccount():d("AdsLoadStateUtils_LEGACY").toLoadObject(this.$AdsAccountStoreClassOld7(a))};e.$AdsAccountStoreClassOld7=function(a){if(d("AdsApplicationUtils").isFAME())return c("ifRequired")("AdsExcelAccountProvider",function(b){b=b();b=b.accounts;return d("AdsLoadStateUtils_LEGACY").fromLoadObject(b.get(a))})||c("AdsCachedLoadState_LEGACY").NOT_LOADED;var b=this.$AdsAccountStoreClassOld3.get(a);b||(b=c("AdsCachedLoadState_LEGACY").LOADING,this.$AdsAccountStoreClassOld3.set(a,b),c("AdsAccountDataDispatcher").loadAccountData(a));return b};e.getCached=function(a){if(d("AdsApplicationUtils").isFAME())return c("ifRequired")("AdsExcelAccountProvider",function(b){b=b();b=b.accounts;return b.get(a)})||c("LoadObject").empty();var b=this.$AdsAccountStoreClassOld3.get(a);b||(b=c("AdsCachedLoadState_LEGACY").NOT_LOADED);return d("AdsLoadStateUtils_LEGACY").toLoadObject(b)};e.$AdsAccountStoreClassOld8=function(){var a=this.$AdsAccountStoreClassOld1;if(!a)return;c("AdsAccountDataDispatcher").loadAccountData(a);return};e.getAllLoadObjects=function(a){a=this.getAll(a.toArray());var b=new Map();for(var a=a,e=Array.isArray(a),f=0,a=e?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=a.length)break;g=a[f++]}else{f=a.next();if(f.done)break;g=f.value}g=g;var h=g[0];g=g[1];b.set(h,d("AdsLoadStateUtils_LEGACY").toLoadObject(g))}return c("immutable").Map(b)};e.getAll=function(a){var b=this,c=new Map();a.forEach(function(a){c.set(a,b.$AdsAccountStoreClassOld7(a))});return c};e.getAllCached=function(a){var b=this,d=new Map();a.forEach(function(a){var e=b.$AdsAccountStoreClassOld3.get(a);e||(e=c("AdsCachedLoadState_LEGACY").NOT_LOADED);d.set(a,e)});return d};e.getByFields=function(a,b){var d=this.$AdsAccountStoreClassOld3.get(a);if(!d){c("AdsAccountDataDispatcher").loadAccountDataByFields(a,b);this.$AdsAccountStoreClassOld3.set(a,c("AdsCachedLoadState_LEGACY").LOADING);return c("AdsCachedLoadState_LEGACY").LOADING}if(d.loadState===c("AdsLoadState_LEGACY").ERROR)return c("AdsCachedLoadState_LEGACY").ERROR;if(d.loadState===c("AdsLoadState_LEGACY").LOADING)return c("AdsCachedLoadState_LEGACY").LOADING;var e=b.some(function(a){return d[a]==null});if(e){c("AdsAccountDataDispatcher").loadAccountDataByFields(a,b);this.$AdsAccountStoreClassOld3.set(a,babelHelpers["extends"]({},d,{loadState:c("AdsLoadState_LEGACY").LOADING}));return c("AdsCachedLoadState_LEGACY").LOADING}var f={};b.forEach(function(a){f[a]=d[a]});f.loadState=c("AdsLoadState_LEGACY").LOADED;return f};e.getAllByFields=function(a,b){var c=this,d=new Map();a.forEach(function(a){d.set(a,c.getByFields(a,b))});return d};e.$AdsAccountStoreClassOld9=function(){return this.$AdsAccountStoreClassOld1};e.getTimezoneName=function(){var a=this.__getSelectedAccount().timezone_name;return a?a:""};e.getViewerPermissions=function(){var a=this.$AdsAccountStoreClassOld9();if(a){this.$AdsAccountStoreClassOld4[a]||(this.$AdsAccountStoreClassOld4[a]=c("LoadObject").loading(),c("AdsAccountDataDispatcher").loadViewerPermissions(a));return this.$AdsAccountStoreClassOld4[a]}return c("LoadObject").empty()};e.getViewerHasPermission=function(a){var b=this.getViewerPermissions();return b.hasValueWithoutError()&&Array.isArray(b.getValueEnforcing().data)&&b.getValueEnforcing().data.includes(a)};e.__getSelectedAccount=function(){if(d("AdsApplicationUtils").isFAME())return c("ifRequired")("AdsExcelAccountProvider",function(a){a=a();var b=a.selectedAccountID;a=a.accounts;a=b!=null?a.get(b):null;return a!=null?d("AdsLoadStateUtils_LEGACY").fromLoadObject(a):null})||c("AdsCachedLoadState_LEGACY").NOT_LOADED;var a=this.$AdsAccountStoreClassOld9();return!a?c("AdsCachedLoadState_LEGACY").NOT_LOADED:this.$AdsAccountStoreClassOld7(a)};e.toURLParams=function(){return!this.$AdsAccountStoreClassOld1?null:{act:this.$AdsAccountStoreClassOld1}};e.$AdsAccountStoreClassOld10=function(){var a=this.__getSelectedAccount();c("DateTime").setupTimezoneFallback(a.timezone_id,a.timezone_offset_hours_utc)};e.__onDispatch=function(a){a=a.action;var b=!1,e=this.$AdsAccountStoreClassOld9();switch(a.actionType){case d("AdsAccountInitDataActionFlux").actionType:this.$AdsAccountStoreClassOld11(a.data);b=!0;break;case d("AdsAccountBatchLoadedDataActionFlux").actionType:this.$AdsAccountStoreClassOld12(a.accountID,a.account);b=!0;break;case d("AdsAccountBatchLoadErrorDataActionFlux").actionType:this.$AdsAccountStoreClassOld13(a.accountID,a.error);b=!0;break;case d("AdsAccountChangeAccountNameDataActionFlux").actionType:if(e!=null){var f=this.$AdsAccountStoreClassOld3.get(e);if(f==null)break;this.$AdsAccountStoreClassOld3.set(e,babelHelpers["extends"]({},f,{name:a.name}));b=!0}break;case d("AdsPEUploadShowPreviewActionFlux").actionType:a.didUpdateAccount&&this.$AdsAccountStoreClassOld8();break;case d("AdsAccountAddCapabilitiesDataActionFlux").actionType:if(e!=null){f=this.__getSelectedAccount();this.$AdsAccountStoreClassOld3.set(e,babelHelpers["extends"]({},f,{capabilities:f.capabilities.concat(a.capabilities)}));b=!0}break;case d("AdsPERefreshTableViewActionFlux").actionType:this.__invalidateAllErrors()&&(b=!0);break;case d("AdsInterfacesRouteUpdateParamsDataActionFlux").actionType:this.__invalidateAllErrors()&&(b=!0);f=a.data.changedParamKeys;if(f.act||f.business_id){f=a.data.params;if(!f.act&&f.tool==="REPORTING")this.$AdsAccountStoreClassOld14(f.business_id,f.act);else if(f.act)this.$AdsAccountStoreClassOld15(f.act,f.business_id);else break;b=!0}break;case d("AdsAccountSelectDataActionFlux").actionType:if(d("AdsApplicationUtils").isPowerEditor())break;this.$AdsAccountStoreClassOld15(a.accountID,a.businessID);b=!0;break;case d("AdsAccountSettingsCreateFinishedDataActionFlux").actionType:this.$AdsAccountStoreClassOld16(a.accountID,a.settingsID);break;case d("AdsAccountSettingsUpdateStartDataActionFlux").actionType:this.$AdsAccountStoreClassOld1!=null&&c("AdsAccountDataDispatcher").updateAccount(this.$AdsAccountStoreClassOld1,a.data);break;case d("AdsAccountInvalidateDataActionFlux").actionType:this.$AdsAccountStoreClassOld17(a.id)&&(b=!0);break;case d("AdsAccountListInvalidateDataActionFlux").actionType:this.$AdsAccountStoreClassOld18(a.accounts)&&(b=!0);break;case d("AdsAccountViewerPermissionsLoadedDataActionFlux").actionType:this.$AdsAccountStoreClassOld4[a.accountID]=c("LoadObject").withValue({data:a.data});b=!0;break;case d("AdsAccountViewerPermissionsLoadErrorDataActionFlux").actionType:this.$AdsAccountStoreClassOld4[a.accountID]=c("LoadObject").withError(new Error(a.data));b=!0;break;case d("AdsAccountAttributionSpecUpdateStartDataActionFlux").actionType:e!=null&&c("AdsAccountDataDispatcher").updateAccountAttributionSpec(e,{attribution_spec:a.attributionSpec});break;case d("AdsAccountAttributionSpecUpdateSuccessDataActionFlux").actionType:if(e!=null){c("AdsAccountDataDispatcher").loadAccountAttributionSpec(e);f=this.$AdsAccountStoreClassOld3.get(e);if(f==null)break;this.$AdsAccountStoreClassOld3.set(e,babelHelpers["extends"]({},f,{loadState:c("AdsLoadState_LEGACY").LOADING}))}break;case d("AdsAccountAttributionSpecLoadSuccessDataActionFlux").actionType:if(e!=null){f=this.$AdsAccountStoreClassOld3.get(e);if(f==null)break;this.$AdsAccountStoreClassOld3.set(e,babelHelpers["extends"]({},f,{attribution_spec:a.data.attribution_spec,is_attribution_spec_system_default:a.data.is_attribution_spec_system_default,loadState:c("AdsLoadState_LEGACY").LOADED}));b=!0}break;case d("AdsAccountDefaultUnifiedAttrSpecUpdateStartDataActionFlux").actionType:e!=null&&c("AdsAccountDataDispatcher").updateAccountDefaultUnifiedAttrSpec(e,{default_unified_attribution_spec:a.defaultUnifiedAttrSpec});break;case d("AdsAccountDefaultUnifiedAttrSpecUpdateSuccessDataActionFlux").actionType:if(e!=null){c("AdsAccountDataDispatcher").loadAccountDefaultUnifiedAttrSpec(e);f=this.$AdsAccountStoreClassOld3.get(e);if(f==null)break;this.$AdsAccountStoreClassOld3.set(e,babelHelpers["extends"]({},f,{loadState:c("AdsLoadState_LEGACY").LOADING}))}break;case d("AdsAccountDefaultUnifiedAttrSpecLoadSuccessDataActionFlux").actionType:if(e!=null){f=this.$AdsAccountStoreClassOld3.get(e);if(f==null)break;this.$AdsAccountStoreClassOld3.set(e,babelHelpers["extends"]({},f,{default_unified_attribution_spec:a.data.default_unified_attribution_spec,loadState:c("AdsLoadState_LEGACY").LOADED}));b=!0}break;case d("AdsAdgroupAcceptMAIDeeplinkTOSDataActionFlux").actionType:c("AdsAccountDataDispatcher").handleAcceptMAIDeeplinkTOS(this.getSelectedAccountID());b=!0;break;case d("AdsAMAccountAcceptedTosAddActionFlux").actionType:if(e==null)break;f=this.$AdsAccountStoreClassOld3.get(e);if(f==null)break;var g=f.tos_accepted?f.tos_accepted:Object();g=babelHelpers["extends"]({},g,a.addedTOS);this.$AdsAccountStoreClassOld3.set(e,babelHelpers["extends"]({},f,{tos_accepted:g}));b=!0;break;case d("AdsAMAccountInitActionFlux").actionType:e=a.account.account_id;if(!d("AdsApplicationUtils").isFAME()&&this.$AdsAccountStoreClassOld19(e)){this.$AdsAccountStoreClassOld20(e);break}c("AdsAccountUtils").logMsgWhenAccountUpdates();this.$AdsAccountStoreClassOld1=e;this.$AdsAccountStoreClassOld12(e,a.account);b=!0;c("AdsAccountUtils").logAccID("flux");break;case d("AdsAccountGKsErrorActionFlux").actionType:case d("AdsAccountGKsLoadedActionFlux").actionType:b=!0;break}b&&this.__emitChange()};e.$AdsAccountStoreClassOld21=function(a,b){var d=this.$AdsAccountStoreClassOld3.get(a);!d||d.loadState===c("AdsLoadState_LEGACY").LOADING?this.$AdsAccountStoreClassOld3.set(a,b):this.$AdsAccountStoreClassOld3.set(a,babelHelpers["extends"]({},d,b))};e.$AdsAccountStoreClassOld12=function(a,b){var d=this.$AdsAccountStoreClassOld3.get(a);d&&this.$AdsAccountStoreClassOld3.set(a,babelHelpers["extends"]({},d,{loadState:c("AdsLoadState_LEGACY").LOADED}));this.$AdsAccountStoreClassOld21(a,babelHelpers["extends"]({},b,{loadState:c("AdsLoadState_LEGACY").LOADED}))};e.$AdsAccountStoreClassOld13=function(a,b){this.$AdsAccountStoreClassOld3.set(a,{loadState:c("AdsLoadState_LEGACY").ERROR,error:b})};e.$AdsAccountStoreClassOld11=function(a){var b={},e=a.accountID;!d("AdsApplicationUtils").isFAME()&&this.$AdsAccountStoreClassOld19(e)?this.$AdsAccountStoreClassOld20(e):(c("AdsAccountUtils").logMsgWhenAccountUpdates(),this.$AdsAccountStoreClassOld1=e,this.$AdsAccountStoreClassOld2=c("getByPath")(a.accountInfo,["business","id"]),b=a.accountInfo,b.business_country_code=b.business_country_code||i,b.name=a.accountName,b.hasSuperRead=a.hasSuperRead,c("promiseDone")(d("AdsAccountDataLoader").postUserSettings(e)),c("DateTime").setupTimezoneFallback(b.timezone_id,b.timezone_offset_hours_utc),d("AdsEngagementAudienceUILogger").setAppName(c("AdsPixelUIEnvironments").CM),b.loadState=c("AdsLoadState_LEGACY").LOADED,this.$AdsAccountStoreClassOld21(a.accountID,b),c("AdsAccountUtils").logAccID("initAccountData"),c("ifRequired")("EventProfiler",function(a){a.setCurrentAdAccountId(e)}))};e.$AdsAccountStoreClassOld17=function(a){return this.$AdsAccountStoreClassOld3.has(a)?this.$AdsAccountStoreClassOld3["delete"](a):!1};e.__invalidateAllErrors=function(){var a=this,b=!1;this.$AdsAccountStoreClassOld3.forEach(function(d,e){if(d.loadState===c("AdsLoadState_LEGACY").ERROR){d=a.$AdsAccountStoreClassOld17(e);b=d||b}});return b};e.$AdsAccountStoreClassOld18=function(a){var b=this,c=!1;a.forEach(function(a){c=c||b.$AdsAccountStoreClassOld17(a);var d=b.$AdsAccountStoreClassOld6.get(a);b.$AdsAccountStoreClassOld6.set(a,d?d+1:1)});return c};e.$AdsAccountStoreClassOld16=function(a,b){var d=this.$AdsAccountStoreClassOld3.get(a);d!=null&&d.loadState===c("AdsLoadState_LEGACY").LOADED&&(d=babelHelpers["extends"]({},d,{user_settings:{id:b}}),this.$AdsAccountStoreClassOld3.set(a,d))};e.$AdsAccountStoreClassOld14=function(a,b){(b!==this.$AdsAccountStoreClassOld1||a!==this.$AdsAccountStoreClassOld2)&&(!d("AdsApplicationUtils").isFAME()&&this.$AdsAccountStoreClassOld19(b)?this.$AdsAccountStoreClassOld20(b):(c("AdsAccountUtils").logMsgWhenAccountUpdates(),this.$AdsAccountStoreClassOld1=b,this.$AdsAccountStoreClassOld2=a,c("AdsAccountUtils").logAccID("selectBusiness"),c("ifRequired")("EventProfiler",function(a){a.setCurrentAdAccountId(b)})))};e.$AdsAccountStoreClassOld15=function(a,b){var e=b!==this.$AdsAccountStoreClassOld2;(a!==this.$AdsAccountStoreClassOld1||e)&&(!d("AdsApplicationUtils").isFAME()&&!e&&this.$AdsAccountStoreClassOld19(a)?this.$AdsAccountStoreClassOld20(a):(c("AdsAccountUtils").logMsgWhenAccountUpdates(),this.$AdsAccountStoreClassOld1=a,this.$AdsAccountStoreClassOld2=b,c("AdsAccountUtils").logAccID("selectAccount"),c("ifRequired")("EventProfiler",function(b){b.setCurrentAdAccountId(a)})))};e.__setStoreState=function(a){var b=a.selectedAccountID,e=a.selectedBusinessID;a=a.accounts;var f=new Map();a.forEach(function(a,b){f.set(b,babelHelpers["extends"]({},a.getValueEnforcing(),{loadState:d("AdsLoadStateUtils_LEGACY").fromLoadObject(a).loadState}))});!d("AdsApplicationUtils").isFAME()&&this.$AdsAccountStoreClassOld19(b)?this.$AdsAccountStoreClassOld20(b):(c("AdsAccountUtils").logMsgWhenAccountUpdates(),this.$AdsAccountStoreClassOld1=b,this.$AdsAccountStoreClassOld2=e,this.$AdsAccountStoreClassOld3=f,c("AdsAccountUtils").logAccID("setStoreState"))};e.$AdsAccountStoreClassOld19=function(a){return this.$AdsAccountStoreClassOld1!=null&&this.$AdsAccountStoreClassOld1!==a};e.$AdsAccountStoreClassOld20=function(a,b){var d=new(c("URI"))(window.location.href);if(d.getPath().includes("accountquality")){var e=c("XAdsAccountQualityController").getURIBuilder();a!=null&&e.setFBID("primary_id",a);b!=null&&e.setFBID("primary_id",b).setFBID("secondary_id",a);d=e.getURI()}else d.addQueryData({act:a}),b!=null&&d.addQueryData({act:a,business_id:b});c("AdsAccountUtils").logMsgWhenAccountUpdates();c("goURI")(d)};return b}(c("FluxStore"));b.__moduleID=f.id;g["default"]=b}),98);
__d("AdsEventsManagerRoutingAppICERoute",["AdsEventsManagerRoutingListICERoute","AdsInterfacesICERoute","immutable"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(b("AdsInterfacesICERoute"));a.routeName="AdsEventsManagerRoutingAppICERoute";a.configName="AdsEventsManagerRouting";a.configPath=b("immutable").List(["app"]);a.givenName="app";a.path="/events_manager2/list/app/{dataSourceID}";a.paramDefinitions={dataSourceID:{type:"String",customType:"FBID",required:!0}};a.queryParamDefinitions={business_id:{type:"String",customType:"String",required:!1},global_scope_id:{type:"String",customType:"String",required:!1},act:{type:"String",customType:"String",required:!1},date:{type:"String",customType:"String",required:!1},dialog:{type:"String",customType:"String",required:!1},nav_source:{type:"String",customType:"String",required:!1}};a.parentRoute=b("AdsEventsManagerRoutingListICERoute");a.activeState={navItem:"DATA_SOURCES"};a.forceLoad=!1;a.redirect=["AdsEventsManagerRouting",["app_overview"]];a.viewModuleName="AdsEventsManagerAppInspectorContainer.react";e.exports=a}),null);
__d("AdsEventsManagerRoutingOfflineDataSetICERoute",["AdsEventsManagerRoutingListICERoute","AdsInterfacesICERoute","immutable"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(b("AdsInterfacesICERoute"));a.routeName="AdsEventsManagerRoutingOfflineDataSetICERoute";a.configName="AdsEventsManagerRouting";a.configPath=b("immutable").List(["offline_data_set"]);a.givenName="offline_data_set";a.path="/events_manager2/list/offline_data_set/{dataSourceID}";a.paramDefinitions={dataSourceID:{type:"String",customType:"FBID",required:!0}};a.queryParamDefinitions={business_id:{type:"String",customType:"String",required:!1},global_scope_id:{type:"String",customType:"String",required:!1},act:{type:"String",customType:"String",required:!1},date:{type:"String",customType:"String",required:!1},dialog:{type:"String",customType:"String",required:!1},nav_source:{type:"String",customType:"String",required:!1}};a.parentRoute=b("AdsEventsManagerRoutingListICERoute");a.activeState={navItem:"DATA_SOURCES"};a.forceLoad=!1;a.redirect=["AdsEventsManagerRouting",["offline_data_set_overview"]];a.viewModuleName="AdsEventsManagerOfflineDataSetInspectorContainer.react";e.exports=a}),null);
__d("adsEventsManagerAccountIDSelector",["AdsEventsManagerURLProvider","adsCreateSelector"],(function(a,b,c,d,e,f,g){"use strict";a=c("AdsEventsManagerURLProvider").toFluxSelector();b=c("adsCreateSelector")([a],function(a){return(a=a.params.accountID)!=null?a:null},{name:f.id+".adsEventsManagerAccountIDSelector"});d=b;g["default"]=d}),98);
__d("adsEventsManagerBusinessIDSelector",["BizKitSettingsPixelCreateFlowBusinessIDProvider","BusinessUnifiedNavigationGlobalScopeSelectorDataProvider","adsCreateSelector"],(function(a,b,c,d,e,f,g){"use strict";a=c("BusinessUnifiedNavigationGlobalScopeSelectorDataProvider").toFluxSelector();b=c("BizKitSettingsPixelCreateFlowBusinessIDProvider").toFluxSelector();d=c("adsCreateSelector")([a,b],function(a,b){var c=a.globalScopeType;a=a.globalScopeID;b=b.businessID;return c==="business"?a:b},{name:f.id+".adsEventsManagerBusinessIDSelector"});e=d;g["default"]=e}),98);
__d("adsEventsManagerMaybeDataSourceIDSelector",["AdsEventsManagerURLProvider","adsCreateSelector"],(function(a,b,c,d,e,f,g){"use strict";a=c("AdsEventsManagerURLProvider").toFluxSelector();b=c("adsCreateSelector")([a],function(a){return a.params.dataSourceID},{name:f.id+".adsEventsManagerMaybeDataSourceIDSelector"});d=b;g["default"]=d}),98);
__d("SignalsEventsManagerLogger",["AdsEventsManagerRoutingAppICERoute","AdsEventsManagerRoutingOfflineDataSetICERoute","AdsEventsManagerRoutingPixelICERoute","AdsInterfacesRouter","SignalsLogging","adsEventsManagerAccountIDSelector","adsEventsManagerBusinessIDSelector","adsEventsManagerMaybeDataSourceIDSelector"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=null,b=null,d=null,e=null;d=c("adsEventsManagerAccountIDSelector")();e=c("adsEventsManagerBusinessIDSelector")();b=c("adsEventsManagerMaybeDataSourceIDSelector")();var f=c("AdsInterfacesRouter").get().getRoutes().map(function(a){return a.name});f.contains(c("AdsEventsManagerRoutingPixelICERoute").routeName)&&(a="PIXEL");f.contains(c("AdsEventsManagerRoutingAppICERoute").routeName)&&(a="APP_EVENT");f.contains(c("AdsEventsManagerRoutingOfflineDataSetICERoute").routeName)&&(a="DATA_SET");return{ad_account_id:d,business_id:e,data_source_id:b,data_source_type:a}}b=new(c("SignalsLogging"))().namespace("ADS_SIGNALS").scope("EVENTS_MANAGER").withEventsManagerContextExtraData(a);d=b;g["default"]=d}),98);
__d("SignalsHomeAPILogger",["SignalsEventsManagerLogger"],(function(a,b,c,d,e,f,g){"use strict";var h=c("SignalsEventsManagerLogger").scope("API");function a(a){var b=a.edge,c=a.error,d=a.logger,e=a.object;a=a.requestType;(d||h).logError(c,e+(b!=null?"."+b:"")+("."+a))}function b(a){var b=a.builder,c=a.error,d=a.logger;a=a.requestType;(d||h).logError(c,"["+a+"]: "+b.getURI().toString())}g.logError=a;g.logXControllerError=b}),98);
__d("XBasicFBNuxViewController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ajax/megaphone/view_fbnux/",{nux_id:{type:"Int",required:!0}})}),null);
__d("XSignalsFBNUXViewCountController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ads/signals/NUXViewCount/",{nux_id:{type:"Int",required:!0}})}),null);
__d("XSignalsShouldShowFBNUXController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ads/signals/shouldShowNUX/",{nux_id:{type:"Int",required:!0}})}),null);
__d("SignalsFBNuxDataManager",["AdsApplicationUtils","AsyncRequest","Promise","SignalsHomeAPILogger","XBasicFBNuxDismissController","XBasicFBNuxViewController","XSignalsFBNUXViewCountController","XSignalsShouldShowFBNUXController"],(function(a,b,c,d,e,f,g){"use strict";function a(a){if(d("AdsApplicationUtils").isFAME())return new(b("Promise"))(function(a){return a(!1)});var e=c("XSignalsShouldShowFBNUXController").getURIBuilder().setInt("nux_id",a),f=e.getURI();return new(b("Promise"))(function(a,b){new(c("AsyncRequest"))().setURI(f).setHandler(function(b){a(b.payload)}).setErrorHandler(function(a){a=a.toError();d("SignalsHomeAPILogger").logXControllerError({builder:e,error:a,requestType:"get"});b(a)}).send()})}function e(a){if(d("AdsApplicationUtils").isFAME())return new(b("Promise"))(function(a){return a(null)});var e=c("XSignalsFBNUXViewCountController").getURIBuilder().setInt("nux_id",a),f=e.getURI();return new(b("Promise"))(function(a,b){new(c("AsyncRequest"))().setURI(f).setHandler(function(b){a(b.payload)}).setErrorHandler(function(a){a=a.toError();d("SignalsHomeAPILogger").logXControllerError({builder:e,error:a,requestType:"get"});b(a)}).send()})}function f(a){a=c("XBasicFBNuxDismissController").getURIBuilder().setInt("nux_id",a).getURI();new(c("AsyncRequest"))(a).exec()}function h(a){a=c("XBasicFBNuxViewController").getURIBuilder().setInt("nux_id",a).getURI();new(c("AsyncRequest"))(a).exec()}g.loadShouldShowFBNux=a;g.loadFBNuxViewCount=e;g.logNuxDismiss=f;g.logNuxView=h}),98);
__d("useFBNux",["SignalsFBNuxDataManager","promiseDone","react","useEffectOnce"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useCallback,i=b.useState;function a(a,b){b===void 0&&(b=!0);var e=i(!1),f=e[0],g=e[1];c("useEffectOnce")(function(){c("promiseDone")(d("SignalsFBNuxDataManager").loadShouldShowFBNux(a),function(c){b===!0&&d("SignalsFBNuxDataManager").logNuxView(a),g(c)},function(){return g(!1)})});e=h(function(){g(!1),d("SignalsFBNuxDataManager").logNuxDismiss(a)},[a]);var j=h(function(){g(!1)},[]);return{onHideNux:e,onHideNuxWithoutDismiss:j,setShouldShowNux:g,shouldShowNux:f}}g["default"]=a}),98);
__d("GeoPrivateHintAdditionalContent.react",["GeoBaseSpacingLayout.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.action;a=a.learnMore;var d=b!=null;return h.jsxs(c("GeoBaseSpacingLayout.react"),{align:"center",context:"container",direction:"horizontal",relation:"section",xstyle:[i.root,!d&&i.singleContent],children:[d&&b,a!=null&&a]})}a.displayName=a.name+" [from "+f.id+"]";var i={root:{justifyContent:"x1qughib",marginTop:"x1xmf6yo",$$css:!0},singleContent:{flexDirection:"x15zctf7",$$css:!0}};g["default"]=a}),98);
__d("GeoPrivateIconCheckmarkFilled16",["react"],(function(a,b,c,d,e,f,g){"use strict";a=d("react");b=a.jsx("svg",{height:"16",viewBox:"0 0 16 16",width:"16",children:a.jsx("path",{d:"M13.305 3.28L5.993 10.6l-3.31-3.306a1 1 0 00-1.415 1.414l4.013 4.012a.997.997 0 001.414 0l8.024-8.024a1 1 0 00-1.414-1.416z"})});c=b;g["default"]=c}),98);
__d("GeoPrivateIconMinusFilled16",["react"],(function(a,b,c,d,e,f,g){"use strict";a=d("react");b=a.jsx("svg",{height:"16",viewBox:"0 0 16 16",width:"16",children:a.jsx("path",{d:"M13.333 7H3a1 1 0 000 2h10.333a1 1 0 100-2z"})});c=b;g["default"]=c}),98);
__d("useGeoPrivateListResponsiveDensity",["GeoInputUtils","react","useContentRect","useUnsafeRef_DEPRECATED"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=300;function a(a){var b=c("useContentRect")(),d=b[0];b=b[1];var e=a==="responsive",f=c("useUnsafeRef_DEPRECATED")(a);d=(d=j(d==null?void 0:d.width,f.current))!=null?d:a;d=e?d:a;f.current=d;a=e?h.jsx("div",{ref:b}):null;return[d,a]}function j(a,b){if(a==null)return null;if(b==="dense")return a>i+d("GeoInputUtils").SCROLLBAR_WIDTH?"sparse":"dense";else return a<i-d("GeoInputUtils").SCROLLBAR_WIDTH?"dense":"sparse"}g["default"]=a}),98);
__d("GeoBaseListLayout.react",["BUIPrivateBoldItemLabelContext","GeoBaseListLayoutContext","GeoDomID","GeoPrivateMakeComponent","react","stylex","useGeoPrivateListResponsiveDensity","useMergeRefs","useShallowEqualMemo"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={root:{display:"x78zum5",listStyle:"xe8uvvx",marginTop:"xdj266r",marginEnd:"x11i5rnm",marginBottom:"xat24cr",marginStart:"x1mh8g0r",paddingTop:"xexx8yu",paddingEnd:"x4uap5",paddingBottom:"x18d9i69",paddingStart:"xkhd6sd",$$css:!0},vertical:{flexDirection:"xdt5ytf",$$css:!0},horizontal:{flexDirection:"x1q0g3np",$$css:!0},verticalSpaced:{":not([stylex-hack]) > * + *_marginTop":"xdm93yi",$$css:!0},horizontalSpaced:{":not([stylex-hack]) > * + *_marginStart":"xe9zolg",$$css:!0}};function a(a){var b=a.accessibilityRole;b=b===void 0?"list":b;var e=a.children,f=a.containerRef,g=a["data-testid"];g=a.density;g=g===void 0?"dense":g;var j=a.describedBy,k=a.direction;k=k===void 0?"vertical":k;var l=a.hasBoldItemLabel;l=l===void 0?!1:l;var m=a.id,n=a.labelledBy,o=a.shouldAlignRows;o=o===void 0?!1:o;var p=a.shouldSpaceRows;p=p===void 0?!0:p;a=a.xstyle;g=c("useGeoPrivateListResponsiveDensity")(g);var q=g[0];g=g[1];q=c("useShallowEqualMemo")({density:q,direction:k,isWithinList:!0,shouldAlignRows:o});o=d("GeoDomID").useApplyGeoDomIDsDirectly({id:m,"aria-labelledby":n,"aria-describedby":j});m=o.ref;n=babelHelpers.objectWithoutPropertiesLoose(o,["ref"]);j=c("useMergeRefs")(f,m);return h.jsx(c("BUIPrivateBoldItemLabelContext").Provider,{value:l,children:h.jsxs(c("GeoBaseListLayoutContext").Provider,{value:q,children:[g,h.jsx("div",babelHelpers["extends"]({},n,{className:c("stylex")(i.root,k==="vertical"&&i.vertical,k==="horizontal"&&i.horizontal,p&&k==="vertical"&&i.verticalSpaced,p&&k==="horizontal"&&i.horizontalSpaced,a),"data-testid":void 0,ref:j,role:b,children:e}))]})})}a.displayName=a.name+" [from "+f.id+"]";b=d("GeoPrivateMakeComponent").makeGeoComponent("GeoBaseListLayout",a);g["default"]=b}),98);
__d("GeoBaseInteractiveList.react",["FocusGroup.react","GeoBaseInteractiveListContext","GeoBaseListLayout.react","GeoPrivateMakeComponent","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useCallback,j=b.useMemo,k=b.useRef;function a(a){var b=a.children,e=a.containerRef,f=a.direction;f=f===void 0?"vertical":f;var g=a.preventScrollOnFocus;a=babelHelpers.objectWithoutPropertiesLoose(a,["children","containerRef","direction","preventScrollOnFocus"]);var l=k(new Map()),m=i(function(a){l.current.set(a,a)},[l]),n=i(function(a){l.current["delete"](a)},[l]),o=i(function(a,b,c){return l.current.has(c)},[l]),p=i(function(a,b,c){return l.current.has(c)&&b.role==="option"},[l]),q=j(function(){return d("FocusGroup.react").createFocusGroup(o)},[o]),r=q[0],s=q[1];q=j(function(){return{registerItem:m,deregisterItem:n,FocusItem:s}},[m,n,s]);return h.jsx(c("GeoBaseInteractiveListContext").Provider,{value:q,children:h.jsx(r,{orientation:f,preventScrollOnFocus:g,tabScopeQuery:p,children:h.jsx(c("GeoBaseListLayout.react"),babelHelpers["extends"]({},a,{containerRef:e,direction:f,children:b}))})})}a.displayName=a.name+" [from "+f.id+"]";e=d("GeoPrivateMakeComponent").makeGeoComponent("GeoBaseInteractiveList",a);g["default"]=e}),98);
__d("GeoPrivateAccessibleInput.react",["GeoDomID","GeoPrivateMakeComponent","react","stylex","useMergeRefs"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.disabled;b=b===void 0?!1:b;var e=a.xstyle,f=a["aria-labelledby"],g=a.id,j=a.inputRef,k=a["aria-describedby"];a=babelHelpers.objectWithoutPropertiesLoose(a,["disabled","xstyle","aria-labelledby","id","inputRef","aria-describedby"]);g=d("GeoDomID").useApplyGeoDomIDsDirectly({id:(g=g)!=null?g:void 0,"aria-describedby":(g=k)!=null?g:void 0,"aria-labelledby":(k=f)!=null?k:void 0});f=g.ref;k=g.id;var l=g["aria-activedescendant"],m=g["aria-controls"],n=g["aria-owns"],o=g["aria-describedby"],p=g["aria-details"],q=g["aria-errormessage"],r=g["aria-flowto"];g=g["aria-labelledby"];j=c("useMergeRefs")(j,f);return h.jsx("input",babelHelpers["extends"]({},a,{"aria-activedescendant":l,"aria-controls":m,"aria-describedby":o,"aria-details":p,"aria-errormessage":q,"aria-flowto":r,"aria-labelledby":g,"aria-owns":n,className:c("stylex")([i.input,b&&i.inputDisabled,e]),disabled:b,id:k,ref:j}))}a.displayName=a.name+" [from "+f.id+"]";var i={input:{appearance:"xjyslct",cursor:"x1ypdohk",height:"x5yr21d",start:"x17qophe",marginTop:"xdj266r",marginEnd:"x11i5rnm",marginBottom:"xat24cr",marginStart:"x1mh8g0r",opacity:"x1w3u9th",outlineStyle:"x1t137rt",position:"x10l6tqk",top:"x13vifvy",width:"xh8yej3",zIndex:"x1vjfegm",$$css:!0},inputDisabled:{pointerEvents:"x47corl",$$css:!0}};b=d("GeoPrivateMakeComponent").makeGeoComponent("GeoPrivateAccessibleInput",a);g["default"]=b}),98);
__d("GeoPrivateBinaryInput.react",["BUIPrivateDisabledFocusContext","GeoPrivateAccessibleInput.react","GeoPrivateMakeComponent","GeoPrivateMultiElementLayoutContextReset.react","react","useBoolean"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useCallback,j=b.useContext;function a(a){var b=a["aria-label"],d=a.checked,e=a.children,f=a["data-testid"];f=a.describedBy;var g=a.id,k=a.inputRef,l=a.isDisabled;l=l===void 0?!1:l;var m=a.labelledBy,n=a.name,o=a.onChange,p=a.type;a=a.value;var q=c("useBoolean")(!1),r=q.value,s=q.setTrue;q=q.setFalse;var t=j(c("BUIPrivateDisabledFocusContext")),u=i(function(a){return o==null?void 0:o(a.target.checked,a)},[o]);f=h.jsx(c("GeoPrivateAccessibleInput.react"),{"aria-checked":d,"aria-describedby":f,"aria-disabled":l,"aria-label":b,"aria-labelledby":m,checked:d,"data-testid":void 0,disabled:l,id:g,inputRef:k,name:n,onChange:u,onMouseDown:s,onMouseLeave:q,onMouseUp:q,tabIndex:t?-1:void 0,type:p,value:a});return h.jsx("div",{className:"x1rg5ohu x1n2onr6 x3oybdh",children:h.jsx(c("GeoPrivateMultiElementLayoutContextReset.react"),{children:e({checked:d,input:f,isActive:r,isDisabled:l})})})}a.displayName=a.name+" [from "+f.id+"]";e=d("GeoPrivateMakeComponent").makeGeoComponent("GeoPrivateBinaryInput",a);g["default"]=e}),98);
__d("GeoPrivateCheckboxInputLayout.react",["GeoPrivateBinaryInputLayout.react","GeoPrivateIcon.react","GeoPrivateIconCheckmarkFilled16","GeoPrivateIconMinusFilled16","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.input,d=a.isActive;d=d===void 0?!1:d;var e=a.isDisabled;e=e===void 0?!1:e;a=a.value;a=a===void 0?!1:a;var f=a==="indeterminate";f=f?c("GeoPrivateIconMinusFilled16"):c("GeoPrivateIconCheckmarkFilled16");return h.jsx(c("GeoPrivateBinaryInputLayout.react"),{checked:a!==!1,context:"control",input:b,isActive:d,isDisabled:e,children:h.jsx(c("GeoPrivateIcon.react"),{color:e?"inherit":"info",icon:f})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("GeoBaseCheckboxInput.react",["GeoPrivateBinaryInput.react","GeoPrivateCheckboxInputLayout.react","GeoPrivateLoggingAction","GeoPrivateLoggingClassification","GeoPrivateMakeComponent","react","useGeoPrivateWithLogging","useMergeRefs"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useLayoutEffect,j=b.useMemo,k=b.useRef;function a(a){var b=a.htmlForTargetId,d=a.inputRef,e=a.isDisabled;e=e===void 0?!1:e;var f=a.loggingName;f=f===void 0?"GeoBaseCheckboxInput":f;var g=a.onChange,l=a.value,m=a.htmlValue,n=a.name;a=babelHelpers.objectWithoutPropertiesLoose(a,["htmlForTargetId","inputRef","isDisabled","loggingName","onChange","value","htmlValue","name"]);var o=k(null),p=l==="indeterminate",q=j(function(){return function(b,a){return g==null?void 0:g(a,b)}},[g]),r=c("useGeoPrivateWithLogging")(q,{name:f,action:c("GeoPrivateLoggingAction").CLICK,classification:c("GeoPrivateLoggingClassification").USER_ACTION});q=j(function(){return function(a,b){return r==null?void 0:r(b,a)}},[r]);i(function(){o.current!=null&&(o.current.indeterminate=p)},[p]);f=c("useMergeRefs")(d,o);return h.jsx(c("GeoPrivateBinaryInput.react"),babelHelpers["extends"]({},a,{checked:l===!0,id:b,inputRef:f,isDisabled:e,isIconVisible:l!==!1,name:n,onChange:q,type:"checkbox",value:m,children:function(a){return h.jsx(c("GeoPrivateCheckboxInputLayout.react"),babelHelpers["extends"]({},a,{value:l}))}}))}a.displayName=a.name+" [from "+f.id+"]";e=d("GeoPrivateMakeComponent").makeGeoComponent("GeoBaseCheckboxInput",a);g["default"]=e}),98);
__d("GeoCheckboxInput.react",["GeoBaseCheckboxInput.react","GeoBaseListLayoutContext","GeoBaseListRow.react","GeoBaseListRowContext","GeoPrivateClearInteractiveStylesContext","GeoPrivateDisabledContext","GeoPrivateMakeComponent","joinDomIDs","react","useUniqueID"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useContext,j=b.useMemo;function a(a){var b=a.containerRef,d=a["data-testid"];d=a.describedBy;var e=a.description,f=a.disabledMessage,g=a.endContent,k=a.isDisabled;k=k===void 0?!1:k;var l=a.isReadOnly;l=l===void 0?!1:l;var m=a.label,n=a.isLabelHidden,o=a.media,p=a.onChange,q=a.value,r=a.htmlValue,s=a.name,t=a.tooltip;a=a.xstyle;var u=c("useUniqueID")(),v=c("useUniqueID")(),w=c("useUniqueID")();d=c("joinDomIDs")(d,v);var x=i(c("GeoBaseListRowContext")),y=x.isNested;x=i(c("GeoBaseListLayoutContext"));var z=x.isWithinList;x=j(function(){return{isNested:y||!z}},[y,z]);var A=k||l;return!z&&n===!0&&o==null&&f==null?h.jsx(c("GeoBaseCheckboxInput.react"),{"aria-label":m,"data-testid":void 0,describedBy:d,htmlForTargetId:u,htmlValue:r,isDisabled:A,labelledBy:w,name:s,onChange:p,value:q}):h.jsx(c("GeoPrivateDisabledContext").Provider,{value:null,children:h.jsx(c("GeoPrivateClearInteractiveStylesContext").Provider,{value:!0,children:h.jsx(c("GeoBaseListRowContext").Provider,{value:x,children:h.jsx(c("GeoBaseListRow.react"),{accessibilityRole:"label",containerRef:b,control:h.jsx(c("GeoBaseCheckboxInput.react"),{"data-testid":void 0,describedBy:d,htmlForTargetId:u,htmlValue:r,isDisabled:A,labelledBy:w,name:s,onChange:p,value:q}),description:e,descriptionID:v,disabledMessage:f,endContent:g,isDisabled:k,isFocusable:!1,isLabelHidden:n,isReadOnly:l,label:m,labelID:w,media:o,tooltip:t,xstyle:a})})})})}a.displayName=a.name+" [from "+f.id+"]";e=d("GeoPrivateMakeComponent").makeGeoComponent("GeoCheckboxInput",a);g["default"]=e}),98);
__d("GeoPopoverContent.react",["GeoPrivateHintAdditionalContent.react","GeoPrivateHintContent.react","GeoPrivateMakeComponent","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.action,d=a.learnMore,e=a.content,f=a.heading,g=a.status;a=babelHelpers.objectWithoutPropertiesLoose(a,["action","learnMore","content","heading","status"]);return h.jsx(c("GeoPrivateHintContent.react"),babelHelpers["extends"]({},a,{additionalContent:b!=null||d!=null?h.jsx(c("GeoPrivateHintAdditionalContent.react"),{action:b,learnMore:d}):null,content:e,heading:f,status:g}))}a.displayName=a.name+" [from "+f.id+"]";b=d("GeoPrivateMakeComponent").makeGeoComponent("GeoPopoverContent",a);g["default"]=b}),98);
__d("GeoPopoverUtils",[],(function(a,b,c,d,e,f){"use strict";a=function(a){var b=a.isSticky;b=b===void 0?!0:b;var c=a.renderDelay;c=c===void 0?280:c;var d=a.hideOnBlur;d=d===void 0?!0:d;a=a.groupName;a=a===void 0?"GeoPopover":a;return{isSticky:b,renderDelay:c,hideOnBlur:d,groupName:a}};f.getDefaultProps=a}),66);
__d("GeoPopover.react",["GeoPopoverContent.react","GeoPopoverUtils","GeoPrivateHintLayer.react","GeoPrivateMakeComponent","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.action,e=a.learnMore,f=a.heading,g=a.content,i=a.status;a=babelHelpers.objectWithoutPropertiesLoose(a,["action","learnMore","heading","content","status"]);var j=d("GeoPopoverUtils").getDefaultProps(a),k=function(a){return h.jsx(c("GeoPopoverContent.react"),babelHelpers["extends"]({},a,{action:b,content:g,heading:f,learnMore:e,status:i}))};return h.jsx(c("GeoPrivateHintLayer.react"),babelHelpers["extends"]({},a,j,{contentRenderer:k,popoverType:"popover"}))}a.displayName=a.name+" [from "+f.id+"]";b=d("GeoPrivateMakeComponent").makeGeoComponent("GeoPopover",a);g["default"]=b}),98);
__d("GeoDivider.react",["GeoPrivateMakeComponent","react","stylex","useGeoTheme"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={root:{backgroundColor:"xjbqb8w",marginTop:"xdj266r",marginEnd:"x11i5rnm",marginBottom:"xat24cr",marginStart:"x1mh8g0r",$$css:!0},vertical:{width:"xnalus7",borderEndWidth:"xm81vs4",borderEndStyle:"xu3j5b3",$$css:!0},horizontal:{borderBottomWidth:"xso031l",borderBottomStyle:"x1q0q8m5",height:"xqtp20y",$$css:!0}};function j(a){var b=c("useGeoTheme")(),d=b.selectSpacing;b=b.selectBorderColor;return[i.root,a==="horizontal"?i.horizontal:i.vertical,b({color:"element",isDisabled:!1}),d({bounds:"external",context:"content",relation:"section",positions:[a==="horizontal"?"vertical":"horizontal"]})]}function a(b){var d=b.direction;d=d===void 0?"horizontal":d;b=babelHelpers.objectWithoutPropertiesLoose(b,["direction"]);var a=j(d);return d==="vertical"?h.jsx("div",{className:c("stylex")(a,b.xstyle)}):h.jsx("hr",{className:c("stylex")(a,b.xstyle)})}a.displayName=a.name+" [from "+f.id+"]";b=d("GeoPrivateMakeComponent").makeGeoComponent("GeoDivider",a);g["default"]=b}),98);
__d("GeoCard.react",["GeoPrivateCard.react","GeoPrivateLoggingRegion.react","GeoPrivateMakeComponent","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.containerRef,d=babelHelpers.objectWithoutPropertiesLoose(a,["containerRef"]);return h.jsx(c("GeoPrivateLoggingRegion.react"),{inputRef:b,name:"GeoCard",children:function(a){return h.jsx(c("GeoPrivateCard.react"),babelHelpers["extends"]({containerRef:a},d))}})}a.displayName=a.name+" [from "+f.id+"]";b=d("GeoPrivateMakeComponent").makeGeoComponent("GeoCard",a);g["default"]=b}),98);
__d("TimeInterval",["invariant","DateConsts","DateTime","PeriodUnit","Timezone"],(function(a,b,c,d,e,f,g,h){"use strict";a=function(){function a(a,b,c){a<=b||h(0,4609,b,a),this.start=a,this.end=b,this.timezoneID=c}var b=a.prototype;b.abuts=function(a){var b=Math.max(this.start,a.start);a=Math.min(this.end,a.end);return b===a};a.apply=function(b){return new a(b.start,b.end,b.timezoneID)};b.contains=function(a){return this.start<=a&&a<this.end};b.containsInterval=function(a){return this.start<=a.start&&a.end<=this.end};a.create=function(b,c,e){e===void 0&&(e=d("Timezone").UTC);return new a(b,c,e)};b.equals=function(a){return this.start===a.start&&this.end===a.end&&this.timezoneID===a.timezoneID};a.fromFBDates=function(b,c){return new a(b.getUnixTimestampSeconds(),c.getUnixTimestampSeconds(),b.getTimezoneID())};a.fromDateTimes=function(b,c){return new a(b.instant,c.instant,b.timezoneID)};b.gap=function(b){var c=Math.max(this.start,b.start);b=Math.min(this.end,b.end);return b<c?a.create(b,c,this.timezoneID):null};b.getEndDateTime=function(){return c("DateTime").create(this.end,this.timezoneID)};b.getStartDateTime=function(){return c("DateTime").create(this.start,this.timezoneID)};b.intersect=function(b){var c=Math.max(this.start,b.start);b=Math.min(this.end,b.end);return c<=b?a.create(c,b,this.timezoneID):null};b.intersects=function(a){var b=Math.max(this.start,a.start);a=Math.min(this.end,a.end);return b<=a};b.isAfter=function(a){return a.end<=this.start};b.isBefore=function(a){return this.end<=a.start};b.join=function(b){return a.create(Math.min(this.start,b.start),Math.max(this.end,b.end),this.timezoneID)};b.lowerBoundDays=function(){var b=i(c("DateTime").create(this.start,this.timezoneID)).instant,d=c("DateTime").create(this.end,this.timezoneID).startOfDay().instant;return b<=d?a.create(b,d,this.timezoneID):null};b.measure=function(a){if(c("PeriodUnit").isForTime(a))return Math.floor((this.end-this.start)/c("PeriodUnit").getDuration(a));else return this.measureDateBasedUnit(a)};b.measureDateBasedUnit=function(a){var b=this.getStartDateTime(),e=this.getEndDateTime(),f;switch(a){case c("PeriodUnit").year:f=e.getYear()-b.getYear();return b.addYears(f).instant<=e.instant?f:f-1;case c("PeriodUnit").month:f=e.getYear()-b.getYear();var g=e.getMonth()-b.getMonth();f=12*f+g;for(g=f;Math.max(0,f-2)<g;g-=1)if(b.addMonths(g).instant<=e.instant)break;return g;case c("PeriodUnit").week:return Math.floor(this.measureDateBasedUnit(c("PeriodUnit").day)/d("DateConsts").DAYS_PER_WEEK);case c("PeriodUnit").day:f=Math.round((e.startOfDay().instant-b.startOfDay().instant)/d("DateConsts").SEC_PER_DAY);return b.addDays(f).instant<=e.instant?f:f-1;default:h(0,2429,a)}};b.overlap=function(b){var c=Math.max(this.start,b.start);b=Math.min(this.end,b.end);return c<b?a.create(c,b,this.timezoneID):null};b.overlaps=function(a){var b=Math.max(this.start,a.start);a=Math.min(this.end,a.end);return b<a};b.subintervalOf=function(a){return a.start<=this.start&&this.end<=a.end};b.toDuration=function(){return this.end-this.start};b.toString=function(){var a=this.getStartDateTime(),b=this.getEndDateTime();return"("+a.toString()+", "+b.toString()+")"};b.toPeriod=function(){return this.toPeriodIn(c("PeriodUnit").canonicalUnits)};b.toPeriodIn=function(b){if(b.length===0)return{};else{var c=b[0],d={};d[c]=this.measure(c);Object.assign(d,a.fromDateTimes(this.getStartDateTime().add(d),this.getEndDateTime()).toPeriodIn(b.slice(1)));return d}};b.union=function(b){return this.intersects(b)?a.create(Math.min(this.start,b.start),Math.max(this.end,b.end),this.timezoneID):null};b.upperBoundDays=function(){return a.create(c("DateTime").create(this.start,this.timezoneID).startOfDay().instant,i(c("DateTime").create(this.end,this.timezoneID)).instant,this.timezoneID)};b.withEnd=function(b){return new a(this.start,b,this.timezoneID)};b.withStart=function(b){return new a(b,this.end,this.timezoneID)};b.withTimezone=function(b){return new a(this.start,this.end,b)};b["with"]=function(b){return a.apply(babelHelpers["extends"]({start:this.start,end:this.end,timezoneID:this.timezoneID},b))};return a}();function i(a){var b=a.startOfDay();return a.instant===b.instant?a:b.addDays(1)}g["default"]=a}),98);
__d("LocalDateInterval",["invariant","DateConsts","LocalDate","PeriodUnit","TimeInterval","Timezone"],(function(a,b,c,d,e,f,g,h){"use strict";a=function(){function a(a,b){a.compare(b)<=0||h(0,2428),this.start=a,this.end=b}a.create=function(b,c){return new a(b,c)};var b=a.prototype;b.equals=function(a){return this.start.equals(a.start)&&this.end.equals(a.end)};b.hashCode=function(){return this.start.hashCode()+this.end.hashCode()};b.join=function(b){return a.create(this.start.min(b.start),this.end.max(b.end))};b.contains=function(a){return this.start.isBeforeOrEqual(a)&&a.isBefore(this.end)};b.measure=function(a){return this.measureDateBasedUnit(a)};b.measureDateBasedUnit=function(a){var b=this.end,e=this.start,f;switch(a){case c("PeriodUnit").year:f=b.getYear()-e.getYear();return e.addYears(f).compare(b)<=0?f:f-1;case c("PeriodUnit").month:f=b.getYear()-e.getYear();var g=b.getMonth()-e.getMonth();f=12*f+g;for(g=f;Math.max(0,f-2)<g;g-=1)if(e.addMonths(g).compare(b)<=0)break;return g;case c("PeriodUnit").week:return Math.floor(this.measureDateBasedUnit(c("PeriodUnit").day)/d("DateConsts").DAYS_PER_WEEK);case c("PeriodUnit").day:return Math.round((b.toInstant(d("Timezone").UTC)-e.toInstant(d("Timezone").UTC))/d("DateConsts").SEC_PER_DAY);default:h(0,2429,a)}};b.toDuration=function(){return d("DateConsts").SEC_PER_DAY*this.measure("day")};b.toPeriod=function(){return this.toPeriodIn(c("PeriodUnit").canonicalDateUnits)};b.toPeriodIn=function(b){if(b.length===0)return{};else{var c=b[0],d={};d[c]=this.measure(c);Object.assign(d,a.create(this.start.add(d),this.end).toPeriodIn(b.slice(1)));return d}};a.fromDateTimes=function(b,d){return new a(c("LocalDate").fromDateTime(b),c("LocalDate").fromDateTime(d))};a.fromStrings=function(b,d){return new a(c("LocalDate").fromISOString(b),c("LocalDate").fromISOString(d))};a.fromTimeInterval=function(b){return a.fromDateTimes(b.getStartDateTime(),b.getEndDateTime())};b.toTimeInterval=function(a){return c("TimeInterval").create(this.start.toInstant(a),this.end.toInstant(a),a)};b.toString=function(){return"("+this.start.toString()+", "+this.end.toString()+")"};return a}();g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("TV2VideoExperienceQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="6238186119550548"}),null);
__d("TV2VideoExperienceQuery.graphql",["CometTextWithEntitiesRelay_textWithEntities$normalization.graphql","VideoPlayerRelay_video$normalization.graphql","TV2VideoExperienceQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"renderLocation"},c={defaultValue:null,kind:"LocalArgument",name:"scale"},d={defaultValue:null,kind:"LocalArgument",name:"video_id"},e=[{kind:"Variable",name:"id",variableName:"video_id"}],f={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},h={alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"first_story_to_show",plural:!1,selections:[g,{alias:null,args:null,concreteType:"StoryCardSeenState",kind:"LinkedField",name:"story_card_seen_state",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_seen_by_viewer",storageKey:null}],storageKey:null}],storageKey:null};return{fragment:{argumentDefinitions:[a,c,d],kind:"Fragment",metadata:null,name:"TV2VideoExperienceQuery",selections:[{alias:null,args:e,concreteType:"Video",kind:"LinkedField",name:"video",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"TV2VideoExperience_video"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[d,c,a],kind:"Operation",name:"TV2VideoExperienceQuery",selections:[{alias:null,args:e,concreteType:"Video",kind:"LinkedField",name:"video",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"connected_tv_cast_receiver_v2_experiments",storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"title",plural:!1,selections:[{args:null,fragment:b("CometTextWithEntitiesRelay_textWithEntities$normalization.graphql"),kind:"FragmentSpread"},{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"creation_story",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actors",plural:!0,selections:[f,{kind:"TypeDiscriminator",abstractKey:"__isActor"},g,{kind:"InlineFragment",selections:[{alias:"profile_url",args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],type:"Entity",abstractKey:"__isEntity"},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"pages_story_bucket_v2",plural:!1,selections:[f,g,h],storageKey:null}],type:"Page",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:[{kind:"Literal",name:"first",value:1}],concreteType:"DirectInboxBroadcastBucketConnection",kind:"LinkedField",name:"story_bucket",plural:!1,selections:[{alias:null,args:null,concreteType:"DirectMessageThreadBucket",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"should_show_close_friend_badge",storageKey:null},g,h],storageKey:null}],storageKey:"story_bucket(first:1)"},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"availability",storageKey:null}]}],type:"User",abstractKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:[{kind:"Literal",name:"height",value:60},{kind:"Literal",name:"scale",value:2},{kind:"Literal",name:"width",value:60}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"scale",storageKey:null}],storageKey:"profile_picture(height:60,scale:2,width:60)"}],storageKey:null},{alias:null,args:[{kind:"Variable",name:"location",variableName:"renderLocation"}],concreteType:"CometStorySections",kind:"LinkedField",name:"comet_sections",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"supported",value:"3TYEX9"}],concreteType:null,kind:"LinkedField",name:"title",plural:!1,selections:[f,{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryTitleSection_story",fragmentName:"GeminiFeedDraftForStoryDirectedTitleStrategy_contextTitle",fragmentPropName:"contextTitle",kind:"ModuleImport"}],type:"GeminiFeedDraftForStoryDirectedTitleStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryTitleSection_story",fragmentName:"GeminiFeedStoryQATitleStrategy_contextTitle",fragmentPropName:"contextTitle",kind:"ModuleImport"}],type:"GeminiFeedStoryQATitleStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryTitleSection_story",fragmentName:"CometFeedStoryCommunityAttributionTitleStrategy_contextTitle",fragmentPropName:"contextTitle",kind:"ModuleImport"}],type:"CometFeedStoryCommunityAttributionTitleStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryTitleSection_story",fragmentName:"CometFeedStoryChannelStoryInGroupAttributionTitleStrategy_contextTitle",fragmentPropName:"contextTitle",kind:"ModuleImport"}],type:"CometFeedStoryChannelStoryInGroupAttributionTitleStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryTitleSection_story",fragmentName:"CometFeedStoryGroupsTabDirectedTitleStrategy_contextTitle",fragmentPropName:"contextTitle",kind:"ModuleImport"}],type:"CometFeedStoryGroupsTabDirectedTitleStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryTitleSection_story",fragmentName:"GeminiFeedStoryDirectedTitleWithCoAuthorsStrategy_contextTitle",fragmentPropName:"contextTitle",kind:"ModuleImport"}],type:"GeminiFeedStoryDirectedTitleWithCoAuthorsStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryTitleSection_story",fragmentName:"CometFeedStoryDirectedTitleStrategy_contextTitle",fragmentPropName:"contextTitle",kind:"ModuleImport"}],type:"CometFeedStoryDirectedTitleStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryTitleSection_story",fragmentName:"CometFeedStoryViaTitleStrategy_contextTitle",fragmentPropName:"contextTitle",kind:"ModuleImport"}],type:"CometFeedStoryViaTitleStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryTitleSection_story",fragmentName:"GeminiFeedStoryTitleWithCoAuthorsStrategy_contextTitle",fragmentPropName:"contextTitle",kind:"ModuleImport"}],type:"GeminiFeedStoryTitleWithCoAuthorsStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryTitleSection_story",fragmentName:"CometFeedStoryTitleWithActorStrategy_contextTitle",fragmentPropName:"contextTitle",kind:"ModuleImport"}],type:"CometFeedStoryTitleWithActorStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryTitleSection_story",fragmentName:"CometFeedStoryDefaultTitleStrategy_contextTitle",fragmentPropName:"contextTitle",kind:"ModuleImport"}],type:"CometFeedStoryDefaultTitleStrategy",abstractKey:null}],storageKey:'title(supported:"3TYEX9")'}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"encrypted_tracking",storageKey:null},g],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_podcast_video",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_rss_podcast_video",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_voices_podcast_video",storageKey:null},g,{args:null,fragment:b("VideoPlayerRelay_video$normalization.graphql"),kind:"FragmentSpread"}],storageKey:null}]},params:{id:b("TV2VideoExperienceQuery_facebookRelayOperation"),metadata:{},name:"TV2VideoExperienceQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("InitialJSLoader",["Arbiter","Bootloader","PageEvents"],(function(a,b,c,d,e,f,g){var h="BOOTLOAD/JSREADY";function a(a,b){c("Arbiter").subscribe(c("PageEvents").BIGPIPE_DOMREADY,function(){function d(){c("Bootloader").loadResources(a,{onAll:function(){c("Arbiter").inform(h,!0,"state")}})}b!=null&&b>0?setTimeout(d,b):d()})}g.INITIAL_JS_READY=h;g.loadOnDOMContentReady=a}),98);
__d("PageHooks",["Arbiter","ErrorUtils","InitialJSLoader","PageEvents"],(function(a,b,c,d,e,f){var g;f={DOMREADY_HOOK:"domreadyhooks",ONLOAD_HOOK:"onloadhooks"};function h(){k(l.DOMREADY_HOOK),window.domready=!0,b("Arbiter").inform("uipage_onload",!0,"state")}function i(){k(l.ONLOAD_HOOK),window.loaded=!0}function j(a,c){return(g||(g=b("ErrorUtils"))).applyWithGuard(a,null,null,function(a){a.event_type=c,a.category="runhook"},"PageHooks:"+c)}function k(a){var b=a=="onbeforeleavehooks"||a=="onbeforeunloadhooks";do{var c=window[a];if(!c)break;b||(window[a]=null);for(var d=0;d<c.length;d++){var e=j(c[d],a);if(b&&e)return e}}while(!b&&window[a])}function c(){window.domready||(window.domready=!0,k("onloadhooks")),window.loaded||(window.loaded=!0,k("onafterloadhooks"))}function d(){var a,c;(a=b("Arbiter")).registerCallback(h,[(c=b("PageEvents")).BIGPIPE_DOMREADY,b("InitialJSLoader").INITIAL_JS_READY]);a.registerCallback(i,[c.BIGPIPE_DOMREADY,c.BIGPIPE_ONLOAD,b("InitialJSLoader").INITIAL_JS_READY]);a.subscribe(c.NATIVE_ONBEFOREUNLOAD,function(a,b){b.warn=k("onbeforeleavehooks")||k("onbeforeunloadhooks"),b.warn||(window.domready=!1,window.loaded=!1)},"new");a.subscribe(c.NATIVE_ONUNLOAD,function(a,b){k("onunloadhooks"),k("onafterunloadhooks")},"new")}var l=babelHelpers["extends"]({_domreadyHook:h,_onloadHook:i,runHook:j,runHooks:k,keepWindowSetAsLoaded:c},f);d();a.PageHooks=e.exports=l}),null);
__d("AssertionError",["ManagedError"],(function(a,b,c,d,e,f,g){a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){return a.call(this,b)||this}return b}(c("ManagedError"));g["default"]=a}),98);
__d("Assert",["AssertionError","sprintf"],(function(a,b,c,d,e,f,g){function h(a,b){if(typeof a!=="boolean"||a===!1)throw new(c("AssertionError"))(b);return a}function i(a,b,d){var e;if(b===void 0)e="undefined";else if(b===null)e="null";else{var f=Object.prototype.toString.call(b);f=/\s(\w*)/.exec(f);e=f==null?typeof f:f[1].toLowerCase()}h(a.indexOf(e)!==-1,(f=d)!=null?f:c("sprintf")("Expression is of type %s, not %s",e,a));return b}function a(a,b,c){h(b instanceof a,(a=c)!=null?a:"Expression not instance of type");return b}function j(a,b){k["is"+a]=b,k["maybe"+a]=function(a,c){return a==null?a:b(a,c)}}b=function(a,b){return a};var k={isInstanceOf:a,isTrue:h,isTruthy:function(a,b){return h(!!a,b)},isBoolean:b,isFunction:b,isNumber:b,isObject:b,isString:b,isUndefined:b,maybeObject:b,maybeNumber:b,maybeFunction:b};["Boolean","Function","Number","Object","String","Undefined"].forEach(function(a){j(a,i.bind(null,a.toLowerCase()))});d=k;g["default"]=d}),98);
__d("ObservableMixin",[],(function(a,b,c,d,e,f){function a(){this.__observableEvents={}}a.prototype={inform:function(a){var b=Array.prototype.slice.call(arguments,1),c=Array.prototype.slice.call(this.getSubscribers(a));for(var d=0;d<c.length;d++){if(c[d]===null)continue;try{c[d].apply(this,b)}catch(a){window.setTimeout(function(){throw a},0)}}return this},getSubscribers:function(a){return this.__observableEvents[a]||(this.__observableEvents[a]=[])},clearSubscribers:function(a){a&&(this.__observableEvents[a]=[]);return this},subscribe:function(a,b){a=this.getSubscribers(a);a.push(b);return this},unsubscribe:function(a,b){a=this.getSubscribers(a);for(var c=0;c<a.length;c++)if(a[c]===b){a.splice(c,1);break}return this}};e.exports=a}),null);
__d("Type",["Assert"],(function(a,b,c,d,e,f){function g(){var a=this.__mixins;if(a)for(var b=0;b<a.length;b++)a[b].apply(this,arguments)}function h(a,b){if(b instanceof a)return!0;if(b instanceof g)for(var c=0;c<b.__mixins.length;c++)if(b.__mixins[c]==a)return!0;return!1}function i(a,b){var c=a.prototype;Array.isArray(b)||(b=[b]);for(a=0;a<b.length;a++){var d=b[a];typeof d==="function"&&(c.__mixins.push(d),d=d.prototype);Object.keys(d).forEach(function(a){c[a]=d[a]})}}function j(a,c,d){var e=c&&Object.prototype.hasOwnProperty.call(c,"constructor")?c.constructor:function(){this.parent.apply(this,arguments)};b("Assert").isFunction(e);if(a&&a.prototype instanceof g===!1)throw new Error("parent type does not inherit from Type");a=a||g;function f(){}f.prototype=a.prototype;e.prototype=new f();c&&Object.assign(e.prototype,c);e.prototype.constructor=e;e.parent=a;e.prototype.__mixins=a.prototype.__mixins?Array.prototype.slice.call(a.prototype.__mixins):[];d&&i(e,d);e.prototype.parent=function(){this.parent=a.prototype.parent,a.apply(this,arguments)};e.prototype.parentCall=function(b){return a.prototype[b].apply(this,Array.prototype.slice.call(arguments,1))};e.extend=function(a,b){return j(this,a,b)};return e}Object.assign(g.prototype,{instanceOf:function(a){return h(a,this)}});Object.assign(g,{extend:function(a,b){return typeof a==="function"?j.apply(null,arguments):j(null,a,b)},instanceOf:h});e.exports=g}),null);
__d("sdk.Model",["ObservableMixin","Type"],(function(a,b,c,d,e,f,g){"use strict";a=c("Type").extend({constructor:function(a){this.parent();var b={},c=this;Object.keys(a).forEach(function(d){b[d]=a[d],c["set"+d]=function(a){if(a===b[d])return c;b[d]=a;c.inform(d+".change",a);return c},c["get"+d]=function(){return b[d]}})}},c("ObservableMixin"));b=a;g["default"]=b}),98);
__d("sdk.Runtime",["JSSDKRuntimeConfig","sdk.Model"],(function(a,b,c,d,e,f,g){var h={UNKNOWN:0,PAGETAB:1,CANVAS:2,PLATFORM:4},i=new(c("sdk.Model"))({AccessToken:"",AutoLogAppEvents:!1,ClientID:"",CookieUserID:"",EnforceHttps:!1,Environment:h.UNKNOWN,FamilyLoginLoaded:!1,GraphDomain:"",Initialized:!1,IsSPIN:Boolean(d("JSSDKRuntimeConfig").isSPIN),IsVersioned:!1,KidDirectedSite:void 0,Locale:d("JSSDKRuntimeConfig").locale,LoggedIntoFacebook:void 0,LoginStatus:void 0,Revision:d("JSSDKRuntimeConfig").revision,Rtl:d("JSSDKRuntimeConfig").rtl,Scope:void 0,SDKAB:d("JSSDKRuntimeConfig").sdkab,SDKUrl:d("JSSDKRuntimeConfig").sdkurl,SDKNS:d("JSSDKRuntimeConfig").sdkns,ShouldLoadFamilyLogin:!1,UseCookie:!1,UseLocalStorage:!0,UserID:"",Version:void 0});Object.assign(i,{ENVIRONMENTS:h,isEnvironment:function(a){var b=this.getEnvironment();return(a|b)===b},isCanvasEnvironment:function(){return this.isEnvironment(h.CANVAS)||this.isEnvironment(h.PAGETAB)}});(function(){var a=/app_runner/.test(window.name)?h.PAGETAB:/iframe_canvas/.test(window.name)?h.CANVAS:h.UNKNOWN;(a|h.PAGETAB)===a&&(a|=h.CANVAS);i.setEnvironment(a)})();a=i;g["default"]=a}),98);
__d("UrlMap",["invariant","UrlMapConfig","sdk.Runtime"],(function(a,b,c,d,e,f,g,h){function a(a){var b="https";if(a==="graph_domain"){var e=c("sdk.Runtime").getGraphDomain();e?a="graph_".concat(e):a="graph"}if(a in d("UrlMapConfig"))return b+"://"+d("UrlMapConfig")[a];a in d("UrlMapConfig")||h(0,2511,a);return""}g.resolve=a}),98);
__d("ChromecastReceiver",[],(function(b,c,d,e,f,g){(function(){"use strict";var c=function(b,c){function d(){}d.prototype=c.prototype;b.prototype=new d;b.prototype.constructor=b;for(d in c)if(Object.defineProperties){var e=Object.getOwnPropertyDescriptor(c,d);e&&Object.defineProperty(b,d,e)}else b[d]=c[d]},d="function"==typeof Object.defineProperties?Object.defineProperty:function(b,c,d){if(d.get||d.set)throw new TypeError("ES3 does not support getters and setters.");b!=Array.prototype&&b!=Object.prototype&&(b[c]=d.value)},e="undefined"!=typeof window&&window===this?this:"undefined"!=typeof b&&null!=b?b:this,f=function(){f=function(){},e.Symbol||(e.Symbol=h)},g=0,h=function(b){return"jscomp_symbol_"+(b||"")+g++},i=function(){f();var b=e.Symbol.iterator;b||(b=e.Symbol.iterator=e.Symbol("iterator"));"function"!=typeof Array.prototype[b]&&d(Array.prototype,b,{configurable:!0,writable:!0,value:function(){return j(this)}});i=function(){}},j=function(b){var c=0;return k(function(){return c<b.length?{done:!1,value:b[c++]}:{done:!0}})},k=function(b){i();b={next:b};b[e.Symbol.iterator]=function(){return this};return b},ba=function(b){i();var c=b[Symbol.iterator];return c?c.call(b):j(b)},l=this,m=function(b){return void 0!==b},n=function(){},o=function(b){b.$=function(){return b.Qb?b.Qb:b.Qb=new b}},ca=function(b){var c=typeof b;if("object"==c)if(b){if(b instanceof Array)return"array";if(b instanceof Object)return c;var d=Object.prototype.toString.call(b);if("[object Window]"==d)return"object";if("[object Array]"==d||"number"==typeof b.length&&"undefined"!=typeof b.splice&&"undefined"!=typeof b.propertyIsEnumerable&&!b.propertyIsEnumerable("splice"))return"array";if("[object Function]"==d||"undefined"!=typeof b.call&&"undefined"!=typeof b.propertyIsEnumerable&&!b.propertyIsEnumerable("call"))return"function"}else return"null";else if("function"==c&&"undefined"==typeof b.call)return"object";return c},da=function(b){var c=ca(b);return"array"==c||"object"==c&&"number"==typeof b.length},p=function(b){return"string"==typeof b},q=function(b){return"number"==typeof b},r=function(b){return"function"==ca(b)},ea=function(b){var c=typeof b;return"object"==c&&null!=b||"function"==c},fa=function(b,c,d){return b.call.apply(b.bind,arguments)},ga=function(b,c,d){if(!b)throw Error();if(2<arguments.length){var e=Array.prototype.slice.call(arguments,2);return function(){var d=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(d,e);return b.apply(c,d)}}return function(){return b.apply(c,arguments)}},s=function(b,c,d){s=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?fa:ga;return s.apply(null,arguments)},ha=function(b,c){var d=Array.prototype.slice.call(arguments,1);return function(){var c=d.slice();c.push.apply(c,arguments);return b.apply(this,c)}},ia=Date.now||function(){return+new Date},t=function(b,c){b=b.split(".");var d=l;b[0]in d||!d.execScript||d.execScript("var "+b[0]);for(var e;b.length&&(e=b.shift());)!b.length&&m(c)?d[e]=c:d=d[e]?d[e]:d[e]={}},u=function(b,c){function d(){}d.prototype=c.prototype;b.ab=c.prototype;b.prototype=new d;b.prototype.constructor=b;b.Ae=function(b,d,e){for(var f=Array(arguments.length-2),g=2;g<arguments.length;g++)f[g-2]=arguments[g];return c.prototype[d].apply(b,f)}},v=l.cast||{};t("cast.receiver.VERSION","2.0.0");var ja=function(b,c){b=b.toLowerCase();c=c.toLowerCase();return 0==b.indexOf(c)||0==c.indexOf(b)},ka=function(b){if(Error.captureStackTrace)Error.captureStackTrace(this,ka);else{var c=Error().stack;c&&(this.stack=c)}b&&(this.message=String(b))};u(ka,Error);ka.prototype.name="CustomError";var la,ma=function(b,c){for(var d=b.split("%s"),e="",f=Array.prototype.slice.call(arguments,1);f.length&&1<d.length;)e+=d.shift()+f.shift();return e+d.join("%s")},na=String.prototype.trim?function(b){return b.trim()}:function(b){return b.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},oa=function(b,c){b=String(b).toLowerCase();c=String(c).toLowerCase();return b<c?-1:b==c?0:1},pa=function(b,c){return b<c?-1:b>c?1:0},qa=function(b,c){c.unshift(b),ka.call(this,ma.apply(null,c)),c.shift()};u(qa,ka);qa.prototype.name="AssertionError";var ra=function(b,c,d,e){var f="Assertion failed";if(d)var f=f+(": "+d),g=e;else b&&(f+=": "+b,g=c);throw new qa(""+f,g||[])},w=function(b,c,d){b||ra("",null,c,Array.prototype.slice.call(arguments,2))},sa=function(b,c){throw new qa("Failure"+(b?": "+b:""),Array.prototype.slice.call(arguments,1))},ta=function(b,c,d){q(b)||ra("Expected number but got %s: %s.",[ca(b),b],c,Array.prototype.slice.call(arguments,2))},ua=function(b,c,d){r(b)||ra("Expected function but got %s: %s.",[ca(b),b],c,Array.prototype.slice.call(arguments,2))},va=Array.prototype.indexOf?function(b,c,d){w(null!=b.length);return Array.prototype.indexOf.call(b,c,d)}:function(b,c,d){d=null==d?0:0>d?Math.max(0,b.length+d):d;if(p(b))return p(c)&&1==c.length?b.indexOf(c,d):-1;for(;d<b.length;d++)if(d in b&&b[d]===c)return d;return-1},wa=Array.prototype.lastIndexOf?function(b,c,d){w(null!=b.length);return Array.prototype.lastIndexOf.call(b,c,null==d?b.length-1:d)}:function(b,c,d){d=null==d?b.length-1:d;0>d&&(d=Math.max(0,b.length+d));if(p(b))return p(c)&&1==c.length?b.lastIndexOf(c,d):-1;for(;0<=d;d--)if(d in b&&b[d]===c)return d;return-1},xa=Array.prototype.forEach?function(b,c,d){w(null!=b.length),Array.prototype.forEach.call(b,c,d)}:function(b,c,d){for(var e=b.length,f=p(b)?b.split(""):b,g=0;g<e;g++)g in f&&c.call(d,f[g],g,b)},ya=Array.prototype.filter?function(b,c,d){w(null!=b.length);return Array.prototype.filter.call(b,c,d)}:function(b,c,d){for(var e=b.length,f=[],g=0,h=p(b)?b.split(""):b,i=0;i<e;i++)if(i in h){var j=h[i];c.call(d,j,i,b)&&(f[g++]=j)}return f},za=function(b,c){c=va(b,c);var d;(d=0<=c)&&Aa(b,c);return d},Aa=function(b,c){w(null!=b.length),Array.prototype.splice.call(b,c,1)},Ba=function(b){var c=b.length;if(0<c){for(var d=Array(c),e=0;e<c;e++)d[e]=b[e];return d}return[]},Ca=function(b,c,d,e){w(null!=b.length);return Array.prototype.splice.apply(b,Da(arguments,1))},Da=function(b,c,d){w(null!=b.length);return 2>=arguments.length?Array.prototype.slice.call(b,c):Array.prototype.slice.call(b,c,d)},Ea=function(b,c,d){for(var e in b)c.call(d,b[e],e,b)},Fa=function(b,c){for(var d in b)if(c.call(void 0,b[d],d,b))return!0;return!1},Ga=function(b){var c=[],d=0;for(b in b)c[d++]=b;return c},Ha=function(b,c){return null!==b&&c in b},Ia=function(b){var c={},d;for(d in b)c[d]=b[d];return c},Ja="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),Ka=function(b,c){for(var d,e,f=1;f<arguments.length;f++){e=arguments[f];for(d in e)b[d]=e[d];for(var g=0;g<Ja.length;g++)d=Ja[g],Object.prototype.hasOwnProperty.call(e,d)&&(b[d]=e[d])}},La;a:{var x=l.navigator;if(x){x=x.userAgent;if(x){La=x;break a}}La=""}var y=function(b){return-1!=La.indexOf(b)},Ma="StopIteration"in l?l.StopIteration:{message:"StopIteration",stack:""},Na=function(){};Na.prototype.next=function(){throw Ma};Na.prototype.Vc=function(){return this};var z=function(b,c){this.I={};this.i=[];this.cb=this.ga=0;var d=arguments.length;if(1<d){if(d%2)throw Error("Uneven number of arguments");for(var e=0;e<d;e+=2)this.set(arguments[e],arguments[e+1])}else b&&this.addAll(b)};z.prototype.rc=function(){Pa(this);for(var b=[],c=0;c<this.i.length;c++)b.push(this.I[this.i[c]]);return b};var Oa=function(b){Pa(b);return b.i.concat()};z.prototype.Rb=function(){return 0==this.ga};z.prototype.clear=function(){this.I={},this.cb=this.ga=this.i.length=0};z.prototype.remove=function(b){return Qa(this.I,b)?(delete this.I[b],this.ga--,this.cb++,this.i.length>2*this.ga&&Pa(this),!0):!1};var Pa=function(b){if(b.ga!=b.i.length){for(var c=0,d=0;c<b.i.length;){var e=b.i[c];Qa(b.I,e)&&(b.i[d++]=e);c++}b.i.length=d}if(b.ga!=b.i.length){for(var f={},d=c=0;c<b.i.length;)e=b.i[c],Qa(f,e)||(b.i[d++]=e,f[e]=1),c++;b.i.length=d}};x=z.prototype;x.get=function(b,c){return Qa(this.I,b)?this.I[b]:c};x.set=function(b,c){Qa(this.I,b)||(this.ga++,this.i.push(b),this.cb++),this.I[b]=c};x.addAll=function(b){var c;if(b instanceof z)c=Oa(b),b=b.rc();else{c=Ga(b);var d=[],e=0,f;for(f in b)d[e++]=b[f];b=d}for(d=0;d<c.length;d++)this.set(c[d],b[d])};x.forEach=function(b,c){for(var d=Oa(this),e=0;e<d.length;e++){var f=d[e],g=this.get(f);b.call(c,g,f,this)}};x.clone=function(){return new z(this)};x.Vc=function(b){Pa(this);var c=0,d=this.cb,e=this,f=new Na;f.next=function(){if(d!=e.cb)throw Error("The map has changed since the iterator was created");if(c>=e.i.length)throw Ma;var f=e.i[c++];return b?f:e.I[f]};return f};var Qa=function(b,c){return Object.prototype.hasOwnProperty.call(b,c)},Ra=function(b){Ra[" "](b);return b};Ra[" "]=n;var Sa=function(b,c){var d=Ya;return Object.prototype.hasOwnProperty.call(d,b)?d[b]:d[b]=c(b)},Ta=y("Opera"),A=y("Trident")||y("MSIE"),Ua=y("Edge"),Va=y("Gecko")&&!(-1!=La.toLowerCase().indexOf("webkit")&&!y("Edge"))&&!(y("Trident")||y("MSIE"))&&!y("Edge"),Wa=-1!=La.toLowerCase().indexOf("webkit")&&!y("Edge"),B=function(){var b=l.document;return b?b.documentMode:void 0};a:{var C="",D=function(){var b=La;if(Va)return/rv\:([^\);]+)(\)|;)/.exec(b);if(Ua)return/Edge\/([\d\.]+)/.exec(b);if(A)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(b);if(Wa)return/WebKit\/(\S+)/.exec(b);if(Ta)return/(?:Version)[ \/]?(\S+)/.exec(b)}();D&&(C=D?D[1]:"");if(A){D=B();if(null!=D&&D>parseFloat(C)){D=String(D);break a}}D=C}var Xa=D,Ya={};C=function(b){return Sa(b,function(){for(var c=0,d=na(String(Xa)).split("."),e=na(String(b)).split("."),f=Math.max(d.length,e.length),g=0;0==c&&g<f;g++){var h=d[g]||"",i=e[g]||"";do{h=/(\d*)(\D*)(.*)/.exec(h)||["","","",""];i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""];if(0==h[0].length&&0==i[0].length)break;c=pa(0==h[1].length?0:parseInt(h[1],10),0==i[1].length?0:parseInt(i[1],10))||pa(0==h[2].length,0==i[2].length)||pa(h[2],i[2]);h=h[3];i=i[3]}while(0==c)}return 0<=c})};D=l.document;B=D&&A?B()||("CSS1Compat"==D.compatMode?parseInt(Xa,10):5):void 0;var Za=function(b,c,d,e,f){this.reset(b,c,d,e,f)};Za.prototype.Mb=null;var $a=0;Za.prototype.reset=function(b,c,d,e,f){"number"==typeof f||$a++,this.Tc=e||ia(),this.na=b,this.yc=c,this.vc=d,delete this.Mb};Za.prototype.hc=function(b){this.na=b};var ab=function(b){this.zc=b,this.Ra=this.Hb=this.na=this.F=null};D=function(b,c){this.name=b,this.value=c};D.prototype.toString=function(){return this.name};var bb=new D("SHOUT",1200),cb=new D("SEVERE",1e3),db=new D("WARNING",900),eb=new D("INFO",800),fb=new D("CONFIG",700),gb=new D("FINE",500),E=new D("FINER",400),hb=[new D("OFF",Infinity),bb,cb,db,eb,fb,gb,E,new D("FINEST",300),new D("ALL",0)],ib=null,jb=function(b){if(!ib){ib={};for(var c=0,d;d=hb[c];c++)ib[d.value]=d,ib[d.name]=d}if(b in ib)return ib[b];for(c=0;c<hb.length;++c)if(d=hb[c],d.value<=b)return d;return null};ab.prototype.getName=function(){return this.zc};ab.prototype.getParent=function(){return this.F};ab.prototype.oc=function(){this.Hb||(this.Hb={});return this.Hb};ab.prototype.hc=function(b){this.na=b};var kb=function(b){if(b.na)return b.na;if(b.F)return kb(b.F);sa("Root logger has no level set.");return null};ab.prototype.log=function(b,c,d){if(b.value>=kb(this).value)for(r(c)&&(c=c()),b=new Za(b,String(c),this.zc),d&&(b.Mb=d),d="log:"+b.yc,l.console&&(l.console.timeStamp?l.console.timeStamp(d):l.console.markTimeline&&l.console.markTimeline(d)),l.msWriteProfilerMark&&l.msWriteProfilerMark(d),d=this;d;){var e=d,f=b;if(e.Ra)for(var g=0;c=e.Ra[g];g++)c(f);d=d.getParent()}};ab.prototype.info=function(b,c){this.log(eb,b,c)};var lb={},mb=null,nb=function(){mb||(mb=new ab(""),lb[""]=mb,mb.hc(fb))},F=function(b){nb();var c;if(!(c=lb[b])){c=new ab(b);var d=b.lastIndexOf("."),e=b.substr(d+1),d=F(b.substr(0,d));d.oc()[e]=c;c.F=d;lb[b]=c}return c},G=function(b,c,d){b&&b.log(c,d,void 0)},H=function(b,c){b&&b.log(cb,c,void 0)},ob=function(b,c){b&&b.log(db,c,void 0)},I=function(b,c){b&&b.info(c,void 0)},pb=function(b,c){b&&b.log(gb,c,void 0)},J=function(){this.Ma=this.Ma,this.qa=this.qa};J.prototype.Ma=!1;J.prototype.Z=function(){this.Ma||(this.Ma=!0,this.m())};var qb=function(b,c){b.Ma?m(void 0)?c.call(void 0):c():(b.qa||(b.qa=[]),b.qa.push(m(void 0)?s(c,void 0):c))};J.prototype.m=function(){if(this.qa)for(;this.qa.length;)this.qa.shift()()};var rb=function(b){b&&"function"==typeof b.Z&&b.Z()},K=function(b,c){this.type=b,this.currentTarget=this.target=c,this.defaultPrevented=this.ta=!1,this.Jc=!0};K.prototype.stopPropagation=function(){this.ta=!0};K.prototype.preventDefault=function(){this.defaultPrevented=!0,this.Jc=!1};var sb=!A||9<=Number(B),tb=A&&!C("9");Wa&&C("528");Va&&C("1.9b")||A&&C("8")||Ta&&C("9.5")||Wa&&C("528");Va&&!C("8")||A&&C("9");var ub=function(b,c){K.call(this,b?b.type:"");this.relatedTarget=this.currentTarget=this.target=null;this.charCode=this.keyCode=this.button=this.screenY=this.screenX=this.clientY=this.clientX=this.offsetY=this.offsetX=0;this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1;this.Da=this.state=null;if(b){var d=this.type=b.type,e=b.changedTouches?b.changedTouches[0]:null;this.target=b.target||b.srcElement;this.currentTarget=c;if(c=b.relatedTarget){if(Va){var f;a:{try{Ra(c.nodeName);break a}catch(b){}f=!1}f||(c=null)}}else"mouseover"==d?c=b.fromElement:"mouseout"==d&&(c=b.toElement);this.relatedTarget=c;null===e?(this.offsetX=Wa||void 0!==b.offsetX?b.offsetX:b.layerX,this.offsetY=Wa||void 0!==b.offsetY?b.offsetY:b.layerY,this.clientX=void 0!==b.clientX?b.clientX:b.pageX,this.clientY=void 0!==b.clientY?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0);this.button=b.button;this.keyCode=b.keyCode||0;this.charCode=b.charCode||("keypress"==d?b.keyCode:0);this.ctrlKey=b.ctrlKey;this.altKey=b.altKey;this.shiftKey=b.shiftKey;this.metaKey=b.metaKey;this.state=b.state;this.Da=b;b.defaultPrevented&&this.preventDefault()}};u(ub,K);ub.prototype.stopPropagation=function(){ub.ab.stopPropagation.call(this),this.Da.stopPropagation?this.Da.stopPropagation():this.Da.cancelBubble=!0};ub.prototype.preventDefault=function(){ub.ab.preventDefault.call(this);var b=this.Da;if(b.preventDefault)b.preventDefault();else if(b.returnValue=!1,tb)try{(b.ctrlKey||112<=b.keyCode&&123>=b.keyCode)&&(b.keyCode=-1)}catch(b){}};var vb="closure_listenable_"+(1e6*Math.random()|0),wb=0,xb=function(b,c,d,e,f){this.listener=b,this.wb=null,this.src=c,this.type=d,this.capture=!!e,this.mb=f,this.key=++wb,this.La=this.hb=!1},yb=function(b){b.La=!0,b.listener=null,b.wb=null,b.src=null,b.mb=null},zb=function(b){this.src=b,this.v={},this.bb=0};zb.prototype.add=function(b,c,d,e,f){var g=b.toString();b=this.v[g];b||(b=this.v[g]=[],this.bb++);var h=Bb(b,c,e,f);-1<h?(c=b[h],d||(c.hb=!1)):(c=new xb(c,this.src,g,!!e,f),c.hb=d,b.push(c));return c};zb.prototype.remove=function(b,c,d,e){b=b.toString();if(!(b in this.v))return!1;var f=this.v[b];c=Bb(f,c,d,e);return-1<c?(yb(f[c]),Aa(f,c),0==f.length&&(delete this.v[b],this.bb--),!0):!1};var Ab=function(b,c){var d=c.type;d in b.v&&za(b.v[d],c)&&(yb(c),0==b.v[d].length&&(delete b.v[d],b.bb--))};zb.prototype.fc=function(b){b=b&&b.toString();var c=0,d;for(d in this.v)if(!b||d==b){for(var e=this.v[d],f=0;f<e.length;f++)++c,yb(e[f]);delete this.v[d];this.bb--}return c};zb.prototype.Pa=function(b,c,d,e){b=this.v[b.toString()];var f=-1;b&&(f=Bb(b,c,d,e));return-1<f?b[f]:null};zb.prototype.hasListener=function(b,c){var d=m(b),e=d?b.toString():"",f=m(c);return Fa(this.v,function(b){for(var g=0;g<b.length;++g)if(!(d&&b[g].type!=e||f&&b[g].capture!=c))return!0;return!1})};var Bb=function(b,c,d,e){for(var f=0;f<b.length;++f){var g=b[f];if(!g.La&&g.listener==c&&g.capture==!!d&&g.mb==e)return f}return-1},Cb="closure_lm_"+(1e6*Math.random()|0),Db={},Eb=0,L=function(b,c,d,e,f){if("array"==ca(c)){for(var g=0;g<c.length;g++)L(b,c[g],d,e,f);return null}d=Nb(d);if(b&&b[vb])b=b.Ia(c,d,e,f);else{if(!c)throw Error("Invalid event type");var g=!!e,h=Lb(b);h||(b[Cb]=h=new zb(b));d=h.add(c,d,!1,e,f);if(!d.wb){e=Fb();d.wb=e;e.src=b;e.listener=d;if(b.addEventListener)b.addEventListener(c.toString(),e,g);else if(b.attachEvent)b.attachEvent(Hb(c.toString()),e);else throw Error("addEventListener and attachEvent are unavailable.");Eb++}b=d}return b},Fb=function(){var b=Kb,c=sb?function(d){return b.call(c.src,c.listener,d)}:function(d){d=b.call(c.src,c.listener,d);if(!d)return d};return c},M=function(b,c,d,e,f){if("array"==ca(c))for(var g=0;g<c.length;g++)M(b,c[g],d,e,f);else d=Nb(d),b&&b[vb]?b.ic(c,d,e,f):b&&(b=Lb(b))&&(c=b.Pa(c,d,!!e,f))&&Gb(c)},Gb=function(b){if(!q(b)&&b&&!b.La){var c=b.src;if(c&&c[vb])Ab(c.L,b);else{var d=b.type,e=b.wb;c.removeEventListener?c.removeEventListener(d,e,b.capture):c.detachEvent&&c.detachEvent(Hb(d),e);Eb--;(d=Lb(c))?(Ab(d,b),0==d.bb&&(d.src=null,c[Cb]=null)):yb(b)}}},Hb=function(b){return b in Db?Db[b]:Db[b]="on"+b},Ib=function(b,c,d,e){var f=!0;if((b=Lb(b))&&(c=b.v[c.toString()]))for(c=c.concat(),b=0;b<c.length;b++){var g=c[b];g&&g.capture==d&&!g.La&&(g=Jb(g,e),f=f&&!1!==g)}return f},Jb=function(b,c){var d=b.listener,e=b.mb||b.src;b.hb&&Gb(b);return d.call(e,c)},Kb=function(b,c){if(b.La)return!0;if(!sb){if(!c)a:{c=["window","event"];for(var d=l,e;e=c.shift();)if(null!=d[e])d=d[e];else{c=null;break a}c=d}e=c;c=new ub(e,this);d=!0;if(!(0>e.keyCode||void 0!=e.returnValue)){a:{var f=!1;if(0==e.keyCode)try{e.keyCode=-1;break a}catch(b){f=!0}(f||void 0==e.returnValue)&&(e.returnValue=!0)}e=[];for(f=c.currentTarget;f;f=f.parentNode)e.push(f);b=b.type;for(f=e.length-1;!c.ta&&0<=f;f--){c.currentTarget=e[f];var g=Ib(e[f],b,!0,c),d=d&&g}for(f=0;!c.ta&&f<e.length;f++)c.currentTarget=e[f],g=Ib(e[f],b,!1,c),d=d&&g}return d}return Jb(b,new ub(c,this))},Lb=function(b){b=b[Cb];return b instanceof zb?b:null},Mb="__closure_events_fn_"+(1e9*Math.random()>>>0),Nb=function(b){w(b,"Listener can not be null.");if(r(b))return b;w(b.handleEvent,"An object listener must have handleEvent method.");b[Mb]||(b[Mb]=function(c){return b.handleEvent(c)});return b[Mb]},N=function(){J.call(this),this.L=new zb(this),this.Wc=this,this.ec=null};u(N,J);N.prototype[vb]=!0;x=N.prototype;x.addEventListener=function(b,c,d,e){L(this,b,c,d,e)};x.removeEventListener=function(b,c,d,e){M(this,b,c,d,e)};x.dispatchEvent=function(b){Pb(this);var c,d=this.ec;if(d){c=[];for(var e=1;d;d=d.ec)c.push(d),w(1e3>++e,"infinite loop")}d=this.Wc;e=b.type||b;if(p(b))b=new K(b,d);else if(b instanceof K)b.target=b.target||d;else{var f=b;b=new K(e,d);Ka(b,f)}var f=!0,g;if(c)for(var h=c.length-1;!b.ta&&0<=h;h--)g=b.currentTarget=c[h],f=Ob(g,e,!0,b)&&f;b.ta||(g=b.currentTarget=d,f=Ob(g,e,!0,b)&&f,b.ta||(f=Ob(g,e,!1,b)&&f));if(c)for(h=0;!b.ta&&h<c.length;h++)g=b.currentTarget=c[h],f=Ob(g,e,!1,b)&&f;return f};x.m=function(){N.ab.m.call(this),this.L&&this.L.fc(void 0),this.ec=null};x.Ia=function(b,c,d,e){Pb(this);return this.L.add(String(b),c,!1,d,e)};x.ic=function(b,c,d,e){return this.L.remove(String(b),c,d,e)};var Ob=function(b,c,d,e){c=b.L.v[String(c)];if(!c)return!0;c=c.concat();for(var f=!0,g=0;g<c.length;++g){var h=c[g];if(h&&!h.La&&h.capture==d){var i=h.listener,j=h.mb||h.src;h.hb&&Ab(b.L,h);f=!1!==i.call(j,e)&&f}}return f&&0!=e.Jc};N.prototype.Pa=function(b,c,d,e){return this.L.Pa(String(b),c,d,e)};N.prototype.hasListener=function(b,c){return this.L.hasListener(m(b)?String(b):void 0,c)};var Pb=function(b){w(b.L,"Event target is not initialized. Did you call the superclass (goog.events.EventTarget) constructor?")},O=function(b,c){N.call(this),this.xa=c,this.Sb=!0,this.Ca=b,this.onClose=this.onMessage=null,this.Ca.Ia(this.xa,this.Ya,!1,this)};c(O,N);t("cast.receiver.CastChannel",O);O.prototype.T=function(){return"CastChannel["+this.xa+" "+this.Ca.ia()+"]"};O.prototype.ia=function(){return this.Ca.ia()};O.prototype.getNamespace=O.prototype.ia;O.prototype.Kd=function(){return this.xa};O.prototype.getSenderId=O.prototype.Kd;O.prototype.Ya=function(b){G(Rb,E,"Dispatching CastChannel message ["+this.Ca.ia()+", "+this.xa+"]: "+b.data),b=new Qb("message",b.data),this.onMessage&&this.onMessage(b),this.dispatchEvent(b)};O.prototype.close=function(){if(this.Sb){this.Sb=!1;I(Rb,"Closing CastChannel ["+this.Ca.ia()+", "+this.xa+"]");var b=new Qb("close",this.xa);this.onClose&&this.onClose(b);this.dispatchEvent(b);this.Z()}};O.prototype.send=function(b){if(!this.Sb)throw Error("Invalid state, socket not open");this.Ca.send(this.xa,b)};O.prototype.send=O.prototype.send;O.prototype.m=function(){N.prototype.m.call(this),G(Rb,E,"Disposed "+this.T())};O.prototype.addEventListener=function(b,c,d,e){L(this,b,c,d,e)};O.prototype.addEventListener=O.prototype.addEventListener;O.prototype.removeEventListener=function(b,c,d,e){M(this,b,c,d,e)};O.prototype.removeEventListener=O.prototype.removeEventListener;O.prototype.dispatchEvent=function(b){return N.prototype.dispatchEvent.call(this,b)};O.prototype.dispatchEvent=O.prototype.dispatchEvent;O.EventType={MESSAGE:"message",CLOSE:"close"};var Qb=function(b,c){K.call(this,b),this.message=c};c(Qb,K);O.Event=Qb;var Rb=F("cast.receiver.CastChannel");D=function(b,c,d){this.Rd=d,this.$c=b,this.ce=c,this.ub=0,this.nb=null};D.prototype.get=function(){var b;0<this.ub?(this.ub--,b=this.nb,this.nb=b.next,b.next=null):b=this.$c();return b};D.prototype.put=function(b){this.ce(b),this.ub<this.Rd&&(this.ub++,b.next=this.nb,this.nb=b)};var Sb=function(b){l.setTimeout(function(){throw b},0)},Tb,Ub=function(){var b=l.MessageChannel;"undefined"===typeof b&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&!y("Presto")&&(b=function(){var b=document.createElement("IFRAME");b.style.display="none";b.src="";document.documentElement.appendChild(b);var c=b.contentWindow,b=c.document;b.open();b.write("");b.close();var d="callImmediate"+Math.random(),e="file:"==c.location.protocol?"*":c.location.protocol+"//"+c.location.host,b=s(function(b){("*"==e||b.origin==e)&&b.data==d&&this.port1.onmessage()},this);c.addEventListener("message",b,!1);this.port1={};this.port2={postMessage:function(){c.postMessage(d,e)}}});if("undefined"!==typeof b&&!y("Trident")&&!y("MSIE")){var c=new b,d={},e=d;c.port1.onmessage=function(){if(m(d.next)){d=d.next;var b=d.lc;d.lc=null;b()}};return function(b){e.next={lc:b},e=e.next,c.port2.postMessage(0)}}return"undefined"!==typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(b){var c=document.createElement("SCRIPT");c.onreadystatechange=function(){c.onreadystatechange=null,c.parentNode.removeChild(c),c=null,b(),b=null};document.documentElement.appendChild(c)}:function(b){l.setTimeout(b,0)}},P=function(){this.Db=this.Aa=null},Vb=new D(function(){return new Wb},function(b){b.reset()},100);P.prototype.add=function(b,c){var d=Vb.get();d.set(b,c);this.Db?this.Db.next=d:(w(!this.Aa),this.Aa=d);this.Db=d};P.prototype.remove=function(){var b=null;this.Aa&&(b=this.Aa,this.Aa=this.Aa.next,this.Aa||(this.Db=null),b.next=null);return b};var Wb=function(){this.next=this.scope=this.Ob=null};Wb.prototype.set=function(b,c){this.Ob=b,this.scope=c,this.next=null};Wb.prototype.reset=function(){this.next=this.scope=this.Ob=null};var Xb=function(b,c){Yb||Zb(),$b||(Yb(),$b=!0),ac.add(b,c)},Yb,Zb=function(){var b=l.Promise;if(-1!=String(b).indexOf("[native code]")){var c=b.resolve(void 0);Yb=function(){c.then(bc)}}else Yb=function(){var b=bc;!r(l.setImmediate)||l.Window&&l.Window.prototype&&!y("Edge")&&l.Window.prototype.setImmediate==l.setImmediate?(Tb||(Tb=Ub()),Tb(b)):l.setImmediate(b)}},$b=!1,ac=new P,bc=function(){for(var b;b=ac.remove();){try{b.Ob.call(b.scope)}catch(b){Sb(b)}Vb.put(b)}$b=!1},Q=function(b,c){this.B=0;this.Hc=void 0;this.Ba=this.S=this.F=null;this.lb=this.Nb=!1;if(b!=n)try{var d=this;b.call(c,function(b){kc(d,2,b)},function(b){if(!(b instanceof sc))try{if(b instanceof Error)throw b;throw Error("Promise rejected.")}catch(b){}kc(d,3,b)})}catch(b){kc(this,3,b)}},cc=function(){this.next=this.context=this.Ja=this.ra=this.fa=null,this.gb=!1};cc.prototype.reset=function(){this.context=this.Ja=this.ra=this.fa=null,this.gb=!1};var dc=new D(function(){return new cc},function(b){b.reset()},100),ec=function(b,c,d){var e=dc.get();e.ra=b;e.Ja=c;e.context=d;return e},fc=function(b){if(b instanceof Q)return b;var c=new Q(n);kc(c,2,b);return c},gc=function(){var b,c,d=new Q(function(d,e){b=d,c=e});return new tc(d,b,c)};Q.prototype.then=function(b,c,d){null!=b&&ua(b,"opt_onFulfilled should be a function.");null!=c&&ua(c,"opt_onRejected should be a function. Did you pass opt_context as the second argument instead of the third?");return jc(this,r(b)?b:null,r(c)?c:null,d)};Q.prototype.then=Q.prototype.then;Q.prototype.$goog_Thenable=!0;Q.prototype.cancel=function(b){0==this.B&&Xb(function(){var c=new sc(b);hc(this,c)},this)};var hc=function(b,c){if(0==b.B)if(b.F){var d=b.F;if(d.S){for(var e=0,f=null,g=null,h=d.S;h&&(h.gb||(e++,h.fa==b&&(f=h),!(f&&1<e)));h=h.next)f||(g=h);f&&(0==d.B&&1==e?hc(d,c):(g?(e=g,w(d.S),w(null!=e),e.next==d.Ba&&(d.Ba=e),e.next=e.next.next):nc(d),oc(d,f,3,c)))}b.F=null}else kc(b,3,c)},ic=function(b,c){b.S||2!=b.B&&3!=b.B||mc(b),w(null!=c.ra),b.Ba?b.Ba.next=c:b.S=c,b.Ba=c},jc=function(b,c,d,e){var f=ec(null,null,null);f.fa=new Q(function(b,g){f.ra=c?function(d){try{d=c.call(e,d);b(d)}catch(b){g(b)}}:b,f.Ja=d?function(c){try{var f=d.call(e,c);!m(f)&&c instanceof sc?g(c):b(f)}catch(b){g(b)}}:g});f.fa.F=b;ic(b,f);return f.fa};Q.prototype.qe=function(b){w(1==this.B),this.B=0,kc(this,2,b)};Q.prototype.re=function(b){w(1==this.B),this.B=0,kc(this,3,b)};var kc=function(b,c,d){if(0==b.B){b===d&&(c=3,d=new TypeError("Promise cannot resolve to itself"));b.B=1;var e;a:{var f=d,g=b.qe,h=b.re;if(f instanceof Q)null!=g&&ua(g,"opt_onFulfilled should be a function."),null!=h&&ua(h,"opt_onRejected should be a function. Did you pass opt_context as the second argument instead of the third?"),ic(f,ec(g||n,h||null,b)),e=!0;else{var i;if(f)try{i=!!f.$goog_Thenable}catch(b){i=!1}else i=!1;if(i)f.then(g,h,b),e=!0;else{if(ea(f))try{i=f.then;if(r(i)){lc(f,i,g,h,b);break a}}catch(c){h.call(b,c);break a}e=!1}}}e||(b.Hc=d,b.B=c,b.F=null,mc(b),3!=c||d instanceof sc||qc(b,d))}},lc=function(b,c,d,e,f){var g=!1,h=function(b){g||(g=!0,d.call(f,b))},i=function(b){g||(g=!0,e.call(f,b))};try{c.call(b,h,i)}catch(b){i(b)}},mc=function(b){b.Nb||(b.Nb=!0,Xb(b.yd,b))},nc=function(b){var c=null;b.S&&(c=b.S,b.S=c.next,c.next=null);b.S||(b.Ba=null);null!=c&&w(null!=c.ra);return c};Q.prototype.yd=function(){for(var b;b=nc(this);)oc(this,b,this.B,this.Hc);this.Nb=!1};var oc=function(b,c,d,e){if(3==d&&c.Ja&&!c.gb)for(;b&&b.lb;b=b.F)b.lb=!1;if(c.fa)c.fa.F=null,pc(c,d,e);else try{c.gb?c.ra.call(c.context):pc(c,d,e)}catch(b){rc.call(null,b)}dc.put(c)},pc=function(b,c,d){2==c?b.ra.call(b.context,d):b.Ja&&b.Ja.call(b.context,d)},qc=function(b,c){b.lb=!0,Xb(function(){b.lb&&rc.call(null,c)})},rc=Sb,sc=function(b){ka.call(this,b)};u(sc,ka);sc.prototype.name="cancel";var tc=function(b,c,d){this.Zd=b,this.resolve=c,this.reject=d},uc=function(b,c,d){if(r(b))d&&(b=s(b,d));else if(b&&"function"==typeof b.handleEvent)b=s(b.handleEvent,b);else throw Error("Invalid listener argument");return 2147483647<Number(c)?-1:l.setTimeout(b,c||0)},vc=function(b,c){N.call(this),this.Yc=m(b)?b:!0,this.Pb=c||wc,this.tb=this.Pb(this.Za)};u(vc,N);x=vc.prototype;x.C=null;x.W=null;x.Ka=void 0;x.Ib=!1;x.Za=0;x.ua=null;P=vc.prototype;D=F("goog.net.WebSocket");P.D=D;var wc=function(b){return Math.min(1e3*Math.pow(2,b),6e4)};x=vc.prototype;x.open=function(b,c){w(l.WebSocket,"This browser does not support WebSocket"),w(!this.Ga(),"The WebSocket is already open"),null!=this.ua&&l.clearTimeout(this.ua),this.ua=null,this.W=b,(this.Ka=c)?(I(this.D,"Opening the WebSocket on "+this.W+" with protocol "+this.Ka),this.C=new WebSocket(this.W,this.Ka)):(I(this.D,"Opening the WebSocket on "+this.W),this.C=new WebSocket(this.W)),this.C.onopen=s(this.Ud,this),this.C.onclose=s(this.Td,this),this.C.onmessage=s(this.J,this),this.C.onerror=s(this.Yb,this)};x.close=function(){null!=this.ua&&l.clearTimeout(this.ua),this.ua=null,this.C&&(I(this.D,"Closing the WebSocket."),this.Ib=!0,this.C.close(),this.C=null)};x.send=function(b){w(this.Ga(),"Cannot send without an open socket"),this.C.send(b)};x.Ga=function(){return!!this.C&&1==this.C.readyState};x.Ud=function(){I(this.D,"WebSocket opened on "+this.W),this.dispatchEvent("d"),this.Za=0,this.tb=this.Pb(this.Za)};x.Td=function(b){I(this.D,"The WebSocket on "+this.W+" closed."),this.dispatchEvent("a"),this.C=null,this.Ib?(I(this.D,"The WebSocket closed normally."),this.W=null,this.Ka=void 0):(H(this.D,"The WebSocket disconnected unexpectedly: "+b.data),this.Yc&&(I(this.D,"Seconds until next reconnect attempt: "+Math.floor(this.tb/1e3)),this.ua=uc(s(this.open,this,this.W,this.Ka),this.tb,this),this.Za++,this.tb=this.Pb(this.Za))),this.Ib=!1};x.J=function(b){this.dispatchEvent(new xc(b.data))};x.Yb=function(b){b=b.data,H(this.D,"An error occurred: "+b),this.dispatchEvent(new yc(b))};x.m=function(){vc.ab.m.call(this),this.close()};var xc=function(b){K.call(this,"c"),this.message=b};u(xc,K);var yc=function(b){K.call(this,"b"),this.data=b};u(yc,K);t("cast.receiver.platform.PlatformValueKey",{xe:"port-for-web-server",ue:"log-level-cast-receiver",ve:"max-video-resolution-vpx",te:"device-model",se:"cast-receiver-version",ye:"system-version",ze:"volume-controllable"});var zc={"port-for-web-server":"8008"};t("cast.receiver.platform.canDisplayType",function(b){return v.__platform__.canDisplayType(b)});v.__platform__&&v.__platform__.canDisplayType||delete window.cast.receiver.platform.canDisplayType;t("cast.receiver.platform.VideoResolution",function(){});var Ac=function(b){if(v.__platform__&&v.__platform__.queryPlatformValue)return v.__platform__.queryPlatformValue(b);if(b in zc)return zc[b]};t("cast.receiver.platform.getValue",Ac);t("cast.receiver.platform.getHdcpVersion",function(){return v.__platform__&&v.__platform__.display&&v.__platform__.display.getHdcpVersion?v.__platform__.display.getHdcpVersion():Promise.reject(Error("getHdcpVersion is not available"))});var Bc=function(){N.call(this),this.ca=!1};c(Bc,N);x=Bc.prototype;x.ha=function(){return"PlatformChannel"};x.open=function(){this.ca?H(Cc,this.ha()+" Already open"):v.__platform__.channel.open(s(this.bc,this),s(this.J,this))};x.close=function(){this.ca?v.__platform__.channel.close(s(this.Wb,this)):H(Cc,this.ha()+" Cannot close unopened channel")};x.Ga=function(){return this.ca};x.send=function(b){w(this.ca,"Cannot send until channel is openned"),v.__platform__.channel.send(b)};x.bc=function(b){this.ca=b,this.dispatchEvent(b?"d":"b")};x.Wb=function(){this.ca&&(this.ca=!1,this.dispatchEvent("a"))};x.J=function(b){this.dispatchEvent(new xc(b))};x.m=function(){N.prototype.m.call(this),this.ca&&this.close(),G(Cc,E,"Disposed "+this.ha())};var Cc=F("cast.receiver.platform.WebSocket");t("cast.receiver.system.NAMESPACE_PREFIX","urn:x-cast:");t("cast.receiver.system.ApplicationData",function(){this.name=this.id="",this.sessionId=0,this.namespaces=[],this.launchingSenderId=""});t("cast.receiver.system.SystemVolumeData",function(){this.level=1,this.muted=!1});t("cast.receiver.system.Sender",function(){this.userAgent=this.id=""});t("cast.receiver.system.VisibilityState",{VISIBLE:"visible",NOT_VISIBLE:"notvisible",UNKNOWN:"unknown"});t("cast.receiver.system.StandbyState",{STANDBY:"standby",NOT_STANDBY:"notstandby",UNKNOWN:"unknown"});t("cast.receiver.system.SystemState",{NOT_STARTED:"notstarted",STARTING_IN_BACKGROUND:"startinginbackground",STARTING:"starting",READY:"ready",STOPPING_IN_BACKGROUND:"stoppinginbackground",STOPPING:"stopping"});var Dc=function(){N.call(this),this.G=null,v.__platform__&&v.__platform__.channel?(I(R,"Opening platform websocket"),Ec(this,new Bc)):(I(R,"Opening net websocket"),Ec(this,new vc(!0)))};c(Dc,N);t("cast.receiver.IpcChannel",Dc);Dc.prototype.ha=function(){return"IpcChannel"};var Ec=function(b,c){b.G&&b.G.Z(),b.G=c,qb(b,ha(rb,b.G)),L(b.G,"d",b.bc,!1,b),L(b.G,"a",b.Wb,!1,b),L(b.G,"b",b.Yb,!1,b),L(b.G,"c",b.J,!1,b)},Fc=function(b,c){pb(R,b.ha()+" "+c),b.dispatchEvent(new Gc("urn:x-cast:com.google.cast.system","SystemSender",JSON.stringify({type:c})))};x=Dc.prototype;x.bc=function(){Fc(this,"opened")};x.Wb=function(){Fc(this,"closed")};x.Yb=function(){Fc(this,"error")};x.J=function(b){pb(R,"Received message: "+b.message);var c=(b=JSON.parse(b.message))&&b.namespace;b&&c&&b.senderId&&b.data?this.dispatchEvent(new Gc(c,b.senderId,b.data)):H(R,this.ha()+" Message received is invalid")};x.open=function(){I(R,"Opening message bus websocket"),this.G.open("ws://localhost:"+Ac("port-for-web-server")+"/v2/ipc")};x.close=function(){I(R,"Closing message bus websocket"),this.G.close()};x.Ga=function(){return this.G.Ga()};x.send=function(b,c,d){if(!this.Ga)throw Error("Underlying websocket is not open");b=JSON.stringify({namespace:b,senderId:c,data:d});pb(R,"IPC message sent: "+b);this.G.send(b)};x.m=function(){N.prototype.m.call(this),G(R,E,"Disposed "+this.ha())};var R=F("cast.receiver.IpcChannel"),Gc=function(b,c,d){K.call(this,b),this.senderId=c,this.data=d};c(Gc,K);var S=function(b,c,d,e){N.call(this);this.O=b;this.ka=c;this.Tb=!1;this.pa=e||"STRING";this.cc=this.onMessage=null;this.serializeMessage=this.xd;this.deserializeMessage=this.dd;this.w={};b=ba(d);for(c=b.next();!c.done;c=b.next())this.w[c.value]=null;this.ka.Ia(this.O,this.Ya,!1,this)};c(S,N);t("cast.receiver.CastMessageBus",S);S.prototype.T=function(){return"CastMessageBus["+this.O+"]"};S.prototype.ia=function(){return this.O};S.prototype.getNamespace=S.prototype.ia;S.prototype.Hd=function(){return this.pa};S.prototype.getMessageType=S.prototype.Hd;S.prototype.Ya=function(b){G(Hc,E,"Dispatching CastMessageBus message");var c="STRING"==this.pa?b.data:this.deserializeMessage(b.data);this.dispatchEvent(new Ic(b.senderId,b.senderId,c));b=new Ic("message",b.senderId,c);this.onMessage&&this.onMessage(b);this.dispatchEvent(b)};S.prototype.send=function(b,c){this.Tb||"urn:x-cast:com.google.cast.system"==this.O||ob(Hc,"Application should not send requests before the system is ready (they will be ignored)");if(!this.cc||!this.cc(b,this.O,c))if("STRING"==this.pa){if(!p(c))throw Error("Wrong argument, CastMessageBus type is STRING");this.ka.send(this.O,b,c)}else this.ka.send(this.O,b,this.serializeMessage(c))};S.prototype.send=S.prototype.send;S.prototype.kc=function(b){this.send("*:*",b)};S.prototype.broadcast=S.prototype.kc;S.prototype.Bd=function(b){if(Ha(this.w,b))return this.w[b]||(this.w[b]=new O(this,b)),this.w[b];throw Error("Requested a socket for a disconnected sender: "+b)};S.prototype.getCastChannel=S.prototype.Bd;S.prototype.xd=function(b){if("JSON"!=this.pa)throw Error("Unexpected message type for JSON serialization");return JSON.stringify(b)};S.prototype.dd=function(b){if("JSON"!=this.pa)throw Error("Unexpected message type for JSON serialization");return JSON.parse(b)};S.prototype.m=function(){N.prototype.m.call(this);for(var b in this.w)this.w[b]&&this.w[b].close();this.w={};G(Hc,E,"Disposed "+this.T())};S.prototype.addEventListener=function(b,c,d,e){L(this,b,c,d,e)};S.prototype.addEventListener=S.prototype.addEventListener;S.prototype.removeEventListener=function(b,c,d,e){M(this,b,c,d,e)};S.prototype.removeEventListener=S.prototype.removeEventListener;S.prototype.dispatchEvent=function(b){return N.prototype.dispatchEvent.call(this,b)};S.prototype.dispatchEvent=S.prototype.dispatchEvent;S.MessageType={STRING:"STRING",JSON:"JSON",CUSTOM:"CUSTOM"};S.EventType={MESSAGE:"message"};var Hc=F("cast.receiver.CastMessageBus"),Ic=function(b,c,d){K.call(this,b),this.senderId=c,this.data=d};c(Ic,K);S.Event=Ic;P=function(){this.Fc=ia()};var Jc=new P;P.prototype.set=function(b){this.Fc=b};P.prototype.reset=function(){this.set(ia())};P.prototype.get=function(){return this.Fc};var Kc=function(b){this.Yd=b||"",this.oe=Jc};x=Kc.prototype;x.jc=!0;x.Qc=!0;x.me=!0;x.le=!0;x.Rc=!1;x.ne=!1;var Lc=function(b){return 10>b?"0"+b:String(b)},Mc=function(b,c){b=(b.Tc-c)/1e3;c=b.toFixed(3);var d=0;if(1>b)d=2;else for(;100>b;)d++,b*=10;for(;0<d--;)c=" "+c;return c},Nc=function(b){Kc.call(this,b)};u(Nc,Kc);var Oc=function(){this.$d=s(this.Xc,this),this.kb=new Nc,this.kb.Qc=!1,this.kb.Rc=!1,this.uc=this.kb.jc=!1,this.zd={}};Oc.prototype.Xc=function(b){if(!this.zd[b.vc]){var c;c=this.kb;var d=[];d.push(c.Yd," ");if(c.Qc){var e=new Date(b.Tc);d.push("[",Lc(e.getFullYear()-2e3)+Lc(e.getMonth()+1)+Lc(e.getDate())+" "+Lc(e.getHours())+":"+Lc(e.getMinutes())+":"+Lc(e.getSeconds())+"."+Lc(Math.floor(e.getMilliseconds()/10)),"] ")}c.me&&d.push("[",Mc(b,c.oe.get()),"s] ");c.le&&d.push("[",b.vc,"] ");c.ne&&d.push("[",b.na.name,"] ");d.push(b.yc);c.Rc&&(e=b.Mb)&&d.push("\n",e instanceof Error?e.message:e.toString());c.jc&&d.push("\n");c=d.join("");if(d=Qc)switch(b.na){case bb:Rc(d,"info",c);break;case cb:Rc(d,"error",c);break;case db:Rc(d,"warn",c);break;default:Rc(d,"debug",c)}}};var Pc=null,Qc=l.console,Rc=function(b,c,d){b[c]?b[c](d):b.log(d)};t("cast.receiver.media.MEDIA_NAMESPACE","urn:x-cast:com.google.cast.media");t("cast.receiver.media.StreamType",{BUFFERED:"BUFFERED",LIVE:"LIVE",NONE:"NONE"});t("cast.receiver.media.HdrType",{SDR:"sdr",HDR:"hdr",DV:"dv"});t("cast.receiver.media.ErrorType",{INVALID_PLAYER_STATE:"INVALID_PLAYER_STATE",LOAD_FAILED:"LOAD_FAILED",LOAD_CANCELLED:"LOAD_CANCELLED",INVALID_REQUEST:"INVALID_REQUEST"});t("cast.receiver.media.ErrorReason",{INVALID_COMMAND:"INVALID_COMMAND",INVALID_PARAMS:"INVALID_PARAMS",INVALID_MEDIA_SESSION_ID:"INVALID_MEDIA_SESSION_ID",SKIP_LIMIT_REACHED:"SKIP_LIMIT_REACHED",NOT_SUPPORTED:"NOT_SUPPORTED",LANGUAGE_NOT_SUPPORTED:"LANGUAGE_NOT_SUPPORTED",END_OF_QUEUE:"END_OF_QUEUE",DUPLICATE_REQUEST_ID:"DUPLICATE_REQUEST_ID"});t("cast.receiver.media.IdleReason",{CANCELLED:"CANCELLED",INTERRUPTED:"INTERRUPTED",FINISHED:"FINISHED",ERROR:"ERROR"});t("cast.receiver.media.SeekResumeState",{PLAYBACK_START:"PLAYBACK_START",PLAYBACK_PAUSE:"PLAYBACK_PAUSE"});t("cast.receiver.media.PlayerState",{IDLE:"IDLE",PLAYING:"PLAYING",PAUSED:"PAUSED",BUFFERING:"BUFFERING"});t("cast.receiver.media.ExtendedPlayerState",{LOADING:"LOADING"});var Sc=function(){this.contentId="",this.streamType="NONE",this.contentType="",this.breakClips=this.breaks=this.customData=this.textTrackStyle=this.tracks=this.duration=this.metadata=void 0};t("cast.receiver.media.MediaInformation",Sc);var Tc=function(){this.muted=this.level=void 0};t("cast.receiver.media.Volume",Tc);var Uc=function(b,c,d){this.width=b,this.height=c,this.hdrType=d};t("cast.receiver.media.VideoInformation",Uc);t("cast.receiver.media.MediaStatus",function(){this.mediaSessionId=0,this.videoInfo=this.media=void 0,this.playbackRate=1,this.playerState="IDLE",this.idleReason=void 0,this.supportedMediaCommands=this.currentTime=0,this.volume={level:0,muted:!1},this.activeTrackIds=null,this.extendedStatus=this.breakStatus=this.repeatMode=this.items=this.customData=this.preloadedItemId=this.loadingItemId=this.currentItemId=void 0});var Vc=function(b,c){this.playerState=b,this.media=c};t("cast.receiver.media.ExtendedMediaStatus",Vc);t("cast.receiver.media.Command",{PAUSE:1,SEEK:2,STREAM_VOLUME:4,STREAM_MUTE:8,ALL_BASIC_MEDIA:15,QUEUE_NEXT:64,QUEUE_PREV:128,QUEUE_SHUFFLE:256});t("cast.receiver.media.TrackType",{TEXT:"TEXT",AUDIO:"AUDIO",VIDEO:"VIDEO"});t("cast.receiver.media.TextTrackType",{SUBTITLES:"SUBTITLES",CAPTIONS:"CAPTIONS",DESCRIPTIONS:"DESCRIPTIONS",CHAPTERS:"CHAPTERS",METADATA:"METADATA"});t("cast.receiver.media.TextTrackEdgeType",{NONE:"NONE",OUTLINE:"OUTLINE",DROP_SHADOW:"DROP_SHADOW",RAISED:"RAISED",DEPRESSED:"DEPRESSED"});t("cast.receiver.media.TextTrackWindowType",{NONE:"NONE",NORMAL:"NORMAL",ROUNDED_CORNERS:"ROUNDED_CORNERS"});t("cast.receiver.media.TextTrackFontGenericFamily",{SANS_SERIF:"SANS_SERIF",MONOSPACED_SANS_SERIF:"MONOSPACED_SANS_SERIF",SERIF:"SERIF",MONOSPACED_SERIF:"MONOSPACED_SERIF",CASUAL:"CASUAL",CURSIVE:"CURSIVE",SMALL_CAPITALS:"SMALL_CAPITALS"});t("cast.receiver.media.TextTrackFontStyle",{NORMAL:"NORMAL",BOLD:"BOLD",BOLD_ITALIC:"BOLD_ITALIC",ITALIC:"ITALIC"});t("cast.receiver.media.Track",function(b,c){this.trackId=b,this.trackContentType=this.trackContentId=void 0,this.type=c,this.customData=this.subtype=this.language=this.name=void 0});t("cast.receiver.media.TextTrackStyle",function(){this.customData=this.fontStyle=this.fontGenericFamily=this.fontFamily=this.windowRoundedCornerRadius=this.windowColor=this.windowType=this.edgeColor=this.edgeType=this.backgroundColor=this.foregroundColor=this.fontScale=void 0});t("cast.receiver.media.TracksInfo",function(){this.textTrackStyle=this.language=this.activeTrackIds=this.tracks=void 0});D={REPEAT_OFF:"REPEAT_OFF",REPEAT_ALL:"REPEAT_ALL",REPEAT_SINGLE:"REPEAT_SINGLE",REPEAT_ALL_AND_SHUFFLE:"REPEAT_ALL_AND_SHUFFLE"};t("cast.receiver.media.RepeatMode",D);t("cast.receiver.media.repeatMode",D);var Wc=function(b){return"REPEAT_OFF"==b||"REPEAT_ALL"==b||"REPEAT_SINGLE"==b||"REPEAT_ALL_AND_SHUFFLE"==b};t("cast.receiver.media.GetStatusOptions",{NO_METADATA:1,NO_QUEUE_ITEMS:2});t("cast.receiver.media.Break",function(b,c,d){this.id=b,this.breakClipIds=c,this.position=d,this.duration=void 0,this.isWatched=!1});t("cast.receiver.media.BreakClip",function(b){this.id=b,this.customData=this.clickThroughUrl=this.mimeType=this.contentUrl=this.duration=this.title=void 0});t("cast.receiver.media.BreakStatus",function(b,c){this.currentBreakTime=b,this.currentBreakClipTime=c,this.whenSkippable=this.breakClipId=this.breakId=void 0});var Xc=function(){this.Y=T.$();this.wc=0;this.fb=null;this.$a=new z;this.de=this.ee.bind(this);this.N=this.Y.Oa("urn:x-cast:com.google.cast.inject","JSON");this.N.onMessage=this.J.bind(this);for(var b=ba(["urn:x-cast:com.google.cast.cac","urn:x-cast:com.google.cast.media"]),c=b.next();!c.done;c=b.next())(c=this.Y.s[c.value]||null)&&(c.cc=this.de)};Xc.prototype.J=function(b){var c=b.data,d=c.requestId;b=b.senderId;if("WRAPPED"!=c.type)this.K("Unsupported message type "+c.type,b,d);else{var c=JSON.parse(c.data),e=c.namespace,f=this.Y.s[e]||null;if(f){var g=!1;if("urn:x-cast:com.google.cast.cac"==e)c.data.requestId=d,g=!0;else if("urn:x-cast:com.google.cast.media"==e){var h=c.data;h.requestId=d;h.mediaSessionId=this.wc}else{this.K("Unsupported namespace "+e,b,d);return}this.$a.set(d,b);try{this.fb=null;h=JSON.stringify(c.data);f.Ya(new Gc(e,"__inject__",h))}catch(e){throw this.$a.remove(d),this.K("Injecting "+c.data+" failed with "+e,b,d),e}g||(this.fb?this.K("Error "+JSON.stringify(this.fb),b,d,"WRAPPED_ERROR",this.fb):(this.$a.remove(d),Yc(this,b,d)))}else this.K("Unregistered namespace "+e,b,d,"WRAPPED_ERROR",{type:"ERROR",code:"UNREGISTERED_NAMESPACE"})}};Xc.prototype.ee=function(b,c,d){if("urn:x-cast:com.google.cast.media"==c&&"STRING"==(this.Y.s[c]||null).pa)try{d=JSON.parse(d)}catch(b){return H(Zc,"Parse failed: "+d),!1}var e=d.type;"urn:x-cast:com.google.cast.media"==c&&"MEDIA_STATUS"==e&&d.status&&d.status[0]&&(this.wc=d.status[0].mediaSessionId);if("__inject__"!=b)return!1;b=d.requestId;if(!m(b))return ob(Zc,"No requestId in "+d),!0;var f=this.$a.get(b);if(!f)return H(Zc,"Request not found "+b),!0;this.$a.remove(b);if("urn:x-cast:com.google.cast.media"==c){switch(e){case"INVALID_REQUEST":case"INVALID_PLAYER_STATE":c=d.reason,this.fb={type:"ERROR",code:c?c:e}}return!0}if("urn:x-cast:com.google.cast.cac"!=c)return H(Zc,"Unsupported namespace "+c),!0;e=d;switch(e.type){case"SUCCESS":Yc(this,f,b,Object.getOwnPropertyNames(d).some(function(b){return"type"!=b&&"requestId"!=b&&m(d[b])})?JSON.stringify(d):void 0);break;case"ERROR":this.K("Wrapped error",f,b,"WRAPPED_ERROR",e);break;default:this.K("Unknown message type "+d,f,b)}return!0};Xc.prototype.K=function(b,c,d,e,f){H(Zc,b),this.N.send(c,new bd(d,e||"INJECT_ERROR",m(f)?JSON.stringify(f):void 0))};var Yc=function(b,c,d,e){b.N.send(c,new ad(d,e))};o(Xc);var Zc=F("cast.receiver.InjectManager"),$c=function(b,c,d){this.type=b,this.requestId=c,this.data=d},ad=function(b,c){$c.call(this,"SUCCESS",b,c)};c(ad,$c);var bd=function(b,c,d){$c.call(this,"ERROR",b,d),this.code=c};c(bd,$c);var T=function(){N.call(this);Pc||(Pc=new Oc);if(Pc){var b=Pc;if(1!=b.uc){nb();var c=mb,d=b.$d;c.Ra||(c.Ra=[]);c.Ra.push(d);b.uc=!0}}this.A=Ia(qd);this.Xa=!1;this.ka=new Dc;this.P={};this.da=new S("urn:x-cast:com.google.cast.system",this.ka,Ga(this.P),"JSON");qb(this,ha(rb,this.da));this.nc=this.Eb=null;this.tc=!1;this.Ua=this.Va=null;this.xb=!0;this.Qd="1.11";this.ya="notstarted";this.Uc=null;this.s={};this.Zb=this.onMaxVideoResolutionChanged=this.onFeedbackStarted=this.onStandbyChanged=this.onVisibilityChanged=this.onSystemVolumeChanged=this.onSenderDisconnected=this.onSenderConnected=this.onShutdown=this.onReady=null;L(this.da,"SystemSender",this.Vd,!1,this);L(window,"unload",this.dc,!1,this);L(document,"visibilitychange",this.Bc,!1,this);G(U,bb,"Version: 2.0.0.0047");gd&&gd(this)};c(T,N);t("cast.receiver.CastReceiverManager",T);var cd=function(b){var c=b.toLocaleLowerCase();return["com.vizio.vue","com.vizio.smartcast"].some(function(b){return c.includes(b)})};T.prototype.T=function(){return"CastReceiverManager"};T.prototype.start=function(b){if(b){if(!b)throw Error("Cannot validate undefined config.");if(void 0!=b.maxInactivity&&5>b.maxInactivity)throw Error("config.maxInactivity must be greater than or equal to 5 seconds.");Ka(this.A,b||{})}Xc.$();this.tc=!0;this.ka.open()};T.prototype.start=T.prototype.start;T.prototype.stop=function(){this.Z(),window.close()};T.prototype.stop=T.prototype.stop;T.prototype.qb=function(){return"ready"==this.ya};T.prototype.isSystemReady=T.prototype.qb;T.prototype.getSenders=function(){return Ga(this.P)};T.prototype.getSenders=T.prototype.getSenders;T.prototype.Jd=function(b){return this.P[b]?Ia(this.P[b]):null};T.prototype.getSender=T.prototype.Jd;T.prototype.Nd=function(){return null==this.Va?this.Ua?"notvisible":"unknown":this.Va?"visible":"notvisible"};T.prototype.getVisibilityState=T.prototype.Nd;T.prototype.Ld=function(){return null==this.Ua?this.Va?"notstandby":"unknown":this.Ua?"standby":"notstandby"};T.prototype.getStandbyState=T.prototype.Ld;T.prototype.qc=function(){"notstarted"==this.ya&&(this.ya=/[&?]google_cast_bg=true(&|$)/.test(window.location.search)?"startinginbackground":"starting");return this.ya};T.prototype.getSystemState=T.prototype.qc;T.prototype.Ad=function(){return this.Eb};T.prototype.getApplicationData=T.prototype.Ad;T.prototype.Dd=function(){return this.nc};T.prototype.getDeviceCapabilities=T.prototype.Dd;T.prototype.fe=function(b){this.qb()?dd(this,b):this.A.statusText!=b&&(this.A.statusText=b,this.Xa=!0)};T.prototype.setApplicationState=T.prototype.fe;T.prototype.he=function(b,c){this.qb()?dd(this,b,c):(void 0!=b&&b!=this.A.statusText&&(this.A.statusText=b,this.Xa=!0),void 0!=c&&c!=this.A.dialData&&(this.A.dialData=c,this.Xa=!0))};T.prototype.setLegacyApplicationState=T.prototype.he;T.prototype.je=function(b){if(0>b||1<b)throw Error("Invalid level value");this.da.send("SystemSender",{type:"setvolume",level:b})};T.prototype.setSystemVolumeLevel=T.prototype.je;T.prototype.ke=function(b){this.da.send("SystemSender",{type:"setvolume",muted:b})};T.prototype.setSystemVolumeMuted=T.prototype.ke;T.prototype.Md=function(){return this.Uc};T.prototype.getSystemVolume=T.prototype.Md;var dd=function(b,c,d){var e={type:"setappstate"};void 0!=c&&(e.statusText=c);void 0!=d&&(e.dialData=d);b.da.send("SystemSender",e)};T.prototype.Nc=function(b){this.da.send("SystemSender",{type:"startheartbeat",maxInactivity:b})};T.prototype.setInactivityTimeout=T.prototype.Nc;T.prototype.Oa=function(b,c){if("urn:x-cast:com.google.cast.system"==b)throw Error("Protected namespace");if(0!=b.lastIndexOf("urn:x-cast:",0))throw Error("Invalid namespace prefix");if(!this.s[b]){if(this.tc)throw Error("New namespaces can not be requested after start has been called");this.s[b]=new S(b,this.ka,Ga(this.P),c);qb(this,ha(rb,this.s[b]))}if(c&&this.s[b].pa!=c)throw Error("Invalid messageType for the namespace");return this.s[b]};T.prototype.getCastMessageBus=T.prototype.Oa;T.prototype.Kc=function(b){this.da.send("SystemSender",{type:"sendfeedbackmessage",message:b})};T.prototype.sendFeedbackMessage=T.prototype.Kc;T.prototype.Vd=function(b){b=b.data;switch(b.type){case"opened":I(U,"Underlying message bus is open");var c=Ga(this.s),d=this.A.statusText;b=this.A.dialData;var e={type:"ready"};d&&(e.statusText=d);b&&(e.dialData=b);e.activeNamespaces=c;e.version="2.0.0";e.messagesVersion="1.0";this.da.send("SystemSender",e);this.A.maxInactivity&&this.Nc(this.A.maxInactivity);break;case"closed":this.dc();break;case"error":this.dispatchEvent("error");break;case"ready":c=b.launchingSenderId;d=Ga(this.s);this.Bb=b.version;this.xb=!fd(this,this.Qd);var f=b.deviceCapabilities;this.nc=f?Ia(f):{};this.Eb={id:b.applicationId,name:b.applicationName,sessionId:b.sessionId,namespaces:d,launchingSenderId:c};this.ya="ready";for(e in this.s)this.s[e].Tb=!0;this.Xa&&(this.Xa=!1,dd(this,this.A.statusText,this.A.dialData));I(U,"Dispatching CastReceiverManager system ready event");c=new md(this.Eb);this.onReady&&this.onReady(c);this.dispatchEvent(c);break;case"senderconnected":c={id:b.senderId,userAgent:b.userAgent};if(cd(c.id))I(U,"Ignored connection from "+c.id);else{I(U,"Dispatching CastReceiverManager sender connected event ["+c.id+"]");Ha(this.P,c.id)&&H(U,"Unexpected connected message for already connected sender: "+c.id);this.P[c.id]=c;b=new id(c.id,c.userAgent);for(d in this.s)e=this.s[d],f=c.id,Ha(e.w,f)?H(Hc,"Unexpected sender already registered ["+e.O+", "+f+"]"):(I(Hc,"Registering sender ["+e.O+", "+f+"]"),e.w[f]=null);this.onSenderConnected&&this.onSenderConnected(b);this.dispatchEvent(b)}break;case"senderdisconnected":d=b.senderId;b=b.reason;if(cd(d))I(U,"Ignored disconnection from "+d);else{switch(b){case"closed_by_peer":b="requested_by_sender";break;case"transport_invalid_message":b="error";break;default:b="unknown"}I(U,"Dispatching sender disconnected event ["+d+"] Reason: "+b);if(Ha(this.P,d)){e=this.P[d].userAgent;delete this.P[d];b=new hd(d,e,b);for(c in this.s)e=this.s[c],f=d,Ha(e.w,f)&&(I(Hc,"Unregistering sender ["+e.O+", "+f+"]"),e.w[f]&&e.w[f].close(),delete e.w[f]);this.onSenderDisconnected&&this.onSenderDisconnected(b);this.dispatchEvent(b)}else H(U,"Unknown sender disconnected: "+d)}break;case"volumechanged":this.Uc=c={level:b.level,muted:b.muted};I(U,"Dispatching system volume changed event ["+c.level+", "+c.muted+"]");c=new ld(c);this.onSystemVolumeChanged&&this.onSystemVolumeChanged(c);this.dispatchEvent(c);break;case"visibilitychanged":this.xb||(c=b.visible,ed(this,m(c)?c:null));break;case"standbychanged":!this.xb&&(c=b.standby,c=m(c)?c:null,c!=this.Ua)&&(I(U,"Dispatching standby changed event "+c),this.Ua=c,c=new kd(1==c),this.onStandbyChanged&&this.onStandbyChanged(c),this.dispatchEvent(c));break;case"maxvideoresolutionchanged":c=b.height;I(U,"Dispatching maxvideoresolutionchanged "+c);c=new pd(c);this.onMaxVideoResolutionChanged&&this.onMaxVideoResolutionChanged(c);this.dispatchEvent(c);break;case"hdroutputtypechanged":this.Zb&&this.Zb(b.hdrType);break;case"screenresolutionchanged":break;case"feedbackstarted":I(U,"Dispatching feedback started event");c=new od;this.onFeedbackStarted?this.onFeedbackStarted(c):this.Kc("");break;default:throw Error("Unexpected message type: "+b.type)}};var ed=function(b,c){c==b.Va?I(U,"Ignoring visibility changed event, state is already "+c):(I(U,"Dispatching visibility changed event "+c),b.Va=c,c=new jd(0!=c),b.onVisibilityChanged&&b.onVisibilityChanged(c),b.dispatchEvent(c))};T.prototype.Bc=function(){this.xb&&ed(this,"visible"==document.visibilityState)};T.prototype.dc=function(){I(U,"Dispatching shutdown event");this.qc();this.ya="startinginbackground"==this.ya?"stoppinginbackground":"stopping";for(var b in this.s)this.s[b].Tb=!1;b=new nd;this.onShutdown&&this.onShutdown(b);this.dispatchEvent(b)};var fd=function(b,c){if(!c)return H(U,"Version not provided"),!1;if(!b.Bb)return H(U,"No System Version"),!1;var d=c.split(".");if(!d.length)return H(U,"Version provided is not valid: "+c),!1;var e=b.Bb.split(".");if(!e.length)return H(U,"System Version format is not valid "+b.Bb),!1;for(var f=0;f<d.length;f++){var g=parseInt(d[f],10);if(isNaN(g))return H(U,"Version is not numeric: "+c),!1;var h=e.length>f?parseInt(e[f],10):0;if(isNaN(h))return H(U,"System Version is not numeric: "+b.Bb),!1;if(g>h)return!1}return!0};T.prototype.m=function(){N.prototype.m.call(this),window&&M(window,"unload",this.dc,!1,this),document&&M(document,"visibilitychange",this.Bc,!1,this),delete T.Qb,pb(U,"Disposed "+this.T())};T.prototype.addEventListener=function(b,c,d,e){L(this,b,c,d,e)};T.prototype.addEventListener=T.prototype.addEventListener;T.prototype.removeEventListener=function(b,c,d,e){M(this,b,c,d,e)};T.prototype.removeEventListener=T.prototype.removeEventListener;T.prototype.dispatchEvent=function(b){return N.prototype.dispatchEvent.call(this,b)};T.prototype.dispatchEvent=T.prototype.dispatchEvent;o(T);T.getInstance=T.$;var gd=null,U=F("cast.receiver.CastReceiverManager");T.EventType={READY:"ready",SHUTDOWN:"shutdown",SENDER_CONNECTED:"senderconnected",SENDER_DISCONNECTED:"senderdisconnected",ERROR:"error",SYSTEM_VOLUME_CHANGED:"systemvolumechanged",VISIBILITY_CHANGED:"visibilitychanged",STANDBY_CHANGED:"standbychanged",MAX_VIDEO_RESOLUTION_CHANGED:"maxvideoresolutionchanged",FEEDBACK_STARTED:"feedbackstarted"};var V=function(b,c){K.call(this,b),this.data=c};c(V,K);T.Event=V;t("cast.receiver.system.DisconnectReason",{REQUESTED_BY_SENDER:"requested_by_sender",ERROR:"error",UNKNOWN:"unknown"});var hd=function(b,c,d){V.call(this,"senderdisconnected",b),this.senderId=b,this.userAgent=c,this.reason=d};c(hd,V);T.SenderDisconnectedEvent=hd;var id=function(b,c){V.call(this,"senderconnected",b),this.senderId=b,this.userAgent=c};c(id,V);T.SenderConnectedEvent=id;var jd=function(b){V.call(this,"visibilitychanged",b),this.isVisible=b};c(jd,V);T.VisibilityChangedEvent=jd;var kd=function(b){V.call(this,"standbychanged",null),this.isStandby=b};c(kd,V);T.StandbyChangedEvent=kd;var ld=function(b){V.call(this,"systemvolumechanged",b),this.data=b};c(ld,V);T.SystemVolumeChangedEvent=ld;var md=function(b){V.call(this,"ready",b),this.data=b};c(md,V);T.ReadyEvent=md;var nd=function(){V.call(this,"shutdown",null)};c(nd,V);T.ShutdownEvent=nd;var od=function(){V.call(this,"feedbackstarted",null)};c(od,V);T.FeedbackStartedEvent=od;var pd=function(b){V.call(this,"maxvideoresolutionchanged",null),this.height=b};c(pd,V);T.MaxVideoResolutionChangedEvent=pd;T.Config=function(){this.dialData=this.maxInactivity=this.statusText=void 0};var qd={maxInactivity:10},rd=function(){this.Y=T.$(),this.N=this.Y.Oa("urn:x-cast:com.google.cast.broadcast","JSON"),this.N.onMessage=this.J.bind(this)};rd.prototype.J=function(b){if(this.Y.qb())ob(sd,"Ignoring broadcast request, system is ready.");else{b=b.data;var c=b.type;if("APPLICATION_BROADCAST"!=c)H(sd,"Ignoring message type: "+c);else if(c=b.namespace){var d=this.Y.s[c]||null;if(d)switch(c){case"urn:x-cast:com.google.cast.media":var e=JSON.parse(b.message);if("PRECACHE"!=e.type){H(sd,"Unsupported type for media namespace: "+e.type);break}d.Ya(new Gc(c,"__broadcast__",b.message));break;default:H(sd,"Unsupported namespace: "+b.namespace)}else H(sd,"Invalid message bus for namespace: "+c)}else H(sd,"Missing namespace: "+c)}};o(rd);var sd=F("cast.receiver.BroadcastManager");t("cast.receiver.BroadcastManager.NAMESPACE_PREFIX","urn:x-cast:");t("cast.receiver.BroadcastManager.BroadcastRequest",function(){});var td=function(){return!(!v.__platform__||!v.__platform__.metrics)};t("cast.receiver.analytics.logEvent",function(b){td()&&v.__platform__.metrics.logEventToUma(b)});t("cast.receiver.analytics.logBool",function(b,c){td()&&v.__platform__.metrics.logBoolToUma(b,c)});t("cast.receiver.analytics.logInt",function(b,c){td()&&v.__platform__.metrics.logIntToUma(b,c)});t("cast.receiver.analytics.logHistogramValue",function(b,c,d,e,f){td()&&v.__platform__.metrics.logHistogramValueToUma(b,c,d,e,f)});P=function(){this.onDisplayStatus=this.onUserAction=this.onLoadBySearch=this.onLoadByEntity=this.onSetCredentials=null,this.N=T.$().Oa("urn:x-cast:com.google.cast.cac","JSON"),this.N.onMessage=this.J.bind(this),this.zb=new z};t("cast.receiver.CommandAndControlManager",P);P.prototype.J=function(b){var c=b.data,d=c.type;b=b.senderId;var e;switch(d){case"SET_CREDENTIALS":e=this.onSetCredentials;break;case"LOAD_BY_ENTITY":e=this.onLoadByEntity;break;case"LOAD_BY_SEARCH":e=this.onLoadBySearch;break;case"USER_ACTION":e=this.onUserAction;break;case"DISPLAY_STATUS":e=this.onDisplayStatus;break;case"SUCCESS":case"ERROR":d=c.requestId;(b=this.zb.get(d))?(this.zb.remove(d),b.resolve(c)):ob(xd,"No matching request for response "+JSON.stringify(c));return;default:this.K("Unsupported event "+d,b,c,"INVALID_REQUEST");return}e?ud(this,b,c,e):this.K("Handler for "+d+" not implemented",b,c,"INVALID_COMMAND")};var ud=function(b,c,d,e){e=e(d),fc(e).then(function(e){b.N.send(c,wd(d,e))},function(e){b.K("Got a rejected promise "+JSON.stringify(e),c,d,"APP_ERROR")})},vd=function(b,c,d){H(xd,b);b=new zd(d);b.requestId=c.requestId;return b},wd=function(b,c){if(!c)return vd("No response data",b,"APP_ERROR");switch(c.type){case"SUCCESS":case"ERROR":return c.requestId=b.requestId,c}return vd("Invalid response data "+JSON.stringify(c),b,"APP_ERROR")};P.prototype.K=function(b,c,d,e){this.N.send(c,vd(b,d,e))};P.prototype.Wd=function(b,c){var d=ia();if(Qa(this.zb.I,d))return Promise.reject(Error("Duplicate request"));b=new yd(b,c);b.requestId=d;this.N.send("system-0",b);d=gc();this.zb.set(b.requestId,d);return Promise.resolve(d.Zd)};P.prototype.playString=P.prototype.Wd;o(P);P.getInstance=P.$;P.NAMESPACE="urn:x-cast:com.google.cast.cac";var xd=F("cast.receiver.CommandAndControlManager");P.MessageType={SET_CREDENTIALS:"SET_CREDENTIALS",LOAD_BY_ENTITY:"LOAD_BY_ENTITY",LOAD_BY_SEARCH:"LOAD_BY_SEARCH",USER_ACTION:"USER_ACTION",DISPLAY_STATUS:"DISPLAY_STATUS",PLAY_STRING:"PLAY_STRING",SUCCESS:"SUCCESS",ERROR:"ERROR"};P.PlayStringId={FREE_TRIAL_ABOUT_TO_EXPIRE:"FREE_TRIAL_ABOUT_TO_EXPIRE",SUBSCRIPTION_ABOUT_TO_EXPIRE:"SUBSCRIPTION_ABOUT_TO_EXPIRE",STREAM_HIJACKED:"STREAM_HIJACKED"};D=function(b){this.type=b};P.RequestData=D;o=function(){this.type="SET_CREDENTIALS"};c(o,D);P.SetCredentialsRequestData=o;o=function(){this.type="LOAD_BY_ENTITY"};c(o,D);P.LoadByEntityRequestData=o;o=function(){this.type="LOAD_BY_SEARCH"};c(o,D);P.LoadBySearchRequestData=o;var yd=function(b,c){this.type="PLAY_STRING",this.stringId=b,this.arguments=c};c(yd,D);P.PlayStringRequestData=yd;P.UserAction={LIKE:"LIKE",DISLIKE:"DISLIKE",FOLLOW:"FOLLOW",UNFOLLOW:"UNFOLLOW",FLAG:"FLAG",SKIP_AD:"SKIP_AD"};P.UserActionContext={UNKNOWN_CONTEXT:"UNKNOWN_CONTEXT",TRACK:"TRACK",ALBUM:"ALBUM",ARTIST:"ARTIST",PLAYLIST:"PLAYLIST",EPISODE:"EPISODE",SERIES:"SERIES",MOVIE:"MOVIE",CHANNEL:"CHANNEL",TEAM:"TEAM",PLAYER:"PLAYER",COACH:"COACH"};o=function(){this.type="USER_ACTION"};c(o,D);P.UserActionRequestData=o;o=function(){this.type="DISPLAY_STATUS"};c(o,D);P.DisplayStatusRequestData=o;P.ErrorCode={APP_ERROR:"APP_ERROR",NOT_SUPPORTED:"NOT_SUPPORTED",AUTHENTICATION_EXPIRED:"AUTHENTICATION_EXPIRED",PREMIUM_ACCOUNT_REQUIRED:"PREMIUM_ACCOUNT_REQUIRED",CONCURRENT_STREAM_LIMIT:"CONCURRENT_STREAM_LIMIT",PARENTAL_CONTROL_RESTRICTED:"PARENTAL_CONTROL_RESTRICTED",NOT_AVAILABLE_IN_REGION:"NOT_AVAILABLE_IN_REGION",CONTENT_ALREADY_PLAYING:"CONTENT_ALREADY_PLAYING",INVALID_COMMAND:"INVALID_COMMAND",INVALID_REQUEST:"INVALID_REQUEST"};o=function(b){this.type=b};c(o,D);P.ResponseData=o;D=function(b){this.type="SUCCESS",this.status=b};c(D,o);P.SuccessResponseData=D;var zd=function(b,c){this.type="ERROR",this.code=b,this.reason=c};c(zd,o);P.ErrorResponseData=zd;D=!(!v.__platform__||!v.__platform__.crypto);t("cast.receiver.cryptokeys.getKeyByName",v.__platform__&&v.__platform__.cryptokeys?v.__platform__.cryptokeys.getKeyByName:window.cryptokeys&&window.cryptokeys.getKeyByName);t("cast.receiver.crypto.decrypt",D?v.__platform__.crypto.decrypt:window.crypto.subtle.decrypt);t("cast.receiver.crypto.encrypt",D?v.__platform__.crypto.encrypt:window.crypto.subtle.encrypt);t("cast.receiver.crypto.sign",D?v.__platform__.crypto.sign:window.crypto.subtle.sign);t("cast.receiver.crypto.unwrapKey",D?v.__platform__.crypto.unwrapKey:window.crypto.subtle.unwrapKey);t("cast.receiver.crypto.verify",D?v.__platform__.crypto.verify:window.crypto.subtle.verify);t("cast.receiver.crypto.wrapKey",D?v.__platform__.crypto.wrapKey:window.crypto.subtle.wrapKey);var Ad=/#(.)(.)(.)(.)/,Bd=function(b){if(!Cd.test(b))throw Error("'"+b+"' is not a valid alpha hex color");5==b.length&&(b=b.replace(Ad,"#$1$1$2$2$3$3$4$4"));b=b.toLowerCase();return[parseInt(b.substr(1,2),16),parseInt(b.substr(3,2),16),parseInt(b.substr(5,2),16),parseInt(b.substr(7,2),16)/255]},Cd=/^#(?:[0-9a-f]{4}){1,2}$/i,Dd=function(b){var c=b.slice(0);c[3]=Math.round(1e3*b[3])/1e3;return"rgba("+c.join(",")+")"},Ed=!Va&&!A||A&&9<=Number(B)||Va&&C("1.9.1");A&&C("9");var Fd=function(b,c,d){function e(d){d&&c.appendChild(p(d)?b.createTextNode(d):d)}for(var f=1;f<d.length;f++){var g=d[f];if(!da(g)||ea(g)&&0<g.nodeType)e(g);else{var h;a:{if(g&&"number"==typeof g.length){if(ea(g)){h="function"==typeof g.item||"string"==typeof g.item;break a}if(r(g)){h="function"==typeof g.item;break a}}h=!1}xa(h?Ba(g):g,e)}}},Gd=function(b){this.jb=b||l.document||document};x=Gd.prototype;x.getElementsByTagName=function(b,c){return(c||this.jb).getElementsByTagName(String(b))};x.createElement=function(b){return this.jb.createElement(String(b))};x.createTextNode=function(b){return this.jb.createTextNode(String(b))};x.appendChild=function(b,c){b.appendChild(c)};x.append=function(b,c){var d=b;w(d,"Node cannot be null or undefined.");Fd(9==d.nodeType?d:d.ownerDocument||d.document,b,arguments)};x.canHaveChildren=function(b){if(1!=b.nodeType)return!1;switch(b.tagName){case"APPLET":case"AREA":case"BASE":case"BR":case"COL":case"COMMAND":case"EMBED":case"FRAME":case"HR":case"IMG":case"INPUT":case"IFRAME":case"ISINDEX":case"KEYGEN":case"LINK":case"NOFRAMES":case"NOSCRIPT":case"META":case"OBJECT":case"PARAM":case"SCRIPT":case"SOURCE":case"STYLE":case"TRACK":case"WBR":return!1}return!0};x.removeNode=function(b){return b&&b.parentNode?b.parentNode.removeChild(b):null};x.oc=function(b){return Ed&&void 0!=b.children?b.children:ya(b.childNodes,function(b){return 1==b.nodeType})};x.contains=function(b,c){if(!b||!c)return!1;if(b.contains&&1==c.nodeType)return b==c||b.contains(c);if("undefined"!=typeof b.compareDocumentPosition)return b==c||!!(b.compareDocumentPosition(c)&16);for(;c&&b!=c;)c=c.parentNode;return c==b};var Hd=function(b,c,d,e){J.call(this);this.b=b;this.ib=this.Ab=null;this.za=[];this.Jb=!1;this.Gb="cast-captions-"+Math.floor(1e6*Math.random()).toString();this.ad="["+this.Gb+'="true"]::cue ';this.bd=new RegExp(/^[\.'":%,;\s\-0-9a-z]+$/i);b=ba(c);for(c=b.next();!c.done;c=b.next()){c=c.value;var f=c.trackContentId;if("TEXT"==c.type&&f){var g=c.trackContentType;(0==oa("vtt",f.substr(f.length-3,3))||m(g)&&0==oa(g,"text/vtt"))&&(f=document.createElement("track"),f.src=c.trackContentId,f.id=c.trackId,f.label=c.name,f.srclang=c.language,f.kind=(c.subtype||"CAPTIONS").toLowerCase(),this.za.push(f),this.b.appendChild(f))}}Pd(this);e&&Sd(this,e);Kd(this,d)};c(Hd,J);Hd.prototype.T=function(){return"TextTracksManager"};var Id=function(b,c){b=ba(b.za);for(var d=b.next();!d.done;d=b.next()){var d=d.value,e=d.track;c(d)?e.mode="showing":(e.mode="showing",e.mode="disabled")}},Jd=function(b){return b.za.map(function(b){return parseInt(b.id,10)})},Kd=function(b,c){Id(b,function(b){return 0<=va(c,parseInt(b.id,10))})},Ld=function(b,c){Id(b,function(b){return ja(c,b.srclang)})},Md=function(b){var c=[];b=ba(b.za);for(var d=b.next();!d.done;d=b.next())d=d.value,"showing"==d.track.mode&&c.push(parseInt(d.id,10));return c},Nd=function(b){b.ib&&(b.b.removeAttribute(b.Gb),document.head.removeChild(b.ib),b.Ab=null)},Od=function(b){b.Jb&&(b.b.removeAttribute("crossorigin"),b.Jb=!1)},W=function(b,c,d){1==d||b.bd.test(c)?b.Ab.insertRule(b.ad+"{ "+c+" }",b.Ab.cssRules.length):ob(Td,"Invalid css cue: "+c)},Pd=function(b){Nd(b);Od(b);var c=la||(la=new Gd),d=c.jb,e=c.createElement("STYLE");e.type="text/css";c.getElementsByTagName("HEAD")[0].appendChild(e);e.styleSheet?e.styleSheet.cssText="":e.appendChild(d.createTextNode(""));b.ib=e;b.Ab=b.ib.sheet;W(b,"font-size: 4.1vh;");W(b,"font-family: monospace;");W(b,"font-style: normal;");W(b,"font-weight: normal;");W(b,"background-color: black;");W(b,"color: white;");b.b.setAttribute(b.Gb,!0);0<b.za.length&&!b.b.getAttribute("crossorigin")&&(b.b.setAttribute("crossorigin","anonymous"),b.Jb=!0)},Qd=function(b,c){var d;try{d=Dd(Bd(b))}catch(c){ob(Td,"Invalid color: "+b)}if(d)switch(b="rgba(204, 204, 204, "+parseInt(b.substring(7,9),16)+")",c){case"OUTLINE":return"text-shadow: 0 0 4px "+d+", 0 0 4px "+d+", 0 0 4px "+d+", 0 0 4px "+d+";";case"DROP_SHADOW":return"text-shadow: 0px 2px 3px "+d+", 0px 2px 4px "+d+", 0px 2px 5px "+d+";";case"RAISED":return"text-shadow: 1px 1px "+d+", 2px 2px "+d+", 3px 3px "+d+";";case"DEPRESSED":return"text-shadow: 1px 1px "+b+", 0 1px "+b+", -1px -1px "+d+", 0 -1px "+d+";"}return""},Rd=function(b){switch(b){case"BOLD":return"font-weight: bold;";case"BOLD_ITALIC":return"font-style: italic; font-weight: bold;";case"ITALIC":return"font-style: italic;"}return"font-style: normal;"},Sd=function(b,c){if(m(c.foregroundColor))try{var d=Dd(Bd(c.foregroundColor));W(b,"color: "+d+";",!0)}catch(b){ob(Td,"Invalid color: "+c.foregroundColor)}if(m(c.backgroundColor))try{var e=Dd(Bd(c.backgroundColor));W(b,"background-color: "+e+";",!0)}catch(b){ob(Td,"Invalid color: "+c.backgroundColor)}m(c.fontScale)&&W(b,"font-size: "+100*c.fontScale+"%;");if(m(c.fontFamily)||m(c.fontGenericFamily)){var d=c.fontFamily,e=c.fontGenericFamily,f="font-family: ",g="";m(d)&&(f+='"'+d+'"',g=", ");if(m(e)){var h;switch(e){case"SANS_SERIF":h='"Droid Sans", sans-serif';break;case"MONOSPACED_SANS_SERIF":h='"Droid Sans Mono", monospace';break;case"SERIF":h='"Droid Serif", serif';break;case"MONOSPACED_SERIF":h='"Cutive Mono"';break;case"CASUAL":h='"Short Stack"';break;case"CURSIVE":h="Quintessential";break;case"SMALL_CAPITALS":h='"Alegreya Sans SC"'}f+=g+h}W(b,f+";")}m(c.fontStyle)&&W(b,Rd(c.fontStyle));m(c.edgeType)&&(h=m(c.foregroundColor)?c.foregroundColor:"#FFFFFFFF",c=m(c.edgeColor)?Qd(c.edgeColor,c.edgeType):Qd(h,c.edgeType),W(b,c,!0))};Hd.prototype.m=function(){J.prototype.m.call(this);for(var b=ba(this.za),c=b.next();!c.done;c=b.next())this.b.removeChild(c.value);this.za.length=0;Nd(this);Od(this);G(Td,E,"Disposed "+this.T())};var Td=F("cast.receiver.TextTracksManager"),Ud=function(b,c){this.D=b,this.b=c,this.Ub=this.Kb=this.Lb=n,this.Fa=0,this.U=this.Na=null,this.Ec=0,this.l=this.u=null,this.Ta=!1,this.ob=!0,L(this.b,"error",this.Xb,!1,this),L(this.b,"ended",this.vb,!1,this),L(this.b,"loadedmetadata",this.ac,!1,this),I(this.D,"Using default Player")};x=Ud.prototype;x.Dc=function(b,c,d,e){Wd(this),this.ob=b,this.Fa=c,this.Ec=e||0,this.U=d||null};x.Xb=function(b){Wd(this),this.Lb(b)};x.vb=function(){Wd(this),this.Kb()};x.ac=function(){this.u&&this.l&&Kd(this.u,this.l),this.Ub()};x.registerErrorCallback=function(b){this.Lb=b};x.registerEndedCallback=function(b){this.Kb=b};x.registerLoadCallback=function(b){this.Ub=b};x.unregisterErrorCallback=function(){this.Lb=n};x.unregisterEndedCallback=function(){this.Kb=n};x.unregisterLoadCallback=function(){this.Ub=n};var Vd=function(b){var c=b.b.duration;if(isNaN(c)||null==b.U)return c;if(null!=b.Na)return b.Na;b.Na=0<=b.U?Math.min(b.Ec+b.U,c):Math.max(c+b.U,b.Fa);return b.Na},Wd=function(b){null!=b.U&&(M(b.b,"timeupdate",b.Cc,!1,b),b.Na=null,b.U=null)};Ud.prototype.Cc=function(){Xd(this)};var Xd=function(b){if(null==b.U)return!1;var c=Vd(b);return isNaN(c)?!1:b.b.currentTime>=c?(b.vb(),!0):!1};x=Ud.prototype;x.load=function(b,c,d,e,f){this.u&&(this.u.Z(),this.u=null),this.Ta=!1,e&&e.tracks&&this.b&&(this.u&&this.u.Z(),this.u=new Hd(this.b,e.tracks,e.activeTrackIds||[],e.textTrackStyle||null),e.language&&Ld(this.u,e.language)),null!=this.U&&L(this.b,"timeupdate",this.Cc,!1,this),f||(this.Fa=d&&0<d?d:0,I(this.D,"Load - contentId: "+b+" autoplay: "+c+" time: "+this.Fa),this.b.autoplay=!1,b&&(this.b.src=b),this.b.autoplay=c,this.b.load())};x.reset=function(){this.Ta=!1,this.u&&(this.u.Z(),this.u=null),this.l=null,this.b.removeAttribute("src"),this.Fa=0,this.b.load(),Wd(this)};x.play=function(){this.Ta=!1,this.b.play()};x.seek=function(b,c){this.b.currentTime!=b&&(this.b.currentTime=b),Xd(this)||("PLAYBACK_START"==c&&this.b.paused?this.b.play():"PLAYBACK_PAUSE"!=c||this.b.paused||this.b.pause())};x.pause=function(){this.Ta=!0,this.b.pause()};x.getState=function(){null==this.ob&&(this.ob=this.b.autoplay);return this.b.paused||isNaN(this.b.duration)?this.b.duration&&(this.b.currentTime||0==this.b.currentTime)&&this.b.currentTime<Vd(this)?this.b.currentTime==this.Fa&&this.ob&&!this.Ta?"BUFFERING":"PAUSED":"IDLE":"PLAYING"};x.getCurrentTimeSec=function(){var b=Vd(this);return isNaN(b)?this.b.currentTime:this.b.currentTime<b?this.b.currentTime:b};x.getDurationSec=function(){return Vd(this)};x.getVolume=function(){return{level:this.b.volume,muted:this.b.muted}};x.setVolume=function(b){m(b.level)&&(this.b.volume=b.level),m(b.muted)&&(this.b.muted=b.muted)};x.editTracksInfo=function(b){if(this.u){if(b.textTrackStyle){var c=this.u,d=b.textTrackStyle;Pd(c);Sd(c,d)}b.language?Ld(this.u,b.language):b.activeTrackIds&&Kd(this.u,b.activeTrackIds)}Yd(this,b.activeTrackIds);return this.l};var Yd=function(b,c){b.l=c?c.slice(0):b.l;b.l=b.l||[];if(b.u){var d=Jd(b.u);b.l=b.l.filter(function(b){return!d.includes(b)}).concat(Md(b.u))}0==b.l.length&&(b.l=null)},Zd=function(b){J.call(this),this.Qa=b,this.i={}};u(Zd,J);var $d=[];x=Zd.prototype;x.Ia=function(b,c,d,e){"array"!=ca(c)&&(c&&($d[0]=c.toString()),c=$d);for(var f=0;f<c.length;f++){var g=L(b,c[f],d||this.handleEvent,e||!1,this.Qa||this);if(!g)break;this.i[g.key]=g}return this};x.ic=function(b,c,d,e,f){if("array"==ca(c))for(var g=0;g<c.length;g++)this.ic(b,c[g],d,e,f);else d=d||this.handleEvent,f=f||this.Qa||this,d=Nb(d),e=!!e,c=b&&b[vb]?b.Pa(c,d,e,f):b?(b=Lb(b))?b.Pa(c,d,e,f):null:null,c&&(Gb(c),delete this.i[c.key]);return this};x.fc=function(){Ea(this.i,function(b,c){this.i.hasOwnProperty(c)&&Gb(b)},this),this.i={}};x.m=function(){Zd.ab.m.call(this),this.fc()};x.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ae={we:"persistent-release-message"},be=new Uint8Array([43,248,102,128,198,229,78,36,190,35,15,129,90,96,110,178]),X=function(b,c){N.call(this),this.Pd=c,this.H=b.createSession("persistent-license"),this.sessionId="",this.expiration=this.H.expiration,this.closed=this.H.closed,this.keyStatuses=this.H.keyStatuses,this.Qa=new Zd(this),qb(this,ha(rb,this.Qa))};c(X,N);t("cast.receiver.eme.KeySession",X);X.createSession=function(b,c){a:{for(var d in ae)if(ae[d]==c)break a;throw Error("Unknown key session type: "+c)}b=new X(b,c);b.Qa.Ia(b.H,"message",b.Ic).Ia(b.H,"keystatuseschange",b.Ic);return b};X.prototype.generateRequest=function(b,c){if("persistent-release-message"==this.Pd){if("cenc"!=b)throw Error("Only cenc initDataType is supported for persistent-release-message session type.");var d=new Uint8Array([0,0,0,0,112,115,115,104,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,2]);d.set(be,12);new DataView(d.buffer).setUint32(0,d.length);var e=new Uint8Array(c.byteLength+d.byteLength);e.set(new Uint8Array(c),0);e.set(d,c.byteLength);c=e}return this.H.generateRequest(b,c).then(s(function(){this.sessionId=this.H.sessionId},this))};X.prototype.generateRequest=X.prototype.generateRequest;X.prototype.load=function(b){return this.H.load(b)};X.prototype.load=X.prototype.load;X.prototype.update=function(b){return this.H.update(b)};X.prototype.update=X.prototype.update;X.prototype.close=function(){return this.H.close()};X.prototype.close=X.prototype.close;X.prototype.remove=function(){return this.H.remove()};X.prototype.remove=X.prototype.remove;X.prototype.Ic=function(b){var c=new K(b.type);Ka(c,b.Da);c.target=this;this.dispatchEvent(c)};var ce=F("cast");t("cast.receiver.logger",ce);t("cast.receiver.LoggerLevel",{DEBUG:0,VERBOSE:500,INFO:800,WARNING:900,ERROR:1e3,NONE:1500});ce.Oc=function(b){ce&&ce.hc(jb(b))};ce.setLevelValue=ce.Oc;if(ce){o=1e3;if(document.currentScript){P=document.currentScript.src;(P.includes("/df/cast/sdk/")||P.includes("/staging/cast/sdk/"))&&(o=800)}D=parseInt(Ac("log-level-cast-receiver"),10);ce.Oc(D||o)}var de=function(){this.M=[],this.R=[]};de.prototype.enqueue=function(b){this.R.push(b)};var ee=function(b){0==b.M.length&&(b.M=b.R,b.M.reverse(),b.R=[]);return b.M.pop()};x=de.prototype;x.Rb=function(){return 0==this.M.length&&0==this.R.length};x.clear=function(){this.M=[],this.R=[]};x.contains=function(b){return 0<=va(this.M,b)||0<=va(this.R,b)};x.remove=function(b){var c;c=this.M;var d=wa(c,b);0<=d?(Aa(c,d),c=!0):c=!1;return c||za(this.R,b)};x.rc=function(){for(var b=[],c=this.M.length-1;0<=c;--c)b.push(this.M[c]);for(var d=this.R.length,c=0;c<d;++c)b.push(this.R[c]);return b};var fe=function(b){this.itemId=b,this.customData=this.activeTrackIds=this.preloadTime=this.playbackDuration=this.startTime=this.autoplay=this.media=void 0};t("cast.receiver.media.QueueItem",fe);fe.prototype.clone=function(b){var c=new fe(this.itemId);c.autoplay=this.autoplay;c.startTime=this.startTime;c.playbackDuration=this.playbackDuration;c.preloadTime=this.preloadTime;c.activeTrackIds=this.activeTrackIds;c.customData=this.customData;(!m(b)||b)&&(c.media=this.media);return c};var Y=function(b,c,d){this.a=b,this.V=c,this.h=d};t("cast.receiver.MediaQueue",Y);Y.prototype.pc=function(b){if(!m(b)||b)return this.a;for(var c=[],d=0;d<this.a.length;d++)c.push(this.a[d].clone(b));return c};Y.prototype.getItems=Y.prototype.pc;Y.prototype.Ed=function(){return this.a.length};Y.prototype.getLength=Y.prototype.Ed;Y.prototype.Id=function(){return this.V};Y.prototype.getRepeatMode=Y.prototype.Id;Y.prototype.Cd=function(){if(0>this.h)return null;var b=this.a[this.h].itemId;ta(b);return b};Y.prototype.getCurrentItemId=Y.prototype.Cd;Y.prototype.Ea=function(){return 0>this.h?null:this.a[this.h]};Y.prototype.getCurrentItem=Y.prototype.Ea;var ge=function(b,c){for(var d=[],e=0;e<c.length;e++)for(var f=0;f<b.a.length;f++)if(c[e]==b.a[f].itemId){d.push(c[e]);break}return d},he=function(b){return"REPEAT_ALL_AND_SHUFFLE"==b.V},ie=function(b,c){for(var d=0;d<b.a.length;d++)if(c==b.a[d].itemId)return d;return-1},je=function(b){return"REPEAT_ALL_AND_SHUFFLE"==b.V||"REPEAT_ALL"==b.V};Y.prototype.reset=function(){this.h=-1};var ke=function(b,c){c=ie(b,c);if(-1==c||b.h==c)return!1;b.h=c;return!0},le=function(b,c,d){if(0>b.h)return"QUEUE_ENDED";c=b.h+c;var e=!1;c>=b.a.length?(c=je(b)?c%b.a.length:-1,e=!0):0>c&&(c=je(b)?b.a.length+(c+1)%b.a.length-1:0,e=!0);d&&(b.h=c);return-1==c?"QUEUE_ENDED":e?he(b)?(me(b),"QUEUE_SHUFFLED"):"QUEUE_LOOP":"QUEUE_ACTIVE"},me=function(b){var c=b.a.length,d,e;if(!(3>b.a.length))for(;0<c;)e=Math.floor(Math.random()*c),--c,d=b.a[e],b.a[e]=b.a[c],b.a[c]=d},ne=function(b){var c=this;this.Ac=b;this.X=null;this.sc="sdr";this.Gc=function(){c.Ac()}};B=function(b,c,d){N.call(this);var e=this,f=T.$();rd.$();this.oa=d||"local";this.sb=f.Oa("urn:x-cast:com.google.cast.media","JSON");this.ba=0;this.Wa=this.ma=null;this.Xd=1;this.pe=c||15;this.Sc=this.xc=this.Ha=this.la=this.g=this.c=null;this.aa=!1;this.l=this.ja=this.o=null;this.pb=!0;this.ea=null;this.Fb=this.Zc.bind(this);this.f=null;this.Cb=!1;this.sa=null;this.Vb=1;this.yb=-1;this.rb=new de;this.Sa=!1;this.customizedStatusCallback=this.cd;this.onLoad=this.kd;this.onPlay=this.od;this.onPlayAgain=this.nd;this.onSeek=this.ud;this.onPause=this.md;this.onStop=this.wd;this.onSetVolume=this.vd;this.onEditTracksInfo=this.ed;this.onQueueLoad=this.rd;this.onQueueInsert=this.qd;this.onQueueUpdate=this.mc;this.onQueueRemove=this.sd;this.onQueueReorder=this.td;this.onMetadataLoaded=this.ld;this.onLoadMetadataError=this.jd;this.onEnded=this.fd;this.onQueueEnded=this.pd;this.onAbort=n;this.onError=this.gd;this.onMediaStatus=this.onLocalRequestError=n;this.onCancelPreload=this.onPreload=this.onPrecache=null;this.onGetStatus=this.hd;this.eb=new ne(this.j.bind(this,!1));f.Zb=function(b){var c=e.eb;c.sc=b;c.Ac()};this.Pc(b);this.sb.onMessage=this.$b.bind(this);this.ea=uc(this.Fb,1e3)};c(B,N);t("cast.receiver.MediaManager",B);B.prototype.T=function(){return"MediaManager"};B.prototype.Fd=function(){return this.g?this.g.media||null:null};B.prototype.getMediaInformation=B.prototype.Fd;B.prototype.Gd=function(){return this.f};B.prototype.getMediaQueue=B.prototype.Gd;B.prototype.Od=function(b,c,d,e,f){b=new Ge(b),b.insertBefore=null!=c?c:void 0,b.currentItemIndex=null!=d?d:void 0,b.currentItemId=null!=e?e:void 0,b.currentTime=null!=f?f:void 0,b.type="QUEUE_INSERT",re(this,this.oa,b)};B.prototype.insertQueueItems=B.prototype.Od;B.prototype.be=function(b,c,d){b=new He(b),b.currentItemId=null!=c?c:void 0,b.currentTime=null!=d?d:void 0,b.type="QUEUE_REMOVE",re(this,this.oa,b)};B.prototype.removeQueueItems=B.prototype.be;B.prototype.ie=function(b,c,d){c=!m(c)||c;if(d&&!c)throw Error("No broadcast call but status customData has been provided");this.g&&(this.g.media=b);c&&this.j(!0,null,d)};B.prototype.setMediaInformation=B.prototype.ie;var oe=function(b){for(var c=0;c<b.length;c++)if(!m(b[c].trackId)||!m(b[c].type))return!1;return!0},pe=function(b,c){if(!c)return!0;if(!b)return!1;b=ba(b);for(var d=b.next();!d.done;d=b.next())if(d=d.value,"TEXT"==d.type&&m(d.language)&&ja(d.language,c))return!0;return!1},qe=function(b,c){if(!c||0==c.length)return!0;if(!b||c.length>b.length)return H(Z,"Too many track IDs"),!1;for(var d=0,e=0,f=0;f<c.length;f++){for(var g=!1,h=0;h<b.length;h++)if(c[f]==b[h].trackId){g=!0;break}if(!g)return H(Z,"Track ID does not exist: "+c[f]),!1;"AUDIO"==b[h].type?e++:"VIDEO"==b[h].type&&d++;if(1<e||1<d)return H(Z,"Maximum one active video and one active audio track supported"),!1}return!0},re=function(b,c,d){d.mediaSessionId=b.ba,b.$b(new Ic("message",c,d))};B.prototype.$b=function(b){var c=b.data,d=c.type;if(!this.Sa||this.rb.Rb()&&"LOAD"==d){b=b.senderId;var e;e=c.type;var f=c.requestId;if(q(f)&&f==Math.floor(f)){var g=!1;void 0!=c.mediaSessionId&&c.mediaSessionId!=this.ba?(H(Z,"Invalid media session ID: "+c.mediaSessionId+"  does not match the expected ID: "+this.ba),g=!0):"LOAD"!=e&&"PLAY_AGAIN"!=e&&"GET_STATUS"!=e&&"QUEUE_LOAD"!=e&&"PRECACHE"!=e&&(m(c.mediaSessionId)?"IDLE"==se(this)&&(H(Z,"Unexpected command, player is in IDLE state so the media session ID is not valid yet"),g=!0):(H(Z,"Invalid media session ID, it is undefined"),g=!0));g?(this.wa(b,f,"INVALID_REQUEST","INVALID_MEDIA_SESSION_ID"),e=!1):(G(Z,E,"MediaManager message received"),e=!0)}else H(Z,"Ignoring request, requestId is not an integer: "+f),e=!1;if(e){e=c.requestId;delete c.type;f=null;switch(d){case"LOAD":this.Cb=!1;f=xe(this,b,c,!0);break;case"GET_STATUS":I(Z,"Dispatching MediaManager getStatus event");c=new $("getstatus",c,b);this.onGetStatus&&this.onGetStatus(c);this.dispatchEvent(c);f=null;break;case"PLAY":I(Z,"Dispatching MediaManager play event");c=new $("play",c,b);this.onPlay&&this.onPlay(c);this.dispatchEvent(c);f=null;break;case"PLAY_AGAIN":I(Z,"Dispatching MediaManager play again event");c=new $("playagain",c,b);this.onPlayAgain&&this.onPlayAgain(c);this.dispatchEvent(c);f=null;break;case"SEEK":m(c.currentTime)||m(c.relativeTime)?(I(Z,"Dispatching MediaManager seek event"),c=new $("seek",c,b),this.onSeek&&this.onSeek(c),this.dispatchEvent(c),f=null):(H(Z,"currentTime or relativeTime is required"),f={type:"INVALID_REQUEST",reason:"INVALID_PARAMS"});break;case"STOP":I(Z,"Dispatching MediaManager stop event");c=new $("stop",c,b);this.onStop&&this.onStop(c);this.dispatchEvent(c);f=null;break;case"PAUSE":I(Z,"Dispatching MediaManager pause event");c=new $("pause",c,b);this.onPause&&this.onPause(c);this.dispatchEvent(c);f=null;break;case"SET_VOLUME":c.volume&&(m(c.volume.level)||m(c.volume.muted))?void 0!=c.volume.level&&0>c.volume.level||1<c.volume.level?(H(Z,"volume level is invalid"),f={type:"INVALID_REQUEST",reason:"INVALID_PARAMS"}):(I(Z,"Dispatching MediaManager setvolume event"),c=new $("setvolume",c,b),this.onSetVolume&&this.onSetVolume(c),this.dispatchEvent(c),f=null):(H(Z,"volume is invalid"),f={type:"INVALID_REQUEST",reason:"INVALID_PARAMS"});break;case"EDIT_TRACKS_INFO":I(Z,"Dispatching MediaManager ediTracksInfo event");qe(this.g.media.tracks,c.activeTrackIds)?(d=new $("edittracksinfo",c,b),c.textTrackStyle&&(this.g.media.textTrackStyle=c.textTrackStyle),c.activeTrackIds&&(this.l=c.activeTrackIds),this.onEditTracksInfo&&this.onEditTracksInfo(d),this.dispatchEvent(d),f=null):(H(Z,"Invalid track info"),f={type:"INVALID_REQUEST",reason:"INVALID_PARAMS"});break;case"QUEUE_LOAD":this.Cb=!0;I(Z,"Dispatching MediaManager queueLoad event");d=!1;if(m(c.startIndex)&&(!q(c.startIndex)||0>c.startIndex))H(Z,"Invalid startIndex"),f={type:"INVALID_REQUEST",reason:"INVALID_PARAMS"};else{f=(c.startIndex||0)+1;if(!c.items||c.items.length<f)H(Z,"Invalid number of items"),d=!0;else if(c.repeatMode&&!Wc(c.repeatMode))H(Z,"Invalid repeatMode"),d=!0;else for(f=0;f<c.items.length;f++)c.items[f].media?m(c.items[f].itemId)?(H(Z,"ItemId is not undefined, element at index: "+f),d=!0):c.items[f].itemId=this.Vb++:(H(Z,"Media is mandatory, missing in element at index: "+f),d=!0);d?f={type:"INVALID_REQUEST",reason:"INVALID_PARAMS"}:(c.items=Be(c.items),c=new $("queueload",c,b),this.onQueueLoad&&this.onQueueLoad(c),this.dispatchEvent(c),f=null)}break;case"QUEUE_INSERT":this.Cb=!0;I(Z,"Dispatching MediaManager queueInsert event");d=!1;if(this.f)if(c.items&&0!=c.items.length)if(m(c.currentItemId)&&m(c.currentItemIndex))H(Z,"Maximum one currentItem must be provided"),d=!0;else if(m(c.currentItemIndex)&&(!q(c.currentItemIndex)||0>c.currentItemIndex||c.currentItemIndex>=c.items.length))H(Z,"Invalid currentItemIndex"),d=!0;else if(m(c.currentItemId)&&(!q(c.currentItemId)||0>c.currentItemId))H(Z,"Invalid currentItemId"),d=!0;else for(f=0;f<c.items.length;f++)if(q(c.items[f].itemId)){H(Z,"Item contains an itemId at index: "+f);d=!0;break}else c.items[f].itemId=this.Vb++;else H(Z,"No items to insert"),d=!0;else H(Z,"Queue does not exist"),d=!0;d?f={type:"INVALID_REQUEST",reason:"INVALID_PARAMS"}:(c.items=Be(c.items),c=new $("queueinsert",c,b),this.onQueueInsert&&this.onQueueInsert(c),this.dispatchEvent(c),f=null);break;case"QUEUE_UPDATE":I(Z,"Dispatching MediaManager queueUpdate event");d=!1;this.f?c.items&&!Ae(c.items)?d=!0:c.repeatMode&&!Wc(c.repeatMode)&&(H(Z,"Invalid repeatMode"),d=!0):(H(Z,"Queue does not exist"),d=!0);if(d)f={type:"INVALID_REQUEST",reason:"INVALID_PARAMS"};else{if(c.items&&0<c.items.length){for(var d=this.f,f=c.items,g=[],h=0;h<f.length;h++)for(var i=0;i<d.a.length;i++)if(f[h].itemId==d.a[i].itemId){g.push(f[h]);break}c.items=Be(g)}c=new $("queueupdate",c,b);this.onQueueUpdate&&this.onQueueUpdate(c);this.dispatchEvent(c);f=null}break;case"QUEUE_REMOVE":I(Z,"Dispatching MediaManager queueRemove event");d=!1;this.f?c.itemIds&&0!=c.itemIds.length?ze(c.itemIds)||(d=!0):(H(Z,"No itemIds to remove"),d=!0):(H(Z,"Queue does not exist"),d=!0);d?f={type:"INVALID_REQUEST",reason:"INVALID_PARAMS"}:(c.itemIds&&(c.itemIds=ge(this.f,c.itemIds)),c=new $("queueremove",c,b),this.onQueueRemove&&this.onQueueRemove(c),this.dispatchEvent(c),f=null);break;case"QUEUE_REORDER":I(Z,"Dispatching MediaManager queueReorder event");d=!1;this.f?c.itemIds&&0!=c.itemIds.length?ze(c.itemIds)?m(c.insertBefore)&&0<=va(c.itemIds,c.insertBefore)&&(H(Z,"insertBefore can not be one of the reordered items"),d=!0):d=!0:(H(Z,"No itemIds to reorder"),d=!0):(H(Z,"Queue does not exist"),d=!0);d?f={type:"INVALID_REQUEST",reason:"INVALID_PARAMS"}:(c.itemIds&&(c.itemIds=ge(this.f,c.itemIds)),c=new $("queuereorder",c,b),this.onQueueReorder&&this.onQueueReorder(c),this.dispatchEvent(c),f=null);break;case"PRECACHE":c=new $("precache",c,"__broadcast__");this.onPrecache&&this.onPrecache(c);this.dispatchEvent(c);break;default:H(Z,"Unexpected message type: "+d),f={type:"INVALID_REQUEST",reason:"INVALID_COMMAND"}}f&&(H(Z,"Sending error: "+f.type+" "+f.reason),this.onLocalRequestError&&b==this.oa?(f.requestId=e,this.onLocalRequestError(f)):this.wa(b,e,f.type,f.reason))}}else this.rb.enqueue(b)};var se=function(b){if(!b.g)return"IDLE";var c=b.c.getState();return"PLAYING"==c&&b.aa?"BUFFERING":c},te=function(b,c,d,e){var f={type:"MEDIA_STATUS"},g=b.o&&b.o.message.media||null;if(!b.g&&!b.la&&!g)return f.status=[],f;var h={mediaSessionId:b.ba,playbackRate:b.Xd,playerState:se(b),currentTime:b.c.getCurrentTimeSec(),supportedMediaCommands:b.pe,volume:b.c.getVolume()};b.l&&(h.activeTrackIds=b.l);b.sa&&(h.preloadedItemId=b.sa);var i=b.eb,i=i.X?i.X.videoWidth:0,j=b.eb,j=j.X?j.X.videoHeight:0;0<i&&0<j&&(h.videoInfo=new Uc(i,j,b.eb.sc));b.g?(c&&(h.media=b.g.media||void 0),h.currentItemId=b.g.itemId):(b.la&&(c&&(h.media=b.la.media||void 0),h.currentItemId=b.la.itemId,b.la=null),b.f&&(i=b.f.Ea()))&&(h.loadingItemId=i.itemId);"IDLE"==h.playerState?(b.ja&&(h.idleReason=b.ja),g&&(h.extendedStatus=new Vc("LOADING",g))):b.ja=null;void 0!=d&&(h.customData=d);b.f&&(e&&(h.items=b.f.pc(c)),h.repeatMode=b.f.V);b.customizedStatusCallback?(b=b.customizedStatusCallback(h),null==b?f=null:f.status=[b]):f.status=[h];return f},ue=function(b){null!=b.Wa&&(l.clearTimeout(b.Wa),b.Wa=null)},ve=function(b){var c=b.c.getCurrentTimeSec();b.Ha=c;b.xc=c;b.Sc=Date.now();null!=b.ea&&l.clearTimeout(b.ea);b.ea=uc(b.Fb,1e3)};B.prototype.Zc=function(){this.ea=uc(this.Fb,1e3);var b=se(this);if("IDLE"!=b&&"PAUSED"!=b){b=this.Ha;this.Ha=this.c.getCurrentTimeSec();var c=this.aa;this.aa=100>1e3*(this.Ha-b);c!=this.aa?(G(Z,E,"Buffering state changed, isPlayerBuffering: "+this.aa+" old time: "+b+" current time: "+this.Ha),this.j(!1)):this.aa||(b=1e3*(this.Ha-this.xc)-(Date.now()-this.Sc),1e3<b||-1e3>b?(G(Z,E,"Time drifted: "+b),this.j(!1)):this.g&&this.f&&(b=this.f,(b=0>b.h?null:"REPEAT_SINGLE"==b.V?b.a[b.h]:b.h+1>=b.a.length&&(he(b)||"REPEAT_OFF"==b.V)?null:b.a[(b.h+1)%b.a.length])&&q(b.preloadTime)&&this.g.media&&!this.o&&De(this,b.preloadTime)&&this.sa!=b.itemId&&(this.onPreload?(ta(b.itemId),c=new Fe(b.itemId),c.requestId=0,c.mediaSessionId=this.ba,c.autoplay=b.autoplay,c.currentTime=b.startTime,c.customData=b.customData||null,c.activeTrackIds=b.activeTrackIds,c.media=b.media,c=new $("preload",c,""),ta(b.itemId),this.sa=b.itemId,I(Z,"Sending preload event: "+JSON.stringify(c)),this.onPreload(c)&&this.j(!1)):I(Z,"Not sending preload event"))))}};B.prototype.j=function(b,c,d,e){this.c?(G(Z,E,"Sending broadcast status message"),b=te(this,b,d,e),null!=b)&&(this.onMediaStatus&&b.status&&this.onMediaStatus(b.status[0]||null),b.requestId=c||0,this.sb.kc(b),ve(this)):H(Z,"Not sending broadcast status message, state is invalid")};B.prototype.broadcastStatus=B.prototype.j;B.prototype.ge=function(b){G(Z,E,"Setting IDLE reason: "+b),this.ja=b};B.prototype.setIdleReason=B.prototype.ge;B.prototype.wa=function(b,c,d,e,f){I(Z,"Sending error message to "+b);var g={};g.requestId=c;g.type=d;e&&(g.reason=e);f&&(g.customData=f);this.sb.send(b,g)};B.prototype.sendError=B.prototype.wa;B.prototype.Mc=function(b,c,d,e,f){this.c?(G(Z,E,"Sending status message to "+b),d=te(this,d,e,f),null!=d)&&(this.onMediaStatus&&d.status&&this.onMediaStatus(d.status[0]||null),d.requestId=c,this.sb.send(b,d),ve(this)):(H(Z,"State is invalid"),this.wa(b,c,"INVALID_PLAYER_STATE",null,e))};B.prototype.sendStatus=B.prototype.Mc;B.prototype.cd=function(b){return b};var we=function(b){b.o=null;if(b.Sa)for(b.Sa=!1;!b.rb.Rb()&&!b.Sa;)b.$b(ee(b.rb))};B.prototype.load=function(b){b.type="LOAD",re(this,this.oa,b)};B.prototype.load=B.prototype.load;B.prototype.ae=function(b){b.type="QUEUE_LOAD",re(this,this.oa,b)};B.prototype.queueLoad=B.prototype.ae;var xe=function(b,c,d,e,f,g){I(Z,"Dispatching MediaManager load event");I(Z,"Load message received:"+JSON.stringify(d));var h=!1;d.media?d.media.tracks&&!oe(d.media.tracks)?(H(Z,"Invalid tracks information"),h=!0):d.activeTrackIds&&!qe(d.media.tracks,d.activeTrackIds)&&(h=!0):(H(Z,"Media is mandatory"),h=!0);if(h)return g&&g(),{type:"INVALID_REQUEST",reason:"INVALID_PARAMS"};b.o?b.gc("LOAD_CANCELLED"):b.g&&(b.va("INTERRUPTED",!1),g=b.j.bind(b,!0));b.o={senderId:c,message:d};g&&g();b.l=d.activeTrackIds||null;b.Sa=!0;e&&(b.ba++,f?b.f=f:(e=new fe(b.Vb++),e.media=d.media,e.autoplay=d.autoplay,e.activeTrackIds=d.activeTrackIds,e.customData=d.customData,b.f=new Y([e],"REPEAT_OFF",0)));b.g=b.f&&b.f.Ea();ue(b);b.ma=d;b.pb&&b.c.Dc&&b.c.Dc(m(d.autoplay)?d.autoplay:!0,0<d.currentTime?d.currentTime:0,b.g.playbackDuration,b.g.startTime);c=new $("load",d,c);b.onLoad&&b.onLoad(c);b.dispatchEvent(c);g||b.j(!0);return b.sa=null};B.prototype.kd=function(b){b=b.data;if(b.media&&b.media.contentId){var c=m(b.autoplay)?b.autoplay:!0;b.media.tracks?this.c.load(b.media.contentId,c,b.currentTime,{tracks:b.media.tracks,activeTrackIds:b.activeTrackIds,textTrackStyle:b.media.textTrackStyle}):this.c.load(b.media.contentId,c,b.currentTime)}};B.prototype.Sd=function(b){if(!this.o)return!1;b.tracks=b.tracks||void 0;if(b.tracks&&!oe(b.tracks))return H(Z,"Invalid tracks information"),!1;if(b.activeTrackIds&&!qe(b.tracks,b.activeTrackIds))return H(Z,"Invalid active tracks"),!1;this.l=b.activeTrackIds||null;if(this.f){var c=this.f.Ea();c&&c.media&&(c.media.tracks=b.tracks,c.media.textTrackStyle=b.textTrackStyle||void 0)}this.c.load("",!1,void 0,b,!0);return!0};B.prototype.loadTracksInfo=B.prototype.Sd;B.prototype.Pc=function(b){if(b!=this.c){this.c&&(this.c.unregisterErrorCallback(),this.c.unregisterEndedCallback(),this.c.unregisterLoadCallback());this.c=(this.pb=b.getState?!1:!0)?new Ud(Z,b):b;this.c.registerErrorCallback(this.Xb.bind(this));this.c.registerEndedCallback(this.vb.bind(this));this.c.registerLoadCallback(this.ac.bind(this));var c=this.eb;c.X&&c.X.removeEventListener("resize",c.Gc);var d=null;b.tagName&&"video"==b.tagName.toLowerCase()?d=b:(b=document.getElementsByTagName("video"),1==b.length&&(d=b[0]));c.X=d;c.X&&c.X.addEventListener("resize",c.Gc)}};B.prototype.setMediaElement=B.prototype.Pc;B.prototype.ac=function(){this.o&&((I(Z,"Metadata loaded"),this.g&&this.g.media&&(this.g.media.duration=this.c.getDurationSec()),this.aa=!0,this.onMetadataLoaded)?this.onMetadataLoaded(this.o):we(this))};B.prototype.ld=function(b){this.pb&&b.message&&void 0!=b.message.currentTime&&b.message.currentTime!=this.c.getCurrentTimeSec()&&this.c.seek(b.message.currentTime),this.Lc()};B.prototype.Xb=function(b){this.o?(H(Z,"Load metadata error: "+b),this.onLoadMetadataError)?this.onLoadMetadataError(this.o):we(this):this.onError&&this.onError(b)};B.prototype.gc=function(b,c){this.o?(b=b||"LOAD_FAILED",this.o.senderId==this.oa?this.onLocalRequestError&&this.onLocalRequestError({type:b}):this.wa(this.o.senderId,this.o.message.requestId,b,null,c),we(this)):H(Z,"Not sending LOAD error as there is no on going LOAD request")};B.prototype.sendLoadError=B.prototype.gc;B.prototype.Lc=function(b){if(this.o){var c=this.o.message.requestId;this.j(!0,c,b,0!=c);we(this)}else H(Z,"Not sending status as there is no on going LOAD request")};B.prototype.sendLoadComplete=B.prototype.Lc;x=B.prototype;x.gd=function(){this.va("ERROR")};x.jd=function(){this.o&&""==this.o.senderId&&this.o.message&&0==this.o.message.requestId?this.va("ERROR",!0):(this.va("ERROR",!1),this.gc("LOAD_FAILED"))};x.vb=function(){this.onEnded&&this.onEnded()};x.fd=function(){if(this.f){var b=-1!=this.yb?this.yb:void 0;this.yb=-1;ye(this,"REPEAT_SINGLE"==this.f.V?0:1,!1,b,void 0,void 0,void 0,"FINISHED")}};x.pd=function(b,c){this.va(b,!0,c)};var ye=function(b,c,d,e,f,g,h,i){i=i||"INTERRUPTED";if(b.f&&"QUEUE_ENDED"!=le(b.f,c,!1)){var j=le(b.f,c,!0);I(Z,"After "+c+" jump, transition is: "+j);(c=Ce(b,b.f.Ea(),void 0,h))?(b.g&&(b.l=null,b.ja=i,b.la=b.g,b.g=null,"QUEUE_SHUFFLED"==j&&(g=!0),"INTERRUPTED"==b.ja)&&b.onAbort(),xe(b,"",c,!1,void 0,b.j.bind(b,d,e,f,g))):b.onQueueEnded&&b.onQueueEnded(i,e)}else b.onQueueEnded&&b.onQueueEnded(i,e)};x=B.prototype;x.hd=function(b){G(Z,E,"onGetStatus");var c=b.data;G(Z,E,"onGetStatus: "+JSON.stringify(c));var d=!0,e=!0;c.options&&(c.options&1&&(d=!1),c.options&1&&(e=!1));this.Mc(b.senderId,b.data.requestId,d,null,e)};x.od=function(b){G(Z,E,"onPlay"),this.c.play(),this.j(!1,b.data.requestId)};x.nd=function(b){G(Z,E,"onPlayAgain"),this.g?(this.c.seek(0),this.c.play(),this.j(!1,b.data.requestId)):this.ma&&(this.ma.type="LOAD",this.ma.autoplay=!0,re(this,this.oa,this.ma))};x.ud=function(b){b=b.data;G(Z,E,"onSeek: "+JSON.stringify(b));var c=m(b.relativeTime)?this.c.getCurrentTimeSec()+b.relativeTime:b.currentTime;ta(c);this.c.seek(c,b.resumeState);"PAUSED"!=this.c.getState()&&(this.aa=!0);this.c.getCurrentTimeSec()<this.c.getDurationSec()?this.j(!1,b.requestId):this.yb=b.requestId};x.wd=function(b){this.va("CANCELLED",!0,b.data.requestId)};x.va=function(b,c,d,e){var f=this;c=!m(c)||c;if((e||d)&&!c)throw Error("customData and requestId should only be provided in broadcast mode");this.g?(this.f=null,this.c.reset(),this.l=null,b&&(this.ja=b),this.la=this.g,this.g=null,c&&this.j(!1,d,e,void 0)):I(Z,"Nothing to reset, Media is already null");this.ma&&(ue(this),this.Wa=uc(function(){f.ma=null,f.Wa=null},9e5));b&&"INTERRUPTED"==b&&this.onAbort()};B.prototype.resetMediaElement=B.prototype.va;B.prototype.md=function(b){this.c.pause(),this.j(!1,b.data.requestId)};B.prototype.vd=function(b){b=b.data,this.c.setVolume(b.volume),this.j(!1,b.requestId)};B.prototype.ed=function(b){var c=b.data;pe(this.g.media.tracks,c.language)?(b={activeTrackIds:c.activeTrackIds,language:c.language,textTrackStyle:c.textTrackStyle},this.c.editTracksInfo&&(this.l=this.c.editTracksInfo(b)),this.j(c.textTrackStyle?!0:!1,c.requestId)):(H(Z,"Invalid track language"),this.wa(b.senderId,c.requestId,"INVALID_REQUEST","LANGUAGE_NOT_SUPPORTED"))};var ze=function(b){if(2>b.length)return!0;for(var c=0;c<b.length;c++)for(var d=c+1;d<b.length;d++)if(b[c]==b[d])return H(Z,"Duplicate itemId: "+b[c]+"at positions:"+c+" "+d),!1;return!0},Ae=function(b){for(var c=0;c<b.length;c++){if(!q(b[c].itemId))return H(Z,"Invalid itemId at position: "+c),!1;for(var d=c+1;d<b.length;d++){if(!q(b[d].itemId))return H(Z,"Invalid itemId at position: "+d),!1;if(b[c].itemId==b[d].itemId)return H(Z,"Duplicate itemId: "+b[c].itemId+"at positions:"+c+" "+d),!1}}return!0},Be=function(b){for(var c=[],d=0;d<b.length;d++){var e=new fe(b[d].itemId);e.media=b[d].media;e.autoplay=b[d].autoplay;e.startTime=b[d].startTime;e.playbackDuration=b[d].playbackDuration;e.preloadTime=b[d].preloadTime;e.activeTrackIds=b[d].activeTrackIds;e.customData=b[d].customData;c.push(e)}return c},Ce=function(b,c,d,e){if(!c)return null;var f=new Ee;f.requestId=d||0;f.mediaSessionId=b.ba;f.type="LOAD";f.autoplay=c.autoplay;f.currentTime=m(e)?e:c.startTime;f.activeTrackIds=c.activeTrackIds;f.customData=c.customData||null;f.media=c.media;return f},De=function(b,c){if(b.g.media.duration-b.c.getCurrentTimeSec()<=c)return!0;if(null==b.sa)return!1;b.sa=null;if(!b.onCancelPreload)return!1;c=new aa;c.requestId=0;c.mediaSessionId=b.ba;c=new $("cancelpreload",c,"");I(Z,"Sending cancel preload event: "+JSON.stringify(c));b.onCancelPreload(c)&&b.j(!1);return!1};x=B.prototype;x.rd=function(b){var c=b.data,d=new Y(c.items,c.repeatMode||"REPEAT_OFF",c.startIndex||0);(c=Ce(this,d.Ea(),c.requestId,c.currentTime))?xe(this,b.senderId,c,!0,d):H(Z,"Queue Load request is invalid")};x.qd=function(b){b=b.data;I(Z,"Queue insert data: "+JSON.stringify(b));var c=!1;m(b.currentItemId)&&(c=ke(this.f,b.currentItemId));m(b.currentItemIndex)&&(c=!0);var d=this.f,e=b.items,f=b.insertBefore,g=b.currentItemIndex,f=q(f)?ie(d,f):d.a.length,f=-1==f?d.a.length:f;ha(Ca,d.a,f,0).apply(null,e);m(g)?d.h=f+g:d.h>=f&&(d.h+=e.length);c?ye(this,0,!0,b.requestId,b.customData,!0,b.currentTime):this.j(!0,b.requestId,b.customData,!0)};x.mc=function(b){var c=b.data;if(this.Cb){I(Z,"Queue update data: "+JSON.stringify(c));var d=!1;b=!1;q(c.currentItemId)&&(b=ke(this.f,c.currentItemId));q(c.jump)&&(b=!0);c.repeatMode&&(this.f.V=c.repeatMode);if(c.items&&0<c.items.length){for(var d=this.f,e=c.items,f=0;f<e.length;f++)for(var g=0;g<d.a.length;g++)e[f].itemId==d.a[g].itemId&&(d.a[g]=e[f]);d=!0}c.shuffle&&(me(this.f),b=!0);b?ye(this,c.jump||0,d,c.requestId,c.customData,d,c.currentTime):this.j(d,c.requestId,c.customData,d)}else b=b.senderId,"__inject__"==b&&this.onQueueUpdate==this.mc?this.wa(b,c.requestId,"INVALID_REQUEST","INVALID_COMMAND"):(I(Z,"QUEUE_UPDATE request ignored"),this.j(!1,c.requestId))};x.sd=function(b){b=b.data;I(Z,"Queue remove data: "+JSON.stringify(b));var c=!1;q(b.currentItemId)&&(c=ke(this.f,b.currentItemId));if(b.itemIds&&0!=b.itemIds.length){if(!c){for(var c=this.f,d=b.itemIds,e=!1,f=0;f<d.length;f++)for(var g=0;g<c.a.length;g++)if(d[f]==c.a[g].itemId){c.a.splice(g,1);c.h==g?e=!0:c.h>g&&c.h--;break}c.h>=c.a.length&&(c.h=je(c)?0:-1,he(c)&&0==c.h&&me(c));c=e}c?ye(this,0,!1,b.requestId,b.customData,!0,b.currentTime):this.j(!1,b.requestId,b.customData,!0)}else H(Z,"No itemIds to remove")};x.td=function(b){b=b.data;I(Z,"Queue reorder data: "+JSON.stringify(b));var c=!1,d=!1;q(b.currentItemId)&&(d=ke(this.f,b.currentItemId));if(b.itemIds&&0<b.itemIds.length){var c=this.f,e=b.itemIds,f=b.insertBefore;if(e&&0!=e.length){for(var g=c.a[c.h].itemId,h=m(f)?f:-1,f=c.a.length-e.length,i=[],j=-1==h?!0:!1,k=0;k<c.a.length;k++)0<=va(e,c.a[k].itemId)?j||c.a[k].itemId!=e[0]||(f=i.length):(i.push(c.a[k]),h==c.a[k].itemId&&(f=i.length-1,j=!0));h=[];for(j=0;j<e.length;j++){a:{for(k=0;k<c.a.length;k++)if(e[j]==c.a[k].itemId){k=c.a[k];break a}k=null}h.push(k)}ha(Ca,i,f,0).apply(null,h);c.a=i;m(g)&&ke(c,g)}c=!0}d?ye(this,0,!1,b.requestId,b.customData,c,b.currentTime):this.j(!1,b.requestId,b.customData,c)};x.m=function(){N.prototype.m.call(this),null!=this.ea&&l.clearTimeout(this.ea),ue(this),G(Z,E,"Disposed "+this.T())};x.addEventListener=function(b,c,d,e){L(this,b,c,d,e)};B.prototype.addEventListener=B.prototype.addEventListener;B.prototype.removeEventListener=function(b,c,d,e){M(this,b,c,d,e)};B.prototype.removeEventListener=B.prototype.removeEventListener;B.prototype.dispatchEvent=function(b){return N.prototype.dispatchEvent.call(this,b)};B.prototype.dispatchEvent=B.prototype.dispatchEvent;var Z=F("cast.receiver.MediaManager");B.EventType={LOAD:"load",STOP:"stop",PAUSE:"pause",PLAY:"play",PLAY_AGAIN:"playagain",SEEK:"seek",SET_VOLUME:"setvolume",GET_STATUS:"getstatus",EDIT_TRACKS_INFO:"edittracksinfo",QUEUE_LOAD:"queueload",QUEUE_INSERT:"queueinsert",QUEUE_UPDATE:"queueupdate",QUEUE_REMOVE:"queueremove",QUEUE_REORDER:"queuereorder",PRECACHE:"precache",PRELOAD:"preload",CANCEL_PRELOAD:"cancelpreload"};var $=function(b,c,d){K.call(this,b),this.data=c,this.senderId=d};c($,K);B.Event=$;var aa=function(){this.type=void 0,this.requestId=0,this.mediaSessionId=void 0,this.customData=null};B.RequestData=aa;var Ee=function(){aa.call(this),this.media=new Sc,this.autoplay=!1,this.currentTime=0,this.activeTrackIds=void 0};c(Ee,aa);B.LoadRequestData=Ee;var Fe=function(b){Ee.call(this),this.itemId=b};c(Fe,Ee);B.PreloadRequestData=Fe;C=function(b){aa.call(this),this.data=b};c(C,aa);B.PrecacheRequestData=C;u=function(){aa.call(this),this.volume=new Tc};c(u,aa);B.VolumeRequestData=u;P=function(){aa.call(this),this.textTrackStyle=this.language=this.activeTrackIds=void 0};c(P,aa);B.EditTracksInfoData=P;D=function(){aa.call(this),this.resumeState=void 0,this.currentTime=0,this.relativeTime=void 0};c(D,aa);B.SeekRequestData=D;o=function(){aa.call(this),this.options=void 0};c(o,aa);B.GetStatusRequestData=o;t=function(b){aa.call(this),this.repeatMode=void 0,this.items=b,this.currentTime=this.startIndex=void 0};c(t,aa);B.QueueLoadRequestData=t;var Ge=function(b){aa.call(this),this.currentTime=this.currentItemId=this.currentItemIndex=this.insertBefore=void 0,this.items=b};c(Ge,aa);B.QueueInsertRequestData=Ge;x=function(){aa.call(this),this.shuffle=this.repeatMode=this.items=this.jump=this.currentTime=this.currentItemId=void 0};c(x,aa);B.QueueUpdateRequestData=x;var He=function(b){aa.call(this),this.currentTime=this.currentItemId=void 0,this.itemIds=b};c(He,aa);B.QueueRemoveRequestData=He;C=function(b){aa.call(this),this.insertBefore=this.currentTime=this.currentItemId=void 0,this.itemIds=b};c(C,aa);B.QueueReorderRequestData=C;B.LoadInfo=function(b,c){this.message=b,this.senderId=c}}).call(window),f.exports=window.cast.receiver}),null);
__d("getTV2DebugBreakpointsEnabled",["getTV2QueryStringCheatcode"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("getTV2QueryStringCheatcode")("js_debug_brk")}g["default"]=a}),98);
__d("getTV2DebugLog",["emptyFunction","getTV2DebuggingEnabled","getTV2QueryStringCheatcodeValue"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){b===void 0&&(b="log");var d=c("emptyFunction"),e=c("getTV2QueryStringCheatcodeValue")("tv2_debug_log"),f=e==="0"||e==="";(c("getTV2DebuggingEnabled")()||e==="1")&&!f&&(d=function(c){try{var d;for(var e=arguments.length,f=new Array(e>1?e-1:0),g=1;g<e;g++)f[g-1]=arguments[g];(d=window.console)[b].apply(d,[a+c].concat(f))}catch(a){}});return d}g["default"]=a}),98);
__d("setTV2Breakpoint",["getTV2DebugBreakpointsEnabled","getTV2DebugLog","getTV2DebuggingEnabled"],(function(a,b,c,d,e,f,g){"use strict";var h=c("getTV2DebugLog")("[TV2DebugBreakpoint] ");function i(a){if(window.__FB_TV_BRK_ALL===!1)return!1;var b=window.__FB_TV_BRK;return typeof b==="object"&&b!=null?b[a]!==!1:!0}function j(a,b){var c=window.__FB_TV_BRK||{};(typeof c!=="object"||c==null)&&(c={});c[a]=b;window.__FB_TV_BRK=c}function k(a){h("\u2139\ufe0f "+a+" "+(i(a)?"ENABLED":"DISABLED"))}function l(a){var b=window.__FB_TV_BRK_CURRENT;a=typeof a==="string"?a:typeof b==="string"?b:null;a!=null&&(j(a,!i(a)),k(a))}function a(a){for(var b=arguments.length,d=new Array(b>1?b-1:0),e=1;e<b;e++)d[e-1]=arguments[e];if(c("getTV2DebugBreakpointsEnabled")()&&i(a))try{j(a,!0);window.__FB_TV_BRK_CURRENT=a;window.__FB_TV_BRK_TOGGLE=l;d.length>0?(h.apply(void 0,["\ud83d\udd34\u2139\ufe0f "+a].concat(d)),h("\ud83d\udd34 "+a)):h("\ud83d\udd34 "+a);debugger}finally{window.__FB_TV_BRK_CURRENT=null,h("\u23e9")}else c("getTV2DebuggingEnabled")()&&(j(a,!1),h.apply(void 0,["\u26aa\ufe0f "+a].concat(d)))}g["default"]=a}),98);
__d("ChromecastReceiverSDKV2",["ChromecastReceiver","setTV2Breakpoint"],(function(a,b,c,d,e,f){"use strict";b("setTV2Breakpoint")("Before SDK"),f["default"]=b("ChromecastReceiver")}),66);
__d("ChromecastReceiverSDKV2Wrapper",["cr:1886210"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:1886210")}),98);
__d("XTVNextVideoAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/cast/async/nextvideo/",{after_cursor:{type:"String"},app_id:{type:"String"},channel_token:{type:"String",required:!0},is_ad:{type:"Bool",defaultValue:!1},root_video_id:{type:"String",required:!0},player_origin:{type:"String"}})}),null);
__d("TV2RelatedVideosRequest",["CometAsyncFetchError","ErrorMetadata","Promise","QuickPerformanceLogger","TV2CommsParseUtils","TV2UniqueIDs","XTVNextVideoAsyncController","cometAsyncFetch","err","getErrorSafe","promiseDone","qpl","setTV2Breakpoint"],(function(a,b,c,d,e,f,g){"use strict";var h=0;function a(a,e){var f=h++,g=null,i=!1,j=d("TV2UniqueIDs").makeTV2RelatedVideosRequestID(),k={destroy:function(){g=null},relatedVideosRequestID:j};c("promiseDone")(b("Promise").resolve().then(function(){var e=a.channelToken,h=a.endCursor;if(e==null||e==="")return{relatedVideosRequestID:j,type:"channel_token_empty"};if(a.fromNextVideoQuery&&(h==null||h===""))return{relatedVideosRequestID:j,type:"channel_ended"};e=c("XTVNextVideoAsyncController").getURIBuilder().setString("after_cursor",h).setString("app_id",a.appID).setString("channel_token",a.channelToken).setBool("is_ad",a.isAd).setString("root_video_id",a.rootVideoID).setString("player_origin",a.playerOrigin).getURI();g=c("cometAsyncFetch")(e.toString(),{data:{},method:"POST"});b("setTV2Breakpoint")("TV2RelatedVideosRequest:promise",g);i=!0;c("QuickPerformanceLogger").markerStart(c("qpl")._(62128132,"2967"),f);return g.then(function(a){if(!g)return null;g=null;c("QuickPerformanceLogger").markerEnd(c("qpl")._(62128132,"2967"),2,f);i=!1;a=d("TV2CommsParseUtils").parseVideoCastingPayloadListJSONAsTV2VideoCastRequestArray(a,"cometAsyncFetchResponsePayload");if(a.length>0)return{entries:a,relatedVideosRequestID:j,type:"loaded"};else return{relatedVideosRequestID:j,type:"channel_ended"}},function(a){if(!g)return null;g=null;c("QuickPerformanceLogger").markerEnd(c("qpl")._(62128132,"2967"),3,f);i=!1;throw a})})["catch"](function(a){if(a instanceof c("CometAsyncFetchError")){var b=a.toString();b=c("err")("XTVNextVideoAsyncController network error: (CometAsyncFetchError) %s",JSON.stringify({errorCode:a.errorCode,errorRawTransport:a.errorRawTransport,errorRawTransportStatus:a.errorRawTransportStatus,errorType:a.errorType,toString:b.slice(0,300)+(b.length>300?"...":"")}))}else typeof a==="object"&&a!=null&&"error"in a&&"errorMsg"in a&&"errorType"in a?b=c("err")("XTVNextVideoAsyncController network error: %s",JSON.stringify({error:a.error,errorMsg:a.errorMsg,errorType:a.errorType})):b=c("getErrorSafe")(a);a=(a=b.metadata)!=null?a:new(c("ErrorMetadata"))();var d=a.getAll().find(function(a){var b=a[0],c=a[1];a[2];return b==="COMET_VIDEO"&&c==="ERROR_LOCATION"});d==null&&a.addEntry("COMET_VIDEO","ERROR_LOCATION","TV2RelatedVideosRequest:catch");b.metadata=a;return{error:b,relatedVideosRequestID:j,type:"error"}}).then(function(a){if(!a)return;i&&(c("QuickPerformanceLogger").markerEnd(c("qpl")._(62128132,"2967"),3,f),i=!1);b("setTV2Breakpoint")("TV2RelatedVideosRequest:result:"+a.type,a);e(a)}));return k}g.createAndStartTV2RelatedVideosRequest=a}),98);
__d("TV2RelayEnvironment",["CometRelayEnvironmentFactory","RelayFBEnvironmentDefinitions","URI","UrlMap"],(function(a,b,c,d,e,f,g){"use strict";var h="2.5",i="graphql";function j(a){a=a.accessToken;return new(c("URI"))(d("UrlMap").resolve("graph_domain")+"/v"+h+"/"+i).setQueryData({access_token:a,fb_tv_app:1,fb_tv_casting_receiver_v2:1})}function a(a){var b=j({accessToken:a});return d("RelayFBEnvironmentDefinitions").createEnvironmentFactory(function(c){c=d("CometRelayEnvironmentFactory").CometRelayEnvironmentFactory.configEnvironment({actorID:c,graphURI:b});var e=a.slice(0,5)+"..."+a.slice(-5);c.configName="TV2RelayEnvironment ("+e+")";return c}).getForActorID("0")}g.createTV2RelayEnvironment=a}),98);
__d("TV2UpNextInterstitialState",[],(function(a,b,c,d,e,f){"use strict";a={makeInitialState:function(){return null},resetOnCurrentEntryChanged:function(a){var b=a.clockTimestamp,c=a.forCurrentQueueEntry,d=a.isUserInitiated;a=a.upNextConfig;c=c&&!d;return{upNextConfig:a,upNextExpirationTimestampMs:c?b+a.countdown_seconds*1e3:null,upNextVisibility:c?"up_next_pending_visible":"up_next_hidden"}},markShown:function(a){if(a==null)return a;switch(a.upNextVisibility){case"up_next_pending_visible":return babelHelpers["extends"]({},a,{upNextVisibility:"up_next_visible"});default:return a}},markSeen:function(a){if(a==null)return a;switch(a.upNextVisibility){case"up_next_pending_visible":case"up_next_visible":return babelHelpers["extends"]({},a,{upNextExpirationTimestampMs:null,upNextVisibility:"up_next_seen"});default:return a}}};f.TV2UpNextInterstitialStateReducers=a}),66);
__d("TV2VideoExperienceQuery",["CometRelay","TV2VideoExperienceQuery.graphql","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h!==void 0?h:h=b("TV2VideoExperienceQuery.graphql");function a(a){a=d("CometRelay").usePreloadedQuery(i,a);if(!a)throw c("unrecoverableViolation")("usePreloadedQuery returned empty value","comet_tv_casting");return a}g.TV2VideoExperienceQueryQuery=i;g.useTV2VideoExperienceQuery=a}),98);
__d("TV2VideoExperienceQueueEntryState",["CometRelay","TV2RelatedVideosRequest","TV2RelayEnvironment","TV2UniqueIDs","TV2UpNextInterstitialState","TV2VideoExperienceQuery","TV2VideoExperienceQueueState","WebPixelRatio","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";a={getRelayEnvironment:function(a){return a.relayEnvironment},getVideoExperienceQueryReference:function(a){return a.videoExperienceQueryReference},getVideoCastRequest:function(a){return a.videoCastRequest},getVideoID:function(a){return a.videoCastRequest.videoID},getBlurredThumbnailURL:function(a){a=a.videoCastRequest.backgroundImage;return a==null?null:a.uri},getPreferredThumbnailURL:function(a){a=a.videoCastRequest.preferredThumbnail;return a==null?null:a.uri},getIsRelatedVideo:function(a){return a.videoCastRequest.fromNextVideoQuery},getRelatedVideosRootQueueEntryID:function(a){var b;return(b=a.relatedToQueueEntryID)!=null?b:a.queueEntryID},getCountRelatedVideosRemaining:function(a){a=a.relatedVideosQueue;return a!=null?d("TV2VideoExperienceQueueState").TV2VideoExperienceQueueStateSelectors.getQueueLength(a):0},getVolatileIsLastObservedVideoPlayerStatePlaying:function(a){a=a.lastObservedVideoPlayerStateRef.current;return(a==null?void 0:a.state)==="play"},getVolatileIsLastObservedVideoPlayerStateEnded:function(a){a=a.lastObservedVideoPlayerStateRef.current;return(a==null?void 0:a.state)==="ended"}};var h={make:function(a){var b=a.relatedToQueueEntryID,c=a.relayEnvironmentToReuse;a=a.videoCastRequest;return{chainingDepthLevel:0,chainingSessionID:null,lastObservedVideoPlayerStateRef:{current:null},queueEntryID:d("TV2UniqueIDs").makeTV2VideoExperienceQueueEntryID(),relatedToQueueEntryID:(b=b)!=null?b:null,relatedVideosCanFetchAgain:!0,relatedVideosQueue:null,relatedVideosRequest:null,relayEnvironment:(b=c)!=null?b:null,upNextInterstitialState:d("TV2UpNextInterstitialState").TV2UpNextInterstitialStateReducers.makeInitialState(),videoCastRequest:a,videoExperienceQueryReference:null,videoQueryRetryCount:0}},update:function(a,b){b=b(a);if(b.videoExperienceQueryReference!==a.videoExperienceQueryReference){(a=a.videoExperienceQueryReference)==null?void 0:a.dispose()}return b},destroy:function(a){(a=a.videoExperienceQueryReference)==null?void 0:a.dispose()},deriveChainingInfo:function(a,b){return h.update(a,function(a){return babelHelpers["extends"]({},a,{chainingDepthLevel:b.chainingDepthLevel+1,chainingSessionID:(a=b.chainingSessionID)!=null?a:d("TV2UniqueIDs").makeTV2ChainingSessionID()})})},sideEffectfulStartFetchingVideoExperience:function(a,b){var c;b===void 0&&(b=!1);var e=a.videoCastRequest,f=a.videoQueryRetryCount;c=(c=a.relayEnvironment)!=null?c:d("TV2RelayEnvironment").createTV2RelayEnvironment(e.accessToken);e=b||a.videoExperienceQueryReference===null?d("CometRelay").loadQuery(c,d("TV2VideoExperienceQuery").TV2VideoExperienceQueryQuery,{scale:d("WebPixelRatio").get(),video_id:e.videoID},{fetchPolicy:"network-only"}):a.videoExperienceQueryReference;return c===a.relayEnvironment&&e===a.videoExperienceQueryReference?a:babelHelpers["extends"]({},a,{relayEnvironment:c,videoExperienceQueryReference:e,videoQueryRetryCount:b?f+1:f})},sideEffectfulUpdateLastObservedVideoPlayerState:function(a,b){a.lastObservedVideoPlayerStateRef.current=b;return a},sideEffectfulStartFetchingRelatedVideos:function(a,b,c){if(a.relatedVideosRequest!=null)return a;var e=a.relatedVideosCanFetchAgain,f=a.relatedVideosQueue;if(b.fix_repeated_fetch_related_videos&&e!==!0)return a;e=f!=null?d("TV2VideoExperienceQueueState").TV2VideoExperienceQueueStateSelectors.getLastQueueEntry(f):null;if(f!=null&&(d("TV2VideoExperienceQueueState").TV2VideoExperienceQueueStateSelectors.getQueueLength(f)>1||e!=null&&e.videoCastRequest.endCursor==null||b.fix_repeated_fetch_related_videos&&e==null))return a;b=(f=e==null?void 0:e.videoCastRequest)!=null?f:a.videoCastRequest;e=d("TV2RelatedVideosRequest").createAndStartTV2RelatedVideosRequest(b,c);return babelHelpers["extends"]({},a,{relatedVideosRequest:e})},updateWithRelatedVideosRequestCompleted:function(a,b){var e=a.relatedVideosRequest;if(e!=null&&b.relatedVideosRequestID===e.relatedVideosRequestID){var f=a.relatedVideosQueue,g;switch(b.type){case"loaded":var i,j=(i=f)!=null?i:d("TV2VideoExperienceQueueState").TV2VideoExperienceQueueStateReducers.make();b.entries.forEach(function(b){j=d("TV2VideoExperienceQueueState").TV2VideoExperienceQueueStateReducers.appendToQueue(j,h.make({relatedToQueueEntryID:a.queueEntryID,relayEnvironmentToReuse:a.relayEnvironment,videoCastRequest:b}))});f=j;g=!0;break;case"channel_token_empty":g=!1;break;case"channel_ended":g=!1;break;case"error":g=!1;break;default:b.type;throw c("unrecoverableViolation")("Unexpected related videos result type: "+b.type,"comet_tv_casting")}e.destroy();return babelHelpers["extends"]({},a,{relatedVideosCanFetchAgain:g,relatedVideosQueue:f,relatedVideosRequest:null})}return a},updateRelatedVideosQueue:function(a,b){if(a.relatedVideosQueue==null)return a;b=b(a.relatedVideosQueue);return b===a.relatedVideosQueue?a:babelHelpers["extends"]({},a,{relatedVideosQueue:b})},takeAndRemoveNextRelatedVideo:function(a,b){b.current=null;return h.updateRelatedVideosQueue(a,function(a){return d("TV2VideoExperienceQueueState").TV2VideoExperienceQueueStateReducers.takeAndRemoveFirstQueueEntry(a,b)})},updateUpNext:function(a,b){b=b(a.upNextInterstitialState);return b!==a.upNextInterstitialState?babelHelpers["extends"]({},a,{upNextInterstitialState:b}):a}};g.TV2VideoExperienceQueueEntryStateSelectors=a;g.TV2VideoExperienceQueueEntryStateReducers=h}),98);
__d("TV2VideoExperienceQueueState",["TV2VideoExperienceQueueEntryState","shallowEqual"],(function(a,b,c,d,e,f,g){"use strict";var h={getQueueIndex:function(a){return a.index},getQueueLength:function(a){return a.entries.length},findQueueEntry:function(a,b){return(a=a.entries.find(b))!=null?a:null},findQueueEntryIndex:function(a,b){return a.entries.findIndex(b)},forEachQueueEntry:function(a,b){a.entries.forEach(b)},getQueueEntryByIndex:function(a,b){var c;c=(c=a.entries.length)!=null?c:0;if(c<=0)return null;b=b;if(b>=c)return null;while(b<0)b+=c;c=a.entries[b];return(a=c)!=null?a:null},getCurrentQueueEntry:function(a){return h.getQueueEntryByIndex(a,a.index)},getNextQueueEntry:function(a){return h.getQueueEntryByIndex(a,a.index+1)},getRemainingEntries:function(a){return h.getNextQueueEntry(a)?a.entries.slice(a.index+1):[]},getLastQueueEntry:function(a){return h.getQueueEntryByIndex(a,-1)},hasNextRelatedVideoEntry:function(a){var b=h.getCurrentQueueEntry(a);if(b!=null){var c=d("TV2VideoExperienceQueueEntryState").TV2VideoExperienceQueueEntryStateSelectors.getRelatedVideosRootQueueEntryID(b);b=h.findQueueEntry(a,function(a){return a.queueEntryID===c});if(b!=null)return d("TV2VideoExperienceQueueEntryState").TV2VideoExperienceQueueEntryStateSelectors.getCountRelatedVideosRemaining(b)>0}return!1}},i={make:function(){return{entries:[],index:0}},appendToQueue:function(a,b){return babelHelpers["extends"]({},a,{entries:[].concat(a.entries,[b])})},insertIntoQueueAfterCurrent:function(a,b){return babelHelpers["extends"]({},a,{entries:[].concat(a.entries.slice(0,a.index+1),[b],a.entries.slice(a.index+1))})},moveCurrentIndexToDirection:function(a,b){b=a.index+b;return b<0||b>=a.entries.length?a:babelHelpers["extends"]({},a,{index:b})},moveCurrentIndexToNext:function(a){return i.moveCurrentIndexToDirection(a,1)},moveCurrentIndexToPrev:function(a){return i.moveCurrentIndexToDirection(a,-1)},updateSingleQueueEntry:function(a,b,e){var f=a.entries.map(function(a){return a.queueEntryID===b?d("TV2VideoExperienceQueueEntryState").TV2VideoExperienceQueueEntryStateReducers.update(a,e):a});return f===a.entries||f.length===a.entries.length&&f.every(function(b,d){return c("shallowEqual")(b,a.entries[d])})?a:babelHelpers["extends"]({},a,{entries:f})},updateQueueEntries:function(a,b,e){e===void 0&&(e=!1);var f=h.getCurrentQueueEntry(a);b=b(a.entries);if(b===a.entries||b.length===a.entries.length&&b.every(function(b,d){return c("shallowEqual")(b,a.entries[d])}))return a;var g=b.findIndex(function(a){return a.queueEntryID===(f==null?void 0:f.queueEntryID)});g=g>=0?g:0;if(!e){var i=new Map();a.entries.forEach(function(a){i.set(a.queueEntryID,a)});b.forEach(function(a){i["delete"](a.queueEntryID)});i.forEach(function(a){d("TV2VideoExperienceQueueEntryState").TV2VideoExperienceQueueEntryStateReducers.destroy(a)})}return babelHelpers["extends"]({},a,{entries:b,index:g})},takeAndRemoveFirstQueueEntry:function(a,b){b.current=null;return i.updateQueueEntries(a,function(a){var c=a[0];a=a.slice(1);b.current=c;return a},!0)},moveNextRelatedVideoIntoQueueIfAtEndOfQueue:function(a){a=a;var b=h.getCurrentQueueEntry(a),c=h.getLastQueueEntry(a);c=b!=null&&c!=null&&b.queueEntryID===c.queueEntryID;if(!c)return a;if(b!=null){var e={current:null};c=d("TV2VideoExperienceQueueEntryState").TV2VideoExperienceQueueEntryStateSelectors.getRelatedVideosRootQueueEntryID(b);a=i.updateSingleQueueEntry(a,c,function(a){return d("TV2VideoExperienceQueueEntryState").TV2VideoExperienceQueueEntryStateReducers.takeAndRemoveNextRelatedVideo(a,e)});c=e.current;c!=null&&(a=i.appendToQueue(a,d("TV2VideoExperienceQueueEntryState").TV2VideoExperienceQueueEntryStateReducers.deriveChainingInfo(c,b)))}return a},sideEffectfulStartFetchingVideoExperience:function(a,b,c){if(b<=0)return a;var e=h.getQueueIndex(a);return e<0?a:i.updateQueueEntries(a,function(a){return a.map(function(a,f){a=a;f>=e&&f<e+b&&(a=d("TV2VideoExperienceQueueEntryState").TV2VideoExperienceQueueEntryStateReducers.sideEffectfulStartFetchingVideoExperience(a));a=d("TV2VideoExperienceQueueEntryState").TV2VideoExperienceQueueEntryStateReducers.updateRelatedVideosQueue(a,function(a){return i.sideEffectfulStartFetchingVideoExperience(a,c,0)});return a})})}};g.TV2VideoExperienceQueueStateSelectors=h;g.TV2VideoExperienceQueueStateReducers=i}),98);
__d("TV2VideoExperienceState",["TV2VideoExperienceQueueState","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h={getExperienceInfoForFBAppProtocol:function(a){return a.experienceInfoForFBAppProtocol},getQueue:function(a){return a.queue},getCurrentQueueEntry:function(a){a=d("TV2VideoExperienceQueueState").TV2VideoExperienceQueueStateSelectors.getCurrentQueueEntry(h.getQueue(a));if(a==null)throw c("unrecoverableViolation")("Unexpected empty queue in video experience state","comet_tv_casting");return a},getLastQueueEntry:function(a){a=d("TV2VideoExperienceQueueState").TV2VideoExperienceQueueStateSelectors.getLastQueueEntry(h.getQueue(a));if(a==null)throw c("unrecoverableViolation")("Unexpected empty queue in video experience state","comet_tv_casting");return a}};a={makeOrReuse:function(a,b){a=a.experienceInfoForFBAppProtocol;return b!=null&&b.experienceInfoForFBAppProtocol.experienceName===a.experienceName&&b.experienceInfoForFBAppProtocol.experienceKey===a.experienceKey?b:{experienceInfoForFBAppProtocol:a,isIdle:!1,isMediaExperience:!0,queue:d("TV2VideoExperienceQueueState").TV2VideoExperienceQueueStateReducers.make(),type:"video_experience"}},updateQueue:function(a,b){b=b(a.queue);return b===a.queue?a:babelHelpers["extends"]({},a,{queue:b})},markIdle:function(a,b){return b===a.isIdle?a:babelHelpers["extends"]({},a,{isIdle:b})}};g.TV2VideoExperienceStateSelectors=h;g.TV2VideoExperienceStateReducers=a}),98);
__d("TV2AppExperienceState",["TV2VideoExperienceState"],(function(a,b,c,d,e,f,g){"use strict";var h={castToVideoExperience:function(a){var b=null;switch(a.type){case"video_experience":b=a;break}return b}};a={makeIdleExperience:function(){return{isMediaExperience:!1,type:"idle_experience"}},makeOrReuseVideoExperience:function(a,b){return d("TV2VideoExperienceState").TV2VideoExperienceStateReducers.makeOrReuse(a,b!=null?h.castToVideoExperience(b):null)},makeShutdownExperience:function(){return{isMediaExperience:!1,type:"shutdown_experience"}}};g.TV2AppExperienceStateSelectors=h;g.TV2AppExperienceStateReducers=a}),98);
__d("getTV2DebugTimeoutsEnabled",["getTV2DebuggingEnabled","getTV2QueryStringCheatcode"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("getTV2DebuggingEnabled")()&&c("getTV2QueryStringCheatcode")("tv2_debug_timeouts")}g["default"]=a}),98);
__d("TV2ExperimentsConfig",["DateConsts","ErrorNormalizeUtils","TV2CommsParseUtils","getErrorSafe","getTV2DebugTimeoutsEnabled","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h={example_experiment:!1,fix_repeated_fetch_related_videos:!1,idle_experience_idle_timeout_ms:null,memory_usage_logging:!1,send_status_update_and_duration_change_on_player_mounted:!1,shutdown_on_video_idle_screen_timeout:!1,shutdown_sequence_enabled:!1,stop_chaining_if_user_inactive_for_ms:null,toasts_enabled:!1,tv_enable_tracking_codes_fix:!1,up_next_interstitial:null,video_experience_idle_screen_idle_timeout_ms:null,video_experience_idle_timeout_ms:null};function i(a){return c("getTV2DebugTimeoutsEnabled")()&&typeof a==="number"?Math.min(.01*a,2*d("DateConsts").MS_PER_MIN):a}function a(a,b){var e=d("TV2CommsParseUtils").parseJSONString(a,d("TV2CommsParseUtils").parseObject,b);return babelHelpers["extends"]({},h,{example_experiment:f("example_experiment",d("TV2CommsParseUtils").parseBoolean),fix_repeated_fetch_related_videos:f("fix_repeated_fetch_related_videos",d("TV2CommsParseUtils").parseBoolean),idle_experience_idle_timeout_ms:i(f("idle_experience_idle_timeout_ms",d("TV2CommsParseUtils").parseOptionalNumber)),memory_usage_logging:f("memory_usage_logging",d("TV2CommsParseUtils").parseBoolean),send_status_update_and_duration_change_on_player_mounted:f("send_status_update_and_duration_change_on_player_mounted",d("TV2CommsParseUtils").parseBoolean),shutdown_on_video_idle_screen_timeout:f("shutdown_on_video_idle_screen_timeout",d("TV2CommsParseUtils").parseBoolean),shutdown_sequence_enabled:f("shutdown_sequence_enabled",d("TV2CommsParseUtils").parseBoolean),stop_chaining_if_user_inactive_for_ms:i(f("stop_chaining_if_user_inactive_for_ms",d("TV2CommsParseUtils").parseOptionalNumber)),toasts_enabled:f("toasts_enabled",d("TV2CommsParseUtils").parseBoolean),tv_enable_tracking_codes_fix:f("tv_enable_tracking_codes_fix",d("TV2CommsParseUtils").parseBoolean),up_next_interstitial:f("up_next_interstitial",function(b,a){b=d("TV2CommsParseUtils").parseOptionalObject(b,a);return b?{countdown_seconds:d("TV2CommsParseUtils").parseNumber(b.countdown_seconds,a+".countdown_seconds")}:null}),video_experience_idle_screen_idle_timeout_ms:i(f("video_experience_idle_screen_idle_timeout_ms",d("TV2CommsParseUtils").parseOptionalNumber)),video_experience_idle_timeout_ms:i(f("video_experience_idle_timeout_ms",d("TV2CommsParseUtils").parseOptionalNumber))});function f(a,d){try{return d(e[a],b+"."+a)}catch(b){d=c("ErrorNormalizeUtils").normalizeError(c("getErrorSafe")(b));c("recoverableViolation")("TV2ExperimentsConfig."+a+": "+d.message,"comet_tv_casting");return h[a]}}}g.TV2ExperimentsConfigDefault=h;g.parseFromGraphQL=a}),98);
__d("TV2ExperimentsState",["TV2ExperimentsConfig","deepEquals"],(function(a,b,c,d,e,f,g){"use strict";a={makeInitialState:function(){return{experimentsConfig:d("TV2ExperimentsConfig").TV2ExperimentsConfigDefault,version:0}},getExperimentsConfig:function(a){return a.experimentsConfig},updateExperimentsConfig:function(a,b){return c("deepEquals")(b,a.experimentsConfig)?a:babelHelpers["extends"]({},a,{experimentsConfig:b,version:a.version+1})}};g.TV2ExperimentsState=a}),98);
__d("TV2MemoryUsageLoggerLazy",["JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";var h=0,i=c("JSResourceForInteraction")("CometMemoryLogger").__setRef("TV2MemoryUsageLoggerLazy"),j=null,k=i.getModuleIfRequireable();k&&l(k);function l(a){a.init(),a.setNavigationCount(h),k=a}function a(){if(k)return;if(j)return;j=i.load()["finally"](function(){j=null;var a=i.getModuleIfRequireable();a&&l(a)})}function b(){h++,k&&k.setNavigationCount(h)}d={incrementNavigationCount:b,loadAndInit:a};g["default"]=d}),98);
__d("TV2Timeout",["clearTimeout","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=null,b=null;function d(){a!=null&&c("clearTimeout")(a),a=null,b=null,f.plannedTime=null,f.triggered=!1}function e(){var c=b;a=null;b=null;f.plannedTime=null;f.triggered=!0;c&&c()}var f={plannedTime:null,triggered:!1,update:function(g,h,i){if(h==null){d();return}switch(i){case"reset":d();f.plannedTime=Date.now()+h;f.triggered=!1;b=g;a=c("setTimeout")(e,h);break;case"stop":d();break;case"keep":b=g;break;default:i}}};return f}g.makeTV2Timeout=a}),98);
__d("TV2ToastsState",["TV2UniqueIDs","TV2VideoExperienceQueueEntryState","setTimeout","shallowEqual"],(function(a,b,c,d,e,f,g){"use strict";var h=10,i=3,j={makeAddedToQueue:function(a){a=a.queueEntry;var b=d("TV2VideoExperienceQueueEntryState").TV2VideoExperienceQueueEntryStateSelectors.getBlurredThumbnailURL(a);a=d("TV2VideoExperienceQueueEntryState").TV2VideoExperienceQueueEntryStateSelectors.getVideoID(a);var c=b!=null?"not_loaded":"empty";return{debugVideoID:a,toastID:d("TV2UniqueIDs").makeTV2ToastID(),toastImageState:c,toastImageURL:b,toastState:c==="empty"?"ready":"initial",type:"added_to_queue"}},updateWithImageLoaded:function(a){var b=babelHelpers["extends"]({},a,{toastImageState:"loaded",toastState:a.toastState==="initial"?"ready":a.toastState});return b.toastImageState!==a.toastImageState||b.toastState!==a.toastState?b:a},updateWithSeen:function(a){return a.toastState!=="seen"?babelHelpers["extends"]({},a,{toastState:"seen"}):a}};a={getToastsForUI:function(a){return a.entries.slice(0,i)}};var k={make:function(){return{entries:[]}},insertIntoToasts:function(a,b,c){c===void 0&&(c=function(){return!0});var d=a.entries.filter(c);a=k.updateEachToast(a,function(a,b){if(!c(a))return null;return b<d.length-(h-1)?j.updateWithSeen(a):a});return babelHelpers["extends"]({},a,{entries:[].concat(a.entries,[b])})},updateEachToast:function(a,b){var d=!1,e=a.entries.map(function(a,e){e=b(a,e);if(!c("shallowEqual")(e,a)){d=!0;return e}return a});return!d?a:{entries:e.filter(Boolean)}},sideEffectfulStartLoadingToastImages:function(a,b){return k.updateEachToast(a,function(a){var d=a.toastImageState,e=a.toastImageURL;if(e!=null&&d==="not_loaded"){d=new Image();d.onload=d.onerror=function(){b({toastID:a.toastID,toastImageURL:e})};d.src=e;d.complete&&c("setTimeout")(function(){b({toastID:a.toastID,toastImageURL:e})},0);return babelHelpers["extends"]({},a,{toastImageState:"loading"})}return a})}};g.TV2ToastEntryStateReducers=j;g.TV2ToastsStateSelectors=a;g.TV2ToastsStateReducers=k}),98);
__d("getTV2DebugFetchRelatedVideosImmediately",["getTV2DebuggingEnabled","getTV2QueryStringCheatcode"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("getTV2DebuggingEnabled")()&&c("getTV2QueryStringCheatcode")("tv2_debug_load_related_videos_immediately")}g["default"]=a}),98);
__d("getTV2DebugOverlayEnabled",["getTV2DebuggingEnabled","getTV2QueryStringCheatcode"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("getTV2DebuggingEnabled")()&&c("getTV2QueryStringCheatcode")("tv2_debug_overlay")}g["default"]=a}),98);
__d("getTV2DebugShutdownEnabled",["getTV2DebuggingEnabled","getTV2QueryStringCheatcode"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("getTV2DebuggingEnabled")()&&c("getTV2QueryStringCheatcode")("tv2_debug_shutdown")}g["default"]=a}),98);
__d("getTV2DebugUpNextEnabled",["getTV2DebuggingEnabled","getTV2QueryStringCheatcode"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("getTV2DebuggingEnabled")()&&c("getTV2QueryStringCheatcode")("tv2_debug_up_next")}g["default"]=a}),98);
__d("getTV2DebuggingOnDesktop",["getTV2DebuggingEnabled"],(function(a,b,c,d,e,f,g){"use strict";function b(){return c("getTV2DebuggingEnabled")()&&a.navigator.hardwareConcurrency>2}g["default"]=b}),98);
__d("TV2AppState",["Promise","TV2AppExperienceState","TV2ExperienceRegistry","TV2ExperimentsState","TV2MemoryUsageLoggerLazy","TV2Timeout","TV2ToastsState","TV2UpNextInterstitialState","TV2VideoExperienceQueueEntryState","TV2VideoExperienceQueueState","TV2VideoExperienceState","getTV2DebugFetchRelatedVideosImmediately","getTV2DebugOverlayEnabled","getTV2DebugShutdownEnabled","getTV2DebugUpNextEnabled","getTV2DebuggingOnDesktop","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h={getIsLifecycleShutdown:function(a){return a.lifecycleState==="shutdown"},getVideoExperience:function(a){return d("TV2AppExperienceState").TV2AppExperienceStateSelectors.castToVideoExperience(a.experience)},getRelayEnvironment:function(a){var b=h.getVideoExperience(a);if(b!=null){b=d("TV2VideoExperienceState").TV2VideoExperienceStateSelectors.getCurrentQueueEntry(b);if(b!=null)return d("TV2VideoExperienceQueueEntryState").TV2VideoExperienceQueueEntryStateSelectors.getRelayEnvironment(b)}b=d("TV2ExperienceRegistry").getExperienceInterfaceByType(a.experience.type);return(b=b==null?void 0:b.getRelayEnvironment(a.experience))!=null?b:null},getExperienceInfoForFBAppProtocol:function(a){a=h.getVideoExperience(a);return a!=null?d("TV2VideoExperienceState").TV2VideoExperienceStateSelectors.getExperienceInfoForFBAppProtocol(a):null},getCurrentQueueEntry:function(a){a=h.getVideoExperience(a);return a!=null?d("TV2VideoExperienceState").TV2VideoExperienceStateSelectors.getCurrentQueueEntry(a):null},getLastQueueEntry:function(a){a=h.getVideoExperience(a);return a!=null?d("TV2VideoExperienceState").TV2VideoExperienceStateSelectors.getLastQueueEntry(a):null},getCurrentVideoCastRequest:function(a){a=h.getCurrentQueueEntry(a);return a!=null?d("TV2VideoExperienceQueueEntryState").TV2VideoExperienceQueueEntryStateSelectors.getVideoCastRequest(a):null},getCurrentVideoCastRequestID:function(a){a=h.getCurrentVideoCastRequest(a);return a!=null?a.videoCastRequestID:null},getExperimentsConfig:function(a){return d("TV2ExperimentsState").TV2ExperimentsState.getExperimentsConfig(a.experiments)}},i={make:function(){return{debugOverlayEnabled:c("getTV2DebugOverlayEnabled")(),experience:d("TV2AppExperienceState").TV2AppExperienceStateReducers.makeIdleExperience(),experienceReactError:null,experienceReactKey:0,experiments:d("TV2ExperimentsState").TV2ExperimentsState.makeInitialState(),lastObservedUserActivityTimestampRef:{current:null},lifecycleState:"before_first_experience",shutdownSequencePromise:null,timeouts:{idle_experience_idle_timeout:d("TV2Timeout").makeTV2Timeout(),video_experience_idle_screen_idle_timeout:d("TV2Timeout").makeTV2Timeout(),video_experience_idle_timeout:d("TV2Timeout").makeTV2Timeout()},toasts:d("TV2ToastsState").TV2ToastsStateReducers.make(),version:0}},setExperienceReactError:function(a,b){return babelHelpers["extends"]({},a,{experienceReactError:b.error})},updateExperience:function(a,b){if(h.getIsLifecycleShutdown(a))return a;b=b(a.experience);if(b===a.experience)return a;var c;b.type==="shutdown_experience"?c="shutdown":a.lifecycleState==="before_first_experience"&&b.isMediaExperience?c="running":c=a.lifecycleState;b=babelHelpers["extends"]({},a,{experience:b,lifecycleState:c,version:a.version+1});c=a.experienceReactError!=null&&!(b.experience.isMediaExperience&&((c=h.getCurrentQueueEntry(b))==null?void 0:c.queueEntryID)===((c=h.getCurrentQueueEntry(a))==null?void 0:c.queueEntryID));b=babelHelpers["extends"]({},b,{experienceReactError:c?null:a.experienceReactError,experienceReactKey:c?a.experienceReactKey+1:a.experienceReactKey});return b},updateVideoExperience:function(a,b){return h.getIsLifecycleShutdown(a)?a:i.updateExperience(a,function(a){var c=d("TV2AppExperienceState").TV2AppExperienceStateSelectors.castToVideoExperience(a);return c!=null?b(c):a})},updateQueueEntries:function(a,b){return i.updateVideoExperience(a,function(a){return d("TV2VideoExperienceState").TV2VideoExperienceStateReducers.updateQueue(a,function(a){return d("TV2VideoExperienceQueueState").TV2VideoExperienceQueueStateReducers.updateQueueEntries(a,b)})})},updateSingleQueueEntry:function(a,b,c){return i.updateVideoExperience(a,function(a){return d("TV2VideoExperienceState").TV2VideoExperienceStateReducers.updateQueue(a,function(a){return d("TV2VideoExperienceQueueState").TV2VideoExperienceQueueStateReducers.updateSingleQueueEntry(a,b,c)})})},updateToasts:function(a,b){if(h.getIsLifecycleShutdown(a))return a;b=b(a.toasts);return b===a.toasts?a:babelHelpers["extends"]({},a,{toasts:b,version:a.version+1})},updateExperiments:function(a,b){if(h.getIsLifecycleShutdown(a))return a;b=b(a.experiments);return b===a.experiments?a:babelHelpers["extends"]({},a,{experiments:b,version:a.version+1})},transitionToIdleExperience:function(a){return h.getIsLifecycleShutdown(a)?a:i.updateExperience(a,function(a){return a.type==="idle_experience"?a:d("TV2AppExperienceState").TV2AppExperienceStateReducers.makeIdleExperience()})},transitionToShutdownExperience:function(a){return h.getIsLifecycleShutdown(a)?a:i.updateExperience(a,function(a){return a.type==="shutdown_experience"?a:d("TV2AppExperienceState").TV2AppExperienceStateReducers.makeShutdownExperience()})},moveVideoExperienceQueueCurrentIndexToDirection:function(a,b){var e=b.clockTimestamp,f=b.direction,g=b.isUserInitiated,j=c("getTV2DebugUpNextEnabled")()?{countdown_seconds:10}:h.getExperimentsConfig(a).up_next_interstitial;return i.updateVideoExperience(a,function(a){return d("TV2VideoExperienceState").TV2VideoExperienceStateReducers.updateQueue(a,function(a){var b=d("TV2VideoExperienceQueueState").TV2VideoExperienceQueueStateReducers.moveCurrentIndexToDirection(a,f);if(b!==a&&j!=null){var c=(a=d("TV2VideoExperienceQueueState").TV2VideoExperienceQueueStateSelectors.getCurrentQueueEntry(b))==null?void 0:a.queueEntryID;b=d("TV2VideoExperienceQueueState").TV2VideoExperienceQueueStateReducers.updateQueueEntries(b,function(a){return a.map(function(a){var b=a.queueEntryID===c;return d("TV2VideoExperienceQueueEntryState").TV2VideoExperienceQueueEntryStateReducers.updateUpNext(a,function(){return d("TV2UpNextInterstitialState").TV2UpNextInterstitialStateReducers.resetOnCurrentEntryChanged({clockTimestamp:e,forCurrentQueueEntry:b,isUserInitiated:g,upNextConfig:j})})})})}return b})})},transitionToPrevVideo:function(a,b){var c=b.clockTimestamp;b=b.isUserInitiated;return h.getIsLifecycleShutdown(a)?a:i.moveVideoExperienceQueueCurrentIndexToDirection(a,{clockTimestamp:c,direction:-1,isUserInitiated:b})},transitionToNextVideo:function(a,b){var c,e=b.clockTimestamp;b=b.isUserInitiated;if(h.getIsLifecycleShutdown(a))return a;a=a;var f=h.getCurrentQueueEntry(a);if(b&&f!=null&&((c=f.upNextInterstitialState)==null?void 0:c.upNextVisibility)==="up_next_visible")return i.updateSingleQueueEntry(a,f.queueEntryID,function(a){return d("TV2VideoExperienceQueueEntryState").TV2VideoExperienceQueueEntryStateReducers.updateUpNext(a,function(a){return d("TV2UpNextInterstitialState").TV2UpNextInterstitialStateReducers.markSeen(a)})});a=i.moveNextRelatedVideoIntoQueueIfAtEndOfQueue(a,{isUserInitiated:b});a=i.moveVideoExperienceQueueCurrentIndexToDirection(a,{clockTimestamp:e,direction:1,isUserInitiated:b});return a},startNewQueue:function(a,b){var c=b.experienceInfoForFBAppProtocol,e=b.videoCastRequest;return i.updateExperience(a,function(a){a=d("TV2AppExperienceState").TV2AppExperienceStateReducers.makeOrReuseVideoExperience({experienceInfoForFBAppProtocol:c},a);return d("TV2VideoExperienceState").TV2VideoExperienceStateReducers.updateQueue(a,function(a){return d("TV2VideoExperienceQueueState").TV2VideoExperienceQueueStateReducers.appendToQueue(d("TV2VideoExperienceQueueState").TV2VideoExperienceQueueStateReducers.make(),d("TV2VideoExperienceQueueEntryState").TV2VideoExperienceQueueEntryStateReducers.make({videoCastRequest:e}))})})},playVideoNow:function(a,b,c){var e=b.experienceInfoForFBAppProtocol,f=b.videoCastRequest;b=a;b=i.updateExperience(b,function(a){a=d("TV2AppExperienceState").TV2AppExperienceStateReducers.makeOrReuseVideoExperience({experienceInfoForFBAppProtocol:e},a);return d("TV2VideoExperienceState").TV2VideoExperienceStateReducers.updateQueue(a,function(a){return d("TV2VideoExperienceQueueState").TV2VideoExperienceQueueStateReducers.insertIntoQueueAfterCurrent(a,d("TV2VideoExperienceQueueEntryState").TV2VideoExperienceQueueEntryStateReducers.make({videoCastRequest:f}))})});b=i.transitionToNextVideo(b,{clockTimestamp:c,isUserInitiated:!0});return b},addVideoToQueue:function(a,b){var c=b.experienceInfoForFBAppProtocol,e=b.videoCastRequest;return i.updateExperience(a,function(a){a=d("TV2AppExperienceState").TV2AppExperienceStateReducers.makeOrReuseVideoExperience({experienceInfoForFBAppProtocol:c},a);return d("TV2VideoExperienceState").TV2VideoExperienceStateReducers.updateQueue(a,function(a){return d("TV2VideoExperienceQueueState").TV2VideoExperienceQueueStateReducers.appendToQueue(a,d("TV2VideoExperienceQueueEntryState").TV2VideoExperienceQueueEntryStateReducers.make({videoCastRequest:e}))})})},moveNextRelatedVideoIntoQueueIfAtEndOfQueue:function(a,b){b=b.isUserInitiated;if(h.getIsLifecycleShutdown(a))return a;var c=a.lastObservedUserActivityTimestampRef.current;c=c!=null?Date.now()-c:null;var e=h.getExperimentsConfig(a);b=!b&&e.stop_chaining_if_user_inactive_for_ms!=null&&e.stop_chaining_if_user_inactive_for_ms>0&&c!=null&&c>e.stop_chaining_if_user_inactive_for_ms;return b?a:i.updateVideoExperience(a,function(a){return d("TV2VideoExperienceState").TV2VideoExperienceStateReducers.updateQueue(a,function(a){return d("TV2VideoExperienceQueueState").TV2VideoExperienceQueueStateReducers.moveNextRelatedVideoIntoQueueIfAtEndOfQueue(a)})})},updateEachTimeout:function(a,b){Object.keys(a.timeouts).forEach(function(c){var d=a.timeouts[c];b(c,d)})}};f=i.make();function j(a,b,e){var f=d("TV2ExperienceRegistry").getExperienceReducers();for(f of f){var g=f(a,b);if(g!=null)return g}switch(b.type){case"experience_react_error":return i.setExperienceReactError(a,b);case"user_start_new_queue":return i.startNewQueue(a,b);case"user_play_video_now":return i.playVideoNow(a,b,e);case"user_add_video_to_queue":return i.addVideoToQueue(a,b);case"user_select_prev_video":return i.transitionToPrevVideo(a,{clockTimestamp:e,isUserInitiated:!0});case"user_select_next_video":return i.transitionToNextVideo(a,{clockTimestamp:e,isUserInitiated:!0});case"user_stop_current_experience":return i.transitionToIdleExperience(a);case"debug_shutdown":return i.transitionToShutdownExperience(a);case"debug_video_experience_idle":return i.updateVideoExperience(a,function(a){return d("TV2VideoExperienceState").TV2VideoExperienceStateReducers.markIdle(a,b.isIdle)});case"toast_image_loaded":return i.updateToasts(a,function(a){return d("TV2ToastsState").TV2ToastsStateReducers.updateEachToast(a,function(a){return a.toastImageURL===b.toastImageURL?d("TV2ToastsState").TV2ToastEntryStateReducers.updateWithImageLoaded(a):a})});case"toast_seen":return i.updateToasts(a,function(a){return d("TV2ToastsState").TV2ToastsStateReducers.updateEachToast(a,function(a){return a.toastID===b.toastID?d("TV2ToastsState").TV2ToastEntryStateReducers.updateWithSeen(a):a})});case"toast_unmount_animation_ended":return i.updateToasts(a,function(a){return d("TV2ToastsState").TV2ToastsStateReducers.updateEachToast(a,function(a){return a.toastID===b.toastID?null:a})});case"shutdown_from_comms":return i.transitionToShutdownExperience(a);case"experiments_config_received_from_relay":return i.updateExperiments(a,function(a){return d("TV2ExperimentsState").TV2ExperimentsState.updateExperimentsConfig(a,b.experimentsConfig)});case"related_videos_request_completed":return i.updateSingleQueueEntry(a,b.queueEntryID,function(a){return d("TV2VideoExperienceQueueEntryState").TV2VideoExperienceQueueEntryStateReducers.updateWithRelatedVideosRequestCompleted(a,b.relatedVideosRequestResult)});case"video_cast_player_mounted":return a;case"video_cast_player_duration_changed":return a;case"video_cast_player_state_changed":return a;case"timeout_triggered":switch(b.timeoutName){case"idle_experience_idle_timeout":if(a.experience.type==="idle_experience")return i.transitionToShutdownExperience(a);else return a;case"video_experience_idle_timeout":if(a.experience.type==="video_experience")return i.transitionToShutdownExperience(a);else return a;case"video_experience_idle_screen_idle_timeout":if(a.experience.type==="video_experience"){g=h.getExperimentsConfig(a);return g.shutdown_on_video_idle_screen_timeout?i.transitionToShutdownExperience(a):i.transitionToIdleExperience(a)}else return a;default:b.timeoutName;return a}case"up_next_countdown_shown":return i.updateSingleQueueEntry(a,b.queueEntryID,function(a){return d("TV2VideoExperienceQueueEntryState").TV2VideoExperienceQueueEntryStateReducers.updateUpNext(a,function(a){return d("TV2UpNextInterstitialState").TV2UpNextInterstitialStateReducers.markShown(a)})});case"up_next_countdown_complete":return i.updateSingleQueueEntry(a,b.queueEntryID,function(a){return d("TV2VideoExperienceQueueEntryState").TV2VideoExperienceQueueEntryStateReducers.updateUpNext(a,function(a){return d("TV2UpNextInterstitialState").TV2UpNextInterstitialStateReducers.markSeen(a)})});case"user_pause_current_video":return a;case"user_unpause_current_video":return a;case"user_seek_current_video":return a;case"retry_current_video_experience":return i.updateSingleQueueEntry(a,b.queueEntryID,function(a){return d("TV2VideoExperienceQueueEntryState").TV2VideoExperienceQueueEntryStateReducers.sideEffectfulStartFetchingVideoExperience(a,!0)});default:c("recoverableViolation")("Unexpected app state action: "+b.type,"comet_tv_casting");return a}}function a(){return[function(a){var b=a.action;a=a.pendingState;if(b.source==="from_user"){b=Date.now();a.lastObservedUserActivityTimestampRef.current=b}return a},function(a){var b=a.action;a=a.pendingState;return j(a,b,Date.now())},function(a){var b=a.action,c=a.pendingState;a=a.prevState;var e=h.getCurrentQueueEntry(c);a=h.getCurrentQueueEntry(a);e!=null&&e.queueEntryID!==(a==null?void 0:a.queueEntryID)&&(e.lastObservedVideoPlayerStateRef.current=null);switch(b.type){case"video_cast_player_mounted":case"video_cast_player_duration_changed":case"video_cast_player_state_changed":a=b.queueEntryID;var f=b.videoPlayerState;e=i.updateSingleQueueEntry(c,a,function(a){return d("TV2VideoExperienceQueueEntryState").TV2VideoExperienceQueueEntryStateReducers.sideEffectfulUpdateLastObservedVideoPlayerState(a,f)});b=h.getCurrentQueueEntry(e);if(b!=null&&d("TV2VideoExperienceQueueEntryState").TV2VideoExperienceQueueEntryStateSelectors.getVolatileIsLastObservedVideoPlayerStateEnded(b)){var g;e=i.transitionToNextVideo(e,{clockTimestamp:Date.now(),isUserInitiated:!1});a=(a=h.getCurrentQueueEntry(e))==null?void 0:a.queueEntryID;g=(g=h.getLastQueueEntry(e))==null?void 0:g.queueEntryID;a!=null&&g!=null&&a===b.queueEntryID&&a===g&&(e=i.updateVideoExperience(e,function(a){return d("TV2VideoExperienceState").TV2VideoExperienceStateReducers.markIdle(a,!0)}))}return e}return c},function(a){var b=a.action,c=a.pendingState;a=a.prevState;switch(b.type){case"user_add_video_to_queue":b=h.getCurrentQueueEntry(c);a=h.getLastQueueEntry(a);if(b!=null&&a!=null&&b.queueEntryID===a.queueEntryID&&d("TV2VideoExperienceQueueEntryState").TV2VideoExperienceQueueEntryStateSelectors.getVolatileIsLastObservedVideoPlayerStateEnded(b))return i.transitionToNextVideo(c,{clockTimestamp:Date.now(),isUserInitiated:!0})}return c},function(a){var b=a.handleSideEffectEvent,e=a.logger;a=a.pendingState;var f=h.getCurrentQueueEntry(a),g=h.getLastQueueEntry(a);if(f==null||g==null)return a;var j=c("getTV2DebugFetchRelatedVideosImmediately")();j=j||f.queueEntryID===g.queueEntryID&&l(g);if(!j)return a;var k=h.getExperimentsConfig(a);f=d("TV2VideoExperienceQueueEntryState").TV2VideoExperienceQueueEntryStateSelectors.getRelatedVideosRootQueueEntryID(g);return i.updateSingleQueueEntry(a,f,function(a){return d("TV2VideoExperienceQueueEntryState").TV2VideoExperienceQueueEntryStateReducers.sideEffectfulStartFetchingRelatedVideos(a,k,function(c){b({queueEntryID:a.queueEntryID,relatedVideosRequestResult:c,source:"from_app",type:"related_videos_request_completed"});switch(c.type){case"loaded":break;case"error":e.logTVError({error:c.error,errorLocation:"related_videos_request_completed"});break;case"channel_token_empty":break;case"channel_ended":break;default:c.type}})});function l(a){return a!=null&&(d("TV2VideoExperienceQueueEntryState").TV2VideoExperienceQueueEntryStateSelectors.getVolatileIsLastObservedVideoPlayerStateEnded(a)||d("TV2VideoExperienceQueueEntryState").TV2VideoExperienceQueueEntryStateSelectors.getVolatileIsLastObservedVideoPlayerStatePlaying(a))}},function(a){var b=a.logger;a=a.pendingState;var c=h.getCurrentVideoCastRequest(a);c!=null&&b.overrideAccessToken(c.accessToken);return a},function(a){a=a.pendingState;var b=h.getVideoExperience(a);if(b==null)return a;b=d("TV2VideoExperienceState").TV2VideoExperienceStateSelectors.getCurrentQueueEntry(b);return b==null?a:i.updateVideoExperience(a,function(a){return d("TV2VideoExperienceState").TV2VideoExperienceStateReducers.updateQueue(a,function(a){return d("TV2VideoExperienceQueueState").TV2VideoExperienceQueueStateReducers.sideEffectfulStartFetchingVideoExperience(a,2,1)})})},function(a){var b=a.pendingState;a=a.prevState;var c=h.getExperimentsConfig(b);if(!c.toasts_enabled)return b;c=h.getVideoExperience(a);if(c!=null){var e=d("TV2VideoExperienceState").TV2VideoExperienceStateSelectors.getQueue(c);a=h.getVideoExperience(b);c=a!=null?d("TV2VideoExperienceState").TV2VideoExperienceStateSelectors.getQueue(a):null;var f=[];c!=null&&d("TV2VideoExperienceQueueState").TV2VideoExperienceQueueStateSelectors.forEachQueueEntry(c,function(a,b){if(e==null&&b===0)return;if(a.videoCastRequest.fromNextVideoQuery)return;b=e!=null?d("TV2VideoExperienceQueueState").TV2VideoExperienceQueueStateSelectors.findQueueEntry(e,function(b){return b.queueEntryID===a.queueEntryID}):null;b||f.push(a)});return i.updateToasts(b,function(a){return f.reduce(function(a,b){return d("TV2ToastsState").TV2ToastsStateReducers.insertIntoToasts(a,d("TV2ToastsState").TV2ToastEntryStateReducers.makeAddedToQueue({queueEntry:b}))},a)})}return b},function(a){var b=a.handleSideEffectEvent;a=a.pendingState;return i.updateToasts(a,function(a){return d("TV2ToastsState").TV2ToastsStateReducers.sideEffectfulStartLoadingToastImages(a,function(a){var c=a.toastID;a=a.toastImageURL;b({source:"from_app",toastID:c,toastImageURL:a,type:"toast_image_loaded"})})})},function(a){var b=a.action;a=a.pendingState;return b.source==="from_user"?i.updateVideoExperience(a,function(a){return d("TV2VideoExperienceState").TV2VideoExperienceStateReducers.markIdle(a,!1)}):a},function(a){var b=a.action,c=a.handleSideEffectEvent,d=a.pendingState,e=a.prevState,f=b.source==="from_user",g=b.source==="from_player",j=h.getExperimentsConfig(d);i.updateEachTimeout(d,function(a,b){function i(){c({source:"from_app",timeoutName:a,type:"timeout_triggered"})}switch(a){case"idle_experience_idle_timeout":b.update(i,j.idle_experience_idle_timeout_ms,function(){if(d.experience.type==="idle_experience")if(d.experience.type!==e.experience.type)return"reset";else return"keep";else return"stop"}());break;case"video_experience_idle_timeout":b.update(i,j.video_experience_idle_timeout_ms,function(){if(d.experience.type==="video_experience")if(d.experience.type!==e.experience.type||f||g)return"reset";else return"keep";else return"stop"}());break;case"video_experience_idle_screen_idle_timeout":var k,l=(k=h.getVideoExperience(d))==null?void 0:k.isIdle,m=(k=h.getVideoExperience(e))==null?void 0:k.isIdle;b.update(i,j.video_experience_idle_screen_idle_timeout_ms,function(){if(d.experience.type==="video_experience")if(l!==m)if(l===!0)return"reset";else return"stop";else return"keep";else return"stop"}());break;default:a}});return d},k,l,m].concat(d("TV2ExperienceRegistry").getExperienceEffectHandlers())}function k(a){var b=a.logger,c=a.pendingState;a=a.prevState;a=h.getExperienceInfoForFBAppProtocol(a);var d=h.getExperienceInfoForFBAppProtocol(c);a!=null&&(d==null||d.experienceName!==a.experienceName)&&b.logTVEvent("receiver_experience_ended",String(a.experienceName));return c}function l(a){var d=a.comms,e=a.logger;a=a.pendingState;var f=h.getExperimentsConfig(a);if(!f.shutdown_sequence_enabled)return a;if(a.lifecycleState!=="shutdown")return a;if(a.shutdownSequencePromise)return a;f=b("Promise").resolve().then(function(){return e.shutdownLoggerAsync()}).then(function(){d.terminateApp()})["catch"](function(){if(c("getTV2DebuggingOnDesktop")()&&!c("getTV2DebugShutdownEnabled")())return;window.close()});return babelHelpers["extends"]({},a,{shutdownSequencePromise:f})}function m(a){var b=a.pendingState;a=a.prevState;var d=h.getCurrentQueueEntry(b);a=h.getCurrentQueueEntry(a);(d==null?void 0:d.queueEntryID)!==(a==null?void 0:a.queueEntryID)&&c("TV2MemoryUsageLoggerLazy").incrementNavigationCount();return b}function e(a,b){return a.reduce(function(a,b){b=b(a);return babelHelpers["extends"]({},a,{pendingState:b})},b).pendingState}g.TV2AppStateSelectors=h;g.TV2AppStateReducers=i;g.initialTV2AppState=f;g.getTV2AppStateTransitionHandlers=a;g.runTV2AppStateTransitionHandlers=e}),98);
__d("TV2ExperienceRegistry",["TV2PhotoAlbumExperienceState","TV2PhotoExperienceState"],(function(a,b,c,d,e,f,g){"use strict";var h=[],i=[],j={},k={};a=[d("TV2PhotoAlbumExperienceState").TV2PhotoAlbumExperienceStateInterface,d("TV2PhotoExperienceState").TV2PhotoExperienceStateInterface];a.forEach(function(a){h.push.apply(h,a.getReducers()),i.push.apply(i,a.getEffectHandlers()),j[a.name]=a,k[a.type]=a});b=function(){return i};c=function(){return h};e=function(a){return(a=j[a])!=null?a:null};f=function(a){return(a=k[a])!=null?a:null};g.getExperienceEffectHandlers=b;g.getExperienceReducers=c;g.getExperienceInterfaceByName=e;g.getExperienceInterfaceByType=f}),98);
__d("TV2PhotoCastRequest",[],(function(a,b,c,d,e,f){"use strict";function a(a){return k(JSON.parse(a),m("TV2PhotoCastRequest"))}function b(a){return JSON.stringify(l(a,m("TV2PhotoCastRequest")),null,2)}function g(a,b,c){c===void 0&&(c="");if(c)throw Error('Invalid value for key "'+c+'". Expected type '+JSON.stringify(a)+" but got "+JSON.stringify(b));throw Error("Invalid value "+JSON.stringify(b)+" for type "+JSON.stringify(a))}function h(a){if(a.jsonToJS===void 0){var b={};a.props.forEach(function(a){return b[a.json]={key:a.js,typ:a.typ}});a.jsonToJS=b}return a.jsonToJS}function i(a){if(a.jsToJSON===void 0){var b={};a.props.forEach(function(a){return b[a.js]={key:a.json,typ:a.typ}});a.jsToJSON=b}return a.jsToJSON}function j(a,b,c,d){d===void 0&&(d="");function e(b,a){return typeof b===typeof a?a:g(b,a,d)}function f(b,a){var d=b.length;for(var e=0;e<d;e++){var f=b[e];try{return j(a,f,c)}catch(a){}}return g(b,a)}function h(b,a){return b.indexOf(a)!==-1?a:g(b,a)}function i(b,a){return!Array.isArray(a)?g("array",a):a.map(function(a){return j(a,b,c)})}function k(a){if(a===null)return null;var b=new Date(a);return isNaN(b.valueOf())?g("Date",a):b}function l(b,d,a){if(a===null||typeof a!=="object"||Array.isArray(a))return g("object",a);var e={};Object.getOwnPropertyNames(b).forEach(function(d){var f=b[d];d=Object.prototype.hasOwnProperty.call(a,d)?a[d]:void 0;e[f.key]=j(d,f.typ,c,f.key)});Object.getOwnPropertyNames(a).forEach(function(f){Object.prototype.hasOwnProperty.call(b,f)||(e[f]=j(a[f],d,c,f))});return e}if(b==="any")return a;if(b===null)return a===null?a:g(b,a);if(b===!1)return g(b,a);while(typeof b==="object"&&b.ref!==void 0)b=n[b.ref];if(Array.isArray(b))return h(b,a);if(typeof b==="object")return Object.prototype.hasOwnProperty.call(b,"unionMembers")?f(b.unionMembers,a):Object.prototype.hasOwnProperty.call(b,"arrayItems")?i(b.arrayItems,a):Object.prototype.hasOwnProperty.call(b,"props")?l(c(b),b.additional,a):g(b,a);return b===Date&&typeof a!=="number"?k(a):e(b,a)}function k(a,b){return j(a,b,h)}function l(a,b){return j(a,b,i)}function c(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return{unionMembers:b}}function d(a,b){return{props:a,additional:b}}function m(a){return{ref:a}}var n={TV2PhotoCastRequest:d([{json:"access_token",js:"access_token",typ:c(void 0,"")},{json:"cast_session_id",js:"cast_session_id",typ:""},{json:"caster_id",js:"caster_id",typ:c(void 0,"")},{json:"media_parameters",js:"media_parameters",typ:m("MediaParameters")},{json:"protocol_type",js:"protocol_type",typ:""},{json:"protocol_version",js:"protocol_version",typ:3.14},{json:"request_id",js:"request_id",typ:""}],"any"),MediaParameters:d([{json:"photo_id",js:"photo_id",typ:c(void 0,"")},{json:"video_id",js:"video_id",typ:c(void 0,"")}],"any")};e.exports={TV2PhotoCastRequestToJson:b,toTV2PhotoCastRequest:a}}),null);
__d("TV2PhotoExperienceState",["TV2AppState","TV2PhotoCastRequest","TV2PhotoShowRequest","TV2RelayEnvironment","err","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";a={getEffectHandlers:function(){return[]},getReducers:function(){return[function(a,b){switch(b.type){case"user_start_photo":return i.startPhoto(a,b);case"user_show_photo":return i.showPhoto(a,b);case"debug_photo":return i.transitionToPhotoExperience(a)}return null}]},getRelayEnvironment:function(a){return a.type==="photo_experience"?a.relayEnvironment:null},handleCommand:function(){return!1},name:"Photo",parsePayload:function(a,b,e){switch(a){case"show_photo":a=d("TV2PhotoShowRequest").toTV2PhotoShowRequest(b);return{accessToken:null,action:{castRequest:a,source:"from_user",type:"user_show_photo"},requestId:a.request_id};case"version_launch":if((e==null?void 0:e.experienceInfoForFBAppProtocol)!=null){a=e.experienceInfoForFBAppProtocol;e=d("TV2PhotoCastRequest").toTV2PhotoCastRequest(b);return{accessToken:e.access_token,action:{castRequest:e,experienceInfoForFBAppProtocol:a,source:"from_user",type:"user_start_photo"},requestId:e.request_id}}else throw c("err")("experienceInfoForFBAppProtocol is required for version_launch")}return null},type:"photo_experience"};var h={castToPhotoExperience:function(a){var b=null;switch(a.type){case"photo_experience":b=a;break}return b}},i={showPhoto:function(a,b){var c=b.castRequest;return d("TV2AppState").TV2AppStateReducers.updateExperience(a,function(a){return j.updateShowRequest(j.makeOrReuse(a),c)})},startPhoto:function(a,b){var c=b.castRequest;return d("TV2AppState").TV2AppStateReducers.updateExperience(a,function(a){return j.updateCastRequest(j.makeOrReuse(a),c)})},transitionToPhotoExperience:function(a){return d("TV2AppState").TV2AppStateSelectors.getIsLifecycleShutdown(a)?a:d("TV2AppState").TV2AppStateReducers.updateExperience(a,function(a){return a.type==="photo_experience"?a:j.makeOrReuse(a)})}},j={makeOrReuse:function(a){if(a==null)throw c("unrecoverableViolation")("State cannot be null","comet_tv_casting");a=h.castToPhotoExperience(a);return a==null?{isMediaExperience:!0,photoCastRequest:null,relayEnvironment:null,type:"photo_experience"}:babelHelpers["extends"]({},a,{isMediaExperience:!0,type:"photo_experience"})},updateCastRequest:function(a,b){var c;c=(c=a.relayEnvironment)!=null?c:b.access_token!=null?d("TV2RelayEnvironment").createTV2RelayEnvironment(b.access_token):null;return babelHelpers["extends"]({},a,{photoCastRequest:b,relayEnvironment:c})},updateShowRequest:function(a,b){if(a.photoCastRequest==null)throw c("err")("Photo session not initialized.  Received show request before cast request.");return babelHelpers["extends"]({},a,{photoCastRequest:babelHelpers["extends"]({},a.photoCastRequest,b)})}};g.TV2PhotoExperienceStateInterface=a}),98);
__d("TV2PhotoAlbumCastRequest",[],(function(a,b,c,d,e,f){"use strict";function a(a){return k(JSON.parse(a),m("TV2PhotoAlbumCastRequest"))}function b(a){return JSON.stringify(l(a,m("TV2PhotoAlbumCastRequest")),null,2)}function g(a,b,c){c===void 0&&(c="");if(c)throw Error('Invalid value for key "'+c+'". Expected type '+JSON.stringify(a)+" but got "+JSON.stringify(b));throw Error("Invalid value "+JSON.stringify(b)+" for type "+JSON.stringify(a))}function h(a){if(a.jsonToJS===void 0){var b={};a.props.forEach(function(a){return b[a.json]={key:a.js,typ:a.typ}});a.jsonToJS=b}return a.jsonToJS}function i(a){if(a.jsToJSON===void 0){var b={};a.props.forEach(function(a){return b[a.js]={key:a.json,typ:a.typ}});a.jsToJSON=b}return a.jsToJSON}function j(a,b,c,d){d===void 0&&(d="");function e(b,a){return typeof b===typeof a?a:g(b,a,d)}function f(b,a){var d=b.length;for(var e=0;e<d;e++){var f=b[e];try{return j(a,f,c)}catch(a){}}return g(b,a)}function h(b,a){return b.indexOf(a)!==-1?a:g(b,a)}function i(b,a){return!Array.isArray(a)?g("array",a):a.map(function(a){return j(a,b,c)})}function k(a){if(a===null)return null;var b=new Date(a);return isNaN(b.valueOf())?g("Date",a):b}function l(b,d,a){if(a===null||typeof a!=="object"||Array.isArray(a))return g("object",a);var e={};Object.getOwnPropertyNames(b).forEach(function(d){var f=b[d];d=Object.prototype.hasOwnProperty.call(a,d)?a[d]:void 0;e[f.key]=j(d,f.typ,c,f.key)});Object.getOwnPropertyNames(a).forEach(function(f){Object.prototype.hasOwnProperty.call(b,f)||(e[f]=j(a[f],d,c,f))});return e}if(b==="any")return a;if(b===null)return a===null?a:g(b,a);if(b===!1)return g(b,a);while(typeof b==="object"&&b.ref!==void 0)b=n[b.ref];if(Array.isArray(b))return h(b,a);if(typeof b==="object")return Object.prototype.hasOwnProperty.call(b,"unionMembers")?f(b.unionMembers,a):Object.prototype.hasOwnProperty.call(b,"arrayItems")?i(b.arrayItems,a):Object.prototype.hasOwnProperty.call(b,"props")?l(c(b),b.additional,a):g(b,a);return b===Date&&typeof a!=="number"?k(a):e(b,a)}function k(a,b){return j(a,b,h)}function l(a,b){return j(a,b,i)}function c(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return{unionMembers:b}}function d(a,b){return{props:a,additional:b}}function m(a){return{ref:a}}var n={TV2PhotoAlbumCastRequest:d([{json:"access_token",js:"access_token",typ:c(void 0,"")},{json:"cast_session_id",js:"cast_session_id",typ:""},{json:"caster_id",js:"caster_id",typ:c(void 0,"")},{json:"media_parameters",js:"media_parameters",typ:m("MediaParameters")},{json:"protocol_type",js:"protocol_type",typ:""},{json:"protocol_version",js:"protocol_version",typ:3.14},{json:"request_id",js:"request_id",typ:""}],"any"),MediaParameters:d([{json:"album_id",js:"album_id",typ:""}],"any")};e.exports={TV2PhotoAlbumCastRequestToJson:b,toTV2PhotoAlbumCastRequest:a}}),null);
__d("TV2PhotoAlbumExperienceState",["TV2AppState","TV2PhotoAlbumCastRequest","TV2RelayEnvironment","err"],(function(a,b,c,d,e,f,g){"use strict";var h=null;a=function(a){h=a};b={getEffectHandlers:function(){return[]},getReducers:function(){return[function(a,b){switch(b.type){case"user_start_photo_album":return d("TV2AppState").TV2AppStateReducers.updateExperience(a,function(a){return{castRequest:b.castRequest,isMediaExperience:!0,relayEnvironment:b.castRequest.access_token!=null?d("TV2RelayEnvironment").createTV2RelayEnvironment(b.castRequest.access_token):null,type:"photo_album_experience"}})}return null}]},getRelayEnvironment:function(a){return a.type==="photo_album_experience"?a.relayEnvironment:null},handleCommand:function(a,b){if(h!=null){h(a,b);return!0}return!1},name:"PhotoAlbum",parsePayload:function(a,b,e){switch(a){case"version_launch":if((e==null?void 0:e.experienceInfoForFBAppProtocol)!=null){a=e.experienceInfoForFBAppProtocol;e=d("TV2PhotoAlbumCastRequest").toTV2PhotoAlbumCastRequest(b);return{accessToken:e.access_token,action:{castRequest:e,experienceInfoForFBAppProtocol:a,source:"from_user",type:"user_start_photo_album"},requestId:e.request_id}}else throw c("err")("experienceInfoForFBAppProtocol is required for version_launch")}return null},type:"photo_album_experience"};g.registerCommandHandler=a;g.TV2PhotoAlbumExperienceStateInterface=b}),98);
__d("getTV2DebugSkip",["getTV2QueryStringCheatcode"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=c("getTV2QueryStringCheatcode")("tv2_debug_no_skip");return b?!1:/video_cast_player_state_changed/.test(a)||/\"type\":\"status_update\"/.test(a)}g["default"]=a}),98);
__d("TV2AppController",["TV2AppState","getTV2DebugSkip","getTV2DebuggingEnabled","removeFromArray","setTV2Breakpoint","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){var b=this,d=a.comms,e=a.initialState,f=a.logger;a=a.scheduleSetReactState;this.$3=[];this.$8=function(a){b.$6(a)};this.$1=d;this.$2=f;this.$4=a;this.$5=e;c("getTV2DebuggingEnabled")()&&(window.__FB_TV_APP_CONTROLLER=this)}var e=a.prototype;e.handleAppCommand=function(a){this.$6(a)};e.handleAppEvent=function(a){this.$6(a),this.$1.notifySendersAboutAppEvent(a)};e.handlePlaybackCommand=function(a){this.$7(a),this.$6(a)};e.updateExperienceStatus=function(a,b){this.$1.notifySendersOfStatusUpdate(a,b)};e.getAppCurrentState=function(){return this.$5};e.addPlaybackCommandHandler=function(a){var b=this;this.$3.push(a);return function(){c("removeFromArray")(b.$3,a)}};e.debugHandleSideEffectEvent=function(a){this.$8(a)};e.$6=function(a){var e=this.$1;if(e==null)throw c("unrecoverableViolation")("Missing comms","comet_tv_casting");var f=this.$5,g=f,h=d("TV2AppState").getTV2AppStateTransitionHandlers();g=d("TV2AppState").runTV2AppStateTransitionHandlers(h,{action:a,comms:e,handleSideEffectEvent:this.$8,logger:this.$2,pendingState:g,prevState:f});c("getTV2DebugSkip")("TV2AppController:_performStateTransition:"+a.type)||b("setTV2Breakpoint")("TV2AppController:_performStateTransition:"+a.type,{action:a,pendingState:g,prevState:f});g!==this.$5&&(this.$5=g,this.$4(this.$5))};e.$7=function(a){this.$3.forEach(function(b){b(a)})};return a}();g["default"]=a}),98);
__d("TV2AppControllerContext.react",["react"],(function(a,b,c,d,e,f,g){"use strict";a=d("react");b=a.createContext(null);c=b;g["default"]=c}),98);
__d("TV2AppStateContext.react",["react"],(function(a,b,c,d,e,f,g){"use strict";a=d("react");b=a.createContext(null);c=b;g["default"]=c}),98);
__d("ConnectedTVExperienceNames",[],(function(a,b,c,d,e,f){a=Object.freeze({VIDEO:"Video",LIVE_STREAMER:"LiveStreamer",PHOTO:"Photo",PHOTO_ALBUM:"PhotoAlbum",CHANNEL_VIDEO:"ChannelVideo",FAST_CAST:"FastCast",IDLE:"Idle",INSTALLED_APP:"InstalledApp",SIMPLE_VIDEO:"SimpleVideo",TESTING:"Testing",PHOTO_360:"360Photo"});f["default"]=a}),66);
__d("TV2LoggerSessionID",["guid"],(function(a,b,c,d,e,f,g){"use strict";a=c("guid")();b=a;g["default"]=b}),98);
__d("TV2FBAppConnection",["ConnectedTVExperienceNames","Random","SiteData","TV2AppState","TV2CommsParseUtils","TV2ExperienceRegistry","TV2LoggerSessionID","TV2VideoExperienceQueueEntryState","TV2VideoExperienceQueueState","TV2VideoExperienceState","err","getTV2DebugLog","gkx","setTV2Breakpoint","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h=c("getTV2DebugLog")("[TV2FBAppConnection][debugLog] ");e=function(){function e(b,c,d,e,f){this.$7=1,this.$8=null,this.$9=null,this.$10={},this.$5=b,this.$1=c,this.$2=d,this.$3=e,this.$4=f,this.$6=/\bgoogle_cast_bg=true\b/.test(a.location.search)}var f=e.prototype;f.receiveMessage=function(a){h("receiveMessage ("+this.$5+"):",a);var c=d("TV2CommsParseUtils").parseJSONString(a,d("TV2CommsParseUtils").parseObject,"."),e=d("TV2CommsParseUtils").parseNonEmptyString(c.type,".type"),f=e,g=d("TV2CommsParseUtils").parseNumber(c.num,".num");b("setTV2Breakpoint")("TV2FBAppConnection:receiveMessage:"+e,a);switch(f){case"version_launch":this.$11(c,g);break;case"version_request":this.$12(c,g);break;case"launch":this.$13(c,g);break;case"get_experience_state":this.$14(c,g);break;case"experience_command":this.$15(c,g);break;default:f,this.$16(c,g,e)}};f.$17=function(a){var b=this.$8;b!=null&&b.castRequestID===a&&(this.$8=null,this.$18(b.incomingMessageNumber,b.experienceInfoForFBAppProtocol),this.$19(b.experienceInfoForFBAppProtocol))};f.$20=function(a){var b=this.$8;b!=null&&(this.$8=null,this.$21(b.incomingMessageNumber,a))};f.$22=function(a){var b=this.$9;b!=null&&b.videoCastRequestID===a&&(this.$9=null,this.$23(b.incomingMessageNumber,0))};f.$24=function(a){var b=this.$9;b!=null&&(this.$9=null,this.$25(b.incomingMessageNumber,a))};f.notifySendersOfStatusUpdate=function(a,b){this.$26(a,b)};f.notifySendersAboutAppEvent=function(a){switch(a.type){case"experience_react_error":break;case"experiments_config_received_from_relay":break;case"video_cast_player_mounted":this.$17(a.videoCastRequestID);this.$22(a.videoCastRequestID);var b=this.$2();b=b!=null?d("TV2AppState").TV2AppStateSelectors.getExperimentsConfig(b):null;b!=null&&b.send_status_update_and_duration_change_on_player_mounted&&(this.$27({videoCastRequestID:a.videoCastRequestID,videoPlayerState:a.videoPlayerState}),this.$28({videoCastRequestID:a.videoCastRequestID,videoPlayerState:a.videoPlayerState}));break;case"video_cast_player_duration_changed":this.$28({videoCastRequestID:a.videoCastRequestID,videoPlayerState:a.videoPlayerState});break;case"video_cast_player_state_changed":this.$4.setTvPlayerInstanceKey(a.videoPlayerState.playerInstanceKey);this.$4.setTvPlayerVersion(a.videoPlayerState.playerVersion);this.$27({videoCastRequestID:a.videoCastRequestID,videoPlayerState:a.videoPlayerState});break;case"toast_seen":break;case"toast_unmount_animation_ended":break;case"up_next_countdown_shown":break;case"up_next_countdown_complete":break;case"retry_current_video_experience":break;default:a.type}};f.$28=function(a){var b=a.videoCastRequestID;a=a.videoPlayerState;this.$10[b]=a;b=Date.now();this.$3.broadcastMessage("FBAPP_CAST_PROTOCOL",JSON.stringify({timestamp:b,num:this.$7+=2,type:"duration_change",data:{reference_id:0,duration:a.duration}}))};f.$26=function(a,b){var c=Date.now(),d=this.$29();this.$3.broadcastMessage("FBAPP_CAST_PROTOCOL",JSON.stringify({data:{name:a,payload:b},num:this.$7+=2,receiver_info:d,timestamp:c,type:"experience_status_update"}))};f.$27=function(a){var b=a.videoCastRequestID;a=a.videoPlayerState;this.$10[b]=a;b=Date.now();var c=this.$29(),d=this.$30(a),e=this.$31();this.$3.broadcastMessage("FBAPP_CAST_PROTOCOL",JSON.stringify(babelHelpers["extends"]({timestamp:b,num:this.$7+=2,type:"status_update",data:{reference_id:0,position:a.position,state:a.state,queueCount:e!=null?e.remainingQueueLength:0,video_id:a.videoID,duration:a.duration,queued_video_ids:e!=null?e.remainingVideoIds:[]},receiver_info:c},d!=null&&{player_info:d})))};f.$16=function(a,d,e){b("setTV2Breakpoint")("TV2FBAppConnection:_handleUnsupportedMessage",a);throw c("err")("Message received from a Sender App has unexpected type: "+e)};f.$11=function(a,e){var f;b("setTV2Breakpoint")("TV2FBAppConnection:_handleVersionLaunch",a);a=d("TV2CommsParseUtils").parseObject(a.data,".data");var g=d("TV2CommsParseUtils").parseNonEmptyString(a.name,".data.name");if(Object.values(c("ConnectedTVExperienceNames")).indexOf(g)<0){this.$21(e,"Not found");return}f=(f=d("TV2CommsParseUtils").parseOptionalNonEmptyString(a.client_cast_session,".data.client_cast_session"))!=null?f:this.$32();this.$4.setCastSessionID(f);g=g;this.$33(g);var h=this.$34(g),i=this.$35();(i==null||f!==i.clientCastSessionKey)&&(i={clientCastSessionKey:f,experienceKey:h,experienceName:g});switch(g){case"LiveStreamer":case"Video":case"FastCast":case"Idle":case"InstalledApp":case"Testing":case"SimpleVideo":case"360Photo":throw c("err")("Unsupported casting type: "+g);case"ChannelVideo":f=this.$36(a.payload,a.params);h=f.accessToken;var j=f.appID;this.$4.overrideAccessToken(h);j!=null&&this.$4.overrideClientAppID(j);this.$20("Interrupted");this.$24("Interrupted");this.$8={castRequestID:f.videoCastRequestID,experienceInfoForFBAppProtocol:i,incomingMessageNumber:e};this.$1({experienceInfoForFBAppProtocol:i,source:"from_user",type:"user_start_new_queue",videoCastRequest:f});break;default:h=d("TV2ExperienceRegistry").getExperienceInterfaceByName(g);j=typeof a.payload==="string"?a.payload:"";if(h==null)throw c("unrecoverableViolation")("Unknown casting type: "+g,"comet_tv_casting");f=h.parsePayload("version_launch",j,{experienceInfoForFBAppProtocol:i});if(f==null)throw c("unrecoverableViolation")("Experience is missing version_launch parser: "+g,"comet_tv_casting");f.accessToken!=null&&this.$4.overrideAccessToken(f.accessToken);this.$20("Interrupted");this.$24("Interrupted");this.$8={castRequestID:f.requestId,experienceInfoForFBAppProtocol:i,incomingMessageNumber:e};this.$1(f.action);this.$17(f.requestId);break}};f.$34=function(a){var b=1;return""+a+b};f.$36=function(a,c){var e,f=d("TV2CommsParseUtils").parseVideoCastingPayloadJSONAsTV2VideoCastRequest(a,".data.payload");e=(e=d("TV2CommsParseUtils").parseOptionalObject(c,".data.params"))!=null?e:{};var g=d("TV2CommsParseUtils").parseOptionalStringishBoolean(e.chaining_enabled,".data.params.chaining_enabled");e=(e=d("TV2CommsParseUtils").parseOptionalNumber(e.position,".data.params.position"))!=null?e:0;f=babelHelpers["extends"]({},f,{chainingEnabled:g,startTimestamp:e});b("setTV2Breakpoint")("TV2FBAppConnection:_parsePayloadAndParamsAsTV2VideoCastRequest",{payloadRaw:a,paramsRaw:c,videoCastRequestWithParams:f});return f};f.$21=function(a,c){var d=Date.now(),e=this.$29();d={timestamp:d,num:this.$7+=2,response_num:a,type:"version_launch_response",data:{success:!1,reason:c},receiver_info:e};b("setTV2Breakpoint")("TV2FBAppConnection:_respondToVersionLaunchWithError",{incomingMessageNumber:a,reason:c,response:d});this.$3.sendMessage("FBAPP_CAST_PROTOCOL",this.$5,JSON.stringify(d))};f.$18=function(a,c){var d=Date.now(),e=this.$29();d={timestamp:d,num:this.$7+=2,response_num:a,type:"version_launch_response",data:{success:!0,reason:null,target:c.experienceKey},receiver_info:e};b("setTV2Breakpoint")("TV2FBAppConnection:_respondToVersionLaunchWithSuccess",{incomingMessageNumber:a,experienceInfoForFBAppProtocol:c,response:d});this.$3.sendMessage("FBAPP_CAST_PROTOCOL",this.$5,JSON.stringify(d))};f.$33=function(a){this.$4.logTVEvent("receiver_launching_experience",a)};f.$19=function(a){this.$4.logTVEvent("receiver_launched_experience",JSON.stringify({experience:a.experienceName,target:a.experienceKey}))};f.$12=function(a,c){var e=d("TV2CommsParseUtils").parseObject(a.data,".data");e=(e=d("TV2CommsParseUtils").parseOptionalNonEmptyString(e.client_cast_session,".data.client_cast_session"))!=null?e:this.$32();b("setTV2Breakpoint")("TV2FBAppConnection:_handleVersionRequest",a);this.$37(c,e)};f.$32=function(){return"server_generated_"+d("Random").uint32()};f.$37=function(a,c){var d=this.$35();d!=null&&d.clientCastSessionKey===c?c={success:!0,reason:null,currently_running_experience:d.experienceKey}:c={success:!0,reason:null};d=Date.now();d={timestamp:d,num:this.$7+=2,response_num:a,type:"version_response",data:c};b("setTV2Breakpoint")("TV2FBAppConnection:_respondToVersionRequest",d);this.$3.sendMessage("FBAPP_CAST_PROTOCOL",this.$5,JSON.stringify(d))};f.$13=function(a,c){b("setTV2Breakpoint")("TV2FBAppConnection:_handleLaunch",a)};f.$14=function(a,c){b("setTV2Breakpoint")("TV2FBAppConnection:_handleGetExperienceState",a);a=this.$2();var e={success:!0,reason:null,experience_type:"Idle",experience_specific_state:{}};a=a!=null?d("TV2AppState").TV2AppStateSelectors.getVideoExperience(a):null;if(a!=null){var f=d("TV2VideoExperienceState").TV2VideoExperienceStateSelectors.getQueue(a);a=d("TV2VideoExperienceState").TV2VideoExperienceStateSelectors.getCurrentQueueEntry(a);a=d("TV2VideoExperienceQueueEntryState").TV2VideoExperienceQueueEntryStateSelectors.getVideoCastRequest(a);var g=this.$10[a.videoCastRequestID];g={estimated_duration:g!=null?g.duration:null,estimated_play_state:g!=null?g.state:null,estimated_position:g!=null?g.position:null,feedback_disabled:!0,playing_video_id:a.videoID,playing_video_index:d("TV2VideoExperienceQueueState").TV2VideoExperienceQueueStateSelectors.getQueueIndex(f),queue_count:d("TV2VideoExperienceQueueState").TV2VideoExperienceQueueStateSelectors.getQueueLength(f)};e={success:!0,reason:null,experience_type:"SimpleVideo",experience_specific_state:g}}a=Date.now();f={timestamp:a,num:this.$7+=2,response_num:c,type:"experience_state",data:e};b("setTV2Breakpoint")("TV2FBAppConnection:_respondToGetExperienceState",f);this.$3.sendMessage("FBAPP_CAST_PROTOCOL",this.$5,JSON.stringify(f))};f.$15=function(a,c){a=d("TV2CommsParseUtils").parseObject(a.data,".data");var e=d("TV2CommsParseUtils").parseNonEmptyString(a.cmd,".data.cmd"),f=e;b("setTV2Breakpoint")("TV2FBAppConnection:_handleExperienceCommand:"+e,a);if(this.$38(f,c,a))return;switch(f){case"turn_on_feedback":this.$39(c);return;case"turn_off_feedback":this.$40(c);return;case"next_video":this.$41(c,a);return;case"play_video":this.$42(c);return;case"pause_video":this.$43(c);return;case"seek_video":this.$44(c,a);return;case"skip_video":this.$45(c);return;case"stop_video":this.$46(c);return;case"stop_experience":this.$47(c);return;default:this.$48(c,e);return}};f.$49=function(a,c){var d=Date.now();d={timestamp:d,num:this.$7+=2,response_num:a,type:"command_result",data:c};b("setTV2Breakpoint")("TV2FBAppConnection:_respondToExperienceCommand",d);this.$3.sendMessage("FBAPP_CAST_PROTOCOL",this.$5,JSON.stringify(d))};f.$25=function(a,b){this.$49(a,{success:!1,reason:b,reference_id:null})};f.$23=function(a,b){this.$49(a,{success:!0,reason:null,reference_id:b})};f.$38=function(a,b,c){var e=d("TV2CommsParseUtils").parseOptionalNonEmptyString(c.name,".data.name");e=e;e=d("TV2ExperienceRegistry").getExperienceInterfaceByName(e);if(e==null)return!1;c=typeof c.payload==="string"?c.payload:"";var f=e.handleCommand(a,c);if(!f){f=e.parsePayload(a,c);if(f==null){this.$48(b,a);return!0}this.$1(f.action)}this.$23(b,void 0);return!0};f.$48=function(a,d){b("setTV2Breakpoint")("TV2FBAppConnection:_handleUnsupportedExperienceCommand",{incomingMessageNumber:a,cmdNameRaw:d}),this.$4.logTVError({error:c("err")("unknown command "+d),errorLocation:"TV2CommsFBAppConnection:_handleUnsupportedExperienceCommand"}),this.$25(a,"Unknown command")};f.$39=function(a){b("setTV2Breakpoint")("TV2FBAppConnection:_handleTurnOnFeedbackCommand",{incomingMessageNumber:a}),this.$23(a,null)};f.$40=function(a){b("setTV2Breakpoint")("TV2FBAppConnection:_handleTurnOffFeedbackCommand",{incomingMessageNumber:a}),this.$23(a,null)};f.$41=function(a,e){var f,g;f=(f=d("TV2CommsParseUtils").parseOptionalNonEmptyString(e.payload,".data.payload"))!=null?f:"";g=(g=d("TV2CommsParseUtils").parseOptionalObject(e.params,".data.params"))!=null?g:{};var h=d("TV2CommsParseUtils").parseOptionalStringishBoolean(g.add_to_queue,".data.params.add_to_queue"),i=d("TV2CommsParseUtils").parseOptionalStringishBoolean(g.auto_advance,".data.params.auto_advance");b("setTV2Breakpoint")("TV2FBAppConnection:_handleNextVideoCommand",{incomingMessageNumber:a,data:e,cmdPayloadJSON:f,cmdParams:g});if(!f){this.$4.logTVError({error:c("err")("Next video command has payload missing"),errorLocation:"TV2CommsFBAppConnection:_handleNextVideoCommand"});this.$25(a,"Payload missing");return}e=this.$35();if(e==null){var j=this.$32(),k="ChannelVideo",l=this.$34(k);e={clientCastSessionKey:j,experienceKey:l,experienceName:k}}j=this.$36(f,g);if(!h){l=j.accessToken;this.$4.overrideAccessToken(l)}this.$20("Interrupted");this.$24("Interrupted");this.$9={incomingMessageNumber:a,videoCastRequestID:j.videoCastRequestID};h?this.$1({experienceInfoForFBAppProtocol:e,source:"from_user",type:"user_add_video_to_queue",videoCastRequest:j}):!i?this.$1({experienceInfoForFBAppProtocol:e,source:"from_user",type:"user_start_new_queue",videoCastRequest:j}):this.$1({experienceInfoForFBAppProtocol:e,source:"from_user",type:"user_play_video_now",videoCastRequest:j})};f.$35=function(){var a=this.$2();return a==null?null:d("TV2AppState").TV2AppStateSelectors.getExperienceInfoForFBAppProtocol(a)};f.$50=function(){var a=this.$2();if(a==null)return null;a=d("TV2AppState").TV2AppStateSelectors.getVideoExperience(a);a=a!=null?d("TV2VideoExperienceState").TV2VideoExperienceStateSelectors.getCurrentQueueEntry(a):null;a=a!=null?d("TV2VideoExperienceQueueEntryState").TV2VideoExperienceQueueEntryStateSelectors.getVideoCastRequest(a):null;return a!=null?a.videoCastRequestID:null};f.$31=function(){var a=this.$2();if(a==null)return null;a=d("TV2AppState").TV2AppStateSelectors.getVideoExperience(a);if(a==null)return null;a=d("TV2VideoExperienceState").TV2VideoExperienceStateSelectors.getQueue(a);var b=d("TV2VideoExperienceQueueState").TV2VideoExperienceQueueStateSelectors.getCurrentQueueEntry(a),e=b!=null?d("TV2VideoExperienceQueueEntryState").TV2VideoExperienceQueueEntryStateSelectors.getVideoCastRequest(b):null,f=d("TV2VideoExperienceQueueState").TV2VideoExperienceQueueStateSelectors.getQueueIndex(a),g=d("TV2VideoExperienceQueueState").TV2VideoExperienceQueueStateSelectors.getQueueLength(a),h=[],i=g-f-1;c("gkx")("3251")&&(h=d("TV2VideoExperienceQueueState").TV2VideoExperienceQueueStateSelectors.getRemainingEntries(a).map(function(a){return d("TV2VideoExperienceQueueEntryState").TV2VideoExperienceQueueEntryStateSelectors.getVideoID(a)}),i=h.length);return{currentQueueEntry:b,currentQueueIndex:f,currentVideoCastRequest:e,queueLength:g,remainingQueueLength:i,remainingVideoIds:h}};f.$51=function(){var a=this.$2();a=a!=null?d("TV2AppState").TV2AppStateSelectors.getVideoExperience(a):null;if(a!=null){a=d("TV2VideoExperienceState").TV2VideoExperienceStateSelectors.getQueue(a);return d("TV2VideoExperienceQueueState").TV2VideoExperienceQueueStateSelectors.hasNextRelatedVideoEntry(a)}return!1};f.$42=function(a){var d=this.$50();b("setTV2Breakpoint")("TV2FBAppConnection:_handlePlayVideoCommand",{incomingMessageNumber:a,currentVideoCastRequestID:d});if(d!=null){this.$1({source:"from_user",type:"user_unpause_current_video",videoCastRequestID:d});this.$23(a,0);return}else if(this.$51()){this.$1({source:"from_user",type:"user_select_next_video"});this.$23(a,0);return}else this.$4.logTVError({error:c("err")("requested to play - queue empty"),errorLocation:"TV2CommsFBAppConnection:_handlePlayVideoCommand"}),this.$25(a,"queue empty")};f.$43=function(a){var c=this.$50();b("setTV2Breakpoint")("TV2FBAppConnection:_handlePauseVideoCommand",{incomingMessageNumber:a,currentVideoCastRequestID:c});if(c!=null){this.$1({source:"from_user",type:"user_pause_current_video",videoCastRequestID:c});this.$23(a,0);return}this.$23(a,void 0)};f.$44=function(a,c){c=d("TV2CommsParseUtils").parseObject(c.params,".data.params");c=d("TV2CommsParseUtils").parseNumber(c.position,".data.params.position");var e=this.$50();b("setTV2Breakpoint")("TV2FBAppConnection:_handleSeekVideoCommand",{incomingMessageNumber:a,currentVideoCastRequestID:e});e!=null&&(this.$1({seekTargetPosition:c,source:"from_user",type:"user_seek_current_video",videoCastRequestID:e}),this.$23(a,0));this.$23(a,void 0)};f.$45=function(a){var c=this.$50();b("setTV2Breakpoint")("TV2FBAppConnection:_handleSkipVideoCommand",{incomingMessageNumber:a,currentVideoCastRequestID:c});this.$1({source:"from_user",type:"user_select_next_video"});this.$23(a,0)};f.$46=function(a){this.$47(a)};f.$47=function(a){var c=this.$50();b("setTV2Breakpoint")("TV2FBAppConnection:_handleStopExperienceCommand",{incomingMessageNumber:a,currentVideoCastRequestID:c});this.$1({source:"from_user",type:"user_stop_current_experience"});this.$23(a,0)};f.$29=function(){return{cast_receiver_logger_session_id:c("TV2LoggerSessionID"),is_google_cast_bg:this.$6,os_version:this.$3.getDeviceInfo().osVersion,third_party_app_id:this.$3.getDeviceInfo().sdkAppID,web_client_revision:String(c("SiteData").client_revision)}};f.$30=function(a){return a==null?null:{player_instance_key:a.playerInstanceKey,player_version:a.playerVersion}};return e}();g["default"]=e}),98);
__d("TV2Comms",["FBLogger","JSScheduler","TV2CommsParseUtils","TV2FBAppConnection","getErrorSafe","getTV2DebugLog","getTV2DebugSkip","setTV2Breakpoint","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h=c("getTV2DebugLog")("[TV2Comms][debugLog] ");a=function(){function a(a){var d=this,e=a.connector;a=a.logger;this.$1=null;this.$2=null;this.$3=[];this.$5=[];this.$6=null;this.$7=new Map();this.$8=new Map();this.$10="not_started";this.$11=!1;this.$16=function(a){b("setTV2Breakpoint")("TV2Comms:_enqueueAppCommand:"+a.type,a);if(d.$13()){h("_enqueueAppCommand skip (shutting down):",a);c("FBLogger")("comet_tv_casting").warn("Attempted to enqueue app command during shutdown: %s",a.type);return}h("_enqueueAppCommand:",a);d.$3.push(a);d.$15()};this.$17=function(){var a=d.$1;if(a==null){h("_getAppCurrentState skip");return null}a=a.getAppCurrentState();return a};this.$4=e;this.$9=a;e.setCommsInterface(this)}var e=a.prototype;e.getIsAudioOnly=function(){return this.$11};e.startComms=function(){h("startComms",this.$10);switch(this.$10){case"not_started":this.$10="running";this.$4.start();break;case"running":break;case"shutdown_from_comms_waiting_app":break;case"shutdown_from_comms":break;case"shutdown_from_app":break;default:this.$10;break}};e.terminateApp=function(){h("terminateApp",this.$10);switch(this.$10){case"not_started":this.$12("shutdown_from_app");this.$4.terminateApp();break;case"running":this.$12("shutdown_from_app");this.$4.terminateApp();break;case"shutdown_from_comms_waiting_app":this.$10="shutdown_from_comms";this.$4.terminateApp();break;case"shutdown_from_comms":break;case"shutdown_from_app":break;default:this.$10;break}};e.enqueueCommsConnectorEvent=function(a){if(this.$13()){h("enqueueCommsConnectorEvent skip (shutting down):",a);a.type!=="sender_disconnected"&&c("FBLogger")("comet_tv_casting").warn("Attempted to enqueue connector event during shutdown: %s",a.type);return}h("enqueueCommsConnectorEvent:",a);this.$5.push(a);this.$14()};e.attachApp=function(a){var b=this;if(this.$13()){h("attachApp after shutdown");a.handleAppCommand({source:"from_app",type:"shutdown_from_comms"});return function(){}}if(this.$1!=null){h("attachApp when an appController exists");throw c("unrecoverableViolation")("Unexpected attachApp: an appController already exists","comet_tv_casting")}h("attachApp");this.$1=a;this.$3.length>0&&this.$15();return function(){h("detachApp"),b.$1=null,b.$3.length=0}};e.$13=function(){return this.$10==="shutdown_from_comms_waiting_app"||this.$10==="shutdown_from_comms"||this.$10==="shutdown_from_app"};e.notifySendersAboutAppEvent=function(a){c("getTV2DebugSkip")("TV2Comms:notifySendersAboutAppEvent:"+a.type)||b("setTV2Breakpoint")("TV2Comms:notifySendersAboutAppEvent:"+a.type,a),this.$8.forEach(function(b){b.notifySendersAboutAppEvent(a)})};e.notifySendersOfStatusUpdate=function(a,b){this.$8.forEach(function(c){c.notifySendersOfStatusUpdate(a,b)})};e.$15=function(){var a=this;if(this.$13()){h("_scheduleDequeueAppCommand skip (shutting down)");c("FBLogger")("comet_tv_casting").warn("Attempted to schedule dequeue app command during shutdown: %s",this.$3.map(function(a){return a.type}).join(", ")||"(empty)");return}h("_scheduleDequeueAppCommand");this.$2||(this.$2=d("JSScheduler").scheduleNormalPriCallback(function(){a.$2=null,a.$18()}))};e.$18=function(){if(this.$13()){h("_dequeueAppCommand skip (shutting down)");c("FBLogger")("comet_tv_casting").warn("Attempted to dequeue app command during shutdown: %s",this.$3.map(function(a){return a.type}).join(", ")||"(empty)");return}var a=this.$1;if(a==null)return;var b=this.$3.shift();if(b==null){h("_dequeueAppCommand skip (empty queue)");c("FBLogger")("comet_tv_casting").warn("Attempted to dequeue app command from an empty queue");return}h("_dequeueAppCommand:",b);switch(b.type){case"user_pause_current_video":case"user_unpause_current_video":case"user_seek_current_video":a.handlePlaybackCommand(b);return;default:b,a.handleAppCommand(b)}this.$3.length>0&&this.$15()};e.debugExecuteCommand=function(a){this.$16(a)};e.debugGetAppCurrentState=function(){return this.$17()};e.$12=function(a){if(this.$5.length>0){var b=this.$5.filter(function(a){return a.type!=="sender_disconnected"}).map(function(a){return a.type}).join(", ");b&&c("FBLogger")("comet_tv_casting").warn("Connector events dropped during shutdown: %s",b)}this.$3.length>0&&c("FBLogger")("comet_tv_casting").warn("App commands dropped during shutdown: %s",this.$3.map(function(a){return a.type}).join(", "));this.$10=a;b=this.$6;b&&(this.$6=null,d("JSScheduler").cancelCallback(b));a=this.$2;a&&(this.$2=null,d("JSScheduler").cancelCallback(a));this.$8.clear();this.$7.clear();this.$5.length=0;this.$3.length=0};e.$14=function(){var a=this;if(this.$13()){h("_scheduleDequeueConnectorEvent skip (shutting down)");c("FBLogger")("comet_tv_casting").warn("Attempted to schedule dequeue connector event during shutdown: %s",this.$5.map(function(a){return a.type}).join(", ")||"(empty)");return}h("_scheduleDequeueConnectorEvent");this.$6||(this.$6=d("JSScheduler").scheduleNormalPriCallback(function(){a.$6=null,a.$19()}))};e.$19=function(){if(this.$13()){h("_dequeueConnectorEvent skip (shutting down)");c("FBLogger")("comet_tv_casting").warn("Attempted to dequeue connector event during shutdown: %s",this.$5.map(function(a){return a.type}).join(", ")||"(empty)");return}var a=this.$5.shift();if(a==null){h("_dequeueConnectorEvent skip (empty queue)");c("FBLogger")("comet_tv_casting").warn("Attempted to dequeue connector event from an empty queue");return}h("_dequeueConnectorEvent:",a);this.$20(a);this.$5.length>0&&this.$14()};e.$21=function(a){if(a.type==="message_received"){a=a.messageDataRaw;a=d("TV2CommsParseUtils").parseJSONString(a,d("TV2CommsParseUtils").parseObject,".");var b=d("TV2CommsParseUtils").parseNonEmptyString(a.type,".type");if(b==="experience_command"||b==="version_launch"){var c;a=d("TV2CommsParseUtils").parseObject(a.data,".data");var e=d("TV2CommsParseUtils").parseOptionalNonEmptyString(a.cmd,".data.cmd"),f=d("TV2CommsParseUtils").parseOptionalNonEmptyString(a.name,".data.name");c=(c=d("TV2CommsParseUtils").parseOptionalObject(a.params,".data.params"))!=null?c:{};c=d("TV2CommsParseUtils").parseOptionalStringishBoolean(c.add_to_queue,".data.params.add_to_queue");if(b==="version_launch"){b=(b=d("TV2CommsParseUtils").parseOptionalNonEmptyString(a.payload,".data.payload"))!=null?b:"";if(f==="ChannelVideo"){f=d("TV2CommsParseUtils").parseVideoCastingPayloadJSONAsTV2VideoCastRequest(b,".data.payload");b=f.accessToken;this.$9.overrideAccessToken(b)}}else if(e==="next_video"&&!c){b=(f=d("TV2CommsParseUtils").parseOptionalNonEmptyString(a.payload,".data.payload"))!=null?f:"";e=d("TV2CommsParseUtils").parseVideoCastingPayloadJSONAsTV2VideoCastRequest(b,".data.payload");c=e.accessToken;this.$9.overrideAccessToken(c)}}}};e.$20=function(a){if(this.$13()){h("_handleConnectorEvent skip (shutting down):",a);c("FBLogger")("comet_tv_casting").warn("Attempted to handle connector event during shutdown: %s",a.type);return}h("_handleConnectorEvent:",a);try{this.$21(a);this.$9.logCommsConnectorEvent(a);switch(a.type){case"ready":this.$11=this.$4.getDeviceInfo().displaySupported===!1;break;case"sender_connected":this.$7.set(a.senderID,a.userAgent);break;case"sender_disconnected":this.$8["delete"](a.senderID);this.$7["delete"](a.senderID);break;case"message_sent":break;case"message_received":switch(a.protocol){case"FBAPP_CAST_PROTOCOL":var b=this.$8.get(a.senderID);b==null&&(b=new(c("TV2FBAppConnection"))(a.senderID,this.$16,this.$17,this.$4,this.$9),this.$8.set(a.senderID,b));b.receiveMessage(a.messageDataRaw);break;case"GOOGLE_CAST_MEDIA_PROTOCOL":break;default:a.protocol}break;case"shutdown":this.$12("shutdown_from_comms_waiting_app");b=this.$1;b!=null&&b.handleAppCommand({source:"from_app",type:"shutdown_from_comms"});break;default:a.type}}catch(b){h("_handleConnectorEvent catch:",b),this.$9.logCommsConnectorEvent(a),this.$9.logTVError({error:c("getErrorSafe")(b),errorLocation:"TV2Comms:_handleConnectorEvent:catch"})}};return a}();g["default"]=a}),98);
__d("TV2CommsChromecastV2Connector",["ChromecastReceiverSDKV2Wrapper","TV2MessageTypes","getTV2DebugBreakpointsEnabled","getTV2DebugLog","getTV2DebugShutdownEnabled","getTV2DebugSkip","getTV2DebuggingEnabled","getTV2DebuggingOnDesktop","setTV2Breakpoint","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h=c("getTV2DebugLog")("[TV2CommsChromecastV2Connector][debugLog] "),i={FBAPP_CAST_PROTOCOL:d("TV2MessageTypes").FBAPP_CAST_PROTOCOL_NAMESPACE,GOOGLE_CAST_MEDIA_PROTOCOL:d("TV2MessageTypes").GOOGLE_CAST_MEDIA_PROTOCOL_NAMESPACE};function j(){try{var a=window.cast.receiver.VERSION;return typeof a==="string"?a:null}catch(a){return null}}function k(){try{var a=/CrKey\/([\d\.]+)\b/.exec(window.navigator.userAgent);return a!=null?(a=a[1])!=null?a:null:null}catch(a){return null}}function l(){try{var a=c("ChromecastReceiverSDKV2Wrapper").CastReceiverManager.getInstance();a=a.getApplicationData();return a!=null?a.id:null}catch(a){return null}}function m(){try{var a=c("ChromecastReceiverSDKV2Wrapper").CastReceiverManager.getInstance();a=a.getDeviceCapabilities();return(a==null?void 0:a.display_supported)!==!1}catch(a){return null}}a=function(){function a(){var a=this;this.$1=null;this.$2=null;this.$3=null;this.$6=function(b){var c=a.$10("onReady");c.enqueueCommsConnectorEvent({applicationData:b.data,createdTimeMs:Date.now(),type:"ready"})};this.$7=function(b){b=a.$10("onShutdown");b.enqueueCommsConnectorEvent({createdTimeMs:Date.now(),type:"shutdown"})};this.$4=function(b){var c=a.$10("onSenderConnected");c.enqueueCommsConnectorEvent({createdTimeMs:Date.now(),senderID:b.senderId,type:"sender_connected",userAgent:b.userAgent})};this.$5=function(b){var c=a.$10("onSenderDisconnected");c.enqueueCommsConnectorEvent({createdTimeMs:Date.now(),disconnectReason:b.reason,senderID:b.senderId,type:"sender_disconnected",userAgent:b.userAgent})}}var d=a.prototype;d.getDeviceInfo=function(){return{displaySupported:m(),manufacturer:"Google",modelName:"Chromecast",osVersion:k(),sdkAppID:l(),sdkVersion:j()}};d.setCommsInterface=function(a){this.$1=a};d.start=function(){var a=c("ChromecastReceiverSDKV2Wrapper").CastReceiverManager.getInstance();a.onSenderConnected=this.$4;a.onSenderDisconnected=this.$5;a.onReady=this.$6;a.onShutdown=this.$7;this.$3={FBAPP_CAST_PROTOCOL:this.$8(a,"FBAPP_CAST_PROTOCOL"),GOOGLE_CAST_MEDIA_PROTOCOL:this.$8(a,"GOOGLE_CAST_MEDIA_PROTOCOL")};var d=new(c("ChromecastReceiverSDKV2Wrapper").CastReceiverManager.Config)();d.maxInactivity=c("getTV2DebuggingEnabled")()||c("getTV2DebugBreakpointsEnabled")()?6e3:void 0;b("setTV2Breakpoint")("Before SDK start");a.start(d);this.$2=a;b("setTV2Breakpoint")("After SDK start")};d.terminateApp=function(){b("setTV2Breakpoint")("Before SDK terminate");if(c("getTV2DebuggingOnDesktop")()&&!c("getTV2DebugShutdownEnabled")())return;var a=this.$2;a!=null&&a.stop();window.close()};d.sendMessage=function(a,c,d){h("sendMessage to "+a+":",c,d);var e=this.$9(a);b("setTV2Breakpoint")("TV2CommsChromecastV2Connector:sendMessage:"+a,c,d);e.send(c,d);e=this.$10("sendMessage");e.enqueueCommsConnectorEvent({createdTimeMs:Date.now(),messageDataRaw:d,protocol:a,senderID:c,type:"message_sent"})};d.broadcastMessage=function(a,d){var e=c("getTV2DebugSkip")("broadcastMessage to "+a+":"+String(d));e||h("broadcastMessage to "+a+":",d);var f=this.$9(a);e||b("setTV2Breakpoint")("TV2CommsChromecastV2Connector:broadcastMessage:"+a,d);f.broadcast(d)};d.$10=function(a){var b=this.$1;if(!b)throw c("unrecoverableViolation")("Missing comms interface ("+a+")","comet_tv_casting");return b};d.$8=function(a,b){var c=this;a=a.getCastMessageBus(i[b]);a.onMessage=function(a){return c.$11(b,a)};return a};d.$9=function(a){var b=this.$3;if(b==null)throw c("unrecoverableViolation")("Cannot get message bus before comms connector start","comet_tv_casting");return b[a]};d.$11=function(a,b){var c=this.$10("onMessage");c.enqueueCommsConnectorEvent({createdTimeMs:Date.now(),messageDataRaw:b.data,protocol:a,senderID:b.senderId,type:"message_received"})};return a}();g["default"]=a}),98);
__d("TV2CommsDebugConnector",["getTV2DebugLog","setTV2Breakpoint","unrecoverableViolation","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h=c("getTV2DebugLog")("[TV2CommsDebugConnector][debugLog] ");a=function(){function a(){this.$1=null,this.$2=c("uuidv4")()+":tv2-comms-debug-sender",this.$3="TV2CommsDebugConnector-UserAgent",this.$4="FACEB000",this.$5=!1}var d=a.prototype;d.getDeviceInfo=function(){return{displaySupported:!0,manufacturer:"Facebook",modelName:"TV2CommsDebugConnector",osVersion:null,sdkAppID:this.$5?this.$4:null,sdkVersion:null}};d.setCommsInterface=function(a){this.$1=a};d.start=function(){h("start"),b("setTV2Breakpoint")("After SDK start")};d.terminateApp=function(){h("terminateApp")};d.sendMessage=function(a,b,c){h("sendMessage to "+a+":",b,c);var d=this.$6("sendMessage");d.enqueueCommsConnectorEvent({createdTimeMs:Date.now(),messageDataRaw:c,protocol:a,senderID:b,type:"message_sent"})};d.broadcastMessage=function(a,b){h("broadcastMessage to "+a+":",b)};d.$6=function(a){var b=this.$1;if(!b)throw c("unrecoverableViolation")("Missing comms interface ("+a+")","comet_tv_casting");return b};d.debugReady=function(a){this.$5=!0;var b=this.$6("onReady");b.enqueueCommsConnectorEvent({applicationData:this.$7(a),createdTimeMs:Date.now(),type:"ready"})};d.debugShutdown=function(){var a=this.$6("onShutdown");a.enqueueCommsConnectorEvent({createdTimeMs:Date.now(),type:"shutdown"})};d.debugSenderConnected=function(a){var b=this.$6("onSenderConnected");b.enqueueCommsConnectorEvent({createdTimeMs:Date.now(),senderID:this.$8(a),type:"sender_connected",userAgent:this.$9(a)})};d.debugSenderDisconnected=function(a){var b=this.$6("onSenderDisconnected");b.enqueueCommsConnectorEvent({createdTimeMs:Date.now(),disconnectReason:this.$10(a),senderID:this.$8(a),type:"sender_disconnected",userAgent:this.$9(a)})};d.debugMessageReceived=function(a,b){var c=this.$6("onMessage");c.enqueueCommsConnectorEvent({createdTimeMs:Date.now(),messageDataRaw:this.$7(b),protocol:a,senderID:this.$8(b),type:"message_received"})};d.$8=function(a){return typeof a==="object"&&a!=null&&typeof a.senderId==="string"?a.senderId:this.$2};d.$9=function(a){return typeof a==="object"&&a!=null&&typeof a.userAgent==="string"?a.userAgent:this.$3};d.$7=function(a){return typeof a==="object"&&a!=null&&typeof a.data==="string"?a.data:""};d.$10=function(a){return typeof a==="object"&&a!=null?a.reason==="REQUESTED_BY_SENDER"?"REQUESTED_BY_SENDER":a.reason==="ERROR"?"ERROR":"UNKNOWN":"UNKNOWN"};return a}();g["default"]=a}),98);
__d("TV2CommsLoggerErrorGuard",["ErrorPubSub","getErrorSafe"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.$1=a}var b=a.prototype;b.shutdownLoggerAsync=function(){return this.$1.shutdownLoggerAsync()};b.logCommsConnectorEvent=function(a){this.$2(function(b){return b.logCommsConnectorEvent(a)})};b.logTVEvent=function(a,b){this.$2(function(c){return c.logTVEvent(a,b)})};b.logTVError=function(a){this.$2(function(b){return b.logTVError(a)})};b.overrideAccessToken=function(a){this.$1.overrideAccessToken(a)};b.overrideClientAppID=function(a){this.$1.overrideClientAppID(a)};b.setTvPlayerInstanceKey=function(a){this.$1.setTvPlayerInstanceKey(a)};b.setTvPlayerVersion=function(a){this.$1.setTvPlayerVersion(a)};b.setCastSessionID=function(a){this.$1.setCastSessionID(a)};b.$2=function(a){try{a(this.$1)}catch(a){c("ErrorPubSub").reportError(c("getErrorSafe")(a))}};return a}();g["default"]=a}),98);
__d("TV2LocalStorage",["CacheStorage"],(function(a,b,c,d,e,f,g){"use strict";a=new(c("CacheStorage"))("localstorage","_ctv_");b=a;g["default"]=b}),98);
__d("TV2LoggerDeviceUniqueID",["TV2LocalStorage","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=c("TV2LocalStorage").get("deviceUniqueIDFallback");if(typeof a==="string")return a;else{a="fallback__"+c("uuidv4")();c("TV2LocalStorage").set("deviceUniqueIDFallback",a);return a}}b=a();d=b;g["default"]=d}),98);
__d("TV2ODS",["ODS","Random"],(function(a,b,c,d,e,f,g){"use strict";a=function(a,b){b===void 0&&(b=1),d("Random").coinflip(b)&&d("ODS").bumpEntityKey(3327,"tv_casting_receiver_v2",a,b)};g.bumpEntityKey=a}),98);
__d("TVClientConnection",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,b){this.clientID=a,this.info=b,this.doneHandshake=!1,this.version="",this.clientCastSession=""}var b=a.prototype;b.established=function(){return this.doneHandshake};b.setEstablished=function(a){this.doneHandshake=!0;this.version=a;return this};b.setClientCastSession=function(a){this.clientCastSession=a;return this};b.getClientCastSession=function(){return this.clientCastSession};b.getClientID=function(){return this.clientID};b.getVersion=function(){return this.version};return a}();f["default"]=a}),66);
__d("TVCommunicationsManager",["invariant","EventEmitter","TVClientConnection","TVConfigs","TVLogger","TVMessageParser","asyncToGeneratorRuntime","promiseDone"],(function(a,b,c,d,e,f,g,h){"use strict";var i=34,j="experience_command",k=new Map([["PLAY","play_video"],["PAUSE","pause_video"],["SEEK","seek_video"]]);a=function(a){babelHelpers.inheritsLoose(d,a);function d(b){var c;c=a.call(this)||this;c.$TVCommunicationsManager1=1;c.$TVCommunicationsManager2=new Set();c.$TVCommunicationsManager3=new Map();c.$TVCommunicationsManager4=[];b=b.getCommunicationModules();for(var d=0;d<b.length;++d){var e=b[d];c.$TVCommunicationsManager4[d]=new e(c.$TVCommunicationsManager7.bind(babelHelpers.assertThisInitialized(c)),c.$TVCommunicationsManager8.bind(babelHelpers.assertThisInitialized(c)),c.$TVCommunicationsManager9.bind(babelHelpers.assertThisInitialized(c)),c.$TVCommunicationsManager10.bind(babelHelpers.assertThisInitialized(c)),c.$TVCommunicationsManager11.bind(babelHelpers.assertThisInitialized(c)))}c.$TVCommunicationsManager5=new Map();c.$TVCommunicationsManager6=new Map();return c}var e=d.prototype;e.init=function(){this.$TVCommunicationsManager4.forEach(function(a){a.init()})};e.getCommunicationModules=function(){return this.$TVCommunicationsManager4};e.addConnectionListener=function(a){this.$TVCommunicationsManager2.add(a)};e.removeConnectionListener=function(a){this.$TVCommunicationsManager2["delete"](a)};e.setMessageHandler=function(a,b){this.$TVCommunicationsManager3.set(a,b)};e.removeMessageHandler=function(a){this.$TVCommunicationsManager3["delete"](a)};e.notifyError=function(a){this.$TVCommunicationsManager7("notifyError",a)};e.connectionEstablished=function(a,b,d){var e=this.$TVCommunicationsManager12(a);c("TVLogger").logEvent("receiver_connection_established",JSON.stringify({from:a,version:b}));e.setEstablished(b).setClientCastSession(d);return Array.from(this.$TVCommunicationsManager2).reduce(function(a,b){return Object.assign(a,b(e))},{})};e.sendMessage=function(a){var b=a.getDestination();b||h(0,1164);this.$TVCommunicationsManager12(b);a.setMessageNumber(this.$TVCommunicationsManager1+=2);c("TVLogger").traceEvent({sendto:b,msg:a.serialize()});this.$TVCommunicationsManager4.forEach(function(c){c.sendMessage(b,a)});this.$TVCommunicationsManager13(a.getMessageType())&&c("TVLogger").logEvent("receiver_sent_message",JSON.stringify({to:b,msg:a}))};e.broadcastMessage=function(a){a.setMessageNumber(this.$TVCommunicationsManager1+=2),c("TVLogger").traceEvent({sendto:"broadcast",msg:a.serialize()}),this.$TVCommunicationsManager4.forEach(function(b){b.broadcastMessage(a)})};e.getConnectionsCount=function(){return this.$TVCommunicationsManager5.size};e.$TVCommunicationsManager13=function(a){return c("TVConfigs").logReceiverResponses&&!d.LOG_RESPONSE_MESSAGE_TYPE_BLOCKLIST.includes(a)};e.$TVCommunicationsManager12=function(a){var b=this.$TVCommunicationsManager5.get(a);b||(c("TVLogger").traceEvent("Connection not found from "+a),b=new(c("TVClientConnection"))(a,{}),this.$TVCommunicationsManager5.set(a,b));return b};e.$TVCommunicationsManager14=function(a,b){if(a.needsEstablishedConnection()&&!b.established()){var c=this.$TVCommunicationsManager15(b.getClientID()),d=this.$TVCommunicationsManager6.get(c);if(d!==void 0){b.setEstablished(d);return!0}this.$TVCommunicationsManager7("Connection not established",{msg:a,from:b.getClientID(),trimmed_from:c,known_clients:Array.from(this.$TVCommunicationsManager6.keys()),num_connected_clients:this.getConnectionsCount(),connected_clients:Array.from(this.$TVCommunicationsManager5.keys()).slice(0,100)});return!1}return!0};e.$TVCommunicationsManager16=function(a,b){if(a.isMediaNameSpaceMessage(b)){a=k.get(b.type);if(!a)return!1;b.target=window.currentTVExperienceTarget;b.data={};b.data.cmd=a;b.data.params={};b.currentTime&&(b.data.params.position=b.currentTime);b.type=j}return!0};e.$TVCommunicationsManager8=function(a,b,d){var e=this;c("promiseDone")(this.$TVCommunicationsManager17(a,b,d)["catch"](function(a){e.$TVCommunicationsManager7("Error handling message",a)}))};e.$TVCommunicationsManager17=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,d){c("TVLogger").traceEvent({msg:d,from:b});var e=this.$TVCommunicationsManager16(a,d),f=this.$TVCommunicationsManager12(b),g=(yield c("TVMessageParser").parse(d));g.setSender(b).setConnectionRequired(a.isMediaNameSpaceMessage(d)).setConnection(f);if(!e||!this.$TVCommunicationsManager14(g,f))return;c("TVLogger").logEvent("receiver_received_message",JSON.stringify({from:b,data:d}));a=this.$TVCommunicationsManager3.get(g.getTarget());if(a){e=(yield g.operate(a));e&&(yield g.handleResult(this,e))}else{b=((f=d)!=null?(f=f.data)!=null?f.cmd:f:f)||null;if(b==="stop_experience")return;e=((a=d)!=null?(a=a.data)!=null?a.type:a:a)||null;this.$TVCommunicationsManager7("No one is listening for target",{target:g.getTarget(),command:b,type:e,namespace:d.namespace,handlers:Array.from(this.$TVCommunicationsManager3.keys())})}});function d(b,c,d){return a.apply(this,arguments)}return d}();e.$TVCommunicationsManager9=function(a,b){c("TVLogger").logEvent("receiver_device_connected",JSON.stringify({from:a,connection_info:b}));this.$TVCommunicationsManager5.has(a)&&this.$TVCommunicationsManager18("Multiple connections",b);c("TVLogger").traceEvent({comm:"new connection",from:a,connection_info:b});b=new(c("TVClientConnection"))(a,b);this.$TVCommunicationsManager5.set(a,b);this.emit(d.CONNECTED,b)};e.$TVCommunicationsManager10=function(a,b){c("TVLogger").logEvent("receiver_device_disconnected",JSON.stringify({from:a,connection_info:b}));var e=this.$TVCommunicationsManager5.get(a);!e?this.$TVCommunicationsManager18("Uknown disconnection",b):(this.$TVCommunicationsManager6.set(this.$TVCommunicationsManager15(a),e.getVersion()),this.$TVCommunicationsManager5["delete"](a));c("TVLogger").traceEvent({comm:"lost connection",from:a,connection_info:b});this.emit(d.DISCONNECTED,a)};e.$TVCommunicationsManager11=function(){this.emit(d.TEARDOWN)};e.$TVCommunicationsManager7=function(a,b){var d;if(b!==null&&typeof b!=="string")try{d=JSON.stringify(b)}catch(a){d="Unable to JSON.stringify details: "+a.message}else d=b;c("TVLogger").logError(a,d)};e.$TVCommunicationsManager18=function(a,b){var d;if(b!==null&&typeof b!=="string")try{d=JSON.stringify(b)}catch(a){d="Unable to JSON.stringify details: "+a.message}else d=b;c("TVLogger").logWarn(a,d)};e.$TVCommunicationsManager15=function(a){if(a.length>i)return a.substr(0,i);else return a};e.addListenerTyped=function(a,b,c){return this.addListener(a,b,c)};return d}(c("EventEmitter"));a.CONNECTED="connected";a.DISCONNECTED="disconnected";a.TEARDOWN="teardown";a.LOG_RESPONSE_MESSAGE_TYPE_BLOCKLIST=["status_update","duration_change"];g["default"]=a}),98);
__d("ConnectedTvLoggingFalcoEventBuilder",["ConnectedTvLoggingFalcoEvent"],(function(a,b,c,d,e,f,g){"use strict";var h=100*1024,i=30,j={};a=function(){function a(a){this.$1=babelHelpers["extends"]({},a)}var b=a.prototype;b.currentTally=function(){return j};b.$2=function(){var a=this.$1.event;if(a!=null){j[a]==null&&(j[a]={perf_time_ms:0,total:0,perf_time_samples_ms:[]});if(this.perfTimeMS!=null){var b=parseInt(this.perfTimeMS,10);j[a].perf_time_ms+=b;j[a].total+=1;j[a].perf_time_samples_ms.push(b);j[a].perf_time_samples_ms.length>=i&&j[a].perf_time_samples_ms.shift()}}};b.log=function(a){var b=this;this.$2();c("ConnectedTvLoggingFalcoEvent").log(function(){return b.$1})};b.logVital=function(a){var b=this;this.$2();c("ConnectedTvLoggingFalcoEvent").logImmediately(function(){return b.$1})};b.logImmediately=function(a){var b=this;this.$2();c("ConnectedTvLoggingFalcoEvent").logImmediately(function(){return b.$1})};b.setPerfTimeMs=function(a){this.$1.perf_time_ms=a;this.perfTimeMS=a;return this};b.setEventDescription=function(a){this.$1.event_description=a;return this};b.setExtraData=function(a){var b;b=(b=this.$1.extra_data)!=null?b:{};this.$1.extra_data=babelHelpers["extends"]({},b,a);return this};b.setErrorMessage=function(a){a!=null&&a.length>h?this.$1.error_message=a.substring(0,h):this.$1.error_message=a;return this};b.setErrorDetails=function(a){a!=null&&a.length>h?this.$1.error_details=a.substring(0,h):this.$1.error_details=a;return this};b.setVideoIDOverride=function(a){this.$1.video_id_override=a;return this};b.setGraphqlQueryName=function(a){this.$1.graphql_query_name=a;return this};b.setExternalLogID=function(a){this.$1.external_log_id=a;return this};b.setExternalLogType=function(a){this.$1.external_log_type=a;return this};b.setPositionInChannel=function(a){this.$1.position_in_channel=a;return this};b.setRetryCount=function(a){this.$1.retry_count=a;return this};b.setSessionFailureCode=function(a){this.$1.session_failure_code=a;return this};b.setSessionFailureDescription=function(a){this.$1.session_failure_description=a;return this};b.setExperienceView=function(a){this.$1.experience_view=a;return this};b.setActionTarget=function(a){this.$1.action_target=a;return this};b.setTabType=function(a){this.$1.tab_type=a;return this};b.setStoryID=function(a){this.$1.story_id=a;return this};b.setViewportDuration=function(a){this.$1.viewport_duration=a;return this};b.setVideoChannelID=function(a){this.$1.video_channel_id=a;return this};b.setExperience=function(a){this.$1.experience=a;return this};b.setCastClientAppID=function(a){this.$1.cast_client_app_id=a;return this};b.setPlaybackIsLiveStreaming=function(a){this.$1.playback_is_live_streaming=a;return this};b.setPlayerVersion=function(a){this.$1.player_version=a;return this};return a}();g["default"]=a}),98);
__d("LRUKeyedCache",[],(function(a,b,c,d,e,f){"use strict";var g=1e3,h=function(a,b,c){this.next=null,this.prev=null,this.key=a,this.cacheVersion=b,this.value=c};a=function(){function a(a,b){b===void 0&&(b=g),this.cache=new Map(),this.cacheVersion=0,this.capacity=b,this.keyFunction=a,this.head=new h("head",this.cacheVersion,null),this.tail=new h("tail",this.cacheVersion,null),this.head.next=this.tail,this.tail.prev=this.head}var b=a.prototype;b.set=function(a,b){a=this.keyFunction(a);var c=this.$1(a);c==null?(c=new h(a,this.cacheVersion,b),this.cache.set(a,c)):c.value=b;this.$2(c);this.$3();return};b.get=function(a){a=this.keyFunction(a);a=this.$1(a);if(a==null)return a;this.$2(a);return a.value};b.clear=function(){this.cacheVersion++};b.$1=function(a){var b=this.cache.get(a);if(b==null)return b;if(b.cacheVersion!=this.cacheVersion){this.$4(a);return void 0}return b};b.$2=function(a){this.$5(a),this.$6(a)};b.$6=function(a){a.prev=this.head,a.next=this.head.next,this.head.next!=null&&(this.head.next.prev=a),this.head.next=a};b.$5=function(a){a.prev!=null&&(a.prev.next=a.next),a.next!=null&&(a.next.prev=a.prev)};b.$4=function(a){var b=this.cache.get(a);if(b===void 0)return;this.$5(b);this.cache["delete"](a)};b.$3=function(){this.cache.size>this.capacity&&this.tail.prev!==null&&this.$4(this.tail.prev.key)};b.getCacheSnapshot_DEBUG=function(){return new Map(this.cache)};return a}();f["default"]=a}),66);
__d("TVError",["ErrorNormalizeUtils","getErrorSafe"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c){var d;d=a.call(this,b)||this;d.message=b;d.details=c;return d}b.parseError=function(a){var b;try{b=JSON.stringify(a)}catch(a){b="JSON.stringify(error) failed: "+a.message}var d="Unable to parse error in _logUnhandledError";b=b||"No error details in _logUnhandledError";if(a){if(typeof a.messageFormat==="string"&&a.messageFormat){var e=typeof a.isNormalizedError==="boolean"&&a.isNormalizedError===!0?a:c("ErrorNormalizeUtils").normalizeError(c("getErrorSafe")(a));d=e.message}else typeof a.message==="string"&&a.message?d=a.message:typeof a.errorCode==="string"&&a.errorCode?d=a.errorCode:typeof a.name==="string"&&a.name?d=a.name:typeof a.type==="string"&&a.type?d=a.type:typeof a==="string"&&(d=a);typeof a.details==="string"&&a.details&&(b=a.details)}if(!b||b==='""')try{throw new Error("Call Stack")}catch(a){try{b=JSON.stringify(a)}catch(a){b="JSON.stringify(detailsError) failed: "+a.message}}return{message:d,details:b}};return b}(babelHelpers.wrapNativeSuper(Error));g["default"]=a}),98);
__d("TVLoggedOutExperimentsCached",["invariant","CacheStorage","TVExperiments"],(function(a,b,c,d,e,f,g,h){a=function(){function a(){this.$1=new(c("CacheStorage"))("localstorage","_ctv_"),this.$2="tv_experiments"}var b=a.prototype;b.get=function(a){var b=this.getCachedExperimentsMap(),d=c("TVExperiments")[a];if(!d)return!1;if(d.overrideValue!=null)return d.overrideValue;var e=b[a];if(e===void 0||e.version<d.version){this.$1.set(this.$2,babelHelpers["extends"]({},b,(b={},b[a]=d,b)));return d.value}return e.value};b.getCachedExperimentsMap=function(){return this.$1.get(this.$2)||{}};b.getCachedExperimentsMapForLogging=function(){var a=this.$1.get(this.$2)||{};Object.keys(a).map(function(b){return(a[b]=(b=a[b])==null?void 0:b.value)||""});return a};b.__setForUnitTests=function(a,b){};return a}();b=new a();d=b;g["default"]=d}),98);
__d("TVPlatform",["memoize"],(function(a,b,c,d,e,f,g){"use strict";var h={isAndroidBased:c("memoize")(function(){return h.isAmazon()||h.isAndroidTV()}),isAmazon:c("memoize")(function(){return/AFT[MTB]/.test(navigator.userAgent)}),isAmazonFireTVStick:c("memoize")(function(){return/AFT[MT]/.test(navigator.userAgent)}),isAndroidTV:c("memoize")(function(){return/\bcom\.facebook\.katana\b/.test(navigator.userAgent)&&!h.isAmazon()||h.isPortalTV()||h.isJIOTV()||h.isNexusPlayer()||h.isNvidiaShield()||h.isSonyTV()}),isPortalTV:c("memoize")(function(){return/\bcom\.facebook\.aloha\.app\.fbtv\b/.test(navigator.userAgent)}),isNexusPlayer:c("memoize")(function(){return/\bNexus Player\b/.test(navigator.userAgent)}),isNvidiaShield:c("memoize")(function(){return/\bSHIELD Android TV\b/.test(navigator.userAgent)}),isSonyTV:c("memoize")(function(){return/\bBRAVIA\b/.test(navigator.userAgent)}),isGamingForTV:c("memoize")(function(){return/\bcom\.facebook\.gaming\b/.test(navigator.userAgent)}),isChromecast:c("memoize")(function(){return!!window.cast}),isHisense:c("memoize")(function(){return/\bHisense\b/.test(navigator.userAgent)||/\bVIDAA\b/.test(navigator.userAgent)}),isTelecentro:c("memoize")(function(){return/\bDCIW362-UHD-TLC\b/.test(navigator.userAgent)||/\bTLC_STB\b/.test(navigator.userAgent)||/\bDCIW387-UHD-TLC\b/.test(navigator.userAgent)}),isVodafone:c("memoize")(function(){return/\bVODAFONE_STB\b/.test(navigator.userAgent)}),isVizio:c("memoize")(function(){return/\bVizio\b/i.test(navigator.userAgent)}),isMediatek:c("memoize")(function(){return/MTK_*/.test(navigator.userAgent)}),isLg:c("memoize")(function(){return/\bWeb0S\b/.test(navigator.userAgent)}),isLgOld:c("memoize")(function(){return/\bWeb0S\b/.test(navigator.userAgent)&&!/\bChrome\b/.test(navigator.userAgent)}),isClaro:c("memoize")(function(){return/\bTeleIDEA\b/.test(navigator.userAgent)}),isPersonal:c("memoize")(function(){return/\bSagemcom-DIW362-CVA\b/.test(navigator.userAgent)||/\bTECO_STB\b/.test(navigator.userAgent)||/\bArris, DCX4220\b/.test(navigator.userAgent)||/\bArris, DCX4400\b/.test(navigator.userAgent)}),isJIOTV:c("memoize")(function(){return/\bJio\b/.test(navigator.userAgent)}),isSamsung:c("memoize")(function(){return/\bTizen\b/.test(navigator.userAgent)}),isSamsung2017:c("memoize")(function(){return/\bTizen 3\b/.test(navigator.userAgent)}),isSamsungTizen23:c("memoize")(function(){return/\bTizen 2.3\b/.test(navigator.userAgent)}),isXbox:c("memoize")(function(){return/\bXbox\b/.test(navigator.userAgent)}),isWWW:c("memoize")(function(){for(var a in h){if(a==="isWWW")continue;if(h[a]())return!1}return!0})};Object.freeze(h);a=h;g["default"]=a}),98);
__d("TVLogger",["Banzai","ConnectedTvLoggingFalcoEventBuilder","ErrorPubSub","LRUKeyedCache","PageHooks","Promise","QuickPerformanceLogger","SiteData","TVError","TVLoggedOutExperimentsCached","TVPlatform","TVUserSessionManager","TVWebAppGlobals","Visibility","guid","performanceAbsoluteNow","qpl"],(function(a,b,c,d,e,f,g){"use strict";b("PageHooks");var h=500,i=1e3*60*5,j=20;d=function(){function d(){this.$3=!0;this.$4=c("guid")();this.$5=c("TVWebAppGlobals").getSessionStartTimeMS();this.$6=c("TVWebAppGlobals").getSessionStartTimeMS();this.$7=!1;this.$8=null;this.$10={};this.$11=[];this.$18=null;this.$19=null;this.$20=null;this.$21=null;this.$22=new(c("LRUKeyedCache"))(function(a){return a},j);this.$1=this.onUnhandledError.bind(this);this.$12=null;this.$14=1;this.$15=!c("Visibility").isHidden();this.$16=new Set();var b=c("TVWebAppGlobals").getAppAPI();b?this.$9={appVersion:b.getAppVersion(),duid:b.getDeviceUniqueID(),manufacturer:b.getManufacturer(),modelName:b.getModelName(),osVersion:b.getOSVersion(),thirdPartyAppID:b.getThirdPartyAppID()}:this.$9={appVersion:void 0,duid:void 0,manufacturer:void 0,modelName:void 0,osVersion:void 0,thirdPartyAppID:void 0};d.isConsoleEnabled===null&&(d.isConsoleEnabled=/\bdebugging=1\b/.test(a.location.search)||!!a.DEBUG);d.isGoogleCastBg===null&&(d.isGoogleCastBg=/\bgoogle_cast_bg=true\b/.test(a.location.search));c("QuickPerformanceLogger").markerStartFromNavStart(c("qpl")._(62128131,"7970"));c("QuickPerformanceLogger").markerEnd(c("qpl")._(62128131,"7970"),2);c("TVPlatform").isSamsungTizen23()?this.getLogger("receiver_loaded").setEventDescription(JSON.stringify({logVital:!1})).log():this.getLogger("receiver_loaded").logVital();a.performance&&a.performance.timing&&this.getLogger("receiver_page_load").setPerfTimeMs(a.performance.timing.responseEnd-this.$5).log();c("ErrorPubSub").addListener(this.$1)}var e=d.prototype;e.overrideAccessToken=function(a){this.$18=a};e.overrideClientAppID=function(a){this.$19=a};e.overrideDeviceInfo=function(a){this.$9=a};e.onUnhandledError=function(a){this.$23(a)};e.currentTally=function(){return this.getLogger("receiver_loaded").currentTally()};e.shutdown=function(){c("ErrorPubSub").removeListener(this.$1);a.PageHooks.runHooks("onleavehooks");a.PageHooks.runHooks("onunloadhooks");a.PageHooks.runHooks("onafterunloadhooks");return new(b("Promise"))(function(a,b){c("Banzai").flush(a,b)})};e.logQPLStartupEventIfInitialPlayback=function(){d.isInitialPlayback&&(c("QuickPerformanceLogger").markerEnd(c("qpl")._(62128135,"2135"),2),d.isInitialPlayback=!1)};e.$24=function(a){var b;b=(b=this.$18)!=null?b:c("TVUserSessionManager").getUserAccessToken();b={event:a,experience:this.$12,most_recent_sender_user_agent:this.$13,tv_app_version:this.$9.appVersion,tv_seq_num:this.$14++,tv_time_ms:Date.now(),tv_session_id:this.$4,campaign_id:this.$2,cast_session_id:this.$8,client_session_start_time_ms:this.$5,is_app_visible:this.$15,device_unique_id:this.$9.duid,manufacturer:this.$9.manufacturer,model_name:this.$9.modelName,os_version:this.$9.osVersion,third_party_app_id:this.$9.thirdPartyAppID,is_google_cast_bg:d.isGoogleCastBg,access_token:b,is_first_load_after_install:c("TVUserSessionManager").isFirstLoadAfterInstall(),tv_player_instance_key:this.$20,tv_player_version:this.$21,tv_web_client_revision:c("SiteData").client_revision.toString()};this.$19!=null&&(b.cast_client_app_id=this.$19);var e=c("TVLoggedOutExperimentsCached").getCachedExperimentsMapForLogging();for(var f=this.$16,g=Array.isArray(f),h=0,f=g?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var i;if(g){if(h>=f.length)break;i=f[h++]}else{h=f.next();if(h.done)break;i=h.value}i=i;i=i();e=babelHelpers["extends"]({},e,i)}b.extra_data=e;if(!this.$10[a]){this.$10[a]=!0;i=c("performanceAbsoluteNow")();if(a==="receiver_experience_manager_loaded")if(document.hasFocus())c("QuickPerformanceLogger").markerStart(c("qpl")._(62128130,"134")),c("QuickPerformanceLogger").markerStartFromNavStart(c("qpl")._(62128135,"2135")),c("QuickPerformanceLogger").markerAnnotate(c("qpl")._(62128135,"2135"),{bool:{backgroundLoad:!1}});else{h=function a(){window.removeEventListener("focus",a),c("QuickPerformanceLogger").markerStart(c("qpl")._(62128130,"134")),c("QuickPerformanceLogger").markerStart(c("qpl")._(62128135,"2135")),c("QuickPerformanceLogger").markerAnnotate(c("qpl")._(62128135,"2135"),{bool:{backgroundLoad:!0}})};window.addEventListener("focus",h)}a==="receiver_device_connected"&&(c("QuickPerformanceLogger").markerEnd(c("qpl")._(62128130,"134"),2),this.$7=!0,this.$6=i);a==="receiver_playback_started"&&this.logQPLStartupEventIfInitialPlayback();b.initial_cast=!0;b.perf_time_ms=Math.floor(i-(this.$7?this.$6:this.$5))}this.$25("timeStamp",a);this.$26({ts:Date.now(),event:a});g=b;return new(c("ConnectedTvLoggingFalcoEventBuilder"))(g)};e.getLogger=function(a){return this.$24(a)};e.$25=function(a){if(d.isConsoleEnabled&&a in console){var b;for(var c=arguments.length,e=new Array(c>1?c-1:0),f=1;f<c;f++)e[f-1]=arguments[f];(b=console)[a].apply(b,e)}};e.setIsVisible=function(a){this.$15=a,this.logEvent(a?"app_foregrounded":"app_backgrounded")};e.logEvent=function(a,b,c){b===void 0&&(b=null);c===void 0&&(c=!1);this.$26({event:a,event_description:b});var d=this.getLogger(a);b=this.sanitize(b,a);b&&d.setEventDescription(b);c?d.logVital():d.log()};e.traceEvent=function(a){this.$26(a),this.$25("log",a)};e.$26=function(a){if(!this.$3)return;typeof a!=="string"&&(a=JSON.stringify(a));this.$11.unshift(a);this.$11.length>h&&(this.$11=this.$11.slice(0,h))};e.getEventsTrace=function(){this.$26({sessionId:this.getSessionID()});return this.$11};e.logUnhandledError=function(a){this.$25("error",a),this.$23(a)};e.$23=function(a){var b=c("TVError").parseError(a),d=b.message;b=b.details;try{var e,f=JSON.parse(b);if(((e=f)!=null?e.loggingSource:e)==="ONUNHANDLEDREJECTION")return;if(((e=f)!=null?e.loggingSource:e)==="FBLOGGER"&&((e=f)!=null?e.type:e)==="warn"&&((e=f)!=null?e.forcedKey:e)==="TVInstalledAppLoginActions")return}catch(a){}this.$26({error:{message:d,details:b,stack:a&&a.stack||new Error().stack}});f=this.sanitize(d,"receiver_error");f&&this.$27(f)&&this.getLogger("receiver_error").setErrorMessage(f).setErrorDetails(b).setVideoIDOverride(this.getVideoID()).logVital()};e.$27=function(a){var b=Date.now(),c=this.$22.get(a)||0;if(!c||b-c>i){this.$22.set(a,b);return!0}return!1};e.logError=function(a,b){b===void 0&&(b=null),this.$26({error:{message:a,details:b,stack:new Error().stack}}),this.$25("error",a,b),a=this.sanitize(a,"receiver_error"),this.getLogger("receiver_error").setErrorMessage(a).setErrorDetails(b).logVital()};e.logWarn=function(a,b){b===void 0&&(b=null),this.$26({warning:{message:a,details:b}}),this.$25("warn",a,b),a=this.sanitize(a,"receiver_warning"),this.getLogger("receiver_warning").setErrorMessage(a).setErrorDetails(b).log()};e.sanitize=function(a,b){if(!a||!b)return a;switch(b){case"receiver_received_message":case"receiver_error":return a.replace(/\\"access_token\\":\\"[a-z0-9A-Z+/=_\-]*\\"/,'\\"access_token\\":\\"--sanitized--\\"').replace(/\\"channel_token\\":\\"[a-z0-9A-Z+/=_\-]*\\"/,'\\"channel_token\\":\\"--sanitized--\\"');case"launched_app":return a.replace(/token=[a-z0-9A-Z+/=%]*/,"token=--sanitized--");default:return a}};e.getSessionID=function(){return this.$4};e.setCastSessionID=function(a){if(this.$8===a)return;this.$8=a};e.setMostRecentSenderUserAgent=function(a){this.$13=a};e.setCurrentExperience=function(a){this.$12=a};e.setCollectTraceLogs=function(a){a||(this.$11=[]),this.$3=a};e.getCampaignID=function(){return this.$2};e.setCampaignID=function(a){this.$2=a};e.getVideoID=function(){return this.$17};e.setVideoID=function(a){this.$17=a};e.setTvPlayerInstanceKey=function(a){this.$20=a};e.setTvPlayerVersion=function(a){this.$21=a};e.addExtraDataCallback=function(a){this.$16.add(a)};e.removeExtraDataCallback=function(a){this.$16["delete"](a)};e.getIsGoogleCastBG=function(){return d.isGoogleCastBg};e.getDeviceInfo=function(){return this.$9};return d}();d.isConsoleEnabled=null;d.isGoogleCastBg=null;d.isInitialPlayback=!0;e=new d();f=e;g["default"]=f}),98);
__d("TVUserSessionManager",["invariant","QE2Logger","QueryString","TVLoggedOutExperimentsCached","TVLogger","TVSessionStorage","TVWebAppGlobals","fb-error"],(function(a,b,c,d,e,f,g,h){"use strict";var i="html_tv_ui_experiments";a=function(){function a(){this.$5=new Map(),this.$6=null,this.$7={},this.$8=null}var b=a.prototype;b.init=function(a){try{this.$9()}catch(a){}this.$3=c("TVSessionStorage").getAccessToken()||a;this.$4=c("TVSessionStorage").getUserLocale();a=c("TVSessionStorage").getLastLoadTimeMs()||c("TVSessionStorage").getAccessToken()||c("TVSessionStorage").getUserSessions().size>0;this.$1=!a;this.$2=c("TVSessionStorage").getLastLoadTimeMs();c("TVSessionStorage").saveLastLoadTimeMs(Date.now());this.$5=c("TVSessionStorage").getUserSessions();this.$10()};b.$9=function(){var a=window.location.href.split("?");a[0];a=a[1];a=a===void 0?"":a;a=(a=c("QueryString").decode(a))!=null?a:{};this.$8=a.locale};b.getLocaleFromURL=function(){return this.$8};b.getLocale=function(){var a;return(a=(a=this.getLocaleFromURL())!=null?a:this.getUserLocale())!=null?a:c("TVWebAppGlobals").getAppSettings().getTVLocale()};b.getUserLocale=function(){return this.$4};b.setUserLocale=function(a){c("TVSessionStorage").saveUserLocale(a),this.$4=a};b.getLastLoadTimeMs=function(){return this.$2};b.isFirstLoadAfterInstall=function(){return this.$1};b.isLoggedIn=function(){return!!this.getUserAccessToken()};b.isUserAccessTokenTemp=function(){return this.$6!==null};b.getUserAccessToken=function(){return this.$6&&this.$6.token||this.$3};b.getTempUserAccessToken=function(){var a;return(a=(a=this.$6)==null?void 0:a.token)!=null?a:null};b.getTempUserAccessSession=function(){return this.$6};b.setUserAccessToken=function(a,b){b===void 0&&(b=!0),this.deleteTempUserAccessToken(),this.$3=a,c("fb-error").ErrorDynamicData.access_token=a,b&&(a?c("TVSessionStorage").saveAccessToken(a):c("TVSessionStorage").deleteAccessToken())};b.isCasterTokenAvailable=function(a){a=c("TVSessionStorage").getCastAccessToken(a);return a!=null};b.setTempUserAccessTokenWithCasterSession=function(a){var b;b=c("TVSessionStorage").getCastAccessToken((b=a.casterId)!=null?b:"");b!=null?this.setTempUserAccessSession(babelHelpers["extends"]({token:b},a)):c("TVLogger").logWarn("Attempting to set access token with unknown caster id")};b.invalidateTempUserAccessToken=function(){if(this.$6!=null){var a;c("TVSessionStorage").deleteCastAccessTokenByToken((a=this.$6)==null?void 0:a.token);this.$6=null}};b.isTempUserAccessToken=function(a){return(a=this.$7[a])!=null?a:!1};b.setTempUserAccessSession=function(a){this.$6=a,this.$7[a.token]=!0,c("fb-error").ErrorDynamicData.access_token=a.token};b.deleteCurrentUserAccessToken=function(){this.$3=null,c("TVSessionStorage").deleteAccessToken(),(!c("TVLoggedOutExperimentsCached").get("userSwitchingEnabled")||c("TVWebAppGlobals").getAppSettings().getDisableUserSwitching())&&c("TVSessionStorage").deleteUserSessions()};b.deleteCurrentSavedUserAccessToken=function(){this.deleteSavedUserAccessToken(this.getCurrentUserID())};b.deleteSavedUserAccessToken=function(a){if(!a)return;a===this.getCurrentUserID()&&this.deleteCurrentUserAccessToken();this.$5["delete"](a)&&c("TVSessionStorage").saveUserSessions(this.$5);this.$10()};b.deleteTempUserAccessToken=function(){this.isUserAccessTokenTemp()&&(this.$6=null,c("fb-error").ErrorDynamicData.access_token=this.$3||null)};b.getAvailableUserSessions=function(){var a=[];this.$5.forEach(function(b){a.push(b)});a.sort(function(a,b){return b.lastSeenTime-a.lastSeenTime});return a};b.updateActiveUserSession=function(a){var b=a.accessToken,e=a.id;b!==this.getUserAccessToken()&&(c("TVLogger").logWarn("updateActiveUserSession has mismatching userAccessToken"),this.setUserAccessToken(b));d("QE2Logger").logExposureForUser(i,e);this.$5.set(e,a);c("TVSessionStorage").saveUserSessions(this.$5);this.$10()};b.switchUserSession=function(a){var b=this.getCurrentUserSession();b&&(b.lastSeenTime=Date.now(),this.$5.set(b.id,b),c("TVSessionStorage").saveUserSessions(this.$5));b=this.$5.get(a);b||h(0,5994);this.setUserAccessToken(b.accessToken);window.location.reload()};b.getCurrentUserSession=function(){for(var a=this.$5.values(),b=Array.isArray(a),c=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var d;if(b){if(c>=a.length)break;d=a[c++]}else{c=a.next();if(c.done)break;d=c.value}d=d;if(d.accessToken===this.$3)return d}return null};b.getCurrentUserID=function(){var a=this.getCurrentUserSession();return a?a.id:null};b.$10=function(){var a=this.getCurrentUserID(),b=c("TVWebAppGlobals").getAppAPI();b.hasUserSessionSupport()&&b.setCurrentUserID(a||"")};b.getNewInstance=function(){return new a()};return a}();b=new a();e=b;g["default"]=e}),98);
__d("TVClientVideoMetadata",[],(function(a,b,c,d,e,f){a=function(){function a(a){this.$1=a}var b=a.prototype;b.getAppID=function(){return this.$1.getAppID()};b.getAppVersion=function(){return this.$1.getAppVersion()};b.getAspectRatio=function(){return this.$1.getAspectRatio()};b.getBackgroundURL=function(){var a;return(a=this.$1.getBackground())==null?void 0:a.uri};b.getCaptionsURL=function(){return this.$1.getCaptionsURL()};b.getDashManifest=function(){return this.$1.getDashManifest()};b.getMetadata=function(){return this.$1};b.getPlayableDurationInMs=function(){return this.$1.getPlayableDurationInMs()};b.getThumbnailURL=function(){var a;return(a=this.$1.getThumbnail())==null?void 0:a.uri};b.getTitle=function(){return this.$1.getTitle()};b.getVideoChannelID=function(){return this.$1.getVideoChannelID()};b.getVideoID=function(){return this.$1.getVideoID()};b.getVideoURL=function(){var a=function(a){return a!=null&&a.length>0},b=this.$1.getVideoURL("DASH");if(a(b))return b;b=this.$1.getVideoURL("PROGRESSIVE");return a(b)?b:this.$1.getVideoURL("HLS")};b.getMessage=function(){return this.$1.getMessage()};b.toString=function(){return JSON.stringify({appID:this.getAppID(),appVersion:this.getAppVersion(),aspectRatio:this.getAspectRatio(),backgroundURL:this.getBackgroundURL(),captionsURL:this.getCaptionsURL(),dashManifest:this.getDashManifest(),durationMs:this.getPlayableDurationInMs(),message:this.getMessage(),thumbnailURL:this.getThumbnailURL(),title:this.getTitle(),videoChannelID:this.getVideoChannelID(),videoID:this.getVideoID(),videoURL:this.getVideoURL()})};return a}();f["default"]=a}),66);
__d("TVBaseAppAPI",["CacheStorage","Promise","TVClientVideoMetadata","asyncToGeneratorRuntime","gkx","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h=new(c("CacheStorage"))("localstorage","_ctv_");a=function(){function a(){}var d=a.prototype;d.getDeviceUniqueID=function(){var a=h.get("deviceUniqueIDFallback");a||(a="fallback__"+c("uuidv4")(),h.set("deviceUniqueIDFallback",a));return a};d.getAppVersion=function(){return null};d.getManufacturer=function(){return"unknown"};d.getModelName=function(){return null};d.getOSVersion=function(){return null};d.getThirdPartyAppID=function(){return null};d.canGenVC=function(){return!1};d.genVC=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){throw new Error("genVC() not implemented")});function c(){return a.apply(this,arguments)}return c}();d.hasSmartLoginSupport=function(){return!1};d.startSmartLogin=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){throw new Error("startSmartLogin() not implemented")});function c(b){return a.apply(this,arguments)}return c}();d.stopSmartLogin=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){throw new Error("stopSmartLogin() not implemented")});function c(){return a.apply(this,arguments)}return c}();d.logoutAndReload=function(){window.location.reload()};d.hasScreensaverDisableSupport=function(){return!1};d.enableScreensaver=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){throw new Error("enableScreensaver() not implmented")});function c(){return a.apply(this,arguments)}return c}();d.disableScreensaver=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){throw new Error("disableScreensaver() not implmented")});function c(){return a.apply(this,arguments)}return c}();d.hasUserSessionSupport=function(){return!1};d.setCurrentUserID=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){throw new Error("setCurrentUserID() not implemented")});function c(b){return a.apply(this,arguments)}return c}();d.hasMediaDelegate=function(){return!1};d.onSelectVideo=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=new(c("TVClientVideoMetadata"))(a);((a=window)!=null?(a=a.FBTVMediaBridge)!=null?a.onSelectVideo:a:a)&&(yield this.exec("onSelectVideo",function(a){window.FBTVMediaBridge.onSelectVideo(b.toString())}))});function d(b){return a.apply(this,arguments)}return d}();d.onVideoStateChange=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b,d=this;((b=window)!=null?(b=b.FBTVMediaBridge)!=null?b.onVideoStateChange:b:b)&&(yield this.exec("onVideoStateChange",function(b){c("gkx")("5254")?window.JSBRIDGE_TOKEN!=="undefined"?d.$1(a):window.addEventListener("JSBRIDGE_TOKEN_Injected",d.$1(a)):window.FBTVMediaBridge.onVideoStateChange(a.toString())}))});function d(b){return a.apply(this,arguments)}return d}();d.$1=function(a){window.FBTVMediaBridge.onVideoStateChange(window.JSBRIDGE_TOKEN,a.toString())};d.onPlaybackError=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b;((b=window)!=null?(b=b.FBTVMediaBridge)!=null?b.onPlaybackError:b:b)&&(yield this.exec("onPlaybackError",function(b){window.FBTVMediaBridge.onPlaybackError(JSON.stringify(a.serialize()))}))});function c(b){return a.apply(this,arguments)}return c}();d.onCommMessage=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var c;((c=window)!=null?(c=c.FBTVCastingBridge)!=null?c.onCommMessage:c:c)&&(yield this.exec("onCommMessage",function(c){window.FBTVCastingBridge.onCommMessage(a,JSON.stringify(b.serialize()))}))});function c(b,c){return a.apply(this,arguments)}return c}();d.closeApp=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){window.open("","_self").close()});function c(){return a.apply(this,arguments)}return c}();d.hasAppClosedCaptioningSupport=function(){return!1};d.isClosedCaptioningEnabled=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){throw new Error("isClosedCaptioningEnabled() not implmented")});function c(){return a.apply(this,arguments)}return c}();d.setClosedCaptioningEnabled=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){throw new Error("setClosedCaptioningEnabled() not implmented")});function c(b){return a.apply(this,arguments)}return c}();d.exec=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,d,e){e===void 0&&(e=6e4);a=this.constructor.name+":"+a;var f=(yield new(b("Promise"))(function(b,f){var g=c("uuidv4")(),h=window.setTimeout(function(){window[g]&&window[g](new Error('timeout waiting for api call "'+a+'" response from native app'))},e);window[g]=function(c,a){window.clearTimeout(h),delete window[g],c?f(c):b(a)};try{d(g)}catch(a){window[g](a)}}));if(typeof f==="object"&&f!==null)return f;if(typeof f==="string"&&f.trim().indexOf('{"')===0)try{return JSON.parse(f)}catch(b){throw new Error('api call "'+a+'" did not have a valid json response: '+b.message)}throw new Error('api call "'+a+'" did not have a valid response')});function d(b,c,d){return a.apply(this,arguments)}return d}();d.setHasMediaDelegate_DONOT_USE=function(a){};d.getLastVideoState_DONOT_USE=function(){};d.getPlaybackErrorMessage_DONOT_USE=function(){};return a}();g["default"]=a}),98);
__d("TVOutgoingMessage",[],(function(a,b,c,d,e,f){"use strict";var g=2;a=function(){function a(a,b){this.dest=a,this.messageNumber=-1,this.requestMessageNumber=b}var b=a.prototype;b.getDestination=function(){return this.dest};b.setTarget=function(a){this.target=a};b.setMessageNumber=function(a){this.messageNumber=a};b.serialize=function(){var a=this.serializeReceiverInfo();return babelHelpers["extends"]({protocol_version:g,timestamp:Date.now(),num:this.messageNumber,response_num:this.requestMessageNumber,type:this.getMessageType(),data:this.serializeData(),target:this.target},a!=null&&{receiver_info:a})};b.serializeData=function(){return{}};b.serializeReceiverInfo=function(){return null};b.getMessageType=function(){return"unknown"};return a}();f["default"]=a}),66);
__d("TVVersionResponse",["TVOutgoingMessage"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c,d){c=a.call(this,c,d)||this;c.result=b;return c}var c=b.prototype;c.getMessageType=function(){return"version_response"};c.serializeData=function(){return this.result};b.successResponse=function(a){a=babelHelpers["extends"]({success:!0,reason:null},a);return a};b.failedResponse=function(a){return{success:!0,reason:a,currently_running_experience:null}};return b}(c("TVOutgoingMessage"));g["default"]=a}),98);
__d("TVVersionManager",["TVVersionResponse"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.commManager=a}var b=a.prototype;b.handleVersionRequest=function(a){a=this.commManager.connectionEstablished(a.getSender(),a.getVersionNumber(),a.getClientCastSession());return c("TVVersionResponse").successResponse(a)};return a}();g["default"]=a}),98);
__d("TVWebAppSettings",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){var b=this;this.$1=a.allow_deep_link||!1;this.$2=a.app_api;this.$3=a.app_platform||"unknown";this.$4=a.communication_modules||[];this.$5=a.remote_control;this.$6=a.video_player;this.$7=a.inject_components;this.$8=a.initial_payload;this.$9=a.client_token||null;this.$10=a.installed_app;this.$13=a.tv_locale;this.$14=a.touch_enabled||!1;this.$15=a.cursor_enabled||!1;this.$18=a.show_back_button||!1;this.$19=a.show_back_to_news_feed||!1;this.$20=a.use_small_profile_picture||!1;this.$21=a.show_deprecate_notice||!0;this.$22=a.app_is_deprecated||!0;this.$23=a.show_player_ui_on_mouse_click||!1;this.$24=a.show_player_ui_on_mouse_move||!1;this.$25=a.show_player_ui_on_touch_start||!1;this.$11=a.auto_play_experience;this.$16=a.casting;this.$17=a.google_cast_bg;this.$29=a.condense_mode_enabled;this.$30=a.search_bar_auto_focus;this.$31=a.show_watch_icon_on_nav_bar;this.$26=a.show_splash_image==null?!0:a.show_splash_image;this.$27=a.show_splash_video==null?!0:a.show_splash_video;this.$28=a.show_keyboard==null?!1:a.show_keyboard;this.$32=a.show_small_publisher_buttons;this.$33=a.hide_play_pause_button||!1;this.$34=a.disable_exit_modal||!1;this.$35=a.show_follow_button_on_top_of_player||!1;this.$36=a.hide_info_button_at_bottom_of_player||!1;this.$37=a.hide_setting_user_profile||!1;this.$38=a.player_nav_controls_on_newline||!1;this.$39=a.exit_immidiately_without_exit_dialog||!1;this.$40=a.gate_video_chaining||!1;this.$41=a.disable_user_switching||!1;this.$42=a.hide_logout_from_settings||!1;this.$43=a.normalize_volume||!1;this.$44=a.disable_cookie_consent||!1;this.$45=a.switch_route_immediately_on_back_press||!1;this.$46=a.request_full_screen||!1;this.$47=a.enable_scrollaway_menu||!1;this.$48=a.player_control_api;this.$49=a.show_sound_button_in_player||!1;this.$50=a.do_not_show_network_dialog||!1;this.$51=a.supports_focus===void 0?!0:a.supports_focus;this.$52=a.hide_player_view_info_buttons||!1;this.$53=a.show_replay_end_screen_on_video_end||!1;this.$55=a.pmv_ad_break_video_ids||[];this.$54=a.show_oculus_deprecation_modal||!1;this.$12=new Map();var c=a.experiment_modules;c&&Object.keys(c).forEach(function(a){b.$12.set(a,c[a])})}var b=a.prototype;b.getAllowDeepLink=function(){return this.$1};b.getAppAPI=function(){return this.$2};b.getAppPlatform=function(){return this.$3};b.getCommunicationModules=function(){return this.$4};b.getRemoteControl=function(){return this.$5};b.getVideoPlayer=function(){return this.$6};b.getInjectedComponents=function(){return this.$7||[]};b.getInitialPayload=function(){return this.$8||null};b.getClientToken=function(){return this.$9};b.getIsInstalledApp=function(){return this.$10};b.getTVLocale=function(){return this.$13};b.getTouchEnabled=function(){return this.$14};b.getCursorEnabled=function(){return this.$15};b.getShowBackButton=function(){return this.$18};b.getShowBackToNewsFeed=function(){return this.$19};b.getUseSmallProfilePicture=function(){return this.$20};b.getShowDeprecateNotice=function(){return this.$21};b.getAppIsDeprecated=function(){return this.$22};b.getShowPlayerUIOnMouseClick=function(){return this.$23};b.getShowPlayerUIOnMouseMove=function(){return this.$24};b.getShowPlayerUIOnTouchStart=function(){return this.$25};b.getShowSplashImage=function(){return this.$26};b.getShowSplashVideo=function(){return this.$27};b.getShowSoftwareKeyboard=function(){return this.$28};b.getAutoPlayExperience=function(){return this.$11};b.getIsCasting=function(){return this.$16};b.getIsGoogleCastBg=function(){return this.$17};b.getCondenseModeEnabled=function(){return this.$29};b.getSearchBarAutoFocus=function(){return this.$30};b.getShowWatchIconOnNavBar=function(){return this.$31};b.getShowSmallPublisherButtons=function(){return this.$32};b.getHidePlayPauseButton=function(){return this.$33};b.getDisableExitModal=function(){return this.$34};b.getShowFollowButtonOnTopOfPlayer=function(){return this.$35};b.getHideInfoButtomAtBottomOfPlayer=function(){return this.$36};b.getHideSettingUserProfile=function(){return this.$37};b.getIncludeVideoMetadataInMessage=function(){return"portal"===this.$3||"android"===this.$3||"amazon"==this.$3||"xbox"==this.$3||"lg"==this.$3};b.getPlayerNavControlsOnNewline=function(){return this.$38};b.getExitImmediatelyWithoutExitDialog=function(){return this.$39};b.getGateVideoChaining=function(){return this.$40};b.getDisableUserSwitching=function(){return this.$41};b.getHideLogoutFromSettings=function(){return this.$42};b.getNormalizeVolume=function(){return this.$43};b.getDisableCookieConsent=function(){return this.$44};b.getSwitchRouteImmediatelyOnBackPress=function(){return this.$45};b.getRequestFullScreen=function(){return this.$46};b.getEnableScrollawayMenu=function(){return this.$47};b.getPlayerControlAPI=function(){if(this.$48)return new this.$48();else return null};b.getShowSoundButtonInPlayer=function(){return this.$49};b.getExperimentModule=function(a){return!this.$12.has(a)?null:this.$12.get(a)};b.getDoNotShowNetworkDialog=function(){return this.$50};b.getSupportsFocus=function(){return this.$51};b.getHidePlayerViewInfoButtons=function(){return this.$52};b.getShowReplayEndScreenOnVideoEnd=function(){return this.$53};b.getShowOculusDeprecationModal=function(){return this.$54};b.getPmvAdBreakVideoIds=function(){return this.$55};return a}();f["default"]=a}),66);
__d("TVWebAppGlobals",["invariant","Promise","TVBaseAppAPI","TVCommunicationsManager","TVRemoteControlManager","TVVersionManager","TVWebAppSettings","performanceAbsoluteNow"],(function(a,b,c,d,e,f,g,h){d=function(){function d(){var d=this;this.$1=new(c("TVWebAppSettings"))({});this.$2=null;this.$3=null;this.$4=function(){};this.$5=null;this.$6=0;this.$7=!1;this.$8=!1;this.$9=null;this.$6=a.performance?a.performance.timing.navigationStart:c("performanceAbsoluteNow")();this.$3=new(b("Promise"))(function(a){d.$4=function(){return a(d)}})}var e=d.prototype;e.init=function(a){var b;this.$1=new(c("TVWebAppSettings"))(a);this.$8=(b=a.use_message_bus)!=null?b:!1;b=new(c("TVCommunicationsManager"))(this.$1);this.$2=b;this.$2.init();var d=new(c("TVVersionManager"))(b);this.$9=d;b.setMessageHandler("version",this.$9);this.$7=a.show_akira_tv;this.$5=new(c("TVRemoteControlManager"))(this.$1);this.$5.init()};e.experienceIsReady=function(){this.$4()};e.onExperienceReady=function(){this.$3!=null||h(0,54358);return this.$3};e.getAppAPI=function(){var a=this.$1.getAppAPI();return a!=null?new a():new(c("TVBaseAppAPI"))()};e.getAppSettings=function(){return this.$1};e.getCommunicationsManager=function(){this.$2!=null||h(0,54355);return this.$2};e.getRemoteControlManager=function(){this.$5!=null||h(0,54356);return this.$5};e.getSessionStartTimeMS=function(){return this.$6};e.getHasMessageBus=function(){return this.$8};e.getShowAkiraTV=function(){return this.$7};e.getVersionManager=function(){this.$9!=null||h(0,54357);return this.$9};return d}();e=new d();f=e;g["default"]=f}),98);
__d("TVExperienceCommandResponseMessage",["TVOutgoingMessage"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c,d){c=a.call(this,c,d)||this;c.commandResults=b;return c}var c=b.prototype;c.getMessageType=function(){return"command_result"};c.serializeData=function(){return this.commandResults};b.successResponse=function(a){return{success:!0,reason:null,type:null,activation_code:null,reference_id:a}};b.failedResponse=function(a,b){return{success:!1,reason:b,type:a,reference_id:null}};b.requireActivationResponse=function(a){return{success:!1,reason:"",type:"code_activation",reference_id:null,activation_code:a}};return b}(c("TVOutgoingMessage"));g["default"]=a}),98);
__d("TVGenericMessage",["asyncToGeneratorRuntime"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.msg=a,this.data=a.data,this.connectionRequired=!0}a.getHandledType=function(){return""};var c=a.prototype;c.setSender=function(a){this.sender=a;return this};c.getSender=function(){return this.sender};c.getType=function(){return this.msg.type};c.getMessageNumber=function(){return this.msg.num};c.getData=function(){return this.msg.data};c.getTarget=function(){return this.msg.target||"unknown"};c.setConnection=function(a){this.connection=a;return this};c.getConnection=function(){return this.connection};c.handleResult=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){return null});function c(b,c){return a.apply(this,arguments)}return c}();c.getOperation=function(a){return a.handleGenericMessage?a.handleGenericMessage.bind(a):null};c.operate=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=this.getOperation(a);return!a?null:yield a(this)});function c(b){return a.apply(this,arguments)}return c}();c.setConnectionRequired=function(a){this.connectionRequired=a;return this};c.needsEstablishedConnection=function(){return this.connectionRequired};return a}();f["default"]=a}),66);
__d("TVExperienceCommandMessage",["TVExperienceCommandResponseMessage","TVGenericMessage","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(d,a);function d(b){b=a.call(this,b)||this;b.data.payload=b.data.payload||"";b.data.params=b.data.params||{};return b}d.getHandledType=function(){return"experience_command"};var e=d.prototype;e.getCommandName=function(){return this.data.cmd};e.getCommandPayload=function(){return this.data.payload};e.getCommandParams=function(){return this.data.params};e.getOperation=function(a){return a.handleCommand?a.handleCommand.bind(a):null};e.handleResult=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){b=new(c("TVExperienceCommandResponseMessage"))(b,this.getSender(),this.getMessageNumber());yield a.sendMessage(b)});function d(b,c){return a.apply(this,arguments)}return d}();return d}(c("TVGenericMessage"));g["default"]=a}),98);
__d("TVGetExperienceStateResponseMessage",["TVOutgoingMessage"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c,d){c=a.call(this,c,d)||this;c.commandResults=b;return c}var c=b.prototype;c.getMessageType=function(){return"experience_state"};c.serializeData=function(){return this.commandResults};b.experienceStateResponse=function(a,b){return{success:!0,reason:null,experience_type:a,experience_specific_state:b}};return b}(c("TVOutgoingMessage"));g["default"]=a}),98);
__d("TVGetExperienceStateMessage",["TVGenericMessage","TVGetExperienceStateResponseMessage","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(d,a);function d(){return a.apply(this,arguments)||this}d.getHandledType=function(){return"get_experience_state"};var e=d.prototype;e.getOperation=function(a){return a.getExperienceState?a.getExperienceState.bind(a):null};e.handleResult=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){b=new(c("TVGetExperienceStateResponseMessage"))(b,this.getSender(),this.getMessageNumber());yield a.sendMessage(b)});function d(b,c){return a.apply(this,arguments)}return d}();return d}(c("TVGenericMessage"));g["default"]=a}),98);
__d("TVLaunchResponseMessage",["TVOutgoingMessage"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c,d){c=a.call(this,c,d)||this;c.launchResults=b;return c}var c=b.prototype;c.getMessageType=function(){return"launch_response"};c.serializeData=function(){return this.launchResults};b.mergeResponse=function(a,b,c){return babelHelpers["extends"]({},a,{launched:b,target:c})};b.successResponse=function(a,b){return{success:!0,reason:null,launched:a,type:null,target:b,reference_id:null}};b.failedResponse=function(a,b){return{success:!1,reason:b,launched:null,type:a,target:null,reference_id:null}};b.requireActivationResponse=function(a){return{success:!1,reason:"",launched:null,target:null,type:"code_activation",activation_code:a,reference_id:null}};return b}(c("TVOutgoingMessage"));g["default"]=a}),98);
__d("TVLaunchMessage",["TVGenericMessage","TVLaunchResponseMessage","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(d,a);function d(){return a.apply(this,arguments)||this}d.getHandledType=function(){return"launch"};var e=d.prototype;e.getName=function(){var a;return((a=this.data)!=null?a.name:a)||""};e.canJoinExperience=function(){var a;return!!((a=this.data)!=null?a.can_join:a)};e.getExperienceParams=function(){var a;return((a=this.data)!=null?a.params:a)||{}};e.getExperiencePayload=function(){var a;return((a=this.data)!=null?a.payload:a)||null};e.getOperation=function(a){return a.handleLaunch?a.handleLaunch.bind(a):null};e.handleResult=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){b=new(c("TVLaunchResponseMessage"))(b,this.getSender(),this.getMessageNumber());yield a.sendMessage(b)});function d(b,c){return a.apply(this,arguments)}return d}();return d}(c("TVGenericMessage"));g["default"]=a}),98);
__d("TVVersionRequest",["Random","TVGenericMessage","TVVersionResponse","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(e,a);function e(b){var c;b=a.call(this,b)||this;b.clientCastSession=((c=b.data)!=null?c.client_cast_session:c)||b.$TVVersionRequest1();return b}e.getHandledType=function(){return"version_request"};var f=e.prototype;f.getTarget=function(){return"version"};f.getVersionNumber=function(){var a;return((a=this.data)!=null?a.version:a)||""};f.getClientCastSession=function(){return this.clientCastSession};f.getOperation=function(a){return a.handleVersionRequest?a.handleVersionRequest.bind(a):null};f.handleResult=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){b=new(c("TVVersionResponse"))(b,this.getSender(),this.getMessageNumber());yield a.sendMessage(b)});function d(b,c){return a.apply(this,arguments)}return d}();f.needsEstablishedConnection=function(){return!1};f.$TVVersionRequest1=function(){return"server_generated_"+d("Random").uint32()};return e}(c("TVGenericMessage"));g["default"]=a}),98);
__d("TVMessageParser",["invariant","TVExperienceCommandMessage","TVGenericMessage","TVGetExperienceStateMessage","TVLaunchMessage","TVVersionLaunchMessage","TVVersionRequest"],(function(a,b,c,d,e,f,g,h){"use strict";var i=[c("TVLaunchMessage"),c("TVVersionRequest"),c("TVVersionLaunchMessage"),c("TVExperienceCommandMessage"),c("TVGetExperienceStateMessage")];a=function(){function a(){var a=this;this.typesMap=new Map();i.forEach(function(b){a.typesMap.set(b.getHandledType(),function(a){return new b(a)})})}var b=a.prototype;b.parse=function(a){var b=this.typesMap.get(a.type);b||(b=function(a){return new(c("TVGenericMessage"))(a)});b||h(0,4373);return b(a)};return a}();b=new a();g["default"]=b}),98);
__d("TVVersionLaunchMessage",["Random","TVGenericMessage","TVLogger","TVVersionLaunchResponse","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(e,a);function e(b){var d;b=a.call(this,b)||this;b.clientCastSession=((d=b.data)!=null?d.client_cast_session:d)||((d=b.data)!=null?(d=d.payload)!=null?d.cast_session_id:d:d)||b.$TVVersionLaunchMessage1();c("TVLogger").setCastSessionID(b.clientCastSession);return b}e.getHandledType=function(){return"version_launch"};var f=e.prototype;f.getTarget=function(){return"version_launch"};f.getVersionNumber=function(){var a;return((a=this.data)!=null?a.version:a)||""};f.getClientCastSession=function(){return this.clientCastSession};f.getName=function(){var a;return((a=this.data)!=null?a.name:a)||""};f.canJoinExperience=function(){var a;return!!((a=this.data)!=null?a.can_join:a)};f.getExperienceParams=function(){var a;return((a=this.data)!=null?a.params:a)||{}};f.getExperiencePayload=function(){var a;return((a=this.data)!=null?a.payload:a)||null};f.getOperation=function(a){return b("asyncToGeneratorRuntime").asyncToGenerator(function*(){if(!a.handleVersionRequest)return{success:!1,reason:"missing version handler"};var b=(yield a.handleVersionRequest.apply(a,arguments));if(!a.handleLaunch)return{success:!1,reason:"missing launch handler"};var c=(yield a.handleLaunch.apply(a,arguments));return babelHelpers["extends"]({},b,c)})};f.handleResult=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){b=new(c("TVVersionLaunchResponse"))(b,this.getSender(),this.getMessageNumber());yield a.sendMessage(b)});function d(b,c){return a.apply(this,arguments)}return d}();f.needsEstablishedConnection=function(){return!1};f.$TVVersionLaunchMessage1=function(){return"server_generated_"+d("Random").uint32()};return e}(c("TVGenericMessage"));g["default"]=a}),98);
__d("TVVersionLaunchResponse",["SiteData","TVLogger","TVOutgoingMessage"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c,d){c=a.call(this,c,d)||this;c.result=b;return c}var d=b.prototype;d.getMessageType=function(){return"version_launch_response"};d.serializeData=function(){return this.result};d.serializeReceiverInfo=function(){return{cast_receiver_logger_session_id:c("TVLogger").getSessionID(),is_google_cast_bg:c("TVLogger").getIsGoogleCastBG()||!1,os_version:c("TVLogger").getDeviceInfo().osVersion||null,third_party_app_id:c("TVLogger").getDeviceInfo().thirdPartyAppID||null,web_client_revision:String(c("SiteData").client_revision)}};b.successResponse=function(a){return babelHelpers["extends"]({success:!0,reason:null},a)};b.failedResponse=function(a){return{success:!0,reason:a,currently_running_experience:null}};return b}(c("TVOutgoingMessage"));g["default"]=a}),98);
__d("TVRemoteControlEvent",[],(function(a,b,c,d,e,f){"use strict";var g=1;a=function(){function a(a,b){this.$1=a,this.$2=g++,this.$4=b,this.$3=Date.now(),this.$5={}}var b=a.prototype;b.getAction=function(){return this.$1};b.getID=function(){return this.$2};b.getRemoteControl=function(){return this.$4};b.getExtras=function(){return this.$5};b.setExtras=function(a){this.$5=a};return a}();a.UP="up";a.DOWN="down";a.LEFT="left";a.RIGHT="right";a.SELECT="select";a.PLAY="play";a.PAUSE="pause";a.PLAY_PAUSE="playpause";a.FAST_FORWARD="fastforward";a.REWIND="rewind";a.NEXT="next";a.PREVIOUS="previous";a.BACK="back";a.CAPTIONS="captions";a.CAPTIONS_ON="captionson";a.CAPTIONS_OFF="captionsoff";a.MORE="more";a.DEBUG="debug";a.BUG_REPORT="bugreport";a.LONG_SELECT="longselect";a.SEARCH="search";a.SCROLL_UP="scrollup";a.SCROLL_DOWN="scrolldown";a.SCROLL_LEFT="scrollleft";a.SCROLL_RIGHT="scrollright";a.SEEK="seek";a.STOP="stop";a.EXIT="exit";a.SETTINGS="settings";a.KEYBOARD_INPUT="input";a.ALL_EVENTS=["up","down","left","right","select","play","pause","playpause","fastforward","rewind","next","previous","back","captions","captionson","captionsoff","more","debug","bugreport","longselect","scrollup","scrolldown","scrollleft","scrollright","search","seek","stop","exit","settings","input"];f["default"]=a}),66);
__d("TVRemoteControlManager",["TVChainingManager","TVLogger","TVRemoteControlEvent"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){a=a.getRemoteControl();this.$1=new a()}var b=a.prototype;b.init=function(){var a=function(a){c("TVLogger").logEvent("receiver_remote_click",JSON.stringify({action:a.getAction()})),c("TVChainingManager").onRemoteButtonPress(a)},b=this.$1;b.addListener(c("TVRemoteControlEvent").UP,a);b.addListener(c("TVRemoteControlEvent").DOWN,a);b.addListener(c("TVRemoteControlEvent").LEFT,a);b.addListener(c("TVRemoteControlEvent").RIGHT,a);b.addListener(c("TVRemoteControlEvent").SELECT,a);b.addListener(c("TVRemoteControlEvent").PLAY,a);b.addListener(c("TVRemoteControlEvent").PAUSE,a);b.addListener(c("TVRemoteControlEvent").PLAY_PAUSE,a);b.addListener(c("TVRemoteControlEvent").FAST_FORWARD,a);b.addListener(c("TVRemoteControlEvent").REWIND,a);b.addListener(c("TVRemoteControlEvent").NEXT,a);b.addListener(c("TVRemoteControlEvent").PREVIOUS,a);b.addListener(c("TVRemoteControlEvent").BACK,a);b.addListener(c("TVRemoteControlEvent").CAPTIONS,a);b.addListener(c("TVRemoteControlEvent").CAPTIONS_ON,a);b.addListener(c("TVRemoteControlEvent").CAPTIONS_OFF,a);b.addListener(c("TVRemoteControlEvent").MORE,a);b.addListener(c("TVRemoteControlEvent").DEBUG,a);b.addListener(c("TVRemoteControlEvent").BUG_REPORT,a)};b.getRemoteControl=function(){return this.$1};return a}();g["default"]=a}),98);
__d("TVChainingManager",["EventEmitter","TVLogger","TVUserSessionManager","TVWebAppGlobals","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h=3;a=function(a){babelHelpers.inheritsLoose(d,a);function d(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$TVChainingManager1=!0,c.$TVChainingManager2=!1,c.$TVChainingManager3=null,c.$TVChainingManager4=!1,c.$TVChainingManager5=[],c.$TVChainingManager9=function(){return{isAutoPlayEnabled:c.isAutoPlayEnabled(),isChainingEnabled:c.isChainingEnabled()}},b)||babelHelpers.assertThisInitialized(c)}var e=d.prototype;e.isAutoPlayEnabled=function(){return this.$TVChainingManager1};e.allowChangeChainingFromUI=function(){return this.$TVChainingManager4};e.setAllowChangeChainingFromUI=function(a){this.$TVChainingManager4=a};e.isChainingEnabled=function(){return typeof this.$TVChainingManager3==="boolean"?this.$TVChainingManager3:!0};e.isChainingSettingsInitialized=function(){return this.$TVChainingManager2};e.genChainingSettings=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=c("TVUserSessionManager").getCurrentUserID();a=a==null?"device":a;var b=c("TVWebAppGlobals").getAppSettings().getPlayerControlAPI();return yield b==null?void 0:b.genAutoplaySettings(a)});function d(){return a.apply(this,arguments)}return d}();e.allowChaining=function(a){a===void 0&&(a="unknown"),this.$TVChainingManager6(!0,a),a==="settings"&&(this.$TVChainingManager2=!0,this.$TVChainingManager7(!0))};e.disableChaining=function(a){a===void 0&&(a="unknown"),this.$TVChainingManager6(!1,a),a==="settings"&&(this.$TVChainingManager2=!0,this.$TVChainingManager7(!1))};e.addToVideoHistory=function(a){var b;((b=this.$TVChainingManager5)!=null?(b=b[0])!=null?b.videoID:b:b)!==a.videoID&&(this.$TVChainingManager5.unshift(a),this.$TVChainingManager5.length>h&&(this.$TVChainingManager5.length=h),this.$TVChainingManager8("music_rights"))};e.onRemoteButtonPress=function(a){this.$TVChainingManager5.length=0,this.$TVChainingManager8("remote_button_press")};e.onReceiveClientCommand=function(a){this.$TVChainingManager5.length=0,this.$TVChainingManager8("client_command")};e.$TVChainingManager8=function(a){var b=this.$TVChainingManager1,d=!0;if(this.$TVChainingManager5.length===h){var e=this.$TVChainingManager5.every(function(a){return a.tags.includes("CONTAINS_NEARLY_COMPLETE_LICENSED")});d=!e}if(b!==d){this.$TVChainingManager1=d;e=babelHelpers["extends"]({reason:a},this.$TVChainingManager9());c("TVLogger").getLogger(d?"autoplay_enabled":"autoplay_disabled").setEventDescription(JSON.stringify(e)).log();this.emit("autoplay_changed",e)}};e.$TVChainingManager7=function(a){var b,d=c("TVUserSessionManager").getCurrentUserID();d=d==null?"device":d;(b=c("TVWebAppGlobals").getAppSettings().getPlayerControlAPI())==null?void 0:b.setAutoplaySettings(d,a)};e.$TVChainingManager6=function(a,b){if(this.$TVChainingManager3===a)return;this.$TVChainingManager3=a;a=babelHelpers["extends"]({reason:b},this.$TVChainingManager9());c("TVLogger").getLogger(this.$TVChainingManager3?"chaining_enabled":"chaining_disabled").setEventDescription(JSON.stringify(a)).log();this.emit("chaining_changed",a)};return d}(c("EventEmitter"));d=new a();e=d;g["default"]=e}),98);
__d("TVSessionStorage",["invariant","CacheStorage","TVLogger","md5"],(function(a,b,c,d,e,f,g,h){"use strict";var i=Object.freeze({ACCESS_TOKEN:"access_token",CAST_ACCESS_TOKEN:"cast_access_token",LAST_LOAD_TIME_MS:"last_load_time_ms",LOCALE:"locale",USER_SESSIONS:"user_sessions",SEARCH_TERMS:"search_terms"}),j="_ctv_",k=new(c("CacheStorage"))("localstorage",j),l=k.useBrowserStorage();a=function(){function a(){}var b=a.prototype;b.$1=function(a,b){b=k.set(a,b);(!l||!b)&&c("TVLogger").getLogger("local_storage_write_error").setEventDescription(j+a).setErrorMessage("could not write to local storage").setErrorDetails(k.getLastSetExceptionMessage()).log()};b.getAccessToken=function(){var a=k.get(i.ACCESS_TOKEN);return typeof a==="string"?a:null};b.saveAccessToken=function(a){this.$1(i.ACCESS_TOKEN,a)};b.deleteAccessToken=function(){k.remove(i.ACCESS_TOKEN)};b.getCastAccessToken=function(a){var b;a=this.hashUserId(a);b=(b=k.get(i.CAST_ACCESS_TOKEN))!=null?b:{};return b[a]};b.saveCastAccessToken=function(a,b){var c;a=this.hashUserId(a);c=(c=k.get(i.CAST_ACCESS_TOKEN))!=null?c:{};b==null?delete c[a]:c[a]=b;this.$1(i.CAST_ACCESS_TOKEN,c)};b.deleteCastAccessTokenByToken=function(a){var b,c={};b=(b=k.get(i.CAST_ACCESS_TOKEN))!=null?b:{};for(var d in b)b[d]!==a&&(c[d]=b[d]);this.$1(i.CAST_ACCESS_TOKEN,c)};b.hashUserId=function(a){a=(a=a)!=null?a:"unknown";return(a=c("md5")(a))!=null?a:"unknown"};b.getSearchTerms=function(a){var b;a=this.hashUserId(a);b=(b=k.get(i.SEARCH_TERMS))!=null?b:{};return(b=b[a])!=null?b:[]};b.saveSearchTerms=function(a,b){var c;a=this.hashUserId(a);c=(c=k.get(i.SEARCH_TERMS))!=null?c:{};b.length===0?delete c[a]:c[a]=b;this.$1(i.SEARCH_TERMS,c)};b.deleteSearchTerm=function(a){this.saveSearchTerms(a,[])};b.getLastLoadTimeMs=function(){var a=k.get(i.LAST_LOAD_TIME_MS);return a&&parseFloat(a)>0?parseFloat(a):null};b.saveLastLoadTimeMs=function(a){k.set(i.LAST_LOAD_TIME_MS,a)};b.deleteLastLoadTimeMs=function(){k.remove(i.LAST_LOAD_TIME_MS)};b.getUserLocale=function(){var a=k.get(i.LOCALE);return typeof a==="string"?a:null};b.saveUserLocale=function(a){k.set(i.LOCALE,a)};b.deleteUserLocale=function(){k.remove(i.LOCALE)};b.getUserSessions=function(){var a=k.get(i.USER_SESSIONS),b=new Map();if(typeof a==="string"&&a.trim().charAt(0)==="{"){var d=a;try{d=JSON.parse(d);if(d){var e=Object.keys(d);for(var f=0;f<e.length;f++){var g=e[f];g=d[g];g=this.$2(g);b.set(g.id,g)}}}catch(a){c("TVLogger").logError("Failed to parse user session JSON from local storage",a.message)}}else if(a&&typeof a==="object"){g=a;try{e=Object.keys(g);for(f=0;f<e.length;f++){d=e[f];a=g[d];d=this.$2(a);b.set(d.id,d)}}catch(a){c("TVLogger").logError("Failed to process user session object from local storage",a.message)}}return b};b.saveUserSessions=function(a){var b={};for(var a=a.entries(),c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;e[0];e=e[1];b[e.id]=e}k.set(i.USER_SESSIONS,b)};b.deleteUserSessions=function(){k.remove(i.USER_SESSIONS)};b.reset=function(){};b.$2=function(a){a||h(0,2078);typeof a.accessToken==="string"||h(0,12321);typeof a.id==="string"||h(0,12322);typeof a.lastSeenTime==="number"||h(0,12318);typeof a.name==="string"||h(0,12319);typeof a.profilePictureURI==="string"||h(0,12320);return a};return a}();b=new a();d=b;g["default"]=d}),98);
__d("TV2Logger",["ErrorMetadata","ErrorNormalizeUtils","ErrorPubSub","Promise","TV2LoggerDeviceUniqueID","TV2ODS","TVLogger","emptyFunction","getTV2DebugLog","setTV2Breakpoint","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h=function(a,b,d){c("TVLogger").overrideDeviceInfo(a),c("TVLogger").logEvent(b,d)},i=c("getTV2DebugLog")("[TV2Logger] ","error"),j=c("getTV2DebugLog")("[TV2Logger] ");if(j!==c("emptyFunction")){var k=h;h=function(a,b,c,d){j("logEventToBackend: "+b,{commsConnectorEvent:d,eventDescription:c,loggerDeviceInfo:a}),k(a,b,c,d)}}a=function(){function a(a){var b=a.getCommsConnectorDeviceInfo;this.$2=null;this.$1=function(){var a=b();return{appVersion:a.sdkVersion,duid:c("TV2LoggerDeviceUniqueID"),manufacturer:a.manufacturer,modelName:a.modelName,osVersion:a.osVersion,thirdPartyAppID:a.sdkAppID}}}var e=a.prototype;e.shutdownLoggerAsync=function(){if(this.$2)return this.$2;j("shutdownLoggerAsync");this.$2=b("Promise").race([b("Promise").resolve().then(function(){return c("TVLogger").shutdown()}),new(b("Promise"))(function(a){c("setTimeout")(a,3e3)})]).then(function(){j("shutdownLoggerAsync resolve")},function(){j("shutdownLoggerAsync reject")});return this.$2};e.logCommsConnectorEvent=function(a){switch(a.type){case"ready":break;case"sender_connected":h(this.$1(),"receiver_device_connected",JSON.stringify({from:a.senderID,connection_info:{ua:a.userAgent}}),a);break;case"sender_disconnected":h(this.$1(),"receiver_device_disconnected",JSON.stringify({from:a.senderID,connection_info:{ua:a.userAgent,reason:a.disconnectReason}}),a);break;case"message_sent":var b=null,c=!0;try{var e;b=(e=JSON.parse(typeof a.messageDataRaw==="string"?a.messageDataRaw:"null"))!=null?e:null;if(b!=null&&typeof b==="object"){e=function(b){switch(a.protocol){case"FBAPP_CAST_PROTOCOL":switch(b){case"status_update":return"receiver_sent_message.fbapp_cast.status_update";case"duration_change":return"receiver_sent_message.fbapp_cast.duration_change";case"experience_state":return"receiver_sent_message.fbapp_cast.experience_state";case"version_response":return"receiver_sent_message.fbapp_cast.version_response";default:return null}default:return null}}(b.type);e&&(c=!1,d("TV2ODS").bumpEntityKey(e))}}catch(a){}if(c){h(this.$1(),"receiver_sent_message",JSON.stringify({to:a.senderID,msg:{},data:(e=b)!=null?e:a.messageDataRaw}),a)}break;case"message_received":c=null;b=!0;try{c=(e=JSON.parse(typeof a.messageDataRaw==="string"?a.messageDataRaw:"null"))!=null?e:null;if(c!=null&&typeof c==="object"){e=function(b){switch(a.protocol){case"FBAPP_CAST_PROTOCOL":switch(b){case"get_experience_state":return"receiver_received_message.fbapp_cast.get_experience_state";case"version_request":return"receiver_received_message.fbapp_cast.version_request";default:return null}case"GOOGLE_CAST_MEDIA_PROTOCOL":switch(b){case"GET_STATUS":return"receiver_received_message.google_cast.GET_STATUS";default:return null}default:return null}}(c.type);e&&(b=!1,d("TV2ODS").bumpEntityKey(e))}}catch(a){}if(b){h(this.$1(),"receiver_received_message",JSON.stringify({from:a.senderID,data:(e=c)!=null?e:a.messageDataRaw}),a)}break;case"shutdown":break;default:a.type}};e.logTVEvent=function(a,b){b===void 0&&(b=null),h(this.$1(),a,b)};e.logTVError=function(a){var d,e=a.error;a=a.errorLocation;e.type="error";e.project="comet_tv_casting";d=(d=e.metadata)!=null?d:new(c("ErrorMetadata"))();var f=d.getAll().find(function(a){var b=a[0],c=a[1];a[2];return b==="COMET_VIDEO"&&c==="ERROR_LOCATION"});f=f?f[2]:void 0;f==null&&(d.addEntry("COMET_VIDEO","ERROR_LOCATION",a),f=a);e.metadata=d;a=c("ErrorNormalizeUtils").normalizeError(e);i("logTVError: "+a.message,a);b("setTV2Breakpoint")("Log error ("+f+")",a.metadata,a.stack);c("TVLogger").overrideDeviceInfo(this.$1());c("ErrorPubSub").reportNormalizedError(a)};e.overrideAccessToken=function(a){c("TVLogger").overrideAccessToken(a)};e.overrideClientAppID=function(a){c("TVLogger").overrideClientAppID(a)};e.setTvPlayerInstanceKey=function(a){c("TVLogger").setTvPlayerInstanceKey(a)};e.setTvPlayerVersion=function(a){c("TVLogger").setTvPlayerVersion(a)};e.setCastSessionID=function(a){c("TVLogger").setCastSessionID(a)};return a}();g["default"]=a}),98);
__d("exposeTV2CommsDebug",["Promise","TV2UniqueIDs","getErrorSafe"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.comms;a=a.debugConnector;window.__FB_TV_COMMS=b;a&&(window.__FB_TV_DEBUG_CONNECTOR=a)}g["default"]=a}),98);
__d("getTV2DebugConnectorEnabled",["getTV2DebuggingEnabled","getTV2QueryStringCheatcode"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("getTV2DebuggingEnabled")()&&c("getTV2QueryStringCheatcode")("tv2_debug_connector")}g["default"]=a}),98);
__d("useTV2GlobalSingletons",["ExecutionEnvironment","Promise","TV2Comms","TV2CommsChromecastV2Connector","TV2CommsDebugConnector","TV2CommsLoggerErrorGuard","TV2Logger","exposeTV2CommsDebug","getTV2DebugConnectorEnabled","setTV2Breakpoint"],(function(a,b,c,d,e,f,g){"use strict";var h=null;function i(){var a;if(h!=null)return h;b("setTV2Breakpoint")("Before Comms");var d=null;c("getTV2DebugConnectorEnabled")()&&(d=new(c("TV2CommsDebugConnector"))());var e=(a=d)!=null?a:new(c("TV2CommsChromecastV2Connector"))();a=new(c("TV2CommsLoggerErrorGuard"))(new(c("TV2Logger"))({getCommsConnectorDeviceInfo:function(){return e.getDeviceInfo()}}));var f=new(c("TV2Comms"))({connector:e,logger:a});c("exposeTV2CommsDebug")({comms:f,debugConnector:d});h={comms:f,logger:a};f.startComms();return h}c("ExecutionEnvironment").canUseDOM&&i();function a(){if(c("ExecutionEnvironment").canUseDOM)return i();throw new(b("Promise"))(function(){})}g["default"]=a}),98);
__d("useTV2Comms",["useTV2GlobalSingletons"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=c("useTV2GlobalSingletons")();a=a.comms;return a}g["default"]=a}),98);
__d("useTV2Logger",["useTV2GlobalSingletons"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=c("useTV2GlobalSingletons")();a=a.logger;return a}g["default"]=a}),98);
__d("useTV2AppControllerDefinition",["TV2AppController","TV2AppState","react","useStable","useTV2Comms","useTV2Logger"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.startTransition,i=b.useState;function a(){var a=c("useTV2Comms")(),b=c("useTV2Logger")(),e=i(d("TV2AppState").initialTV2AppState),f=e[0],g=e[1];e=c("useStable")(function(){return new(c("TV2AppController"))({comms:a,initialState:d("TV2AppState").initialTV2AppState,logger:b,scheduleSetReactState:function(a){h(function(){g(a)})}})});return{appController:e,appState:f}}g["default"]=a}),98);
__d("TV2AppEnvironment.react",["CometErrorBoundary.react","CometPlaceholder.react","CometRelayEnvironmentProvider","TV2AppControllerContext.react","TV2AppState","TV2AppStateContext.react","cr:1697896","react","useTV2AppControllerDefinition","useTV2GlobalSingletons"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useEffect;function a(a){var e=a.disconnectedScreen,f=a.loadingScreen,g=a.mainScreen,j=a.shutdownScreen;a=a.wrapWithAppShell;var k=c("useTV2AppControllerDefinition")(),l=k.appController;k=k.appState;var m=d("TV2AppState").TV2AppStateSelectors.getRelayEnvironment(k),n=c("useTV2GlobalSingletons")(),o=n.comms;i(function(){return o.attachApp(l)},[o,l]);var p;if(m!=null)p=g;else switch(k.lifecycleState){case"before_first_experience":p=f;break;case"running":p=e;break;case"shutdown":p=j;break;default:k.lifecycleState;p=f;break}n=b("cr:1697896")&&k.debugOverlayEnabled?h.jsx(c("CometErrorBoundary.react"),{description:"TV2AppDebugOverlayErrorBoundary",children:h.jsx(c("CometPlaceholder.react"),{fallback:null,children:h.jsx(c("TV2AppControllerContext.react").Provider,{value:l,children:h.jsx(c("TV2AppStateContext.react").Provider,{value:k,children:h.jsx(b("cr:1697896"),{relayEnvironmentFromAppEnvironment:m})})})})}):null;p=h.jsx(c("TV2AppControllerContext.react").Provider,{value:l,children:h.jsx(c("TV2AppStateContext.react").Provider,{value:k,children:p})});m!=null&&(p=h.jsx(c("CometRelayEnvironmentProvider"),{environment:m,children:p}));a&&(p=a(p));return h.jsxs(h.Fragment,{children:[h.jsx(c("CometPlaceholder.react"),{fallback:h.jsx(c("TV2AppControllerContext.react").Provider,{value:l,children:h.jsx(c("TV2AppStateContext.react").Provider,{value:k,children:f})}),children:p}),n]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("TV2CastingInstructionsText.react",["fbt","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function j(){return i.jsx("svg",{className:"x3nfvp2 xlzyvqe xdj266r x18gu03p xat24cr xx6rboh xxymvpz x1n3ixbd",viewBox:"0 0 70 55",children:i.jsx("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1",children:i.jsx("g",{fill:"#FFFFFF",transform:"translate(-685.000000, -693.000000)",children:i.jsx("g",{transform:"translate(682.000000, 681.000000)",children:i.jsx("path",{d:"M47.5,58.5833333 L68.875,58.5833333 C71.0615833,58.5833333 72.8333333,56.8115833 72.8333333,54.625 L72.8333333,16.625 C72.8333333,14.4384167 71.0615833,12.6666667 68.875,12.6666667 L7.125,12.6666667 C4.93841667,12.6666667 3.16666667,14.4384167 3.16666667,16.625 L3.16666667,54.625 C3.16666667,56.8115833 4.93841667,58.5833333 7.125,58.5833333 L28.5,58.5833333 L28.5,63.3333333 L47.5,63.3333333 L47.5,58.5833333 Z M9.10416667,17.4166667 L66.8958333,17.4166667 C67.5513333,17.4166667 68.0833333,17.9486667 68.0833333,18.6041667 L68.0833333,52.6458333 C68.0833333,53.3013333 67.5513333,53.8333333 66.8958333,53.8333333 L9.10416667,53.8333333 C8.44866667,53.8333333 7.91666667,53.3013333 7.91666667,52.6458333 L7.91666667,18.6041667 C7.91666667,17.9486667 8.44866667,17.4166667 9.10416667,17.4166667 Z M19,63.3333333 L57,63.3333333 C57.874,63.3333333 58.5833333,64.0426667 58.5833333,64.9166667 C58.5833333,65.7906667 57.874,66.5 57,66.5 L19,66.5 C18.126,66.5 17.4166667,65.7906667 17.4166667,64.9166667 C17.4166667,64.0426667 18.126,63.3333333 19,63.3333333 Z"})})})})})}j.displayName=j.name+" [from "+f.id+"]";function a(){var a=i.jsx(j,{});return h._("Tap the {tvIcon} to play videos on your TV.",[h._param("tvIcon",a)])}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("TV2SplashAppLogoIcon.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(){return h.jsx("svg",{className:"xht52j2 xhb4paw",viewBox:"0 0 128 128",children:h.jsx("path",{className:"xe3v8dz",d:"M128,64 C128,28.65375 99.34625,0 64,0 C28.65375,0 0,28.65375 0,64 C0,95.94425 23.403875,122.42125 54,127.2225 L54,82.5 L37.75,82.5 L37.75,64 L54,64 L54,49.9 C54,33.86 63.55475,25 78.17375,25 C85.175875,25 92.5,26.25 92.5,26.25 L92.5,42 L84.42975,42 C76.479375,42 74,46.933375 74,51.994625 L74,64 L91.75,64 L88.9125,82.5 L74,82.5 L74,127.2225 C104.596125,122.42125 128,95.94425 128,64"})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("TV2SplashScreenLayout.react",["react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={root:{alignItems:"x6s0dn4",bottom:"x1ey2m1c",boxSizing:"x9f619",display:"x78zum5",end:"xds687c",flexDirection:"xdt5ytf",justifyContent:"xl56j7k",position:"x10l6tqk",start:"x17qophe",textAlign:"x2b8uid",top:"x13vifvy",$$css:!0},rootBackgroundOverlayOnMedia:{backgroundColor:"xrmyhay",$$css:!0},rootBackgroundSolid:{backgroundColor:"x443n21",$$css:!0}};function a(a){var b=a.background;b=b===void 0?"transparent":b;a=a.children;return h.jsx("div",{className:c("stylex")(i.root,b==="solid"&&i.rootBackgroundSolid,b==="overlay-on-media"&&i.rootBackgroundOverlayOnMedia),children:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("TV2ErrorScreen.react",["fbt","ErrorNormalizeUtils","TV2CastingInstructionsText.react","TV2SplashAppLogoIcon.react","TV2SplashScreenLayout.react","TetraTextPairing.react","getTV2DebuggingEnabled","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function j(a){a=a.debugError;if(!c("getTV2DebuggingEnabled")())return null;var b=c("ErrorNormalizeUtils").normalizeError(a);return i.jsxs("div",{className:"x1603h9y x35std3 x1tfhste xeatkqw x1ks1olk xdpxx8g",children:["[FB-Only] ",b.message,a.stack!=null?i.jsxs(i.Fragment,{children:[i.jsx("br",{}),a.stack.split("\n").slice(1,6).map(function(a){return a.replace(/\s+\(.+/,"")}).map(function(a,b){return i.jsxs(i.Fragment,{children:[i.jsx("br",{}),a]},b)})]}):null,a.componentStack!=null?i.jsxs(i.Fragment,{children:[i.jsx("br",{}),a.componentStack.split("\n").slice(1,6).map(function(a){return a.replace(/\s+\(.+/,"")}).map(function(a,b){return i.jsxs(i.Fragment,{children:[i.jsx("br",{}),a]},b)})]}):null]})}j.displayName=j.name+" [from "+f.id+"]";function a(a){var b=a.canCastAgain;a=a.debugError;return i.jsxs(c("TV2SplashScreenLayout.react"),{children:[i.jsx("div",{className:"xieb3on",children:i.jsx(c("TV2SplashAppLogoIcon.react"),{})}),i.jsx(c("TetraTextPairing.react"),{body:b?i.jsx(c("TV2CastingInstructionsText.react"),{}):null,headline:h._("Sorry, we're having trouble with playing this video."),level:1,textAlign:"center"}),i.jsx(j,{debugError:a})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("TV2IdleScreen.react",["TV2SplashAppLogoIcon.react","TV2SplashScreenLayout.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(){return h.jsx(c("TV2SplashScreenLayout.react"),{children:h.jsx("div",{className:"",children:h.jsx(c("TV2SplashAppLogoIcon.react"),{})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("TV2SplashLoadingIndicator.react",["react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={loadingDot:{animationDuration:"xadepqc",animationIterationCount:"xa4qsjk",animationName:"x1x7tjsl",animationTimingFunction:"x89x56o",backgroundColor:"x14hiurz",borderTopStartRadius:"xlid4zk",borderTopEndRadius:"x13tp074",borderBottomEndRadius:"x1qns1p2",borderBottomStartRadius:"xipx5yg",height:"xx3o462",left:"xu96u03",position:"x10l6tqk",top:"x13vifvy",width:"x1a00udw",$$css:!0},loadingDot1:{animationDelay:"x1uzojwf",$$css:!0},loadingDot2:{animationDelay:"xg7vk9v",$$css:!0},loadingDot3:{animationDelay:"x13i5ccm",$$css:!0},loadingDotsContainer:{position:"x1n2onr6",$$css:!0},loadingDotsContainerHidden:{visibility:"xlshs6z",$$css:!0}};function a(a){a=a.isVisible;return h.jsxs("div",{className:c("stylex")(i.loadingDotsContainer,!a&&i.loadingDotsContainerHidden),children:[h.jsx("div",{className:"xadepqc xa4qsjk x1x7tjsl x89x56o x14hiurz xlid4zk x13tp074 x1qns1p2 xipx5yg xx3o462 xu96u03 x10l6tqk x13vifvy x1a00udw x1uzojwf"}),h.jsx("div",{className:"xadepqc xa4qsjk x1x7tjsl x89x56o x14hiurz xlid4zk x13tp074 x1qns1p2 xipx5yg xx3o462 xu96u03 x10l6tqk x13vifvy x1a00udw xg7vk9v"}),h.jsx("div",{className:"xadepqc xa4qsjk x1x7tjsl x89x56o x14hiurz xlid4zk x13tp074 x1qns1p2 xipx5yg xx3o462 xu96u03 x10l6tqk x13vifvy x1a00udw x13i5ccm"})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("TV2LoadingScreen.react",["TV2SplashAppLogoIcon.react","TV2SplashLoadingIndicator.react","TV2SplashScreenLayout.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(){return h.jsxs(c("TV2SplashScreenLayout.react"),{children:[h.jsx("div",{className:"x1hq5gj4",children:h.jsx(c("TV2SplashAppLogoIcon.react"),{})}),h.jsx(c("TV2SplashLoadingIndicator.react"),{isVisible:!0})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useTV2AppState",["TV2AppStateContext.react","react","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useContext;function a(){var a=h(c("TV2AppStateContext.react"));if(a==null)throw c("unrecoverableViolation")("useTV2AppState is called outside of TV2AppEnvironment","comet_tv_casting");return a}g["default"]=a}),98);
__d("TV2ShutdownScreen.react",["TV2AppState","TV2SplashAppLogoIcon.react","TV2SplashScreenLayout.react","react","stylex","useTV2AppState"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={logoContainer:{$$css:!0},logoContainerAnimateDisappear:{animationDuration:"xdz8niu",animationFillMode:"x10e4vud",animationName:"xai0cii",animationTimingFunction:"xa3vuyk",$$css:!0}};function a(){var a=c("useTV2AppState")();a=d("TV2AppState").TV2AppStateSelectors.getExperimentsConfig(a);a=a.shutdown_sequence_enabled;return h.jsx(c("TV2SplashScreenLayout.react"),{children:h.jsx("div",{className:c("stylex")(i.logoContainer,a&&i.logoContainerAnimateDisappear),children:h.jsx(c("TV2SplashAppLogoIcon.react"),{})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("TV2MainReactRoot.react",["CometErrorBoundary.react","CometPlaceholder.react","CometTheme.react","RecoverableViolationWithComponentStack.react","TV2AppEnvironment.react","TV2ErrorScreen.react","TV2IdleScreen.react","TV2LoadingScreen.react","TV2ShutdownScreen.react","deferredLoadComponent","react","requireDeferredForDisplay","setTV2Breakpoint"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=c("deferredLoadComponent")(c("requireDeferredForDisplay")("TV2AppRoot.react").__setRef("TV2MainReactRoot.react"));function j(a){a=a.children;return h.jsx(c("CometTheme.react"),{theme:"dark",children:h.jsx("div",{className:"x443n21 x1ey2m1c xzsf02u x1dr59a3 xu96u03 xixxii4 x3m8u43 x13vifvy xn9wirt x1vjfegm",id:"facebook-tv-cast-app",children:a})})}j.displayName=j.name+" [from "+f.id+"]";function a(a){var d=a.authenticated,e=a.debugging;a=a.wrapWithAppShell;return h.jsx(j,{children:h.jsx(c("CometErrorBoundary.react"),{fallback:function(a){return h.jsx(c("TV2ErrorScreen.react"),{canCastAgain:!1,debugError:a})},onError:function(a){b("setTV2Breakpoint")("ErrorBoundary "+a.stack)},children:h.jsxs(c("CometPlaceholder.react"),{fallback:h.jsx(c("TV2LoadingScreen.react"),{}),children:[h.jsx(c("TV2AppEnvironment.react"),{disconnectedScreen:h.jsx(c("TV2IdleScreen.react"),{}),loadingScreen:h.jsx(c("TV2LoadingScreen.react"),{}),mainScreen:h.jsx(i,{}),shutdownScreen:h.jsx(c("TV2ShutdownScreen.react"),{}),wrapWithAppShell:a}),d?h.jsx(c("RecoverableViolationWithComponentStack.react"),{errorMessage:e?"You are authenticated, and this is different from the Chromecast environment. Prefer incognito mode for development.":"Unexpected authenticated user while not debugging.",projectName:"comet_tv_casting"}):null]})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("TVCastWebAppCometRoot.react",["TV2MainReactRoot.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return h.jsx(c("TV2MainReactRoot.react"),{authenticated:a.props.routeProps.authenticated===!0,debugging:a.props.routeProps.debugging===!0})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);